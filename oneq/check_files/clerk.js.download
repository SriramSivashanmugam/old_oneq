/*
 * Clerk.js v2 - 89792e4 - 176
 * (c) 2011-2021 Clerk.io ApS
 * https://clerk.io
 */
!function(){var e,C,o,s,p=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},M=[].slice;function t(){var e,n,t;for(e in this._clerk=!0,this._event_handlers={"*":[]},n=function(){var e=Array.prototype.slice.call(arguments),t=e[0];if(e=e.slice(1),n[t])return n[t].apply(n,e)},this)t=this[e],n[e]=t;return n}t.prototype.config=function(e,t){var n,r,i,o,s,l,a,c,u,h;switch(this._config||(this._config={}),c=function(e,t,n){var r,i,o,s;if(0<=p.call(e,"."))return s=e.split(/\.(.+)/),c(s[1],t,n[s[0]]);if(("visitor"===e&&null!=t||"visitor"===e&&null===t)&&h.lib("storage").set("clerk-visitor-id",t),"object"!=typeof t||"visitor"===e)return n[e]=t;for(r in n[e]||(n[e]={}),o=[],t)i=t[r],o.push(n[e][r]=i);return o},s=(h=this).lib("logger"),typeof e){case"object":for(i in s.log("Updated configuration",e),e)u=e[i],c(i,u,this._config);break;case"string":if(!t){for(r=0,o=(l=e.split(".")).length;r<o;r++)n=l[r],a?a[n]:a=this._config[n];return a}s.log("Updated configuration",{key:e,value:t}),c(e,t,this._config)}if(this._config.collect_email)return this.collect_emails()},t.prototype.content=function(){var t,e,n,r,i,o,s,l,a,c=arguments[0],u=arguments[1],h=3<=arguments.length?M.call(arguments,2):[],p=this.lib("dom"),d=this.lib("content"),f=this.lib("ui.content.exclude"),g=this.lib("ui.content.splittest"),m=this.lib("ui.content.exit"),v=this.lib("ui.content.livesearch"),_=this.lib("ui.content.search"),y=this.lib("ui.content.facets"),w=this.lib("ui.content.visitor"),b=this.lib("ui.slider"),k=this.lib("ui.popup"),x={};for(u&&"object"==typeof u&&(x=u,u=void 0),t=[],s=p.find(c),a=this,e=function(e){var c;return d.is_content(e)?t.push(d.get(e)):((c=d.create(e)).model(x),null!=c.model("exclude-from")&&f.create(c),null!=c.model("split-test")&&g.create(c),null==c.model("bind-live-search")&&null==c.model("instant-search")||v.create(c),null!=c.model("query")&&_.create(c),null!=c.model("exit-intent")&&m.create(c),null!=c.model("facets-target")&&y.create(c),null==c.model("show")&&null==c.model("hide")||w.create(c),c.on("*").then(function(e,r){var i,o,t,n=a._event_handlers,s=[];for(t in n)o=n[t],t===e?s.push(function(){for(var e=[],t=0,n=o.length;t<n;t++)!(i=o[t]).css_selector||c.element.matches(i.css_selector)?e.push(i.callback(C(c),r)):e.push(void 0);return e}()):s.push(void 0);return s}),c.on("rendered").then(function(){for(var e,t,n,r,i,o,s=p.find(".clerk-slider",c.target._element),l=0,a=s.length;l<a;l++)o=s[l],b.create(o);for(i=[],e=0,t=(r=p.find(".clerk-popup",c.target._element)).length;e<t;e++)n=r[e],i.push(k.create(n));return i}),c.reload(),t.push(c))},n=0,i=s.length;n<i;n++)e(s[n]);if(u)for(r=0,o=t.length;r<o;r++){if(l=t[r],l=C(l),"function"!=typeof u)return void l[u].apply(l,h);u(l)}return t},t.prototype.visitor=function(e,t,n,r){var i=this.lib("visitor").get();switch(e){case"id":return t(i.id);case"attr":return"function"==typeof n?n(i.attr(t)):i.log_attr(t,n);case"event":return"function"==typeof r?r(i.event(e=t,n)):"function"==typeof n?n(i.event(e=t,null)):i.log_event(e=t,n);case"match":return n(i.eval(t))}},t.prototype.on=function(e,t,n){var r,i;return n?(i=t,r=n):(r=t,i=null),this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push({css_selector:i,callback:r})},t.prototype.ui=function(e,t,n){var r,i,t=this.lib("dom").find(t)[0];switch(e){case"popup":r=this.lib("ui.popup"),i=o;break;case"slider":r=this.lib("ui.slider"),i=s}if(t=i(r.create(t)),"function"==typeof n)return n(t);t[n]()},t.prototype.click=function(e,t){var n,r,i,o,s,l,a,c,u,h,p,d,f=this.lib("api"),g=this.lib("logger");if(null!=e&&null!=t)p=e,f.call("log/click",{product:p,labels:(h=t).labels,api:h.api,n:h.n,external:h.external}).then(function(){return g.log("Logged click on Clerk.io product",{product:p,metadata:h})});else if(null!=e)for(e=e,o=0,l=(d=(n=this.lib("dom")).find(e)).length;o<l;o++)for(r=d[o],p=r.data("clerk-product-id"),i=function(t,n){if(t&&!n.data("clerk-click-tracking-added"))return n.on("click").then(function(e){if(null==n.data("__clerk-has-continued"))return n.data("__clerk-has-continued",!0),t!==parseInt(t)&&(t=t.toString()),f.call("log/click",{product:t}),g.log("Clicked on Clerk.io product",{product:t})}),n.data("clerk-click-tracking-added",!0)},s=0,a=(u=n.find('a, button, *[onclick], input[type="button"], input[type="submit"]',r.raw())).length;s<a;s++)c=u[s],i(p,c)},t.prototype.call=function(e,t,n,r){return null==t&&(t={}),t=this.lib("api").call(e,t),null!=n&&t.then(n),null!=r&&t.catch(r),t},t.prototype.lib=function(e,t){return this._libs||(this._libs={}),t?this._libs[e]=t:this._libs[e]},t.prototype.event_handlers=function(e){var t,n,r,i,o;if(!this._event_handlers[e])return[];for(n=[],r=0,i=(o=this._event_handlers[e]).length;r<i;r++)t=o[r],n.push(t.callback);return n},t.prototype.cart=function(e,t){var n=this.lib("api"),r=this.lib("logger");switch(e){case"add":return n.call("log/basket/add",{product:t}),r.log("Added product to cart.",{product:t});case"remove":return n.call("log/basket/remove",{product:t}),r.log("Removed product from cart.",{product:t});case"set":return n.call("log/basket/set",{products:t}),r.log("Cart set.",{products:t});default:return r.error('Action was not recognised, allowed actions is "add", "remove" and "set"',{action:e,products:t})}},t.prototype.collect_emails=function(){var e,t,n,r,i,o,s,l=this.lib("logger"),a=this.lib("dom");for(l.log("Automatic e-mail collection is activated."),s=this,o=function(e){e=e.value();if(null!=e&&0<e.indexOf("@")&&0<e.indexOf("."))return s.call("log/email",{email:e})},i=[],t=0,n=(r=a.find("input")).length;t<n;t++)e=r[t],i.push(function(t){return function(e){return t._email_timeout=null,e.on("keyup").then(function(){return clearTimeout(this._email_timeout),this._email_timeout=setTimeout(function(){return o(e)},2500)}),e.on("blur").then(function(){return clearTimeout(this._email_timeout),this._email_timeout=setTimeout(function(){return o(e)},100)})}}(this)(e));return i},e=t,C=function(n){return{id:n.ident,element:n.element.raw(),param:function(e,t){return void 0!==t||"object"==typeof e?(n.model(e,t),n.reload()):n.model(e)},more:function(e){var t=n.model("limit");return null==t&&(t=e),(null==e||e<=0)&&(e=Math.min(Math.max(t,10),100)),n.model("limit",t+e),n.reload()}}},o=function(e){return{show:function(){return e.show()},hide:function(){return e.hide()}}},s=function(e){return{next:function(){return e.next()},prev:function(){return e.prev()}}},window.Clerk._clerk?console.error("[Clerk.js] Clerk.js is loaded more than one time on this page!"):window.Clerk=new e}.call(this),function(){var h=window.Clerk;h.lib("api",{call:function(t,n){var r,e,i,o,s,l,a,c,u;return null==n&&(n={}),a=h.lib("q"),e=h.lib("dom"),i=h.lib("json"),o=h.lib("logger").component("API"),n.key||(n.key=h.config("key")),(u=h.config("visitor"))&&(n.visitor=u),(u=h.config("language"))&&!n.language&&(n.language=u),(u=h.config("debug")).collect&&"log"===u.level&&(n.debug=!0),n._=Math.round((new Date).getTime()/1e3),r=a.defer(),s="http:"===document.location.protocol?"http":"https",l=h.config("proxy"),c=new Date/1e3,e.jsonp(s+"://"+l+"/"+t,{payload:i.encode(n)}).then(function(e){return"object"==typeof e&&"error"===e.status?(o.error(e.message,{api:t,args:n,response:e,protocol:s,proxy:l,time:new Date/1e3-c}),r.reject(e)):(o.log("Recieved API response.",{api:t,args:n,response:e,time:new Date/1e3-c}),r.resolve(e))}).catch(function(){return o.error("Failed API call!",{api:t,args:n,time:new Date/1e3-c}),r.reject()}),r.promise}})}.call(this),function(){var w,n,b,r,i,o,k,s,l,a=[].slice,u=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};function e(e){var t,n;if(this.element=e,t=w.lib("dom"),n=w.lib("logger"),this._event_handlers={"*":[]},e=this.element.data(),this._api=s(e,"api"),this._template=s(e,"template"),this._target=s(e,"target"),this.target=this._target?t.find(this._target)[0]:this.element,this._model=e,this._template)if("@"===this._template[0])this.model("template",this._template.slice(1)),this._template=null;else{try{this._template=t.find(this._template)[0].raw().innerHTML}catch(e){n.error("Content: Could not find local template",{exception:e,templateSelector:this._template})}this.model("template",null),this.model("attributes",o(this._template))}else this._template=this.element.raw().innerHTML,this.model("attributes",o(this._template));null==this.element.attribute("id")&&this.element.attribute("id",null!=this.model("template")?this.model("template"):"clerk-content-"+e["clerk-content-id"]),this.ident=this.element.attribute("id"),this.logger=n.component("Content "+this.ident),this.logger.log("Content initiated.")}w=window.Clerk,r={},i=1,w.lib("content",{create:function(e){var t=i++;return e.data("clerk-content-id",t),e=new n(e),r[t]=e},get:function(e){e=e.data("clerk-content-id");if(e in r)return r[e]},is_content:function(e){return null!=e.data("clerk-content-id")}}),e.prototype.model=function(e,t){var n,r,i;if("object"!=typeof e)return null===t?(null!=(r=this.logger)&&r.log("Parameter '"+e+"' deleted."),delete this._model[e],this.broadcast("model",{key:t})):null!=t?(null!=(i=this.logger)&&i.log("Parameter '"+e+"' updated.",{param:e,value:t}),this._model[e]=t,this.broadcast("model",{key:t})):e?this._model[e]:this._model;for(e in null!=(i=this.logger)&&i.log("Parameters updated.",{params:e}),n=e)null===(t=n[e])?delete this._model[e]:this._model[e]=t;return this.broadcast("model",n)},e.prototype.on=function(e){var t=w.lib("q").defer();return this._event_handlers[e]||(this._event_handlers[e]=[]),this._event_handlers[e].push(function(){var e=1<=arguments.length?a.call(arguments,0):[];return t.resolve.apply(t,e)[0]}),t.promise},e.prototype.broadcast=function(e,t){for(var n=this._event_handlers["*"],r=0,i=(n=this._event_handlers[e]?n.concat(this._event_handlers[e]):n).length;r<i;r++)if(!1===(0,n[r])(e,t))return!1;return!0},e.prototype.reload=function(){var e,t=w.lib("q").defer();return this.update().then((e=this,function(){return e.render(),t.resolve()}),function(e){return t.reject(e)}),t.promise},e.prototype.update=function(){var t,n,r,e=w.lib("q"),i=w.lib("api"),o=e.defer();return this.broadcast("update")&&(this.logger.log("Update main products.",{api:this._api,args:this.model()}),t=+new Date,this.latest_version=t,i.call(this._api||"",l(this.model())).then(function(e){if(!(t<r.latest_version)&&r.broadcast("response",e))return r._response=e,o.resolve(e)},(n=r=this,function(e){return n.broadcast("response",e),o.reject(e)}))),o.promise},e.prototype.render=function(){var e,i,t,n,r,o,s,l,a,c,u,h,p,d,f,g,m,v,_,y;if(this.broadcast("render")&&(t=w.lib("dom"),y=w.lib("template"),v=this._response)){if(g=v.product_data?function(){for(var e=v.product_data,t=[],n=0,r=e.length;n<r;n++)i=e[n],t.push(i);return t}():[],!(-1<(_=v.template||this._template).indexOf("#if ")||-1<_.indexOf("#is ")||-1<_.indexOf("#each "))){for(p=[],o=0,l=(d=b(_)).length;o<l;o++)h=d[o],c=_.substring(h.start,h.end),f=/\{%\s*for\s+(\S+)\s+in\s+products\s*%\}/.exec(c)[1],f=(h=/<+\w+((\s+\w+(\s*=\s*(?:".*?"|'.*?'|[\^'">\s]+))?)+\s*|\s*)?>/.exec(c)[0]).replace(">",' data-clerk-product-id = "{{ '+f+'.id }}">'),p.push({original:c,replacement:c.replace(h,f)});for(s=0,a=p.length;s<a;s++)m=p[s],_=_.replace(m.original,m.replacement);u=this.model(),n=w("config","formatters"),r=w("config","globals"),k(e={},v.content_data),k(e,v),k(e,u),k(e,r),k(e,n),e.products=g,e.response=v,e.content=u,e.content.id=this.ident,e.formatters=n,e.globals=r,this.logger.log("Render content template.",{template:_,context:e}),n=y.compile(_,n)(e);try{this.target.html(n)}catch(e){this.logger.error("Could not find target for template \n",{args:e})}return null!=v.content_styling&&t.css(v.content_styling),w("click","*[data-clerk-product-id]"),this.broadcast("rendered",e)}this.logger.error("Unsupported template language!",{more_info:"The formatting language used in this looks like a Clerk.js v1 style template which is not compatible with Clerk.js v2. Please see https://docs.clerk.io/docs/clerkjs-template-language for more info on the template language used by Clerk.js v2.",template:_})}},n=e,k=function(e,t){var n,r,i=[];for(n in t)r=t[n],e[n]?i.push(void 0):i.push(e[n]=r);return i},l=function(e){var t,n,r,i,o,s,l,a,c,u,e=JSON.parse(JSON.stringify(e));if(null!=e.categories&&"object"==typeof e.categories){for(t=[],r=0,o=(c=e.categories).length;r<o;r++)n=c[r],t.push(n.id);e.categories=t}if(null!=e.pages&&"object"==typeof e.pages){for(l=[],i=0,s=(u=e.pages).length;i<s;i++)a=u[i],l.push(a.id);e.pages=l}return e},b=function(e){for(var t,n,r,i,o,s,l=function(e,t){for(var n,r=[];n=t.exec(e);)r.push({start:n.index,end:n.index+n[0].length});return r},a=l(e,/\{%\s*for\s+(\S+)\s+in\s+(\S+)\s*%\}/g),c=l(e,/\{%\s*endfor\s*%\}/g),u=l(e,/\{%\s*for\s+(\S+)\s+in\s+products\s*%\}/g),h=[],p=0,d=u.length;p<d;p++)for(o=u[p],n=t=0,r=c.length;n<r;n++)if(i=c[n],0<t?--t:i.start>o.start&&(t+=function(){for(var e=[],t=0,n=a.length;t<n;t++)(s=a[t]).start>o.start&&s.start<i.start&&e.push(s);return e}().length),i.start>o.start&&0===t){h.push({start:o.start,end:i.end});break}return h},o=function(e){for(var t,n,r,i,o,s=["id"],l=w.lib("template").attributes(e),a=0,c=l.length;a<c;a++)for(i=(t=l[a]).split(".")[1];i;)s.push(i),i=i.split(".")[1];for(o=[],n=0,r=s.length;n<r;n++)t=s[n],u.call(o,t)<0&&o.push(t);return o},s=function(e,t){var n=e[t];return delete e[t],n}}.call(this),function(){var s,r,a=window.Clerk,l=window.performance?window.performance.timing.domInteractive:Date.now(),c=Math.floor(1e8*Math.random()),u=window.location.href,h=navigator.userAgent;a.lib("logger",{log:function(e,t){return r("log",e,t)},warn:function(e,t){return r("warn",e,t)},error:function(e,t){return r("error",e,t)},component:function(n){return{log:function(e,t){return r("log",e,t,n)},warn:function(e,t){return r("warn",e,t,n)},error:function(e,t){return r("error",e,t,n)}}}}),r=function(e,t,n,r){var i,o;if(null==n&&(n={}),null==r&&(r=null),null!=(i=a.config("debug"))&&i.enable)if(null!=i&&i.verify)verify();else if(!("error"===(o=i?i.level:"error")&&"error"!==e||"warn"===o&&"log"===e))return o=((Date.now()-l)/1e3).toFixed(3),r?console[e]("[Clerk.io]","[T+"+o+"]","["+r+"]",t,n):console[e]("[Clerk.io]","[T+"+o+"]",t,n),null!=i&&i.collect?s(e,t=r?"["+r+"] "+t:t,n):void 0},s=function(e,t,n){var r=a.lib("dom"),i=a.lib("json"),o=a.config("key"),s=a.config("proxy"),l="https:"===document.location.protocol?"https":"http";return n.origin=window.location.href,n.init_origin=u,n.user_agent=navigator.userAgent,n.init_user_agent=h,2048<(n=i.encode({key:o,source:"Clerk.js",series:c,message:t,type:e,metadata:n,_:Math.round((new Date).getTime()/1e3)})).length&&(n=i.encode({key:o,source:"Clerk.js",series:c,message:t,type:e,metadata:{metadata_dropped:"Mata-data was to large and was thus dropped.",origin:window.location.href,init_origin:u,user_agent:navigator.userAgent,init_user_agent:h}})),r.jsonp(l+"://"+s+"/log/debug",{payload:n})}}.call(this),function(){function t(e,t){return function(){return e.apply(t,arguments)}}var S,e,n,r,E=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};function i(e){this.repr=t(this.repr,this),this.eval=t(this.eval,this),this.log_attr=t(this.log_attr,this),this.log_event=t(this.log_event,this),this.event=t(this.event,this),this.attr=t(this.attr,this),this.id=e.id,this._profile=e,this._attrs={},this._events={},this._history=[],this._load()}S=window.Clerk,n=null,r="__clerk-vp",S.lib("visitor",{get:function(){return n=null===n?new e({id:42}):n}}),i.prototype._reset=function(){return this._attrs={},this._events={},this._history=[],this._save()},i.prototype._load=function(){var e=S.lib("storage").get(r);return e?(this.id=e.id,this._attrs=e.attrs||{},this._events=e.events||{},this._history=e.history||[]):this._reset()},i.prototype._save=function(){return S.lib("storage").set(r,{id:this.id,events:this._events,history:this._history},!0)},i.prototype.attr=function(e){return this._attrs[e]},i.prototype.event=function(e,t){var n,r,i,o,s,l,a,c,u,h;for(u in null==t&&(t=null),s=new Date/1e3,l=function(e){var t=s-e;return{seconds_ago:t,minutes_ago:t/60,hours_ago:t/3600,days_ago:t/86400,weeks_ago:t/604800,months_ago:t/2592e3,years_ago:t/31536e3,timestamp:e}},n=function(e,t,n){return e?{count:n.count+e.count,type:n.type,value:t,first:l(Math.min(n.first,e.first.timestamp)),latest:l(Math.max(n.latest,e.latest.timestamp))}:{count:n.count,type:n.type,value:t,first:l(n.first),latest:l(n.latest)}},i={},a=this._events)for(h in o=a[u],0<=E.call(i,u)||(i[u]={}),o)r=o[h],i[u].null=n(i[u].null,null,r),i[u][h]=n(i[u][h],h,r);return null!=(null!=(c=i[e])?c[t]:void 0)?i[e][t]:{}},i.prototype.log_pageview=function(){var e,t,n,r,i,o,s=location.path,l={};if(location.search)for(e=function(e){return decodeURIComponent(e.replace(/\+/g," "))},t=0,n=(i=location.search.substring(1).split("&")).length;t<n;t++)r=(o=i[t].split("&"))[0],o=o[1],l[r]=e(o);return this._history.unshift({path:s,params:l,time:new Date/1e3}),this._save()},i.prototype.log_event=function(e,t){var n,r;return null==t&&(t=null),r=new Date/1e3,null==this._events[e]&&(this._events[e]={}),(n=null!=this._events[e][t]?this._events[e][t]:n)?(n.count++,n.latest=r):n={type:e,value:t,count:1,first:r,latest:r},this._events[e][t]=n,this._save()},i.prototype.log_attr=function(e,t){return this._attrs[e]=t,this._save()},i.prototype.eval=function(e){var t,n,r,i,o,s,l=S.lib("utils"),a=function(e,t){try{return!!l.eval(e,t)}catch(e){return!1}};for(e=(e=e.replace(/\bvisitor./g,"")).replace(/\=/g,"=="),t=this.repr(),o=a((n=e.split(/(?=\bor\b|\band\b)/g)).shift(),t),r=0,i=n.length;r<i;r++)o="or"===(s=n[r]).substring(0,2)?o||a(s.substring(2),t):o&&a(s.substring(3),t);return o},i.prototype.repr=function(){for(var e,t,n,r,i,o,s,l,a,c,u,h,p,d,f=S.lib("dom").device(),g=new Date/1e3,m=this._history,v=function(e){var t=g-e;return{seconds_ago:t,minutes_ago:t/60,hours_ago:t/3600,days_ago:t/86400,weeks_ago:t/604800,months_ago:t/2592e3,years_ago:t/31536e3,timestamp:e}},_=function(e,t,n,r,i){return{type:e,value:t,count:n,first:v(r),latest:v(i)}},y=1,w=1,b=1,k=0,x=g,C=[g],M=0,j=m.length;M<j;M++)1800<x-(c=m[M]).time&&(y++,visits.push(c.time)),1===y&&(w++,b=g-c.time);for(1<C.length&&(k=Math.avg(function(){var e,t,n=[];for(o=e=0,t=C.length-2;0<=t?e<t:t<e;o=0<=t?++e:--e)n.push(C[o+1]-C[o]);return n}())),s=function(e){return null!=e.utm_source||null!=e.utm_medium||null!=e.utm_name||null!=e.utm_term||null!=e.utm_content},p={},l=0,a=m.length;l<a;l++)if(s((c=m[l]).params)){p.source=c.params.utm_source,p.medium=c.params.utm_medium,p.name=c.params.utm_name,p.term=c.params.utm_term,p.content=c.params.utm_content,p.time=c.time;break}for(h in t={},n={},r={},u=this._events)for(d in i=u[h])e=i[d],0<=E.call(t,h)&&!(t[h].first>e.first)||(t[h]=e),0<=E.call(n,h)&&!(n[h].latest<e.latest)||(n[h]=e),0<=E.call(r,h)&&!(r[h].count<e.count)||(r[h]=e);return{event:{first:t,latest:n,most_frequent:r},behavior:{is_first_session:1===y,is_first_pageview:1===w,sessions:y,pageviews:w,duration:b,frequency:k},history:{path:function(e){var t,n;for(_={count:0,first:0,latest:0},t=0,n=m.length;t<n;t++)(c=m[t]).path.indexOf(-1<e)&&(0===_.count&&(_.latest=c.time),_.count++,_.first=c.time);return 0<_.count?_:null},param:function(e,t){var n,r;for(null==t&&(t=null),_={count:0,first:0,latest:0},n=0,r=m.length;n<r;n++)(c=m[n]).path.indexOf(-1<query)&&(0===_.count&&(_.latest=c.time),_.count++,_.first=c.time);return 0<_.count?_:null}},utm:{source:p.source,medium:p.medium,name:p.name,term:p.term,content:p.content,occurred:v(p.time)},geo:{continent:{code:null,name:null},country:{code:null,name:null,city:null},weather:null},device:{is_mobile:f.is_mobile,is_tablet:f.is_tablet,is_desktop:f.is_desktop,os:{name:f.os.name,version:f.os.version},browser:{version:f.browser.version,language:f.browser.language,is_incognito:f.browser.is_incognito,name:f.browser.name}}}},e=i}.call(this),function(){var i,o,t;function e(e,t){var n,r;this.element=e,this.duration=null!=t?t:250,this.dom=i.lib("dom"),this.logger=i.lib("logger").component("Popup"),this.element.class().has("clerk-popup")||this.element.class().add("clerk-popup"),this.dom.css(o),this.logger.log("Initialised popup",{element:this.element}),this.element.class().has("clerk-popup-hidden")||this.show(),this.element.on("click").then((n=this,function(e){return n.logger.log("Click inside popup, stopping propgation",{element:n.element}),e.stopPropagation(!0)})),this.dom.find("body")[0].on("click").then((r=this,function(){return r.logger.log("Detected click outside element",{element:r.element}),r.hide()}))}(i=window.Clerk).lib("ui.popup",{create:function(e){return new t(e)}}),e.prototype.show=function(){var e,t;if(this.element.class().remove("clerk-popup-hidden"),this.element.class().add("clerk-popup-visible"),this.logger.log("Showing popup",{element:this.element}),0===this.dom.find("clerk-popup-close").length)return e=this.dom.create('<span class="clerk-popup-close">&times;</span>')[0],this.element.prepend(e),this.logger.log("Adding close button",{element:this.element,button:e}),e.on("click").then((t=this,function(e){return e.stopPropagation(),t.hide()}))},e.prototype.hide=function(){return this.element.class().remove("clerk-popup-visible"),this.element.class().add("clerk-popup-hidden"),this.logger.log("Hiding popup",{element:this.element})},t=e,o=".clerk-popup { position: fixed; top: 10%; z-index: 16777271; display: none; width: 90%; padding: 20px; margin: 0 5%; background-color: white; border :1px solid #eee; border-radius: 5px; box-shadow: 0px 8px 40px 0px rgba(0,0,60,0.15); } .clerk-popup-close { position: absolute; right: 8px; top: 3px; cursor: pointer; font-family: Arial; font-size: 32px; line-height: 1; color: gray; } .clerk-popup-hidden { display: none; } .clerk-popup-visible { display: block; }"}.call(this),function(){var w,b,k,t;function e(e,t,n,r,i,o){var s,l,a,c,u,h,p,d,f,g,m,v,_,y;return this.element=e,this.min=t,this.max=n,this.step=r,this.start=i,this.end=o,this.q=w.lib("q"),this.dom=w.lib("dom"),this.logger=w.lib("logger").component("Range"),o=this.element.data(),null==this.min&&(this.min=null!=o.min?o.min:0),null==this.max&&(this.max=null!=o.max?o.max:100),null==this.step&&(this.step=null!=o.step?o.step:1,"auto"===this.step&&(l=this.max-this.min,this.step=function(){switch(!1){case!(l<50):return 1;case!(l<100):return 5;case!(l<500):return 10;case!(l<1e3):return 50;default:return 100}}())),null==this.start&&(this.start=null!=o.start?o.start:this.min),null==this.end&&(this.end=null!=o.end?o.end:this.max),this.deferred=this.q.defer(),this.update=this.deferred.promise,this.element.class().has("clerk-range")||this.element.class().add("clerk-range"),this.dom.css(b),this.element.html(k),this.inverse_left=this.element.find(".clerk-range-inverse-left")[0],this.dot_left=this.element.find(".clerk-range-dot-left")[0],this.label_left=this.element.find(".clerk-range-label-left")[0],this.selected_range=this.element.find(".clerk-range-selected-range")[0],this.dot_right=this.element.find(".clerk-range-dot-right")[0],this.label_right=this.element.find(".clerk-range-label-right")[0],this.inverse_right=this.element.find(".clerk-range-inverse-right")[0],this.moving_left=!1,this.moving_right=!1,s=function(e,t,n){return Math.max(t,Math.min(e,n))},c=function(e,t){return Math.round(e/parseFloat(t))*t},p=function(e){return e.changedTouches?e.changedTouches[0]:e},u=function(e){var t=d.element.position().left,n=d.element.size().inner.width;return d.slider_bound_left=t,d.slider_bound_right=t+n,d.dot_offset_left=d.start-d.min,d.dot_offset_right=d.end-d.max,d.px_per_unit=n/(d.max-d.min),d.mouse_start_x=p(e.raw()).clientX},(d=this).dot_left.on("mousedown").then((f=this,function(e){return u(e),f.moving_left=!0})),this.dot_right.on("mousedown").then((g=this,function(e){return u(e),g.moving_right=!0})),this.dot_left.on("touchstart").then((m=this,function(e){return u(e),m.moving_left=!0})),this.dot_right.on("touchstart").then((v=this,function(e){return u(e),v.moving_right=!0})),o=this.dom.find("body")[0],a=function(e){var t,n;if((_.moving_right||_.moving_left)&&!(e<_.slider_bound_left||_.slider_bound_right<e))return t=(e-_.mouse_start_x)/_.px_per_unit,_.moving_left&&(e=c(s(_.min+_.dot_offset_left+t,_.min,_.end-_.step),_.step),_.start!==e&&(_.start=e,_.render())),_.moving_right&&(n=c(s(_.max+_.dot_offset_right+t,_.start+_.step,_.max),_.step),_.end!==n)?(_.end=n,_.render()):void 0},y=_=this,h=function(){if(y.moving_left||y.moving_right)return y.moving_left=!1,y.moving_right=!1,y.deferred.resolve(y.start,y.end)},o.on("mousemove").then(function(e){return a(e.raw().clientX)}),o.on("touchmove").then(function(e){return a(p(e.raw()).clientX)}),o.on("mouseup").then(function(){return h()}),o.on("touchend").then(function(){return h()}),o.on("mouseleave").then(function(){return h()}),this.render(),this.deferred.promise}(w=window.Clerk).lib("ui.range",{create:function(e){return new t(e)}}),e.prototype.render=function(){var e=this.min,t=this.max,n=this.start,r=this.end,i=t-e,o=(n-e)/i*100,s=(r-e)/i*100;return this.inverse_left.css("width",(n-e)/i*100+"%"),this.dot_left.css("left","calc("+o+"% - .75em)"),this.selected_range.css("left",o+"%"),this.selected_range.css("width",(r-n)/i*100+"%"),this.dot_right.css("left","calc("+s+"% - .75em)"),this.inverse_right.css("left",s+"%"),this.inverse_right.css("width",(t-r)/i*100+"%"),this.label_left.text(this.start),this.label_right.text(this.end)},t=e,k='<div class="clerk-range-inverse-left"></div> <div class="clerk-range-dot-left"> <div class="clerk-range-label-left"></div> </div> <div class="clerk-range-selected-range"></div> <div class="clerk-range-dot-right"> <div class="clerk-range-label-right"></div> </div> <div class="clerk-range-inverse-right"></div>',b=".clerk-range { position: relative; width: 100%; height: 2.5em; padding-top: 1.5em; } .clerk-range > * { position: absolute; } .clerk-range-dot-left, .clerk-range-dot-right { z-index: 1; width: 1.5em; height: 1.5em; border-radius: 50%; background-color: #FFF; box-shadow: 0 1px 5px rgba(0, 0, 0, 0.4); cursor: grab; user-select: none; } .clerk-range-dot-left:active, .clerk-range-dot-right:active { cursor: grabbing; } .clerk-range-label-left, .clerk-range-label-right { position: relative; bottom: 2em; right: .6em; width: 3em; padding: .1em; background-color: #FFF; box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2); border-radius: .2em; text-align: center; font-size: .8em; } .clerk-range-inverse-left, .clerk-range-selected-range, .clerk-range-inverse-right { height: .5em; margin: .5em 0; border-radius: .25em; } .clerk-range-selected-range { background-color: #95a5a6; } .clerk-range-inverse-left, .clerk-range-inverse-right { background-color: #eee; }"}.call(this),function(){var u,h,t,s;function e(e){var t,l,n,r,i,o,s,a,c;for(this.element=e,r=u.lib("dom"),this.element.class().has("clerk-slider")||this.element.class().add("clerk-slider"),r.css(h),this.items=this.element.children(),t=0,n=(i=this.items).length;t<n;t++)(l=i[t]).class().add("clerk-slider-item");(e=r.create('<div class="clerk-slider-nav clerk-slider-nav-prev">&nbsp;</div>')[0]).on("click").then((o=this,function(){return o.prev()})),this.element.append(e),(r=r.create('<div class="clerk-slider-nav clerk-slider-nav-next">&nbsp;</div>')[0]).on("click").then((s=this,function(){return s.next()})),this.element.append(r),this.current_offset=0,this.element.swipe().update((c=this,function(e,t){for(var n=c.current_offset+e,r=c.items,i=[],o=0,s=r.length;o<s;o++)(l=r[o]).css("transition","none"),i.push(l.css("left",n+"px"));return i})).then((a=this,function(e,t){if(20<e||e<-20)return a.current_offset=a.current_offset+e,a._move_to(a._item_n_from_px(a.current_offset,e))}))}(u=window.Clerk).lib("ui.slider",{create:function(e){return new t(e)}}),e.prototype.next=function(){return this._move_to(this._get_next_item(1))},e.prototype.prev=function(){return this._move_to(this._get_next_item(-1))},e.prototype._item_n_from_px=function(e,t){var n=this._get_info(),e=0<t?Math.floor(e/n.item_width*-1):Math.ceil(e/n.item_width*-1);return Math.min(Math.max(e,0),n.max_scroll_item)},e.prototype._move_to=function(e){var t,n,r,i,o,s;if(!(e<0||e>=this.items.length)){for(r=-1*e*this._get_info().item_width,this.current_offset=r,s=[],t=0,i=(o=this.items).length;t<i;t++)(n=o[t]).css("transition","left 500ms ease"),s.push(n.css("left",r+"px"));return s}},e.prototype._get_next_item=function(e){var t,n=this._get_info();return 0<e?((t=n.current_item+n.visible_items)===n.current_item&&(t+=1),n.current_item===n.max_scroll_item?t=0:t>n.max_scroll_item&&(t=n.max_scroll_item)):((t=n.current_item-n.visible_items)===n.current_item&&--t,t<0&&0===n.current_item?t=n.max_scroll_item:t<0&&(t=0)),t},e.prototype._get_info=function(){var e=this.element.size().inner.width,t=this.items.length,n=this.items[0].size().outer.width+4,r=s(this.items[0].css("left")),i=Math.floor(e/n+.2),o=t-i;return{slider_visible_area_width:e,no_items:t,item_width:n,slider_offset:r,visible_items:i,max_scroll_item:o,current_item:Math.min(Math.abs(Math.floor(r/n+.2)),o)}},t=e,s=function(e){return parseInt(e.replace("px",""))},h=".clerk-slider { overflow: hidden; white-space: nowrap; position: relative; } .clerk-slider-item { display: inline-block; position: relative; left: 0px; float: none !important; vertical-align: top; white-space: normal; transition: left 500ms ease; } .clerk-slider-nav { position: absolute; top: 40%; cursor: pointer; z-index: 16777271; background-image: url(//cdn.clerk.io/arrows.png); background-repeat: no-repeat; width: 44px; height: 44px; } .clerk-slider-nav-next { background-position: -44px 0px; } .clerk-slider-nav-next:hover { background-position: -44px -44px; } .clerk-slider-nav-next { right: 5px; } .clerk-slider-nav-prev:hover { background-position: 0px -44px; } .clerk-slider-nav-prev { left: 5px; }"}.call(this),function(){var t,l=window.Clerk;l.lib("ui.content.exclude",{create:function(e){return new t(e)}}),t=function(p){var e,t,n,r,i,d,o=l.lib("dom"),s=l.lib("content"),f=l.lib("logger");for(this.trigger=!1,p.on("update").then((i=this,function(){return i.trigger?f.log("Exclude: Allowed rendering of content",{content:i.content}):f.log("Exclude: Blocked rendering of content",{content:i.content}),i.trigger})),this.dependencies={},r=p.model("exclude-from").split(","),d=this,e=function(e){var e=e.split(":"),u=e[0],h=e[1];if(h=h&&parseInt(h.replace("limit(","").replace(")","")),e=s.get(o.find(u)))return d.dependencies[u]=null,e.on("response").then(function(e,t){var n,r,i,o,s,l,a,c;for(u in d.dependencies[u]=h?t.result.slice(0,+(h-1)+1||9e9):t.result,r=[],l=d.dependencies)if(n=l[u])for(o=0,s=n.length;o<s;o++){if(null===(c=n[o]))return;"object"==typeof c?r=r.concat(c):r.push(c)}for(i in d.trigger=!0,f.log("Exclude: excluded",{exclude_ids:r,count:r.length}),a=d.dependencies)null===a[i]&&(d.trigger=!1);if(d.trigger)return p.model("exclude",r),p.reload()})},t=0,n=r.length;t<n;t++)e(r[t])}}.call(this),function(){var t,a=window.Clerk;a.lib("ui.content.exit",{create:function(e){return new t(e)}}),t=function(e){var n,r,i,o,s,t,l;this.content=e,e=a.lib("dom"),s=a.lib("storage"),o=a.lib("logger").component("Content/ExitIntent "+this.content.ident),r=this.content.model("exit-intent-delay"),null==(n=this.content.model("exit-intent-cooldown"))&&(n=86400),this.trigger=!1,i=(new Date).getTime()/1e3,this.content.on("update").then((t=this,function(){return t.trigger?o.log("Exit intent: Allowed rendering of content",{content:t.content}):o.log("Exit intent: Blocked rendering of content",{content:t.content}),t.trigger})),e.find("html")[0].on("mouseleave").then((l=this,function(e){var t;if(!(20<e.raw().clientY))if(t=(new Date).getTime()/1e3,e=i-t,null!=r&&e<r)o.log("Exit intent detected but action blocked by delay rule.",{content:l.content,delay:r,time_since_page_load:e});else{if(!((e=t-s.get("__clerk-exit-intent-triggered-time"))<n))return s.set("__clerk-exit-intent-triggered-time",t),o.log("Exit intent: Detected!",{content:l.content}),l.trigger=!0,l.content.reload();o.log("Exit intent detected but action blocked by cooldown rule.",{content:l.content,cooldown:n,time_since_last_trigger:e})}}))}}.call(this),function(){function e(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e}var T,p,d,t,n,f,r,I,i,u,E,g,m,L=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o={}.hasOwnProperty;function s(e){var n,t,r,i,o,s,l,a,c,u,h,S;this.content=e,this.q=T.lib("q"),this.api=T.lib("api"),this.dom=T.lib("dom"),this.utils=T.lib("utils"),this.ui_range=T.lib("ui.range"),o=T.lib("template"),this.logger=T.lib("logger").component("Content/Facets "+this.content.ident),this.facets=new f,(s=this).multiselect=(r=function(e,t){var n;return null==t&&(t=null),null!=(n=s.content.model(e))?(s.content.model(e,null),n):t})("facets-multiselect-attributes",[]),this.titles=r("facets-titles",[]),this.groups=r("facets-attributes",[]),this.useUrl=r("facets-in-url",!1),this.useDesign=r("facets-design",!1),this.price_prepend=r("facets-price-prepend",""),this.price_append=r("facets-price-append",""),this.show_more_text=r("facets-view-more-text",""),this.search_for_text=r("facets-searchbox-text",""),this.content.model("facets",this.groups),this.useUrl&&(e=decodeURIComponent(window.location.search.replace("?","")),(e=g(e,this.groups))&&(this.facets=e,this.no_filter_facets||this.api.call("search/search",this.content.model()).then((a=this,function(e){return a.no_filter_facets=E(e.facets),a.reload()})),(t=this.filter())&&0<t.length&&this.content.model("filter",t)),window.addEventListener("popstate",(l=this,function(e){var t;if("clerk.js/facet"===(null!=(t=e.state)?t.namespace:void 0))return l.facets=g(e.state.params,l.groups),l.reload()}))),t=r("facets-target"),0<(r=this.dom.find(t)).length?(this.target=r[0],n=this.q.defer(),this.useDesign?this.api.call("design/info",{design_id:this.useDesign}).then(function(e){return h._response=e,n.resolve(e)},(u=h=this,function(e){var t;return u.logger.log("Could not find design. Using default facet design."),u.dom.css(p),t=d,u.template=o.compile(t),n.reject(e)})).then((c=this,function(e){return c.logger.log("Using facets design from my.clerk."),c.dom.css(e.design.css),e=e.design.html,c.template=o.compile(e)})):(0===this.target.children().length?(this.dom.css(p),i=d,this.logger.log("Using default facets template.")):(i=this.target.html(),this.logger.log("Using custom facets template.",{template:i})),this.template=o.compile(i)),this.content.on("response").then((S=this,function(e,t){var n,r,i,o,s,l,a,c,u,h,p,d,f,g,m,v,_,y,w,b,k,x,C,M,j;if(null!=t.facets){if(j=E(t.facets),S.useUrl)for(o=0,a=(y=S.facets.groups()).length;o<a;o++){for(i=y[o],M={},s=0,c=(w=j.get(i)).length;s<c;s++)(r=w[s]).value&&(M[r.value]=r);for(l=0,u=(b=S.facets.get(i)).length;l<u;l++)M[(r=b[l]).value]&&(r.name=M[r.value].name);for(f=0,h=(k=S.facets.get(i)).length;f<h;f++){if(0===(r=k[f]).count&&"range"===r.type){for(g=n=0,p=(x=t.product_data).length;g<p;g++)(_=x[g])[i]>=r.min&&_[i]<=r.max&&(n+=1);r.count=n}if(0===r.count&&"unit"===r.type){for(m=n=0,d=(C=t.facets[i]).length;m<d;m++)(v=C[m]).value===r.value&&(n+=v.count);r.count=n}}}return S.update(j).then(function(e){return S.render(e)})}}))):this.logger.error("Facet target element could not be found!",{target:t})}function l(){this.name=arguments[0]}function a(e,t,n,r){this.name=e,this.value=t,this.count=null!=n?n:0,this.selected=null!=r&&r,this.type="unit"}function c(e,t,n,r,i,o){this.name=e,this.min=t,this.max=n,this.count=null!=r?r:0,this.custom=null!=i&&i,this.selected=null!=o&&o,this.type="range"}function h(){this._groups={},this._utils=T.lib("utils")}(T=window.Clerk).lib("ui.content.facets",{create:function(e){return new n(e)}}),s.prototype.update=function(e){var t,n,r,i,o,s,l,a,c,u,h,p,d,f,g,m,v,_,y;for(this.logger.log("Update facets.",{facets:e}),t=this.q.defer(),o=0,a=(g=this.facets.groups()).length;o<a;o++)for(r=g[o],s=0,c=(m=this.facets.get(r)).length;s<c;s++)(n=m[s]).selected&&(e.exists(r,n)?e.get(r,n).select():e.add(r,n));for(l=0,u=(v=e.groups()).length;l<u;l++){if(r=v[l],i=!1,this.facets.exists(r))for(d=0,h=(_=this.facets.get(r)).length;d<h;d++)if((n=_[d]).selected){i=!0;break}if(this.facets.exists(r)&&0<=L.call(this.multiselect,r)&&i){if(e.remove(r),e.add(r,this.facets.get(r)),this.no_filter_facets&&this.useUrl&&e.get(r).length<this.no_filter_facets.get(r).length)for(f=0,p=(y=this.no_filter_facets.get(r)).length;f<p;f++)n=y[f],e.exists(r,n)||e.add(r,n)}else this.facets.add(r,e.get(r))}return t.resolve(e),t.promise},s.prototype.render=function(e){for(var t,s,n,r,i,o,l,a,c,u,h,p,d,f,g,m,v,_,y,w,b,k,x,C,M,j,S,E,N=[],A=this.groups,O=0,q=A.length;O<q;O++)if(i=A[O],l=0<=L.call(this.multiselect,i),null!=(S=e.get(i))&&0<S.length){if(M=S[0].type,m=g=k=t=null,S.sort(function(e,t){switch(!1){case!(e.selected&&!l):return-1;case!(t.selected&&!l):return 1;case"unit"!==e.type:return e.name>=t.name?-1:1;case"range"!==e.type:return e.min<=t.min?-1:1}}),"range"===M&&(m=Math.min.apply(Math,function(){for(var e=[],t=0,n=S.length;t<n;t++)j=S[t],e.push(j.min);return e}()),g=Math.max.apply(Math,function(){for(var e=[],t=0,n=S.length;t<n;t++)j=S[t],e.push(j.max);return e}()),k=(k=Math.min.apply(Math,function(){for(var e=[],t=0,n=S.length;t<n;t++)(j=S[t]).selected&&e.push(j.min);return e}()))||m,t=(t=Math.max.apply(Math,function(){for(var e=[],t=0,n=S.length;t<n;t++)(j=S[t]).selected&&e.push(j.max);return e}()))||g,"price"===i&&(this.price_prepend||this.price_append)))for(a=0,u=S.length;a<u;a++)j=S[a],this.price_prepend&&-1===j.name.indexOf(this.price_prepend)&&(j.name=j.name.replace(/([\d\.,]+)/g,function(t){return function(e){return t.price_prepend+e}}(this))),this.price_append&&-1===j.name.indexOf(this.price_append)&&(j.name=j.name.replace(/([\d\.,]+)/g,function(t){return function(e){return e+t.price_append}}(this)));(o=function(){for(var e=[],t=0,n=S.length;t<n;t++)((s=S[t]).value||s.min||s.max)&&e.push({group:i,type:s.type,name:s.name,value:"string"==typeof s.value?s.value.replace(/"/g,"&quot;"):s.value,min:s.min,max:s.max,count:s.count,selected:s.selected});return e}()).length&&N.push({group:i,title:i in this.titles?this.titles[i]:i,type:M,min:m,max:g,start:k,end:t,facets:o})}for(C=T.config("language"),x=this.search_for_text||(null!=C?I[C].search:"Search For"),C=this.show_more_text||(null!=C?I[C].more:"Show More"),this.logger.log("Render facets.",{facets:N}),this.target.html(this.template({facets:N,translation:{show_more:C,search_for:x}})),c=0,h=(_=this.dom.find(".clerk-range")).length;c<h;c++)(function(i){return function(r){return i.ui_range.create(r).then(function(e,t){var n=r.data();return i.select(n.group,"range",null,e,t),i.reload()})}})(this)(_[c]);for(y=this.dom.find(".clerk-facet"),E=this,r=function(t){return t.on("click").then(function(){var e=t.data();return e.value||!1===e.value?E.select(e.facet,"unit",e.value):E.select(e.facet,"range",null,e.min,e.max),E.reload()})},f=0,p=y.length;f<p;f++)r(y[f]);for(b=[],v=0,d=(w=this.dom.find(".clerk-facet-search")).length;v<d;v++)n=w[v],b.push(function(e){return function(i){var o=e.dom.find(".clerk-facet",i.parent().raw());if(0<o.length)return i.on("keyup").then(function(){for(var e=i.value().trim().toLowerCase(),t=[],n=0,r=o.length;n<r;n++)-1===(s=o[n]).text().toLowerCase().indexOf(e)?t.push(s.class().add("hidden")):t.push(s.class().remove("hidden"));return t})}}(this)(n));return b},s.prototype.select=function(e,t,n,r,i,o){var s,l,a,c;if(null==o&&(o=!0),0<this.facets.get(e).length&&"string"==typeof this.facets.get(e)[0].value&&(n=""+n),null!=(n=this.facets.get(e,u({type:t,value:n,min:r,max:i,selected:!0}))))n.select(!0),this.logger.log("Selected facet",{facet:n});else if("range"===t&&null!=r&&null!=i){for(l=0,a=(c=this.facets.get(e)).length;l<a;l++)null!=(s=c[l])&&s.custom&&this.facets.remove(e,s);n=u({type:"range",name:r+" - "+i,min:r,max:i,custom:!0,selected:!0,count:""}),this.facets.add(e,n),this.logger.log("Selected facet (added new range)",{facet:n})}if(this.useUrl&&null!=n&&o){if(history.pushState)return i=this.urlParams(),n={namespace:"clerk.js/facet",params:this.urlParams()},o=window.location.protocol+"//"+window.location.host+window.location.pathname+"?"+i,window.history.pushState(n,null,o),this.logger.log("Updated URL with facet parameters.",{url:o,params:i});this.logger.warn("You browser does not support dynamically updating filter URL parameters (history.pushState).")}},s.prototype.filter=function(){for(var e,t,n,r,i,o,s,l=[],a=this.facets.groups(),c=0,u=a.length;c<u;c++){for(t=a[c],n=[],r=0<=L.call(this.multiselect,t),i=0,o=(s=this.facets.get(t)).length;i<o;i++)(e=s[i]).selected&&("unit"===e.type?"string"===this.utils.type(e.value)?n.push(t+' = "'+e.value.replace('"','\\"')+'"'):n.push(t+" = "+e.value):"range"===e.type&&n.push("("+t+" >= "+e.min+" and "+t+" <= "+e.max+")"));1===n.length?l.push(n[0]):1<n.length&&l.push("("+n.join(r?" or ":" and ")+")")}return l.join(" and ")},s.prototype.urlParams=function(){for(var e,t,n,r,i,o,s,l,a,c,u,h,p,d,f=[],g=window.location.search.replace("?","").split("&"),m=0,v=g.length;m<v;m++)(u=g[m])&&(t=(u=u.split("="))[0],d=u[1],L.call(this.groups,t)<0&&f.push(t+"="+d));for(i=0,s=(h=this.facets.groups()).length;i<s;i++){for(t=h[i],r=[],n=0<=L.call(this.multiselect,t),o=0,l=(p=this.facets.get(t)).length;o<l;o++)(e=p[o]).selected&&("unit"===e.type?r.push(encodeURIComponent(e.value)):"range"===e.type&&r.push(e.min+"-"+e.max));if(0<r.length)if(t=encodeURIComponent(t),n)f.push(t+"="+r.join("|"));else for(c=0,a=r.length;c<a;c++)d=r[c],f.push(t+"="+d)}return f.join("&")},s.prototype.reload=function(){var e=this.filter();return this.content.model("filter",e||null),this.content.reload()},n=s,u=function(e){var t;switch("unit"!==e.type||!0!==(t=e.value)&&!1!==t||(t=T.config("language"),e.name=I[t=null==t?"english":t][e.value]),e.type){case"unit":return new i(e.name,e.value,e.count,e.selected);case"range":return new r(e.name,e.min,e.max,e.count,e.custom,e.selected);default:throw"Unknown facet type "+e.type}},E=function(e){var t,n,r,i,o,s=new f;for(r in e)for(i=0,o=(n=e[r]).length;i<o;i++)t=n[i],s.add(r,u(t));return s},g=function(e,t){for(var n,r,i,o,s,l,a,c={},u=e.split("&"),h=0,p=u.length;h<p;h++)if((s=u[h])&&(r=(s=s.split("="))[0],l=s[1],!(L.call(t,r)<0)))for(i=0,o=(a=l.match(/[\|]/)?l.split("|"):[l]).length;i<o;i++)l=a[i],n=m(r,l),r in c?c[r].push(n):c[r]=[n];return E(c)},m=function(e,t){var n,r;switch(!1){case!("true"===(t=decodeURIComponent(t))||"false"===t):return{group:e,type:"unit",name:t,value:"true"===t,selected:!0};case!t.match(/[0-9]+-[0-9]+/):return n=(r=t.split("-"))[0],r=r[1],{group:e,type:"range",name:t,min:parseInt(n),max:parseInt(r),selected:!0};case!t.match(/^\d+$/):return{group:e,type:"unit",name:t,value:parseInt(t),selected:!0};default:return{group:e,type:"unit",name:t,value:t,selected:!0}}},l.prototype.equals=function(e){return!1},l.prototype.select=function(e){return this.selected=!(e=null==e?!1:e)||!this.selected},e(a,t=l),a.prototype.equals=function(e){return e instanceof a&&this.value===e.value},i=a,e(c,t),c.prototype.equals=function(e){return e instanceof c&&(this.min===e.min&&this.max===e.max)},r=c,h.prototype.get=function(e,t){var n,r,i,o;if(null==this._groups[e])return null;if(null==(t=null==t?null:t))return this._groups[e];for(r=0,i=(o=this._groups[e]).length;r<i;r++)if((n=o[r]).equals(t))return n},h.prototype.exists=function(e,t){return null!=this.get(e,t=null==t?null:t)},h.prototype.add=function(e,t){var n,r,i;if(null==this._groups[e]&&(this._groups[e]=[]),"array"!==this._utils.type(t)){for(n=0,r=(i=this._groups[e]).length;n<r;n++)if(i[n].equals(t))return;return this._groups[e].push(t)}this._groups[e]=t},h.prototype.remove=function(e,t){var n,r,i,o,s;if(null==t&&(t=null),null!=this._groups[e]){if(null!=t){for(s=[],r=0,i=(o=this._groups[e]).length;r<i;r++){if((n=o[r]).equals(t)){n=this._groups[e].indexOf(n),this._groups[e].splice(n,1);break}s.push(void 0)}return s}delete this._groups[e]}},h.prototype.groups=function(){var e,t=this._groups,n=[];for(e in t)t[e],n.push(e);return n},f=h,I={danish:{true:"Ja",false:"Nej",more:"Vis Mere",search:"Søg Efter"},dutch:{true:"Ja",false:"Nee",more:"Laat Meer Zien",search:"Zoeken naar"},english:{true:"Yes",false:"No",more:"Show More",search:"Search For"},finnish:{true:"Joo",false:"Ei",more:"Näytä Lisää",search:"Etsi"},french:{true:"Oui",false:"Non",more:"Montre Plus",search:"Rechercher"},german:{true:"Ja",false:"Nein",more:"Zeig Mehr",search:"Suche nach"},hungarian:{true:"Igen",false:"Nem",more:"Mutass Többet",search:"Keresése"},italian:{true:"Sì",false:"No",more:"Mostra Di Più",search:"Cerca"},norwegian:{true:"Ja",false:"Nei",more:"Vis Mer",search:"Søk etter"},portuguese:{true:"Sim",false:"Não",more:"Mostre Mais",search:"Pesquisar por"},romanian:{true:"Da",false:"Nu",more:"Afișați Mai Multe",search:"Caută"},russian:{true:"Да",false:"Нет",more:"Показать больше",search:"Поиск"},spanish:{true:"Si",false:"No",more:"Mostrar Más",search:"Buscar"},swedish:{true:"Ja",false:"Nej",more:"Visa Mer",search:"Söka efter"},turkish:{true:"Evet",false:"Hayır",more:"Daha Fazla Göster",search:"Ara"}},d='<div class="clerk-facets">\n    {% for facet_group in facets %}\n        <div class="clerk-facet-group clerk-facet-{{ facet_group.group }}">\n            <div class="clerk-facet-group-title">{{ facet_group.title }}</div>\n\n            {% if facet_group.type == "range" %}\n                <div class="clerk-range" data-group="{{ facet_group.group}}" data-min="{{ facet_group.min }}" data-max="{{ facet_group.max }}" data-start="{{ facet_group.start }}" data-end="{{ facet_group.end }}" data-step="auto"></div>\n            {% endif %}\n\n            {% if facet_group.facets.length > 10 %}\n                <input type="text" placeholder="{{translation.search_for}} {{ facet_group.title }}..." class="clerk-facet-search" />\n                <input type="checkbox" id="clerk-show-more-{{ facet_group.group }}" class="clerk-facet-show-more" />\n            {% endif %}\n\n            <div class="clerk-facet-group-facets">\n                {% for facet in facet_group.facets %}\n                    <div class="clerk-facet {% if facet.selected %}clerk-facet-selected{% endif %}" data-facet="{{ facet_group.group }}" data-value="{{ facet.value }}" data-min="{{ facet.min }}" data-max="{{ facet.max }}">\n                        <div class="clerk-facet-count">{{ facet.count }}</div>\n                        <div class="clerk-facet-name">{{ facet.name }}</div>\n                    </div>\n                {% endfor %}\n            </div>\n\n            {% if facet_group.facets.length > 10 %}\n                <label for="clerk-show-more-{{ facet_group.group }}" class="clerk-facet-show-more">{{ translation.show_more }}</label>\n            {% endif %}\n        </div>\n    {% endfor %}\n</div>',p=".clerk-facets { } .clerk-facet-group { margin-bottom: 1.5em; padding: 1em; background-color: white; border: 1px solid #eee; border-radius: 5px; box-shadow: 0px 2px 4px -2px rgba(0,0,0,.09); } .clerk-facet-group-title { margin-bottom: 1em; text-transform: uppercase; font-size: .8em; font-weight: bold; letter-spacing: 1px; color: #95a5a6; } .clerk-facet-group-facets { overflow: hidden; max-height: 24.5em; transition: max-height .2s ease-in-out; } .clerk-facet-search { width: calc(100% - 1.8em); margin: 0 0 1em 0; padding: .6em .8em; border: 1px solid #eee; font-size: .9em; } input.clerk-facet-show-more { display: none; } label.clerk-facet-show-more { display: block; padding-top: .5em; text-align: center; font-size: .9em; color: #95a5a6; cursor: pointer; } input.clerk-facet-show-more:checked + .clerk-facet-group-facets { max-height: 9001em; } input.clerk-facet-show-more:checked + .clerk-facet-group-facets + label.clerk-facet-show-more { display: none; } .clerk-facet { clear: both; margin: .4em 0; cursor: pointer; } .clerk-facet.hidden { display: none; } .clerk-facet-name { overflow: hidden; height: 1.8em; white-space: nowrap; } .clerk-facet-name:before { position: relative; top: .2em; display: inline-block; content: ''; width: 1em; height: 1em; margin: 0 .5em 0 0; border: 1px solid #95a5a6; border-radius: 4px; transition: all .1s ease-in-out; } .clerk-facet-name:hover:before { background-color: #95a5a6; border-color: #95a5a6; opacity: .8; } .clerk-facet-count { float: right; padding-top: .2em; font-size: .9em; color: #95a5a6; } .clerk-facet-selected { font-weight: bold; } .clerk-facet-selected .clerk-facet-name:before { background-color: #95a5a6; border-color: #95a5a6; }"}.call(this),function(){var h,t;function e(e){var t,n,r,i,o,s,l,a,c,u;if(this.content=e,this.dom=h.lib("dom"),this.storage=h.lib("storage"),this.utils=h.lib("utils"),this.logger=h.lib("logger").component("Content/InstantSearch "+this.content.ident),this.visible=!1,this.redirect=!1,this.autocompleted_query=!1,this.content.target.class().has("clerk-instant-search-container")||(this.content.target.class().add("clerk-instant-search-container"),this.content.target.class().add("clerk-live-search-container"),this.content.target.class().add("clerk-instant-search-hidden")),this.dom.css(".clerk-instant-search-visible { display: block; } .clerk-instant-search-hidden { display: none; }"),this.content.on("update").then((o=this,function(){var e=o.content.model("query"),t=null!=e&&1<e.length;return t||o.logger.log("Query is not long enough!",{query:e}),t})),this.content.on("response").then((s=this,function(e,t){return s.autocompleted_query=t.query,s.redirect=t.redirect})),this.dom.find("body")[0].on("click").then((l=this,function(){if(l.visible)return l.logger.log("Click detected."),l.hide()})),this.content.target.on("click").then((a=this,function(e){return a.logger.log("Click inside livesearch, stopping propgation"),e.stopPropagation(!0)})),window.addEventListener("resize",(c=this,function(){if(c.visible)return c.logger.log("Window resize detected."),c.move_to(c.active_input_element)})),0!==(e=null==(e=this.content.model("instant-search"))?this.content.model("bind-live-search"):e).length)for(i=this.dom.find(e),u=this,t=function(t){return u.logger.log("Monitoring input",{input:t.raw()}),t.attribute("autocomplete","off"),t.on("keyup").then(function(){return u.input_activity(t)}),t.on("click").then(function(){return u.input_activity(t)}),t.on("keydown").then(function(e){return u.keyboard_navigation(e,t)})},n=0,r=i.length;n<r;n++)t(i[n]);else this.logger.error("Selector was empty! Continuing to next content.")}(h=window.Clerk).lib("ui.content.livesearch",{create:function(e){return new t(e)}}),e.prototype.input_activity=function(e){var t,n;{if(this.logger.log("Detected activity on input.",{input:e.raw()}),this.active_input_element=e,(t=this.utils.trim(e.value()))!==this._last_query)return!(this._last_query=t)||t.length<2?(this.logger.log("Query is too short",{query:t}),void this.hide()):(clearTimeout(this._input_typing_timer),(t.length+2)%3==0?this.search(t,e):this._input_typing_timer=setTimeout((n=this,function(){return n.search(t,e)}),250));this.logger.log("Query has not changed",{query:t,last_query:t})}},e.prototype.search=function(e,t){var n,r,i,o,s,l;if(this.logger.log("Performing new search.",{query:e,input:t.raw()}),this.content.broadcast("live_search_update",e,t))return this.content.model("history",this.get_search_history()),null!=(n=this.content.model("instant-search-suggestions"))&&h.call("search/suggestions",{query:e,limit:n}).then((r=this,function(e){return r.content.model("suggestions",e.result),r.content.render()})),null!=(n=this.content.model("instant-search-categories"))&&!0!==n||(n=this.content.model("live-search-categories"),n=isFinite(n)&&!0!==n?n:5),n&&h.call("search/categories",{query:e,limit:n}).then((i=this,function(e){return i.content.model("categories",e.categories),i.content.render()})),null!=this.content.model("instant-search-pages")&&h.call("search/pages",{query:e,type:this.content.model("instant-search-pages-type"),limit:this.content.model("instant-search-pages")}).then((o=this,function(e){return o.content.model("pages",e.pages),o.content.render()})),this.content.model("query",e),this.content.update().then(function(e){return l.content.render(),l.show(),l.move_to(t)},(s=l=this,function(e){return s.hide()}));this.logger.warn('Instant search prevented by event handler for "live_search_update" event.')},e.prototype.show=function(){if(!this.visible)return this.visible=!0,this.content.target.class().remove("clerk-instant-search-hidden"),this.content.target.class().add("clerk-instant-search-visible"),this.logger.log("Show overlay.")},e.prototype.hide=function(){if(this.visible)return this.visible=!1,this.content.target.class().remove("clerk-instant-search-visible"),this.content.target.class().add("clerk-instant-search-hidden"),this.logger.log("Hide overlay.")},e.prototype.move_to=function(e){var t,n,r,i,o=this.content.model("instant-search-positioning");if("off"!==o){switch(null==o&&(o="left"),this.content.target.parent().raw()!==document.body&&this.dom.find("body").append(this.content.target),this.content.target.css("z-index","2147483647"),this.content.target.css("position","absolute"),!1===this.content.model("live-search-fit-width")&&(o="off"),i=window.pageYOffset||document.documentElement.scrollTop,r=window.pageXOffset||document.documentElement.scrollLeft,i=e.position().top+e.size().height+i,n=t=null,this.content.target.css("top",i+"px"),o){case"left":t=e.position().left+r,this.content.target.css("left",t+"px"),this.content.target.css("min-width",Math.max(e.size().width,350)+"px");break;case"center":t=e.position().left+r-(this.content.target.size().width-e.size().width)/2,this.content.target.css("left",t+"px");break;case"right":n=this.dom.window().width-(e.position().left+r+e.size().width),this.content.target.css("right",n+"px")}return this.logger.log("Moved live search content to active input.",{input:e.raw(),top:i,left:t,right:n})}},e.prototype.get_search_history=function(){var e=this.storage.get("search-history");return e=e||[]},e.prototype.update_search_history=function(e){var t=get_search_history(),e=t.indexOf(e);return-1<e&&t.splice(e,1),this.storage.set("search-history",t)},e.prototype.keyboard_navigation=function(e,t){var n,r,i,o,s,l,a,c=this.logger,u=e.raw().which,h=38===u,p=40===u,d="clerk-instant-search-key-selected",f="."+d;if(13===u)return c.log("Enter key-press detected."),n=function(e){return c.log("An click-able element was found in keyboard selected element. Click simulated.",{element:e.raw()}),e.trigger("click")},(a=this.dom.find(f)[0])?(c.log("An element was selected via keyboard navigation.",{element:a.raw()}),e.stopPropagation(),"A"===a.tag_name()?n(a):0<(u=this.dom.find("a",a.raw())).length?n(u[0]):"A"===(l=a.parent()).tag_name()?n(l):c.warn("No click-able elements found for keyboard selected element!",{element:a.raw()})):this.redirect?(this.logger.log("Redirecting to",{url:this.redirect}),e.stopPropagation(),location.href=this.redirect):(l=this.content.model("autofill"),e=this.utils.trim(t.value()),!1===l||"off"===l||!this.autocompleted_query||this.autocompleted_query.length<e.length||(t.value(this.autocompleted_query),this.logger.log("Auto-filled the search input with auto-completed query.",{query:this.autocompleted_query,input:t.raw()}))),this.hide();if((h||p)&&(h?c.log("Key up key-press detected."):c.log("Key down key-press detected."),0!==(s=this.dom.find(".clerk-instant-search-key-selectable",this.content.element.raw())).length)){if(0===(a=this.dom.find(f,this.content.element.raw())).length)return s[0].class().add(d),c.log("Keyboard navigation selected element updated.",{from:null,to:s[0].raw()});for(i=r=0,o=s.length;r<o;i=++r)if(s[i].class().has(d)){0;break}return f=s.length-1,(p=p?i+1:i-1)<0?p=f:f<p&&(p=0),a[0].class().remove(d),s[p].class().add(d),c.log("Keyboard navigation selected element updated.",{from:a[0].raw(),to:s[p].raw()})}},t=e}.call(this),function(){var t,o=window.Clerk;o.lib("ui.content.search",{create:function(e){return new t(e)}}),t=function(e){var t,n,r,i;this.content=e,this.dom=o.lib("dom"),this.logger=o.lib("logger").component("Content/InstantSearch "+this.content.ident),t=this.content.model("search-categories"),n=this.content.model("search-pages"),e=this.content.model("query"),null!=t&&o.call("search/categories",{query:e,limit:t}).then((r=this,function(e){return r.content.model("categories",e.categories),r.content.render()})),null!=n&&o.call("search/pages",{query:e,type:this.content.model("search-pages-type"),limit:this.content.model("search-pages")}).then((i=this,function(e){return i.content.model("pages",e.pages),i.content.render()}))}}.call(this),function(){var t,f=window.Clerk;f.lib("ui.content.splittest",{create:function(e){return new t(e)}}),t=function(e){var t,n,r,i,o,s,l,a,c,u,h=f.lib("dom"),p=(f.lib("content"),f.lib("logger")),d=f.lib("storage");for(this.trigger=!1,o=0,e.on("update").then((u=this,function(){return u.trigger?p.log("Split test: Allowed rendering of content",{content:u.content}):p.log("Split test: Blocked rendering of content",{content:u.content}),u.trigger})),l=(c=e.model("split-test").split(":"))[0],c=c[1],n=[],r=0,i=(t=h.find("[data-split-test^='"+l+"']")).length;r<i;r++)(a=t[r]).attribute("data-split-test").split(":")[0]===l&&n.push(a);null!=(h=d.get("clerk-splittest-"+l))&&(s=h.variant,o=h.n),null!=s&&n.length===o?s===c&&(this.trigger=!0,e.reload()):(s=n[Math.floor(Math.random()*n.length)].raw(),d.set("clerk-splittest-"+l,{variant:s.dataset.splitTest.split(":")[1],n:n.length}),c===s.dataset.splitTest.split(":")[1]&&(this.trigger=!0,e.reload()))}}.call(this),function(){var t,o=window.Clerk;o.lib("ui.content.visitor",{create:function(e){return new t(e)}}),t=function(e){var t,n,r,i;this.content=e,o.lib("dom"),e=o.lib("visitor").get(),r=o.lib("logger"),this.trigger=!1,this.content.on("update").then((i=this,function(){return i.trigger?r.log("Visitor: Allowed rendering of content",{content:i.content}):r.log("Visitor: Blocked rendering of content",{content:i.content}),i.trigger})),this.content.model("show")?(n=this.content.model("show"),t=e.eval(n)):this.content.model("hide")&&(n=this.content.model("hide"),t=!e.eval(n)),t?(this.trigger=!0,r.log("Visitor: evaluated, showing content!",{content:this.content,evaluation:t,expression:n,is_show:!!this.content.model("show"),is_hide:!!this.content.model("hide")}),this.content.reload()):r.log("Visitor: evaluated, hiding content!",{content:this.content,evaluation:t,expression:n,is_show:!!this.content.model("show"),is_hide:!!this.content.model("hide")})}}.call(this),function(){var c,O,q,s,l,o,T,I,t,n,L,d,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=[].slice;function u(e){this._element=e}function e(e,t){this._event=e,this.element=t,this.type=this._event.type}function h(e){for(var t,n,r,i=this.length=0,o=e.length;i<o;i++)t=e[i],this[this.length]=t,this.length++;for(n in this.type="ElementSet",r=this[0]||new O)r[n],"_"!==n[0]&&(h.prototype[n]=function(s){return function(o){return function(){for(var e,t=1<=arguments.length?a.call(arguments,0):[],n=[],r=0,i=s.length;r<i;r++)(e=(e=s[r])[o].apply(e,t))instanceof Array?Array.prototype.push.apply(n,e):n.push(e),0<n.length&&n[0]instanceof O&&(n=new h(n));return n}}}(this)(n));return this}c=window.Clerk,l=0,o=[],c.lib("dom",{create:function(e){var t=new O(document.createElement("div"));return t.html(e),new q(t.children())},css:function(e){var t,n,r,i=c.lib("dom");if(null!=e&&!(0<=g.call(o,e)))return o.push(e),n=i.find("#__clerk-global-default-css"),r=i.find("head")[0],t=function(e){return(n=document.createElement("style")).type="text/css",n.id="__clerk-global-default-css",n.styleSheet?n.styleSheet.cssText=e:n.innerHTML=e,r.prepend(new O(n))},0<n.length?(i=n[0].raw().innerHTML,r.raw().removeChild(n[0].raw()),t(i+"\n"+e)):t(e)},find:function(e,t){var n,r,l,s,i,o,a,c,u,h,p,d,f,g,m,v,_,y,w,b,k,x,C,M,j,S,E,N,A;if(null==t&&(t=document),a=I(),!t.querySelectorAll||"MSIE"===a.name&&a.version<9)for(s=function(e,t){for(var n=0,r=t.length;n<r;n++)if(e===t[n])return!0;return!1},i=function(e,t){for(var n,r=[],i=0,o=e.length;i<o;i++)n=e[i],s(n,t)&&r.push(n);return r},l=function(e,t){for(var n,r=[],i=e.childNodes,o=0,s=i.length;o<s;o++)1===(n=i[o]).nodeType&&(t(n)&&r.push(n),Array.prototype.push.apply(r,l(n,t)));return r},o=function(e){return e.replace(/^\s+|\s+$/g,"")},h=[],f=0,y=(M=(e="object"==typeof e?e.join(","):e).split(",")).length;f<y;f++){for(C=M[f],r=null,m=0,w=(N=function(){for(var e=o(C).split(/\s+/g),t=[],n=0,r=e.length;n<r;n++)E=e[n],t.push(o(E));return t}()).length;m<w;m++){switch(d=(E=N[m]).slice(1).split(/\.|\[/g),g=E.substring(0,1),E=d[0],d=d.slice(1),g){case"#":t.getElementById?(c=[],(j=t.getElementById(E))&&c.push(j)):c=l(t,function(e){return e.id===E});break;case".":c=T(E,t);break;case"[":j=E.slice(0,-1).split("="),x=j[0],A=j[1],c=l(t,A?function(e){return e.getAttribute(x)===A.replace(/"/g,"")||e.getAttribute(x)===A}:function(e){return e.hasAttribute(x)});break;case"*":c=l(t,Boolean);break;default:c=t.getElementsByTagName(g+E)}for(v=0,b=d.length;v<b;v++)c="]"===(p=d[v])[p.length-1]?(S=p.slice(0,-1).split("="),x=S[0],(A=S[1])?_formatter(c,function(e){return e.getAttribute(x)===A}):_formatter(c,function(e){return e.hasAttribute(x)})):_formatter(c,function(e){return s(p,e.className.match(/\S+/g))});r=null===r?c:i(r,c)}for(_=0,k=r.length;_<k;_++)n=r[_],s(n,h)||h.push(n)}else h=t.querySelectorAll(e),t!==document&&L(t,e)&&(h=Array.prototype.slice.call(h)).push(t);return new q(function(){for(var e=[],t=0,n=h.length;t<n;t++)u=h[t],e.push(new O(u));return e}())},jsonp:function(e,t){var n,r,i,o,s=c.lib("q").defer();return t=t||{},n="__clerk_cb_"+l++,window[n]=function(e){var t=I();return"MSIE"===t.name&&t.version<9?window[n]=void 0:delete window[n],(t=document.getElementById(n)).parentNode.removeChild(t),s.resolve(e)},t.callback=n,t=function(){var e=[];for(r in t)o=t[r],e.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return e}().join("&"),e=e+(e.indexOf(!1)?"?":"&")+t,(i=document.createElement("script")).src=e,i.id=n,new O(i).on("error",function(){return s.reject()}),(document.getElementsByTagName("head")[0]||document.body||document.documentElement).appendChild(i),s.promise},window:function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,scrolled:window.pageYOffset||document.documentElement.scrollTop}},device:function(){var e=I();return n(e),{is_mobile:window.innerWidth<600,is_tablet:window.innerWidth<800&&600<=window.innerWidth,is_desktop:800<=window.innerWidth,browser:e,os:t()}}}),u.prototype.tag_name=function(){return this._element.tagName},u.prototype.attribute=function(e,t){return null===t?(this._element.removeAttribute(e),this):t?(this._element.setAttribute(e,t),this):this._element.getAttribute(e)},u.prototype.data=function(e,t){var n,r,i,o,s,l,a;if(null==t&&(t=void 0),s=c.lib("json"),i=function(t){try{return s.decode(t)}catch(e){return t}},void 0!==t)return this.attribute("data-"+e,s.encode(t)),this;if(e)return i(this.attribute("data-"+e));for(r={},o=0,l=(a=this.raw().attributes).length;o<l;o++)"data-"===(n=a[o]).name.slice(0,5)&&(r[n.name.slice(5)]=i(n.value));return r},u.prototype.value=function(e){return null!=e?(this.raw().value=e,this):this.raw().value},u.prototype.class=function(){return{has:function(e){return null!=r._element.classList?r._element.classList.contains(e):-1!==r._element.className.indexOf(e)},add:function(e){return null!=n._element.classList?n._element.classList.add(e):n._element.className+=n._element.className?" "+e:e},remove:(t=n=r=this,function(e){return null!=t._element.classList?t._element.classList.remove(e):t._element.className=t._element.className&&t._element.className.remove(e)})};var t,n,r},u.prototype.find=function(e){return c.lib("dom").find(e,this._element)},u.prototype.raw=function(){return this._element},u.prototype.nearest_parent=function(e){for(var t=this._element;t!==window.document&&t;){if(this.matches(e,t))return t;t=t.parentNode}return null},u.prototype.matches=function(e,t){var n,r,i;if((t=null==t?document:t).matches)return this._element.matches(e);if(t.matchesSelector)return this._element.matchesSelector(e);if(t.msMatchesSelector)return this._element.msMatchesSelector(e);if(t.webkitMatchesSelector)return this._element.webkitMatchesSelector(e);for(n=0,r=(i=this.find(e)).length;n<r;n++)if(i[n]._element===this._element)return!0;return!1},u.prototype.children=function(){var i;return new q(function(){for(var e=this._element.childNodes,t=[],n=0,r=e.length;n<r;n++)1===(i=e[n]).nodeType&&t.push(new u(i));return t}.call(this))},u.prototype.parent=function(){return new u(this._element.parentNode)},u.prototype.prepend=function(e){return this._element.insertBefore(e.raw(),this._element.firstChild),this},u.prototype.append=function(e){return this._element.appendChild(e.raw()),this},u.prototype.size=function(){var e=function(e){return isNaN(e)?0:e},t=this._element.offsetWidth,n=this._element.offsetHeight,r=e(d(this.css("padding-top"))),i=e(d(this.css("padding-bottom"))),o=e(d(this.css("padding-left"))),s=e(d(this.css("padding-right"))),l=e(d(this.css("border-top-width"))),a=e(d(this.css("border-bottom-width"))),c=e(d(this.css("border-left-width"))),u=e(d(this.css("border-right-width"))),h=e(d(this.css("margin-top"))),p=e(d(this.css("margin-bottom")));return{width:t,height:n,inner:{width:t-o-s-c-u,height:n-r-i-l-a},outer:{width:t+e(d(this.css("margin-left")))+e(d(this.css("margin-right"))),height:n+h+p}}},u.prototype.position=function(e,t){return isFinite(e)&&this.css("top",e+"px"),isFinite(t)&&this.css("left",t+"px"),{left:(t=this.raw().getBoundingClientRect()).left,top:t.top}},u.prototype.html=function(e){var t,n,r,i,o,s;if(null==e)return this._element.outerHTML;for(this._element.innerHTML=e,(r=document.createElement("div")).innerHTML=e,t=0,n=(i=r.getElementsByTagName("script")).length;t<n;t++)o=i[t],(s=document.createElement("script")).innerHTML=o.innerHTML,this._element.innerHTML=this._element.innerHTML.split(s.outerHTML).join(""),this._element.appendChild(s);return this},u.prototype.text=function(e){return null!=e?null!=this._element.textContent?this._element.textContent=e:this._element.innerText=e:null!=this._element.textContent?this._element.textContent:this._element.innerText},u.prototype.css=function(e,t){return t?(this._element.style.cssText=this._element.style.cssText+"; "+e+": "+t,this):(t="",document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(this._element,"").getPropertyValue(e):this._element.currentStyle&&(e=e.replace?e.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()}):e,t=this._element.currentStyle[e]),t)},u.prototype.on=function(e){var t,n,r,i=c.lib("q").defer(),o=function(e){return i.resolve(new s(e||window.event,t))};return(t=this)._element.addEventListener?this._element.addEventListener(e,o,!1):this._element.attachEvent?("input"===e&&I().version<9&&(e="propertychange"),this._element.attachEvent("on"+e,o)):("function"==typeof this._element[e="on"+e]&&(n=this._element[e],r=o,o=function(){return n.apply(this,arguments),r.apply(this,arguments)}),this._element[e]=o),i.promise},u.prototype.swipe=function(){var e,t,n,r,i,o,s,l=c.lib("q").defer();return this._element.addEventListener&&(r=function(e){return e.changedTouches?e.changedTouches[0]:e},t=function(e){return s._x0=r(e).clientX,s._y0=r(e).clientY},n=function(e){var t,n;return!o._y0&&0!==o._y0||(n=r(e).clientY-o._y0,o._y0=null),!o._x0&&0!==o._x0||(t=r(e).clientX-o._x0,o._x0=null),l.resolve(t,n)},e=function(e){var t,n;return!i._y0&&0!==i._y0||(n=r(e).clientY-i._y0),!i._x0&&0!==i._x0||(t=r(e).clientX-i._x0),l.notify(t,n)},(i=o=s=this)._element.addEventListener("mousedown",t,!1),this._element.addEventListener("touchstart",t,!1),this._element.addEventListener("mousemove",e,!1),this._element.addEventListener("touchmove",e,!1),this._element.addEventListener("mouseup",n,!1),this._element.addEventListener("touchend",n,!1),this._element.addEventListener("mouseleave",n,!1)),l.promise},u.prototype.off=function(e){},u.prototype.trigger=function(e){var t;return document.createEvent?(t=document.createEvent("HTMLEvents")).initEvent(e,!0,!0):(t=document.createEventObject()).eventType=e,t.eventName=e,document.createEvent?this._element.dispatchEvent(t):this._element.fireEvent("on"+t.eventType,t)},O=u,e.prototype.raw=function(){return this._event},e.prototype.stopPropagation=function(e){return this._event.stopPropagation?this._event.defaultPrevented?void 0:(e||this._event.preventDefault(),this._event.stopPropagation(),this._event.stopImmediatePropagation()):this._event.cancelBubble=!0},e.prototype.continuePropagation=function(){var e,t;if(this._event.defaultPrevented)return(t=document.createEvent("MouseEvent")).initMouseEvent(this._event.type,this._event.bubbles,this._event.cancelable,this._event.view,this._event.detail,this._event.screenX,this._event.screenY,this._event.clientX,this._event.clientY,this._event.ctrlKey,this._event.altKey,this._event.shiftKey,this._event.metaKey,this._event.button,this._event.relatedTarget),"MSIE"===(e=I()).name&&e.version<9?this.element._element.parentNode.fireEvent(t):this.element._element.parentNode.dispatchEvent(t)},s=e,h.prototype.push=function(e){return this[this.length]=e,this.length++},q=h,L=function(e,t){var n=window.Element.prototype;return(n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||function(e){return-1!==[].indexOf.call(document.querySelectorAll(e),this)}).call(e,t)},d=function(e){return parseInt(e.replace("px",""))},T=function(e,t){var n,r,i,o,s,l,a,c,u,h,p,d,f;if((t=null===(t=null==t?document:t).parentNode?t:t.parentNode).getElementsByClassName)return t.getElementsByClassName(e);for(r=[],f=[],t!==document&&0<=g.call(t.className.split(" "),e)&&f.push(t),s=0,c=(d=e.split(" ")).length;s<c;s++)n=d[s],r.push(new RegExp("(^|\\s)"+n+"(\\s|$)"));for(u=(o=void(l=0)!==t.all?t.all:t.getElementsByTagName("*")).length;l<u;l++){for(i=o[l],p=!1,a=0,h=r.length;a<h&&(p=r[a].test(i.className));a++);p&&f.push(i)}return f},t=function(){var e="Unknown",t="Unknown";return-1!==window.navigator.userAgent.indexOf("Windows NT 10.0")?(e="Windows 10",t="10.0"):-1!==window.navigator.userAgent.indexOf("Windows NT 6.2")?(e="Windows 8",t="6.2"):-1!==window.navigator.userAgent.indexOf("Windows NT 6.1")?(e="Windows 7",t="6.1"):-1!==window.navigator.userAgent.indexOf("Windows NT 6.0")?(e="Windows Vista",t="6.0"):-1!==window.navigator.userAgent.indexOf("Windows NT 5.1")?(e="Windows XP",t="5.1"):-1!==window.navigator.userAgent.indexOf("Windows NT 5.0")?(e="Windows 2000",t="5.0"):-1!==window.navigator.userAgent.indexOf("Mac OS X")?(e="Mac/iOS",t=navigator.userAgent.match(/Mac OS X ([\d_]+)/)[1]):-1!==window.navigator.userAgent.indexOf("Linux")&&(e="Linux",t=navigator.userAgent.match(/Linux (x?[\d_]+)/)[1]),{name:e,version:t}},I=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(n[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||"",language:navigator.language}:/chrome/i.test(n[1])&&null!==(e=t.match(/\b(OPR|Edge)\/(\d+)/))?{name:e[1],version:e[2],language:navigator.language}:(n=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"],null!==(e=t.match(/version\/(\d+)/i))&&n.splice(1,1,e[1]),{name:n[0],version:n[1],language:navigator.language})},n=function(t){var e;if(/chrome/i.test(t.name))(window.RequestFileSystem||window.webkitRequestFileSystem)(window.TEMPORARY,100,function(){return t.is_incognito=!1},function(){return t.is_incognito=!0});else{if(!/safari/i.test(t.name))return/firefox/i.test(t.name)?((e=indexedDB.open("test")).onerror=function(){return t.is_incognito=!0},void(e.onsuccess=function(){return t.is_incognito=!1})):/ie|edge/i.test(t.name)?void(window.indexedDB||!window.PointerEvent&&!window.MSPointerEvent?t.is_incognito=!1:t.is_incognito=!0):t.is_incognito=!1;try{localStorage.test=2,t.is_incognito=!1}catch(e){t.is_incognito=!0}}}}.call(this),function(){var t=window.Clerk,o=function(r){var t,i;return(Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)})(r)?"["+function(){for(var e=[],t=0,n=r.length;t<n;t++)i=r[t],e.push(o(i));return e}().join(", ")+"]":"object"==typeof r?"{"+function(){var e=[];for(t in r)i=r[t],e.push(o(t)+": "+o(i));return e}().join(", ")+"}":"string"==typeof r?'"'+r+'"':""+r},e=function(e){if(/(\[|\{\"|[0-9]|\')/.test(e.substr(0,1)))return t.lib("utils").eval("("+e+")");if("true"===e||"false"===e||"null"===e)return t.lib("utils").eval("("+e+")");throw new Error("invalid json: "+e)};t.lib("json",{encode:window.JSON&&"function"==typeof window.JSON.stringify?JSON.stringify:o,decode:window.JSON&&"function"==typeof window.JSON.parse?JSON.parse:e})}.call(this),function(){var e,t,s=[].slice;function n(){this.promise=new t}function r(){this._isFulfilled=!1,this._isRejected=!1,this._onFulfilled=[],this._onRejected=[],this._onUpdate=[],this._args=null}window.Clerk.lib("q",{defer:function(){return new e}}),n.prototype.resolve=function(){var e,t=1<=arguments.length?s.call(arguments,0):[];return(e=this.promise)._resolve.apply(e,t)},n.prototype.reject=function(){var e,t=1<=arguments.length?s.call(arguments,0):[];return(e=this.promise)._reject.apply(e,t)},n.prototype.notify=function(){var e,t=1<=arguments.length?s.call(arguments,0):[];return(e=this.promise)._notify.apply(e,t)},e=n,r.prototype.then=function(e,t){return this._isFulfilled?e.apply(null,this._args):this._isRejected?t.apply(null,this._args):(e&&this._onFulfilled.push(e),t&&this._onRejected.push(t)),this},r.prototype.catch=function(e){return this._isRejected?e.apply(null,this._args):this._onRejected.push(e),this},r.prototype.update=function(e){return this._onUpdate.push(e),this},r.prototype._resolve=function(){var e,t,n,r,i,o=1<=arguments.length?s.call(arguments,0):[];for(this._isFulfilled=!0,this._args=o,i=[],t=0,n=(r=this._onFulfilled).length;t<n;t++)e=r[t],i.push(e.apply(null,o));return i},r.prototype._reject=function(){var e,t,n,r,i,o=1<=arguments.length?s.call(arguments,0):[];for(this._isRejected=!0,this._args=o,i=[],t=0,n=(r=this._onRejected).length;t<n;t++)e=r[t],i.push(e.apply(null,o));return i},r.prototype._notify=function(){for(var e,t=1<=arguments.length?s.call(arguments,0):[],n=this._onUpdate,r=[],i=0,o=n.length;i<o;i++)e=n[i],r.push(e.apply(null,t));return r},t=r}.call(this),function(){var i=window.Clerk;i.lib("storage",{get:function(e){var t=localStorage.getItem(e);if(t=t||sessionStorage.getItem(e))return i.lib("json").decode(t)},set:function(e,t,n){var r;return null==n&&(n=!0),r=i.lib("json"),(n?localStorage:sessionStorage).setItem(e,r.encode(t))},remove:function(e){return localStorage.removeItem(e),sessionStorage.removeItem(e)}})}.call(this),function(){function e(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e}var h,c,o,u,p,s,l,d,f,a,g,m,v,_,y,w,b,k,t,n,x,C,M,j,S,i={}.hasOwnProperty,E=[].slice,N=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};function r(){return r.__super__.constructor.apply(this,arguments)}function A(){return A.__super__.constructor.apply(this,arguments)}function O(){return O.__super__.constructor.apply(this,arguments)}function q(){}function T(e){this.nodes=null!=e?e:[]}function I(e){this.string=e}function L(e,t){this.variable=e,this.expression=t}function R(e,t){this.expression1=e,this.expression2=t}function P(e,t){this.expression1=e,this.expression2=t}function U(e,t){this.expression1=e,this.expression2=t}function F(e,t){this.expression1=e,this.expression2=t}function D(e){this.expression=e,this.utils=p.lib("utils"),this.expression=this.expression.replace(/(^|\ )not\ /g," !")}function z(e,t,n,r){this.formatters=e,this.expression=t,this.name=n,this.args=null!=r?r:[],this._eval=p.lib("utils").eval}function B(e,t){this.condition=e,this.template=t,this.utils=p.lib("utils")}function W(e,t,n){this.condition=e,this.templateif=t,this.template=n,this.utils=p.lib("utils")}function H(e,t,n){this.replaceName=e,this.itterableName=t,this.template=n,this._eval=p.lib("utils").eval}(p=window.Clerk).lib("template",{compile:function(t,n){var r,i;null==n&&(n={});try{i=S(t),r=c(i,n,t)}catch(e){throw i=e,p.lib("logger").error("Failed while reading template "+i,{template:t,formatters:n}),i}return function(e){return r.render(e).join("")}},attributes:function(e,t){var n;return null==t&&(t={}),n=S(e),c(n,t,e).attributes()}}),e(r,t=function(e){this.string=e}),w=r,e(A,t),d=A,e(O,t),_=O,S=function(e){var t,n,r,i,o,s;for(h.template(e),s=p.lib("utils").trim,i=e.replace(/{{{/,"{{").replace(/}}}/,"}}").replace(/&lt;/,"<").replace(/&gt;/,">").split(/(?={{|}}|{%|%})/),i=x(i),o=[];0<i.length;)switch((n=i.shift()).substr(0,2)){case"{%":if("raw"===(r=s(n.substr(2)))){for(t=i.shift().replace(/\%\}/,""),n=i.shift();0<i.length&&!/\{\% endraw/.test(n)&&!/\{\%endraw/.test(n);)t+=n,n=i.shift();o.push(new _(t))}else o.push(new w(r));break;case"{{":r=s(n.substr(2)),o.push(new d(r));break;case"}}":case"%}":o.push(new _(n.substr(2)));break;default:o.push(new _(n))}return o},c=function(e,t,n){for(var r,i,o,s,l,a=new k;0<e.length;){if((l=e.shift())instanceof w)switch(s=(o=l.string.split(" ")).shift()){case"if":r=new M(o.join(" "),t),i=c(e,t,n),"else"===e[0]?a.nodes.push(new m(r,i,c(e,t,n))):a.nodes.push(new g(r,i));break;case"assign":a.nodes.push(new u(o[0],new M(o.slice(2).join(" "),t)));break;case"else":return e.unshift("else"),a;case"for":i=C(o,"in"),a.nodes.push(new f(o.slice(0,+(i-1)+1||9e9).join(" "),o.slice(i+1,+o.length+1||9e9).join(" "),c(e,t,n)));break;case"comment":for(;null!=e[0]&&"endcomment"!==e[0].string;)e.shift();null!=e[0]&&"endcomment"===e[0].string?e.shift():p.lib("logger").warn("Found start comment with no endcomment");break;case"endif":case"endfor":return a;default:p.lib("logger").error("Unexpected keyword in template: "+s)}l instanceof d&&a.nodes.push(M(l.string,t)),l instanceof _&&a.nodes.push(new b(l.string))}return a},M=function(e,t){var n,r,i=e.replace(/\|\|/," or ");return(e=new RegExp(/\ (and|or|&&)\ /).exec(i))?(n=i.slice(0,e.index),r=i.slice(e.index+e[0].length),new("or"===e[1]?y:o)(M(n,t),M(r,t))):(e=new RegExp(/\b(contains|in)\b/).exec(i))?(n=i.slice(0,e.index),r=i.slice(e.index+e[0].length),new("in"===e[1]?v:s)(M(n,t),M(r,t))):/\|/.test(i)?j(i,t):new l(i)},j=function(e,t){for(var n,r,i,o=x(e.split(" ")),s="";"|"!==o[0]&&0<o.length;)s+=o.shift();for(o.shift(),i=new l(s);0<o.length;){for(r=o.shift(),n=[];"|"!==o[0]&&0<o.length;)n.push(o.shift());o.shift(),i=new a(t,i,r,n)}return i},q.template=function(e){return e&&(this.raw_template=e),this.raw_template},q.prototype.render=function(e){return[""]},q.prototype.value=function(e){return null},q.prototype.attributes=function(){return[]},e(T,h=q),T.prototype.attributes=function(){var i;return[].concat.apply([],function(){for(var e=this.nodes,t=[],n=0,r=e.length;n<r;n++)i=e[n],t.push(i.attributes());return t}.call(this))},T.prototype.render=function(e){for(var t,n=[],r=this.nodes,i=0,o=r.length;i<o;i++)(t=r[i].render(e))&&(n=n.concat(t));return n},k=T,e(I,h),I.prototype.render=function(e){return[this.string]},b=I,e(L,h),L.prototype.render=function(e){return e[this.variable]=this.expression.value(e),""},u=L,e(R,h),R.prototype.attributes=function(){return this.expression1.attributes().concat(this.expression2.attributes())},R.prototype.render=function(e){return[this.value(e).toString()]},R.prototype.value=function(e){return this.expression1.value(e)&&this.expression2.value(e)},o=R,e(P,h),P.prototype.attributes=function(){return this.expression1.attributes().concat(this.expression2.attributes())},P.prototype.render=function(e){return[this.value(e).toString()]},P.prototype.value=function(e){return this.expression1.value(e)||this.expression2.value(e)},y=P,e(U,h),U.prototype.attributes=function(){return this.expression1.attributes().concat(this.expression2.attributes())},U.prototype.render=function(e){return[this.value(e).toString()]},U.prototype.value=function(e){return n(this.expression1.value(e),this.expression2.value(e))},v=U,e(F,h),F.prototype.attributes=function(){return this.expression1.attributes().concat(this.expression2.attributes())},F.prototype.render=function(e){return[this.value(e).toString()]},F.prototype.value=function(e){return n(this.expression2.value(e),this.expression1.value(e))},s=F,e(D,h),D.prototype.attributes=function(){return this.utils.filter(function(e){return/^[a-zA-Z]/.test(e)&&"true"!==e&&"false"!==e},this.expression.replace(/!/g,"").split(" "))},D.prototype.render=function(e){e=this.value(e);return null!=e?"number"!=typeof e.length&&"string"!=typeof e?[JSON.stringify(e)]:[e.toString()]:[""]},D.prototype.value=function(t){var n;try{return this.utils.eval(this.expression,t)}catch(e){return n=e,p.lib("logger").warn("Could not evaluate statement '"+this.expression+"' is it missing in formatters or context? ",{context:t,template:h.template(),error:n}),null}},l=D,e(z,h),z.prototype.attributes=function(){return this.expression.attributes()},z.prototype.render=function(e){var t,n,r,i,o,s,l,a,c;if(!(this.name in this.formatters))return p.lib("logger").warn("Could not find '"+this.name+"' in formatters",{formatters:this.formatters,template:h.template()}),[""];r=this.expression.value(e),i=[];try{for(l=this.args,o=0,s=l.length;o<s;o++)t=l[o],i.push(this._eval(t,e))}catch(e){return n=e,p.lib("logger").error("Error in formatter argument '"+t+"' for '"+this.name+"'",{exception:n}),[""]}try{c=(a=this.formatters)[this.name].apply(a,[r].concat(E.call(i)))}catch(e){return n=e,p.lib("logger").error("Failed while rendering formatter '"+this.name+"'",{exception:n,value:r,arguments:i}),[""]}return[c]},z.prototype.value=function(e){for(var t,n,r=this.expression.value(e),i=[],o=this.args,s=0,l=o.length;s<l;s++)t=o[s],i.push(this._eval(t,e));return(n=this.formatters)[this.name].apply(n,[r].concat(E.call(i)))},a=z,e(B,h),B.prototype.attributes=function(){return this.condition.attributes().concat(this.template.attributes())},B.prototype.render=function(e){return this.condition.value(e)?this.template.render(e):[""]},g=B,e(W,h),W.prototype.attributes=function(){return this.condition.attributes().concat(this.template.attributes()).concat(this.templateif.attributes())},W.prototype.render=function(e){return(this.condition.value(e)?this.templateif:this.template).render(e)},m=W,e(H,h),H.prototype.attributes=function(){return this.template.attributes().concat([this.itterableName])},H.prototype.render=function(t){var n,e,r,i,o,s,l,a,c,u={};for(s in t)c=t[s],u[s]=c;a=[];try{i=this._eval(this.itterableName,t)}catch(e){n=e,p.lib("logger").warn("Could not find '"+this.itterableName+"' in context",{context:t,template:h.template(),error:n})}if(!i)return"";for(o=r=0,l=i.length;o<l;o++)e=i[o],u[this.replaceName]=e,u.loop={index:r,length:i.length,first:0===r,last:r===i.length-1},Array.prototype.push.apply(a,this.template.render(u)),r++;return a},f=H,C=function(e,t){var n,r,i;if(e.indexOf)return e.indexOf(t);for(r=n=0,i=e.length;r<i;r++){if(e[r]===t)return n;n++}},x=function(e){var t,n,r,i;if(e.filter)return e.filter(Boolean);for(i=[],n=0,r=e.length;n<r;n++)""!==(t=e[n])&&i.push(t);return i},n=function(e,t){var n,r;if(null==t||!t)return!1;if("number"!=typeof t.length&&"string"!=typeof t)return 0<=N.call(t,e)||t.hasOwnProperty(e);if(Array.prototype.indexOf||"string"==typeof t)return-1!==t.indexOf(e);for(n=0,r=t.length;n<r;n++)if(t[n]===e)return!0;return!1}}.call(this),function(){var s,l,a,e=window.Clerk,t=0;e.lib("utils",{sleep:function(e){for(var t=(new Date).getTime();!((new Date).getTime()-t>=e););return null},unique_name:function(){return"clerk-"+ ++t},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},filter:function(e,t){for(var n,r=[],i=0,o=t.length;i<o;i++)e(n=t[i])&&r.push(n);return r},eval:function(e,t){return l(e,t=null==t?{}:t)},type:function(e){if(null==e)return"null";switch(Object.prototype.toString.call(e)){case"[object Boolean]":return"boolean";case"[object Number]":return"number";case"[object String]":return"string";case"[object Function]":return"function";case"[object Array]":return"array";case"[object Date]":return"date";case"[object RegExp]":return"regexp";case"[object Object]":return"object"}}}),l=function(e,t){var n,r,i,o;if("!"===(e=e.replace(/^\s+|\s+$/g,"")).charAt(0))return!l(e.slice(1),t);if("false"===e)return!1;if("true"===e)return!0;if(e.match(/^[0-9]*$/))return parseInt(e);if(e.match(/^[0-9]+\.[0-9]$/))return parseFloat(e);if(e.match(/^"[^"]*"$/)||e.match(/^'[^']*'$/))return e.slice(1,-1);if(e.match(/^[A-Za-z][A-Za-z0-9._]*$/))return a(e,t);if(i=e.match(/([0-9a-zA-Z._'"\[\]]+)\s*([!=<>]+[=]?)\s*([0-9a-zA-Z._'"\[\]]+)/))switch(n=l(i[1],t),o=i[2],r=l(i[3],t),o){case"==":return n===r;case"!=":return n!==r;case">=":return r<=n;case"<=":return n<=r;case"<":return n<r;case">":return r<n}return s(e,t)},s=function(e,t){var n,r,i;for(n in t)t[n],n&&(null!=(i=(r=RegExp("\\b"+n+"\\b","g")).exec(e))&&"."===e.substring(i.index-1,i.index)||(e=e.replace(r,"environment."+n)));return new Function("environment","return "+e)(t)},a=function(e,t){for(var n=e.split("."),r=0,i=n.length;r<i;r++)t=t[n[r]];return t}}.call(this),function(){var e,t,s,n,r,i,l,o,a,c,u,h,p,d,f,g,m,v,_,y,w,b,k,x=[].slice,C=window.Clerk,M=window.__clerk_q;if(!C._inited){if(C._inited=!0,s=C.lib("dom"),h=C.lib("logger"),C.lib("json"),y=C.lib("utils"),g=C.lib("storage"),C("config",{proxy:"api.clerk.io/v2",key:void 0,visitor:function(){var e,t;try{g.get("clerk-visitor-id")}catch(e){h.error("Could not load clerk visitor id. Attempted to fix issue",{error:e}),g.remove("clerk-visitor-id")}if(g.get("clerk-visitor-id"))t=g.get("clerk-visitor-id");else{for(t="",e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";t.length<8;)t+=e.charAt(Math.floor(Math.random()*e.length));g.set("clerk-visitor-id",t)}return t}(),debug:{enable:!0,level:"warn",collect:!0},collect_email:!1,language:void 0,formatters:{round:function(e){return Math.round(e)},ceil:function(e){return Math.ceil(e)},floor:function(e){return Math.floor(e)},pct:function(e,t){return Math.round(100-e/t*100)},money:function(e,t,n,r){return null==t&&(t=2),null==n&&(n=","),null==r&&(r="."),n=parseFloat(e).toFixed(0<t?t:1).replace(/(\d)(?=(\d{3})+\.)/g,"$1X").replace(".",r).replace("X",n),n=0===t?n.split(r)[0]:n},money_eu:function(e,t){return C("config","formatters").money(e,t,".",",")},min:function(e){return Math.min.apply(null,e)},max:function(e){return Math.max.apply(null,e)},first:function(e){return e[0]},last:function(e){return e[-1]},nth:function(e,t){return e[t]},includes:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return!0;return!1},keys:function(e){return Object.keys(e)},replace:function(e,t,n){return"string"===y.type(t)&&"string"===y.type(t)?e.split(t).join(n):e.replace(t,n)},highlight:function(e,t,n,r){return null==r&&(r=!1),"clerk-highlight"===(n=null==n?"clerk-highlight":n)&&C.lib("dom").css(".clerk-highlight { background-color: #fff2a8; font-weight: bold; }"),r?("<span class='"+n+"'>"+e.replace(RegExp(""+t,"ig"),"</span>$&<span class='"+n+"'>")+"</span>").replace("<span class='"+n+"'></span>",""):e.replace(RegExp(""+t,"ig"),"<span class='"+n+"'>$&</span>")}},globals:{is_mobile:(k=s.window()).width<768,is_tablet:768<=(b=k.width)&&b<=1024,is_desktop:1024<k.width}}),v="__clerk_tmp_config",-1!==window.location.hash.indexOf("clerkjs:")?(m=window.location.hash.split("clerkjs:")[1],sessionStorage.setItem(v,m)):m=sessionStorage.getItem(v),null!=m)for(r=0,c=(f=m.split("&")).length;r<c;r++)2===(p=(p=f[r]).split("=")).length?(a=p[0],"no"!==(w="yes"===(w=p[1])||"on"===w||"true"===w?!0:w)&&"off"!==w&&"false"!==w||(w=!1),C.config(a,w)):h.warn("Invatid URL parameter!",{param:p});if(M)for(o=0,u=M.length;o<u;o++)e=M[o],e=Array.prototype.slice.call(e),C.apply(null,[e[0]].concat(x.call(e.slice(1))));h.log("Clerk.js loaded and ready.",{url:window.location.href}),"function"==typeof define&&define.amd&&define("clerk",[],function(){return C}),(i=function(){return C("content",".clerk")})(),t=setInterval(i,50),n=setInterval(function(){if("complete"===document.readyState)return clearInterval(t),clearInterval(n),i(),C("call","log/pageview")},50),C("click","*[data-clerk-product-id]"),h.log("Clerk.js checking for url parameters.",{url:window.location.href}),(d=(_=function(e){var t;if(e=e.replace(/[\[\]]/g,"\\$&"),t=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(window.location.href))return t[2]?-1===e.indexOf("@")?decodeURIComponent(t[2].replace(/\+/g," ")):decodeURIComponent(t[2]):""})("clerk_product"))?(b=_("clerk_labels"),k=(k=_("clerk_api")).replace(/\*/g,"/"),v=_("clerk_n"),m=_("clerk_external"),null!=(_=_("clerk_email"))&&C("call","log/email",{email:_}),!isNaN(d)&&isFinite(d)&&(d=parseInt(d)),h.log("Clerk.js found url parameter.",{url:window.location.href,clerk_product:d,clerk_labels:b,clerk_api:k,clerk_n:v,clerk_external:m,clerk_email:_}),C("click",d,{labels:b?b.split(","):void 0,api:k,n:v?parseInt(v):void 0,external:!!m})):h.log("Clerk.js found no url parameters.",{url:window.location.href}),l=setInterval(function(){var e,t,n,r,i,o;if("complete"===document.readyState){for(clearInterval(l),o=C.lib("ui.popup"),i=[],t=0,n=(r=s.find(".clerk-popup")).length;t<n;t++)e=r[t],i.push(o.create(e));return i}},50)}}.call(this);

