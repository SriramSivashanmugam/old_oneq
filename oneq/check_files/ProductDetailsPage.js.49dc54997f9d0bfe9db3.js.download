(window.salesJsonp=window.salesJsonp||[]).push([[17],{"/Z0B":function(t,n,a){"use strict";(function(t){a.d(n,"a",(function(){return Ie}));var i=a("hfKm"),o=a.n(i),r=a("2Eek"),s=a.n(r),c=a("XoMD"),l=a.n(c),d=a("Jo+v"),p=a.n(d),u=a("4mXO"),f=a.n(u),m=a("pbKT"),h=a.n(m),g=a("p0XB"),b=a.n(g),v=a("9Jkg"),y=a.n(v),C=a("ln6h"),x=a.n(C),k=a("pLtp"),S=a.n(k),I=a("0iUn"),O=a("sLSF"),w=a("AT/M"),T=a("Tit0"),L=a("MI3g"),N=a("a7VT"),j=a("vYYK"),P=a("eVuF"),M=a.n(P),A=a("q1tI"),D=a("5dM3"),R=a("RrNd"),F=a("a6RD"),E=a.n(F),U=a("Ftt6"),B=a("BX1O"),H=a("eI37"),V=a("xLlQ"),_=a("rk93"),Q=a.n(_),q=a("Ra6Z"),W=a("dhd9"),G=a("U/e8"),z=a("Da3r"),Z=a("cq7Z"),X=a("yLiY"),K=a.n(X),Y=a("ETzL"),J=a("JNjH"),$=a("BTSr"),ee=a("HW76"),te=a("mwIZ"),ne=a.n(te),ae=a("RBan"),ie=a.n(ae),oe=a("ijCd"),re=a.n(oe),se=a("J2m7"),ce=a.n(se),le=a("MJIl"),de=a.n(le),pe=a("a9jo"),ue=a.n(pe),fe=a("C3wX"),me=a("0Yz8"),he=a("gNO3"),ge=a("wvx5"),be=a("oWEr"),ve=A.createElement;function ye(e,t){var n=S()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return p()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ce(t){var n=function(){if("undefined"===typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(N.a)(t);if(n){var i=Object(N.a)(this).constructor;e=h()(a,arguments,i)}else e=a.apply(this,arguments);return Object(L.a)(this,e)}}var xe=E()((function(){return M.a.resolve().then((function(){return a("Kn+w")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["Kn+w"]},modules:["../SalesIntentModal"]}}),ke=E()((function(){return M.a.resolve().then((function(){return a("x2bk")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["x2bk"]},modules:["../AccessoryIntentModal"]}}),Se=(E()((function(){return M.a.resolve().then((function(){return a("zI6O")}))}),{loadableGenerated:{webpack:function(){return["zI6O"]},modules:["../../../../common/components/Tooltip"]}}),E()((function(){return M.a.resolve().then((function(){return a("AGoX")}))}),{loadableGenerated:{webpack:function(){return["AGoX"]},modules:["../../../../common/components/Modal/Modal"]}})),Ie=function(n){Object(T.a)(i,n);var a=Ce(i);function i(e){var n;return Object(I.a)(this,i),n=a.call(this,e),Object(j.a)(Object(w.a)(n),"context",void 0),Object(j.a)(Object(w.a)(n),"reporting",void 0),Object(j.a)(Object(w.a)(n),"textContent",{dataConnectDeviceAddHeader:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectDeviceAddHeader",z.c.nonCompatibleDeviceModal.dataConnectDeviceAddHeader),dataConnectConflictDescription:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectConflictDescription",z.c.nonCompatibleDeviceModal.dataConnectConflictDescription),dataConnectKeepElseCTALabel:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectKeepElseCTALabel",z.c.nonCompatibleDeviceModal.dataConnectKeepElseCTALabel),dataConnectKeepCTALabel:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.dataConnectKeepCTALabel",z.c.nonCompatibleDeviceModal.dataConnectKeepCTALabel)}),Object(j.a)(Object(w.a)(n),"maxLinesLimitModalTextContent",{maxLinesLimitModalHeader:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimit.master.maxLinesLimitModalHeader",z.c.maxLinesLimitModal.maxLinesLimitModalHeader),maxLinesLimitModalDescription:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimit.master.maxLinesLimitModalDescription",z.c.maxLinesLimitModal.maxLinesLimitModalDescription),maxLinesLimitModalCartCTALabel:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimit.master.maxLinesLimitModalCartCTALabel",z.c.maxLinesLimitModal.maxLinesLimitModalCartCTALabel),maxLinesLimitModalShopOtherDevicesCTALabel:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.maxLinesLimit.master.maxLinesLimitModalCartCTALabel",z.c.maxLinesLimitModal.maxLinesLimitModalShopOtherDevicesCTALabel)}),Object(j.a)(Object(w.a)(n),"deviceLimitModalTextContent",{deviceLimitModalHeading:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalHeading",z.c.deviceLimitModal.deviceLimitModalHeading),deviceMultipleLimitModalText:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalText",z.c.deviceLimitModal.deviceMultipleLimitModalText),deviceSingleLimitModalText:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalText",z.c.deviceLimitModal.deviceSingleLimitModalText),deviceLimitModalRemove:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.deviceLimitModalRemove",z.c.deviceLimitModal.deviceLimitModalRemove),mixedDeviceMultipleLimitModalText:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.mixedDeviceLimitModalText",z.c.deviceLimitModal.mixedDeviceMultipleLimitModalText),sameDeviceMultipleLimitModalText:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.deviceLimit.master.sameDeviceLimitModalText",z.c.deviceLimitModal.sameDeviceMultipleLimitModalText)}),Object(j.a)(Object(w.a)(n),"paymentTypeTextContext",{cartConflictLabelHeader:ne()(n.props.modalsContent,"master.cartConflict.master.cartConflictLabelHeader",z.c.paymentTypes.conflictModal.cartConflictLabelHeader),type:"prepaid"===ne()(n.props,"selectedSku.paymentType")?z.c.paymentTypes.conflictModal.cartConflictPrepaidService:z.c.paymentTypes.conflictModal.cartConflictPostpaidService,cartConflictPrimaryPrepaid1:ne()(n.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPrepaid1",z.c.paymentTypes.conflictModal.cartConflictPrimaryPrepaid1),cartConflictPrimaryPrepaid2:ne()(n.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPrepaid2",z.c.paymentTypes.conflictModal.cartConflictPrimaryPrepaid2),cartConflictPrimaryPostpaid1:ne()(n.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPostpaid1",z.c.paymentTypes.conflictModal.cartConflictPrimaryPostpaid1),cartConflictPrimaryPostpaid2:ne()(n.props.modalsContent,"master.cartConflict.master.cartConflictPrimaryPostpaid2",z.c.paymentTypes.conflictModal.cartConflictPrimaryPostpaid2),cartConflictPaymentTypeSubheader:ne()(n.props.modalsContent,"master.cartConflict.master.cartConflictPaymentTypeSubheader",z.c.paymentTypes.conflictModal.cartConflictPaymentTypeSubheader)}),Object(j.a)(Object(w.a)(n),"wirelineConflictModalTextContent",{wirelineConfilctHeading:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctHeading",z.c.wirelineConfilctModal.wirelineConfilctHeading),wirelineConflictDescription:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConflictDescription",z.c.wirelineConfilctModal.wirelineConflictDescription),wirelineConfilctStartOverLabel:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctStartOverLabel",z.c.wirelineConfilctModal.wirelineConfilctStartOverLabel),wirelineConfilctContinueCTALabel:ne()(n.props.idpcmsCommonContent,"[0].master.modals.master.cartConflict.master.wirelineConfilctContinueCTALabel",z.c.wirelineConfilctModal.wirelineConfilctContinueCTALabel)}),Object(j.a)(Object(w.a)(n),"checkForPlanConstruct",(function(e){var t,a;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:t=e.items,(a=S()(t))&&a.length>0&&a.map((function(e){var a=ne()(t,e),i=ne()(a,"_itemExtraAttributes.isUnlimitedSharedDataGroup");"true"===ne()(a,"_itemExtraAttributes.dataConnectSharedPlan")&&n.setState({firstLineIsDataConnectSharedPlan:!0}),"true"===i&&n.setState({firstLineIsUYW:!0}),"4GBSTSDG"===a.billingCode&&n.setState({firstLineIs4GB:!0})}));case 3:case"end":return i.stop()}}),null,null,null,M.a)})),Object(j.a)(Object(w.a)(n),"getPriceText",(function(){var e="",t=Object(G.g)(n.context.selectedContractTerm,n.context,!0);if(t&&t.displayPrice&&"FREE"!==t.displayPrice){var a=t.displayPrefix||"",i=t.displayPrice||"",o=t.displaySuffix||"";e=" (".concat(a).concat(i).concat(o,")")}return e})),Object(j.a)(Object(w.a)(n),"getButtonText",(function(){return n.props.selectedSku.effectiveOutOfStock?"Out of Stock":n.props.selectedSku.isComingSoon?"Coming Soon":n.props.selectedSku.preOrderable?"Pre Order":n.isIdpEditAction()?"Update cart":n.shouldAddToCart()?"Add to Cart":"UP"===n.props.profileInfo.flowIndicator&&n.props.profileInfo.wirelessAuthenticated?"Upgrade":"Continue"})),Object(j.a)(Object(w.a)(n),"openPaymentTypeConflictModal",(function(){n.setState({showPaymentTypeConflictModal:!0,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"closePaymentTypeConflictModal",(function(){n.setState({showPaymentTypeConflictModal:!1})})),Object(j.a)(Object(w.a)(n),"closeAddToCartErrorModal",(function(){n.setState({addToCartModalVisible:!1})})),Object(j.a)(Object(w.a)(n),"openAddToCartErrorModal",(function(){n.setState({addToCartModalVisible:!0,showSpinner:!1},(function(){n.IntentModalVisibility()}))})),Object(j.a)(Object(w.a)(n),"closeAccessoryRedirectModal",(function(){Object(G.zb)(),n.setState({accessoryModalVisible:!1})})),Object(j.a)(Object(w.a)(n),"openAccessoryRedirectModal",(function(){n.setState({accessoryModalVisible:!0,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"openMaxLinesLimitModal",(function(){n.setState({openMaxLinesModal:!0,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"closeMaxLinesLimitModal",(function(){n.setState({openMaxLinesModal:!1})})),Object(j.a)(Object(w.a)(n),"onMaxLinesLimitModalOtherDeviceClick",(function(){window.location.href="/buy/tablets",n.closeMaxLinesLimitModal})),Object(j.a)(Object(w.a)(n),"onMaxLinesLimitModalCartClick",(function(){window.location.href="".concat(R.b.productDetailsUrls.idseCart),n.closeMaxLinesLimitModal})),Object(j.a)(Object(w.a)(n),"getMaxLinesModalDescription",(function(){return Object(G.nb)(n.maxLinesLimitModalTextContent.maxLinesLimitModalDescription,{maxLinesLimit:"[[maxLinesLimit]]"})})),Object(j.a)(Object(w.a)(n),"openNonCompatibleDeviceModal",(function(){n.setState({showNonCompatibleDeviceModal:!0,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"closeNonCompatibleDeviceModal",(function(){n.setState({showNonCompatibleDeviceModal:!1})})),Object(j.a)(Object(w.a)(n),"openWirelineConfilctModal",(function(){n.setState({showWirelineConfilctModal:!0,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"closeWirelineConfilctModal",(function(){n.setState({showWirelineConfilctModal:!1})})),Object(j.a)(Object(w.a)(n),"openDeviceLimitModal",(function(){n.setState({showDeviceLimitModal:!0,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"closeDeviceLimitModal",(function(){n.setState({showDeviceLimitModal:!1})})),Object(j.a)(Object(w.a)(n),"removeTheExtra",(function(){n.closeDeviceLimitModal(),n.redirectToCartPage()})),Object(j.a)(Object(w.a)(n),"removeCurrentDevice",(function(){n.setState({showNonCompatibleDeviceModal:!1}),n.redirectToCartPage()})),Object(j.a)(Object(w.a)(n),"removeAllOtherItems",(function(){n.setState({showNonCompatibleDeviceModal:!1}),sessionStorage.setItem("cartConflictFound","true"),n.addToCartAndRedirect()})),Object(j.a)(Object(w.a)(n),"wirelineRemoveCurrentDevice",(function(){n.setState({showWirelineConfilctModal:!1}),n.redirectToBundlePage()})),Object(j.a)(Object(w.a)(n),"redirectToListPage",(function(){window.location.href="/buy/accessories"})),Object(j.a)(Object(w.a)(n),"redirectToCartPage",(function(){window.location.href="/buy/cart"})),Object(j.a)(Object(w.a)(n),"redirectToBundlePage",(function(){window.location.href="/buy/bundles/"})),Object(j.a)(Object(w.a)(n),"wirelineRemoveAllOtherItems",(function(e){return function(t){var a=R.b.deleteWirelineCart,i=e.lobListFound,o=[];for(var r in i)o.push(a+i[r]);he.a.removeAllOtherLobCarts(o),n.props.isAccessory?U.a.addItemsToCart(n.props.selectedSku.skuId,n.props.selectedSku.productId,n.props.quantity).then((function(e){var t=U.a.checkATCSuccess(e);n.setState({addToCartSuccess:t,showWirelineConfilctModal:!1}),n.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",n.context,t?1:-1),n.openAccessoryRedirectModal()})):n.addToCartAndRedirect()}})),Object(j.a)(Object(w.a)(n),"redirectToCart",(function(){var e,t;return x.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(!n.state.paymentTypeConflict){a.next=4;break}window.location.href="/buy/cart?retrieveCart=true&expandedview=true",a.next=13;break;case 4:if(!n.props.isIdpAccessoryRedirectOn){a.next=9;break}e="true"===sessionStorage.getItem("cartModalAlreadyOpened"),n.state.isLoggedIn||e?window.location.href="".concat(R.b.productDetailsUrls.idseCart):(n.closeAccessoryRedirectModal(),sessionStorage.setItem("cartModalAlreadyOpened","true"),n.setState({intentsToShow:["ACC","ACCNEW"],intentModalVisible:!0,showNewCustomerLink:!1})),a.next=13;break;case 9:return a.next=11,x.a.awrap(W.a.displayUserIntent("&skuId=".concat(n.props.selectedSku.skuId)));case 11:(t=a.sent)&&t.payload&&!0===t.payload.showIntentModal&&t.payload.userIntent.length>0?(n.closeAccessoryRedirectModal(),n.setState({intentsToShow:t.payload.userIntent,intentModalVisible:!0,showNewCustomerLink:t.payload.showNewCustomerLink})):!1===n.props.profileInfo.wirelessAuthenticated&&"authenticated"===n.props.profileInfo.customerState?Y.a.setUserIntent_pdp("ACC",n.props.selectedSku.skuId).then((function(e){window.location.href=e.redirectURL})):window.location.href="/cart/mycart.html";case 13:n.fireLinkClick("Check out","/cart/mycart.html");case 14:case"end":return a.stop()}}),null,null,null,M.a)})),Object(j.a)(Object(w.a)(n),"fireReportingAndCloseModal",(function(){n.fireLinkClick("CloseKeepShoppingModal","/buy/accessories/details"),n.closeAccessoryRedirectModal(),n.props.pageLoadEvent(n.state.addToCartSuccess?"DSACC":null,n.context)})),Object(j.a)(Object(w.a)(n),"keepShopping",(function(){n.fireLinkClick("Keep Shopping","/buy/accessories/details"),n.closeAccessoryRedirectModal(),window.location.href="/buy/accessories"})),Object(j.a)(Object(w.a)(n),"keepShoppingPageLoadEvent",(function(){var e={"page.location.url":"/accessories/keepshopping/modal","page.pageInfo.friendlyPageName":"DS Accessories Keep Shopping Modal Pg","page.pageInfo.flowCode":n.state.addToCartSuccess?"DSACC":"DSUNK"};n.reporting.firePageLoadEvent(e)})),Object(j.a)(Object(w.a)(n),"fireLinkClick",(function(e,t){var a={linkName:e,linkPosition:"Body",linkDestinationUrl:t};n.reporting.fireLinkClickEvent(a)})),Object(j.a)(Object(w.a)(n),"addToCartAndRedirect",(function(){var e,t,a;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,x.a.awrap(n.props.cartDetails.addDeviceToCart(n.props.selectedSku));case 2:if(e=i.sent,t=Object(fe.a)(n.props.profileInfo.flowIndicator,n.props.profileInfo.subFlowType,n.props.selectedSku.paymentType,!0),n.props.events.handleSubmitReporting(n.props.configViewPath,n.getButtonText(),n.context,e?1:-1,t),a="true"===localStorage.getItem("maxLinesModal"),!(e&&ne()(e,"content.payload.conflictCode")===z.c.maxLinesLimitModal.maxLinesLimitModalShopOtherDevicesCTALabel||a)){i.next=12;break}return n.IntentModalVisibility(),n.openMaxLinesLimitModal(),i.abrupt("return",!1);case 12:if(!e){i.next=19;break}return n.setState({shouldNotSetSelectedDeviceConfig:!0}),sessionStorage.removeItem("selectedDeviceConfig"),n.props.events.redirectToConfigView(),i.abrupt("return",!0);case 19:return n.setState({atcFired:0},(function(){n.openAddToCartErrorModal()})),i.abrupt("return",!1);case 21:case"end":return i.stop()}}),null,null,null,M.a)})),Object(j.a)(Object(w.a)(n),"renderAccessoryRedirectModalHeader",(function(){return n.state.addToCartSuccess?ve("div",{className:D.addToCartModalAbove},ve(V.a,{icon:Q.a,size:"24px",style:{fill:"#008917"}}),ve("span",{className:D.addToCartModalTextSuccess},ve("h3",{className:"heading-md"},"You added ".concat(n.props.selectedSku.shortDisplayName," to your cart!")),ve("p",null,"What would you like to do next?"))):ve("div",{className:D.addToCartModalAbove},ve("span",{className:"".concat(D.addToCartModalTextError," mar-b-xxs")},ve("h3",null,"We've encountered an error adding\n                                ".concat(n.props.selectedSku.displayName||n.props.selectedSku.shortDisplayName,"\n                            to the cart, please try again"))))})),Object(j.a)(Object(w.a)(n),"renderAddToCartErrorModalHeader",(function(){return ve($.a.Consumer,null,(function(e){return ve("div",{className:D.addToCartModalAbove},ve("span",{className:"".concat(D.addToCartModalTextError," mar-b-xxs")},ve("h3",null,e.errorModalHeaderContent?e.errorModalHeaderContent:"Oops, something went wrong! Please try adding that item to your cart again.")))}))})),Object(j.a)(Object(w.a)(n),"createAccessoryRedirectModalContent",(function(){return n.state.addToCartSuccess?ve(A.Fragment,null,ve("div",{className:D.intentSpace},ve("hr",{className:D.modalDivider}),ve("div",{className:D.addToCartModalButtonsContainer},ve(B.a,{events:{onClick:n.keepShopping},buttonConfig:{disabled:!1,type:[H.b.GhostWhite]},className:"btn-small btn-full-width ".concat(D.intentButton)},"Keep shopping"),ve(B.a,{events:{onClick:function(){return n.redirectToCart()}},buttonConfig:{disabled:!1,type:[H.b.GhostWhite]},className:"btn-small btn-full-width ".concat(D.intentButton)},"Go to cart")))):ve(A.Fragment,null,ve("div",{className:D.intentSpace},ve("hr",{className:D.modalDivider}),ve("div",{className:D.addToCartModalButtonsContainer},ve(B.a,{events:{onClick:n.closeAccessoryRedirectModal},buttonConfig:{disabled:!1,type:[H.b.GhostWhite]},className:"btn-small btn-full-width ".concat(D.intentButton)},"Close"))))})),Object(j.a)(Object(w.a)(n),"createAddToCartErrorModalContent",(function(e){return ve(A.Fragment,null,ve("div",{className:D.intentSpace},ve("hr",{className:D.modalDivider}),ve("div",{className:D.addToCartModalButtonsContainer},ve(B.a,{events:{onClick:e},buttonConfig:{disabled:!1,type:[H.b.GhostWhite]},className:"btn-small btn-full-width ".concat(D.intentButton)},"Close"))))})),Object(j.a)(Object(w.a)(n),"clearSessionStorageItems",(function(){sessionStorage.getItem("offerId")&&sessionStorage.removeItem("offerId"),sessionStorage.getItem("offerBOGOid")&&sessionStorage.removeItem("offerBOGOid"),sessionStorage.getItem("myFavstoreCurrentSku")&&sessionStorage.removeItem("myFavstoreCurrentSku")})),Object(j.a)(Object(w.a)(n),"setContractTermSessionStorage",(function(e,t){var a=t&&t.paymentType&&"postpaid"===t.paymentType,i=t&&t.deviceType&&"pda"===t.deviceType,r=a&&i,c=Object(G.H)(),d=r&&c&&"true"===c["pdp-hyla-tradein"],u={};if(void 0!==n.context.isTradeInSelected&&(u.hylaTradeInIntentIndicator=n.context.isTradeInSelected),void 0!==n.context.isPortInSelected&&(u.portinIndicator=n.context.isPortInSelected),void 0!==n.context.isTradeInSelected&&void 0!==n.context.hylaOfferCodeInContext&&"DEFAULT"!==n.context.hylaOfferCodeInContext&&(u.shoppingContext={offerCode:n.context.hylaOfferCodeInContext}),d)if(Object(G.bb)(n.context.hylaTradeInResponse)){var f=sessionStorage.getItem("selectedDeviceConfig")&&JSON.parse(sessionStorage.getItem("selectedDeviceConfig"));u.hylaTradeInResponse=f&&f.hylaTradeInResponse||{}}else void 0!==n.context.hylaTradeInResponse&&(u.hylaTradeInResponse=n.context.hylaTradeInResponse);var m=t&&t.deviceSubType&&t.paymentType&&"postpaid"===t.paymentType&&"simcard"===t.deviceSubType?{extraData:{deviceTypeForByod:t.deviceType}}:{},h=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ye(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):l.a?s()(e,l()(n)):ye(Object(n)).forEach((function(t){o()(e,t,p()(n,t))}))}return e}({},u,{commitmentTerm:Object(G.ib)(e),sku:t},m);sessionStorage.setItem("selectedDeviceConfig",y()(h))})),Object(j.a)(Object(w.a)(n),"planFirstBreakIntent",(function(e){var t;return x.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if("phones"===(t=Object(G.x)(n.props.selectedSku.deviceType,n.props.selectedSku.deviceSubType,n.props.selectedSku.paymentType))||t===z.c.CONNECTED_DEVICES_AND_MORE||!e.isPartiallyCompleteLosgLines){a.next=6;break}return n.setState({showPlanFirstBreakIntentModal:!0}),a.abrupt("return",!1);case 6:return a.abrupt("return",!0);case 7:case"end":return a.stop()}}),null,null,null,M.a)})),Object(j.a)(Object(w.a)(n),"ctaClick",(function(e){var t,a,i,o,r,s,c,l,d,p,u,f,m,h,g,b,v,C,k,S,I,O,w,T,L,N,j,P;return x.a.async((function(M){for(;;)switch(M.prev=M.next){case 0:if(n.setState({showSpinner:!0}),!e||!e.wirelineLobsFound){M.next=4;break}return n.setState({showWirelineConfilctModal:!0}),M.abrupt("return");case 4:if(!n.state.paymentTypeConflict){M.next=6;break}return M.abrupt("return");case 6:if(t="prepaid"===n.props.selectedSku.paymentType&&q.prepaidRedirect.enabled,n.paymentTypeConflictRedirection(e,t)){M.next=10;break}return M.abrupt("return");case 10:return a=new CustomEvent(z.b.INTENT_CONTINUE),window.dispatchEvent(a),i=q.IntentModalPDP&&window.location.href.includes("intent=NEW"),o="true"===Object(G.H)()["pdp-plan-view-redirect"],r="true"===Object(G.H)()["pdp-data-connect-llp"],s="true"===Object(G.H)()["pdp-auth-wireline-to-config"],c="true"===Object(G.H)()["pdp-unauth-wireline-to-login"],M.next=19,x.a.awrap(ge.a.getProfileInfo());case 19:if(void 0!==(l=M.sent)&&(d=ge.a.getAuthState(l),console.log("NSCTA profileInfoResponse",l,d),n.setState({isIdpAuthenticated:d.isAuthenticated},(function(){console.log("NSCTA update isIdpAuth",n.state.isIdpAuthenticated)})),n.setState({hasIdpWireless:d.isWireless},(function(){console.log("NSCTA update hasWireless",n.state.hasIdpWireless)})),n.setState({hasIdpWireline:d.isWireline},(function(){console.log("NSCTA update hasWireline",n.state.hasIdpWireline)}))),!s){M.next=32;break}if(p=(p=localStorage.getItem("redirectedLogin"))?JSON.parse(p):{},u=n.getUrlMap(),!n.state.isIdpAuthenticated||n.state.hasIdpWireless||n.props.isAccessory){M.next=31;break}return void 0!==p&&Object(G.k)(),M.next=29,x.a.awrap(n.addToCartAndRedirect());case 29:M.next=32;break;case 31:n.state.isIdpAuthenticated&&n.state.hasIdpWireless&&void 0!==p&&(f=ne()(p,"intentUpgrade"),m=ne()(p,"selectedDeviceConfig"),f&&m&&(sessionStorage.setItem("selectedDeviceConfig",y()(m)),Object(G.k)(),h=u.idseUrl+"&wlsfi=up",window.location.href=h));case 32:if(!c||n.state.isIdpAuthenticated||void 0===n.state.isIdpAuthenticated){M.next=37;break}if(!n.state.hasIdpWireline||localStorage.getItem("redirectedLogin")){M.next=37;break}return Object(G.wb)(!0),window.location.href=Object(G.R)(),M.abrupt("return");case 37:if(!n.isIdpEditAction()){M.next=49;break}return g={losgId:n.props.idpAccessoryDetails.losgsId,itemId:n.props.idpAccessoryDetails.id,offerId:n.props.selectedSku.productId,productSKU:n.props.selectedSku.skuId,quantity:n.props.quantity},M.next=41,x.a.awrap(U.a.modifyIdpCart(g));case 41:return b=M.sent,v=U.a.checkATCIdpSuccess(b),n.setState({addToCartSuccess:v}),n.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Update Cart",n.context,v?1:-1),n.openAccessoryRedirectModal(),M.abrupt("return");case 49:if(!n.props.isAccessory||!n.props.isIdpAccessoryRedirectOn){M.next=61;break}return C={offerId:n.props.selectedSku.productId,productSKU:n.props.selectedSku.skuId,quantity:n.props.quantity},M.next=53,x.a.awrap(U.a.addToIdpCart(C));case 53:return k=M.sent,S=U.a.checkATCIdpSuccess(k),n.setState({addToCartSuccess:S}),n.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",n.context,S?1:-1),n.openAccessoryRedirectModal(),M.abrupt("return");case 61:if(!n.props.isAccessory){M.next=72;break}return M.next=64,x.a.awrap(U.a.addItemsToCart(n.props.selectedSku.skuId,n.props.selectedSku.productId,n.props.quantity));case 64:return I=M.sent,O=U.a.checkATCSuccess(I),n.setState({addToCartSuccess:O}),n.props.events.handleSubmitReporting("/accessories/keepshopping/modal","Add to Cart",n.context,O?1:-1),n.openAccessoryRedirectModal(),M.abrupt("return");case 72:if("simcard"!==n.props.deviceSubType){M.next=80;break}if(n.setContractTermSessionStorage(n.context.selectedContractTerm.name,n.props.selectedSku),n.props.selectedSku.deviceType&&n.props.selectedSku.deviceType.toUpperCase()===z.c.simDeviceTypes.Wearable&&(window.location.href="/buy/wireless/byod/"),!t){M.next=78;break}return n.fireReportingAndNavigate("/buy/wireless/prepaid/?wlsview=prepaidbyod",n.getButtonText(),-2),M.abrupt("return");case 78:M.next=98;break;case 80:if(!t){M.next=98;break}if("true"!==Object(G.H)()["pdp-prepaid"]||!o||ne()(e,"isPlanFirstMode")){M.next=95;break}if(!r){M.next=89;break}return M.next=85,x.a.awrap(n.displayConflictModal(e));case 85:!M.sent&&n.props.configViewPath&&(n.state.atcFired||n.setState({atcFired:n.state.atcFired+1},(function(){n.addToCartAndRedirect()}))),M.next=93;break;case 89:return M.next=91,x.a.awrap(n.conflictRedirection(e));case 91:M.sent&&n.props.configViewPath&&(n.state.atcFired||n.setState({atcFired:n.state.atcFired+1},(function(){n.addToCartAndRedirect()})));case 93:M.next=97;break;case 95:n.setContractTermSessionStorage(ne()(n.context,"selectedContractTerm.name"),n.props.selectedSku),n.fireReportingAndNavigate("/buy/wireless/prepaid/?wlsview=devicesfirst&sku=".concat(ne()(n.props,"selectedSku.skuId")),n.getButtonText(),-2);case 97:return M.abrupt("return");case 98:if(w=n.getUrlMap(),q.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),!o||t||!i){M.next=114;break}if(!r){M.next=108;break}return M.next=104,x.a.awrap(n.displayConflictModal(e));case 104:M.sent||n.addToCartAndRedirect(),M.next=112;break;case 108:return M.next=110,x.a.awrap(n.conflictRedirection(e));case 110:M.sent&&n.addToCartAndRedirect();case 112:M.next=150;break;case 114:if(!q.IntentModalPDP||!window.location.href.includes("intent=NEW")){M.next=122;break}return M.next=117,x.a.awrap(n.conflictRedirection(e));case 117:return M.sent&&(window.location.href="CRU"===n.props.profileInfo.customerType?w.deviceConfigUrl:w.idseUrl),M.abrupt("return");case 122:if(!q.IntentModalPDP){M.next=144;break}if(T=!1,L=!1,!r){M.next=129;break}return M.next=128,x.a.awrap(n.displayConflictModal(e));case 128:T=M.sent;case 129:if(T){M.next=133;break}return M.next=132,x.a.awrap(n.displayDeviceLimitModal(e));case 132:L=M.sent;case 133:return M.next=135,x.a.awrap(n.conflictRedirection(e));case 135:if(N=M.sent,j=!0,!e||!e.isPlanFirstMode){M.next=141;break}return M.next=140,x.a.awrap(n.planFirstBreakIntent(e));case 140:j=M.sent;case 141:N&&j&&!T&&!L&&n.handleIntentModalDeviceCTA(e),M.next=150;break;case 144:return P="",q.IDSERedirect?(P=w.idseUrl,sessionStorage.setItem(z.c.intentModalContent.sessionStorageKey,'{"intent": "DSUNK"}')):P=screen.width<767?w.termSelectUrl:w.deviceConfigUrl,M.next=148,x.a.awrap(n.conflictRedirection(e));case 148:M.sent&&(n.props.events.handleSubmitReporting(P,n.getButtonText(),n.context,0),n.clearSessionStorageItems(),n.setContractTermSessionStorage(n.context.selectedContractTerm.name,n.props.selectedSku),!n.props.profileInfo||!0!==n.props.profileInfo.wirelessAuthenticated||"CRU"!==n.props.profileInfo.customerType||!0!==n.props.profileInfo.exAlFlow||"AL"!==n.props.profileInfo.flowIndicator&&"ALF"!==n.props.profileInfo.flowIndicator?n.props.profileInfo&&!0===n.props.profileInfo.wirelessAuthenticated&&"CRU"===n.props.profileInfo.customerType&&!0===n.props.profileInfo.exUpFlow&&"UP"===n.props.profileInfo.flowIndicator?window.location.href=w.upgradeEligibilityUrl:window.location.href=P:window.location.href=w.deviceRecommenderUrl);case 150:case"end":return M.stop()}}),null,null,null,M.a)})),Object(j.a)(Object(w.a)(n),"emptyCart",(function(e){return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t&&document&&e)){n.next=5;break}return sessionStorage&&sessionStorage.getItem("addAnotherDevice")&&sessionStorage.removeItem("addAnotherDevice"),n.next=4,x.a.awrap(e.clearCart());case 4:window.location.reload();case 5:case"end":return n.stop()}}),null,null,null,M.a)})),Object(j.a)(Object(w.a)(n),"redirectLegacy",(function(e){if(e.clearCart(),"true"===Object(G.H)()["pdp-data-connect-llp"])n.fireLinkClick("Keep connected device","Config view"),n.props.events.redirectToConfigView();else{var t="".concat(R.b.productDetailsUrls.deviceConfigUrl).concat(n.props.selectedSku.skuId);n.fireLinkClick("Keep connected device",t),n.setState({showConflictModal:!1}),window.location.href=t}})),Object(j.a)(Object(w.a)(n),"redirectHub",(function(e){n.setState({showConflictModal:!1});var t=e.getCurrentCartItem().productSKU?"?skuId=".concat(e.getCurrentCartItem().productSKU):"";if(n.fireLinkClick("Remove connected device","/buy/hub/".concat(t)),n.props.cartDetails.isPlanFirstMode){var a=n.getUrlMap();window.location.href=a.deviceConfigUrl}else window.location.href="/buy/hub/".concat(t)})),Object(j.a)(Object(w.a)(n),"planFirstBreakIntentCancel",(function(){var e="".concat(R.b.plpUrl);n.fireLinkClick("Cancel",e),n.setState({showConflictModal:!1}),window.location.href=e})),Object(j.a)(Object(w.a)(n),"planFirstBreakIntentContinue",(function(){n.setState({showConflictModal:!1}),n.props.updateEditLosgId(void 0),n.addToCartAndRedirect()})),Object(j.a)(Object(w.a)(n),"hideConflictModal",(function(){n.setState({showConflictModal:!1,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"hidePlanFirstBreakIntentModal",(function(){n.setState({showPlanFirstBreakIntentModal:!1,showSpinner:!1})})),Object(j.a)(Object(w.a)(n),"getDataConnectConflictDescription",(function(){var e=Object(j.a)({deviceName:n.props.selectedSku.shortDisplayName},"name-of-device",n.props.selectedSku.shortDisplayName);return Object(G.nb)(n.textContent.dataConnectConflictDescription,e)})),Object(j.a)(Object(w.a)(n),"getDeviceLimitModalText",(function(){var e={limitDeviceName:n.state.deviceLimit+" "+n.props.selectedSku.shortDisplayName},t={limit:n.state.deviceLimit},a={limitDeviceSubTypeName:n.state.deviceLimit+" "+n.state.dataConnectedDeviceName};return n.state.deviceLimit>1&&n.state.dataConnectedDeviceName?Object(G.nb)(n.deviceLimitModalTextContent.sameDeviceMultipleLimitModalText,a):n.state.deviceLimit>1?n.state.isMixedCount?Object(G.nb)(n.deviceLimitModalTextContent.mixedDeviceMultipleLimitModalText,t):Object(G.nb)(n.deviceLimitModalTextContent.deviceMultipleLimitModalText,e):Object(G.nb)(n.deviceLimitModalTextContent.deviceSingleLimitModalText,e)})),n.state={accessoryModalVisible:!1,addToCartSuccess:!1,intentModalVisible:!1,intentsToShow:[],showNewCustomerLink:!1,addToCartModalVisible:!1,userIntentApiResponse:{payload:{},response:{}},showConflictModal:!1,showNonCompatibleDeviceModal:!1,showDeviceLimitModal:!1,showPaymentTypeConflictModal:!1,paymentTypeConflict:!1,showPlanFirstBreakIntentModal:!1,shouldNotSetSelectedDeviceConfig:!1,firstDeviceDataConnect:!1,firstLineIs4GB:!1,firstLineIsUYW:!1,firstLineIsDataConnectSharedPlan:!1,atcFired:0,cartRedirect:!1,emptyCart:!1,deviceLimit:0,showWirelineConfilctModal:!1,isMixedCount:!1,dataConnectedDeviceName:"",isLoggedIn:!1,hasIdpWireless:!1,isIdpAuthenticated:!1,hasIdpWireline:!1,showSpinner:!1,openMaxLinesModal:!1},n.closeAccessoryRedirectModal=n.closeAccessoryRedirectModal.bind(Object(w.a)(n)),n.IntentModalVisibility=n.IntentModalVisibility.bind(Object(w.a)(n)),n.disabledButtonClick=n.disabledButtonClick.bind(Object(w.a)(n)),n.fireReportingAndNavigate=n.fireReportingAndNavigate.bind(Object(w.a)(n)),n.conflictRedirection=n.conflictRedirection.bind(Object(w.a)(n)),n.addToCartAndRedirect=n.addToCartAndRedirect.bind(Object(w.a)(n)),n.emptyCart=n.emptyCart.bind(Object(w.a)(n)),n.closePaymentTypeConflictModal=n.closePaymentTypeConflictModal.bind(Object(w.a)(n)),n.openPaymentTypeConflictModal=n.openPaymentTypeConflictModal.bind(Object(w.a)(n)),n.paymentTypeConflictRedirection=n.paymentTypeConflictRedirection.bind(Object(w.a)(n)),n.reporting=new Z.a,n}return Object(O.a)(i,[{key:"componentDidMount",value:function(){var e;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState({isLoggedIn:!Object(G.db)()}),t.next=3,x.a.awrap(this.callDisplayUserIntentApi(this.props.selectedSku.skuId||""));case 3:return t.t0=JSON,t.next=6,x.a.awrap(localStorage.getItem("redirectedLogin"));case 6:t.t1=t.sent,e=t.t0.parse.call(t.t0,t.t1),!0===ne()(e,"redirectedToLogin")&&window.location.href.includes("haloSuccess=true")&&this.ctaClick();case 10:case"end":return t.stop()}}),null,this,null,M.a)}},{key:"componentDidUpdate",value:function(e){e.selectedSku.deviceSubType!==this.props.selectedSku.deviceSubType&&this.callDisplayUserIntentApi(e.selectedSku.skuId)}},{key:"displayDeviceLimitModal",value:function(e){var t,n,a,i,o,r,s,c,l,d,p,u,f,m,h,g,b,v;return x.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(t=2,n=1,i=[(a={harmanMake:"HARMAN",harmanModel:"Spark",aWIMake:"AT&T",aWIModel:"Wireless Internet",tablet:"tablet",camera:"connecteddevice",miFI:"hotspot",modem:"usbconnect"}).tablet,a.camera,a.miFI,a.modem],o=re()(this.props.selectedSku.manufacturer,a.harmanMake)&&re()(this.props.selectedSku.model,a.harmanModel),r=re()(this.props.selectedSku.manufacturer,a.aWIMake)&&re()(this.props.selectedSku.model,a.aWIModel),s=re()(i,this.props.selectedSku.deviceSubType),c=0,l=0,d=0,p=0,u=0,f=0,m=!1,!(o||r||s)){y.next=45;break}if(!(e.cartItems.length>0)){y.next=44;break}if(e.cartItems.forEach((function(e){switch(ne()(e,"device.hardGood.make")===a.harmanMake&&ne()(e,"device.hardGood.model")===a.harmanModel&&c++,ne()(e,"device.hardGood.make")===a.aWIMake&&ne()(e,"device.hardGood.model")===a.aWIModel&&l++,ne()(e,"device.hardGood.wirelessHardGoodCharacteristics._deviceSubType")){case a.tablet:d++;break;case a.modem:f++;break;case a.camera:u++;break;case a.miFI:p++}var t=ce()(e.items,(function(e){return"sharedDataGroup"===e.itemType}));m=ne()(t,"_itemExtraAttributes.isUnlimitedSharedDataGroup",!1)})),h=[{name:a.tablet,count:d},{name:a.camera,count:u},{name:a.miFI,count:p},{name:a.modem,count:f}],g=ue()(h,"count"),!(o&&c>=t)){y.next=25;break}return this.setState({deviceLimit:t}),this.openDeviceLimitModal(),y.abrupt("return",!0);case 25:if(!(r&&l>=n)){y.next=31;break}return this.setState({deviceLimit:n}),this.openDeviceLimitModal(),y.abrupt("return",!0);case 31:if(o||!s||!de()(h,(function(e){return e.count>=t}))){y.next=40;break}if(b=ce()(h,(function(e){return e.count>=t})),v=a.tablet===b.name&&!0===m,this.props.deviceSubType===b.name?this.setState({deviceLimit:t,dataConnectedDeviceName:b.name+"s"}):this.setState({deviceLimit:t,isMixedCount:!0}),v){y.next=38;break}return this.openDeviceLimitModal(),y.abrupt("return",!0);case 38:y.next=44;break;case 40:if(!(!o&&s&&g>=t)){y.next=44;break}return this.setState({deviceLimit:t,isMixedCount:!0}),this.openDeviceLimitModal(),y.abrupt("return",!0);case 44:case 45:return y.abrupt("return",!1);case 46:case"end":return y.stop()}}),null,this,null,M.a)}},{key:"displayConflictModal",value:function(e){var t,n,a,i,o,r,s,c,l,d,p,u,f,m,h,g,b,v=this;return x.a.async((function(y){for(;;)switch(y.prev=y.next){case 0:if(e&&e.cartItems.length>0&&(t=ie()(e.cartItems),n=ne()(t,"device.hardGood.wirelessHardGoodCharacteristics._deviceSubType",!1)),!n){y.next=52;break}return y.next=4,x.a.awrap(this.checkForPlanConstruct(t));case 4:if(i=[(a={harmanMake:"HARMAN",harmanModel:"Spark",aWIMake:"AT&T",aWIModel:"Wireless Internet",phone:"pda",tablet:"tablet",wearable:"wearable",camera:"connecteddevice",miFI:"hotspot",modem:"usbconnect"}).camera,a.miFI,a.modem],o=this.state.firstLineIsUYW,r=this.state.firstLineIs4GB,s=this.state.firstLineIsDataConnectSharedPlan,c=n===a.tablet,l=!1,d=!1,p=re()(this.props.selectedSku.manufacturer,a.harmanMake)&&re()(this.props.selectedSku.model,a.harmanModel),u=re()(this.props.selectedSku.manufacturer,a.aWIMake)&&re()(this.props.selectedSku.model,a.aWIModel),f=this.props.selectedSku.deviceSubType===a.tablet,m=this.props.selectedSku.deviceSubType===a.phone,h=this.props.selectedSku.deviceSubType===a.wearable,g=re()(i,this.props.selectedSku.deviceSubType)&&!p&&!u,t&&t.items?S()(t.items).forEach((function(e){var n=ne()(t.items,e);ne()(n,"hardGood.make")===a.aWIMake&&ne()(n,"hardGood.model")===a.aWIModel&&(l=!0,v.setState({firstDeviceDataConnect:!0})),ne()(n,"hardGood.make")===a.harmanMake&&ne()(n,"hardGood.model")===a.harmanModel&&(d=!0,v.setState({firstDeviceDataConnect:!0}))})):(re()(i,n)&&!c||c&&s)&&this.setState({firstDeviceDataConnect:!0}),b=!c&&(re()(i,n)&&!l&&!d),!l||u){y.next=25;break}return this.openNonCompatibleDeviceModal(),y.abrupt("return",!0);case 25:if(!d||p){y.next=30;break}return this.openNonCompatibleDeviceModal(),y.abrupt("return",!0);case 30:if(!b||!(u||p||m||h)){y.next=35;break}return this.openNonCompatibleDeviceModal(),y.abrupt("return",!0);case 35:if(!c){y.next=41;break}if(!(u||h&&!o&&!r||p&&!o)){y.next=39;break}return this.openNonCompatibleDeviceModal(),y.abrupt("return",!0);case 39:y.next=51;break;case 41:if(n!==a.phone){y.next=47;break}if(!(u||p&&!o||g&&!p&&!o||f&&!o&&!r)){y.next=45;break}return this.openNonCompatibleDeviceModal(),y.abrupt("return",!0);case 45:y.next=51;break;case 47:if(n!==a.wearable){y.next=51;break}if(!(u||p&&!o||f&&!o&&!r||g&&!p&&!o)){y.next=51;break}return this.openNonCompatibleDeviceModal(),y.abrupt("return",!0);case 51:case 52:return y.abrupt("return",!1);case 53:case"end":return y.stop()}}),null,this,null,M.a)}},{key:"callDisplayUserIntentApi",value:function(e){var t;return x.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x.a.awrap(W.a.displayUserIntent("&skuId=".concat(e)));case 2:t=n.sent,this.setState({userIntentApiResponse:t});case 4:case"end":return n.stop()}}),null,this,null,M.a)}},{key:"isIdpEditAction",value:function(){return this.props.isAccessory&&this.props.isIdpEditAction&&"CRU"!==this.props.profileInfo.customerType&&this.props.isIdpAccessoryRedirectOn&&this.props.idpAccessoryDetails}},{key:"getButtonTypes",value:function(){var e=[H.b.Blue,H.b.Large];return this.context.selectedContractTerm&&this.context.selectedContractTerm.monthlyNextUpCharge&&!this.context.isContractTermSelected?e[0]=H.b.DarkDisabledBackground:(this.props.selectedSku.effectiveOutOfStock||this.props.selectedSku.isComingSoon)&&(e[0]=H.b.DarkDisabledBackground),e}},{key:"getFlowType",value:function(e){return e&&e.wirelessAuthenticated&&("AL"===e.flowIndicator||"ALF"===e.flowIndicator)||e.exAlFlow?"AAL":e&&e.wirelessAuthenticated&&"UP"===e.flowIndicator?"UP":null}},{key:"shouldAddToCart",value:function(){return this.props.isAccessory||q.IntentModalPDP&&"prepaid"===this.props.selectedSku.paymentType||"AAL"===this.getFlowType(this.props.profileInfo)&&q.contractTermsPDP.enabled&&"CRU"!==this.props.profileInfo.customerType}},{key:"IntentModalVisibility",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({intentModalVisible:e,showSpinner:e})}},{key:"paymentTypeConflictRedirection",value:function(e,t){if(!e)return!0;var n,a,i=e.cartItems;if(!i||!b()(i))return!0;i.forEach((function(e){if(e){var t=e.items;if(t&&"object"===typeof t){var i=S()(t);if(i&&b()(i)){var o=i.filter((function(e){if(e&&-1!==e.indexOf(z.c.paymentTypes.prepaidItemIdPrefix))return!0})),r=i.filter((function(e){if(e&&-1===e.indexOf(z.c.paymentTypes.prepaidItemIdPrefix))return!0}));a||(a=!!o.length),n||(n=!!i.length&&!!r.length)}}}}));var o=t?n:a;return o&&this.openPaymentTypeConflictModal(),!o}},{key:"conflictRedirection",value:function(e){var t,n,a,i,o,r,s;return x.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return t=Object(G.x)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),c.next=3,x.a.awrap(this.checkLegacyCart());case 3:if(n=c.sent,a=this.state.userIntentApiResponse,i=this.props.profileInfo,o="true"===Object(G.H)()["pdp-data-connect-llp"],r=a&&a.payload&&!1===a.payload.showIntentModal&&0===a.payload.userIntent.length&&this.isEligibleForATC(t),s="UP"===this.getFlowType(i)||"AAL"===this.getFlowType(i),!n){c.next=19;break}if(("CRU"===this.props.profileInfo.customerType||"wearables"!==this.props.selectedSku.deviceSubType)&&("CRU"===this.props.profileInfo.customerType||"pda"!==this.props.selectedSku.deviceType&&"handset"!==this.props.selectedSku.deviceType)){c.next=14;break}return c.abrupt("return",!0);case 14:if(o){c.next=17;break}return this.redirectLegacy(e),c.abrupt("return",!1);case 17:c.next=28;break;case 19:if(!r&&!s){c.next=25;break}if(t!==z.c.CONNECTED_DEVICES_AND_MORE||0!=e.cartItems.length||o){c.next=23;break}return this.redirectLegacy(e),c.abrupt("return",!1);case 23:c.next=28;break;case 25:if(!(t===z.c.CONNECTED_DEVICES_AND_MORE&&e.cartItems.length>0)||o){c.next=28;break}return this.setState({showConflictModal:!0}),c.abrupt("return",!1);case 28:return c.abrupt("return",!0);case 29:case"end":return c.stop()}}),null,this,null,M.a)}},{key:"fireDeviceATC",value:function(e){var t,n,a;return x.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t={contractLength:"regular"===this.context.selectedContractTerm.type?this.context.selectedContractTerm.name:this.context.selectedContractTerm.leaseTotalMonths,contractType:"regular"===this.context.selectedContractTerm.type?this.context.selectedContractTerm.type:this.context.selectedContractTerm.name,downPaymentAmt:0},i.next=3,x.a.awrap(U.a.addItemToCart(this.props.selectedSku.skuId,this.props.selectedSku.productId,this.props.profileInfo.flowIndicator,"deviceDetails",t));case 3:n=i.sent,Object(G.zb)(),U.a.checkATCSuccess(n)&&""!==n.addToCartResultHolder.redirectionURLValue?(localStorage.setItem("rexDeviceSkuId",y()(this.props.selectedSku.skuId)),a=n.addToCartResultHolder.redirectionURLValue,"prepaid-phones"===e&&screen.width<767&&(a=R.b.productDetailsUrls.plansServicesHubUrl),a.endsWith("deviceconfigurator.html")&&(a+="?sku=".concat(this.props.selectedSku.skuId,"&hideTerms=true&term=").concat(this.context.selectedContractTerm.name)),this.props.events.handleSubmitReporting(a,this.getButtonText(),this.context,1),window.location.href=a):(this.setState({accessoryModalVisible:!0,addToCartSuccess:!1}),this.props.events.handleSubmitReporting("/product/details/modal/error",this.getButtonText(),this.context,-1));case 6:case"end":return i.stop()}}),null,this,null,M.a)}},{key:"checkLegacyCart",value:function(){var e=this;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",U.a.cartMetadataApi(this.props.goldenEyeContext).then((function(t){var n=Boolean(t&&t.payload&&t.payload.metadata&&(t.payload.metadata.wireless&&t.payload.metadata.wireless.extra_params&&(void 0===t.payload.metadata.wireless.extra_params.cart_source||"IDP_wireless"!==t.payload.metadata.wireless.extra_params.cart_source)||t.payload.metadata.wireline&&t.payload.metadata.wireline.extra_params&&(void 0===t.payload.metadata.wireline.extra_params.cart_source||"IDP_wireline"!==t.payload.metadata.wireline.extra_params.cart_source)));return e.setState({itemInLegacyCart:n}),n})));case 1:case"end":return t.stop()}}),null,this,null,M.a)}},{key:"processUserIntentApi",value:function(t,n){var a,i,o,r,s,c,l,d,p,u,f,m,h,g,b=this;return x.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:return a=t.payload,i=t.response,v.next=4,x.a.awrap(this.checkLegacyCart());case 4:o=v.sent,r=Object(G.x)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),s=JSON.parse(sessionStorage.getItem("addAnotherDevice")),c="true"===Object(G.H)()["pdp-data-connect-llp"],l=ne()(this.props,"profileInfo.flowIndicator"),d="authenticated"===ne()(this.props,"profileInfo.customerState"),p=this.state.isIdpAuthenticated&&this.state.hasIdpWireless,u=this.state.isIdpAuthenticated&&this.state.hasIdpWireline,f=!1;try{m=JSON.parse(sessionStorage.getItem("appShell:IDSEIntent")).wirelessIntent}catch(e){}if(!(a.showIntentModal&&a.userIntent&&a.userIntent.length>0)||s||this.props.cartDetails.isPlanFirstMode||!(n&&0===n.cartItems.length||d&&("al"===m||"up"===m)||l)){v.next=21;break}this.props.events.handleSubmitReporting("/devices/intent/modal",this.getButtonText(),this.context,0),a.showNewCustomerLink&&p?(console.log("NSCTA showLinks showNewCustomer and authenticated wireless"),f=!1):u?(console.log("NSCTA showLinks authenticated wireline"),f=!0):(console.log("NSCTA showLinks fallthrough"),f=!1),console.log("NSCTA authenticated with-intent",{isAuthenticatedHasWireline:u,isAuthenticatedHasWireless:p,shouldShowNewCustomer:f,sessionIntent:m,profileInfoFlowIndicator:l}),this.setState({intentsToShow:a.userIntent,intentModalVisible:!0,showSpinner:!1,showNewCustomerLink:f}),v.next=64;break;case 21:if(!this.state.isLoggedIn&&!d||"AAL"===l||"UP"===l||!p&&!u){v.next=26;break}console.log("NSCTA authenticated no-intent",{idpAuth:this.state.isIdpAuthenticated,hasWireless:this.state.hasIdpWireless,hasWireline:this.state.hasIdpWireline,shouldShowNewCustomer:f,sessionIntent:m,profileInfoFlowIndicator:l}),this.setState({intentsToShow:a.userIntent,intentModalVisible:!0,showNewCustomerLink:!1}),v.next=64;break;case 26:if(c||"tablets"!==r||"simcard"===this.props.selectedSku.deviceSubType||!this.props.cartDetails.isPlanFirstMode){v.next=30;break}this.redirectLegacy(n),v.next=64;break;case 30:if("true"!==Object(G.H)()["pdp-plan-view-redirect"]){v.next=41;break}if(!c){v.next=38;break}return v.next=34,x.a.awrap(this.displayConflictModal(n));case 34:v.sent||this.state.atcFired||this.setState({atcFired:this.state.atcFired+1},(function(){b.addToCartAndRedirect()})),v.next=39;break;case 38:this.state.atcFired||this.setState({atcFired:this.state.atcFired+1},(function(){b.addToCartAndRedirect()}));case 39:v.next=64;break;case 41:if(!i.redirect||null===i.redirectURL){v.next=46;break}this.props.events.handleSubmitReporting(i.redirectURL,this.getButtonText(),this.context,0),window.location.href=i.redirectURL,v.next=64;break;case 46:if(h=this.getUrlMap(),g="",q.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),!q.IDSERedirect||"CRU"===this.props.profileInfo.customerType||o){v.next=54;break}g=h.idseUrl,sessionStorage.setItem(z.c.intentModalContent.sessionStorageKey,'{"intent": "DSUNK"}'),v.next=60;break;case 54:if("CRU"!==this.props.profileInfo.customerType){v.next=59;break}return this.fireDeviceATC(r),v.abrupt("return");case 59:g=screen.width<767?h.termSelectUrl:h.deviceConfigUrl;case 60:this.props.events.handleSubmitReporting(g,this.getButtonText(),this.context,0),this.clearSessionStorageItems(),this.setContractTermSessionStorage(this.context.selectedContractTerm.name,this.props.selectedSku),window.location.href=g;case 64:case"end":return v.stop()}}),null,this,null,M.a)}},{key:"isNextUpTerm",value:function(){return!0!==this.isSMBDefaultTermSelected()&&!this.context.selectedPricingIndex&&(this.context.selectedContractTerm&&Object(G.pb)(this.props.selectedSku.priceList)&&!this.context.isContractTermSelected)}},{key:"isSMBDefaultTermSelected",value:function(){return"CRU"===this.props.profileInfo.customerType&&this.props.selectedSku.defaultCommitmentTerm&&this.props.selectedSku.includedCommitmentTerm}},{key:"isButtonDisabled",value:function(){return this.props.selectedSku.effectiveOutOfStock||this.props.selectedSku.isComingSoon}},{key:"disabledButtonClick",value:function(){this.isNextUpTerm()&&this.context.setShowProductPricingError(!0)}},{key:"renderButtonContent",value:function(){return ve(be.a,{dataQa:this.props.dataQa,usedOn:"learn",toolTipContent:z.c.nextStepCTA.tooltipErrorMessage,getPriceText:this.getPriceText(),isNextUpTerm:this.isNextUpTerm(),isButtonDisabled:this.isButtonDisabled(),getButtonTypes:this.getButtonTypes(),getButtonText:this.getButtonText(),ctaClickHandler:this.ctaClick,disabledButtonClick:this.disabledButtonClick,showSpinner:this.state.showSpinner})}},{key:"render",value:function(){var e=this;return ve(A.Fragment,null,ve("div",{className:D.deviceCta,style:{backgroundColor:"black"},"data-qa":this.props.dataQa},this.renderButtonContent()),ve($.a.Consumer,null,(function(t){return ve(ee.a,{show:e.state.showConflictModal,title:"Hmm...we ran into a snag",description:"You\u2019ve selected connected device that must be purchased separately from the rest of your order. What do you want to do?",action1Label:"Remove all other items",action2Label:"Remove the connected device",action1:function(){return e.redirectLegacy(t)},action2:function(){return e.redirectHub(t)},onClose:e.hideConflictModal})})),ve(ee.a,{show:this.state.showPlanFirstBreakIntentModal,title:"Before you checkout...",description:"You added a device that's not a phone, so the prices shown at the start of your order no longer apply. Therefore, we updated your price per line.",action1Label:"Cancel",action2Label:"Continue",action1:function(){return e.planFirstBreakIntentCancel()},action2:function(){return e.planFirstBreakIntentContinue()},onClose:this.hidePlanFirstBreakIntentModal}),ve("div",{className:D.addToCartModalStyles},"undefined"!==typeof document&&ve(Se,{isOpen:this.state.accessoryModalVisible,onRequestClose:this.fireReportingAndCloseModal,onAfterOpen:this.keepShoppingPageLoadEvent,header:this.renderAccessoryRedirectModalHeader(),width:6},this.createAccessoryRedirectModalContent())),ve("div",{className:D.addToCartModalStyles},"undefined"!==typeof document&&ve(Se,{isOpen:this.state.addToCartModalVisible,onRequestClose:this.closeAddToCartErrorModal,header:this.renderAddToCartErrorModalHeader(),width:6},this.createAddToCartErrorModalContent(this.closeAddToCartErrorModal))),!this.props.isAccessory&&ve(xe,{intentsToShow:this.state.intentsToShow,isIntentModalOpen:this.state.intentModalVisible,showNewCustomerLink:this.state.showNewCustomerLink,closeModal:this.IntentModalVisibility,selectedSku:this.props.selectedSku,selectedContractTerm:this.context.selectedContractTerm,deviceSubType:this.props.deviceSubType,profileInfo:this.props.profileInfo,bgPageLoadEvent:function(){return e.props.pageLoadEvent(void 0,e.context)},itemInLegacyCart:this.state.itemInLegacyCart,isAccessory:this.props.isAccessory,intentModalContent:this.props.idpcmsCommonContent,priceOptions:this.context.priceOptions,selectedPricingIndex:this.context.selectedPricingIndex,redirectToConfigView:this.addToCartAndRedirect,isAuthenticated:this.state.isIdpAuthenticated}),this.props.isAccessory&&ve(ke,{intentsToShow:this.state.intentsToShow,isIntentModalOpen:this.state.intentModalVisible,showNewCustomerLink:this.state.showNewCustomerLink,closeModal:this.IntentModalVisibility,selectedSku:this.props.selectedSku,selectedContractTerm:this.context.selectedContractTerm,deviceSubType:this.props.deviceSubType,profileInfo:this.props.profileInfo,bgPageLoadEvent:function(){return e.props.pageLoadEvent(void 0,e.context)},itemInLegacyCart:this.state.itemInLegacyCart,isAccessory:this.props.isAccessory,fireReportingAndNavigate:this.fireReportingAndNavigate,isIdpAccessoryRedirectOn:this.props.isIdpAccessoryRedirectOn}),ve(Se,{isOpen:this.state.showNonCompatibleDeviceModal,onRequestClose:this.closeNonCompatibleDeviceModal,width:6},ve(A.Fragment,null,ve("h1",{className:"heading-md mar-b-xxs ".concat(D.headerText)},this.textContent.dataConnectDeviceAddHeader),ve("div",{className:"font-regular type-sm ".concat(D.modalSubText)},this.getDataConnectConflictDescription(),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(D.nonCompatibleDeviceButton),onClick:this.removeAllOtherItems},ve("div",{className:"type-sm font-regular ".concat(D.btnText)},this.textContent.dataConnectKeepCTALabel)),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(D.nonCompatibleDeviceButton," ").concat(D.btnMargin),onClick:this.removeCurrentDevice},ve("div",{className:"type-sm font-regular ".concat(D.btnText)},this.textContent.dataConnectKeepElseCTALabel))))),ve(Se,{isOpen:this.state.openMaxLinesModal,onRequestClose:this.closeMaxLinesLimitModal,width:6},ve(A.Fragment,null,ve("h1",{className:"heading-md mar-b-xxs ".concat(D.headerText)},this.maxLinesLimitModalTextContent.maxLinesLimitModalHeader),ve("div",{className:"font-regular type-sm ".concat(D.modalSubText)},this.getMaxLinesModalDescription(),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-primary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left",onClick:this.onMaxLinesLimitModalCartClick},ve("div",{className:"type-sm font-regular ".concat(D.btnText)},this.maxLinesLimitModalTextContent.maxLinesLimitModalCartCTALabel)),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(D.btnMargin),onClick:this.onMaxLinesLimitModalOtherDeviceClick},ve("div",{className:"type-sm font-regular ".concat(D.btnText)},this.maxLinesLimitModalTextContent.maxLinesLimitModalShopOtherDevicesCTALabel))))),ve($.a.Consumer,null,(function(t){return!!t&&ve(Se,{isOpen:e.state.showWirelineConfilctModal,onRequestClose:e.closeWirelineConfilctModal,width:6},ve(A.Fragment,null,ve("h1",{className:"heading-md mar-b-xxs ".concat(D.headerText)},e.wirelineConflictModalTextContent.wirelineConfilctHeading),ve("div",{className:"font-regular type-sm ".concat(D.modalSubText)},ve("div",{dangerouslySetInnerHTML:{__html:e.wirelineConflictModalTextContent.wirelineConflictDescription}}),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(D.nonCompatibleDeviceButton),onClick:e.wirelineRemoveAllOtherItems(t)},ve("div",{className:"type-sm font-regular ".concat(D.wirelineButtonText)},e.wirelineConflictModalTextContent.wirelineConfilctStartOverLabel)),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg text-left ".concat(D.nonCompatibleDeviceButton," ").concat(D.btnMargin),onClick:e.wirelineRemoveCurrentDevice},ve("div",{className:"type-sm font-regular ".concat(D.wirelineButtonText)},e.wirelineConflictModalTextContent.wirelineConfilctContinueCTALabel)))))})),ve(Se,{isOpen:this.state.showDeviceLimitModal,onRequestClose:this.closeDeviceLimitModal,width:6},ve(A.Fragment,null,ve("h1",{className:"heading-md mar-b-xxs"},this.deviceLimitModalTextContent.deviceLimitModalHeading),ve("div",{className:"font-regular type-base"},this.getDeviceLimitModalText(),ve("button",{type:"button",className:"btn btn-large btn-full-width btn-secondary btn-arrow mar-t-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",onClick:this.removeTheExtra},ve("div",{className:"type-base font-regular"},this.deviceLimitModalTextContent.deviceLimitModalRemove))))),ve($.a.Consumer,null,(function(t){return!!t&&ve(Se,{isOpen:e.state.showPaymentTypeConflictModal,onRequestClose:e.closePaymentTypeConflictModal,width:6,modalTextClassName:"inline-flex"},ve("div",null,ve("div",{className:"mar-b-xxs type-md font-medium ".concat(D.paymentTypeConflictModalHeader)},e.paymentTypeTextContext.cartConflictLabelHeader),ve("div",{className:"type-sm font-regular",dangerouslySetInnerHTML:{__html:Object(G.nb)(e.paymentTypeTextContext.cartConflictPaymentTypeSubheader,e.paymentTypeTextContext)}}),ve("button",{"data-qa":"PDP-paymentType-conflictModal-emptyCart",type:"button",className:"btn btn-small btn-full-width btn-primary mar-t-sm-lg mar-b-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",onClick:function(){e.state.paymentTypeConflict||e.setState({paymentTypeConflict:!0,emptyCart:!0},(function(){return e.emptyCart(t)}))}},ve("div",{className:"type-xs"},e.state.emptyCart?ve(me.a,{config:{size:"20px"}}):Object(G.nb)(t&&t.prepaidFlow?e.paymentTypeTextContext.cartConflictPrimaryPostpaid1:e.paymentTypeTextContext.cartConflictPrimaryPrepaid1,e.paymentTypeTextContext))),ve("button",{"data-qa":"PDP-paymentType-conflictModal-cartRedirect",type:"button",className:"btn btn-small btn-full-width btn-secondary mar-t-xxs pad-b-xs-lg pad-t-xs-lg pad-r-xs-lg pad-l-xs-lg",onClick:function(){e.state.paymentTypeConflict||e.setState({paymentTypeConflict:!0,cartRedirect:!0},(function(){return e.redirectToCart()}))}},ve("div",{className:"type-xs"},e.state.cartRedirect?ve(me.a,{config:{size:"20px"}}):Object(G.nb)(t&&t.prepaidFlow?e.paymentTypeTextContext.cartConflictPrimaryPostpaid2:e.paymentTypeTextContext.cartConflictPrimaryPrepaid2,e.paymentTypeTextContext)))))})))}},{key:"getUrlMap",value:function(){var e="".concat(R.b.productDetailsUrls.deviceRecommenderUrl).concat(this.props.selectedSku.skuId),t="".concat(R.b.productDetailsUrls.upgradeEligibilityUrl),n="".concat(R.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId),a="".concat(R.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId);q.contractTermsPDP.enabled&&(a+="&hideTerms=true&term=".concat(this.context.selectedContractTerm.name));var i="".concat(R.b.productDetailsUrls.termSelectUrl).concat(this.props.selectedSku.skuId);q.IntentModalPDP||"prepaid"===this.props.selectedSku.paymentType||(i+="&checkintent=true");var o=window.location.host;return"www.att.com"===o?i="https://m.att.com".concat(i):o.indexOf("finalstage")>-1?i="https://fs.att.com".concat(i):o.startsWith("m")||(i="https://m".concat(o).concat(i)),{idseUrl:n,termSelectUrl:i,deviceConfigUrl:a,deviceRecommenderUrl:e,upgradeEligibilityUrl:t}}},{key:"fireReportingAndNavigate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.props.events.handleSubmitReporting(e,t,this.context,n),window.location.href=e}},{key:"isEligibleForATC",value:function(e){return"CRU"===this.props.profileInfo.customerType&&window.location.href.includes("invalidateAuthCRUSession=true")||"prepaid-phones"===e||"connected-devices-and-more"===e}},{key:"handleIntentModalDeviceCTA",value:function(e){var t,n,a,i,o,r,s,c,l,d,p=this;return x.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=this.props.profileInfo,n=this.getUrlMap(),this.clearSessionStorageItems(),this.state.shouldNotSetSelectedDeviceConfig||this.setContractTermSessionStorage(this.context.selectedContractTerm.name,this.props.selectedSku),a=Object(G.x)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),i=this.state.userIntentApiResponse,o=i&&i.payload&&!1===i.payload.showIntentModal&&0===i.payload.userIntent.length&&this.isEligibleForATC(a),r="UP"===this.getFlowType(t)||"AAL"===this.getFlowType(t),"true"!==Object(G.H)()["pdp-plan-view-redirect"]||!r&&!o){u.next=11;break}return this.addToCartAndRedirect(),u.abrupt("return");case 11:if(!o){u.next=14;break}return this.fireDeviceATC(a),u.abrupt("return");case 14:if(s=K()().publicRuntimeConfig,c=Object(G.b)(s,this.props.profileInfo.customerType,this.props.profileInfo.flowIndicator),"UP"!==this.getFlowType(t)){u.next=24;break}return l=this.context.selectedContractTerm.name,d=this.context.selectedContractTerm.leaseTotalMonths,"1"!==l&&"24"!==l||(d=l,l="regular"),Y.a.setUserIntent_pdp("UP",this.props.selectedSku.skuId,l,d).then((function(){p.fireReportingAndNavigate(n.upgradeEligibilityUrl,p.getButtonText())})),u.abrupt("return");case 24:if("AAL"!==this.getFlowType(t)||"CRU"!==t.customerType){u.next=29;break}return this.fireReportingAndNavigate(n.deviceRecommenderUrl,this.getButtonText()),u.abrupt("return");case 29:if("AAL"!==this.getFlowType(t)){u.next=34;break}return c?this.fireReportingAndNavigate("".concat(n.idseUrl,"&wlsfi=al"),this.getButtonText()):this.fireDeviceATC(a),u.abrupt("return");case 34:this.processUserIntentApi(i,e);case 35:case"end":return u.stop()}}),null,this,null,M.a)}}]),i}(A.Component);Object(j.a)(Ie,"contextType",J.a)}).call(this,a("8oxB"))},"/wOQ":function(e,t,n){"use strict";var a=n("p0XB"),i=n.n(a),o=n("Wa2I"),r=n.n(o),s=n("doui"),c=n("q1tI"),l=n("MX0m"),d=n.n(l),p=n("uVxl"),u=n("vyOo"),f=n("AGoX"),m=n("mwIZ"),h=n.n(m),g=n("OFL0"),b=n.n(g),v=c.createElement;function y(e){var t=c.useState(!1),n=Object(s.a)(t,2),a=n[0],i=n[1],o=v(c.Fragment,null,b()(e.plan,"legalContent.legalModalTitle")&&v("div",null,v("h1",{className:"type-md color-ui-black pad-t-xxs"},v("b",null,e.plan.legalContent.legalModalTitle)),v(p.a,{space:24,topSpace:16}))),r=[],l=[];e.details.map((function(t){if(b()(t,"master.disclaimer")){var n="CRU"===e.customerType?t.master.disclaimer.replace(/<a href=/gi,'<a target="_blank" href='):t.master.disclaimer;r.push(v("div",{className:"type-xs color-ui-dark-gray font-regular",dangerouslySetInnerHTML:{__html:n}}))}})),e.details.map((function(t){if(b()(t,"master.ranking")){var n=h()(t,"master.description"),a=h()(t,"master.displayName");("CRU"===e.customerType||e.isPrepaid)&&(n&&(n=n.replace(/<a href=/gi,'<a target="_blank" href=')),a&&(a=a.replace(/<a href=/gi,'<a target="_blank" href='))),l.push(v("li",{className:"plans-list-element",key:t.master.ranking},v("div",{className:"type-sm color-ui-dark-gray font-regular",dangerouslySetInnerHTML:{__html:a}}),n&&v("div",{className:"type-xs color-ui-dark-gray font-regular",dangerouslySetInnerHTML:{__html:n}})))}}));var m=e.isPrepaid&&e.isMultiMonthPlan;return v(c.Fragment,null,e.isSelected&&v(c.Fragment,null,v(p.a,{space:16,topSpace:16}),!!m&&!!e.displayName&&v("div",{className:"jsx-2405437290 text-align-left full-width"},v("p",{className:"jsx-2405437290 type-sm"},e.displayName)),v("div",{className:"jsx-2405437290 text-align-left full-width mar-b-none"},v("ul",{className:"jsx-2405437290 plans-feature-list"},l),r.length>0&&v("div",{className:"jsx-2405437290 pad-t-sm"},r),b()(e.plan,"legalContent.legalLinkText")&&b()(e.plan,"legalContent.legalLongPaths")&&e.plan.legalContent.legalLongPaths.length>0&&v("div",{className:"jsx-2405437290 type-xs mar-t-xs"},e.hasAbpDiscount&&e.plan.legalContent.planLegalWithoutAutopay+" ",v(u.a,{events:{onClick:function(){i(!0)}},dataQa:"plan-LegalLink",className:"color-ui-black font-regular link-text",options:{linkPosition:e.linkPosition}},e.plan.legalContent.legalLinkText))),b()(e.plan,"legalContent.legalLongPaths")&&e.plan.legalContent.legalLongPaths.length>0&&v(f.default,{header:o,isOpen:a,onRequestClose:function(){i(!1)},modalContentClassName:"modal-content pad-l-md pad-r-md pad-b-none",modalCloseClassName:"close-button no-border"},v("div",{className:"jsx-2405437290 break-word type-legal"},e.plan.legalContent.legalLongPaths.map((function(e){return v(c.Fragment,null,b()(e,"master.legalText")&&v("div",{dangerouslySetInnerHTML:{__html:e.master.legalText},className:"jsx-2405437290"}))})))),v(d.a,{id:"2405437290"},[".break-word.jsx-2405437290{word-break:break-word;}","ul.plans-feature-list.jsx-2405437290{list-style-type:disc;padding-left:16px;}","li.plans-list-element.jsx-2405437290{margin:0 0 7px 0;}"])))}var C=n("lZBS"),x=n("ZSdl"),k=n("JNjH"),S=n("J2m7"),I=n.n(S),O=n("ijCd"),w=n.n(O),T=n("Da3r"),L=n("BTSr"),N=n("U/e8"),j=n("cq7Z");n.d(t,"a",(function(){return M}));var P=c.createElement,M=function(e){var t=c.useContext(k.a),n=c.useContext(L.a),a=c.useState(void 0),o=Object(s.a)(a,2),l=o[0],d=o[1],p=c.useState(void 0),u=Object(s.a)(p,2),m=u[0],g=u[1],v=c.useState(!1),S=Object(s.a)(v,2),O=S[0],M=S[1],A=c.useState(void 0),D=Object(s.a)(A,2),R=D[0],F=D[1],E=c.useRef(!0),U=c.useRef(!1),B=c.useRef(void 0),H=c.useRef(void 0),V="Appreciation",_="AT&T",Q="Traditional",q="FANServiceDiscount";c.useEffect((function(){Se()}),[]),c.useEffect((function(){Se()}),[e.signaturePromotionId,n.fAN]),c.useEffect((function(){we()}),[e.signaturePromotionPercent,m]);var W=function(e){var t={linkName:e,linkPosition:"Plans Component"};(new j.a).fireLinkClickEvent(t)},G=function(){W("planPromoLegalClosed"),M(!1)},z=e.sharedDataGroup&&e.sharedDataGroup.displayName&&e.sharedDataGroup.price&&(e.sharedDataGroup.price.groupPrice||e.isPrepaid&&e.sharedDataGroup.price.mrc),Z=e.isPrepaid&&"multiMonthPlan"===h()(e,"sharedDataGroup.displayGroups[0].key"),X="".concat(T.c.configView.pscCMSFeedRootPath,".plans.master"),K=h()(e.plansContent,"".concat(X,".prefix"),T.c.plan.prefix),Y=Z?"":h()(e.plansContent,"".concat(X,".suffix"),T.c.plan.suffix),J=h()(e.sharedDataGroup,"price.groupPrice.deviceAccessFees",void 0),$=h()(e,"sharedDataGroup.price.dueToday","undefined"),ee=h()(e,"sharedDataGroup.price.netMrc","undefined"),te=e.abpEnrolled?h()(e,"sharedDataGroup.price.groupPrice.netMrc","undefined"):h()(e,"sharedDataGroup.price.groupPrice.mrc","undefined"),ne=e.isPrepaid?ee:te,ae=I()(J,(function(t){return t.productId===e.productId})),ie=ae&&ae.netMrc?ae.netMrc:ne,oe=ae&&ae.mrc?ae.mrc:void 0;oe=oe?r()(oe).toFixed(2):void 0,Z&&(ie=$);var re={numberofdevices:n.getAllDevices().length,planprice:r()(ie).toFixed(2)},se=K+Object(N.nb)(h()(e.plansContent,"".concat(X,".price"),T.c.plan.price),re),ce="".concat(X,re.numberofdevices>1?".multiDevicePriceSubText":".singleDevicePriceSubText"),le=re.numberofdevices>1?T.c.plan.multiDevicePriceSubText:T.c.plan.singleDevicePriceSubText,de=e.sharedDataGroup.isMnM||e.sharedDataGroup.isLLP||"dataplan"===e.sharedDataGroup.productType||"VOICEPLAN"===e.sharedDataGroup.productType?"":Object(N.nb)(h()(e.plansContent,ce,le),re),pe=e.contentForPlan,ue=b()(pe,"master.expandedDetails")?h()(pe,"master.expandedDetails"):[];e.isPrepaid&&ue&&i()(ue)&&(ue=(ue=ue.sort((function(e,t){return h()(e,"master.ranking",T.c.prepaidPlans.prepaidPlanRankingEnd)-h()(t,"master.ranking",T.c.prepaidPlans.prepaidPlanRankingEnd)}))).filter((function(e){if(e)return T.c.prepaidPlans.prepaidPlanRankingEnd-h()(e,"master.ranking",T.c.prepaidPlans.prepaidPlanRankingEnd)>0})));var fe,me=b()(pe,"master.shortDetails")?h()(pe,"master.shortDetails"):[],he="prepaid"===h()(e.skuInContext,"paymentType")||"prepaidpda"===h()(e,"selectedSku.deviceSubType"),ge=1===h()(e.sharedDataGroup,"price.noOfTerms"),be=h()(e.sharedDataGroup,"price.noOfTerms")>1,ve=h()(e.sharedDataGroup,"price.noOfTerms"),ye=h()(e.plansContent,"".concat(T.c.configView.pscCMSFeedRootPath,".configLabels.master.planDisclamerWithAutopay"),T.c.plan.planDisclamerWithAutopay),Ce=Object(N.nb)(h()(e.plansContent,"".concat(T.c.configView.pscCMSFeedRootPath,".configLabels.master.planDisclaimerMultiMothly"),T.c.plan.planDisclaimerMultiMothly),{months:ve}),xe=h()(e.sharedDataGroup,"childSkus[0].promotionReferences"),ke=w()(xe,e.aBPDiscountId);he&&ke&&ge?fe=ye:he&&be&&(fe=Ce);var Se=function(){var t=h()(e.sharedDataGroup,"price.groupPrice.deviceAccessFees");t&&!U.current&&t.map((function(t){t.productId===e.productId&&(Ie(t),Oe(t),t.mrc&&F(t.mrc))}))},Ie=function(t){var n=h()(t,"priceAdjustments");n&&n.map((function(n){if(h()(n,"type")===q){var a=h()(t,"mrc"),i=h()(t,"netMrc");H.current=a-10===i||a-20===i,e.signaturePromotionData&&e.signaturePromotionData.amount&&d(e.signaturePromotionData.amount),e.signaturePromotionData&&e.signaturePromotionData.percent&&g(e.signaturePromotionData.percent),F(a)}}))},Oe=function(t){var n=h()(t,"promotionReferences");n&&n.map((function(t){var n=h()(t,"promoId");n!==e.aBPDiscountId&&(n&&e.signaturePromotionId&&n===e.signaturePromotionId||w()(n,"promo"))&&(!function(e){w()(e,"PROMOTION_")||(w()(e,"promo")?B.current=!0:B.current=!1)}(n),e.signaturePromotionData&&(e.signaturePromotionData.amount&&d(e.signaturePromotionData.amount),e.signaturePromotionData.percent&&g(e.signaturePromotionData.percent)))}))},we=function(){var t;if(e.signaturePromotionType===V){if(!m)return;t=e.textContent.planOfferAppreciation}else if(e.signaturePromotionType===_){if(!m)return;t=e.textContent.planOfferEmployee,E.current=!1}else B.current||e.signaturePromotionType===Q&&!1===H.current?(t=e.textContent.planOfferContractual,E.current=!1):B.current||void 0===B.current||(t=e.textContent.planOfferNoncontractual,e.tooltipLegalModalContent||e.updateTooltipLegal());return Object(N.nb)(t,je)},Te=l?r()(l).toFixed(2):l,Le=m?m.toFixed():m,Ne=e.signaturePromotionPercent?r()(e.signaturePromotionPercent).toFixed():e.signaturePromotionPercent,je={signatureDiscountAmount:Te,signatureDiscountPercent:Le,employeediscount:Le,previousprice:R,appreciationdiscount:Le,fanorgdiscount:e.signaturePromotionPercent?Ne:Le,fanorgname:e.signatureOrgName},Pe=ue.length>0?ue:me,Me=h()(e,"sharedDataGroup.displayName",""),Ae={price:h()(e,"sharedDataGroup.price.netMrc"),total:h()(e,"sharedDataGroup.price.dueToday"),term:h()(e,"sharedDataGroup.price.noOfTerms")},De="";return Z&&e.isPrepaid&&(De=Object(N.nb)(h()(e.plansContent,"".concat(T.c.configView.pscCMSFeedRootPath,".configLabels.master.prepaidPlanMultiMonthPlanSubheading"),T.c.prepaidPlans.prepaidPlanMultiMonthPlanSubheading),Ae)),P(c.Fragment,null,z&&P(C.b,{value:e.value,name:e.sharedDataGroup.displayName,inputName:"planLabel",id:e.sharedDataGroup.displayName,ribbonText:function(){if(l||m){var t;if(e.signaturePromotionType===V){if(!m)return;t=e.textContent.planOfferAppreciationRibbon}else if(e.signaturePromotionType===_){if(!m)return;t=e.textContent.planOfferEmployeeRibbon}else B.current||e.signaturePromotionType===Q&&!1===H.current?t=e.textContent.planOfferContractualRibbon:B.current||void 0===B.current||(t=e.textContent.planOfferNoncontractualRibbon);return Object(N.nb)(t,je)}}(),tooltipText:we(),tooltipLegalLinkLabel:!!E.current&&e.textContent.planOfferShortLegalLinkLabel,updateModalOpen:function(){!1===O?(W("planPromoLegalClicked"),M(!0),M(!O)):G()},enabledOnClick:!0,options:{fullWidth:!0,buttonClasses:"flex-column",zIndex:1},dataQa:"".concat(e.dataQa,"-plan-details")},(function(n){return P(c.Fragment,null,P(x.a,{isSelected:n,deviceOfferAmount:e.deviceOfferAmount,prepaidDevicePromotion:e.prepaidDevicePromotion,deviceRibbonCmsfeed:e.deviceRibbonCmsfeed,skuId:t.selectedSku.skuId,displayValue:Me.replace("(SM)","<sup>SM</sup>"),displayPrice:{displayPrice:se,displaySuffix:Y,displaySubText:de,displayFullPrice:oe},radioSubContent:function(t){if(Pe.length)return P(y,{plan:e.sharedDataGroup,isSelected:t,details:Pe,linkPosition:e.linkPosition,customerType:e.customerType,isPrepaid:e.isPrepaid,isMultiMonthPlan:Z,hasAbpDiscount:ke,displayName:De})},selectedSku:e.skuInContext,disclaimerContent:fe,enableStrikethrough:e.hasPrivateOffer}))})),P(f.default,{isOpen:O,onRequestClose:G,modalContainerClassName:"banner-legal-borders",modalContentClassName:"modal-content pad-l-md pad-r-md pad-b-none type-base",modalRowClassName:"",modalCloseClassName:"close-button no-border",modalHeaderClassName:"font-medium color-black",modalSubheaderClassName:"type-base type-sm color-black",modalTextClassName:"type-legal",modalTextPadding:!0,showCloseButton:!0,width:6,header:e.textContent.planOfferModalHeading},P("div",{dangerouslySetInnerHTML:{__html:e.tooltipLegalModalContent}})))}},"1S3S":function(t,n,a){"use strict";a.r(n);var i=a("p0XB"),o=a.n(i),r=a("XVgq"),s=a.n(r),c=a("Z7t5"),l=a.n(c),d=a("d04V"),p=a.n(d),u=a("eVuF"),f=a.n(u),m=a("ln6h"),h=a.n(m),g=a("doui"),b=a("q1tI"),v=a("DjG2"),y=a("+ob+"),C=a("AGoX"),x=a("iios"),k=a("XHH0"),S=a("EujV"),I=a("IyUE"),O=b.createElement;function w(e,t){var n="undefined"!==typeof l.a&&e[s.a]||e["@@iterator"];if(!n){if(o()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return p()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){throw e})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){d=!0,r=e})),f:function(){try{c||null==n.return||n.return()}finally{if(d)throw r}}}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}n.default=function(t){var n=b.useState(!0),a=Object(g.a)(n,2),i=a[0],o=a[1],r=b.useState(!1),s=Object(g.a)(r,2),c=s[0],l=s[1],d=b.useState(""),p=Object(g.a)(d,2),u=p[0],m=p[1];return b.useEffect((function(){t.data.isOpen&&function(){var n,a,i,r,s,c,d,p,u,g,b,v,y,C,S;h.a.async((function(f){for(;;)switch(f.prev=f.next){case 0:return n=[],a="",f.prev=2,(i=t.catalogOffers&&t.catalogOffers.content&&t.catalogOffers.content.promotionalOffers)&&0===i.length&&I.a.Error("Unable to retrieve offers from catalog."),r=i.map((function(e){return e.promoOfferId})),f.next=8,h.a.awrap(x.a.getCmsOffers(null));case 8:s=f.sent,c=r.map((function(e){return x.a.getOfferIdContent(s,e)})),r.forEach((function(e,t){0===c[t].length&&I.a.Error("Unable to retrieve offer legal for id: ".concat(e))})),c=c.concat(Object(k.getNonTrayOffers)(t.commonCms,t.conditionGroup)),d=w(c),f.prev=13,d.s();case 15:if((p=d.n()).done){f.next=27;break}if(!(u=p.value)){f.next=24;break}return f.next=20,h.a.awrap(x.a.getLegalModalPath(u,null,null));case 20:(g=f.sent)&&n.push(g),f.next=25;break;case 24:I.a.Error("Unable to load offer legal: ".concat(e));case 25:f.next=15;break;case 27:f.next=32;break;case 29:f.prev=29,f.t0=f.catch(13),d.e(f.t0);case 32:return f.prev=32,d.f(),f.finish(32);case 35:b=0,v=n;case 36:if(!(b<v.length)){f.next=46;break}return y=v[b],f.next=40,h.a.awrap(x.a.getLegalContent(y,null,null));case 40:C=f.sent,S=C&&C.legalLongPath&&C.legalLongPath[0]&&C.legalLongPath[0].master&&C.legalLongPath[0].master.legalText,a+=S;case 43:b++,f.next=36;break;case 46:""===a&&l(!0),m("".concat(a)),o(!1),f.next=55;break;case 51:f.prev=51,f.t1=f.catch(2),l(!0),I.a.Error("Unable to load offer legal: ".concat(f.t1));case 55:case"end":return f.stop()}}),null,null,[[2,51],[13,29,32,35]],f.a)}()}),[t.data.isOpen]),O(C.default,{isOpen:t.data.isOpen,onRequestClose:t.data.onRequestClose,modalContainerClassName:t.data.containerClassName,modalContentClassName:t.data.contentClassName,modalRowClassName:t.data.rowClassName,modalCloseClassName:t.data.closeClassName,modalTextClassName:t.data.textClassName,showSeperator:t.data.showSeperator,width:t.data.width},i&&!c&&O("div",null,O(y.a,{height:"28px",width:"84px"}),O(y.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),O(y.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),O(y.a,{height:"60px",width:"100%",innerClass:"mar-b-md"}),O(y.a,{height:"60px",width:"90%",innerClass:"mar-b-xs"}),O(y.a,{height:"60px",width:"80%",innerClass:"mar-b-md"}),O(y.a,{height:"24px",width:"72px",innerClass:"mar-b-xxs"}),O("br",null)),!i&&!c&&O(S.a,{legalText:u}),c&&O("div",{className:v["offerLegalModal-error"]},O("h1",null,"We encountered an error.")))}},"2d1R":function(e,t,n){"use strict";n.r(t),n.d(t,"OfferTrayLoader",(function(){return f}));var a=n("kOwS"),i=n("MX0m"),o=n.n(i),r=n("q1tI"),s=n("U/e8"),c=n("NDP7"),l=n("9rZX"),d=n.n(l),p=n("zm1R"),u=r.createElement;function f(e){var t=Object(s.L)(e.showOfferTray,e.skuId,Object(s.M)(e.customerType),void 0,e.flowType),n=window.innerWidth<=440;return u(c.a,Object(a.a)({},t,{offerId:e.offerId,externalOffers:e.catalogOffers}),u("div",{className:"offer-tray-anchor",tabIndex:-1}),e.showOfferTray&&u(r.Fragment,null,n?u(d.a,{isOpen:!0,className:"modal container flex-items-center",overlayClassName:"overlay pad-sm flex justify-center",portalClassName:"ReactModalPortal full-width-container",htmlOpenClassName:"modal-open",closeTimeoutMS:300},u(p.d,{className:""},u("div",{className:"jsx-1546970150 centered modal-content overflow-y-scroll bg-ui-background-gray"},u(c.b,{events:{onCloseClicked:e.events.onCloseClicked,onSeeLegalClicked:e.events.onSeeLegalClicked,onVisibleChanged:e.events.onVisibleChanged},classes:{trayClassName:"mar-b-xs"},disableMobileCarousel:!1}),u(o.a,{id:"1546970150"},[".modal-content.jsx-1546970150 .slick-dots{margin-top:0px;}"])))):u(r.Fragment,null,u(p.b,{type:p.c.FullWidth,className:"rel nopad"},u("div",{className:"jsx-28490802 centered carousel-offer-container"},u(c.b,{events:{onCloseClicked:e.events.onCloseClicked,onSeeLegalClicked:e.events.onSeeLegalClicked,onVisibleChanged:e.events.onVisibleChanged},classes:{trayClassName:"mar-b-xs"},arrow:85}))),u(o.a,{id:"28490802"},[".carousel-offer-container.jsx-28490802{max-width:1336px;}"]))))}t.default=r.forwardRef((function(e,t){return u(f,Object(a.a)({},e,{ref:t}))}))},"2k9R":function(e,t,n){"use strict";var a=n("doui"),i=n("q1tI"),o=n.n(i),r=n("U/e8"),s=n("Ftt6"),c=n("eI37"),l=n("Slj8"),d=o.a.createElement;t.a=function(){var e=o.a.useState(!1),t=Object(a.a)(e,2),n=t[0],i=t[1],p=o.a.useState(""),u=Object(a.a)(p,2),f=u[0],m=u[1],h=o.a.useState(null),g=Object(a.a)(h,2),b=g[0],v=g[1],y=Object(r.F)(document.cookie,"attPersistantLocalization"),C="";y&&(C=y.split("=")[1]);var x=o.a.useState(C),k=Object(a.a)(x,2),S=k[0],I=k[1],O=o.a.useState(!0),w=Object(a.a)(O,2),T=w[0],L=w[1];return d("div",{className:l.billingZipWrapper},d("div",{className:l.billingLabelText},"We'll use your billing ZIP Code to show what's available to you."),d("div",{className:l.billingzip},"Billing ZIP Code: ",d("div",{className:l.zipNumber}," ",S," ",d("div",{onClick:function(){return i(!n)},className:n?l.chevronDown:l.chevronUp}))),n&&d("div",{className:l.zipcodeInpWrapper},d("input",{maxLength:"5",placeholder:S,className:l.zipCodeInp,value:f,onInput:function(e){(""==e.target.value||/^[0-9\b]+$/.test(e.target.value))&&m(e.target.value),5===e.target.value.trim().length?L(!1):L(!0)}}),d(c.a,{events:{onClick:function(){s.a.updateZipcode(f).then((function(e){"FAILURE"==e.content.status?v(!0):(v(!1),I(f),i(!n))}))}},buttonConfig:{disabled:T,type:[c.b.Blue]},className:l.updateButton},"UPDATE")),b&&d("div",{className:l.invalidZipCode}," Hmm, that\u2019s not a valid ZIP Code. Please try again. "))}},"3JNU":function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("Tit0"),l=a("MI3g"),d=a("a7VT"),p=a("q1tI"),u=a("U/e8"),f=a("8Kt/"),m=a.n(f),h=a("mwIZ"),g=a.n(h),b=p.createElement;function v(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(d.a)(t);if(n){var i=Object(d.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(l.a)(this,e)}}var y=function(e){Object(c.a)(n,e);var t=v(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"renderMetaData",value:function(){var e=this.props.seoContent&&this.props.seoContent.metaKeywords?this.props.seoContent.metaKeywords:"",t="";t=this.props.isConfigPage?"NOINDEX,NOFOLLOW":this.props.seoContent&&this.props.seoContent.metaRobots?this.props.seoContent.metaRobots:"INDEX,FOLLOW";var n=this.props.seoContent&&this.props.seoContent.metaDescription?this.props.seoContent.metaDescription:"",a=g()(this.props,"seoContent.dynamicSEO.metaDescription",void 0)?g()(this.props,"seoContent.dynamicSEO.metaDescription"):Object(u.N)(n,this.props.selectedSku,this.props.deviceType);return a=Object(u.qb)(a,this.props.selectedSku),b(p.Fragment,null,b("meta",{name:"keywords",content:e}),b("meta",{name:"description",content:a}),b("meta",{name:"robots",content:t,key:"robotsKey"}),b("link",{rel:"alternate",hrefLang:"en",href:Object(u.e)(this.props.selectedSku,this.props.selectedSku.deviceType,this.props.selectedSku.subCategory)}),b("link",{rel:"alternate",hrefLang:"es",href:Object(u.e)(this.props.selectedSku,this.props.selectedSku.deviceType,this.props.selectedSku.subCategory,!0)}))}},{key:"renderMetaOGData",value:function(){var e=this.props.seoContent&&this.props.seoContent.ogTitle?this.props.seoContent.ogTitle:"",t=this.props.seoContent&&this.props.seoContent.ogDescription?this.props.seoContent.ogDescription:"",n=g()(this.props,"seoContent.dynamicSEO.metaSeotitle",void 0)?this.props.seoContent.dynamicSEO.metaSeotitle:Object(u.O)(e,this.props.selectedSku,this.props.deviceType);n=Object(u.qb)(n,this.props.selectedSku);var a=g()(this.props,"seoContent.dynamicSEO.metaDescription",void 0)?this.props.seoContent.dynamicSEO.metaDescription:Object(u.N)(t,this.props.selectedSku,this.props.deviceType);a=Object(u.qb)(a,this.props.selectedSku);var i=this.props.image?"https://www.att.com"+this.props.image:Object(u.f)(this.props.selectedSku,void 0,!0);return b(p.Fragment,null,b("meta",{property:"og:title",content:n}),b("meta",{property:"og:url",content:Object(u.e)(this.props.selectedSku,this.props.selectedSku.deviceType,this.props.selectedSku.subCategory)}),b("meta",{property:"og:description",content:a}),b("meta",{property:"og:image",content:i}),b("meta",{property:"og:type",content:"product"}),b("meta",{property:"og:site_name",content:"AT&T"}))}},{key:"render",value:function(){return b(m.a,null,this.renderMetaData(),this.renderMetaOGData())}}]),n}(p.Component);n.a=y},"4eeI":function(t,n,a){"use strict";a.r(n);var i=a("pbKT"),o=a.n(i),r=a("6BQ9"),s=a.n(r),c=a("0iUn"),l=a("sLSF"),d=a("Tit0"),p=a("MI3g"),u=a("a7VT"),f=a("q1tI"),m=a("S1fC"),h=a("AT/M"),g=a("OrDy"),b=a("vyOo"),v=f.createElement;function y(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(u.a)(t);if(n){var i=Object(u.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(p.a)(this,e)}}var C=function(e){Object(d.a)(n,e);var t=y(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={showAllStoreHours:!1},a.toggleAllStoreHours=a.toggleAllStoreHours.bind(Object(h.a)(a)),a}return Object(l.a)(n,[{key:"renderAllStoreHours",value:function(e){var t=e.hours.split(","),n=[],a=new Date,i=0!==a.getDay()?a.getDay()-1:6;return t.forEach((function(t,a){var o=i===a?"type-sm font-medium":"type-sm font-regular";o+=" flex justify-between mar-b-none",i===a&&"Open "===e.storeStatus.slice(0,5)?n.push(v("p",{className:o,key:"".concat(e.id,"-").concat(a)},v("span",{className:"mar-r-lg"},t.substr(0,t.indexOf(" "))),v("span",null,e.storeStatus+" - "+e.todayshours.substr(e.todayshours.indexOf("-")+1)))):n.push(v("p",{className:o,key:"".concat(e.id,"-").concat(a)},v("span",{className:"mar-r-lg"},t.substr(0,t.indexOf(" "))),v("span",null,t.substr(t.indexOf(" ")+1))))})),e.notes&&n.push(v("p",{className:g.holidayMessage},e.notes)),n}},{key:"toggleAllStoreHours",value:function(){this.setState({showAllStoreHours:!this.state.showAllStoreHours})}},{key:"render",value:function(){return v("div",{className:"mar-t-xs"},v(b.a,{ariaLabel:"show or hide Store Hours",events:{onClick:this.toggleAllStoreHours},dataQa:"$-show/hideStoreHours",className:"color-ui-black"},"".concat(this.state.showAllStoreHours?"Hide":"Show all"," store hours"),v("span",{className:["mar-l-xs icon-chevron inline-block",this.state.showAllStoreHours?"rotate270":"rotate90"].join(" ")})),v("div",{className:"grid-col-10 ".concat(this.state.showAllStoreHours?"":g.hidden)},this.renderAllStoreHours(this.props.data.store).map((function(e){return e}))))}}]),n}(f.Component),x=a("eI37"),k=a("QYhm"),S=a.n(k),I=a("xLlQ"),O=a("Da3r"),w=a("U/e8"),T=f.createElement;function L(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(u.a)(t);if(n){var i=Object(u.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(p.a)(this,e)}}var N=function(e){Object(d.a)(n,e);var t=L(n);function n(e){return Object(c.a)(this,n),t.call(this,e)}return Object(l.a)(n,[{key:"formatTime",value:function(e,t){var n=e.split(":"),a=s()(n[0],10),i=a<12?"am":"pm",o=(a=0===a?12:a%12)+":"+n[1]+i,r=t.split(":"),c=s()(r[0],10);return i=c<12?"am":"pm",o+" - "+((c=0===c?12:c%12)+":"+r[1]+i)}},{key:"formatStandardTime",value:function(e){var t=e.split(":"),n=s()(t[0],10),a=n<12?" am":" pm";return(n=0===n?12:n%12)+":"+t[1]+a}},{key:"getTodaysHours",value:function(e){var t="";switch((new Date).getDay()){case 0:t=this.formatTime(e.sundayOpeningTime,e.sundayClosingTime);break;case 1:t=this.formatTime(e.mondayOpeningTime,e.mondayClosingTime);break;case 2:t=this.formatTime(e.tuesdayOpeningTime,e.tuesdayClosingTime);break;case 3:t=this.formatTime(e.wednesdayOpeningTime,e.wednesdayClosingTime);break;case 4:t=this.formatTime(e.thursdayOpeningTime,e.thursdayClosingTime);break;case 5:t=this.formatTime(e.fridayOpeningTime,e.fridayClosingTime);break;case 6:t=this.formatTime(e.saturdayOpeningTime,e.saturdayClosingTime)}return t}},{key:"getStoreHoursMessageUIS",value:function(e){var t="Now closed",n=m.closedMessage,a=e.storeStatus.toLowerCase();return"closing soon"===a||"opening soon"===a?(t=e.storeStatus,n=m.soonMessage):"open now"===a?(t=e.storeStatus,n=m.openMessage):"now closed"!==a&&"closed today"!==a||(t=e.storeStatus,n=m.closedMessage),T("p",null,T("span",{className:[n,m.storeHoursMessage].join(" ")},t),T("span",{className:"type-sm"}," "+e.todayshours))}},{key:"renderHours",value:function(){var e=this.getStoreHoursMessageUIS(this.props.data.currentStore);return T(f.Fragment,null,e,T(C,{data:{store:this.props.data.currentStore,storeHoursMessage:e.props.children}}))}},{key:"render",value:function(){var e=this;return T(f.Fragment,null,T("hr",{className:m.cardDivider}),T("div",{className:m.storeCardContainer},T("div",{className:m.cardHeader},T("span",{className:m.deliveryIcon},T(I.a,{icon:S.a,size:"45px"}),T("div",{className:m.iconText},this.props.data.index)),T("div",{className:m.storeTitleAndMiles},T("h3",{className:m.storeTitle},this.props.data.currentStore.mystore_name),T("p",{className:m.milesAway},this.props.data.currentStore.arcdist," miles from ",this.props.data.zipCode))),T("div",{className:"flex flex-column"},T("div",{className:m.storeAddressContainer},T("p",{className:m.subHeader},"address"),T("p",{className:m.storeAddress},this.props.data.currentStore.address1,this.props.data.currentStore.address2&&", "+this.props.data.currentStore.address2),T("p",{className:m.storeAddress},this.props.data.currentStore.city,", ",this.props.data.currentStore.region," ",this.props.data.currentStore.postal),T("p",{className:m.storeAddress},this.props.data.currentStore.phone),this.props.data.currentStore.addr_hint&&T("p",{className:m.stockMessage},this.props.data.currentStore.addr_hint),this.props.data.currentStore.availableQuantity<=this.props.data.displayQuantityThreshold&&T("p",{className:m.stockMessage},"Selling fast! Just ",this.props.data.currentStore.availableQuantity," left in stock."),this.props.data.currentStore.service.indexOf(231)>-1&&T("p",{className:m.curbsideAvailable},Object(w.D)(this.props.data.commonCmsContent,"curbsideAvailable",O.c.deliveryOptions.curbsideAvailable))),T("div",{className:"mar-t-xs mar-b-xs"},T("p",{className:m.subHeader},"today's hours"),this.renderHours())),T(x.c,{dataQa:"Click2StoreModal-StoreSelectButton",buttonConfig:{disabled:!1,primary:!0,type:[this.props.data.currentStore.id===this.props.data.activeStoreId?x.b.Ghost:x.b.Blue,x.b.Large]},events:{onClick:function(t){return e.props.data.updateStore(e.props.data.currentStore,"Pick this store",e.props.data.isAccessory?O.c.reporting.pageUrl.storeAvailModal.accessories:O.c.reporting.pageUrl.storeAvailModal.phones)}}},"Pick this store")))}}]),n}(f.Component);n.default=N},GwHr:function(e,t,n){"use strict";var a=n("MX0m"),i=n.n(a),o=n("q1tI"),r=n("cq7Z"),s=n("5KXR"),c=o.createElement,l=function(e){var t=new r.a;return c(o.Fragment,null,c("span",{className:"jsx-4026001090 type-xs font-medium color-ui-black block line-h-md pad-t-xxs"},c("div",{onClick:function(){var n="";n=e.isAccesssory?"/buy/accessories/":"/buy/".concat(e.deviceType?e.deviceType:"phones","/");var a={linkName:e.seeAllDevicesLabel,linkPosition:"Body",linkDestinationUrl:n};t.fireLinkClickEvent(a),window.location.href=n},className:"jsx-4026001090 pointer color-ui-black line-h-md"},c("span",{className:"jsx-4026001090 flex items-center"},c(s.a,{icon:c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 477.175 477.175"},c("path",{d:"M145.188 238.575l215.5-215.5c5.3-5.3 5.3-13.8 0-19.1s-13.8-5.3-19.1 0l-225.1 225.1c-5.3 5.3-5.3 13.8 0 19.1l225.1 225c2.6 2.6 6.1 4 9.5 4s6.9-1.3 9.5-4c5.3-5.3 5.3-13.8 0-19.1l-215.4-215.5z"})),size:"16px",className:"mar-r-xxxs flex justify-center items-center"}),e.seeAllDevicesLabel))),c(i.a,{id:"4026001090"},[".pointer.jsx-4026001090{cursor:pointer;}"]))};n.d(t,"a",(function(){return l}))},Ir9l:function(t,n,a){"use strict";var i=a("p0XB"),o=a.n(i),r=a("XVgq"),s=a.n(r),c=a("Z7t5"),l=a.n(c),d=a("pbKT"),p=a.n(d),u=a("d04V"),f=a.n(u),m=a("pLtp"),h=a.n(m),g=a("ttDY"),b=a.n(g),v=a("0iUn"),y=a("sLSF"),C=a("AT/M"),x=a("Tit0"),k=a("MI3g"),S=a("a7VT"),I=a("vYYK"),O=a("q1tI"),w=a("i1w1"),T=a("8bTO"),L=a("vyOo"),N=a("wbWO"),j=a("eVuF"),P=a.n(j),M=a("MX0m"),A=a.n(M),D=a("lZBS"),R=a("U/e8"),F=a("bMCe"),E=a("a6RD"),U=a.n(E),B=a("ZSdl"),H=a("zh2Y"),V=a("cq7Z"),_=a("BTSr"),Q=a("uVxl"),q=a("98cJ"),W=a("Da3r"),G=a("mwIZ"),z=a.n(G),Z=a("KsW1"),X=O.createElement;function K(t){var n=function(){if("undefined"===typeof Reflect||!p.a)return!1;if(p.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(p()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(S.a)(t);if(n){var i=Object(S.a)(this).constructor;e=p()(a,arguments,i)}else e=a.apply(this,arguments);return Object(k.a)(this,e)}}var Y=function(e){Object(x.a)(n,e);var t=K(n);function n(e){var a;Object(v.a)(this,n),a=t.call(this,e),Object(I.a)(Object(C.a)(a),"reporting",void 0);var i={deviceTypeCollapsed:!!a.props.configView,selectedDeviceType:JSON.parse(z()(z()(a.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),'byod.master["deviceTypes"][0]',{})).deviceType?JSON.parse(z()(z()(a.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),'byod.master["deviceTypes"][0]',{})).deviceType:W.c.simDeviceTypes.Phone};return a.reporting=new V.a,a.state=i,a.translateDeviceType=a.translateDeviceType.bind(Object(C.a)(a)),a.onDeviceTypeChange=a.onDeviceTypeChange.bind(Object(C.a)(a)),a}return Object(y.a)(n,[{key:"translateDeviceType",value:function(e){var t;return e===W.c.simDeviceTypes.Phone?t="Phone":e===W.c.simDeviceTypes.Tablet?t="Tablet":e===W.c.simDeviceTypes.Wearable&&(t="Smartwatch"),t}},{key:"onDeviceTypeChange",value:function(e){this.setState({selectedDeviceType:e}),"Phone"===e?(sessionStorage.setItem("selectedByodDeviceType","phones"),window.location.href=Object(R.W)(Z.a.simCardUrl,["phones","phone"])):"Tablet"===e?(sessionStorage.setItem("selectedByodDeviceType","tablets"),window.location.href=Object(R.W)(Z.a.simCardUrl,["tablets","tablet"])):"Smartwatch"===e&&(sessionStorage.setItem("selectedByodDeviceType","wearables"),window.location.href=Object(R.W)(Z.a.simCardUrl,["wearables","wearable"]))}},{key:"generateBYODDeviceTypes",value:function(e){var t=this,n=Object(R.B)(e,"deviceTypes",W.c.byodView.deviceTypes),a=[];return n.map((function(e){"string"===typeof e&&(e=JSON.parse(e)),a.push(X(D.b,{key:e.deviceType,value:e.deviceType,name:"DeviceType",displayName:e.deviceType,id:e.deviceType,ariaLabel:e.deviceType,ariaControls:e.deviceType,ariaHidden:t.state.deviceTypeCollapsed,options:{fullWidth:!0,buttonClasses:"flex-column pad-xs",zIndex:1},deviceType:t.props.deviceType,dataQa:"".concat(t.props.dataQa,"-BYOD-DeviceType")},(function(t){return X(B.a,{isSelected:t,skuId:"",displayValue:e.deviceType,hidePrice:!0,radioSubContent:function(t){return X(O.Fragment,null,X(Q.a,{space:16,topSpace:16}),X("h4",{className:"mar-t-xxs type-xs color-ui-black font-regular"},e.description))}})})))})),a}},{key:"handleAccordionToggleForDeviceTypes",value:function(){this.setState({deviceTypeCollapsed:!this.state.deviceTypeCollapsed},(function(){this.props.events&&this.props.events.onDeviceTypeAccordionClick&&this.props.events.onDeviceTypeAccordionClick("DeviceTypeBYOD"+(this.state.deviceTypeCollapsed?"_Collapse":"_Expand"))}))}},{key:"render",value:function(){var e=z()(this.props.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),t=this.props.selecetdSku.deviceType?this.translateDeviceType(this.props.selecetdSku.deviceType.toUpperCase()):"Phone";return X(O.Fragment,null,X("div",{className:"flex flex-column","data-qa":"".concat(this.props.dataQa,"-BYOD-DeviceType")},"prepaid"!==this.props.selecetdSku.paymentType&&X("div",null,X(D.c,{defaultSelection:t,ariaLabel:"Device type",ariaExpanded:!this.state.deviceTypeCollapsed,id:"Device type",dataQa:"".concat(this.props.dataQa,"-BYOD-DeviceType"),onChange:this.onDeviceTypeChange},!this.props.configView&&X(O.Fragment,null,X(D.d,{inlineStyling:{width:"100%"}},X("h3",{className:"formfield-label",onClick:this.handleAccordionToggleForDeviceTypes.bind(this)},X("span",{className:"configured-label type-base font-medium color-ui-black mar-b-none pad-r-xxxs",style:{width:"100%"}},Object(R.B)(e,"subheading",W.c.byodView.subheading)),X(q.a,{expanded:!this.state.deviceTypeCollapsed})),this.state.deviceTypeCollapsed&&X("div",{className:"full-width text-left"},X("div",{className:"flex full-width font-regular type-base color-ui-black mar-b-none"},X("div",{className:"font-subheader"},X("span",null,this.state.selectedDeviceType))))),!this.state.deviceTypeCollapsed&&X(O.Fragment,null,X("div",{className:"flex flex-column"},this.generateBYODDeviceTypes(e))))))))}}]),n}(O.Component),J=a("RLLM"),$=a("KHcO"),ee=a("LdJe"),te=a("kMre"),ne=a("3lQi"),ae=O.createElement;function ie(t){var n=function(){if("undefined"===typeof Reflect||!p.a)return!1;if(p.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(p()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(S.a)(t);if(n){var i=Object(S.a)(this).constructor;e=p()(a,arguments,i)}else e=a.apply(this,arguments);return Object(k.a)(this,e)}}var oe,re=U()((function(){return P.a.resolve().then((function(){return a("zI6O")}))}),{loadableGenerated:{webpack:function(){return["zI6O"]},modules:["../../../../common/components/Tooltip"]}}),se=function(e){Object(x.a)(n,e);var t=ie(n);function n(e){var a;return Object(v.a)(this,n),a=t.call(this,e),Object(I.a)(Object(C.a)(a),"context",void 0),Object(I.a)(Object(C.a)(a),"dropdownRef",void 0),Object(I.a)(Object(C.a)(a),"reporting",void 0),a.dropdownRef=O.createRef(),a.reporting=new V.a,a.deviceType=a.deviceType.bind(Object(C.a)(a)),a.onDeviceTypeAccordionClick=a.onDeviceTypeAccordionClick.bind(Object(C.a)(a)),a.state={conditionCollapsed:!!a.props.configView,capacityCollapsed:!!a.props.configView,colorCollapsed:!!a.props.configView,selectedZip:""},a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e,t=Object(R.E)(document.cookie,"selectedstore");!1!==t&&(e=(t=(t=t.replace("selectedstore=","")).split("|"))[1].split("=")[1]),this.setState({selectedZip:e||this.props.userZipCode})}},{key:"deviceType",value:function(){if(this.props.isAccessory)return"accessories";var e=this.props.data.selectedSku;return Object(R.x)(e.deviceType,e.deviceSubType,e.paymentType)}},{key:"render",value:function(){var e=this,t=(this.context,Object(R.g)(this.context.priceConfigContext.getNonNextupPriceOption(),this.context.priceConfigContext,!0,!1)),n=this.props.data.selectedSku.condition.alternateName||this.props.data.selectedSku.condition.displayName,a=n.charAt(0).toUpperCase()+n.slice(1);return ae("div",{"data-qa":this.props.dataQa,className:"jsx-1013129448"},!this.props.isAccessory&&!("simcard"===this.props.data.selectedSku.deviceSubType&&"prepaid"===this.props.data.selectedSku.paymentType)&&!(this.props.skuInContext.condition.key===W.c.deviceCondition.preOwnedKey&&"postpaid"===this.props.data.selectedSku.paymentType)&&this.showDeviceCondition(this.props.data.allConfigs.conditions)&&ae(te.a,{"data-qa":"".concat(this.props.dataQa,"-Condition"),aria:"condition config options",className:this.props.configView?"":ee.firstMargin,label:"Condition",collapsedContent:ae(O.Fragment,null,ae("div",{className:"jsx-1013129448 type-base mar-r-xxs font-bold"},a),ae("div",{className:"jsx-1013129448 margin-left-auto"},ae("span",{className:"jsx-1013129448 type-base text-right font-bold"},"".concat(t.displayPrefix+t.displayPrice)),ae("span",{className:"jsx-1013129448 type-sm font-bold"},t.displaySuffix))),content:ae(D.c,{id:"StackedCondition",defaultSelection:this.props.data.selectedSku.skuId,ariaLabel:"Condition",ariaExpanded:!this.state.conditionCollapsed,onChange:this.props.events.updateSelectedSku},ae("div",{className:"jsx-1013129448 flex flex-column"},this.generateConditions(this.props.data.allConfigs.conditions))),isCollapsed:this.state.conditionCollapsed,isSelected:!0,collapseEnabled:!0,onAccordionClick:this.props.configView?{pathname:"".concat(this.props.learnViewPath),state:{configScroll:"CONFIG",configTradeIn:this.props.tradeInConsented,configPortIn:this.props.portInConsented,configNextUp:this.props.nextUpConsented,configHylaCode:this.props.hylaOfferCodeRetrieved}}:this.handleAccordionToggleForCondition.bind(this)}),this.props.rtiDisplayFlag&&this.props.urgencyMessage&&!this.props.configView&&ae("div",{"data-qa":"".concat(this.props.dataQa,"-UrgencyMsg"),style:{marginBottom:"24px"},className:"jsx-1013129448 "+"flex flex-column ".concat(ee.roundBorder," ").concat(this.props.configView?"":ee.firstMargin)},ae(J.a,{data:{layoutPlaceholder:!1,fulfillmentMessageContent:this.props.urgencyMessage,fontSize:15}})),"simcard"!==this.props.deviceSubType&&ae(ne.a,{dataQa:"".concat(this.props.dataQa,"-Color"),aria:"color config options",className:this.props.configView?"":ee.firstMargin,label:"Color",colorsList:this.props.data.allConfigs.colors,selectedSku:this.props.data.selectedSku,isAccessory:this.props.isAccessory,isCollapsed:this.state.colorCollapsed,collapseEnabled:!0,handleItemClick:this.props.events.updateSelectedSku,onAccordionClick:this.props.configView?{pathname:"".concat(this.props.learnViewPath),state:{configScroll:"CONFIG",configTradeIn:this.props.tradeInConsented,configPortIn:this.props.portInConsented,configNextUp:this.props.nextUpConsented,configHylaCode:this.props.hylaOfferCodeRetrieved}}:this.handleAccordionToggleForColor.bind(this)}),this.props.data.selectedSku.capacity&&ae(te.a,{"data-qa":"".concat(this.props.dataQa,"-Capacity"),aria:"capacity config options",className:this.props.configView?"":ee.firstMargin,label:null!==this.props.data.selectedSku.skuSize?"Size":"Capacity",collapsedContent:ae(O.Fragment,null,ae("div",{className:"jsx-1013129448 type-base mar-r-xxs font-bold"},this.props.data.selectedSku.capacity),ae("div",{className:"jsx-1013129448 margin-left-auto"},ae("span",{className:"jsx-1013129448 type-base text-right font-bold"},"".concat(t.displayPrefix+t.displayPrice)),ae("span",{className:"jsx-1013129448 type-sm font-bold"},t.displaySuffix))),content:ae(D.c,{defaultSelection:this.props.data.selectedSku.skuId,onChange:this.props.events.updateSelectedSku,ariaLabel:"Capacity",ariaExpanded:!this.state.capacityCollapsed,id:"Capacity",dataQa:"".concat(this.props.dataQa,"-Capacity")},ae("div",{className:"jsx-1013129448 flex flex-column"},this.generateCapacities(this.props.data.allConfigs.capacities))),isCollapsed:this.state.capacityCollapsed,isSelected:!0,collapseEnabled:!0,onAccordionClick:this.props.configView?{pathname:"".concat(this.props.learnViewPath),state:{configScroll:"CONFIG",configTradeIn:this.props.tradeInConsented,configPortIn:this.props.portInConsented,configNextUp:this.props.nextUpConsented,configHylaCode:this.props.hylaOfferCodeRetrieved}}:this.handleAccordionToggleForCapacity.bind(this)}),"simcard"===this.props.deviceSubType&&!this.props.configView&&ae(O.Fragment,null,ae(Y,{planCmsContent:this.props.planCmsContent,configView:this.props.configView,dataQa:"".concat(this.props.dataQa,"-BYOD-DeviceType"),deviceType:this.deviceType(),devicePageUrl:this.props.data.selectedSku.devicePageURL,selecetdSku:this.props.data.selectedSku,events:{onDeviceTypeAccordionClick:this.onDeviceTypeAccordionClick}}),ae($.a,{dataQa:"".concat(this.props.dataQa,"-PortIn"),IXPFeatureFlags:this.props.IXPFeatureFlags,isByod:"simcard"===this.props.deviceSubType,customerType:this.props.customerProfile.customerType,onLegalClick:this.props.onOfferClick})),this.props.isAccessory&&!this.props.configView&&ae("div",{"data-qa":"".concat(this.props.dataQa,"-Quantity"),className:"jsx-1013129448 "+(ee.roundBorder||"")},ae(F.a,{defaultSelectedIndex:this.props.data.accessoryQuantity-1,label:"Quantity",choices:this.getQuantityDropdownItems(4),dataQa:"".concat(this.props.dataQa,"-Dropdown"),onChange:function(t){return e.props.events.updateQuantity(t)},ref:this.dropdownRef,placeholder:"Choose an option",showError:!1,errorText:"Select a pricing option",width:"50%",id:"quantity"})),ae(A.a,{id:"1013129448"},[".margin-left-auto{margin-left:auto;}",".configured-label{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader{font-size:16px;}",".font-monthly{font-size:14px;}",".pricing-prefix{font-size:14px;}",".mar-t-md-all{margin-top:32px;}",".font-regular{font-family:font-regular,sans-serif;}"]))}},{key:"handleAccordionToggleForColor",value:function(){this.setState({colorCollapsed:!this.state.colorCollapsed},(function(){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,"Color"+(this.state.colorCollapsed?"_Collapse":"_Expand"))}))}},{key:"handleAccordionToggleForCapacity",value:function(){var e=null!==this.props.data.selectedSku.skuSize?"Size":"Capacity";this.setState({capacityCollapsed:!this.state.capacityCollapsed},(function(){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,e+(this.state.capacityCollapsed?"_Collapse":"_Expand"))}))}},{key:"handleAccordionToggleForCondition",value:function(){this.setState({conditionCollapsed:!this.state.conditionCollapsed},(function(){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,"Condition"+(this.state.conditionCollapsed?"_Collapse":"_Expand"))}))}},{key:"onDeviceTypeAccordionClick",value:function(e){this.fireLinkClickEvent(this.props.data.selectedSku.devicePageURL,e)}},{key:"fireLinkClickEvent",value:function(e,t){var n={linkDestinationUrl:e,linkName:t,linkPosition:"Body"};this.reporting.fireLinkClickEvent(n)}},{key:"showDeviceCondition",value:function(e){return h()(e).length>1}},{key:"getQuantityDropdownItems",value:function(e){for(var t=[],n=0;n<e;n++)t.push({displayValue:"".concat(n+1),content:"".concat(n+1),value:"".concat(n+1)});return t}},{key:"generateCapacities",value:function(e){var t=this,n=[],a=[],i=function(){return ae(O.Fragment,null,ae("b",null,"Uh-oh!"),ae("br",null)," This item is out of stock right now.")};for(var o in e)e[o].data&&function(){var r=e[o].data,s=r.isEndOfSku;(!s||r.skuId===t.props.data.selectedSku.skuId)&&(n.push(r.skuId),a.push(ae(re,{disabled:!s||!r.effectiveOutOfStock,tooltipContent:ae(i,null)},(function(e,a){return ae(D.b,{key:r.skuId,value:r.skuId,name:"Capacity",displayName:r.capacity,id:r.skuId,ariaLabel:r.capacity,ariaControls:r.skuId,ariaHidden:t.state.capacityCollapsed,disabled:s,options:{fullWidth:!0,noTopMar:n[0]===r.skuId,buttonClasses:"flex-column pad-xs",zIndex:1},ref:function(t){e(t),a(t)},deviceType:t.deviceType(),skuInContext:r,dataQa:"".concat(t.props.dataQa,"-Capacity-").concat(r.capacity.replace(/\s/g,""))},(function(e){return ae(B.a,{isSelected:e,skuId:r.skuId,displayValue:r.capacity,radioSubContent:function(e,n){return ae(H.a,{isSelected:e,isAccessory:t.props.isAccessory,priceOption:n,onLegalClick:t.props.onLegalClick,onOfferClick:t.props.onOfferClick,radioButtonName:"Capacity"})},selectedSku:t.props.skuInContext})}))}))))}();return a}},{key:"generateConditions",value:function(e){var t=this,n=[],a=[],i=function(){return ae(O.Fragment,null,ae("b",null,"Uh-oh!"),ae("br",null)," This item is out of stock right now.")};for(var o in e)e[o].data&&function(){var r=e[o].data,s=r.isEndOfSku,c=!s||r.skuId===t.props.data.selectedSku.skuId,l=z()(r,"condition.displayName",""),d=z()(r,"condition.key","");l=l&&"string"===typeof l?l.charAt(0).toUpperCase()+l.slice(1):"",c&&(n.push(r.skuId),a.push(ae(re,{disabled:!s||!r.effectiveOutOfStock,tooltipContent:ae(i,null)},(function(e,a){return ae(D.b,{key:r.condition.key,value:r.skuId,name:"Condition",displayName:z()(r,"condition.alternateName","")||l,id:d,ariaLabel:l,disabled:s,options:{fullWidth:!0,noTopMar:n[0]===r.skuId,buttonClasses:"flex-column pad-xs",zIndex:1},ref:function(t){e(t),a(t)},deviceType:t.deviceType(),skuInContext:r,dataQa:"".concat(t.props.dataQa,"-Condition-").concat(l.replace(/\s/g,""))},(function(e){return ae(B.a,{isSelected:e,skuId:r.skuId,displayValue:l,radioSubContent:function(e,n){return ae(H.a,{isSelected:e,isAccessory:t.props.isAccessory,priceOption:n,onLegalClick:t.props.onLegalClick,onOfferClick:t.props.onOfferClick})},selectedSku:t.props.skuInContext})}))}))))}();return a}}]),n}(O.Component);Object(I.a)(se,"contextType",_.a),function(e){e[e.SELECTED=1]="SELECTED",e[e.AVAILABLEINCONFIG=2]="AVAILABLEINCONFIG",e[e.NOTAVAILABLEINCONFIG=3]="NOTAVAILABLEINCONFIG",e[e.OUTOFSTOCK=4]="OUTOFSTOCK"}(oe||(oe={}));var ce=a("JNjH");a.d(n,"a",(function(){return me}));var le=O.createElement;function de(e,t){var n="undefined"!==typeof l.a&&e[s.a]||e["@@iterator"];if(!n){if(o()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return f()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pe(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,r=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw r}}}}function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function ue(t){var n=function(){if("undefined"===typeof Reflect||!p.a)return!1;if(p.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(p()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(S.a)(t);if(n){var i=Object(S.a)(this).constructor;e=p()(a,arguments,i)}else e=a.apply(this,arguments);return Object(k.a)(this,e)}}var fe,me=function(e){Object(x.a)(n,e);var t=ue(n);function n(e){var a;Object(v.a)(this,n),a=t.call(this,e),Object(I.a)(Object(C.a)(a),"reporting",void 0),Object(I.a)(Object(C.a)(a),"specialOffersLegalRef",void 0);var i={inTheBoxContent:[],isModalOpen:!1,overviewContent:[],showOffersRibbon:!1,specsContent:[],shouldShowMobileHeader:!0,selectedSku:e.data.selectedSku};return a.state=i,a.reporting=new V.a,a.updateQuantity=a.updateQuantity.bind(Object(C.a)(a)),a.specialOffersLegalRef=O.createRef(),a}return Object(y.a)(n,[{key:"updateQuantity",value:function(e){this.props.onQuantityUpdate(e+1),this.setState({selectedQuantity:e+1})}},{key:"displayEOLContent",value:function(){var e=this.props.data.selectedSku.model||this.props.data.selectedSku.shortDisplayName,t=" - ".concat(this.props.data.selectedSku.color)||!1,n=" - ".concat(this.props.data.selectedSku.capacity)||!1;return le(O.Fragment,null,le("div",{className:"".concat([w.eolText].join(" ")," ").concat(w.roundBorder)},le("div",null,"".concat(e+t+n," isn't available.")),le(L.a,{ariaLabel:"Link to View similar devices",dataQa:"ProductRecommender-recommenderLink",events:{onClick:function(){return N.a.handleScrollToElement("recommender")}}},"View similar devices",le("span",{style:{textDecoration:"none"},className:[T.attIcon,T.attIconStraightArrowRight,w.seeFeaturesArrow].join(" ")}))))}},{key:"render",value:function(){var e=this;return le(O.Fragment,null,this.props.data&&le(se,{data:{selectedSku:this.props.data.selectedSku,allConfigs:this.generateAllConfigOptions(this.props.data.skuItems,this.props.data.selectedSku),accessoryQuantity:this.props.data.accessoryQuantity},deviceSubType:this.props.data.deviceSubType,deviceType:this.props.data.deviceType,dataQa:"".concat(this.props.dataQa,"-Options"),idpcmsCommonContent:Object(R.a)(this.props.data.idpcmsContentResponse,this.props.data.selectedSku).commonContent,planCmsContent:this.props.data.planCmsContent,isAccessory:this.props.data.isAccessory,customerProfile:this.props.data.customerProfile,configView:this.props.data.configView,learnViewPath:this.props.learnViewPath,tradeInConsented:this.props.tradeInConsented,portInConsented:this.props.portInConsented,nextUpConsented:this.props.nextUpConsented,hylaOfferCodeRetrieved:this.props.hylaOfferCodeRetrieved,events:{updateQuantity:this.updateQuantity,updateSelectedSku:function(t){return e.props.updateSelectedSku(t,e.context)}},skuInContext:this.props.data.selectedSku,onLegalClick:this.props.onLegalClick,onOfferClick:this.props.onOfferClick,rtiDisplayFlag:this.props.data.rtiDisplayFlag,rtiFunctionFlag:this.props.data.rtiFunctionFlag,userZipCode:this.props.data.userZipCode,urgencyMessage:this.props.data.urgencyMessage,IXPFeatureFlags:this.props.IXPFeatureFlags}),this.props.data.selectedSku.isEndOfSku&&this.displayEOLContent())}},{key:"generateAllConfigOptions",value:function(e,t){var n,a={},i={},o={},r=de(e.sort(R.kb));try{for(r.s();!(n=r.n()).done;){var s=n.value;this.addSkuColor(s,t,a),this.addSkuCapacity(s,t,o),this.addSkuCondition(s,t,i)}}catch(c){r.e(c)}finally{r.f()}return{colors:a,capacities:o=this.sortCapacitiesByMarketingPriority(e,o),conditions:i=this.sortConditionsByMarketingPriority(e,i)}}},{key:"sortConditionsByMarketingPriority",value:function(e,t){var n=new b.a(h()(t)),a=f()(n),i={};if(n.size>0){var o,r=de(a=a.sort((function(e,t){return fe[e.toUpperCase()]-fe[t.toUpperCase()]})));try{for(r.s();!(o=r.n()).done;){var s,c=o.value,l=de(e);try{for(l.s();!(s=l.n()).done;){s.value.condition.key===c&&(i[c]=t[c])}}catch(d){l.e(d)}finally{l.f()}}}catch(d){r.e(d)}finally{r.f()}}return i}},{key:"sortCapacitiesByMarketingPriority",value:function(e,t){var n=new b.a(h()(t)),a=f()(n),i={};if(n.size>0){var o,r=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"}),s=de(a=a.sort(r.compare));try{for(s.s();!(o=s.n()).done;){var c,l=o.value,d=de(e);try{for(d.s();!(c=d.n()).done;){c.value.capacity===l&&(i[l]=t[l])}}catch(p){d.e(p)}finally{d.f()}}}catch(p){s.e(p)}finally{s.f()}}return i}},{key:"addSkuColor",value:function(e,t,n){var a={data:e,status:oe.NOTAVAILABLEINCONFIG};e&&t&&z()(e,"condition.key")===z()(t,"condition.key")&&e.capacity===t.capacity&&(e.skuId===t.skuId&&(e.effectiveOutOfStock=t.effectiveOutOfStock),t.color===e.color?a.status=oe.SELECTED:t.capacity===e.capacity&&t.condition.key===e.condition.key?a.status=oe.AVAILABLEINCONFIG:a.status=oe.NOTAVAILABLEINCONFIG,(!n[e.color]||e.uniqueURLName===t.uniqueURLName||n[e.color]&&n[e.color].status>a.status||n[e.color].data.effectiveOutOfStock&&!e.effectiveOutOfStock||n[e.color].data.isEndOfSku&&!e.isEndOfSku)&&(n[e.color]=a))}},{key:"addSkuCapacity",value:function(e,t,n){var a={data:e,status:oe.NOTAVAILABLEINCONFIG};e&&t&&z()(e,"condition.key")===z()(t,"condition.key")&&e.color===t.color&&(e.skuId===t.skuId&&(e.effectiveOutOfStock=t.effectiveOutOfStock),t.capacity===e.capacity?a.status=oe.SELECTED:t.color===e.color&&t.condition.key===e.condition.key?a.status=oe.AVAILABLEINCONFIG:a.status=oe.NOTAVAILABLEINCONFIG,(!n[e.capacity]||e.uniqueURLName===t.uniqueURLName||n[e.capacity]&&n[e.capacity].status>a.status||n[e.capacity].data.effectiveOutOfStock&&!e.effectiveOutOfStock||n[e.capacity].data.isEndOfSku&&!e.isEndOfSku)&&(n[e.capacity]=a))}},{key:"addSkuCondition",value:function(e,t,n){var a={data:e,status:oe.NOTAVAILABLEINCONFIG};e&&t&&e.capacity===t.capacity&&e.color===t.color&&e.condition.key!==W.c.deviceCondition.preOwnedKey&&(e.skuId===t.skuId&&(e.effectiveOutOfStock=t.effectiveOutOfStock),t.condition.key===e.condition.key?a.status=oe.SELECTED:t.color===e.color&&t.capacity===e.capacity?a.status=oe.AVAILABLEINCONFIG:a.status=oe.NOTAVAILABLEINCONFIG,(!n[e.condition.key]||e.uniqueURLName===t.uniqueURLName||n[e.condition.key]&&(n[e.condition.key].status>a.status||n[e.condition.key].data.effectiveOutOfStock&&!e.effectiveOutOfStock||n[e.condition.key].data.isEndOfSku&&!e.isEndOfSku))&&(n[e.condition.key]=a))}}]),n}(O.PureComponent);Object(I.a)(me,"contextType",ce.a),function(e){e[e.NEW=1]="NEW",e[e.REFURBISHED=2]="REFURBISHED",e[e.REFURB=2]="REFURB",e[e.PREOWNED=3]="PREOWNED",e[e.USED=3]="USED"}(fe||(fe={}))},Iu1G:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("Tit0"),l=a("MI3g"),d=a("a7VT"),p=a("q1tI"),u=a("U/e8"),f=a("8Kt/"),m=a.n(f),h=a("mwIZ"),g=a.n(h),b=p.createElement;function v(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(d.a)(t);if(n){var i=Object(d.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(l.a)(this,e)}}var y=function(e){Object(c.a)(n,e);var t=v(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props.seoContent&&this.props.seoContent.twitterTitle?this.props.seoContent.twitterTitle:"",t=this.props.seoContent&&this.props.seoContent.twitterDescription?this.props.seoContent.twitterDescription:"",n=g()(this.props,"seoContent.dynamicSEO.metaSeotitle",void 0)?this.props.seoContent.dynamicSEO.metaSeotitle:Object(u.O)(e,this.props.selectedSku,this.props.deviceType);n=Object(u.qb)(n,this.props.selectedSku);var a=g()(this.props,"seoContent.dynamicSEO.metaDescription",void 0)?this.props.seoContent.dynamicSEO.metaDescription:Object(u.N)(t,this.props.selectedSku,this.props.deviceType);a=Object(u.qb)(a,this.props.selectedSku);var i=this.props.image?"https://www.att.com"+this.props.image:Object(u.f)(this.props.selectedSku,void 0,!0);return b(m.a,null,b("meta",{name:"twitter:card",content:"summary_large_image"}),b("meta",{name:"twitter:site",content:"@att"}),b("meta",{name:"twitter:creator",content:"@att"}),b("meta",{name:"twitter:title",content:n}),b("meta",{property:"twitter:image",content:i}),b("meta",{name:"twitter:description",content:a}))}}]),n}(p.PureComponent);n.a=y},J9hU:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("p0XB"),s=a.n(r),c=a("gqNJ"),l=a.n(c),d=a("9Jkg"),p=a.n(d),u=a("0iUn"),f=a("sLSF"),m=a("Tit0"),h=a("MI3g"),g=a("a7VT"),b=a("q1tI"),v=a("U/e8"),y=a("8Kt/"),C=a.n(y),x=a("mwIZ"),k=a.n(x),S=b.createElement;function I(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(g.a)(t);if(n){var i=Object(g.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(h.a)(this,e)}}var O=function(e){Object(m.a)(n,e);var t=I(n);function n(e){return Object(u.a)(this,n),t.call(this,e)}return Object(f.a)(n,[{key:"JsonLd",value:function(e){var t=this.getImageGallery();return S(b.Fragment,null,S("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:p()(e)}}),t&&S("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:p()(t)}}))}},{key:"populateItemAvailability",value:function(){return k()(this.props,"data.tagDetails.preOrderable",void 0)?"https://schema.org/PreOrder":!0===k()(this.props,"data.tagDetails.effectiveOutOfStock",void 0)?"http://schema.org/OutOfStock":"http://schema.org/InStock"}},{key:"populateItemCondition",value:function(e){switch(e.key){case"new":return"http://schema.org/NewCondition";case"used":return"http://schema.org/UsedCondition";case"refurb":return"http://schema.org/RefurbishedCondition";default:return""}}},{key:"populateAggregateRating",value:function(){var e={"@type":"AggregateRating",bestRating:"5",worstRating:"1"},t=k()(this.props,"data.tagDetails.rating",""),n=k()(this.props,"data.tagDetails.reviewCount","");return t&&(e.ratingValue="".concat(String(l()(t).toFixed(1)))),n&&(e.reviewCount="".concat(String(n))),e}},{key:"populateAggregrateOffers",value:function(){var e={"@type":"AggregateOffer",priceCurrency:"USD"},t=this.getPriceRange();if(t){t.minLeasePrice?(e.lowPrice=String(t.minLeasePrice.toFixed(2)),t.maxListPrice?e.highPrice=String(Math.max(t.minLeasePrice,t.maxListPrice).toFixed(2)):t.maxLeasePrice?e.highPrice=String(Math.max(t.minLeasePrice,t.maxLeasePrice).toFixed(2)):e.highPrice=String(t.minLeasePrice.toFixed(2))):t.minListPrice&&(e.lowPrice=String(t.minListPrice.toFixed(2)),t.maxListPrice?e.highPrice=String(Math.max(t.minListPrice,t.maxListPrice).toFixed(2)):t.maxLeasePrice?e.highPrice=String(Math.max(t.minListPrice,t.maxLeasePrice).toFixed(2)):e.highPrice=String(t.minListPrice.toFixed(2)));var n=null,a=null;e.lowPrice&&(n={"@type":"Offer",price:e.lowPrice,priceCurrency:"USD"}),e.highPrice&&(a={"@type":"Offer",price:e.highPrice,priceCurrency:"USD"}),(n||a)&&(e.offers=[],n&&e.offers.push(n),a&&e.offers.push(a))}return e.offerCount="2",e.availability=this.populateItemAvailability(),e}},{key:"populateProductVariants",value:function(){return k()(this.props,"data.tagDetails.model","")}},{key:"getPriceRange",value:function(){var e,t,n,a;if(this.props.data){var i=k()(this.props,"data.tagDetails.priceList",[]);if(this.props.data.skuItems&&s()(this.props.data.skuItems))for(var o=0;o<this.props.data.skuItems.length;o++){var r=this.props.data.skuItems[o];r&&s()(r.priceList)&&r.priceList.length>0&&null!==r.priceList&&(e=void 0===e?r.priceList[0].monthlyLeasePrice:Math.min(r.priceList[0].monthlyLeasePrice,e),t=void 0===t?r.priceList[0].monthlyLeasePrice:Math.max(r.priceList[0].monthlyLeasePrice,t),r.priceList[0].listPrice?(n=void 0===n?r.priceList[0].listPrice:Math.min(r.priceList[0].listPrice,n),a=void 0===a?r.priceList[0].listPrice:Math.max(r.priceList[0].listPrice,a)):r.priceList[0].msrp&&(n=void 0===n?r.priceList[0].msrp:Math.min(r.priceList[0].msrp,n),a=void 0===a?r.priceList[0].msrp:Math.max(r.priceList[0].msrp,a)))}else if(i&&s()(i))for(var c=0;c<i.length;c++){var l=i[c];l&&(e=void 0===e?l.monthlyLeasePrice:void 0!==l.monthlyLeasePrice?Math.min(l.monthlyLeasePrice,e):e,t=void 0===t?l.monthlyLeasePrice:void 0!==l.monthlyLeasePrice?Math.max(l.monthlyLeasePrice,e):t,null!==l.listPrice?(n=void 0===n?l.listPrice:void 0!==l.noCommitmentTermPrice?Math.min(l.listPrice,n):n,a=void 0===a?l.listPrice:void 0!==l.noCommitmentTermPrice?Math.max(l.listPrice,a):a):null!==l.msrp&&(n=void 0===n?l.msrp:void 0!==l.msrp?Math.min(l.listPrice,n):n,a=void 0===a?l.msrp:void 0!==l.msrp?Math.max(l.listPrice,a):a))}}return{minLeasePrice:e,maxLeasePrice:t,minListPrice:n,maxListPrice:a}}},{key:"getImageGallery",value:function(){var e=k()(this.props,"idpcmsContent",void 0),t=k()(this.props,"selectedSku",void 0),n=k()(this.props,"selectedSku.skuId",void 0);if(e&&t&&n){var a=Object(v.a)(e,t).galleryContent;if(a){var i,o=a.filter((function(e){return k()(e,"master.skuId",void 0)===n}));if(s()(o)&&o.length)return(i=o[0].master)&&i.imageUrls&&s()(i.imageUrls)?{"@context":"http://schema.org","@type":"ImageGallery",url:"".concat(Object(v.e)(k()(this.props,"data.tagDetails"),k()(this.props,"data.deviceType"),k()(this.props,"data.tagDetails.subCategory"))),associatedMedia:i.imageUrls.map((function(e){return{"@type":"MediaObject",image:{"@type":"ImageObject",contentUrl:"https://www.att.com".concat(e)},name:i.title}}))}:null}}}},{key:"render",value:function(){var e=k()(this.props,"data.seoContent.metaDescription",""),t=k()(this.props,"data.seoContent.dynamicSEO.metaDescription","")?k()(this.props,"data.seoContent.dynamicSEO.metaDescription",""):Object(v.N)(e,this.props.selectedSku,k()(this.props,"data.deviceType",""));t=Object(v.qb)(t,this.props.selectedSku);this.props.data.skuItems.length;var n=this.getPriceRange(),a=k()(this.props,"data.image")||Object(v.f)(k()(this.props,"data.tagDetails")),i={"@context":"http://schema.org","@type":"Product",name:"".concat(this.props.data.tagDetails.displayName),description:"".concat(t),brand:"".concat(this.props.data.tagDetails.manufacturer),url:"".concat(Object(v.e)(this.props.data.tagDetails,this.props.data.deviceType,this.props.data.tagDetails.subCategory)),image:"https://www.att.com".concat(a),manufacturer:"".concat(this.props.data.tagDetails.manufacturer),model:this.populateProductVariants(),sku:"".concat(this.props.data.tagDetails.skuId),aggregateRating:this.populateAggregateRating()},o=this.populateAggregrateOffers();o.lowPrice&&(i.offers=o),n.minLeasePrice?(i.additionalType={"@type":"PriceSpecification",priceCurrency:"USD",minPrice:String(n.minLeasePrice.toFixed(2))},n.maxListPrice?i.additionalType.maxPrice=String(Math.max(n.minLeasePrice,n.maxListPrice).toFixed(2)):n.maxLeasePrice?i.additionalType.maxPrice=String(Math.max(n.minLeasePrice,n.maxLeasePrice).toFixed(2)):i.additionalType.maxPrice=String(n.minLeasePrice.toFixed(2))):n.minListPrice&&(i.additionalType={"@type":"PriceSpecification",priceCurrency:"USD",minPrice:String(n.minListPrice.toFixed(2))},n.maxListPrice?i.additionalType.maxPrice=String(Math.max(n.minListPrice,n.maxListPrice).toFixed(2)):n.maxLeasePrice?i.additionalType.maxPrice=String(Math.max(n.minListPrice,n.maxLeasePrice).toFixed(2)):i.additionalType.maxPrice=String(n.minListPrice.toFixed(2))),i.color="".concat(k()(this.props,"data.tagDetails.color","")),i.itemCondition=this.populateItemCondition(k()(this.props,"data.tagDetails.condition",""));var r=k()(this.props,"selectedSku.upc","");return i.gtin12="".concat(r),i.productID="upc:".concat(r),r&&(i.identifier_exists=!0),S(C.a,null,this.JsonLd(i))}}]),n}(b.Component);n.a=O},JjzQ:function(e,t,n){"use strict";var a=n("eVuF"),i=n.n(a),o=n("ln6h"),r=n.n(o),s=n("q1tI"),c=n.n(s),l=n("Da3r"),d=n("mwIZ"),p=n.n(d),u=n("ijCd"),f=n.n(u),m=n("U/e8"),h=n("Z2Qj"),g=c.a.createElement;t.a=function(e){var t=e.planCmsContent,n=e.customerType,a=e.dataQa,o=e.abpDiscount,d=e.isPrepaid,u=e.isMultiMonthPlan,b=Object(s.useState)(!1),v=b[0],y=b[1],C=!f()(["CON","CRU"],n),x=o>0,k="phones"===Object(m.x)(e.skuInContext.deviceType,e.skuInContext.deviceSubType),S=p()(t,"idp-cms-feed.productselectionconfig.contentFragments.configLabels.master",null),I=p()(S,"planPricingLegaIIDP.master.legalShortPath.master.legalText",l.c.planPricingLegal.planPricingLegal),O=p()(S,"planPricingLegalAbpIDP.master.legalShortPath.master.legalText",l.c.planPricingLegal.planPricingLegalAbp),w=p()(S,"planPricingLegalDiscountIDP.master.legalShortPath.master.legalText",l.c.planPricingLegal.planPricingLegalDiscount),T=p()(S,"planPricingLegalAbpAndDiscountIDP.master.legalShortPath.master.legalText",l.c.planPricingLegal.planPricingLegalAbpAndDiscount),L=p()(S,"prepaidPlanPricingLegalMonthly.master.legalShortPath.master.legalText",l.c.prepaidPlans.prepaidPlanPricingLegal),N=p()(S,"prepaidPlanPricingLegalMultiMonth.master.legalShortPath.master.legalText",l.c.prepaidPlans.prepaidPlanPricingLegal),j=p()(S,"planPricingLegalFirstNet.master.legalShortPath.master.legalText",l.c.planPricingLegal.planPricingLegalFirstNet),P="",M=!1;Object(s.useEffect)((function(){var e=function(){var e,t;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(h.a.getMnmFlags());case 2:return e=n.sent,t=p()(e,"allocations.svc-idp-wireless-enable-mix-n-match-plans.value",!1),n.abrupt("return",t);case 5:case"end":return n.stop()}}),null,null,null,i.a)}();y(!e)}),[]);var A=function(e,t){return v||k?e:t};d&&u?(P=L,M=!0):d?(P=N,M=!0):x&&C?P=A(T,w):x?P=A(O,I):C?(P=w,M=!0):e.isFirstNetPlan&&!C?(P=j,M=!0):(P=I,M=!0);var D={abpmonthlyamount:o};!M&&D.abpmonthlyamount>0&&(M=!0),P=Object(m.nb)(P,D);return g(c.a.Fragment,null,g("div",{"data-qa":"".concat(a,"-LegalDiv")},g("span",{className:"type-xs font-regular","data-qa":"".concat(a,"-LegalText"),dangerouslySetInnerHTML:{__html:M?P:""}})))}},KHcO:function(e,t,n){"use strict";var a=n("6BQ9"),i=n.n(a),o=n("eVuF"),r=n.n(o),s=n("MX0m"),c=n.n(s),l=n("q1tI"),d=n.n(l),p=n("a6RD"),u=n.n(p),f=n("JNjH"),m=n("lZBS"),h=n("ZSdl"),g=n("zh2Y"),b=n("cq7Z"),v=n("U/e8"),y=n("mwIZ"),C=n.n(y),x=n("kMre"),k=d.a.createElement,S=u()((function(){return r.a.resolve().then((function(){return n("b0Je")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["b0Je"]},modules:["../PortInLegalModal"]}});t.a=function(e){var t=e.dataQa,n=e.dtabCookieExists,a=e.configView,o=e.portInConsented,r=(e.tradeInConsented,e.nextUpConsented),s=e.hylaOfferCodeRetrieved,p=e.IXPFeatureFlags,u=(e.onLegalClick,e.isByod),y=Object(l.useState)(!1),I=y[0],O=y[1],w=function(){O(!0)},T=d.a.useContext(f.a),L=T.priceOptions[T.selectedSku.skuId]&&T.priceOptions[T.selectedSku.skuId][T.selectedPricingIndex],N=(T.priceOptions[T.selectedSku.skuId]&&T.priceOptions[T.selectedSku.skuId][T.prevSelectedIndex],L&&L.displayPortIn),j=s||"DEFAULT",P=L&&L.displayTradeIn[j],M=T.getTradeInPrice(P),A=T.getPortInPrice(N),D=C()(L,"promoPricing",[]),R=D.findIndex((function(e){return e.hylaOfferCode==j})),F=!1,E=!1;if(D.length>0){var U=-1!=R?L.promoPricing[R]:L.promoPricing[0];E="standalonePortIn"===U.promoType,Boolean(n)&&p&&"true"===p["pdp-hideportin"]&&E,F=U&&E}C()(e.learnViewPropsState,"configPortIn",!1);var B=Object(l.useState)(!!a),H=B[0],V=B[1],_=Object(v.g)(T.getNonNextupPriceOption(),T,!0,!1);return k(d.a.Fragment,null,L&&N&&(L.leaseTotalMonths>0||L.termLength>1||u)&&k(x.a,{dataQa:t,aria:N.portInHeader,label:N.portInHeader,collapsedContent:k(d.a.Fragment,null,k("div",{className:"jsx-111342347 type-base mar-r-xxs font-bold"},T.isPortInSelected?"".concat(N.portInContinueCTALabel):"Get new wireless number"),k("div",{className:"jsx-111342347 margin-left-auto"},k("span",{className:"jsx-111342347 tyep-base text-right font-bold"},"".concat(_.displayPrefix+_.displayPrice)),k("span",{className:"jsx-111342347 type-sm font-bold"},_.displaySuffix))),content:k(m.c,{id:"RadioSelection-PortIn",onChange:function(e){return T.setIsPortInSelected(1===i()(e))},defaultSelection:T.isPortInSelected?1:0,dataQa:t},k("div",{className:"jsx-111342347 flex flex-column"},k(m.b,{value:1,name:"portInContinueCTALabel",inputName:"portInCTALabel",id:"portInContinueCTALabel",ariaControls:"portInContinueCTALabel",ariaHidden:H,dataQa:"".concat(t,"-PortInContinueCTA"),options:{fullWidth:!0,noTopMar:!0,buttonClasses:"flex-column pad-xs",zIndex:1}},(function(e){return k(h.a,{isSelected:e,skuId:T.selectedSku.skuId,displayValue:N.portInContinueCTALabel,displayPrice:{displayPrefix:C()(N,"portInPrefix"),displayPrice:A,displaySuffix:C()(N,"portInPriceWithoutNextUpSuffix")},radioSubContent:function(e,t){return k(g.a,{isSelected:e,priceOption:t,ignoreSelectedForDisplay:!0,isPortIn:!0,isStandalonePortIn:E,onLegalClick:w})},selectedSku:T.selectedSku,hidePrice:F})})),k(m.b,{value:0,name:"portInCancelCTALabel",inputName:"portInCTALabel",id:"portInCancelCTALabel",ariaControls:"portInContinueCTALabel",ariaHidden:H,dataQa:"".concat(t,"-PortInCancelCTA"),options:{fullWidth:!0,zIndex:1,buttonClasses:"flex-column pad-xs"}},(function(e){return k(h.a,{isSelected:e,skuId:T.selectedSku.skuId,displayValue:N.portInCancelCTALabel,displayPrice:{displayPrefix:P&&P.tradeInPrefix,displayPrice:M,displaySuffix:P&&P.tradeInSuffix},radioSubContent:function(e,t){return k(g.a,{isSelected:e,priceOption:t,ignoreSelectedForDisplay:!0,isPortIn:!1,onLegalClick:w})},selectedSku:T.selectedSku,hidePrice:F})})))),isCollapsed:H,isSelected:!!L,collapseEnabled:!0,onAccordionClick:a?{pathname:"".concat(e.learnViewPath),state:{configScroll:"PORTIN",configTradeIn:!0,configPortIn:o,configNextUp:r,configHylaCode:s}}:function(){var e=new b.a,t={linkDestinationUrl:T.selectedSku.devicePageURL,linkName:"PortIn"+(H?"_Expand":"_Collapse"),linkPosition:"Body"};e.fireLinkClickEvent(t),V(!H)}}),N&&N.standalonePortInLongLegal&&N.portInOfferId&&k(S,{data:{isOpen:I,onRequestClose:function(){O(!1)},containerClassName:"banner-legal-borders",contentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base",rowClassName:"",closeClassName:"close-button no-border",textClassName:"type-legal offer",showSeperator:!0,width:6},longLegalPath:N.standalonePortInLongLegal,offerID:N.portInOfferId}),k(c.a,{id:"111342347"},[".text-align-left.jsx-111342347{text-align:left;}",".margin-left-auto.jsx-111342347{margin-left:auto;}",".configured-label.jsx-111342347{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-111342347{font-size:16px;}",".font-monthly.jsx-111342347{font-size:14px;}",".pricing-prefix.jsx-111342347{font-size:14px;}"]))}},"Kn+w":function(t,n,a){"use strict";a.r(n);var i=a("hfKm"),o=a.n(i),r=a("2Eek"),s=a.n(r),c=a("XoMD"),l=a.n(c),d=a("Jo+v"),p=a.n(d),u=a("4mXO"),f=a.n(u),m=a("pLtp"),h=a.n(m),g=a("pbKT"),b=a.n(g),v=a("9Jkg"),y=a.n(v),C=a("ln6h"),x=a.n(C),k=a("eVuF"),S=a.n(k),I=a("0iUn"),O=a("sLSF"),w=a("AT/M"),T=a("Tit0"),L=a("MI3g"),N=a("a7VT"),j=a("vYYK"),P=a("q1tI"),M=a("xEeC"),A=a("cq7Z"),D=a("ETzL"),R=a("RrNd"),F=a("Ra6Z"),E=a("Da3r"),U=a("U/e8"),B=a("C3wX"),H=a("BgAt"),V=a("0Yz8"),_=a("yLiY"),Q=a.n(_),q=a("BTSr"),W=a("Z2Qj"),G=a("HW76"),z=a("mwIZ"),Z=a.n(z),X=a("wvx5"),K=P.createElement;function Y(e,t){var n=h()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return p()(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):l.a?s()(e,l()(n)):Y(Object(n)).forEach((function(t){o()(e,t,p()(n,t))}))}return e}function $(t){var n=function(){if("undefined"===typeof Reflect||!b.a)return!1;if(b.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(b()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(N.a)(t);if(n){var i=Object(N.a)(this).constructor;e=b()(a,arguments,i)}else e=a.apply(this,arguments);return Object(L.a)(this,e)}}var ee=function(e){Object(T.a)(n,e);var t=$(n);function n(e){var a;return Object(I.a)(this,n),a=t.call(this,e),Object(j.a)(Object(w.a)(a),"reporting",void 0),Object(j.a)(Object(w.a)(a),"fireLinkClick",(function(e,t){var n={linkName:e,linkPosition:"Body",linkDestinationUrl:t};a.reporting.fireLinkClickEvent(n)})),Object(j.a)(Object(w.a)(a),"redirectLegacy",(function(){var e="".concat(R.b.productDetailsUrls.deviceConfigUrl).concat(a.props.selectedSku.skuId);window.location.href=e})),Object(j.a)(Object(w.a)(a),"hideCtoModal",(function(){a.setState({showCtoModal:!1}),a.generateIntentsObject(a.props.intentsToShow,a.props.showNewCustomerLink)})),Object(j.a)(Object(w.a)(a),"redirectAndHideCtoModal",(function(){a.hideCtoModal(),window.location.href="/buy/tablets/"})),Object(j.a)(Object(w.a)(a),"clearSessionStorageItems",(function(){sessionStorage.getItem("offerId")&&sessionStorage.removeItem("offerId"),sessionStorage.getItem("offerBOGOid")&&sessionStorage.removeItem("offerBOGOid"),sessionStorage.getItem("myFavstoreCurrentSku")&&sessionStorage.removeItem("myFavstoreCurrentSku")})),a.state={intentsObject:{},addToCartSuccess:void 0,showCtoModal:!1,ixpFlags:{}},a.reporting=new A.a,a.intentModalCallback=a.intentModalCallback.bind(Object(w.a)(a)),a.intentModalPageLoadEvent=a.intentModalPageLoadEvent.bind(Object(w.a)(a)),a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.intentsToShow.length>0&&this.generateIntentsObject(this.props.intentsToShow,this.props.showNewCustomerLink),S.a.resolve(W.a.getMnmFlags()).then((function(t){e.setState({ixpFlags:t})}))}},{key:"componentWillUpdate",value:function(e){(e.intentsToShow.length>0&&e.intentsToShow!==this.props.intentsToShow||e.showNewCustomerLink!==this.props.showNewCustomerLink)&&this.generateIntentsObject(e.intentsToShow,e.showNewCustomerLink)}},{key:"render",value:function(){var e=this;return K(P.Fragment,null,K(G.a,{show:this.state.showCtoModal,title:"What do you want to do?",description:"Are you new to AT&T, and want to add a tablet? Call us at 800.331.0500 and we\u2019ll help you complete your order.",action1Label:"Ok",action1:this.redirectAndHideCtoModal,onClose:this.hideCtoModal}),K(M.a,{userIntentData:this.state.intentsObject,headerText:this.getModalHeader(),dataQa:"PDPPage-intentModal-",isIntentModalOpen:this.props.isIntentModalOpen,onUserInput:this.intentModalCallback,showNewCustomerLink:this.props.showNewCustomerLink,bgPageLoadEvent:this.props.bgPageLoadEvent,modalPageLoadEvent:function(){e.intentModalPageLoadEvent(null,null,null)},reportingEventTimeout:1e3}))}},{key:"intentModalPageLoadEvent",value:function(e,t,n){var a="";if(this.props.priceOptions){var i=this.props.priceOptions&&this.props.priceOptions[this.props.selectedSku.skuId]?this.props.priceOptions[this.props.selectedSku.skuId][this.props.selectedPricingIndex||0]:null;if(a=null!==i?i.displayPrice:null!==this.props.selectedSku.priceList?"".concat(this.props.selectedSku.priceList[0].monthlyLeasePrice):"",null!==i){var o=i.name;"0"!==o&&"1"!==o||(a="0")}}var r=e||"/devices/intent/modal",s=t||Object(B.a)(this.props.profileInfo.flowIndicator,this.props.profileInfo.subFlowType,this.props.selectedSku.deviceType),c=n||"DS Customer Intent Modal Pg",l=J({},{"page.attributes.productType":Object(B.d)(s,"simcard"===Z()(this.props,"selectedSku.deviceSubType"),this.props.isAccessory),"page.attributes.sku":this.props.selectedSku.skuId,"page.attributes.skuName":this.props.selectedSku.shortDisplayName||this.props.selectedSku.displayName,"page.attributes.itemCapacity":this.props.selectedSku.capacity,"page.attributes.itemCondition":this.props.selectedSku.condition.displayName,"page.attributes.itemRecurringPrice":a,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageGroup":"WIRELESS ONLINE STORE","page.category.pageOwnership":"Consumer","page.location.url":r,"page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostName,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":s,"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":this.props.profileInfo.zipCode,"chat.offerCode":"Default","user.customerType":Object(B.b)(this.props.profileInfo.customerType),"user.account.liabilityType":Object(B.c)(this.props.profileInfo.customerType),"user.uuid":this.props.profileInfo.uuid,"page.pageInfo.friendlyPageName":c,"user.account.fan":this.props.profileInfo.fanNumber,url:r});this.reporting.firePageLoadEvent(l)}},{key:"isMobile",value:function(){var e=window.innerWidth||0,t=window.innerHeight||0;return e<767&&t<=812}},{key:"intentModalCallback",value:function(e){var t,n,a,i,o,r,s,c,l;return x.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:this.setIntentButtonAsSpinner(e),d.t0=e,d.next="NEW"===d.t0?4:"AL"===d.t0?20:"UP"===d.t0?23:(d.t0,26);break;case 4:if(t=Object(U.x)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),n=!0,a=0,i=0,this.context.cartItems.map((function(e){e.isPlanFirst&&a++,e.isPlanFirst&&e.status&&i++})),o=a>0&&0===i,r=0==this.context.cartItems.length,s="true"===Object(U.H)()["pdp-data-connect-llp"],c=Z()(this.state.ixpFlags,"allocations.svc-idp-wireless-enable-mix-n-match-plans.value"),l="true"===c,s||"tablets"!==t||"simcard"===this.props.selectedSku.deviceSubType||this.isMobile()?!s&&"tablets"===t&&"simcard"!==this.props.selectedSku.deviceSubType&&l&&(r||o)&&this.isMobile()?(this.props.closeModal(),this.setState({showCtoModal:!0}),n=!1):"tablets"===t&&"simcard"===this.props.selectedSku.deviceSubType&&l&&r&&(this.props.closeModal(),s||(this.setState({showCtoModal:!0}),n=!1)):l&&(r||o)&&(this.redirectLegacy(),n=!1),!n){d.next=19;break}return this.fireModalLinkClickEvent("create a new wireless account",window.location.href),d.next=19,x.a.awrap(this.onIntentSelection(e,E.c.intentModalContent.UnauthWireless.New.intentDisplayName));case 19:return d.abrupt("break",27);case 20:return d.next=22,x.a.awrap(this.onIntentSelection(e,E.c.intentModalContent.UnauthWireless.AddALine.intentDisplayName));case 22:return d.abrupt("break",27);case 23:return d.next=25,x.a.awrap(this.onIntentSelection(e,E.c.intentModalContent.UnauthWireless.Upgrade.intentDisplayName));case 25:return d.abrupt("break",27);case 26:this.props.closeModal();case 27:case"end":return d.stop()}}),null,this,null,S.a)}},{key:"setIntentButtonAsSpinner",value:function(e){K(V.a,{config:{size:"30px"}});if("NEW"===e)this.setState({intentsObject:J({},this.state.intentsObject,{New:[J({},this.state.intentsObject.New[0],{intentDisplayName:K(V.a,{config:{size:"20px"}})})]})});else{var t=this.state.intentsObject.Existing.map((function(t){return t.key===e?J({},t,{intentDisplayName:K(V.a,{config:{size:"20px"}})}):t}));this.setState({intentsObject:J({},this.state.intentsObject,{Existing:t})})}}},{key:"getModalHeader",value:function(){var e=this.formatIdpIntentModalContent(this.props.intentModalContent)||E.c;return this.props.showNewCustomerLink?e.intentModalHeader.olam:e.intentModalHeader.common}},{key:"formatIdpIntentModalContent",value:function(e){if(e&&e[0]&&e[0].master&&e[0].master.modals&&e[0].master.modals.master&&e[0].master.modals.master.standaloneIntentModal&&e[0].master.modals.master.standaloneIntentModal.master){var t=e[0].master.modals.master.standaloneIntentModal.master;return{intentModalContent:{UnauthWireless:{New:{key:"NEW",intentDisplayName:t.continueCTA,sectionHeader:t.newUserDesc},AddALine:{key:"AL",intentDisplayName:t.addALineCTA,sectionHeader:t.existingUserDesc,premierMessage:t.premierText,premierLink:t.premierLinkURL,premierLinkText:t.premierLinkLabel,businessLinkText:E.c.intentModalContent.UnauthWireless.AddALine.businessLinkLabel},Upgrade:{key:"UP",intentDisplayName:t.upgradeCTA,sectionHeader:t.existingUserDesc}},OlamWireless:{AddALine:{key:"AL",intentDisplayName:t.addALineCTA,sectionHeader:t.preAuthUserDesc,textToLink:t.preAuthLink},Upgrade:{key:"UP",intentDisplayName:t.upgradeCTA}}},intentModalHeader:{olam:t.preAuthHeading,common:t.commonHeading}}}return!1}},{key:"generateIntentsObject",value:function(e,t){var n={Existing:[],New:[]},a=this.formatIdpIntentModalContent(this.props.intentModalContent)||E.c;console.log("NSCTA generate",J({},this.props,{showNewCustomerLink:t}));var i=t?a.intentModalContent.OlamWireless:a.intentModalContent.UnauthWireless;if(e.indexOf("NEW")>-1&&(n.New=i.New?[i.New]:null),e.indexOf("AL")>-1){var o=J({},i.AddALine,{displayPremierLink:"CRU"===this.props.profileInfo.customerType,displayBusinessLink:("CON"===this.props.profileInfo.customerType||"IRU"===this.props.profileInfo.customerType)&&!t&&!this.props.isAuthenticated});n.Existing.push(o)}e.indexOf("UP")>-1&&this.isEligibleforUpgrade()&&n.Existing.push(i.Upgrade),console.log("NSCTA intentContent",n,this.props),this.setState({intentsObject:n})}},{key:"isEligibleforUpgrade",value:function(){var e=Object(U.x)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),t="simcard"===this.props.deviceSubType;return!(this.props.selectedSku&&e===E.c.CONNECTED_DEVICES_AND_MORE&&(this.props.selectedSku.isWHP||this.props.selectedSku.isWHPI||!this.props.selectedSku.isEligibleForUpgrade)||t)}},{key:"onIntentSelection",value:function(e,t){var n,a,i,o,r,s,c,l,d,p,u,f=this,m=arguments;return x.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=m.length>2&&void 0!==m[2]?m[2]:this.props.selectedSku.skuId,a=m.length>3&&void 0!==m[3]?m[3]:this.props.selectedContractTerm.name,m.length>4&&void 0!==m[4]?m[4]:this.props.profileInfo,i=m.length>5&&void 0!==m[5]?m[5]:this.context.cartItems,m.length>6&&void 0!==m[6]?m[6]:this.props.selectedSku,o=m.length>7&&void 0!==m[7]?m[7]:this.props.selectedContractTerm.termLength,r=a,s=o,c="true"===Object(U.H)()["pdp-spo-device-details"],"1"!==a&&"24"!==a||(s=r,r="regular"),d=!1,"UP"!==e){t.next=16;break}return t.next=14,x.a.awrap(X.a.getProfileInfo());case 14:void 0!==(p=t.sent)&&(u=X.a.getAuthState(p),l=u.isAuthenticated,d=u.isWireless);case 16:t.prev=16,D.a.setUserIntent_pdp(e,n,r,s).then((function(t){var n,a,o,r,s,c,p,u,m,h,g,b;return x.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:n="true"===Object(U.H)()["pdp-data-connect-llp"],a=Z()(f.state.ixpFlags,"allocations.svc-idp-wireless-enable-mix-n-match-plans.value"),o="true"===a,r=0===i.length,s=Object(U.x)(f.props.selectedSku.deviceType,f.props.selectedSku.deviceSubType,f.props.selectedSku.paymentType),c="AL"===e?"Add a Line":"Upgrade",!n&&"NEW"===e&&s===E.c.CONNECTED_DEVICES_AND_MORE&&o&&r?window.location.href="".concat(R.b.productDetailsUrls.deviceConfigUrl).concat(f.props.selectedSku.skuId):"NEW"!==e||"CRU"!==f.props.profileInfo.customerType||o?"NEW"===e&&"CRU"===f.props.profileInfo.customerType&&o?f.props.redirectToConfigView():"NEW"===e&&"CRU"===f.props.profileInfo.customerType&&o&&r?f.props.redirectToConfigView():"true"===Object(U.H)()["pdp-plan-view-redirect"]&&"NEW"===e?n||s!==E.c.CONNECTED_DEVICES_AND_MORE?"CRU"===f.props.profileInfo.customerType&&"NEW"===e?f.NewCustomerClick():f.props.redirectToConfigView().then((function(e){e||f.generateIntentsObject(f.props.intentsToShow,f.props.showNewCustomerLink)})):window.location.href="".concat(R.b.productDetailsUrls.deviceConfigUrl).concat(f.props.selectedSku.skuId):"NEW"===e?f.NewCustomerClick():"CRU"===f.props.profileInfo.customerType?(p=Object(U.nb)(R.b.productDetailsUrls.shopLandingService,{intent:e,skuId:f.props.selectedSku.skuId}),f.fireModalLinkClickEvent(c,p),window.location.href=p):"UP"===e&&!0!==l&&void 0!==l?(Object(U.wb)(!0,!0),window.location.href=Object(U.R)()):"UP"===e&&!0===l&&d?(void 0!==(u=localStorage.getItem("redirectedLogin"))&&(m=!!(m=Z()(u,"selectedDeviceConfig"))&&JSON.parse(u))&&(m=y()(m),sessionStorage.setItem("selectedDeviceConfig",m),Object(U.k)()),window.location.href=Object(U.nb)(R.b.productDetailsUrls.shopLandingService,{intent:e,skuId:f.props.selectedSku.skuId})):(h="",t.redirect&&t.redirectURL&&(h=t.redirectURL+"?wlsfi=".concat(e)),g=Object(U.x)(f.props.selectedSku.deviceType,f.props.selectedSku.deviceSubType,f.props.selectedSku.paymentType),f.props.showNewCustomerLink&&(h=Object(U.nb)(R.b.productDetailsUrls.shopLandingService,{intent:e,skuId:f.props.selectedSku.skuId})),b=Q()().publicRuntimeConfig,Object(U.b)(b,f.props.profileInfo.customerType,e)&&g!==E.c.CONNECTED_DEVICES_AND_MORE&&(h=("IRU"===f.props.profileInfo.customerType||"EMO"===f.props.profileInfo.customerType||"IMO"===f.props.profileInfo.customerType||f.props.profileInfo.customerType,"".concat(R.b.productDetailsUrls.idseUrl).concat(f.props.selectedSku.skuId,"&wlsfi=").concat(e.toLowerCase()))),""===h&&(console.error("onIntentSelection :: No redirect URL defined. Redirecting to IDSE."),h="".concat(R.b.productDetailsUrls.idseUrl).concat(f.props.selectedSku.skuId,"&wlsfi=").concat(e.toLowerCase())),f.fireModalLinkClickEvent(c,h),window.location.href=h):f.redirectLegacy();case 7:case"end":return v.stop()}}),null,null,null,S.a)})),t.next=27;break;case 20:if(t.prev=20,t.t0=t.catch(16),!c){t.next=26;break}throw H.p;case 26:throw H.q;case 27:case"end":return t.stop()}}),null,this,[[16,20]],S.a)}},{key:"getRelevantUrls",value:function(){var e="".concat(R.b.productDetailsUrls.idseUrl).concat(this.props.selectedSku.skuId),t="".concat(R.b.productDetailsUrls.termSelectUrl).concat(this.props.selectedSku.skuId),n="".concat(R.b.productDetailsUrls.deviceConfigUrl).concat(this.props.selectedSku.skuId);F.contractTermsPDP.enabled&&(n+="&hideTerms=true&term=".concat(this.props.selectedContractTerm.name));var a=window.location.host;return"www.att.com"===a?t="https://m.att.com".concat(t):a.indexOf("finalstage")>-1?t="https://fs.att.com".concat(t):a.startsWith("m")||(t="https://m".concat(a).concat(t)),{idseUrl:e,termSelectUrl:t,deviceConfigUrl:n}}},{key:"fireModalLinkClickEvent",value:function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body","page.location.url":"/devices/intent/modal"};this.reporting.fireLinkClickEvent(n)}},{key:"fireModalFormResponseEvent",value:function(){var e={statusMessage:"Success",statusCode:"0",successFlag:"1",eventCode:"DS_Add_To_Cart_Submit",linkDestinationUrl:window?window.location.href:"",linkName:"create a new wireless account",linkPosition:"Body",items:[{itemofferId:"9999999",itemOfferCategory:"private"}]};this.reporting.fireFormResponseEvent(e.eventCode,e)}},{key:"NewCustomerClick",value:function(){var e,t,n,a,i;return x.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.getRelevantUrls(),Object(U.x)(this.props.selectedSku.deviceType,this.props.selectedSku.deviceSubType,this.props.selectedSku.paymentType),e="",F.contractTermsPDP.enabled&&localStorage.removeItem("termPrevSelectedByUser"),this.clearSessionStorageItems(),!this.props.showNewCustomerLink){o.next=15;break}return t=R.b.productDetailsUrls.halo.newCustLogout.replace("{0}","".concat(window.location.origin).concat(window.location.pathname.replace("//","/"))),"CRU"===this.props.profileInfo.customerType?t+="?invalidateAuthCRUSession=true&intent=NEW":t+="?intent=NEW",o.next=10,x.a.awrap(fetch(t));case 10:return n=o.sent,o.next=13,x.a.awrap(n.json());case 13:(a=o.sent)&&a.response&&(e=a.response.redirectURL);case 15:i=this.props.showNewCustomerLink?"continue shopping here":"Continue",this.fireModalLinkClickEvent(i,e),window.location.href=e;case 18:case"end":return o.stop()}}),null,this,null,S.a)}},{key:"generateMobileHostName",value:function(e){return"www.att.com"===e?"https://m.att.com":e.indexOf("finalstage")>-1?"https://fs.att.com":"https://m".concat(e)}},{key:"generateCgateDomain",value:function(e){return"www.att.com"===e?"https://cprodx.att.com":"https://cgate.stage.att.com"}}]),n}(P.Component);Object(j.a)(ee,"contextType",q.a);n.default=ee},L8dv:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return ve}));var a=n("p0XB"),i=n.n(a),o=n("XVgq"),r=n.n(o),s=n("Z7t5"),c=n.n(s),l=n("d04V"),d=n.n(l),p=n("dfwq"),u=n("ln6h"),f=n.n(u),m=n("doui"),h=n("eVuF"),g=n.n(h),b=n("MX0m"),v=n.n(b),y=n("q1tI"),C=n("5dM3"),x=n("a6RD"),k=n.n(x),S=n("zm1R"),I=n("lNN+"),O=n("S16J"),w=n("lBWN"),T=n("mnbR"),L=n("8Kt/"),N=n.n(L),j=n("SYGs"),P=n("U/e8"),M=n("wbWO"),A=n("Ir9l"),D=n("JE1H"),R=n("Ftt6"),F=n("mwIZ"),E=n.n(F),U=n("OFL0"),B=n.n(U),H=n("ijCd"),V=n.n(H),_=n("DzJC"),Q=n.n(_),q=n("afOK"),W=n.n(q),G=n("UwHv"),z=n("Q3aJ"),Z=n("lWe6"),X=n("KHcO"),K=n("iVq8"),Y=n("cXAj"),J=n("gYoK"),$=n("KlAi"),ee=n("BTSr"),te=n("JNjH"),ne=n("Da3r"),ae=n("eI37"),ie=n("BX1O"),oe=n("gmAT"),re=n("C3wX"),se=n("y3Zk"),ce=n("K+kS"),le=n("39yb"),de=n("cq7Z"),pe=n("2k9R"),ue=y.createElement;function fe(e,t){var n="undefined"!==typeof c.a&&e[r.a]||e["@@iterator"];if(!n){if(i()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return me(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return d()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return me(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,l=!0,p=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){p=!0,s=e},f:function(){try{l||null==n.return||n.return()}finally{if(p)throw s}}}}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var he=k()((function(){return g.a.resolve().then((function(){return n("AGoX")}))}),{loadableGenerated:{webpack:function(){return["AGoX"]},modules:["../../../../common/components/Modal/Modal"]}}),ge=k()((function(){return g.a.resolve().then((function(){return n("vcUz")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["vcUz"]},modules:["../PriceLegalModal"]}}),be=k()((function(){return g.a.resolve().then((function(){return n("1S3S")}))}),{ssr:!1,loadableGenerated:{webpack:function(){return["1S3S"]},modules:["../OfferLegalModal"]}});function ve(t){var n,a,i=y.useContext(ee.a),o=y.useContext(te.a),r=(o.selectedContractTerm.msrp,y.useState(0)),s=Object(m.a)(r,2),c=s[0],l=s[1],d=y.useState(0),u=Object(m.a)(d,2),h=u[0],b=u[1],x=y.useState(0),k=Object(m.a)(x,2),L=(k[0],k[1],y.useState(!1)),F=Object(m.a)(L,2),U=F[0],H=F[1],_=y.useState(!1),q=Object(m.a)(_,2),me=q[0],ve=q[1],ye=y.useState(!1),Ce=Object(m.a)(ye,2),xe=Ce[0],ke=Ce[1],Se=y.useState(void 0),Ie=Object(m.a)(Se,2),Oe=Ie[0],we=Ie[1],Te=y.useState(!1),Le=Object(m.a)(Te,2),Ne=Le[0],je=Le[1],Pe=y.useState(!1),Me=Object(m.a)(Pe,2),Ae=Me[0],De=Me[1],Re=y.useState(!1),Fe=Object(m.a)(Re,2),Ee=Fe[0],Ue=Fe[1],Be=y.useState(!0),He=Object(m.a)(Be,2),Ve=He[0],_e=He[1],Qe=y.useState(!0),qe=Object(m.a)(Qe,2),We=qe[0],Ge=qe[1],ze=y.useState(null),Ze=Object(m.a)(ze,2),Xe=Ze[0],Ke=Ze[1],Ye=y.useState(!1),Je=Object(m.a)(Ye,2),$e=(Je[0],Je[1],y.useState(!1)),et=Object(m.a)($e,2),tt=et[0],nt=et[1],at=y.useState(!1),it=Object(m.a)(at,2),ot=it[0],rt=it[1],st=y.useState(!1),ct=Object(m.a)(st,2),lt=ct[0],dt=ct[1],pt=y.useState("0.00"),ut=Object(m.a)(pt,2),ft=ut[0],mt=ut[1],ht=y.useState("0.00"),gt=Object(m.a)(ht,2),bt=gt[0],vt=gt[1],yt=new de.a,Ct="prepaid-phones"===t.deviceType||"pda"===E()(t,"selectedSku.deviceType")&&"prepaid"===E()(t,"selectedSku.paymentType"),xt="simcard"===t.deviceSubType,kt=t.product.isAccessory?t.selectedSku.shortDisplayName||t.selectedSku.displayName:t.selectedSku.model,St=E()(t.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments",void 0),It=t.product.compatibleDevices&&1===Object(P.U)(t.product.compatibleDevices).length,Ot=t.editLosgId&&i.getItemByLosgId(t.editLosgId)||i.getCurrentCartItem(),wt=E()(Ot,"subscriberName.firstName",""),Tt=E()(Ot,"sequence",""),Lt=(a=15,(n=wt)&&n.length>a?n.substring(0,a):n),Nt="true"===Object(P.H)()["pdp-line-level-totals"],jt="true"===Object(P.H)()["pdp-prescreen"],Pt={phonename:t.selectedSku.displayName,firstname:Lt,linenumber:Tt},Mt=E()(St,"configLabels.master",void 0),At=E()(Mt,"customerNameLineTotalsHeading",ne.c.configCta.customerNameLineTotalsHeading),Dt=E()(Mt,"lineNumberLineTotalsHeading",ne.c.configCta.lineNumberLineTotalsHeading),Rt=E()(St,"hubLabels.master.hubTotalsHeading",ne.c.configView.orderTotalsHeading),Ft=Nt?Pt.firstname?At:Dt:Rt;Ft=Object(P.nb)(Ft,Pt);t.planCmsContent["idp-cms-feed"]&&t.planCmsContent["idp-cms-feed"].productselectionconfig.contentFragments.fan.master.iru.master.banner.master;var Et=y.useRef(),Ut=y.useRef(),Bt=y.useRef();y.useEffect((function(){if(Object(P.eb)()){Qt();var e={heroBumper:Qt(),heroHeight:Wt()};l(e.heroBumper),b(e.heroHeight),window.addEventListener("scroll",Q()((function(){var e={heroBumper:Qt(),heroHeight:Wt()};l(e.heroBumper),b(e.heroHeight)}),1e3)),qt(),Wt(),window.scrollTo(0,0),document.querySelector(".config-section").addEventListener("DOMSubtreeModified",(function(){var e={heroBumper:Qt(),heroHeight:Wt()};l(e.heroBumper),b(e.heroHeight)}),!1)}Zt();var t=localStorage.getItem("fnIntendInd");dt(null!==t||void 0!==t?JSON.parse(t):"false")}),[]),y.useEffect((function(){i.loading||(i.setAbpKeyExists(B()(localStorage,"abpEnrolled")),0!==i.cartItems.length&&(Gt(t.editLosgId),zt()))}),[i.loading]),y.useEffect((function(){Ht()}),[i.losgsFinishedInsurance,i.losgsFinishedAccessories,i.selectedPlan,i.loading]),y.useEffect((function(){Object(P.ab)()||i.losgsFinishedInsurance.indexOf(t.editLosgId)>-1&&i.losgsFinishedAccessories.indexOf(t.editLosgId)>-1&&(i.isPlanFirstMode||"true"===t.IXPFeatureFlags["pdp-pf-order-summary"]||Ke("PLANS"))}),[i.losgsFinishedInsurance]),y.useEffect((function(){sessionStorage.getItem("AddAPlanRedirect")?setTimeout((function(){sessionStorage.removeItem("AddAPlanRedirect"),i.isPlanFirstMode||"true"===t.IXPFeatureFlags["pdp-pf-order-summary"]||Ke("PLANS"),_t("PLANS")}),500):setTimeout((function(){Vt()}),500)}),[Ne,Ae]);var Ht=function(){je(!!(xt||Ct||Object(P.ab)()||t.editLosgId&&i.losgsFinishedInsurance.indexOf(t.editLosgId)>-1&&!i.isPlanFirstMode||V()(i.losgsFinishedInsurance,t.editLosgId))),De(!!(xt||Object(P.ab)()||Ct&&"true"!==Object(P.H)()["pdp-prepaid-accessories"]||t.editLosgId&&i.losgsFinishedAccessories.indexOf(t.editLosgId)>-1)),i.configPlanFirstMode||Ue(!(!xt&&!i.selectedPlan))},Vt=function(){Object(P.ab)()?(Ke(null),_t(null)):Ne&&Ae&&!Ee&&V()(i.losgsFinishedInsurance,t.editLosgId)||xt||V()(i.losgsFinishedInsurance,t.editLosgId)&&V()(i.losgsFinishedAccessories,t.editLosgId)||Ct&&(V()(i.losgsFinishedAccessories,t.editLosgId)||Ae)||Ct&&"true"!==Object(P.H)()["pdp-prepaid-accessories"]?(Ot.isPlanFirst&&"true"==t.IXPFeatureFlags["pdp-pf-order-summary"]?Ke(null):Ke("PLANS"),_t("PLANS")):Ne&&!Ae?(Ke("ACCESSORIES"),_t("ACCESSORIES")):Ne||V()(i.losgsFinishedInsurance,t.editLosgId)||(Ke("INSURANCE"),_t("INSURANCE"))},_t=function(t){switch(t){case"INSURANCE":e&&Et&&Et.current&&document.getElementById("insuranceHeader")&&(Et.current.scrollIntoView(),document.getElementById("insuranceHeader").focus());break;case"ACCESSORIES":e&&Ut&&Ut.current&&document.getElementById("accessoriesHeader")&&(Ut.current.scrollIntoView(),document.getElementById("accessoriesHeader").focus());break;case"PLANS":e&&Bt&&Bt.current&&(Bt.current.scrollIntoView(),document.getElementById("plansHeader").focus());break;case null:e&&window.scrollTo(0,0)}},Qt=function(){var e=document.querySelector(".totals-container")?document.querySelector(".totals-container").offsetTop:0,t=document.querySelector(".slick-slide").querySelector("img").height+100;return t>e?t:e},qt=function(){var e=document.querySelector(".sticky-cta"),t=new IntersectionObserver((function(n){var a=Object(m.a)(n,1)[0];a.isIntersecting&&(a.target.setAttribute("stuck","true"),t.unobserve(e))}),{threshold:.95});t.observe(e)},Wt=function(){var e=document.querySelector(".sticky-container")?document.querySelector(".sticky-container").offsetHeight:0,t=document.querySelector(".config-section")?document.querySelector(".config-section").offsetHeight:0,n=document.querySelector(".features-section")?document.querySelector(".features-section").offsetHeight:0;return e>=t+n+24?e-n:0},Gt=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,a=i.cartItems;e=void 0!==n?i.getItemByLosgId(n):W()(a);var r=E()(e,"tradeInConsented",!1),s=E()(e,"portInConsented",!1),c=E()(e,"hylaCatalogPromoId",void 0);if(s&&(ve(!0),o.setIsPortInSelected(!0)),r){H(!0),o.setIsTradeInSelected(!0);var l=E()(e,"hylaTradeInInfo",void 0);if("true"===t.IXPFeatureFlags["pdp-hyla-tradein"]&&l){var d={capacity:e.hylaTradeInInfo.capacity,hylaDiscountAmount:e.hylaDiscountAmount,image:e.hylaImageUrl,isHYLATradeIn:!0,make:e.make,modelCode:e.hylaTradeInInfo.modelcode,modelPrice:e.hylaTradeInInfo.modelPrice,offerCode:e.offerCode,productFamily:e.model,questionAnswers:e.hylaTradeInInfo.questions,sku:e.sku,tradeInDeviceCondition:e.hylaTradeInInfo.tradeInDeviceCondition};o.setHylaTradeInResponse(d)}if(c){var p=i.promotions;if(p){var u=p&&p.filter((function(e){return e._cmsPromotionId===c}));u.length>0&&u[0].promotionCode&&(we(u[0].promotionCode),o.setHylaOfferCodeInContext(u[0].promotionCode))}}}if(e&&e.items){var f=e.items;for(var m in f){var h=f[m];"ATTNEXTUP_FEE"===h.itemType&&ke(!0)}}e&&void 0!==e.losgId&&t.updateEditLosgId(e.losgId)},zt=function(){if(i&&!i.abpKeyExists&&"false"!==localStorage.getItem("abpEnrolled")){var e=[];i.cartItems.map((function(t){e.push(t.losgId)})),R.a.addAutoBillPayToCart(Ct,e),localStorage.setItem("abpEnrolled","true"),i.setAbpKeyExists(!0)}},Zt=function(){var e,n,a,o,r,s;return f.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(i.isInitialized){c.next=3;break}return c.next=3,f.a.awrap(i.initialize());case 3:if(0===i.cartItems.length||Ot&&!Ot.device)t.history.push(t.learnViewPath);else if(Object(P.ab)()){e=E()(i,"cartItems",[]),n=[],a=fe(e);try{for(a.s();!(o=a.n()).done;)r=o.value,-1===n.indexOf(r.losgId)&&(n.push(r.losgId),t.editLosgId===r.losgId&&(je(!0),De(!0)))}catch(l){a.e(l)}finally{a.f()}i.setLosgsFinishedInsurance(n),i.setLosgsFinishedAccessories(n)}s=Object(re.a)(t.customerProfile.flowIndicator,t.customerProfile.subFlowType,t.selectedSku.deviceType,i.cartItems&&i.cartItems.length>0),t.pageLoadEvent(s,void 0);case 6:case"end":return c.stop()}}),null,null,null,g.a)},Xt=function(){if(i&&i.prepaidFlow&&i.losgCount>1){var e,t=i.editLosgId?i.editLosgId:i.getLosgId();if(t&&"string"===typeof t)return e=t[t.length-1],Object(P.nb)(E()(St,"hubLabels.master.lineNumber",ne.c.configView.defaultLineHeaderPrepaid),{linenumber:e})}return ne.c.configView.defaultLineHeaderPostpaid},Kt=function(e,t,n,a,i){var o={linkDestinationUrl:window.location.href,linkName:"see offers",linkPosition:"Body"};yt.fireLinkClickEvent(o)},Yt=function(e,t,n){var a;a=t?e+" banner open":e+" banner closed";var i={linkDestinationUrl:window.location.href,linkName:a,linkPosition:"Body"};yt.fireLinkClickEvent(i)},Jt=function(e){var t={linkDestinationUrl:window.location.href,linkName:e+" legal modal closed",linkPosition:"Body"};yt.fireLinkClickEvent(t)},$t=function(e){var t={url:window.location.href,"page.pageInfo.friendlyPageName":e+" banner Legal Modal"};yt.firePageLoadEvent(t)},en=function(e,t){var n={url:window.location.href,contentFriendlyName:e+" banner"};yt.fireImpression(n)},tn=function(){nt(!0)},nn=E()(t.selectedSku,"mediaTypes.images.masterImageUrl"),an=M.a.getDeviceImage(t.selectedSku),on=Object(P.J)(nn,an),rn=i&&i.prescreen,sn=E()(t.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments.common.master.creditPrescreen.master",ne.c.creditPreScreen),cn="simcard"===t.deviceSubType,ln=t.IXPFeatureFlags&&"true"===t.IXPFeatureFlags["pdp-firstnet"],dn="prepaid"!==t.selectedSku.paymentType,pn=!(t.customerProfile&&t.customerProfile.wirelessAuthenticated),un=ln&&dn&&pn;return ue(y.Fragment,null,ue(y.Fragment,null,ue(he,{isOpen:i.addToCartErrorModalVisible,onRequestClose:i.closeAddToCartErrorModal,header:i.errorModalHeaderContent?i.errorModalHeaderContent:"Oops, something went wrong! Please try adding that item to your cart again.",width:6},ue(y.Fragment,null,ue("div",{className:C.intentSpace},ue("hr",{className:C.modalDivider}),ue("div",{className:C.addToCartModalButtonsContainer},ue(ie.a,{events:{onClick:i.closeAddToCartErrorModal},buttonConfig:{disabled:!1,type:[ae.b.GhostWhite]},className:"btn-small btn-full-width ".concat(C.intentButton)},"Close"))))),ue(ge,{data:{isOpen:tt,onRequestClose:function(){nt(!1)},containerClassName:"banner-legal-borders",contentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base",rowClassName:"",closeClassName:"close-button no-border",textClassName:"type-legal",showSeperator:!0,width:6},legalPaths:t.legalPaths,skuInContext:t.selectedSku}),ue(be,{data:{isOpen:ot,onRequestClose:function(){rt(!1)},containerClassName:"banner-legal-borders",contentClassName:"modal-content pad-l-md pad-r-md pad-t-md pad-b-none type-base 2",rowClassName:"",closeClassName:"close-button no-border",textClassName:"type-legal",showSeperator:!0,width:6},catalogOffers:t.catalogOffers})),ue(I.a.Consumer,null,(function(e){return ue(y.Fragment,null,cn&&lt?"":ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" bg-ui-white pad-none "},(un&&lt||!lt)&&ue(ce.a,{pageID:ce.b.PSC_CONFIG,id:"psc_config",expandOnLoad:!1,theme:ce.c.DARK,legalModalLinkClick:Kt,onBannerLoadComplete:en,bannerPanelOnClick:Yt,bannerCloseIconClick:Yt,legalModalCloseIconClick:Jt,onLegalModalLoadComplete:$t})),ue(S.d,{className:"container"},ue(S.a,{width:12,className:" pad-b-xxs offset-desk"},ue(se.a,{formSubmit:function(){return f.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.awrap(i.initialize());case 2:case"end":return e.stop()}}),null,null,null,g.a)},payload:{losgId:Ot.losgId,sequence:Ot.sequence},subscriber:Ot.subscriberName,initialLine:Ot.subscriberName&&Ot.subscriberName.firstName?"".concat(Ot.subscriberName.firstName,"'s line"):Xt(),modalProps:{description:"Caller ID will display the name you enter for this line.",buttonLabel:"Continue"},cpopFlag:Object(P.i)()}))),ue(N.a,null,ue("meta",{name:"robots",content:"NOINDEX, NOFOLLOW"})),ue(S.b,{id:"pageContainer",className:"bg-ui-white rel pad-t-xxs pad-r-none pad-l-none"},ue(S.d,{className:"col-pad-l col-pad-r"},ue(S.a,{width:5,widthMd:6,className:"offset-desk pad-t-sm"},ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" flex justify-between pad-b-none pad-r-none pad-l-none"},ue(O.a,{displayManufacturer:t.selectedSku.manufacturer||""}),ue(w.a,{data:{displayName:kt||"",reviewCount:t.selectedSku.reviewCount?t.selectedSku.reviewCount:0,avgRating:t.selectedSku.rating?t.selectedSku.rating.toFixed(1):null,isConfigView:!0},dataQa:"".concat(t.dataQa,"-Mobile-DeviceHeader")})),ue(T.a,{data:{displayManufacturer:t.selectedSku.manufacturer||"",displayName:kt||"",deviceCondition:t.selectedSku.condition,paymentType:t.selectedSku.paymentType},compatibleDevices:t.product.compatibleDevices,dataQa:"".concat(t.dataQa,"-Mobile-DeviceHeader")}),ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" "+"row flex config-view-container ".concat(Object(P.eb)()?"":"flex-column"," justify-center")},ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" "+"".concat(Object(P.eb)()?"hero-wrapper":""," grid-col-12 full-width pad-t-none")},ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" sticky-container pad-t-md"},ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" "+"full-width sticky-bumper ".concat(It&&"with-compatible")},ue(j.a,{isConfig:!0,selectedSku:t.selectedSku,defaultImage:on,defaultAlt:Object(P.A)(t.selectedSku),heroImages:Object(p.a)(D.a.getCarouselImages(t.idpcmsContent,t.selectedSku.skuId))})))))),ue(S.a,{width:5,widthMd:6,className:"config-section pad-t-none pad-b-none mobile-pad-l mobile-pad-r ".concat(It&&"with-compatible")},jt&&!t.suppressPrescreen&&!0===E()(rn,"complete")&&!E()(t,"suppressPrescreen")&&ue(y.Fragment,null,ue(le.a,{selectedSku:t.selectedSku,isConfigView:!0,planCmsContent:t.planCmsContent,dataQa:t.dataQa,openCallback:tn})),ue(A.a,{data:{deviceType:t.deviceType,displayName:t.selectedSku.shortDisplayName,isAccessory:t.product.isAccessory,selectedSku:t.selectedSku,skuItems:Object(P.xb)(t.product.details.skuItems),deviceSubType:t.deviceSubType,videoPromises:t.product.videoPromises,configView:!0},dataQa:"".concat(t.dataQa,"-DeviceConfig"),updateSelectedSku:t.updateSelectedSku,learnViewPath:t.learnViewPath,tradeInConsented:U,portInConsented:me,nextUpConsented:xe,hylaOfferCodeRetrieved:Oe,IXPFeatureFlags:t.IXPFeatureFlags}),"prepaid"!==t.selectedSku.paymentType&&ue(J.a,{selectedSku:t.selectedSku,dataQa:"".concat(t.dataQa,"-PricingTerms"),configView:!0,learnViewPath:t.learnViewPath,tradeInConsented:U,portInConsented:me,nextUpConsented:xe,hylaOfferCodeRetrieved:Oe}),ue(K.a,{dataQa:"".concat(t.dataQa,"-NextUp"),nextUpConsented:xe,tradeInConsented:U,portInConsented:me,hylaOfferCodeRetrieved:Oe,learnViewPath:t.learnViewPath,configView:!0}),!cn&&ue(Z.a,{dataQa:"".concat(t.dataQa,"-TradeIn"),dtabCookieExists:t.dtabCookieExists,configView:!0,learnViewPath:t.learnViewPath,tradeInConsented:U,portInConsented:me,nextUpConsented:xe,hylaOfferCodeRetrieved:Oe,profileInfo:t.customerProfile,skuInContext:t.selectedSku,idpcmsContent:t.idpcmsContent}),ue(X.a,{dataQa:"".concat(t.dataQa,"-PortIn"),dtabCookieExists:t.dtabCookieExists,IXPFeatureFlags:t.IXPFeatureFlags,configView:!0,learnViewPath:t.learnViewPath,tradeInConsented:U,portInConsented:me,nextUpConsented:xe,hylaOfferCodeRetrieved:Oe,customerType:t.customerProfile.customerType}),"true"===t.IXPFeatureFlags["pdp-national-device-protection"]&&!xt&&!Ct&&Ve&&ue(pe.a,null),ue("div",{ref:Et,id:"insuranceHeader",className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])}),!xt&&!Ct&&Ve&&ue(oe.a,{dataQa:"".concat(t.dataQa,"-Insurance"),customerType:t.customerProfile.customerType,planCmsContent:t.planCmsContent,skuInContext:t.selectedSku,editLosgId:t.editLosgId,expandedConfigAccordion:Xe,setExpandedConfigAccordion:Ke,setIsInsuranceEnabled:_e,isInsuranceSelected:Ne,bgPageLoadEvent:function(){return t.pageLoadEvent()}}),ue("div",{ref:Ut,id:"accessoriesHeader",className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])}),!xt&&We&&(!Ct||Ct&&"true"===Object(P.H)()["pdp-prepaid-accessories"])&&ue(Y.a,{dataQa:"".concat(t.dataQa,"-Accessories"),selectedSku:t.selectedSku,editLosgId:t.editLosgId,planCmsContent:t.planCmsContent,featureFlags:t.IXPFeatureFlags,customerType:t.customerProfile.customerType,expandedConfigAccordion:Xe,setExpandedConfigAccordion:Ke,setIsAccessoriesEnabled:Ge,isAccessoriesSelected:Ae,isAccessoriesEnabled:We,isInsuranceSelected:Ne,isInsuranceEnabled:Ve,isPlanFirstMode:i.isPlanFirstMode}),ue("div",{ref:Bt,id:"plansHeader",className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])}),ue(z.a,{dataQa:"".concat(t.dataQa,"-PlanList"),customerType:t.customerProfile.customerType,planCmsContent:t.planCmsContent,editLosgId:t.editLosgId,skuInContext:t.selectedSku,isInsuranceSelected:Ne,isAccessoriesSelected:Ae,setIsPlanSelected:Ue,expandedConfigAccordion:Xe,setExpandedConfigAccordion:Ke,linkPosition:ne.c.configView.plansLinkPosition,isPlanFirstMode:i.configPlanFirstMode,catalogOffers:t.catalogOffers,featureFlags:t.IXPFeatureFlags,isSmb:t.isSmb}),ue($.a,{includesDownPayment:sn.includesDownPayment,headingContent:Ft,dueMonthlyLabel:E()(St,"priceBar.master.dueMonthlyText",ne.c.priceBar.dueMonthlyText),dueTodayLabel:E()(St,"priceBar.master.pscDueTodayText",ne.c.priceBar.dueTodayText),taxNote:E()(St,"priceBar.master.taxNoteText",ne.c.priceBar.taxNoteText),editLosgId:t.editLosgId,setDueToday:mt,setDueMonthly:vt}))),ue("div",{className:v.a.dynamic([["19561668",[c,c]],["4107767438",[h]]])+" sticky-cta"},ue(G.a,{dueToday:ft,dueMonthly:bt,planCmsContent:t.planCmsContent,selectedSku:t.selectedSku,customerProfile:t.customerProfile,dataQa:t.dataQa,disabled:i.loading||!Ne||!Ae||!Ee,openAddToCartErrorModal:i.openAddToCartErrorModal,editLosgId:t.editLosgId,limitedFirstName:Lt,sequence:Tt,taxNote:E()(St,"priceBar.master.taxNoteText",ne.c.priceBar.taxNoteText)}))))})),ue(v.a,{id:"19561668",dynamic:[c,c]},["@media (min-width:1px) and (max-width:425px){.sticky-cta.__jsx-style-dynamic-selector{height:132px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.sticky-cta[stuck].__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;background-color:#1D2329;border-top:1px solid #d2d2d2;z-index:24;bottom:0;top:calc(100vh - 132px);}}","@media (min-width:426px) and (max-width:767px){.sticky-cta.__jsx-style-dynamic-selector{height:145px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.sticky-cta[stuck].__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;background-color:#1D2329;border-top:1px solid #d2d2d2;z-index:24;bottom:0;top:calc(100vh - 145px);}.fixed-height.with-compatible.__jsx-style-dynamic-selector{margin-top:124px;}.fixed-height.__jsx-style-dynamic-selector{height:327px;position:relative;}.mobile-pad-l.__jsx-style-dynamic-selector{padding-left:16px;}.mobile-pad-r.__jsx-style-dynamic-selector{padding-right:16px;}.sticky-bumper.__jsx-style-dynamic-selector{margin-top:4px;}.col-pad-l.__jsx-style-dynamic-selector{padding-left:12px;}.col-pad-r.__jsx-style-dynamic-selector{padding-right:12px;}.offset-desk.__jsx-style-dynamic-selector{margin-left:0;}.hero-wrapper.grid-col-12.full-width.__jsx-style-dynamic-selector{-webkit-flex-basis:83.33%;-ms-flex-preferred-size:83.33%;flex-basis:83.33%;max-width:83.33%;}}","@media (min-width:768px){.sticky-cta.__jsx-style-dynamic-selector{height:84px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}.sticky-cta[stuck].__jsx-style-dynamic-selector{position:-webkit-sticky;position:sticky;background-color:#1D2329;border-top:1px solid #d2d2d2;z-index:24;bottom:0;top:calc(100vh - 84px);}.config-view-container.__jsx-style-dynamic-selector{position:relative;min-height:".concat(c,"px;}.hero-wrapper.__jsx-style-dynamic-selector{position:absolute;height:").concat(c,"px;}}")]),ue(v.a,{id:"4107767438",dynamic:[h]},["body,html{height:100%;}",".full-width{width:100%;}","#specsAndFeaturesID{margin-bottom:65px;}",".rel{z-index:auto;}",".type-legal ul{list-style-type:disc;padding-left:32px;}",".ribbon-height{height:24px;}",".ribbon-bumper{height:0.01px;margin-bottom:32px;}",".fixed-height{width:100%;text-align:center;}",".type-legal{color:#454b52;font-size:1.1rem;}",".font-regular{font-family:font-regular,sans-serif;}",".offset-desk{margin-left:8.3333333333%;}","@media (min-width:768px){.col-pad-l{padding-left:16px;}.col-pad-r{padding-right:16px;}.fixed-height{height:640px;position:relative;}.sticky-container{position:-webkit-sticky;position:sticky;top:0px;}.hero-min-height{min-height:".concat(h,"px;}.sticky-bumper{margin-bottom:63px;}.hide-in-desktop{visibility:hidden;}}"),"@media (max-width:1024px)and (min-width:768px){.offset-desk{margin-left:0;}}",".hide{display:none;}"]))}}).call(this,n("8oxB"))},N3eb:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("AT/M"),l=a("Tit0"),d=a("MI3g"),p=a("a7VT"),u=a("vYYK"),f=a("q1tI"),m=a.n(f),h=a("98cJ"),g=a("buUn"),b=a("uVxl"),v=a("p0XB"),y=a.n(v),C=a("XVgq"),x=a.n(C),k=a("Z7t5"),S=a.n(k),I=a("d04V"),O=a.n(I),w=a("dfwq"),T=a("ciDm"),L=a("0Yz8"),N=a("jXxo"),j=a("jSiu"),P=a("8Kt/"),M=a.n(P),A=a("RrNd"),D=a("N2W2"),R=f.createElement;function F(e,t){var n="undefined"!==typeof S.a&&e[x.a]||e["@@iterator"];if(!n){if(y()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return O()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return r=e.done,e},e:function(e){s=!0,o=e},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function U(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var B=function(e){Object(l.a)(n,e);var t=U(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={deviceImages:[]},a}return Object(s.a)(n,[{key:"componentWillReceiveProps",value:function(e){this.setState({deviceImages:e.data.imageUrls})}},{key:"content",value:function(){if(this.props.galleryContent){var e,t=F(this.props.galleryContent);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.master&&n.master.skuId&&n.master.skuId===this.props.skuId){var a=[],i=[];return n.master.moviegvpURLs&&(a=n.master.moviegvpURLs.map((function(e){return{type:"video",videoId:e,videoDuration:"",videoUrl:""}}))),n.master.moviegvpURLs&&this.props.videoPromises&&this.props.videoPromises.length>0&&(a=this.props.videoPromises.map((function(e){return{type:"video",videoId:e.id,videoDuration:e.duration,videoUrl:e.url}}))),n.master.imageUrls&&(i=n.master.imageUrls.map((function(e){return{type:"image",url:e}}))),[].concat(Object(w.a)(a),Object(w.a)(i))}}}catch(o){t.e(o)}finally{t.f()}}return[]}},{key:"render",value:function(){var e=this;return R("div",{className:T.galleryTabContainer},R(D.a,{delay:2e3},R(M.a,null,R("script",{src:A.b.productDetailsUrls.videoScript}))),this.content().map((function(t,n){return R("div",{key:n,className:T.galleryTabPanel},"video"===t.type?R(j.a,{videoId:t.videoId,videoUrl:t.videoUrl,videoDuration:t.videoDuration,isAccessory:e.props.isAccessory,sku:e.props.sku}):R(N.a,{imageProps:{src:t.url,alt:t.url,placeholder:R(L.a,null)},shouldLazyLoad:!0}))})))}}]),n}(f.Component),H=a("MX0m"),V=a.n(H),_=a("0YLE"),Q=a("xLlQ"),q=a("U/e8"),W=f.createElement;function G(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var z=function(e){Object(l.a)(n,e);var t=G(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"renderInTheBoxAccordion",value:function(){return W(f.Fragment,null,W("div",{className:"jsx-1638671819 "+(_.inTheBoxContainer||"")},this.props.dataInTheBox&&this.props.dataInTheBox.map((function(e,t){return e.master&&e.master.subtitle&&e.master.iconselected&&W(f.Fragment,null,W("div",{key:e.master.subtitle,className:"jsx-1638671819 "+(_.inTheBoxItem||"")},W("div",{className:"jsx-1638671819 keyFeatureIcon"},W("div",{className:"jsx-1638671819 svgIconContainer"},W(Q.a,{style:{maxWidth:"25vh",height:"100%"},iconName:Object(q.jb)(e.master.iconselected),size:"100%"}))),W("div",{className:"jsx-1638671819 keyFeatureText"},W("div",{dangerouslySetInnerHTML:{__html:"".concat(e.master.subtitle,"<br />")},className:"jsx-1638671819 "+(_.inTheBoxHeader||"")}))))}))),W(V.a,{id:"1638671819"},["@media (min-width:768px){.keyFeatureIcon.jsx-1638671819{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-right:15px;-webkit-flex-basis:54px;-ms-flex-preferred-size:54px;flex-basis:54px;}.svgIconContainer.jsx-1638671819{max-width:100%;height:100%;}.keyFeatureText.jsx-1638671819{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-family:att,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}}","@media (max-width:767px){.keyFeatureIcon.jsx-1638671819{-webkit-box-pack:start;-webkit-justify-content:flex-start;-ms-flex-pack:start;justify-content:flex-start;padding-right:15px;-webkit-flex-basis:54px;-ms-flex-preferred-size:54px;flex-basis:54px;}.keyFeatureText.jsx-1638671819{-webkit-box-flex:1;-webkit-flex-grow:1;-ms-flex-positive:1;flex-grow:1;font-family:att,sans-serif;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.svgIconContainer.jsx-1638671819{max-width:100%;height:100%;}}"]))}},{key:"render",value:function(){return W(f.Fragment,null,this.props.dataInTheBox&&this.renderInTheBoxAccordion())}}]),n}(f.Component),Z=a("YoPm"),X=a("eVuF"),K=a.n(X),Y=a("ln6h"),J=a.n(Y),$=a("Ra6Z"),ee=a("hfKm"),te=a.n(ee),ne=a("2Eek"),ae=a.n(ne),ie=a("XoMD"),oe=a.n(ie),re=a("Jo+v"),se=a.n(re),ce=a("4mXO"),le=a.n(ce),de=a("pLtp"),pe=a.n(de),ue=a("UMZ/"),fe=a("H80Z"),me=a("i0Wh"),he=a("BX1O"),ge=a("eI37"),be=a("olL2"),ve=a("Da3r"),ye=a("vyOo"),Ce=a("AXlk"),xe=a.n(Ce),ke=a("EHBT"),Se=a.n(ke),Ie=a("Y+p1"),Oe=a.n(Ie),we=f.createElement;function Te(e,t){var n=pe()(e);if(le.a){var a=le()(e);t&&(a=a.filter((function(t){return se()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):oe.a?ae()(e,oe()(n)):Te(Object(n)).forEach((function(t){te()(e,t,se()(n,t))}))}return e}function Ne(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var je=function(e){Object(l.a)(n,e);var t=Ne(n);function n(e){var a;Object(r.a)(this,n),a=t.call(this,e);var i=null!==e.defaultReviewsToShow&&void 0!==e.defaultReviewsToShow?e.defaultReviewsToShow:2;return a.state={reviewsContent:e.reviewsContent?e.reviewsContent:{},currentVotes:{},numOfReviewsShowing:i,showingAllReviews:!0},a.toggleReviewsSection=a.toggleReviewsSection.bind(Object(c.a)(a)),a}return Object(s.a)(n,[{key:"componentDidMount",value:function(){window.bvCallback=function(e){window.addEventListener(ve.b.LOAD,(function(){console.log("BV REVIEWS RENDERING"),e.reviews.render(document.querySelector("[data-bv-show='reviews']"))}),{once:!0})}}},{key:"componentDidUpdate",value:function(e){(e.skuId!==this.props.skuId||!e.reviewsContent&&this.props.reviewsContent||e.reviewsContent&&!Oe()(e.reviewsContent,this.props.reviewsContent))&&this.setState({reviewsContent:this.props.reviewsContent,numOfReviewsShowing:2})}},{key:"renderOverallRatingsSection",value:function(){var e=this,t=78.5*Math.PI,n=this.state.reviewsContent&&this.state.reviewsContent.reviewRecommend&&this.state.reviewsContent.reviewRecommend.percentRating&&!isNaN(this.state.reviewsContent.reviewRecommend.percentRating)?this.state.reviewsContent.reviewRecommend.percentRating:0,a=t-n/100*t;return this.state.reviewsContent&&we("div",{className:"flex flex-wrap justify-between mar-b-lg"},this.state.reviewsContent.starsSection&&this.state.reviewsContent.starsSection.map((function(e,t){return we(f.Fragment,null,we("div",{className:"pad-r-xs",key:t},we("div",{className:"".concat(ue.starTitle," font-bold")},e.title),we(Q.a,{icon:xe.a,className:"".concat(ue.starIcon," mar-r-xxxs"),iconStyle:{fill:"#F95700"},size:"24px"}),we("span",{className:ue.starRating},e&&e.rating?e.rating.toFixed(1):"")),we("hr",{className:ue.starDivider}))})),this.state.reviewsContent.reviewRecommend&&we(me.Spring,{config:me.config.slow,from:{strokeDashoffset:t,number:0},to:{strokeDashoffset:a,number:n},native:!0,reset:this.props.isOpen},(function(a){return we("div",{className:ue.progressContainer},we(me.animated.svg,{height:94.9,width:94.9,className:ue.progressCircle,style:{strokeDashoffset:a.strokeDashoffset,width:"95px",height:"95px"}},we("circle",{stroke:"#d2d2d2",fill:"transparent",strokeWidth:8.2,r:39.25,cx:47.45,cy:47.45}),we("circle",{stroke:"green",fill:"transparent",strokeWidth:8.2,strokeDasharray:t+" "+t,r:39.25,cx:47.45,cy:47.45})),we(me.animated.span,{className:[ue.progressPercentage,n>=100&&ue.threeDigit,n<100&&n>=10&&ue.twoDigit,n<10&&ue.oneDigit,"font-bold"].join(" ")},a.number.interpolate((function(e){return Math.ceil(e)}))),we("span",{className:"".concat(ue.progressMessage," font-medium")},Object(q.W)(e.state.reviewsContent.reviewRecommend.description,[e.state.reviewsContent.reviewRecommend.totalReviews,e.props.productDisplayName])))})))}},{key:"toggleReviewText",value:function(e){this.setState(Object(u.a)({},e,!this.state[e]))}},{key:"renderReviewText",value:function(e,t){var n=this;if(e.length>500){var a=e.substring(0,500);return null!==this.state["reviewTextShowing"+t]&&void 0!==this.state["reviewTextShowing"+t]||this.setState(Object(u.a)({},"reviewTextShowing"+t,!1)),we(f.Fragment,null,we("span",{className:this.state["reviewTextShowing"+t]&&ue.hidden},a,"...\xa0",we(ye.a,{events:{onClick:function(){return n.toggleReviewText("reviewTextShowing"+t)}}},ve.c.reviewsSection.seeMoreLabel)),we("span",{className:!this.state["reviewTextShowing"+t]&&ue.hidden},e,"\xa0",we(ye.a,{events:{onClick:function(){return n.toggleReviewText("reviewTextShowing"+t)}}},ve.c.reviewsSection.seeLessLabel)))}return e}},{key:"renderReviewSectionLabel",value:function(e){return 0===e?we("div",{className:"".concat(ue.reviewSectionLabel," font-bold")},ve.c.reviewsSection.highRatingLabel):1===e?we("div",{className:"".concat(ue.reviewSectionLabel," font-bold")},ve.c.reviewsSection.lowRatingLabel):""}},{key:"renderReviewsSection",value:function(){var e=this,t=function(t,n,a){var i=0;return e.state.currentVotes&&e.state.currentVotes[a]&&(t&&e.state.currentVotes[a]===ve.c.reviewsSection.positiveVote||!t&&e.state.currentVotes[a]===ve.c.reviewsSection.negativeVote)&&(i=1),n+i};return we("div",{className:"jsx-2049600871 "+(ue.allReviews||"")},this.state.reviewsContent&&this.state.reviewsContent.reviews&&this.state.reviewsContent.reviews.map((function(n,a){var i=new Date(n.SubmissionTime),o="".concat(i.getMonth()+1,"/").concat(i.getDate(),"/").concat(i.getFullYear());return we("div",{key:a,className:"jsx-2049600871 "+([ue.reviewContainer,a>e.state.numOfReviewsShowing-1&&ue.hidden].join(" ")||"")},we("div",{className:"jsx-2049600871 "+(ue.reviewContent||"")},e.renderReviewSectionLabel(a),we("div",{className:"jsx-2049600871 mar-b-xs"},we("span",{className:"jsx-2049600871 mar-r-sm"},we(fe.a,{data:{name:"Review Stars",rate:n.Rating/n.RatingRange*5,readOnly:!0,starCount:5},dataQa:"".concat(e.props.dataQa,"-reviewStars")})),we("span",{className:"jsx-2049600871 font-medium type-base"},n.UserNickname,we("span",{className:"jsx-2049600871 color-functional-lt-green"},n.IsRecommended&&ve.c.reviewsSection.positiveQualifier),we("span",{className:"jsx-2049600871 color-ui-medium-gray"},"\u2022 ",o))),we("div",{className:"jsx-2049600871 font-bold type-base mar-t-xxxs mar-b-xxxs"},n.Title),we("div",{className:"jsx-2049600871 type-base"},e.renderReviewText(n.ReviewText,a)),n.Photos&&n.Photos.length>0&&n.Photos.map((function(e,t){return we("img",{src:e.Sizes.thumbnail.Url,key:t,className:"jsx-2049600871 "+(ue.reviewImage||"")})}))),we("div",{className:"jsx-2049600871 "+(ue.ratingContainer||"")},we("div",{className:"jsx-2049600871 "+"".concat(ue.ratingSection," flex flex-items-baseline")},we("span",{className:"jsx-2049600871"},"Helpful?"),we(he.a,{buttonConfig:{disabled:!1,type:[ge.b.Skinny]},className:"color-att-blue pad-l-md pad-r-md type-base bg-ui-background-gray no-border mar-l-sm pad-t-xxs pad-b-xxxs",events:{onClick:function(){return e.onVoteButtonPress(!0,n.Id)}}},we(Q.a,{icon:Se.a,className:"mar-r-xxxs",iconStyle:{fill:"#009fdb"},size:"19px"}),t(!0,n.TotalPositiveFeedbackCount,n.Id)),we(he.a,{buttonConfig:{disabled:!1,type:[ge.b.Skinny]},className:"color-att-blue pad-l-md pad-r-md type-base bg-ui-background-gray no-border mar-l-sm pad-t-xxs pad-b-xxxs",events:{onClick:function(){return e.onVoteButtonPress(!1,n.Id)}}},we(Q.a,{icon:Se.a,className:"mar-r-xxxs",iconStyle:{fill:"#009fdb",transform:"rotateX(180deg)"},size:"19px"}),t(!1,n.TotalNegativeFeedbackCount,n.Id)))))})),we(V.a,{id:"2049600871"},[".flex-items-baseline.jsx-2049600871{-webkit-align-items:baseline;-webkit-box-align:baseline;-ms-flex-align:baseline;align-items:baseline;}"]))}},{key:"toggleReviewsSection",value:function(){this.setState((function(e){return e.showingAllReviews?Le({},e,{showingAllReviews:!1}):Le({},e,{showingAllReviews:!0})}))}},{key:"onVoteButtonPress",value:function(e,t){var n=e?ve.c.reviewsSection.positiveVote:ve.c.reviewsSection.negativeVote;if(this.state.currentVotes&&(!this.state.currentVotes[t]||this.state.currentVotes[t]!==n)){be.a.sendVote("helpfulness",n,t),this.setState({currentVotes:Le({},this.state.currentVotes,Object(u.a)({},t,n))})}}},{key:"renderAllReviewsSection",value:function(){var e=this.state.showingAllReviews?{display:"block"}:{display:"none"};return we("div",{style:e,"data-bv-show":"reviews","data-bv-product-id":this.props.skuId})}},{key:"render",value:function(){return we(f.Fragment,null,we(M.a,null,we("script",{src:"https://apps.bazaarvoice.com/deployments/att/main_site/production/en_US/bv.js",async:!0})),we("div",{className:ue.reviewSection},this.renderOverallRatingsSection(),this.renderReviewsSection(),this.renderAllReviewsSection()))}}]),n}(f.Component),Pe=m.a.createElement;function Me(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var Ae=function(e){Object(l.a)(n,e);var t=Me(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).state={reviewsContent:null},a}return Object(s.a)(n,[{key:"componentDidUpdate",value:function(e){var t=this;return J.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:this.props.isUserRequest&&e.productDisplayName!==this.props.productDisplayName&&$.reviewsRedesign.enabled&&be.a.fetchReviewsHighlights(this.props.skuId).then((function(e){t.setState({reviewsContent:e})}));case 1:case"end":return n.stop()}}),null,this,null,K.a)}},{key:"componentDidMount",value:function(){var e=this;return J.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.isUserRequest&&(be.a.loadBazaarVoice(),$.reviewsRedesign.enabled&&be.a.fetchReviewsHighlights(this.props.skuId).then((function(t){e.setState({reviewsContent:t}),!(t.reviews.length>0)&&window.BV&&window.BV.reviews.render(document.querySelector("[data-bv-show='reviews']"))})));case 1:case"end":return t.stop()}}),null,this,null,K.a)}},{key:"render",value:function(){var e=this;if(this.props.isUserRequest)return $.reviewsRedesign.enabled&&this.state.reviewsContent&&this.state.reviewsContent.reviews&&this.state.reviewsContent.reviews.length>0?Pe(je,{productDisplayName:this.props.productDisplayName,isOpen:this.props.isOpen,skuId:this.props.skuId,defaultReviewsToShow:2,reviewsContent:this.state.reviewsContent}):Pe(m.a.Fragment,null,Pe("div",{"data-bv-show":"reviews","data-bv-product-id":this.props.skuId}));return Pe("div",{dangerouslySetInnerHTML:{__html:e.props.reviewsSeoContent}})}}]),n}(m.a.Component),De=m.a.createElement;function Re(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var Fe=function(e){Object(l.a)(n,e);var t=Re(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"componentDidMount",value:function(){be.a.loadBazaarVoice(),window&&(window.bvCallback=function(e){window.addEventListener(ve.b.LOAD,(function(){console.log("BV QA RENDERING"),e.questions.render(document.querySelector("[data-bv-show='questions']"))}),{once:!0})})}},{key:"render",value:function(){return De(m.a.Fragment,null,De("div",{"data-bv-show":"questions","data-bv-product-id":this.props.skuId}))}}]),n}(m.a.Component),Ee=a("TNFy"),Ue=f.createElement;function Be(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var He=function(e){Object(l.a)(n,e);var t=Be(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return Ue("div",null,this.props.keyFeaturesContent&&this.props.keyFeaturesContent.length&&Ue("h3",{className:"font-bold type-base mar-t-xs"},this.props.keyFeaturesHeading),Ue("ul",{className:Ee.keyFeatures,"data-qa":this.props.dataQa},this.props.keyFeaturesContent&&this.props.keyFeaturesContent.map((function(e,t){return e.master&&e.master.iconName&&e.master.iconClass&&Ue("li",{key:t,className:"flex flex-items-center"},Ue(Q.a,{iconName:Object(q.jb)(e.master.iconClass),size:"32px"}),Ue("div",{className:Ee.keyFeatureDescription,dangerouslySetInnerHTML:{__html:e.master.iconName}}))}))))}}]),n}(f.Component),Ve=a("rMk0"),_e=f.createElement;function Qe(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var qe=function(e){Object(l.a)(n,e);var t=Qe(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this;return _e("div",null,pe()(this.props.compatibleDevices).map((function(t){return _e("div",{className:Ve.divTable,key:t},_e("h3",{className:Ve.divSectionHeader},e.manufacturerToCamelCase(t)),_e("div",{className:Ve.divSectionRow},e.props.compatibleDevices[t].map((function(e){return!0===e.skuEOL?_e("div",{className:Ve.divRow,key:e.model},e.model):_e("div",{className:Ve.divRow,key:e.model},_e(ye.a,{dataQa:"",ariaLabel:e.model,href:"/buy/".concat(e.generatedDeviceType,"/").concat(e.uniqueURLName,".html")},e.model))}))))})))}},{key:"manufacturerToCamelCase",value:function(e){return e.length>4?e.charAt(0).toUpperCase()+e.slice(1):e.toUpperCase()}}]),n}(f.Component),We=function e(t,n,a,i){Object(r.a)(this,e),Object(u.a)(this,"generatedDeviceType",void 0),Object(u.a)(this,"model",void 0),Object(u.a)(this,"uniqueURLName",void 0),Object(u.a)(this,"skuEOL",void 0),this.generatedDeviceType=t,this.model=n,this.uniqueURLName=a,this.skuEOL=i},Ge=a("JE1H"),ze=a("hTfz"),Ze=a("A8C6"),Xe=a.n(Ze),Ke=a("mwIZ"),Ye=a.n(Ke),Je=f.createElement;function $e(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var et=function(e){Object(l.a)(n,e);var t=$e(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"populatePlaceholders",value:function(e,t){var n=e;return e===ve.c.contentPlaceholders.checkbox?n="":e===ve.c.contentPlaceholders.capacity?n=t.capacity:e===ve.c.contentPlaceholders.upc?n=t.upc:e===ve.c.contentPlaceholders.billCode&&(n=t.billCode),n}},{key:"renderSpecValue",value:function(e){var t="pad-xs border-left border-light-gray grid-col-8 type-sm line-h-xxl grid-col-8 mar-b-none inline-block ".concat("checkbox"!==e&&"line-h-base");return e===ve.c.contentPlaceholders.checkbox?Je("td",{className:t},Je(Q.a,{icon:Xe.a,size:"14px"})):Je("td",{className:t,dangerouslySetInnerHTML:{__html:this.populatePlaceholders(e,this.props.selectedSku)}})}},{key:"render",value:function(){var e=this,t=Object(q.t)(Ye()(this.props,"selectedSku.manufacturer","")||""),n=Object(q.t)(Ye()(this.props,"selectedSku.model","")||""),a=t&&n?"https://www.att.com/device-support/index/"+"".concat(t.replace(/ /g,""),"/")+"".concat(n.replace(/ /g,""),"/"):"";return Je("div",{className:"jsx-1663706573"},this.props.selectedSku.manufacturer&&this.props.selectedSku.model&&Je("div",{className:"jsx-1663706573 mar-b-xs mar-t-xs"},Je("a",{"data-qa":"".concat(this.props.dataQa,"-manualAndTutorialLink"),href:a,"aria-label":"Manual and tutorial",className:"jsx-1663706573 link-tertiary"},"Manual and tutorial")),this.props.data&&this.props.data.map((function(t){return t.master&&t.master.accordionLabels&&t.master.accordionData&&t.master.accordionData.length>0&&Je(f.Fragment,null,Je("h3",{className:"jsx-1663706573 font-bold type-base mar-t-xs"},t.master.accordionLabels),Je("table",{className:"jsx-1663706573 full-width"},t.master.accordionData.map((function(t){return t.master&&t.master.key&&t.master.value&&Je("tr",{key:t.master.key,className:"jsx-1663706573 "+(ze.divRow||"")},Je("td",{dangerouslySetInnerHTML:{__html:t.master.key},className:"jsx-1663706573 pad-xs mar-b-none grid-col-4-md type-sm line-h-base grid-col-4 inline-block"}),e.renderSpecValue(t.master.value))}))))})),Je(V.a,{id:"1663706573"},[".full-width.jsx-1663706573{min-width:100%;}"]))}}]),n}(f.Component),tt=a("cq7Z"),nt=f.createElement;function at(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var it=function(e){Object(l.a)(n,e);var t=at(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return nt("div",null,nt("div",{dangerouslySetInnerHTML:{__html:"".concat(this.props.overviewContent[0].master.overviewDescription,"<br />")}}))}}]),n}(f.Component),ot=a("HMs9"),rt=a("lNN+"),st=f.createElement;function ct(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var lt=function(e){Object(l.a)(n,e);var t=ct(n);function n(e){var a;return Object(r.a)(this,n),a=t.call(this,e),Object(u.a)(Object(c.a)(a),"reporting",void 0),a.state={deviceImages:[],inTheBoxContent:[],specsContent:[],isReviewOpen:!1,isQAOpen:!1},a.accordionClick=a.accordionClick.bind(Object(c.a)(a)),a.reporting=new tt.a,a}return Object(s.a)(n,[{key:"accordionClick",value:function(e,t,n){var a={linkDestinationUrl:t,linkName:e+(n?"_closed":"_open"),linkPosition:"Body"};setTimeout((function(){Object(ot.forceCheck)()}),10),this.reporting.fireLinkClickEvent(a)}},{key:"getDeviceImages",value:function(e){var t=this;window.addEventListener(ve.b.CRITICAL_PATH_COMPLETE,(function(){console.log("GET 360 IMAGES"),Ge.a.get360Images(e).then((function(e){t.setState({deviceImages:e})}))}))}},{key:"getCompatibleDevices",value:function(){var e=Object(q.U)(this.props.compatibleDevices);return e.sort((function(e,t){return e.manufacturer>t.manufacturer?1:e.manufacturer<t.manufacturer?-1:e.skuEOL>t.skuEOL?1:e.skuEOL<t.skuEOL?-1:e.model>t.model?-1:e.model<t.model?1:void 0})),e.reduce((function(e,t){return(e[t.manufacturer]=e[t.manufacturer]||[]).push(new We(Object(q.x)(t.deviceType,t.deviceSubType,t.paymentType),t.model,t.uniqueURLName,t.skuEOL)),e}),{})}},{key:"shouldShowCompatibleDevicesAccordion",value:function(){return this.props.compatibleDevices&&this.props.compatibleDevices.payload&&Object(q.U)(this.props.compatibleDevices).length>1&&(this.props.isAccessory||this.props.selectedSku.isUniversalSim)}},{key:"componentWillReceiveProps",value:function(e){e.selectedSku.skuId!==this.props.selectedSku.skuId&&this.getDeviceImages(e.selectedSku.skuId),this.setState({isQAOpen:e.isQAOpen,inTheBoxContent:e.inTheBoxContent,specsContent:e.specsContent})}},{key:"componentDidMount",value:function(){this.getDeviceImages(this.props.selectedSku.skuId),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"]&&be.a.loadBazaarVoice()}},{key:"onReviewOpen",value:function(){this.setState({isReviewOpen:!0})}},{key:"onQAOpen",value:function(){this.setState({isQAOpen:!0})}},{key:"render",value:function(){var e=this,t=this.props.galleryContent&&void 0!==this.props.galleryContent,n=!(this.props.featureFlags&&"true"===this.props.featureFlags["pdp-disable-gvp"]),a=Ye()(this.props.commonCmsContent,"[0].master.legal.master.globalLegal[3].master.legalShortPath.master.legalText",ve.c.commonLegal.commonLegalText);return st(g.a,{options:{allowMultipleOpen:!0},dataQa:"".concat(this.props.dataQa)},this.props.overviewContent&&this.props.overviewContent.length>0&&this.props.overviewContent[0].master&&this.props.overviewContent[0].master.overviewDescription&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.overviewAccordionTitle||"Overview",id:"overview",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Overview"),onAccordionClick:function(t,n,a){return e.accordionClick("Overview",e.props.selectedSku.devicePageURL,a)}},st(it,{overviewContent:this.props.overviewContent})),t&&n&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.galleryAccordionTitle||"Gallery",id:"gallery",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Gallery"),onAccordionClick:function(t,n,a){return e.accordionClick("Gallery",e.props.selectedSku.devicePageURL,a)}},st(B,{skuId:this.props.selectedSku.skuId,galleryContent:this.props.galleryContent,data:{imageUrls:this.state.deviceImages},isAccessory:this.props.isAccessory,sku:this.props.selectedSku,videoPromises:this.props.videoPromises})),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv"]&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.qaAccordionTitle||"Q & A",id:"qa",isListItem:!0,url:this.props.selectedSku.devicePageURL,onOpenAccordion:function(t){return e.onQAOpen()},onAccordionClick:function(t,n,a){return e.accordionClick("Q&A",e.props.selectedSku.devicePageURL,a)},dataQa:"".concat(this.props.dataQa,"-QA"),isAccessory:this.props.isAccessory,sku:this.props.selectedSku},st("div",null,(this.state.isQAOpen||this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"])&&st(Fe,{skuId:this.props.selectedSku.skuId}))),this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv"]&&this.props.selectedSku.hasBazaarVoiceReview&&!this.props.selectedSku.preOrderable&&!this.props.selectedSku.isComingSoon&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.reviewsAccordionTitle||"Reviews",id:"reviews",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Reviews"),onOpenAccordion:function(t){return e.onReviewOpen()},onAccordionClick:function(t,n,a){return e.accordionClick("Reviews",e.props.selectedSku.devicePageURL,a)},isAccessory:this.props.isAccessory,sku:this.props.selectedSku},(this.state.isReviewOpen||this.props.featureFlags&&"true"===this.props.featureFlags["pdp-bv-on-pageload"])&&st(Ae,{productDisplayName:this.props.selectedSku.displayName,isOpen:this.state.isReviewOpen,skuId:this.props.selectedSku.skuId,isUserRequest:this.props.isUserRequest,reviewsSeoContent:this.props.reviewsSeoContent})),this.shouldShowCompatibleDevicesAccordion()&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.compatibleDevicesAccordionTitle||"Compatible Devices",id:"compatibleDevices",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Compatible"),onAccordionClick:function(t,n,a){return e.accordionClick("Compatible Devices",e.props.selectedSku.devicePageURL,a)}},st(qe,{compatibleDevices:this.getCompatibleDevices()})),this.props.specsContent&&(this.props.specsContent.length>1||!(this.props.selectedSku.isComingSoon||this.props.selectedSku.preOrderable))&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.featuresAndSpecsAccordionTitle||"Features and Specs",id:"featuresAndSpecs",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-FeaturesAndSpecs"),onAccordionClick:function(t,n,a){return e.accordionClick("FeaturesAndSpecs",e.props.selectedSku.devicePageURL,a)}},st("div",null,st(He,{keyFeaturesHeading:this.props.keyFeaturesHeading,keyFeaturesContent:this.props.keyFeaturesContent,dataQa:this.props.dataQa+"-KeyFeatures"}),st(et,{data:this.props.specsContent,selectedSku:this.props.selectedSku}),""!==this.props.deviceLegalContent&&st(f.Fragment,null,st(b.a,{space:8,topSpace:8}),st("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.props.deviceLegalContent}}),st("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:a}})))),this.props.inTheBoxContent&&0!==this.props.inTheBoxContent.length&&!this.props.isAccessory&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.inTheBoxAccordionTitle||"In the box",id:"inTheBox",isListItem:!0,url:this.props.selectedSku.devicePageURL,onAccordionClick:function(t,n,a){return e.accordionClick("In the box",e.props.selectedSku.devicePageURL,a)},dataQa:"".concat(this.props.dataQa,"-InTheBox")},st(z,{dataInTheBox:this.props.inTheBoxContent})),!0===this.props.prop65Flag&&st(h.b,{title:this.props.drawerNamesForAccordionGroup.legalAccordionTitle||"Legal",id:"legal",isListItem:!0,url:this.props.selectedSku.devicePageURL,dataQa:"".concat(this.props.dataQa,"-Legal"),onAccordionClick:function(t,n,a){return e.accordionClick("Legal",e.props.selectedSku.devicePageURL,a)}},st(Z.a,{data:void 0,prop65Flag:this.props.prop65Flag,prop65Content:this.props.prop65Content})))}}]),n}(f.Component);Object(u.a)(lt,"contextType",rt.a);n.a=lt},Q3aJ:function(t,n,a){"use strict";(function(t){var i,o=a("XVgq"),r=a.n(o),s=a("Z7t5"),c=a.n(s),l=a("d04V"),d=a.n(l),p=a("ttDY"),u=a.n(p),f=a("pLtp"),m=a.n(f),h=a("dfwq"),g=a("Wa2I"),b=a.n(g),v=a("LX0d"),y=a.n(v),C=a("p0XB"),x=a.n(C),k=a("ln6h"),S=a.n(k),I=a("eVuF"),O=a.n(I),w=a("doui"),T=a("MX0m"),L=a.n(T),N=a("q1tI"),j=a("lZBS"),P=a("uVxl"),M=a("BTSr"),A=a("JNjH"),D=a("Cao8"),R=a("/wOQ"),F=a("U/e8"),E=a("mwIZ"),U=a.n(E),B=a("OFL0"),H=a.n(B),V=a("D1y2"),_=a.n(V),Q=a("ijCd"),q=a.n(Q),W=a("BkRI"),G=a.n(W),z=a("J2m7"),Z=a.n(z),X=a("sEfC"),K=a.n(X),Y=a("JjzQ"),J=a("esNE"),$=a("Da3r"),ee=a("+ob+"),te=a("8bTO"),ne=a("BtL2"),ae=a("NyZL"),ie=a("cq7Z"),oe=a("DGIF"),re=a("kMre"),se=N.createElement;function ce(e,t){var n="undefined"!==typeof c.a&&e[r.a]||e["@@iterator"];if(!n){if(x()(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return d()(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw o}}}}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var de=function(e){for(var t=e.featuresCount,n=void 0===t?0:t,a=[],i=0;i<n;i++)a.push(se("li",{className:"mar-b-xxs"},se(ee.a,{width:"80%",innerClass:"height-md inline-block"}),se(ee.a,{width:"70%",innerClass:"height-xxs inline-block"})));return se("div",{className:"jsx-925637405 plans-placeholder pad-xs full-width-container height-auto mar-t-xs"},se(ee.a,{width:"75%",innerClass:"height-md inline-block"}),se("br",{className:"jsx-925637405"}),a.length>0&&se(P.a,{space:16,topSpace:24}),se("ul",{className:"jsx-925637405 pad-l-xl"},a),se(L.a,{id:"925637405"},[".plans-placeholder.jsx-925637405{border:1px solid #dcdfe3;border-radius:3px;}"]))};n.a=function(n){var a=n.planCmsContent,o=N.useContext(M.a),r=N.useState([]),s=Object(w.a)(r,2),c=s[0],l=s[1],d=N.useContext(A.a),p=N.useState([]),f=Object(w.a)(p,2),g=f[0],v=f[1],C=N.useState(""),k=Object(w.a)(C,2),I=k[0],T=k[1],P=N.useState(0),E=Object(w.a)(P,2),B=E[0],V=E[1],Q=N.useState(!1),W=Object(w.a)(Q,2),z=W[0],X=W[1],le=N.useState(!1),pe=Object(w.a)(le,2),ue=pe[0],fe=pe[1],me=N.useState(!1),he=Object(w.a)(me,2),ge=he[0],be=he[1],ve=N.useState([]),ye=Object(w.a)(ve,2),Ce=ye[0],xe=ye[1],ke=N.useState(void 0),Se=Object(w.a)(ke,2),Ie=Se[0],Oe=Se[1],we=N.useState(void 0),Te=Object(w.a)(we,2),Le=Te[0],Ne=Te[1],je=N.useState(void 0),Pe=Object(w.a)(je,2),Me=Pe[0],Ae=Pe[1],De=N.useState(void 0),Re=Object(w.a)(De,2),Fe=Re[0],Ee=Re[1],Ue=N.useState(void 0),Be=Object(w.a)(Ue,2),He=Be[0],Ve=Be[1],_e=N.useState(void 0),Qe=Object(w.a)(_e,2),qe=Qe[0],We=Qe[1],Ge=N.useState(void 0),ze=Object(w.a)(Ge,2),Ze=ze[0],Xe=ze[1],Ke=N.useState(void 0),Ye=Object(w.a)(Ke,2),Je=Ye[0],$e=Ye[1],et=N.useState(void 0),tt=Object(w.a)(et,2),nt=tt[0],at=tt[1],it=N.useState([]),ot=Object(w.a)(it,2),rt=ot[0],st=ot[1],ct=N.useState(void 0),lt=Object(w.a)(ct,2),dt=lt[0],pt=lt[1],ut=N.useState(!0),ft=Object(w.a)(ut,2),mt=ft[0],ht=ft[1],gt=N.useState([]),bt=Object(w.a)(gt,2),vt=bt[0],yt=bt[1],Ct=N.useState([]),xt=Object(w.a)(Ct,2),kt=xt[0],St=xt[1],It=N.useState([]),Ot=Object(w.a)(It,2),wt=Ot[0],Tt=Ot[1],Lt=N.useRef(void 0),Nt=N.useState([]),jt=Object(w.a)(Nt,2),Pt=jt[0],Mt=jt[1],At=N.useState(!1),Dt=Object(w.a)(At,2),Rt=Dt[0],Ft=Dt[1];N.useEffect((function(){fn()}),[qe]);var Et=N.useRef(void 0),Ut="".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master"),Bt={planOfferModalHeading:U()(a,"".concat(Ut,".planOfferModalHeading"),$.c.plans.planOfferModalHeading),planOfferModalCTA:U()(a,"".concat(Ut,".planOfferModalCTA"),$.c.plans.planOfferModalCTA),planOfferShortLegalLinkLabel:U()(a,"".concat(Ut,".planOfferShortLegalLinkLabel"),$.c.plans.planOfferShortLegalLinkLabel),planOfferNoncontractualRibbon:U()(a,"".concat(Ut,".planOfferNoncontractualRibbon"),$.c.plans.planOfferNoncontractualRibbon),planOfferNoncontractual:U()(a,"".concat(Ut,".planOfferNoncontractual"),$.c.plans.planOfferNoncontractual),planOfferContractualRibbon:U()(a,"".concat(Ut,".planOfferContractualRibbon"),$.c.plans.planOfferContractualRibbon),planOfferContractual:U()(a,"".concat(Ut,".planOfferContractual"),$.c.plans.planOfferContractual),planOfferAppreciationRibbon:U()(a,"".concat(Ut,".planOfferAppreciationRibbon"),$.c.plans.planOfferAppreciationRibbon),planOfferAppreciation:U()(a,"".concat(Ut,".planOfferAppreciation"),$.c.plans.planOfferAppreciation),planOfferEmployeeRibbon:U()(a,"".concat(Ut,".planOfferEmployeeRibbon"),$.c.plans.planOfferEmployeeRibbon),planOfferEmployee:U()(a,"".concat(Ut,".planOfferEmployee"),$.c.plans.planOfferEmployee)},Ht="prepaid"===U()(n,"skuInContext.paymentType")&&"pda"===U()(n,"skuInContext.deviceType")||"prepaidpda"===U()(n,"skuInContext.deviceSubType"),Vt=d.isTradeInSelected?d.hylaOfferCodeInContext:"DEFAULT",_t=d.priceOptions[d.selectedSku.skuId]&&d.priceOptions[d.selectedSku.skuId][d.selectedPricingIndex],Qt=_t&&_t.displayTradeIn[Vt],qt=(Object(F.cb)(Qt),"true"===n.featureFlags["pdp-firstnet"]),Wt="true"===n.featureFlags["pdp-cpop"],Gt="",zt="";Wt&&(Gt="CPOP",zt="CHANGE");var Zt=n.editLosgId&&o.getItemByLosgId(n.editLosgId)||o.getCurrentCartItem();N.useEffect((function(){n.editLosgId&&Ae(n.editLosgId),i=function(e){var t;return S.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=new O.a((function(t){K()((function(e){var n;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,S.a.awrap(o.addPlanToCart(e));case 2:n=a.sent,t(n);case 4:case"end":return a.stop()}}),null,null,null,O.a)}),1300)(e)})),n.next=3,S.a.awrap(t);case 3:return n.abrupt("return",n.sent);case 4:case"end":return n.stop()}}),null,null,null,O.a)},X(Boolean(Yt())),"CON"!==n.customerType&&!o.fAN&&Boolean(Object(F.n)(document.cookie,"GNSESS"))&&o.getIRUDiscounts(n.customerType),un(),hn(),En()}),[]),N.useEffect((function(){rt&&rt.length>0&&pn()}),[rt]),N.useEffect((function(){o.loading||c.length||Rt||(an(),Ft(!0))}),[o.loading]),N.useEffect((function(){fe("PLANS"===n.expandedConfigAccordion)}),[n.expandedConfigAccordion]),N.useEffect((function(){mt||cn(B,c)}),[mt]),N.useEffect((function(){n.isInsuranceSelected&&n.isAccessoriesSelected&&(ht(!1),X(!0),!o.selectedPlan&&c.length>0&&cn(B,c))}),[n.isInsuranceSelected,n.isAccessoriesSelected]);var Xt=function(e,t){cn(B,c).then((function(){e(!0)})).catch((function(){e(!0)}))};N.useEffect((function(){o.isPlanFirstMode||!o.selectedPlan&&c.length>0&&n.isInsuranceSelected&&n.isAccessoriesSelected&&o.abpKeyExists&&(Lt.current=new O.a(Xt))}),[o.abpKeyExists]),N.useEffect((function(){!o.selectedPlan&&"simcard"===n.skuInContext.deviceSubType&&c.length>0&&cn(B,c)}),[n.skuInContext.deviceSubType]),N.useEffect((function(){n.isInit&&an()}),[n.isInit]),N.useEffect((function(){qe||fn(),c.length>0&&(z||X(!0),cn(B,c))}),[c]),N.useEffect((function(){fn()}),[o.promotions]),N.useEffect((function(){fn()}),[o.fAN]),N.useEffect((function(){c.length>0&&!Ht&&(!o.selectedPlan&&n.isAccessoriesSelected||o.isPlanFirstMode)&&cn(B,c)}),[n.isAccessoriesSelected]),N.useEffect((function(){o.selectedPlan||"simcard"!==n.skuInContext.deviceSubType||cn(B,c)}),[n.skuInContext.deviceSubType]);var Kt,Yt=function(){if(o.isPlanFirstMode&&!n.isInsuranceSelected&&!n.isAccessoriesSelected)return!1;var e=o.getConstructType();return!Jt()&&(e.isLlp||e.isLegacy)&&o.getAllDevices().length>1},Jt=function(){var e;return Me&&(e=o.getItemByLosgId(Me)),e&&e.primaryIndicator},$t=function(){var e=$.c.unlimitedPlansOfferAlertMsg.warningMessage;if(Ht){vt.filter((function(e){if(e&&e.promotionName)return-1!==e.promotionName.toLowerCase().indexOf("unlimited")})).length||(e=U()(n.planCmsContent,"['idp-cms-feed'].productselectionconfig.contentFragments.modals.master.errorModal[9].master.description",$.c.prepaidPlans.prepaidPlanUnlimitedAlertMessage))}else{var t=U()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath,".modals.master.errorModal"),[]);if(!Ce.length){var a=x()(t)&&t.find((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.master)||void 0===t?void 0:t.code)===$.c.nonUnlimitedPlanDefaultAlertMsg.errorModalCode})),i=x()(t)&&t.find((function(e){var t;return(null===e||void 0===e?void 0:null===(t=e.master)||void 0===t?void 0:t.code)===$.c.nonUnlimitedPlanPrivateOfferAlerttMsg.errorModalCode}));return He?U()(i,"master.description",$.c.nonUnlimitedPlanPrivateOfferAlerttMsg.warningMessageForNotUnlimited):U()(a,"master.description",$.c.nonUnlimitedPlanDefaultAlertMsg.warningMessageForNotUnlimited)}var o,r=ce(t);try{for(r.s();!(o=r.n()).done;){var s=o.value;if(U()(s,"master.code",null)===$.c.unlimitedPlansOfferAlertMsg.errorModalCode){e=U()(s,"master.description",$.c.unlimitedPlansOfferAlertMsg.warningMessage);break}}}catch(d){r.e(d)}finally{r.f()}}if(Ce.length>1){var c=en();if(c)return e.replace("[[device name]]",c)}else{var l=en();if(l)return e.replace("[[device name]]",l)}return e.replace(" for your [[device name]]"," above")},en=function(){var e=o.getItemByLosgId(Me||n.editLosgId);if(e){var t=U()(e,"device.hardGood.make",null),a=U()(e,"device.hardGood.model",null);if(t&&a)return t+" "+a}},tn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return se(N.Fragment,null,se("div",{className:"jsx-1461923529 plan-alert-message type-sm font-medium line-h-md flex bg-ui-background-gray pad-xs radius"},se("div",{className:"jsx-1461923529 pad-r-xs"},se("i",{className:"jsx-1461923529 "+"".concat([te.attIcon,te.attIconalert].join(" ")," color-functional-dk-red type-md")})),se("div",{className:"jsx-1461923529"},e,t)),se(L.a,{id:"1461923529"},[".radius.jsx-1461923529{border-radius:5px;}"]))},nn=function(t,n){var a=[],i=[];if(t){try{for(var r=t.keys(),s=r.next(),c=s.done;!c;)a.push(s.value),c=(s=r.next()).done}catch(e){return a}var l=[],d=U()(o,"cartItems",{});if(x()(d)&&n)try{if(d.forEach((function(e){"VOICEPLAN"===U()(e,"plan.itemType")&&l.push(e)})),1===l.length&&Me===U()(l,"[0].losgId")||!l.length||d.length<=1)return a;l.forEach((function(e){for(var t=0;t<n.length;t++){var a=n[t];if(a&&U()(a,"productId")===U()(e,"plan.offerId")){var o=U()(a,"displayGroups[0].key");if(o){i.push(o);break}}}}))}catch(e){}}return i.length?i:a},an=function(){var e,t,a,i,r,s,c,d,p,u,f,m,h,g,b=arguments;return S.a.async((function(v){for(;;)switch(v.prev=v.next){case 0:e=b.length>0&&void 0!==b[0]&&b[0],t=[],a=!1,i=!1,r=!1,s=!1,c=!1,d=!1,Me&&(p=o.getItemByLosgId(Me)),u=o.cartItems.length>1&&(!p||p&&!p.primaryIndicator&&"true"!==p.primaryIndicatorMNM)?o.getSdgGroupId():"",f=Zt&&Zt.device?Zt.device.offerId:void 0,"universal-sim-card-bring-your-own-tablet"===U()(Zt,"device.uniqueURLName")&&(f=n.skuInContext.productId),m=Ht?U()(n,"skuInContext.productId"):"",h=new y.a,Ht?D.a.getPrepaidPlansAndMetaInfo(m,f,Me).then((function(a){var i,r,u,f,m,g,b,v,y;return S.a.async((function(C){for(;;)switch(C.prev=C.next){case 0:return a&&a.originalResponse&&a.originalResponse.content&&a.originalResponse.content.wireless&&a.originalResponse.content.wireless.devices&&Tt(a.originalResponse.content.wireless.devices),a&&a.promotions&&!e&&(a.devicePromotions&&(yt(a.devicePromotions),St(a.promotions)),(i=Z()(a.promotions,{category:"ABPDiscount"}))&&Ee(i.id),r=U()(a,"originalResponse.content.wireless.promotions"),(u=Z()(r,{category:"private"}))&&Ve(u.id)),a&&a.containsMonthly&&a.monthlyPlans&&(s=!0,a.monthlyPlans.forEach((function(e){e&&(vn(e.product,h),t.push(sn(e.product)))}))),a&&a.containsMultiMonth&&a.multiMonthPlans&&(c=!0,a.multiMonthPlans.forEach((function(e){e&&(vn(e.product,h),t.push(sn(e.product)))}))),a&&a.containsNonMonthly&&a.nonMonthlyPlans&&(d=!0,a.nonMonthlyPlans.forEach((function(e){e&&(vn(e.product,h),t.push(sn(e.product)))}))),a&&!a.containsMonthly&&!a.containsMultiMonth&&a.originalResponse&&a.originalResponse.content&&a.originalResponse.content.wireless&&a.originalResponse.content.wireless.prepaidPlans&&a.originalResponse.content.wireless.prepaidPlans.map((function(e){vn(e.product,h),t.push(sn(e.product))})),f=nn(h,t),t=t.filter((function(e){var t=U()(e,"displayGroups[0].key");return"string"===typeof t&&f.includes(t)})),(s||c||d)&&(t=rn(t,h)),C.next=11,S.a.awrap(on(t));case 11:t=C.sent,m=t.sort(Object(F.hb)("ranking")),g=bn(m,h),Yt()&&!e&&m.map((function(e,t){var n=U()(e,"childSkus[0].cartDetails");if(n&&n.inCart){var a=U()(e,"displayGroups[0].key");g=a,t,Ne(t),V(t)}})),Me&&!e&&(p=o.getItemByLosgId(Me),b=p?p.plan:void 0,Ht&&(v=b),v&&(y=v.offerId,m.map((function(e,t){if(e.productId===y){var n=U()(e,"displayGroups[0].key");g=n,t,Ne(t),V(t)}})),n.setIsPlanSelected(!0))),l(m),e||(T(g),Oe(g));case 18:case"end":return C.stop()}}),null,null,null,O.a)})):(g="",Wt&&(g=Me||o.getLosgId()),D.a.getPlansAndMetaInfo(u,f,Gt,qt,null,g,zt).then((function(s){var c,d,p,u,f,m,g,b,v,y,C;return S.a.async((function(x){for(;;)switch(x.prev=x.next){case 0:return o.isMnmOnFlag.current=s.containsMnmOrLlp,c=U()(s,"originalResponse.content.wireless.promotions"),(d=Z()(c,{category:"private"}))&&Ve(d.id),s&&s.containsMixAndMatch&&s.mixAndMatchPlans&&(a=!0,s.mixAndMatchPlans.map((function(e){vn(e.product,h),t.push(sn(e.product))}))),s&&s.containsNonMixAndMatch&&s.nonMixAndMatchPlans&&s.nonMixAndMatchPlans.map((function(e){i=!0,vn(e.product,h),t.push(sn(e.product))})),s&&s.containsDataConnect&&s.dataConnectPlans&&s.dataConnectPlans.map((function(e){r=!0,vn(e.product,h),t.push(sn(e.product))})),s&&!s.containsMixAndMatch&&!s.containsNonMixAndMatch&&s.originalResponse&&s.originalResponse.content&&s.originalResponse.content.wireless&&s.originalResponse.content.wireless.sharedDataGroups&&s.originalResponse.content.wireless.sharedDataGroups.map((function(e){vn(e.product,h),t.push(sn(e.product))})),(a||i||r)&&(t=rn(t,h)),x.next=11,S.a.awrap(on(t));case 11:t=x.sent,p=t.sort(Object(F.hb)("ranking")),u=bn(p,h),Yt()&&!e&&p.map((function(e,t){var n=U()(e,"childSkus[0].cartDetails");if(n&&n.inCart){var a=U()(e,"displayGroups[0].key");u=a,t,Ne(t),V(t)}})),f=o.getConstructType(),Me&&!e&&(m=o.getItemByLosgId(Me),g=m?m.dataplan:void 0,b=m?m.sharedDataGroup:void 0,v=m?m.plan:void 0,f.isLlp||f.isMnm?y=v:f.isDataConnect?y=g:f.isLegacy&&(y=b),y&&(C=y.offerId,p.map((function(e,t){var n=f.isDataConnect&&y.displayName.indexOf(e.displayName)>=0;if(e.productId===C||n){var a=n?"dataplan":U()(e,"displayGroups[0].key");u=a,t,Ne(t),V(t)}})),n.setIsPlanSelected(!0))),l(p),e||(T(u),Oe(u));case 19:case"end":return x.stop()}}),null,null,null,O.a)})));case 15:case"end":return v.stop()}}),null,null,null,O.a)},on=function(e){var t;return S.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return t=[],e.map((function(e){t.push(D.a.getPlansLegalContent(e,n.planCmsContent,n.isSmb))})),a.next=4,S.a.awrap(O.a.all(t));case 4:return a.abrupt("return",a.sent);case 5:case"end":return a.stop()}}),null,null,null,O.a)},rn=function(e,t){var n=[];return e.map((function(e){if("dataplan"===e.productType||Ht&&"VOICEPLAN"===e.productType)_()(e,"price.groupPrice.netMrc",e.price.netMrc),n.push(e);else if(e.isLLP||e.isMnM){var a=G()(e);if(H()(e,"price.groupPrice.deviceAccessFees")){var i=U()(e,"price.groupPrice.deviceAccessFees"),o=0;i.map((function(t){var i=G()(e);i.displayGroups,i.sharedDataGroup=a,i.displayName=t.displayName,i.productContent=dn(t.productId),H()(i.productContent,"master.ranking")&&(i.ranking=b()(i.productContent.master.ranking)),i.productId=t.productId,i.price.groupPrice.netMrc=t.netMrc,i.productType="SHAREDDATAFEATURE",i.childSkus=t.childSkus,i.childSkus[0].skuId=U()(t,"childSkus[0].skuId"),t.firstNetOnly&&(i.displayGroups[0].key="firstNet",i.firstNetOnly=t.firstNetOnly),!Z()(n,{productId:i.productId})&&t.device&&(n.push(i),o+=1)})),H()(e,"displayGroups[0].key")&&t.set(e.displayGroups[0].key,o)}}else n.push(e)})),n},sn=function(e){var t=dn(e.productId),n=G()(e);return Ht&&n&&(n.productType="VOICEPLAN"),H()(t,"master.ranking")&&(n.ranking=b()(t.master.ranking)),n.productContent=t,n},cn=function(e,t){var a,r,s;return S.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:if(a=o.getConstructType(),mt||!t[e]){c.next=23;break}if(o.getAllDevices().length>1&&void 0!==Le&&e!==Le&&a.isLegacy?be(!0):a.isLegacy&&be(!1),o.setSelectedPlan(t[e]),(!n.isPlanFirstMode||ue||n.isInsuranceSelected&&n.isAccessoriesSelected)&&n.setIsPlanSelected(!0),V(e),r=!z||ue&&z||!ue&&z&&!a.isLegacy,s=U()(t[e],"childSkus[0].cartDetails.inCart",!1),!r||!s&&!z){c.next=22;break}if(!ue&&Me){c.next=22;break}if(Lt.current){c.next=15;break}return c.next=13,S.a.awrap(i(t[e]));case 13:c.next=22;break;case 15:if(!Lt.current){c.next=22;break}return c.next=18,S.a.awrap(Lt.current);case 18:if(!c.sent){c.next=22;break}return c.next=22,S.a.awrap(i(t[e]));case 22:!Ht&&Zt&&Zt.primaryIndicator&&d.setIsNotUnlimitedSharedDataGroup(!t[e].isMnM);case 23:case"end":return c.stop()}}),null,null,null,O.a)},ln=function(e,t,a){var i="",o=0,r="",s=0;if("dataplan"===e&&(e="DataConnectSDG"),H()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath,".planTabsList.master.contentReference")))for(var c=U()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath,".planTabsList.master.contentReference")),l=0,d=c.length;l<d;l++){var p=U()(c[l],"master.key",!1);if(p&&p===e){i=c[l].master.name,o=c[l].master.ranking?b()(c[l].master.ranking):1337,r=c[l].master.description;break}}i||(i=e),a.map((function(t){U()(t,"displayGroups[0].key")===e&&s++}));var u={};return u.displayValue="".concat(i," (").concat(s,")"),u.ranking=o,u.description=r,u},dn=function(e){var t=[],a={},i="",o="";if("CRU"!==n.customerType?(i=".plansList.master.contentReference",o=".plansListFN.master.contentReference"):i=".plansListSMB.master.contentReference",H()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath).concat(i))&&(t=[].concat(Object(h.a)(t),Object(h.a)(U()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath).concat(i))))),o&&H()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath).concat(o))&&(t=[].concat(Object(h.a)(t),Object(h.a)(U()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath).concat(o))))),t.length)for(var r=0,s=t.length;r<s;r++)if(t[r].master&&t[r].master.offerId&&q()(t[r].master.offerId,e)){a=t[r];break}return a},pn=function(){var e,t="SignatureDiscountForElite10";o.fAN&&(H()(o.fAN,"auto.affinityTag.category.value")&&(q()(o.fAN.auto.affinityTag.category.value,"FRAO")?q()(o.fAN.auto.affinityTag.subCategory1.value,"Teacher")&&(t="SDGDiscountTeacher"):q()(o.fAN.auto.affinityTag.category.value,"Military")&&(t="UnlimitedPlanDiscount")),H()(o.fAN,"auto.friendlyFanName")&&(q()(o.fAN.auto.friendlyFanName,"Nurses")?t="SDGDiscountHealthcare":q()(o.fAN.auto.friendlyFanName,"First Responder")&&(t="UnlimitedPlanDiscount")),rt&&rt.length>0&&rt.map((function(n){U()(n,"master.promotionCategory")===t&&(e=U()(n,"master.legalContentURLIDP.master.legalShortPath.master.legalText"),pt(e))})))},un=function(){var e=U()(a,"idp-cms-feed.productselectionconfig.contentFragments.promotionCategories.master.contentReference",void 0);st(e)},fn=function(){if(o.fAN){if(o.fAN.auto&&o.fAN.auto.friendlyFanName&&$e(o.fAN.auto.friendlyFanName),H()(o,"fAN.auto.accountDiscounts")){var e,t=ce(U()(o,"fAN.auto.accountDiscounts"));try{for(t.s();!(e=t.n()).done;){var n=e.value;"service"===n.discountType&&"percent"===n.discountVal.amountType&&at(n.discountVal.amount)}}catch(v){t.e(v)}finally{t.f()}}Et.current||(o.fAN.auto&&o.fAN.auto.contractType&&mn(o.fAN.auto.contractType),!Et.current&&H()(o,"fAN.auto.affinityTag.category.value")&&mn(o.fAN.auto.affinityTag.category.value)),pn()}if(x()(o.promotions)&&o.promotions.length){var a,i=ce(o.cartItems);try{for(i.s();!(a=i.n()).done;)for(var r=a.value,s=0,c=m()(r.items);s<c.length;s++){var l=c[s];if(U()(r.items[l],"promotionReferences",[]).length){var d,p=ce(o.promotions);try{for(p.s();!(d=p.n()).done;){var u=d.value;if(u){var f=U()(u,"_promotionCategory"),h=U()(u,"promotionId"),g=U()(u,"percent");if(q()(f,"ABPDiscount")&&(Fe||Ee(h)),q()(f,"iruPlanDiscount"))if(g<0&&void 0!==g&&at(g),Xe(u),void 0===h){var b=U()(u,"id");We(b)}else We(h)}}}catch(v){p.e(v)}finally{p.f()}}}}catch(v){i.e(v)}finally{i.f()}}},mn=function(e){q()(["EMO","IMO","RMO","AT&T"],e)?Et.current="AT&T":q()(["Education","Government","Unions","Affiliates","Traditional"],e)?Et.current="Traditional":q()(["Military","First Responders","FRAO"],e)&&(Et.current="Appreciation")},hn=function(){var e,t,a=null===n||void 0===n?void 0:null===(e=n.catalogOffers)||void 0===e?void 0:null===(t=e.content)||void 0===t?void 0:t.promotionalOffers,i=[];x()(a)&&a.length&&(i=a.filter((function(e){return"tradein"!==e.offerType&&"bogo"!==e.offerType}))),xe(i)},gn=function(e,t){var n=new ie.a,a=o.getConstructType();T(e),(a.isMnm||a.isLlp)&&e!==Ie&&o.getAllDevices().length>1&&Jt()?be(!0):(a.isMnm||a.isLlp)&&be(!1),V(t);var i=c[t]&&c[t].isLLP&&o.isPlanFirstMode,r=cn(t,c);i&&r.then((function(){an(!0)}));var s={linkDestinationUrl:"/buy/phones/config",linkName:"selected plan ".concat(e),linkPosition:"Body"};n.fireLinkClickEvent(s)},bn=function(e,t){var n=[],a=new u.a,i="",o=!0;return e.map((function(t,r){var s={},c={};"dataplan"===t.productType?(c=ln("dataplan",0,e),_()(s,"displayValue",c.displayValue),_()(s,"ranking",c.ranking),_()(s,"description",c.description),_()(s,"key","dataplan"),o&&(i="dataplan",o=!1)):t.displayGroups&&t.displayGroups[0].key&&(c=ln(t.displayGroups[0].key,0,e),_()(s,"displayValue",c.displayValue),_()(s,"ranking",c.ranking),_()(s,"description",c.description),_()(s,"key",t.displayGroups[0].key),o&&(i=t.displayGroups[0].key,o=!1)),a.has(s.key)||(a.add(s.key),_()(s,"firstPlanIndex",r),n.push(s))})),n.sort(Object(F.hb)("ranking")),v(n),n.length>0?i:""},vn=function(e,t){"dataplan"===e.productType&&(t.has("DataConnectSDG")?t.set("DataConnectSDG",t.get("DataConnectSDG")+1):t.set("DataConnectSDG",1)),e.displayGroups&&e.displayGroups[0].key&&(t.has(e.displayGroups[0].key)?t.set(e.displayGroups[0].key,t.get(e.displayGroups[0].key)+1):t.set(e.displayGroups[0].key,1))},yn=Ht?U()(o,"selectedPlan.productContent.master.planName",U()(o,"selectedPlan.displayName","")):U()(o,"selectedPlan.displayName",""),Cn=yn?yn.replace("(SM)","<sup>SM</sup>"):"";t&&localStorage&&localStorage.getItem("abpEnrolled")&&(Kt="true"===localStorage.getItem("abpEnrolled"));var xn=Ht&&"multiMonthPlan"===U()(o,"selectedPlan.displayGroups[0].key"),kn=U()(o,"selectedPlan.price.dueToday","undefined"),Sn=Kt?U()(o,"selectedPlan.price.groupPrice.netMrc","undefined"):U()(o,"selectedPlan.price.groupPrice.mrc","undefined"),In=U()(o,"selectedPlan.price.groupPrice.deviceAccessFees",void 0),On=Z()(In,(function(e){return e.productId===o.selectedPlan.productId})),wn=On&&On.netMrc?On.netMrc:Sn;xn?wn=kn:Ht&&!Kt&&(wn=U()(o,"selectedPlan.price.netMrc","undefined"));var Tn={numberofdevices:o.getAllDevices().length,planprice:b()(wn).toFixed(2)},Ln="".concat($.c.configView.pscCMSFeedRootPath,".plans.master"),Nn=U()(n.planCmsContent,"".concat(Ln,".prefix"),$.c.plan.prefix),jn=xn?"":U()(n.planCmsContent,"".concat(Ln,".suffix"),$.c.plan.suffix),Pn=Object(F.nb)(U()(n.planCmsContent,"".concat(Ln,".price"),$.c.plan.price),Tn),Mn="".concat(Ln,Tn.numberofdevices>1?".multiDevicePriceSubText":".singleDevicePriceSubText"),An=Tn.numberofdevices>1?$.c.plan.multiDevicePriceSubText:$.c.plan.singleDevicePriceSubText,Dn={displayPrice:Pn,displayPrefix:Nn,displaySubText:o.selectedPlan&&(o.selectedPlan.isMnM||o.selectedPlan.isLLP)?"":Object(F.nb)(U()(n.planCmsContent,Mn,An),Tn),displaySuffix:jn},Rn=function(){var e;return{__html:(e=n.planCmsContent,Ht&&xn?U()(e,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.prepaidPlanMultMonthSelectionSubheading"),$.c.prepaidPlans.prepaidPlanMultMonthSelectionSubheading):Ht?U()(e,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.prepaidPlanMonthlySelectionSubheading"),$.c.prepaidPlans.prepaidPlanMonthlySelectionSubheading):U()(e,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.planSelectionSubheading"),$.c.plan.pscPlanSubHeader))}},Fn=function(e){var t=U()(e,"productId"),n=Z()(U()(e,"price.groupPrice.deviceAccessFees"),{productId:t});return!!(n&&n.promotionReferences&&He&&Z()(n.promotionReferences,{promoId:He}))},En=function(){return S.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:if(!qt){e.next=3;break}return e.next=3,S.a.awrap(oe.a.getFirstNetLineAvailablity().then((function(e){var t=U()(e,"content.wireless.additionals.alerts",[]);t.length>0&&Mt(t)})));case 3:case"end":return e.stop()}}),null,null,null,O.a)},Un=c.every((function(e){return!0===e.planQualifiesForDeviceOffer})),Bn=!!c[B]&&c[B].planQualifiesForDeviceOffer,Hn=c.every((function(e){return!0===e.planQualifiesForDeviceOffer}))||c.every((function(e){return!1===e.planQualifiesForDeviceOffer})),Vn=!1,_n=U()(a,"idp-cms-feed.productselectionconfig.contentFragments.modals.master.errorModal"),Qn="";Pt.length>0&&_n&&Pt.forEach((function(e){var t=U()(e,"code",""),a=U()(e,"details.groupType","");"smartphone"===a&&"pda"===n.skuInContext.deviceType?Vn=!0:"tablet"===a&&"netbook"===n.skuInContext.deviceType?Vn=!0:"wearable"===a&&"network"===n.skuInContext.deviceType?Vn=!0:"hotspot"===a&&"network"===n.skuInContext.deviceType&&(Vn=!0),Vn&&_n.forEach((function(e){var n=U()(e,"master.code");t===n&&(Qn=e)}))}));var qn,Wn=U()(Qn,"master.description",$.c.firstNetContent.sameDeviceTypeWarning);return Wn=Object(F.nb)(Wn,{"device type":Object(F.yb)(n.skuInContext.deviceType,"name")}),se(N.Fragment,null,se(re.a,{dataQa:"".concat(n.dataQa,"-plans"),label:se("span",{id:"plansHeader",className:"jsx-3547710388"},(qn=n.planCmsContent,Ht?U()(qn,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.prepaidPlanSelectionHeading"),$.c.prepaidPlans.prepaidPlanSelectionHeading):U()(qn,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.planSelectionHeading"),$.c.plan.pscPlanHeader))),collapsedContent:se(N.Fragment,null,se("div",{dangerouslySetInnerHTML:{__html:Cn},className:"jsx-3547710388 font-bold mar-r-xxs"}),se("div",{className:"jsx-3547710388 font-medium margin-left-auto"},se(ae.a,{hideSubText:Ht,displayPrice:Dn,selectedSku:n.skuInContext,disclaimerContent:function(e){var t=o.getItemByLosgId(Me),n=!!t&&U()(t,"plan.productCode"),a=Z()(c,{productId:n}),i=!!a&&1===U()(a,"price.noOfTerms"),r=!!a&&U()(a,"price.noOfTerms")>1,s=!!a&&U()(a,"price.noOfTerms"),l=a?U()(a,"price.mrc"):0,d=a?U()(a,"price.netMrc"):0;return Ht&&l!==d&&i&&!o.loading?U()(e,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.planDisclamerWithAutopay"),$.c.plan.planDisclamerWithAutopay):Ht&&r&&!o.loading?Object(F.nb)(U()(e,"".concat($.c.configView.pscCMSFeedRootPath,".configLabels.master.planDisclaimerMultiMothly"),$.c.plan.planDisclaimerMultiMothly),{months:s}):void 0}(n.planCmsContent)}))),content:se(N.Fragment,null,!Ht&&se("div",{"data-qa":"".concat(n.dataQa,"-plans-subheader"),dangerouslySetInnerHTML:Rn(),className:"jsx-3547710388 mar-b-md-lg type-sm color-ui-black font-regular"}),se("div",{className:"jsx-3547710388 "+"mar-b-xs flex overflow-x-auto ".concat(ne.scrollbarStyled)},0===g.length&&se(ee.a,{height:"25px",width:"100%",innerClass:"pad-l-sm pad-r-sm mar-r-xxs"}),g.map((function(e,t){return se(J.a,{key:e.key,tabKey:e.key,selected:e.key===I,lastButton:t===g.length-1,firstPlanIndex:e.firstPlanIndex,onClick:gn,displayValue:e.displayValue,dataQa:n.dataQa})}))),!!Ht&&se("div",{"data-qa":"".concat(n.dataQa,"-plans-subheader"),dangerouslySetInnerHTML:Rn(),className:"jsx-3547710388 mar-b-xxs type-sm color-ui-black font-regular"}),ge&&tn(function(){var e=$.c.alertMessages.chooseDifferentPlanMsg;return U()(n.planCmsContent,"".concat($.c.configView.pscCMSFeedRootPath,".modals.master.errorModal"),[]).map((function(t){U()(t,"master.code",void 0)===$.c.alertMessages.chooseDifferentPlanCode&&(e=U()(t,"master.description",$.c.alertMessages.chooseDifferentPlanMsg))})),e}()),!Ht&&$.c.nonUnlimitedPlanDefaultAlertMsg.tabKeys.indexOf(I)>-1&&1===Zt.sequence&&tn($t()),Ht&&!Hn&&!Bn&&tn($t()),"firstNet"===I&&se("div",{dangerouslySetInnerHTML:{__html:g.find((function(e){return"firstNet"===e.key}))?g.find((function(e){return"firstNet"===e.key})).description:""},className:"jsx-3547710388 type-sm font-regular mar-b-sm-lg"}),se(Y.a,{dataQa:"".concat(n.dataQa,"-PlanPricingLegal"),customerType:n.customerType,planCmsContent:n.planCmsContent,abpDiscount:o.abpPromotionAmount,skuInContext:n.skuInContext,isPrepaid:Ht,isMultiMonthPlan:xn,isFirstNetPlan:"firstNet"===I}),c.length>0&&se(j.c,{id:"Plans",defaultSelection:B,onChange:function(e){cn(e,c)}},se("div",{className:"jsx-3547710388 flex flex-column"},c.map((function(e,t){if(e.displayGroups&&e.displayGroups[0]&&e.displayGroups[0].key===I||I===e.productType){var a,i="",o=n.planCmsContent["idp-cms-feed"].productselectionconfig.contentFragments.configLabels.master.prepaidDevicePromotion||$.c.prepaidPlans.prepaidDevicePromotion;if(!Un&&e.planQualifiesForDeviceOffer){var r=[],s=Zt?Zt.device.offerId:void 0,c=wt.find((function(e){return e.offerId===s}));c&&c.product.childSkus.map((function(e){e.promotionReferences&&(r=[].concat(Object(h.a)(r),Object(h.a)(e.promotionReferences)))}));var l=!1;r.map((function(e){if(!l){var t=kt.find((function(t){return t.id===e}));t&&(l=!0,"percentageOff"===t.discountType&&(i=t.discount+"%"),"amountOff"===t.discountType&&(i="$"+t.discount))}}))}if(!Un&&e.planQualifiesForDeviceOffer&&""===i){var d=Zt?Zt.device.offerId:void 0;(n.planCmsContent["idp-cms-feed"].productselectionconfig.contentFragments.configLabels.planRibbons?n.planCmsContent["idp-cms-feed"].productselectionconfig.contentFragments.configLabels.planRibbons.master.contentReference:$.c.prepaidPlans.planRibbons).map((function(e){e.master.productIds&&(-1==e.master.productIds.indexOf(d)||a||(a=e.master))}))}return se(R.a,{key:e.productId,plansContent:n.planCmsContent,prepaidDevicePromotion:o,deviceRibbonCmsfeed:a,deviceOfferAmount:i,sharedDataGroup:e,productId:e.productId,contentForPlan:e.productContent,signaturePromotionType:Et.current,signaturePromotionId:qe,signaturePromotionData:Ze,signaturePromotionPercent:nt,signatureOrgName:Je,aBPDiscountId:Fe,tooltipLegalModalContent:dt,textContent:Bt,customerType:n.customerType,value:t,dataQa:n.dataQa,skuInContext:n.skuInContext,linkPosition:n.linkPosition,updateTooltipLegal:pn,isPrepaid:Ht,abpEnrolled:Kt,hasPrivateOffer:Fn(e)})}})))),0===c.length&&ue&&se(N.Fragment,null,se(de,{featuresCount:7}),se(de,null),se(de,null))),isUpcoming:mt,isCollapsed:!ue,isSelected:!!I,collapseEnabled:z||!ue,onAccordionClick:function(){z&&("PLANS"===n.expandedConfigAccordion?n.setExpandedConfigAccordion(null):n.setExpandedConfigAccordion("PLANS"))}}),se(L.a,{id:"3547710388"},[".margin-left-auto.jsx-3547710388{margin-left:auto;}"]))}}).call(this,a("8oxB"))},S16J:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("Tit0"),l=a("MI3g"),d=a("a7VT"),p=a("MX0m"),u=a.n(p),f=a("q1tI"),m=f.createElement;function h(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(d.a)(t);if(n){var i=Object(d.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(l.a)(this,e)}}var g=function(e){Object(c.a)(n,e);var t=h(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return m(f.Fragment,null,this.props.brandNameUrl?m("a",{"data-qa":"PDP-Device-Manufacturer","aria-label":"".concat(this.props.displayManufacturer),style:{margin:0},href:this.props.brandNameUrl,tabindex:0,className:"jsx-1280023599 brand-name-link"},this.props.displayManufacturer):m("span",{style:{margin:0},className:"jsx-1280023599 color-ui-black block type-eyebrow-sm line-h-base"},this.props.displayManufacturer),m(u.a,{id:"1280023599"},[".type-eyebrow-sm.jsx-1280023599{color:#454B52;font-family:font-regular,sans-serif;font-size:12px;}",".brand-name-link.jsx-1280023599{display:block;font-family:font-regular,sans-serif;font-size:12px;cursor:pointer;color:#1d2329;-webkit-text-decoration:none;text-decoration:none;text-transform:uppercase;line-height:1.2;}",".brand-name-link.jsx-1280023599:hover{-webkit-text-decoration:none;text-decoration:none;color:#1d2329;}"]))}}]),n}(f.Component);n.a=g},SSme:function(t,n,a){"use strict";var i=a("kOwS"),o=a("doui"),r=a("q1tI"),s=a("zm1R"),c=a("h9dW"),l=a("aJ4A"),d=a("jKe7"),p=a("2INN"),u=a("L8dv").a,f=a("k2q6"),m=a("U/e8"),h=a("pbKT"),g=a.n(h),b=a("pLtp"),v=a.n(b),y=a("9Jkg"),C=a.n(y),x=a("dfwq"),k=a("0iUn"),S=a("sLSF"),I=a("Tit0"),O=a("MI3g"),w=a("a7VT"),T=a("BDw/"),L=a("5KXR"),N=a("RrNd"),j=r.createElement;function P(t){var n=function(){if("undefined"===typeof Reflect||!g.a)return!1;if(g.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(g()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(w.a)(t);if(n){var i=Object(w.a)(this).constructor;e=g()(a,arguments,i)}else e=a.apply(this,arguments);return Object(O.a)(this,e)}}var M=[{displayName:"Home",url:"/"},{displayName:"Wireless",url:"/wireless/"}],A=function(e){Object(I.a)(n,e);var t=P(n);function n(e){return Object(k.a)(this,n),t.call(this,e)}return Object(S.a)(n,[{key:"chevron",value:function(){return j("svg",{role:"img","aria-label":"breadcrumbs forward arrow",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 6 10"},j("path",{d:"M5.276 4.602a.481.481 0 0 1 0 .768L.814 9.833a.477.477 0 1 1-.674-.675l4.172-4.172L.14.814A.477.477 0 0 1 .814.14l4.462 4.462z"}))}},{key:"breadCrumbLinks",value:function(){var e=this,t=[].concat(M,Object(x.a)(this.generateDynamicArray()));return t.map((function(n,a){return j("li",{key:a},a<t.length-1&&j(r.Fragment,null,j("a",{href:"".concat(N.a).concat(n.url),"data-qa":"".concat(e.props.dataQa,"-NavLink"),"aria-label":"".concat(n.displayName," page")},n.displayName),j(L.a,{icon:e.chevron(),className:T.separator,size:"10px"})),a===t.length-1&&j("span",null,n.displayName))}))}},{key:"breadCrumbSchema",value:function(){var e=this,t=[].concat(M,Object(x.a)(this.generateDynamicArray())),n={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[]};return t.forEach((function(a,i){n.itemListElement.push({"@type":"ListItem",position:i+1,name:a.displayName,item:i===t.length-1?"https://www.att.com/buy"+Object(m.w)(e.props.isAccessory,e.props.selectedSku,e.props.selectedSku.uniqueURLName):"https://www.att.com"+a.url})})),n}},{key:"render",value:function(){return j(r.Fragment,null,j("ul",{className:T.breadcrumbHeader},this.breadCrumbLinks()),j("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:C()(this.breadCrumbSchema())}}))}},{key:"generateDynamicArray",value:function(){var e=this,t=[];return v()(this.props.data).map((function(n){""!==e.props.data[n].displayName&&t.push(e.props.data[n])})),t}}]),n}(r.Component),D=a("I4GN"),R=a("sKpN"),F=a("Da3r"),E=a("cr+I"),U=a.n(E),B=a("ETzL"),H=a("BTSr"),V=a("JNjH"),_=a("pvQS"),Q=a("mwIZ"),q=a.n(Q),W=r.createElement;n.a=function(e){var t=e.pdpProps,n=e.pdpState,a=e.events,h=r.useState(!1),g=Object(o.a)(h,2),b=g[0],v=g[1],y=r.useState(!0),C=Object(o.a)(y,2),x=C[0],k=C[1],S=r.useRef(void 0),I=r.useRef(void 0),O=r.useState(void 0),w=Object(o.a)(O,2),T=w[0],L=w[1],N=r.useState(!1),j=Object(o.a)(N,2),P=j[0],M=j[1],E=r.useContext(H.a),Q=r.useContext(V.a),G=t.dtabCookieExists,z="simcard"===q()(n,"selectedSku.deviceSubType"),Z="prepaidpda"===q()(n,"selectedSku.deviceSubType"),X="accessories"===t.deviceType,K="authenticated"===t.profileInfo.customerState,Y=!(G||z||Z||X||K),J="true"===t.IXPFeatureFlags["pdp-prescreen"];r.useEffect((function(){$(),I.current=!Y,J&&Y&&(ee(),te())}),[]),r.useEffect((function(){J&&Y&&te()}),[E.cartItems,Q.selectedSku,T,Q.selectedContractTerm,Q.selectedPricingIndex,Q.isTradeInSelected,Q.hylaOfferCodeInContext]);var $=function(){var e=U.a.parse(window.location.search).invalidateAuthCRUSession;t.profileInfo.customerProfile&&"CRU"===t.profileInfo.customerProfile.customerType&&e&&(B.a.setUserIntent_pdp("NEW"),v(!0))},ee=function(){S.current=Object(_.prescreenStatus)(),S.current&&S.current!==T&&L(S.current)},te=function(){var e=q()(Q,"selectedContractTerm"),t=q()(e,"monthlyLeasePrice"),n=q()(e,"promoPricing"),a=void 0;if(n)for(var i in n)"DEFAULT"!==q()(Q,"hylaOfferCodeInContext")&&void 0!==q()(Q,"hylaOfferCodeInContext")&&q()(n[i],"hylaOfferCode")===q()(Q,"hylaOfferCodeInContext")&&"generictradein"!==q()(n[i],"promoType")?a=n[i]:"standalone"===q()(n[i],"promoType")&&(a=n[i]);var o=q()(a,"creditApplied"),r=q()(a,"monthlyCredit"),s=q()(a,"monthlyPromoPrice"),c=q()(a,"promotion.discount"),l=q()(a,"monthlyPromoPrice"),d=q()(a,"downPayment"),p=q()(e,"downPayment"),u=d||p,f=q()(e,"msrp")+""===u+"";l&&t!==l||(l=t);var m=q()(E.prescreen,"prescreenType",void 0),h=f,g=!(T&&(!T||!1!==q()(T,"complete",!1))),b=q()(T,"complete",!1),v=q()(T,"success",!1),y=q()(T,"creditStatus",null),C=!0===q()(T,"fully_qualified",null),x=!0===q()(T,"debtInd",null),k="AR"===q()(T,"creditStatus",null),S="CA"===q()(T,"creditStatus",null),I=k,O=q()(T,"invalidAddress",null),w=q()(T,"iACount",null),L=3===w&&O,N=!0===q()(T,"safeScanInd",null),j=!0===q()(T,"safeScanVerified",null),P=!!N&&!j,M=q()(T,"error",null),A=ne({activePromotion:a,monthlyCredit:r,discount:c,prescreenType:m,complete:b,success:v,creditStatus:y,creditApproved:S,creditAutoRejected:k,monthlyPromoPrice:s,error:M,noPrescreen:g,isFullDownPayment:h,downPayment:u,creditApplied:o,monthlyLeasePrice:l,prescreenApproved:C,debtInd:x,invalidAddress:O,iACount:w,iAMaxAttemptReached:L,failedPrescreen:I,systemDown:"E00008"===M,safeScanInd:N,safeScanVerified:j,safeScanFailed:P,validationIsPending:"E00004"===M,validationErrors:"E00009"===M});E.setPrescreen(A)},ne=function(e){if(q()(e,"invalidAddress")||q()(e,"failedPrescreen")||q()(e,"safeScanFailed")||q()(e,".systemDown"))return e.prescreenType=null,e;var t,n=q()(E,"cartItems",[]),a=!1;return n.forEach((function(e){var t="device"===q()(e,"device.itemType"),n=q()(e,"prepaidFlow",!1);t&&!n?(a=!0,k(!1)):t&&n&&k(!1)})),q()(e,"noPrescreen")&&!a&&!1===q()(e,"complete",!1)&&!1===q()(e,"downPayment",!1)?t="NO_PRESCREEN":!0===!!q()(e,"debtInd",!1)?t="OUTSTANDING_BALANCE":q()(e,"complete")&&q()(e,"isFullDownPayment")?t="NO_QUALIFY":q()(e,"downPayment",!1)?t="DOWN_PAYMENT":q()(e,"complete")&&q()(e,"creditApproved")&&!q()(e,"downPayment",!1)?t="NO_DOWN_PAYMENT":q()(e,"validationIsPending")?t="VALIDATION_IS_PENDING":q()(e,"validationErrors")&&(t="VALIDATION_ERRORS"),e.prescreenType=t,e};return W(s.b,{type:s.c.FullWidth,className:"bg-ui-background-gray"},W(s.b,{className:"rel nopad"},function(e){var a=[];switch(t.deviceType){case"phones":a.push({displayName:"Cell Phones",url:"".concat("/buy","/phones/")});break;case"prepaid-phones":a.push({displayName:"Prepaid Phones",url:"".concat("/buy","/prepaid-phones/")});break;case"tablets":a.push({displayName:"Tablets",url:"".concat("/buy","/tablets/")});break;case"wearables":a.push({displayName:"Wearables",url:"".concat("/buy","/wearables/")});break;case"connected-devices-and-more":a.push({displayName:"Connected Devices and More",url:"".concat("/buy","/connected-devices-and-more/")});break;case"accessories":a.push({displayName:"Accessories",url:"".concat("/buy","/accessories/")})}var i=e.shortDisplayName||e.model||e.displayName;return W(A,{data:[].concat(a,[{displayName:i,url:""}]),isAccessory:t.productField.isAccessory,selectedSku:n.selectedSku,dataQa:"PDP-BreadCrumbs"})}(n.selectedSku),b&&W(R.default,{data:{message:F.c.alertBoxMessages.alertMessageCRU,icon:F.a.alertIcon,closeAlertBox:function(){v(!1)}},dataQa:"".concat("PDP","-DeviceConfig")}),n.selectedSku.isComingSoon&&W(D.default,{deviceName:n.selectedSku.model,manufacturer:n.selectedSku.manufacturer,content:function(){var e=Object(m.a)(t.idpcmsContent,n.selectedSku).commonContent;return e&&e[0]&&e[0].master&&e[0].master.emailSubscription&&e[0].master.emailSubscription.master?e[0].master.emailSubscription.master:F.c.emailCapture}(),isAccessory:t.productField.isAccessory,skuInContext:n.selectedSku})),W(l.a,{history:n.history},W(d.a,null,W(p.a,{path:a.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName,c.a),render:function(e){return W(u,Object(i.a)({},e,{IXPFeatureFlags:t.IXPFeatureFlags,customerProfile:t.profileInfo,isAccessory:t.productField.isAccessory,deviceType:t.deviceType,deviceSubType:t.deviceSubType,selectedSku:n.selectedSku,idpcmsContent:t.idpcmsContent,planCmsContent:t.planCmsContent,product:t.productField,dataQa:"PDP",pageLoadEvent:a.pageLoadEvent,learnViewPath:a.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName),dtabCookieExists:t.dtabCookieExists,updateSelectedSku:a.updateSelectedSku,editLosgId:n.editLosgId,updateEditLosgId:a.updateEditLosgId,catalogOffers:n.catalogOffers,legalPaths:t.legalPaths,prescreenCookieData:T,suppressPrescreen:I.current,isSmb:G}))}}),W(p.a,{render:function(e){return W(f.a,Object(i.a)({},e,{IXPFeatureFlags:t.IXPFeatureFlags,configViewPath:a.generateNewAsUrl(n.selectedSku,n.selectedSku.uniqueURLName,c.a),product:t.productField,deviceType:t.deviceType,deviceSubType:t.deviceSubType,customerProfile:t.profileInfo,flowType:Object(m.I)(t.deviceType),dataQa:"PDP",pageLoadEvent:a.pageLoadEvent,selectedSku:n.selectedSku,idpcmsContent:n.idpcmsContent?n.idpcmsContent:t.idpcmsContent,updateSelectedSku:a.updateSelectedSku,standaloneOffers:t.standaloneOffers,deviceLegalContent:t.deviceLegalContent,legalPaths:t.legalPaths,catalogOffers:n.catalogOffers,offerId:t.offerId,selectedPricingIndex:a.getSelectedPricingIndex(),priceOptions:t.priceOptions,offerLegal:t.offerLegal,hasCmsOffers:t.hasCmsOffers,hasPromotionalOffers:Object(m.l)(t.IXPFeatureFlags,n.catalogOffers),isIdpEditAction:t.isIdpEditAction,openOfferTray:t.openOfferTray,openLegalModal:t.openLegalModal,isSkuOutOfStock:n.selectedSku.effectiveOutOfStock,dtabCookieExists:t.dtabCookieExists,isUserRequest:t.isUserRequest,reviewsSeoContent:t.reviewsSeoContent,commonCmsContent:t.commonCmsContent,planCmsContent:t.planCmsContent,updateEditLosgId:a.updateEditLosgId,cartContext:E,paymentInFull:t.paymentInFull,prescreenCookieData:T,suppressPrescreen:I.current,updatePrescreenData:ee,showPrescreenOptIn:x,setPrescreenStarted:M,prescreenStarted:P,userZipCode:t.userZipCode,prop65Content:t.prop65Content,productFulfillmentRes:n.productFulfillmentRes,urgencyMsg:n.urgencyMsg}))}}))))}},SYGs:function(e,t,n){"use strict";var a=n("doui"),i=n("MX0m"),o=n.n(i),r=n("q1tI"),s=n("b7XW"),c=n("3RMt"),l=n("cq7Z"),d=n("xLlQ"),p=n("pTDS"),u=n.n(p),f=n("mwIZ"),m=n.n(f),h=r.createElement;function g(e){var t=!!m()(document,"documentMode",!1);e.hasHeroImages&&!t||e.hasHeroImages,e.hasHeroImages&&!t||e.hasHeroImages;return h(r.Fragment,null,h("div",{tabIndex:0,onClick:e.handleHeroImageClick,className:"jsx-880237922 zoom-icon bg-ui-background-gray"},h(d.a,{icon:u.a,size:"20px",altText:"zoom icon"})),h(o.a,{id:"880237922"},[".zoom-icon{position:absolute;right:0px;padding:9px 9px 5px 10px;border-radius:33px;cursor:pointer;fill:#0057B8;color:#0057B8;top:0;}",".zoom-icon:focus{outline:1px dotted;}"]))}var b=n("bVGF"),v=r.createElement;function y(e){var t=e.heroImages&&e.heroImages.length>0?e.heroImages:[e.defaultImage],n=r.useState(0),i=Object(a.a)(n,2),d=i[0],p=i[1],u=e.heroImages.length>0,f=function(t,n,a,i){var o=new l.a,r={linkDestinationUrl:t,linkName:i?"zoom icon":e.selectedSku.skuId+"_"+a+"_"+n,linkPosition:"Body"};o.fireLinkClickEvent(r)},m=function(n,a){u&&function(t,n,a,i){e.imageClick&&e.imageClick(n),f(t,n,a,i)}(t[n],n,"heroImageClick",a),e.imageClick?e.imageClick(n,a):f(t[n],n,"singleHeroImageClick",a)};return v(r.Fragment,null,v("div",{className:"jsx-1564329253 wishlist-icon"},v(b.a,{skuId:e.selectedSku.skuId,shortDisplayName:e.selectedSku.shortDisplayName,currentLocation:window.location.href})),v("div",{className:"jsx-1564329253 "+"".concat(t.length>1?"":c.imageLayoutShiftTopPadding+" pad-b-md-all")},v(s.b,{config:[{breakpoint:9999,settings:{slidesToShow:1,slidesToScroll:1,dots:!0,arrows:!1,lazyLoad:"progressive"}}],skipOverlay:!1,sliderClick:function(e){p(e),f(window.location.href,e,"heroImageCarouselSliderClick",!1)},verticalCenter:!0},t.map((function(t,n){return v("div",{key:n,onClick:function(){return m(n,!1)},className:"jsx-1564329253 "+"heroImageSlide ".concat(c.imageSlide)},v("div",{className:"jsx-1564329253 "+"".concat(c.heroImageContainer)},v("img",{tabIndex:0,draggable:!1,src:t,alt:e.defaultAlt,className:"jsx-1564329253 "+(c.responsiveImage||"")})))}))),e.children),v(o.a,{id:"1564329253"},["@media (max-width:767px){.wishlist-icon{position:absolute;cursor:pointer;fill:#0057B8;color:#0057B8;top:4px;left:1%;}}","@media (min-width:768px){.wishlist-icon{position:absolute;cursor:pointer;fill:#0057B8;color:#0057B8;top:4px;left:-2%;}}"]),!e.isConfig&&v(g,{hasHeroImages:u,handleHeroImageClick:function(){return m(d,!0)}}))}n.d(t,"a",(function(){return y}))},UwHv:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n("9Jkg"),i=n.n(a),o=n("eVuF"),r=n.n(o),s=n("ln6h"),c=n.n(s),l=n("doui"),d=n("q1tI"),p=n("BTSr"),u=n("Da3r"),f=n("U/e8"),m=n("cq7Z"),h=n("mwIZ"),g=n.n(h),b=n("k4Da"),v=n.n(b),y=n("E+oP"),C=n.n(y),x=n("UfWW"),k=n.n(x),S=n("V/5n"),I=n("rJkF"),O=n("AGoX"),w=n("cr+I"),T=n.n(w),L=n("oWEr"),N=d.createElement;function j(e){var t=d.useContext(p.a),n=d.useState(!1),a=Object(l.a)(n,2),o=a[0],s=a[1],h=d.useState(!0),b=Object(l.a)(h,2),y=b[0],x=b[1],w=new m.a,j=d.useState(!1),P=Object(l.a)(j,2),M=P[0],A=P[1],D=Object(f.H)(),R=D&&"true"===D["pdp-firstnet"],F="",E=d.useState(!0),U=Object(l.a)(E,2),B=U[0];U[1];d.useEffect((function(){x(e.disabled)}),[e.disabled]);var H=function(){A(!1),s(!1),x(!1),sessionStorage.removeItem("fnOpen")};F=window.location.href,"eligible"===T.a.parse(window.location.search).fnStatus&&(window.location.href="/buy/cart",sessionStorage.setItem("fnVerified","true"),sessionStorage.removeItem("fnOpen"));var V=function(){var t,n=sessionStorage.getItem("tempSharedOfferModalValues")?JSON.parse(sessionStorage.getItem("tempSharedOfferModalValues")):{},a=sessionStorage.getItem("SharedOfferModelValues")?JSON.parse(sessionStorage.getItem("SharedOfferModelValues")):[],o=!C()(n),r=e.editLosgId?k()(a,{losgsId:e.editLosgId}):-1;Object(f.ab)()||(t=o?{isTradeInSlected:o,losgsId:e.editLosgId?e.editLosgId:"",make:n.make,model:n.productFamily,amount:n.hylaDiscountAmount?n.hylaDiscountAmount:n.modelPrice}:-1===r?{isTradeInSlected:o,losgsId:e.editLosgId?e.editLosgId:""}:a[r],-1!==r?a[r]=t:a.push(t),sessionStorage.setItem("SharedOfferModelValues",i()(a)))},_=function(){var t="true"===Object(f.H)()["pdp-line-level-totals"],n="".concat(u.c.configView.pscCMSFeedRootPath,".plans.master"),a="".concat(u.c.configView.pscCMSFeedRootPath,".hubLabels.master"),i={firstname:e.limitedFirstName,phonename:e.selectedSku.shortDisplayName,linenumber:e.sequence},o=g()(e.planCmsContent,"".concat(n,".productNameContinueCta"),u.c.configCta.productNameContinueCta),r=g()(e.planCmsContent,"".concat(n,".customerNameContinueCta"),u.c.configCta.customerNameContinueCta),s=g()(e.planCmsContent,"".concat(n,".lineNumberContinueCta"),u.c.configCta.lineNumberContinueCta),c=g()(e.planCmsContent,"".concat(a,".hubContinueCta"),u.c.configCta.hubContinueCta),l=t?i.firstname?r:s:o,d=e.isOnHub?c:l;return Object(f.nb)(d,i)},Q=function(){var e=sessionStorage.getItem("selectedDeviceConfig"),t=sessionStorage.getItem("tempSharedOfferModalValues");e&&sessionStorage.removeItem("selectedDeviceConfig"),t&&sessionStorage.removeItem("tempSharedOfferModalValues")},q=function(){var e,t,n,a;return c.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,c.a.awrap(S.a.getCartInfo());case 2:e=i.sent,t=v()(e.content.cartItems,(function(e){return"feature"!==e.itemCategory&&"accessory"!==e.itemCategory})),n=Object(f.ab)()?"DS_Cart_Update_Submit":"DS_Add_To_Cart_Submit",a={statusMessage:"Success",statusCode:"0",successFlag:"1",eventCode:n,linkDestinationUrl:"/buy/phones/config",linkName:_(),linkPosition:"Body",items:t},w.fireFormResponseEvent(a.eventCode,a);case 7:case"end":return i.stop()}}),null,null,null,r.a)};return N(d.Fragment,null,N(L.a,{dataQa:e.dataQa,usedOn:"config",toolTipContent:u.c.nextStepCTA.tooltipErrorMessage,pricingDisplay:{monthly:"$".concat(e.dueMonthly),total:"$".concat(e.dueToday)},isButtonDisabled:y,isRedirecting:o,getButtonText:_(),ctaClickHandler:function(){var n,a,i;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(e.isOnHub){o.next=21;break}return R&&(n=sessionStorage.getItem("fnVerified"),a=t&&t.selectedPlan&&t.selectedPlan.firstNetOnly,"prepaidpda"!==e.selectedSku.deviceSubType&&"simcard"!==e.selectedSku.deviceSubType&&!n&&a&&(A(!0),sessionStorage.setItem("fnOpen","true"))),s(!0),i=t.selectedPlan,o.next=6,c.a.awrap(t.addPlanToCart(i));case 6:if(!o.sent){o.next=17;break}return V(),Q(),e.selectedSku.skuId?"?skuId=".concat(e.selectedSku.skuId):"",o.next=13,c.a.awrap(q());case 13:sessionStorage.getItem("fnOpen")||(window.location.href="/buy/cart"),o.next=19;break;case 17:s(!1),e.openAddToCartErrorModal();case 19:o.next=23;break;case 21:Q(),window.location.href="/buy/cart";case 23:case"end":return o.stop()}}),null,null,null,r.a)},disabledButtonClick:function(){},showSpinner:!1,legalContent:e.taxNote}),N(O.default,{isOpen:M,onRequestClose:H,width:6},N(I.a,{openModal:M,closeModal:H,applicationUrl:F,isFailure:B,handleFailureContinue:H})))}},XjkZ:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("pLtp"),s=a.n(r),c=a("p0XB"),l=a.n(c),d=a("0iUn"),p=a("sLSF"),u=a("AT/M"),f=a("Tit0"),m=a("MI3g"),h=a("a7VT"),g=a("MX0m"),b=a.n(g),v=a("q1tI"),y=a.n(v),C=a("uVxl"),x=a("98cJ"),k=a("mwIZ"),S=a.n(k),I=a("zm1R"),O=a("zAYd"),w=y.a.createElement;function T(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(h.a)(t);if(n){var i=Object(h.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(m.a)(this,e)}}var L=function(e){Object(f.a)(n,e);var t=T(n);function n(e){var a;return Object(d.a)(this,n),(a=t.call(this,e)).state={collapsed:!0,numberOfCols:4},a.getLinkFarmData=a.getLinkFarmData.bind(Object(u.a)(a)),a.handleAccordionToggle=a.handleAccordionToggle.bind(Object(u.a)(a)),a.getColumnData=a.getColumnData.bind(Object(u.a)(a)),a}return Object(p.a)(n,[{key:"handleAccordionToggle",value:function(){this.setState({collapsed:!this.state.collapsed})}},{key:"getColumnData",value:function(e,t){for(var n,a={subheading:S()(e,"master.subHeading",""),text:{},href:{},target:{}},i=S()(e,"master.linkList",[]).length,o=0;o<i;o++)(n=JSON.parse(S()(e,"master.linkList[".concat(o,"]"),void 0)))&&(a.text["text_".concat(o+1)]=n.linkLabel,a.href["href_".concat(o+1)]=n.linkURL,a.target["target_".concat(o+1)]=n.linkTarget);return a}},{key:"getLinkFarmData",value:function(e){var t=this,n=[];return l()(e)&&(n=Array(e.length).fill(0).map((function(n,a){return t.getColumnData(e[a],a)}))),n}},{key:"render",value:function(){var e=this,t=this.props.linkFarmsContent,n=S()(t,"master.heading","Looking for more?"),a=this.getLinkFarmData(S()(t,"master.linkSections",[])),i=S()(t,"master.headingFontSize","md"),o="type-".concat(i),r=this.props.defaultSubheadings?"color-ui-black":"color-ui-dark-gray",c=!(!this.state.collapsed&&a.length);return w(y.a.Fragment,null,!!a.length&&w(I.b,{className:"bg-ui-background-gray rel pad-r-none pad-l-none"},w(I.d,null,w(I.a,{width:12,offset:0,widthMd:12,className:"mar-l-none-md pad-t-none pad-b-xxxl"},w("div",{id:"pdpLinkFarmsID",className:"jsx-747556331"},w("div",{className:"jsx-747556331 col-pad-l col-pad-r"},w(C.a,{space:0,topSpace:0}),w("div",{"data-qa":"".concat(this.props.dataQa,"-header"),"aria-label":"PDP Link Farms","aria-expanded":!this.state.collapsed,className:"jsx-747556331 "+"".concat(O.accordionIconMargin," mar-t-md")},w("span",{onClick:this.handleAccordionToggle,className:"jsx-747556331 "+"formfield-label ".concat(c?"pad-b-none":"pad-b-xs")},w("span",{style:{width:"100%"},className:"jsx-747556331 "+"font-medium color-ui-black line-h-md ".concat(o)},n),w(x.a,{expanded:!this.state.collapsed})))),!this.state.collapsed&&w(I.d,{className:"".concat(a.length?"mar-t-xxs":""," ").concat(c?"mar-b-md":""," flex-wrap")},a.map((function(t,n){var a=t.text&&s()(t.text);return w(N,{key:n,keyProp:n,numberOfCols:e.state.numberOfCols,collapsed:e.state.collapsed,subheadingClass:r,subheadingText:t.subheading,linkFarmText:t.text,linkFarmHref:t.href,linkFarmTarget:t.target,linkKeys:a})}))),w("div",{className:"jsx-747556331 "+"col-pad-l col-pad-r ".concat(c?"mar-t-md":"")},w(C.a,{space:0,topSpace:c?0:-8})))))),w(b.a,{id:"747556331"},["#pdpLinkFarmsID.jsx-747556331{padding-top:96px;}","@media (min-width:768px) and (max-width:1024px){#pdpLinkFarmsID.jsx-747556331{padding-top:64px;}}","@media (max-width:767px){#pdpLinkFarmsID.jsx-747556331{padding-top:32px;}}"]))}}]),n}(y.a.Component),N=function(e){var t=e.keyProp,n=e.numberOfCols,a=(e.collapsed,e.subheadingClass),i=e.subheadingText,o=e.linkFarmText,r=e.linkFarmHref,s=e.linkFarmTarget,c=e.linkKeys;return w(I.a,{key:t,width:Math.floor(12/n),widthSm:6,widthMd:6,className:"mar-b-md pad-t-none pad-b-none"},w("h3",{className:"mar-b-sm"},w("span",{className:"type-base font-medium ".concat(a," mar-t-none mar-b-sm")},i)),c.length&&w("ul",{id:"linkFarmSection".concat(t+1),role:"list","aria-hidden":"true"},c.map((function(e,t){return w(j,{key:t,keyProp:t,link:r["href_".concat(t+1)],text:o[e],target:s["target_".concat(t+1)]})}))))},j=function(e){var t=e.keyProp,n=e.link,a=e.text,i=e.target,o=n||"";return w(y.a.Fragment,null,n&&a&&i&&w("li",{key:t,className:"pad-t-xxxs pad-b-xxxs mar-t-xxs mar-b-xxs"},w("a",{href:o,target:i,className:"type-sm color-ui-dark-gray font-regular"},a)))};n.a=L},YoPm:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("AT/M"),l=a("Tit0"),d=a("MI3g"),p=a("a7VT"),u=a("vYYK"),f=a("q1tI"),m=a("kAP8"),h=f.createElement;function g(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(p.a)(t);if(n){var i=Object(p.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(d.a)(this,e)}}var b=function(e){Object(l.a)(n,e);var t=g(n);function n(e){var i;return Object(r.a)(this,n),i=t.call(this,e),Object(u.a)(Object(c.a)(i),"prop65Icon",void 0),i.prop65Icon=a("wQxn"),i}return Object(s.a)(n,[{key:"renderProp65Accordion",value:function(){var e=this.props.prop65Content.title,t=this.props.prop65Content.text;return h("div",{className:m.prop65},h("span",{dangerouslySetInnerHTML:{__html:e}}),h("br",null),h("div",{className:m.props65IconContainer},h("img",{src:this.prop65Icon,className:m.prop65Icon})),h("span",{dangerouslySetInnerHTML:{__html:t}}))}},{key:"render",value:function(){return h("div",{className:"container"},h("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.props.data}}),this.props.prop65Flag&&this.renderProp65Accordion())}}]),n}(f.Component);n.a=b},b0Je:function(e,t,n){"use strict";n.r(t);var a=n("eVuF"),i=n.n(a),o=n("ln6h"),r=n.n(o),s=n("doui"),c=n("q1tI"),l=n("940n"),d=n("+ob+"),p=n("AGoX"),u=n("IyUE"),f=n("Cao8"),m=n("mwIZ"),h=n.n(m),g=c.createElement;t.default=function(e){var t=c.useState(!0),n=Object(s.a)(t,2),a=n[0],o=n[1],m=c.useState(!1),b=Object(s.a)(m,2),v=b[0],y=b[1],C=c.useState(""),x=Object(s.a)(C,2),k=x[0],S=x[1];return c.useEffect((function(){e.data.isOpen&&r.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r.a.awrap(f.a.fetchPlansLegalContent(e.longLegalPath).then((function(t){var n=h()(t,"idp-cms-feed.".concat(e.offerID,"_offers_lm.master.legalLongPath[0].master.legalText"));n?S(n):y(!0)})));case 3:o(!1),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),y(!0),u.a.Error("Unable to load port in legal: ".concat(t.t0));case 10:case"end":return t.stop()}}),null,null,[[0,6]],i.a)}),[e.data.isOpen]),g(p.default,{isOpen:e.data.isOpen,onRequestClose:e.data.onRequestClose,modalContainerClassName:e.data.containerClassName,modalContentClassName:e.data.contentClassName,modalRowClassName:e.data.rowClassName,modalCloseClassName:e.data.closeClassName,modalTextClassName:e.data.textClassName,showSeperator:e.data.showSeperator,width:e.data.width},a&&!v&&g("div",null,g(d.a,{height:"28px",width:"84px"}),g(d.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),g(d.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),g(d.a,{height:"60px",width:"100%",innerClass:"mar-b-md"}),g(d.a,{height:"60px",width:"90%",innerClass:"mar-b-xs"}),g(d.a,{height:"60px",width:"80%",innerClass:"mar-b-md"}),g(d.a,{height:"24px",width:"72px",innerClass:"mar-b-xxs"}),g("br",null)),!a&&!v&&g("div",{dangerouslySetInnerHTML:{__html:k}}),v&&g("div",{className:l["portInLegalModal-error"]},g("h1",null,"We encountered an error.")),g("div",{className:"pad-b-sm"}))}},cXAj:function(t,n,a){"use strict";var i=a("p0XB"),o=a.n(i),r=a("dfwq"),s=a("Wa2I"),c=a.n(s),l=a("eVuF"),d=a.n(l),p=a("ln6h"),u=a.n(p),f=a("pLtp"),m=a.n(f),h=a("doui"),g=a("MX0m"),b=a.n(g),v=a("q1tI"),y=a.n(v),C=a("cq7Z"),x=a("8Sh2"),k=a("BTSr"),S=a("NKOH"),I=a("Da3r"),O=a("+ob+"),w=a("eI37"),T=a("7Llo"),L=a("AGoX"),N=a("mwIZ"),j=a.n(N),P=a("OFL0"),M=a.n(P),A=a("J2m7"),D=a.n(A),R=a("D0BC"),F=a.n(R),E=a("ijCd"),U=a.n(E),B=a("zqxM"),H=a.n(B),V=a("U/e8"),_=a("bzph"),Q=a("YrCs"),q=a("xLlQ"),W=(a("p8mF"),a("sLck")),G=a.n(W),z=a("+xo0"),Z=(a("zI6O"),a("kMre")),X=y.a.createElement,K=function(t){var n,a,i,s,l=t.dataQa,p=t.selectedSku,f=t.editLosgId,g=t.planCmsContent,N=new C.a,P=Object(v.useContext)(k.a),A="".concat(I.c.configView.pscCMSFeedRootPath,".configLabels.master"),R=Object(v.useState)(!0),E=R[0],B=R[1],W=Object(v.useState)(!1),K=W[0],Y=W[1],J=Object(v.useState)(!1),$=J[0],ee=J[1],te=Object(v.useState)([]),ne=te[0],ae=te[1],ie=Object(v.useState)([]),oe=ie[0],re=ie[1],se=Object(v.useState)([]),ce=se[0],le=se[1],de=j()(g,"".concat(A,".accSelectionEnabledCategories"),I.c.accessories.accSelectionEnabledCategories),pe={header:j()(g,"".concat(A,".accSelectionHeading"),I.c.accessories.accSelectionHeading),description:j()(g,"".concat(A,".accSelectionSubheading"),I.c.accessories.accSelectionSubheading),applicableDiscounts:j()(g,"".concat(A,".accDiscountsDisclaimer"),I.c.accessories.accDiscountsDisclaimer),ctaAddLabel:j()(g,"".concat(A,".accContinueCTA"),I.c.accessories.accContinueCTA),ctaCancelLabel:j()(g,"".concat(A,".accCancelCTA"),I.c.accessories.accCancelCTA),collapsedNoSelection:j()(g,"".concat(A,".accNoneSelectedCollapsed"),I.c.accessories.accNoneSelectedCollapsed),accLegalCtaClose:j()(g,"".concat(A,".accLegalCtaClose"),I.c.accessories.accLegalCtaClose),accOptionRibbon:j()(g,"".concat(A,".accOptionRibbon"),I.c.accessories.accOptionRibbon),accOptionRibbonIRU:j()(g,"".concat(A,".accOptionRibbonIRU"),I.c.accessories.accOptionRibbonIRU),globalRibbonPromo:j()(g,"".concat(A,".accDefaultRibbonText"),!1),globalRibbonLegalModalPath:j()(g,"".concat(A,".accDefaultRibbonLegalIDP.master.legalModalPath.[0]"),""),globalRibbonLegalText:j()(g,"".concat(A,".accDefaultRibbonLegalIDP.master.legalShortPath.master.legalText"),""),globalRibbonShortLegalLinkLabel:j()(g,"".concat(A,".accDefaultRibbonLegalIDP.master.legalShortPath.master.shortLegalLinkLabel"),"")},ue=Object(v.useState)(""),fe=ue[0],me=ue[1],he=Object(v.useState)(""),ge=he[0],be=he[1],ve=Object(v.useState)(void 0),ye=ve[0],Ce=ve[1],xe=y.a.useState(void 0),ke=Object(h.a)(xe,2),Se=ke[0],Ie=ke[1],Oe=y.a.useState(!1),we=Object(h.a)(Oe,2),Te=we[0],Le=we[1],Ne="true"===t.featureFlags["pdp-plan-view-redirect"],je=!1,Pe=y.a.useRef(void 0),Me=y.a.useRef(void 0),Ae=y.a.useRef(!1);ye&&ye.auto&&ye.auto.accountDiscounts&&ye.auto.friendlyFanName&&ye.auto.foundationAccNumber&&(n=ye.auto.friendlyFanName,a=ye.auto.accountDiscounts,i=(i=D()(a,{discountType:"accessory"})).discountVal.amount,s=ye.auto.foundationAccNumber),Object(v.useEffect)((function(){M()(g,"".concat(A,".accSelectionEnableComponent"))?(P&&P.prepaidFlow?He():Be(),Boolean(Object(V.n)(document.cookie,"GNSESS"))&&Ve(t.customerType)):t.setIsAccessoriesEnabled(!1)}),[]),Object(v.useEffect)((function(){Y("ACCESSORIES"===t.expandedConfigAccordion)}),[t.expandedConfigAccordion]),Object(v.useEffect)((function(){!je&&!P.loading&&ne.length>0&&(P.cartItems.length>0&&Ue(),je=!0,B(!1))}),[P.loading,ne]),Object(v.useEffect)((function(){We(),Ge()}),[oe]),Object(v.useEffect)((function(){if(void 0!==Se){var e=j()(Se,"idp-cms-feed"),t=m()(e).filter((function(e){return"feedID"!==e&&"feedTimeStamp"!==e}));Pe.current=j()(Se,"idp-cms-feed.".concat(t,".master.legalModalTitle"),""),Me.current=j()(Se,"idp-cms-feed.".concat(t,".master.legalLongPath.[0].master.legalText"),""),Le(!0)}}),[Se]);var De=function(){Fe(pe.globalRibbonLegalModalPath),Ee("Open")},Re=function(){Le(!1),Ee("Close")},Fe=function(e){x.a.getAlertBannerLegal(e).then((function(e){return Ie(e)}))},Ee=function(e){var t={linkDestinationUrl:Object(V.r)(Ne),linkName:"LegalModal_"+e,linkPosition:"Accessories configuration"};N.fireLinkClickEvent(t)},Ue=function(){var e,t=null===(e=P.cartItems.filter((function(e){return e.losgId===(f||P.getLosgId())}))[0])||void 0===e?void 0:e.items,n=m()(t||{}),a=P.prepaidFlow?"ACCESSORY":"accessory";if(n.length>0){var i=n.map((function(e){if(t[e].itemType===a)return t[e].productSKU})).filter((function(e){return e})),o=ne.filter((function(e){return!!e&&i.indexOf(e.skuId)>-1}));re(o),le(o)}},Be=function(){S.a.getRecommendedAccessories([p.skuId]).then((function(e){return _e(e)})).catch((function(){t.setIsAccessoriesEnabled(!1),P.setLosgsFinishedAccessories(P.losgsFinishedAccessories.concat([f||P.getLosgId()]))}))},He=function(){S.a.getPrepaidAccessories([p.skuId]).then((function(e){return _e(qe(e))})).catch((function(){t.setIsAccessoriesEnabled(!1),P.setLosgsFinishedAccessories(P.losgsFinishedAccessories.concat([f||P.getLosgId()]))}))},Ve=function(e){var t;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.a.awrap(Q.a.getDiscounts(e));case 2:t=n.sent,Ce(t);case 4:case"end":return n.stop()}}),null,null,null,d.a)},_e=function(e){var n,a,i;if(P){if(0===j()(e,"[".concat(p.skuId,"].accessories.length"))||void 0===j()(e,"[".concat(p.skuId,"].accessories.length")))return t.setIsAccessoriesEnabled(!1),void P.setLosgsFinishedAccessories(P.losgsFinishedAccessories.concat([f||P.getLosgId()]));var o=e[p.skuId].accessories,r=e[p.skuId].filters,s=de.indexOf("Cases")>-1?null===(n=D()(r,{key:"Cases"}))||void 0===n?void 0:n.offerIds[0]:void 0,l=de.indexOf("Screen-Protectors")>-1?null===(a=D()(r,{key:"Screen-Protectors"}))||void 0===a?void 0:a.offerIds[0]:void 0,u=de.indexOf("Chargers")>-1?null===(i=D()(r,{key:"Chargers"}))||void 0===i?void 0:i.offerIds[0]:void 0,h=[],b={};for(r.filter((function(e){return"Cases"!==e.key&&"Screen-Protectors"!==e.key&&"Chargers"!==e.key&&de.indexOf(e.key)>-1})).forEach((function(e){e.offerIds.length>0&&(b[e.key]=e.offerIds[0])})),s&&h.push(s),l&&h.push(l),u&&h.push(u);h.length<3&&0!==m()(b).length;)h.push(Qe(b));var v=h.filter((function(e){return void 0!==e})).map((function(e){return D()(o,{productId:e})})).filter((function(e){return!!e}));if(!v.length)return t.setIsAccessoriesEnabled(!1),void P.setLosgsFinishedAccessories(P.losgsFinishedAccessories.concat([f||P.getLosgId()]));var y=v.map((function(e){return!!e&&new d.a((function(t,n){var a=new Image;a.src=e.masterImageUrl,a.onload=t(),a.onerror=n()}))}));d.a.all(y).then((function(){je&&B(!1)})),v.forEach((function(e){if(e){var t={accessoryname:Object(V.t)(e.name),accessoryprice:c()(e.price).toFixed(2)};e.cmsContent={open:{name:Object(V.nb)(j()(g,"".concat(A,".accOptionName"),I.c.accessories.accOptionName),t),price:Object(V.nb)(j()(g,"".concat(A,".accOptionPrice"),I.c.accessories.accOptionPrice),t)},collapsed:{name:Object(V.nb)(j()(g,"".concat(A,".accOptionNameCollapsed"),I.c.accessories.accOptionNameCollapsed),t),price:Object(V.nb)(j()(g,"".concat(A,".accOptionPriceCollapsed"),I.c.accessories.accOptionPriceCollapsed),t)},imgAlt:Object(V.nb)(j()(g,"".concat(A,".accOptionImageAlt"),I.c.accessories.accOptionImageAlt),t)}}})),ae(v)}},Qe=function(e){var t=m()(e);if(t.length>0){if(de.indexOf("Headphones")>-1&&e.Headphones){var n=e.Headphones;return delete e.Headphones,n}var a=F()(0,t.length-1),i=e[t[a]];return delete e[t[a]],i}},qe=function(t){var n=j()(t,"accessoriesSummaryList"),a=j()(t,"filters[0].items"),i=[];n&&n.length&&n.forEach((function(t){var n={};if(t){if(n.name=j()(t,"product.childSkus[0].displayName"),n.price=j()(t,"product.childSkus[0].pricing.msrp"),"number"===typeof n.price)try{n.price=n.price.toFixed(2)}catch(e){}if(n.listPrice=j()(t,"product.childSkus[0].pricing.listPrice"),"number"===typeof n.listPrice)try{n.listPrice=n.listPrice.toFixed(2)}catch(e){}n.brand=j()(t,"product.manufacturer"),n.productId=t.offerId,n.skuId=j()(t,"product.childSkus[0].skuId"),n.billCode=j()(t,"product.childSkus[0].billingInfo.billCode"),n.description=j()(t,"product.longDescription"),n.imageUrl=j()(t,"product.childSkus[0].mediaTypes.images.masterImageUrl"),n.imageUrlHiRes=n.imageUrl,n.masterImageUrl=n.imageUrl,n.numOfStarReviews=j()(t,"product.childSkus[0].reviewRatings.reviewCount"),n.starRatings=j()(t,"product.childSkus[0].reviewRatings.starRating"),n.color=j()(t,"product.childSkus[0].color"),n.accessorySubCategory=j()(t,"product.accessoryType"),i.push(n)}}));var o={};return o[p.skuId]={accessories:i,filters:a},o},We=function(){var e="",t="";if(oe.length>0){var n={accessoriestotalprice:oe.map((function(e){return c()(e.price)})).reduce((function(e,t){return e+t})).toFixed(2),accessoriestotalpricestrike:oe.map((function(e){return c()(e.listPrice)})).reduce((function(e,t){return e+t})).toFixed(2)};e=Object(V.nb)(j()(g,"".concat(A,".accTotalPrice"),I.c.accessories.accTotalPrice),n),t=Object(V.nb)(j()(g,"".concat(A,".accTotalPriceStrike"),I.c.accessories.accTotalPriceStrike),n)}me(e),be(t)},Ge=function(){var e=oe.map((function(e){return e.skuId})),t=ce.map((function(e){return e.skuId})),n=H()(e,t),a=H()(t,e);n.length>0||a.length>0?ee(!0):ee(!1)},ze=function(e){var t=e.rex,n=e.clickedType,a={linkDestinationUrl:Object(V.r)(Ne),linkPosition:"Accessories configuration","page.location.url":"/buy/phones/config"};oe.find((function(e){return e.productId===t.productId}))?(re(oe.filter((function(e){return e.productId!==t.productId}))),a.linkName="".concat(t.name," - ").concat(n," - deselect - Accessories Bundles")):(re([].concat(Object(r.a)(oe),[t])),a.linkName="".concat(t.name," - ").concat(n," - select - Accessories Bundles")),N.fireLinkClickEvent(a)},Ze=function(e){var t=c()(j()(e,"fANDiscountAmount",!1)),n={accessorylistprice:c()(e.listPrice).toFixed(2)};return t>0?(Ae.current||(Ae.current=!0),Object(V.nb)(j()(g,"".concat(A,".accOptionRibbonIRU"),I.c.accessories.accOptionRibbonIRU),n)):c()(e.price)<c()(e.listPrice)?Object(V.nb)(j()(g,"".concat(A,".accOptionRibbon"),I.c.accessories.accOptionRibbon),n):void 0},Xe=function(e){var t=c()(j()(e,"fANDiscountAmount",!1)),a={fanorgname:n,fanorgdiscount:i};return t>0?Object(V.nb)(j()(g,"".concat(A,".accOptionRibbonIRUTooltip"),I.c.accessories.accOptionRibbonIRUTooltip),a):void 0},Ke=function(e){var t="".concat(I.c.configView.pscCMSFeedRootPath,".fan.master.signature"),n=j()(g,t),a=n||z.a.signature,i=void 0;return a.map((function(t){var n=j()(t,"master.fanID");U()(n,e)&&(i=t)})),i?{ribbionText:j()(i,"pageContent.master.accessoriesHeading"),icon:Ye(j()(i,"icon"))}:void 0},Ye=function(e){var t=window.location.origin+e;return fetch(t)},Je=function(){var e=Ke(s),t={ribbionText:I.c.accessories.accGlobalRibbionDefault,icon:G.a};return e?(t.ribbionText=e.ribbionText,t.icon=e.icon):n===I.c.FriendlyFanName.Army||n===I.c.FriendlyFanName.Vets?t.ribbionText=I.c.accessories.accGlobalRibbonMilitary:n===I.c.FriendlyFanName.FirstResponders?t.ribbionText=I.c.accessories.accGlobalRibbonFirstResponders:n===I.c.FriendlyFanName.Nurses?t.ribbionText=I.c.accessories.accGlobalRibbonMedical:n===I.c.FriendlyFanName.Teachers&&(t.ribbionText=I.c.accessories.accGlobalRibbonTeachers),t.ribbionText=Object(V.nb)(t.ribbionText,{fanorgdiscount:i}),t}(),$e=K&&(pe.globalRibbonPromo&&!Ae.current&&3===ne.length||i),et=i&&i>=30;return X(y.a.Fragment,null,$e&&!et&&X("div",{onClick:et?void 0:De,className:"jsx-3721724687 "+"color-ui-black text-right pad-l-xs pad-r-xxs ".concat(_.globalRibbon)},X("div",{style:{justifyContent:"flex-end"},className:"jsx-3721724687 type-sm font-medium uppercase mar-r-xxs flex"},X("div",{style:{alignItems:"center",display:"flex"},className:"jsx-3721724687"},X("div",{className:"jsx-3721724687 row-nowrap"},X("div",{className:"jsx-3721724687 pad-r-xxs pad-l-sm"},et?X(q.a,{icon:Je.icon,size:"16px"}):null),et?Je.ribbionText:pe.globalRibbonPromo,!1)))),X(Z.a,{dataQa:l,style:$e&&!et?{borderTop:"0px",borderRadius:"0px 0px 14px 14px",padding:"16px 16px 24px",marginTop:"0px"}:{},label:pe.header,description:pe.description,descriptionWhenSelected:!1,collapsedContentColumn:!0,collapsedContent:X(y.a.Fragment,null,E&&X("div",{className:"jsx-3721724687 flex justify-between"},X(O.a,{height:"28px",width:"280px"}),X(O.a,{height:"28px",width:"70px"})),!E&&X(y.a.Fragment,null,0===ce.length&&X("div",{className:"jsx-3721724687 type-base font-bold"},pe.collapsedNoSelection),ce.length>0&&ce.map((function(e){return!!e&&!!e.cmsContent&&!!e.cmsContent.collapsed&&X("div",{key:"".concat(e.skuId,"-collapsed-item"),className:"jsx-3721724687 "+"flex justify-between color-ui-black type-base mar-t-xxs ".concat(_.firstMargin)},X("div",{className:"jsx-3721724687 mar-r-xxs font-bold"},e.cmsContent.collapsed.name),X("div",{className:"jsx-3721724687"},X("span",{className:"jsx-3721724687 type-sm font-medium"},"+"===e.cmsContent.collapsed.price.charAt(0)?"+":""),X("span",{className:"jsx-3721724687 font-bold"},e.cmsContent.collapsed.price.replace("+",""))))})))),content:X(y.a.Fragment,null,X("div",{className:"jsx-3721724687 mar-t-sm mar-b-lg-sm mar-b-sm-lg"},E&&X("div",{className:"jsx-3721724687 flex justify-between"},X("div",{className:"jsx-3721724687 rex-img-placeholder"},X(O.a,{height:"300px",width:"100%"})),X("div",{className:"jsx-3721724687 rex-img-placeholder"},X(O.a,{height:"300px",width:"100%"})),X("div",{className:"jsx-3721724687 rex-img-placeholder"},X(O.a,{height:"300px",width:"100%"}))),!E&&X("div",{className:"jsx-3721724687 "+"flex ".concat(3===ne.length?"justify-between":"")},ne.map((function(e){if(e){var t=j()(e,"imageUrl"),n=j()(e,"masterImageUrl")?"".concat(j()(e,"masterImageUrl"),"?imwidth=219"):t,a=Object(V.J)(n,t),i=oe.find((function(t){return!!t&&t.productId===e.productId}));return X("div",{key:"".concat(e.skuId,"-img"),onClick:function(){return ze({rex:e,clickedType:"img"})},className:"jsx-3721724687 "+"rex-img ".concat(i?"rex-img-selected":""," bg-ui-white")},X("div",{className:"jsx-3721724687 flex justify-center flex-items-center"},X("img",{src:a,alt:e.cmsContent.imgAlt,className:"jsx-3721724687"})))}})))),X("div",{className:"jsx-3721724687"},E&&X(y.a.Fragment,null,X("div",{style:{paddingBottom:"24px"},className:"jsx-3721724687"},X(O.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),X(O.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),X(O.a,{height:"60px",width:"100%",innerClass:"mar-b-md"}),X(O.a,{height:"24px",width:"72px",innerClass:"mar-b-xxs"}),X(O.a,{height:"28px",width:"84px"}))),!E&&X(y.a.Fragment,null,X("div",{style:{marginBottom:"24px"},className:"jsx-3721724687"},ne.map((function(e){return!!e&&!!e.cmsContent&&!!e.cmsContent.open&&X(T.a,{key:"".concat(e.skuId,"-checkbox"),id:e.skuId,name:"accessories",ribbonText:Ze(e),ribbonTooltip:Xe(e),value:e.skuId,isChecked:oe.find((function(t){return!!t&&t.productId===e.productId})),clickFunction:ze,clickFunctionParams:{rex:e,clickedType:"checkbox"},dataQa:"".concat(l,"-checkbox"),icon:Je.icon,fanHasGreaterDiscount:et},X("div",{className:"jsx-3721724687 flex justify-between type-base"},X("div",{className:"jsx-3721724687 mar-r-xxs"},e.cmsContent.open.name),X("div",{className:"jsx-3721724687 font-bold"},X("span",{className:"jsx-3721724687 type-sm font-medium"},"+"),e.cmsContent.open.price.replace("+",""))))}))),""!==ge&&ge!==fe&&X("div",{className:"jsx-3721724687 color-ui-gray strikethrough type-sm"},ge),""!==fe&&X("div",{className:"jsx-3721724687 color-ui-black font-bold type-md"},X("span",{className:"jsx-3721724687 font-medium"},"+"),fe))),(!pe.globalRibbonPromo||Ae.current||ne.length<3)&&X("div",{className:"jsx-3721724687 type-xs"},pe.applicableDiscounts),pe.globalRibbonPromo&&!Ae.current&&pe.globalRibbonLegalText&&3===ne.length&&X("div",{className:"jsx-3721724687 type-xs"},X("span",{dangerouslySetInnerHTML:{__html:pe.globalRibbonLegalText},className:"jsx-3721724687"}),X("span",{className:"jsx-3721724687"}," "),X("a",{onClick:De,style:{textDecoration:"underline",cursor:"pointer",color:"inherit"},className:"jsx-3721724687"},pe.globalRibbonShortLegalLinkLabel)),X("div",{style:{paddingTop:"24px"},className:"jsx-3721724687"},X("button",{onClick:function(){var e,n,a,i;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(e=oe.map((function(e){return e.skuId})),n=ce.map((function(e){return e.skuId})),a=[],i=[],ce.forEach((function(t){if(t&&-1===e.indexOf(t.skuId)){var n=null;P&&o()(P.selectedAccessories)&&P.prepaidFlow&&P.selectedAccessories.map((function(e){e&&e.productSKU===t.skuId&&-1===i.indexOf(e.id)&&(n=e.id,i.push(n))})),a.push({action:"REMOVE",linkName:pe.ctaAddLabel,losgId:f||P.getLosgId(),name:t.name,price:t.price,productId:t.productId,skuId:t.skuId,itemId:n})}})),oe.forEach((function(e){-1===n.indexOf(e.skuId)&&a.push({action:"ADD",linkName:pe.ctaAddLabel,losgId:f||P.getLosgId(),name:e.name,price:e.price,productId:e.productId,skuId:e.skuId})})),!(a.length>0)){r.next=13;break}return r.next=9,u.a.awrap(P.modifyAccessoriesInCart(a));case 9:r.sent?le(oe):P.prepaidFlow&&P.openAddToCartErrorModal(),r.next=14;break;case 13:le(oe);case 14:(Object(V.ab)()||U()(P.losgsFinishedAccessories,t.editLosgId))&&t.setExpandedConfigAccordion(null);case 15:case"end":return r.stop()}}),null,null,null,d.a)},"data-qa":"".concat(l,"-ctaAdd"),disabled:!$,className:"jsx-3721724687 btn btn-primary-2 btn-small btn-full-width mar-b-xs"},pe.ctaAddLabel),X("button",{onClick:function(){var e,n,a;return u.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(0!==ce.length){i.next=6;break}e={linkDestinationUrl:Object(V.r)(Ne),linkName:pe.ctaCancelLabel,linkPosition:"Accessories configuration","page.location.url":"/buy/phones/config"},N.fireLinkClickEvent(e),re([]),i.next=12;break;case 6:return n=[],a=ce.map((function(e){if(e&&P){var t=null;return P.selectedAccessories.map((function(a){a&&a.productSKU===e.skuId&&-1===n.indexOf(a.id)&&(t=a.id,n.push(t))})),{action:"REMOVE",linkName:pe.ctaCancelLabel,losgId:f||P.getLosgId(),name:e.name,price:e.price,productId:e.productId,skuId:e.skuId,itemId:t}}})),i.next=10,u.a.awrap(P.modifyAccessoriesInCart(a));case 10:i.sent?(le([]),re([])):P.prepaidFlow&&P.openAddToCartErrorModal();case 12:P.setLosgsFinishedAccessories(P.losgsFinishedAccessories.concat([f||P.getLosgId()])),(Object(V.ab)()||U()(P.losgsFinishedAccessories,t.editLosgId))&&t.setExpandedConfigAccordion(null),t.isPlanFirstMode&&Y(!1);case 15:case"end":return i.stop()}}),null,null,null,d.a)},"data-qa":"".concat(l,"-ctaCancel"),className:"jsx-3721724687 btn btn-secondary btn-small btn-full-width"},pe.ctaCancelLabel))),isUpcoming:!t.isAccessoriesSelected&&!t.isAccessoriesEnabled||t.isAccessoriesEnabled&&t.isInsuranceEnabled&&!t.isInsuranceSelected,isCollapsed:!K,isSelected:t.isAccessoriesSelected,collapseEnabled:t.isAccessoriesSelected||!K,onAccordionClick:function(){"ACCESSORIES"===t.expandedConfigAccordion?t.setExpandedConfigAccordion(null):t.setExpandedConfigAccordion("ACCESSORIES");var e={linkDestinationUrl:Object(V.r)(Ne),linkName:"".concat(K?"Collapse":"Expand"," - Accessories Bundles"),linkPosition:"Accessories configuration","page.location.url":"/buy/phones/config"};N.fireLinkClickEvent(e)}}),X(L.default,{isOpen:Te,onRequestClose:Re,modalContainerClassName:"banner-legal-borders",modalContentClassName:"modal-content pad-l-md pad-r-md pad-b-none type-base",modalCloseClassName:"close-button no-border",modalHeaderClassName:"font-medium color-black",modalTextClassName:"type-legal pad-t-sm",header:"".concat(Pe.current),width:6},X("div",{dangerouslySetInnerHTML:{__html:Me.current},className:"jsx-3721724687"}),X(w.c,{dataQa:"".concat(t.dataQa,"-CloseButton"),events:{onClick:Re},buttonConfig:{disabled:!1,primary:!0,type:[w.b.Text]},className:"btn btn-small btn-full-width mar-t-md mar-b-md ".concat(_.ribbonLegalCloseButton)},pe.accLegalCtaClose)),X(b.a,{id:"3721724687"},[".rex-img.jsx-3721724687,.rex-img-placeholder.jsx-3721724687{position:relative;width:30%;height:0;padding-bottom:30%;overflow:hidden;border-radius:3px;}",".rex-img.jsx-3721724687{cursor:pointer;}",".rex-img.jsx-3721724687:not(:first-child){margin-left:24px;}",".rex-img.jsx-3721724687 div.jsx-3721724687{position:absolute;left:2px;right:2px;top:2px;bottom:2px;overflow:hidden;}",".rex-img.jsx-3721724687 div.jsx-3721724687 img.jsx-3721724687{max-height:100%;}",".rex-img-selected.jsx-3721724687{box-shadow:inset 0px 0px 0px 2px #0057b8;box-sizing:border-box;}",".btn-primary-2.jsx-3721724687:hover{border-color:#0057b8;box-shadow:0px 5px 11px rgba(0,0,0,0.25);-webkit-transition:none;transition:none;}",".btn-secondary.jsx-3721724687:hover{box-shadow:0px 5px 11px rgba(0,0,0,0.25);background-color:transparent;color:#1d2329;}"]))};n.a=K},dCWH:function(t,n,a){"use strict";var i=a("MX0m"),o=a.n(i),r=a("q1tI"),s=a.n(r),c=a("pbKT"),l=a.n(c),d=a("eVuF"),p=a.n(d),u=a("ln6h"),f=a.n(u),m=a("0iUn"),h=a("sLSF"),g=a("AT/M"),b=a("Tit0"),v=a("MI3g"),y=a("a7VT"),C=a("PIkj"),x=a("vyOo"),k=a("AGoX"),S=a("Qn6F"),I=a("98cJ"),O=a("xr5b"),w=a("eI37"),T=a("zm1R"),L=a("jXxo"),N=a("PoZn"),j=r.createElement;function P(t){var n=function(){if("undefined"===typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(y.a)(t);if(n){var i=Object(y.a)(this).constructor;e=l()(a,arguments,i)}else e=a.apply(this,arguments);return Object(v.a)(this,e)}}var M=function(e){Object(b.a)(n,e);var t=P(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={offerTitle:"",offerSubheading:"",offerDescription:"",offerImage:"",offerLegal:""},a.setStateWithOfferDetails=a.setStateWithOfferDetails.bind(Object(g.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e=this;O.a.getOfferContent(this.props.data.offerId).then((function(t){e.setStateWithOfferDetails(t)}))}},{key:"setStateWithOfferDetails",value:function(e){this.setState({offerTitle:e.offername,offerSubheading:e.offerkey,offerDescription:e.shorttext,offerImage:"",offerLegal:e.longtext})}},{key:"render",value:function(){return j(T.b,{className:"rel nopad"},j(T.d,{className:"flex flex-items-stretch flex-column-sm"},j(T.a,{widthSm:12,width:8},j("div",{className:"jsx-2872593988 "+(S.offerContent||"")},j("h2",{dangerouslySetInnerHTML:{__html:this.state.offerTitle},className:"jsx-2872593988 "+(S.offerTitle||"")}),j("p",{dangerouslySetInnerHTML:{__html:this.state.offerSubheading},className:"jsx-2872593988 "+(S.offerDescriptionSmall||"")}),j("span",{dangerouslySetInnerHTML:{__html:this.state.offerDescription},className:"jsx-2872593988 "+(S.offerDescription||"")}))),j(T.a,{widthSm:12,width:4,className:"flex flex-items-center justify-center"},j("div",{className:"jsx-2872593988 full-width"},j(L.a,{imageProps:{src:this.props.data.imgUrl,alt:"Special Offer Device",placeholder:j(N.a,null)},shouldLazyLoad:!1})))),j(T.d,null,j(T.a,{className:"justify-center",widthSm:12},j("section",{className:"jsx-2872593988 "+(S.legalAccordion||"")},j(I.b,{title:"Legal",id:"specialOffersLegal",url:"",dataQa:"specialOffersLegal-Accordion"},j("div",{dangerouslySetInnerHTML:{__html:this.state.offerLegal},className:"jsx-2872593988 "+(S.offerLegal||"")}))))),j(T.d,null,j(T.a,{className:"justify-center flex",widthSm:12},j(w.c,{dataQa:"specialOffersModal",events:{onClick:this.props.data.closeModal},buttonConfig:{primary:!0,type:[w.b.Large,w.b.Short]}},"Continue"))),j(o.a,{id:"2872593988"},[".full-width.jsx-2872593988{height:330px;}"]))}}]),n}(r.Component),A=a("YSed"),D=a("8bTO"),R=r.createElement;function F(t){var n=function(){if("undefined"===typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(y.a)(t);if(n){var i=Object(y.a)(this).constructor;e=l()(a,arguments,i)}else e=a.apply(this,arguments);return Object(v.a)(this,e)}}var E=function(e){Object(b.a)(n,e);var t=F(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={activeOfferId:"",listOfOffers:[],specialOffersModalOpen:!1},a.openSpecialOffersModal=a.openSpecialOffersModal.bind(Object(g.a)(a)),a.closeSpecialOffersModal=a.closeSpecialOffersModal.bind(Object(g.a)(a)),a.populateListOfOffers=a.populateListOfOffers.bind(Object(g.a)(a)),a}return Object(h.a)(n,[{key:"componentDidMount",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if("prepaid"===this.props.data.paymentType){t.next=5;break}return t.next=3,f.a.awrap(this.populateListOfOffers(this.props.data.skuId).then((function(e){return e})));case 3:e=t.sent,this.setState({listOfOffers:e||[]});case 5:case"end":return t.stop()}}),null,this,null,p.a)}},{key:"componentDidUpdate",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.props.data.skuId===e.data.skuId||"prepaid"===this.props.data.paymentType){n.next=5;break}return n.next=3,f.a.awrap(this.populateListOfOffers(this.props.data.skuId).then((function(e){return e})));case 3:t=n.sent,this.setState({listOfOffers:t||[]});case 5:case"end":return n.stop()}}),null,this,null,p.a)}},{key:"openSpecialOffersModal",value:function(e){this.setState({activeOfferId:e,specialOffersModalOpen:!0})}},{key:"closeSpecialOffersModal",value:function(){this.setState({specialOffersModalOpen:!1})}},{key:"populateListOfOffers",value:function(e){var t=this;this.props.onOffersApiComplete(!1);var n=[],a={};return A.a.getOffers(e).then((function(e){if(e&&e.methodReturnValues)return e.methodReturnValues.forEach((function(e,i){var o=e.offerDisplayName||e.description;"modal"!==(e.displayType||"")&&void 0===a[o]&&(a[o]=e.offerId,t.props.onOffersApiComplete(!0),n.push(R(r.Fragment,null,R("p",{className:C.offerMessageParagraph,"data-offerId":e.offerId,key:i},R(x.a,{events:{onClick:function(){return t.openSpecialOffersModal(e.offerId)}},dataQa:"SpecialOffers-offerLink",className:C.offerMessage,href:"#",reportingLinkUrl:"/products/offers/".concat(e.offerId,"/modal/")},o,R("span",{className:[D.attIcon,D.attIconStraightArrowRight,C.specialOffersArrow].join(" ")}))))))})),n.slice(0,2)}))}},{key:"render",value:function(){return R(r.Fragment,null,this.state.listOfOffers.length>0&&R("div",null,R("div",{className:C.listOfOffers},this.state.listOfOffers),"undefined"!==typeof document&&R(k.default,{isOpen:this.state.specialOffersModalOpen,onRequestClose:this.closeSpecialOffersModal},R(M,{data:{closeModal:this.closeSpecialOffersModal,imgUrl:this.props.data.imgUrl,offerId:this.state.activeOfferId}}))))}}]),n}(r.Component),U=a("ACOC"),B=a("kksn"),H=r.createElement;function V(t){var n=function(){if("undefined"===typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(y.a)(t);if(n){var i=Object(y.a)(this).constructor;e=l()(a,arguments,i)}else e=a.apply(this,arguments);return Object(v.a)(this,e)}}var _=function(e){Object(b.a)(n,e);var t=V(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={offerLegal:"",offerSubheading:"",offerTitle:""},a.setStateWithOfferDetails=a.setStateWithOfferDetails.bind(Object(g.a)(a)),a}return Object(h.a)(n,[{key:"cmsOffersModalContent",value:function(){return H(r.Fragment,null,H("h2",{className:B.offerTitle,dangerouslySetInnerHTML:{__html:this.state.offerTitle}}),H("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:this.state.offerLegal}}))}},{key:"componentDidMount",value:function(){var e=this;O.a.getCmsOfferLegal(this.props.data.cmsLegalPath).then((function(t){e.setStateWithOfferDetails(t)}))}},{key:"setStateWithOfferDetails",value:function(e){this.setState({offerLegal:e.longtext,offerSubheading:e.shorttext,offerTitle:e.offername})}},{key:"render",value:function(){return H(r.Fragment,null,this.cmsOffersModalContent())}}]),n}(r.Component),Q=r.createElement;function q(t){var n=function(){if("undefined"===typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(y.a)(t);if(n){var i=Object(y.a)(this).constructor;e=l()(a,arguments,i)}else e=a.apply(this,arguments);return Object(v.a)(this,e)}}var W=function(e){Object(b.a)(n,e);var t=q(n);function n(e){var a;return Object(m.a)(this,n),(a=t.call(this,e)).state={cmsLegalPath:"",cmsOffersModalOpen:!1,listOfOffers:[]},a.openCmsOffersModal=a.openCmsOffersModal.bind(Object(g.a)(a)),a.closeCmsOffersModal=a.closeCmsOffersModal.bind(Object(g.a)(a)),a.populateListOfOffers=a.populateListOfOffers.bind(Object(g.a)(a)),a.getCmsOfferCustomerType=a.getCmsOfferCustomerType.bind(Object(g.a)(a)),a}return Object(h.a)(n,[{key:"componentWillMount",value:function(){var e;return f.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:e=this.populateListOfOffers(this.props.data.cmsOffersContent,this.props.data.customerProfile),this.setState({listOfOffers:e||[]});case 2:case"end":return t.stop()}}),null,this,null,p.a)}},{key:"componentDidUpdate",value:function(e){var t;return f.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:this.props.uniqueURLName!==e.uniqueURLName&&(t=this.populateListOfOffers(this.props.data.cmsOffersContent,this.props.data.customerProfile),this.setState({listOfOffers:t||[]}));case 2:case"end":return n.stop()}}),null,this,null,p.a)}},{key:"openCmsOffersModal",value:function(e,t,n){!0===e?this.setState({cmsLegalPath:n,cmsOffersModalOpen:!0}):!1===e&&""!==t&&(window.location.href=t)}},{key:"closeCmsOffersModal",value:function(){this.setState({cmsOffersModalOpen:!1})}},{key:"getCmsOfferCustomerType",value:function(e){var t=[];return e&&e.master&&!0===e.master.smbOffer&&t.push("CRU"),e&&e.master&&!0===e.master.iruOffer&&t.push("IRU"),e&&e.master&&!0===e.master.consumerOffer&&t.push("CON"),t}},{key:"checkCustomerType",value:function(e,t){return this.getCmsOfferCustomerType(e).includes(t.customerType)}},{key:"populateListOfOffers",value:function(e,t){var n=this;if(!e)return null;var a=[],i=!0,o="";return e&&e.master&&e.master.offerContainers&&e.master.offerContainers.forEach((function(e,r){var s=n.checkCustomerType(e,t);e&&e.master&&e.master.heading&&!0===e.master.showOffer&&!0===s&&(e.master.linkType&&e.master.linkURL&&"link"===e.master.linkType&&""!==e.master.linkURL&&(i=!1,o=e.master.linkURL),a.push(Q("p",{className:U.offerMessageParagraph,"data-offerId":e.offerId,key:r},Q(x.a,{events:{onClick:function(){return n.openCmsOffersModal(i,o,e.master.legal)}},dataQa:"CmsOffers-offerLink",className:U.offerMessage,href:"#"},e.master.heading,Q("span",{className:[D.attIcon,D.attIconStraightArrowRight,U.cmsOffersArrow].join(" ")})))))})),a}},{key:"render",value:function(){return Q(r.Fragment,null,this.state.listOfOffers.length>0&&Q("div",null,"undefined"!==typeof document&&Q(r.Fragment,null,Q("div",{className:U.listOfOffers},this.state.listOfOffers),Q(k.default,{isOpen:this.state.cmsOffersModalOpen,onRequestClose:this.closeCmsOffersModal},Q(_,{data:{closeModal:this.closeCmsOffersModal,cmsLegalPath:this.state.cmsLegalPath}})))))}}]),n}(r.Component),G=a("U/e8"),z=s.a.createElement;n.a=function(e){var t=e.selectedSku,n=e.onShouldShowRibbon,a=e.deviceType,i=e.cmsData,c=e.customerProfile,l=e.hasCmsOffers,d=Object(r.useState)(""),p=d[0],u=d[1],f=Object(r.useState)(!1),m=f[0],h=f[1];return Object(r.useEffect)((function(){return function(){sessionStorage.getItem("offerId")?u(sessionStorage.getItem("offerId")):sessionStorage.getItem("offerBOGOid")&&u(sessionStorage.getItem("offerBOGOid"))}}),[]),Object(r.useEffect)((function(){n(m)}),[m]),""===p||i&&!t.effectiveOutOfStock&&!t.isEndOfSku?z("section",{className:"jsx-1863495496"},(l||m)&&z("div",{id:"specialOffersSection",className:"jsx-1863495496 offers block grad-purple-cobalt-135 color-ui-white text-center line-h-lg mar-b-xs"},"Special Offers"),""===p&&z(s.a.Fragment,null,z(E,{data:{imgUrl:Object(G.f)(t),skuId:t.skuId,paymentType:t.paymentType},onOffersApiComplete:h}),z(W,{data:{cmsOffersContent:i,customerProfile:c},deviceType:a,uniqueURLName:t.uniqueURLName})),z(o.a,{id:"1863495496"},[".offers.jsx-1863495496{width:100%;height:24px;font-size:14px;font-weight:600;}"])):null}},esNE:function(e,t,n){"use strict";var a=n("MX0m"),i=n.n(a),o=n("q1tI"),r=n.n(o),s=r.a.createElement;t.a=function(e){var t=Object(o.useRef)(null);return Object(o.useEffect)((function(){e.selected&&setTimeout((function(){var e;return null===t||void 0===t?void 0:null===(e=t.current)||void 0===e?void 0:e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}),100)}),[e.selected]),s(r.a.Fragment,null,s("button",{ref:t,"data-qa":"".concat(e.dataQa,"-plangroup"),value:e.tabKey,onClick:function(t){return e.onClick(t.target.value,e.firstPlanIndex)},className:"jsx-1088397063 "+"border-none nowrap radius-md font-medium type-sm line-h-xxl pad-r-xxs pad-l-xxs \n                            ".concat(e.selected?"bg-ui-black color-ui-white":"color-ui-black bg-transparent","\n                            ").concat(e.lastButton?"":"mar-r-xxs","\n                          ")},e.displayValue),s(i.a,{id:"1088397063"},["button.radius-md.jsx-1088397063{border-radius:0.4rem;}","nowrap.jsx-1088397063{white-space:nowrap;}"]))}},gYoK:function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var a=n("hfKm"),i=n.n(a),o=n("2Eek"),r=n.n(o),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),d=n.n(l),p=n("4mXO"),u=n.n(p),f=n("pLtp"),m=n.n(f),h=n("6BQ9"),g=n.n(h),b=n("vYYK"),v=n("MX0m"),y=n.n(v),C=n("q1tI"),x=n.n(C),k=n("JNjH"),S=n("lZBS"),I=n("U/e8"),O=n("ZSdl"),w=n("zh2Y"),T=n("cq7Z"),L=n("mwIZ"),N=n.n(L),j=n("ijCd"),P=n.n(j),M=n("kMre"),A=x.a.createElement;function D(e,t){var n=m()(e);if(u.a){var a=u()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}function R(e){var t=e.selectedSku,n=e.dataQa,a=e.configView,o=e.tradeInConsented,s=e.portInConsented,l=e.nextUpConsented,p=e.hylaOfferCodeRetrieved,u=e.onLegalClick,f=e.onOfferClick,m=x.a.useContext(k.a),h=m.priceOptions,v=0;({})[t.skuId]=h[t.skuId];var L,j=Object(C.useState)(!!a),R=j[0],F=j[1],E=function(){var e=[];return h[t.skuId]&&h[t.skuId].map((function(n,a){if(!n.monthlyNextUpCharge&&(!t.isDeviceSim||"24"!==n.name)){var o={priceIndex:a};1!==n.termLength&&24!==n.termLength&&N()(h,"[".concat(t.skuId,"][").concat(m.selectedPricingIndex,"].termLength"))===n.termLength&&(v=a),e.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?r()(e,c()(n)):D(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}({},o,{},n))}})),e}(),U=null===t.deviceType,B=Object(I.g)(m.getNonNextupPriceOption(),m,!0,!1);m&&m.priceOptions&&m.selectedSku&&m.selectedSku.skuId&&(L=m.priceOptions[m.selectedSku.skuId]);var H="";return L&&m&&(m.selectedPricingIndex||m.selectedPricingIndex+1)&&(H=N()(L[m.selectedPricingIndex],"displayName",""),H=P()(H,"*")?H.replace("*",""):H),A(x.a.Fragment,null,m.priceOptions[m.selectedSku.skuId]&&m.priceOptions[m.selectedSku.skuId][m.selectedPricingIndex]&&A(x.a.Fragment,null,E.length>1&&A(M.a,{dataQa:n,aria:m.priceOptions[m.selectedSku.skuId][m.selectedPricingIndex].priceOptionHeading,label:m.priceOptions[m.selectedSku.skuId][m.selectedPricingIndex].priceOptionHeading,collapsedContent:A(x.a.Fragment,null,A("span",{dangerouslySetInnerHTML:{__html:H.replace("with Next Up<sup>SM</sup>","")},className:"jsx-3133634532 type-base mar-r-xxs font-bold"}),A("div",{className:"jsx-3133634532 margin-left-auto"},A("span",{className:"jsx-3133634532 type-base text-right font-bold"},"".concat(B.displayPrefix+B.displayPrice)),A("span",{className:"jsx-3133634532 type-sm font-bold"},B.displaySuffix))),content:A(S.c,{id:"pricingTermsSelection",ariaLabel:m.priceOptions[m.selectedSku.skuId][m.selectedPricingIndex].priceOptionHeading,ariaExpanded:!R,onChange:function(e){0===h[t.skuId][g()(e)].leaseTotalMonths&&m.setIsTradeInSelected(!1),m.updateSelectedContractTerm(g()(e),!0)},defaultSelection:m.selectedPricingIndex===(m.nextUpContent&&m.nextUpContent.nextUpIndex)?v:m.selectedPricingIndex,dataQa:n},A("div",{className:"jsx-3133634532 flex flex-column"},E.map((function(e){return A(S.b,{value:e.priceIndex,name:e.commitmentTermId,inputName:"priceOptionLabel",id:e.commitmentTermId,ariaLabel:e.displayName,ariaControls:e.priceIndex,ariaHidden:R,options:{fullWidth:!0,noTopMar:E[0]===e,zIndex:1,buttonClasses:"flex-column pad-xs"},dataQa:"".concat(n,"-").concat(e.commitmentTermId)},(function(n){return A(O.a,{isSelected:n,skuId:t.skuId,selectedSku:t,displayValue:e.displayName||e.name,displayPrice:Object(I.g)(e,m,!0),radioSubContent:function(e,t){return A(w.a,{isSelected:e,priceOption:t,onLegalClick:u,onOfferClick:f,isAccessory:U,radioButtonName:"priceOptionLabel"})}})}))})))),isCollapsed:R,isSelected:!0,collapseEnabled:!0,onAccordionClick:a?{pathname:"".concat(e.learnViewPath),state:{configScroll:"PRICEOPTION",configTradeIn:o,configPortIn:s,configNextUp:l,configHylaCode:p}}:function(){var e=new T.a,t={linkDestinationUrl:m.selectedSku.devicePageURL,linkName:"PricingOptions"+(R?"_Expand":"_Collapse"),linkPosition:"Body"};e.fireLinkClickEvent(t),F(!R)}})),A(y.a,{id:"3133634532"},[".margin-left-auto.jsx-3133634532{margin-left:auto;}",".configured-label.jsx-3133634532{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-3133634532{font-size:16px;}",".font-monthly.jsx-3133634532{font-size:14px;}",".pricing-prefix.jsx-3133634532{font-size:14px;}"]))}},gmAT:function(e,t,n){"use strict";var a=n("hfKm"),i=n.n(a),o=n("2Eek"),r=n.n(o),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),d=n.n(l),p=n("4mXO"),u=n.n(p),f=n("pLtp"),m=n.n(f),h=n("vYYK"),g=n("eVuF"),b=n.n(g),v=n("ln6h"),y=n.n(v),C=n("doui"),x=n("MX0m"),k=n.n(x),S=n("BTSr"),I=n("q1tI"),O=n.n(I),w=n("U/e8"),T=n("mwIZ"),L=n.n(T),N=n("BkRI"),j=n.n(N),P=n("ijCd"),M=n.n(P),A=n("1iNE"),D=n.n(A),R=n("Da3r"),F=n("D2J1"),E=n("NyZL"),U=n("+ob+"),B=n("lZBS"),H=n("ZSdl"),V=n("JNjH"),_=n("uVxl"),Q=n("OeK+"),q=I.createElement;function W(e){var t=I.useContext(V.a),n={fullprice:L()(t,"selectedContractTerm.msrp","")};return q(I.Fragment,null,q(_.a,{space:16,topSpace:16}),q("div",{className:"jsx-2264080265 text-align-left full-width mar-b-none"},q("ul",{className:"jsx-2264080265 insurance-feature-list"},e.details.map((function(e){var t=Object(w.nb)(L()(e,"master.description",""),n);return q("li",{key:e.master.ranking,className:"jsx-2264080265 "+"".concat(Q.detailFontSize," insurance-list-element")},t&&q("div",{dangerouslySetInnerHTML:{__html:t},className:"jsx-2264080265 color-ui-dark-gray font-regular"}))})))),q(k.a,{id:"2264080265"},[".break-word.jsx-2264080265{word-break:break-word;}","ul.insurance-feature-list.jsx-2264080265{list-style-type:disc;padding-left:16px;}","li.insurance-list-element.jsx-2264080265{margin:0 0 7px 0;}"]))}var G=I.createElement,z=function(e){var t=I.useContext(V.a),n=L()(e.insurance,"product.price.mrc",""),a={insuranceprice:""!==n?n.toFixed(2):"",insurancename:L()(e.insurance,"product.displayName","")},i="",o="",r="",s=a.insurancename;""!==a.insuranceprice&&(i=L()(e.plansContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.prefix"),R.c.insurance.insurancePrefix),o=Object(w.nb)(L()(e.plansContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.insurancePrice"),R.c.insurance.insurancePrice),a),r=L()(e.plansContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.suffix"),R.c.insurance.insuranceSuffix));var c=L()(e.plansContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.insurancesList"),[]),l=[];c.map((function(t){L()(t,"master.offerId",void 0)===e.insurance.offerId&&(l=L()(t,"master.shortDetailsExpanded",[]))}));var d=e.insurance&&e.insurance.offerId===R.c.insurance.insuranceNoThanksOfferId;return G(I.Fragment,null,G(B.b,{value:e.value,name:s,inputName:"insuranceLabel",id:s,options:{fullWidth:!0,noTopMar:0===e.value,buttonClasses:"flex-column pad-xs",zIndex:1},dataQa:"".concat(e.dataQa,"-insurance-details")},(function(n){return G(H.a,{isSelected:n,skuId:t.selectedSku.skuId,displayValue:s.replace("(SM)","<sup>SM</sup>"),hidePrice:""===o,displayPrice:{displayPrefix:i,displayPrice:o,displaySuffix:r},radioSubContent:function(t){if(!d)return G(W,{insurance:e.insurance,isSelected:t,details:l})},selectedSku:e.skuInContext,isInsurance:!0})})))},Z=n("BX1O"),X=n("eI37"),K=n("8bTO"),Y=(n("xLlQ"),n("ZoCa"),n("a6RD")),J=n.n(Y),$=n("AGoX"),ee=O.a.createElement;J()((function(){return b.a.resolve().then((function(){return n("zI6O")}))}),{loadableGenerated:{webpack:function(){return["zI6O"]},modules:["../../../../common/components/Tooltip"]}});function te(e){var t=e.planCmsContent,n=e.offerId,a=e.enrollHandler,i=e.cancelHandler,o=O.a.useState(null),r=Object(C.a)(o,2),s=r[0],c=r[1],l=O.a.useState(!0),d=Object(C.a)(l,2),p=d[0],u=d[1];O.a.useEffect((function(){s||f()}),[s,p]);var f=function(){if(t&&n){var e=L()(t["idp-cms-feed"],"productselectionconfig.contentFragments.insurance.master.insurancesList",[]);if(e.length){var a=e.find((function(e){return e.master.offerId===n}));a&&c(a)}}},m=L()(t["idp-cms-feed"],"productselectionconfig.contentFragments.insurance.master.insurancesList",[]),h=function(){i(),u(!1)};return s&&ee(O.a.Fragment,null,ee($.default,{header:function(){switch(n||L()(s,"master.offerId")){case"prod1040075":case"prod10350232":case"prod7950364":case"prod10350236":case"prod10350234":return ee("div",null,ee("h1",{className:"type-md color-ui-black mar-b-sm-lg"},ee("b",{style:{fontSize:"18px"}},L()(s,"master.legalIDP.master.legalShortPath.master.heading",R.c.insurance.insuranceMd5Header))));default:console.error("Unable to pull modal header.  Offer ID "+n+" not found.")}}(),isOpen:p,onRequestClose:h,modalContentClassName:"modal-content pad-l-md-lg pad-r-md-lg pad-b-sm-lg pad-b-lg-md pad-l-lg-sm pad-r-lg-sm pad-b-lg-sm",modalCloseClassName:"close-button no-border",width:6},function(){var e=n||L()(s,"master.offerId"),t="";switch(m.map((function(n){L()(n,"master.offerId")===e&&(t=L()(n,"master.legalIDP.master.legalShortPath.master.legalText",R.c.insurance.insuranceLegalText))})),e){case"prod1040075":case"prod10350232":case"prod7950364":case"prod10350236":case"prod10350234":return ee("div",{className:"break-word type-legal mar-b-none"},ee("div",{className:"".concat(Q.detailFontSize),style:{listStyle:"initial"},dangerouslySetInnerHTML:{__html:t}}));default:console.error("Unable to pull modal content.  Offer ID "+n+" not found.")}}(),ee("div",{className:"flex justify-center flex-wrap mar-t-xs"},ee(Z.a,{events:{onClick:h},buttonConfig:{disabled:!1,primary:!1,type:[X.b.GhostWhite]},className:"btn-small mar-r-xxs mar-l-xxs mar-t-xxs mar-b-xxs"},t?L()(t["idp-cms-feed"],"productselectionconfig.contentFragments.insurance.master.cancelInsuranceLabel",R.c.insurance.insuranceMd5NoCta):R.c.insurance.insuranceMd5NoCta),ee(Z.a,{events:{onClick:function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.awrap(a());case 2:u(!1);case 3:case"end":return e.stop()}}),null,null,null,b.a)}},buttonConfig:{disabled:!1,primary:!1,type:[X.b.Text]},className:"btn-small mar-l-xs mar-r-xs mar-t-xxs"},t?L()(t["idp-cms-feed"],"productselectionconfig.contentFragments.insurance.master.enrollInsuranceLabel",R.c.insurance.insuranceMd5YesCta):R.c.insurance.insuranceMd5YesCta))))}var ne=n("cq7Z"),ae=n("C3wX"),ie=n("kMre"),oe=O.a.createElement;function re(e,t){var n=m()(e);if(u.a){var a=u()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}var se=function(e){for(var t=e.featuresCount,n=void 0===t?0:t,a=[],i=0;i<n;i++)a.push(oe("li",{className:"mar-b-xxs"},oe(U.a,{width:"80%",innerClass:"height-md inline-block"}),oe(U.a,{width:"70%",innerClass:"height-xxs inline-block"})));return oe("div",{className:"jsx-3840986603 insurance-placeholder pad-xs full-width-container height-auto mar-t-xs"},oe(U.a,{width:"75%",innerClass:"height-md inline-block"}),oe("br",{className:"jsx-3840986603"}),a.length>0&&oe(_.a,{space:16,topSpace:24}),oe("ul",{className:"jsx-3840986603 pad-l-xl"},a),oe(k.a,{id:"3840986603"},[".insurance-placeholder.jsx-3840986603{border:1px solid #dcdfe3;border-radius:3px;}"]))};t.a=function(e){var t=O.a.useContext(S.a),n=O.a.useContext(V.a),a=O.a.useState(!1),o=Object(C.a)(a,2),s=o[0],l=o[1],p=O.a.useState(!0),u=Object(C.a)(p,2),f=u[0],m=u[1],g=O.a.useState(!1),v=Object(C.a)(g,2),x=v[0],I=v[1],T=O.a.useState(null),N=Object(C.a)(T,2),P=N[0],A=N[1],U=O.a.useState(null),H=Object(C.a)(U,2),_=H[0],Q=H[1],q=O.a.useState(void 0),W=Object(C.a)(q,2),G=W[0],Y=W[1],J=O.a.useState({insuranceprice:"",insurancename:"",fullprice:""}),$=Object(C.a)(J,2),ee=$[0],ce=$[1],le=O.a.useState(!1),de=Object(C.a)(le,2),pe=de[0],ue=de[1],fe=L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.insuranceSelectionHeadingExpanded"),R.c.insurance.insuranceSelectionHeadingExpanded),me=(L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.insuranceSelectionHeadingCollapsed"),R.c.insurance.insuranceSelectionHeadingCollapsed),L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.addInsuranceSubHeading"),R.c.insurance.addInsuranceSubHeading)),he="",ge="",be="";""!==ee.insuranceprice&&(he=L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.prefix"),R.c.insurance.insurancePrefix),ge=Object(w.nb)(L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.insurancePrice"),R.c.insurance.insurancePrice),ee),be=L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.suffix"),R.c.insurance.insuranceSuffix));var ve=O.a.useRef(),ye=new ne.a;O.a.useEffect((function(){l("INSURANCE"===e.expandedConfigAccordion)}),[e.expandedConfigAccordion]),O.a.useEffect((function(){if(!t.loading){var a=t.getItemByLosgId(e.editLosgId),i=!!a&&a.insurance,o=L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.noThanks"),R.c.insurance.insuranceNo);if(G&&M()(t.losgsFinishedInsurance,e.editLosgId)&&l(!1),i){Y(i.offerId),Se(i.offerId);var r=i.price.amount||"";ce({insuranceprice:""!==r?r.toFixed(2):"",insurancename:i.displayName||"",fullprice:L()(n,"selectedContractTerm.msrp","")})}else a?(Y(R.c.insurance.insuranceNoThanksOfferId),ce({insuranceprice:"",insurancename:o,fullprice:L()(n,"selectedContractTerm.msrp","")})):ce({insuranceprice:"",insurancename:o,fullprice:L()(n,"selectedContractTerm.msrp","")});P||pe||(Ce(),ue(!0))}}),[t.loading]),O.a.useEffect((function(){P&&P.length&&!t.loading&&xe()}),[P,t.cartItems.length]),O.a.useEffect((function(){if(P){var n=t.getItemByLosgId(e.editLosgId),a=L()(t,"selectedInsurance.offerId"),i=L()(n,"insurance.offerId")||(e.isInsuranceSelected&&!L()(n,"insurance.offerId")?R.c.insurance.insuranceNoThanksOfferId:null);s||a===i||ke(!0)}}),[P,s]);var Ce=function(){var n,a,i,o,r,s,c,l,d;return y.a.async((function(p){for(;;)switch(p.prev=p.next){case 0:return m(!0),e.editLosgId&&(n=t.getItemByLosgId(e.editLosgId)),a=L()(n,"insurance._itemExtraAttributes.InsuranceType",void 0),i=a&&"MDPP"===a?"":"PSC",p.next=6,y.a.awrap(F.a.fetchInsurance(e.skuInContext,i));case 6:o=p.sent,r=[],o&&o.length>0?(s=L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.noThanks"),R.c.insurance.insuranceNo),c={offerId:R.c.insurance.insuranceNoThanksOfferId,details:[],ranking:1e4,product:{displayName:s}},o.push(c),l=!1,d=L()(e.planCmsContent,"".concat(R.c.configView.pscCMSFeedRootPath,".insurance.master.insurancesList"),[]),o.map((function(e){d.map((function(t){if(L()(t,"master.offerId",void 0)===e.offerId){var n=j()(e);n.details=L()(t,"master.shortDetailsExpanded",[]).sort((function(e,t){return e.master.ranking-t.master.ranking})),n.ranking=L()(t,"master.ranking",0),n.offerId===R.c.insurance.insuranceNoThanksOfferId&&(n.description=L()(t,"master.description",R.c.insurance.insuranceNoSubHeading)),r.push(n)}}))})),r.map((function(e){e.offerId===R.c.insurance.insuranceNoThanksOfferId&&(l=!0)})),l||r.push(c)):t.setLosgsFinishedInsurance(t.losgsFinishedInsurance.concat([e.editLosgId||t.getLosgId()])),(r=r.sort(Object(w.hb)("ranking"))).length||e.setIsInsuranceEnabled(!1),A(r),m(!1);case 13:case"end":return p.stop()}}),null,null,null,b.a)},xe=function(){var n=t.getItemByLosgId(e.editLosgId);if(n&&void 0===n.insurance&&n.dataplan)Se(R.c.insurance.insuranceNoThanksOfferId);else for(var a=0;a<P.length;a++)n&&n.insurance&&P[a].offerId&&P[a].offerId===n.insurance.offerId&&(Q(a),Se(P[a].offerId))},ke=function(n){if(e.isInsuranceSelected){var a=t.getItemByLosgId(e.editLosgId);Se(L()(a,"insurance.offerId")?a.insurance.offerId:R.c.insurance.insuranceNoThanksOfferId)}else Q(null),t.setSelectedInsurance(void 0);if(!n){ye.fireLinkClickEvent({linkName:"Cancel",linkPosition:"Insurance Configuration",statusCode:"-1","page.location.url":"/buy/phones/config"})}},Se=function(e){for(var n=0;n<D()(P);n++)P[n].offerId===e&&(Q(n),t.setSelectedInsurance(P[n]))},Ie=function(){var t;t="CRU"===e.customerType?"CRU":"CONS";var n=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?r()(e,c()(n)):re(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}({},{url:"/buy/mobile-insurance-details/modal","user.account.fan":e.fanNumber,"user.account.liabilityType":t,"user.customerType":Object(ae.b)(e.customerType),"page.pageInfo.flowCode":"DSNEW"});ye.firePageLoadEvent(n)};return oe(O.a.Fragment,null,oe(ie.a,{dataQa:"".concat(e.dataQa,"-insurance"),label:fe,description:me,descriptionWhenSelected:!1,collapsedContent:oe(O.a.Fragment,null,oe("div",{dangerouslySetInnerHTML:{__html:function(){var n=t.getItemByLosgId(e.editLosgId),a=n?n.insurance:void 0;e.editLosgId&&t.losgsFinishedInsurance.indexOf(e.editLosgId)>-1&&(void 0===a||(null===a||void 0===a||a.offerId,R.c.insurance.insuranceNoThanksOfferId));return a&&a.offerId!==R.c.insurance.insuranceNoThanksOfferId?ee.insurancename:n&&void 0===n.insurance?R.c.insurance.insuranceNo:""}()},className:"jsx-1283327626 mar-r-xxs font-bold"}),oe("div",{className:"jsx-1283327626 font-subheader font-bold margin-left-auto"},oe(E.a,{hidePrice:!G||G===R.c.insurance.insuranceNoThanksOfferId,displayPrice:{displayPrefix:he,displayPrice:ge,displaySuffix:be},selectedSku:e.skuInContext,isInsurance:!0}))),content:oe(O.a.Fragment,null,!f&&P&&P.length>0&&oe(B.c,{id:"Insurances",defaultSelection:_,onChange:function(e){var n=P[e];n&&(Q(e),t.setSelectedInsurance(n),n.offerId&&n.offerId!==R.c.insurance.insuranceNoThanksOfferId?(I(!0),Ie()):n.offerId&&n.offerId===R.c.insurance.insuranceNoThanksOfferId&&ve&&ve.current&&ve.current.scrollIntoView())}},oe("div",{className:"jsx-1283327626 flex flex-column"},P.map((function(t,n){return function(t,n){return oe(O.a.Fragment,null,t.offerId===R.c.insurance.insuranceNoThanksOfferId?oe("div",{id:"noThanksRef",ref:ve}):oe(O.a.Fragment,null),oe(z,{key:t.offerId,value:n,insurance:t,dataQa:e.dataQa,plansContent:e.planCmsContent,skuInContext:e.skuInContext}))}(t,n)})))),f&&oe(O.a.Fragment,null,oe(se,{featuresCount:7}),oe(se,null),oe(se,null)),function(){if(x)return!1;if(L()(t,"selectedInsurance.offerId")===R.c.insurance.insuranceNoThanksOfferId){var n=t.getItemByLosgId(e.editLosgId),a=e.editLosgId&&t.losgsFinishedInsurance.indexOf(e.editLosgId)>-1,i=L()(n,"insurance.offerId");return i&&a||!i&&!a}}()&&oe(O.a.Fragment,null,oe(O.a.Fragment,null,oe("div",{className:"jsx-1712925862 line-height-22 subcontent-header-container"},oe("i",{className:"jsx-1712925862 "+(["subcontent-icon",K.attIcon,K.attIconbadgeAlert].join(" ")||"")}),oe("span",{className:"jsx-1712925862 type-xs color-ui-dark-gray font-regular type-sm"},L()(t,"selectedInsurance.description"))),oe("div",{className:"jsx-1712925862 text-align-left full-width mar-b-none subcontent-list-container line-height-22"},oe("ul",{className:"jsx-1712925862 insurance-feature-list subcontent-list"},L()(t,"selectedInsurance.details",[]).map((function(e){var t=Object(w.nb)(L()(e,"master.description",""),ee);return oe("li",{key:e.master.ranking,className:"jsx-1712925862 insurance-list-element type-sm"},t&&oe("div",{dangerouslySetInnerHTML:{__html:t},className:"jsx-1712925862 color-ui-dark-gray font-regular"}))})))),oe(k.a,{id:"1712925862"},[".subcontent-header-container.jsx-1712925862{padding-top:24px;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}",".subcontent-icon.jsx-1712925862{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;color:#C70032;padding-right:6px;font-size:22px;}",".subcontent-list-container.jsx-1712925862{padding-left:42px;padding-right:20px;}",".subcontent-list.jsx-1712925862{list-style:initial;}",".line-height-22.jsx-1712925862{line-height:22px;}"])),oe(Z.a,{events:{onClick:function(){return y.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.awrap(t.insuranceToCart(P[_]));case 2:case"end":return e.stop()}}),null,null,null,b.a)}},buttonConfig:{disabled:!1,primary:!1,type:[X.b.Text]},className:"btn-small mar-t-xs full-width"},e.planCmsContent&&e.planCmsContent["idp-cms-feed"]?L()(e.planCmsContent["idp-cms-feed"],"productselectionconfig.contentFragments.insurance.master.continueWithout",R.c.insurance.insuranceNoCta):R.c.insurance.insuranceNoCta)),x&&oe(te,{planCmsContent:e.planCmsContent,offerId:L()(t,"selectedInsurance.offerId"),enrollHandler:function(){return y.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y.a.awrap(t.insuranceToCart(P[_]));case 2:I(!1),setTimeout((function(){e.bgPageLoadEvent()}),1e3);case 4:case"end":return n.stop()}}),null,null,null,b.a)},cancelHandler:function(){ke(),I(!1),e.bgPageLoadEvent()}})),isCollapsed:!s,isSelected:e.isInsuranceSelected,collapseEnabled:e.isInsuranceSelected||!s,onAccordionClick:function(){"INSURANCE"===e.expandedConfigAccordion?e.setExpandedConfigAccordion(null):e.setExpandedConfigAccordion("INSURANCE")}}),oe(k.a,{id:"1283327626"},[".full-width.jsx-1283327626{width:100%;}",".margin-left-auto.jsx-1283327626{margin-left:auto;}"]))}},iVq8:function(e,t,n){"use strict";var a=n("wy11");t.a=a.a},iuvk:function(e,t,n){"use strict";var a=n("nlCM"),i=n("LMD0"),o=n("uVxl"),r=n("q1tI"),s=n.n(r),c=n("U/e8"),l=n("JNjH"),d=n("BTSr"),p=n("mwIZ"),u=n.n(p),f=s.a.createElement;t.a=function(e){var t,n=e.selectedSku,r=e.displayingLegalContent,p=e.dataQa,m=e.onLegalClick,h=e.onOfferClick,g=e.prescreenFlag,b=e.onSeeDetailsClick,v=e.planCmsContent,y=e.deviceType,C=s.a.useContext(d.a),x=u()(C,"prescreen"),k=u()(x,"prescreenType"),S=s.a.useContext(l.a),I=S.priceOptions,O=S.selectedPricingIndex,w=I[n.skuId],T=w?w[O]:null,L=null===n.deviceType||void 0===n.deviceType,N="postpaid"!==n.paymentType||T&&0===(T.netPrice||T.monthlyLeasePrice),j=Object(c.h)(T,S,!0);if(""!==e.shortLegalOverride&&(j.shortLegal=e.shortLegalOverride),T){var P=u()(T,"downPayment"),M=!1;void 0!==P&&P>0&&x&&g&&(M=!0);var A=Object(c.g)(T,S,!0,!1,M),D=T.showStrikeThrough||S.isTradeInSelected;t={displayStrikethroughPrefix:T.displayStrikethroughPrefix,displayStrikeThrough:D?T.displayStrikeThrough:null,displayStrikethroughSuffix:T.displayStrikethroughSuffix,displayPrefix:"",displayPrice:A.displayPrefix+A.displayPrice,displayPriceSuffix:A.displaySuffix}}var R=S&&S.selectedContractTerm&&S.selectedContractTerm.commitmentTerm,F=S&&S.selectedContractTerm&&S.selectedContractTerm.displayPrice,E=S&&S.selectedContractTerm&&S.selectedContractTerm.msrp;return f(s.a.Fragment,null,f(o.a,{space:24,topSpace:32}),t&&S.priceOptions[S.selectedSku.skuId]&&S.priceOptions[S.selectedSku.skuId][S.selectedPricingIndex]&&f(s.a.Fragment,null,f("div",null,f(a.a,{price:t,dataQa:"".concat(p,"-Display"),fontSize:"1.333rem",isCarousel:!1,prescreenFlag:g})),f(i.a,{msrpPrice:!N&&T.msrp,legalContent:j,specialPriceblockLegal:T.displaySpecialPriceblockLegal,termLength:!N&&T.termLength,linkContent:T.displayLegalContent.detailsLink,linkCallback:m,offerLinkCallback:h,displayingLegalContent:r,dataQa:"".concat(p,"-Legal"),isAccessory:L,sku:n,isCarousel:!1,prescreenFlag:g,prescreenType:k,radioButtonName:"custom-pricing-display",onSeeDetailsClick:b,planCmsContent:v,selectNextUpName:R,displayPrice:F,msrp:E,deviceType:y})))}},kinY:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n("hfKm"),i=n.n(a),o=n("2Eek"),r=n.n(o),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),d=n.n(l),p=n("4mXO"),u=n.n(p),f=n("pLtp"),m=n.n(f),h=n("vYYK"),g=n("q1tI"),b=n.n(g),v=n("AGoX"),y=n("maZt"),C=n("C3wX"),x=n("cq7Z"),k=b.a.createElement;function S(e,t){var n=m()(e);if(u.a){var a=u()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}var I=function(e){var t=e.isOpen,n=e.profile,a=e.product,o=e.bgPageLoadEvent,s=e.onCloseModal,l=e.legalContent,p=Object(g.useContext)(y.a),u=new x.a;return k(v.default,{isOpen:t,onRequestClose:function(){s(),o()},onAfterOpen:function(){var e=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(h.a)(e,t,n[t])})):c.a?r()(e,c()(n)):S(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}({},{"page.attributes.productType":a.type,"page.attributes.sku":a.skuId,"page.attributes.skuName":a.name,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageOwnership":"Consumer","page.location.url":"/product/carousel/legal/modal","page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostname,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":Object(C.a)(n.flowType,n.subFlowType,a.deviceType),"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":n.zipCode,"user.customerType":Object(C.b)(n.customerType),"user.account.liabilityType":Object(C.c)(n.customerType),"user.uuid":p,"page.pageInfo.friendlyPageName":"DS Products Carousel Legal Modal Pg"});u.firePageLoadEvent(e)}},k("div",{className:"type-legal",dangerouslySetInnerHTML:{__html:l}}))}},lBWN:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("Tit0"),l=a("MI3g"),d=a("a7VT"),p=a("MX0m"),u=a.n(p),f=a("q1tI"),m=a("H80Z"),h=a("vyOo"),g=a("U/e8"),b=f.createElement;function v(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(d.a)(t);if(n){var i=Object(d.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(l.a)(this,e)}}var y=function(e){Object(c.a)(n,e);var t=v(n);function n(){return Object(r.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return b(f.Fragment,null,b("div",{className:"jsx-3038704617 ratings type-xxs rel mar-b-none"},this.props.data.isConfigView&&b("div",{className:"jsx-3038704617 config-review"},null!==this.props.data.avgRating&&0!==this.props.data.reviewCount?b(f.Fragment,null,b(m.a,{data:{name:this.props.data.displayName,rate:this.props.data.avgRating,readOnly:!0,starCount:5},dataQa:"".concat(this.props.dataQa,"-starReviewsLink")}),b("div",{className:"jsx-3038704617 type-xs mar-b-none"},this.props.data.avgRating," | ",this.props.data.reviewCount)):this.props.data.bvReviewsEnabled&&b(f.Fragment,null,"Write a Review")),!this.props.data.isConfigView&&b(h.a,{events:{onClick:function(){return Object(g.mb)("reviews")}},href:"#".concat(Object(g.z)("reviews").accordionButton),dataQa:"".concat(this.props.dataQa,"-starReviewsLink"),className:"color-ui-black mar-none flex justify-end",reportingLinkName:"Star Reviews Link"},null!==this.props.data.avgRating&&0!==this.props.data.reviewCount?b(f.Fragment,null,b(m.a,{data:{name:this.props.data.displayName,rate:this.props.data.avgRating,readOnly:!0,starCount:5},dataQa:"".concat(this.props.dataQa,"-starReviewsLink")}),b("div",{className:"jsx-3038704617 type-xs mar-b-none"},this.props.data.avgRating," | ",this.props.data.reviewCount)):this.props.data.bvReviewsEnabled&&b(f.Fragment,null,"Write a Review"))),b(u.a,{id:"3038704617"},[".ratings.jsx-3038704617{height:16px;}",".config-review.jsx-3038704617{display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;cursor:default;}"]))}}]),n}(f.Component);n.a=y},lWe6:function(e,t,n){"use strict";var a=n("hfKm"),i=n.n(a),o=n("2Eek"),r=n.n(o),s=n("XoMD"),c=n.n(s),l=n("Jo+v"),d=n.n(l),p=n("4mXO"),u=n.n(p),f=n("pLtp"),m=n.n(f),h=n("9Jkg"),g=n.n(h),b=n("vYYK"),v=n("2wwy"),y=n.n(v),C=n("doui"),x=n("MX0m"),k=n.n(x),S=n("q1tI"),I=n.n(S),O=n("JNjH"),w=n("lZBS"),T=n("lNN+"),L=n("ZSdl"),N=n("zh2Y"),j=n("cq7Z"),P=n("U/e8"),M=n("mwIZ"),A=n.n(M),D=n("RPid"),R=n("AGoX"),F=n("maZt"),E=n("C3wX"),U=n("Da3r"),B=n("BTSr"),H=I.a.createElement;function V(e,t){var n=m()(e);if(u.a){var a=u()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}var _=function(e){var t=e.isOpen,n=e.profile,a=e.skuInContext,o=e.onCloseModal,s=e.tradeInInfoModalContent,l=Object(S.useContext)(F.a),p=Object(S.useContext)(B.a),u=new j.a,f=Object(P.x)(a.deviceType,a.deviceSubType),m=Object(E.a)(n.flowType,n.subFlowType,f,p.cartItems&&p.cartItems.length>0);return H(R.default,{isOpen:t,onRequestClose:function(){o()},onAfterOpen:function(){var t=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?r()(e,c()(n)):V(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}({},{"page.attributes.productType":Object(E.d)(m,"simcard"===A()(a,"deviceSubType")),"page.attributes.sku":a.skuId,"page.attributes.skuName":a.shortDisplayName||a.displayName,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageOwnership":"Consumer","page.location.url":e.isGenericTradeIn?U.c.tradeIn.genericTradeInReportingPageUrl:U.c.tradeIn.tradeInReportingPageUrl,"page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostname,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":m,"page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":n.zipCode,"user.customerType":Object(E.b)(n.customerType),"user.account.liabilityType":Object(E.c)(n.customerType),"user.uuid":l,"page.pageInfo.friendlyPageName":e.isGenericTradeIn?U.c.tradeIn.genericTradeInReportingPageName:U.c.tradeIn.tradeInReportingPageName});u.firePageLoadEvent(t)},header:H(I.a.Fragment,null,s&&s.tradeInInfoModalHeading&&H("div",{className:"type-md color-ui-black mar-b-sm"},H("b",null,s.tradeInInfoModalHeading)),s&&s.tradeInInfoModalSubHeading&&H("div",{className:"type-sm color-ui-black mar-b-sm"},s.tradeInInfoModalSubHeading)),modalContentClassName:"modal-content pad-l-md-lg pad-l-lg pad-r-md-lg pad-r-lg pad-b-sm-lg pad-b-lg pad-t-xxs",modalCloseClassName:"close-button no-border mar-t-xs",width:6},s&&s.tradeInInfoModalInfoBox&&H("div",{className:"break-word type-sm mar-b-s",dangerouslySetInnerHTML:{__html:s.tradeInInfoModalInfoBox}}))},Q=n("kMre"),q=I.a.createElement;function W(e,t){var n=m()(e);if(u.a){var a=u()(e);t&&(a=a.filter((function(t){return d()(e,t).enumerable}))),n.push.apply(n,a)}return n}t.a=function(e){var t=I.a.useState(!1),n=Object(C.a)(t,2),a=n[0],o=n[1],s=I.a.useState(void 0),l=Object(C.a)(s,2),p=l[0],u=l[1],f=I.a.useState(0),m=Object(C.a)(f,2),h=m[0],v=m[1],x=I.a.useState(!1),M=Object(C.a)(x,2),F=M[0],E=M[1],B=new j.a,H=I.a.useState(void 0),V=Object(C.a)(H,2),G=V[0],z=V[1],Z=e.dataQa,X=e.dtabCookieExists,K=e.configView,Y=e.tradeInConsented,J=e.portInConsented,$=e.nextUpConsented,ee=e.hylaOfferCodeRetrieved,te=e.onLegalClick,ne=e.onOfferClick,ae=e.bgPageLoadEvent,ie=e.skuInContext;if(e.isByod)return null;var oe=I.a.useContext(O.a),re=I.a.useContext(T.a),se=oe.isTradeInSelected?oe.hylaOfferCodeInContext:"DEFAULT",ce=oe.priceOptions[oe.selectedSku.skuId]&&oe.priceOptions[oe.selectedSku.skuId][oe.selectedPricingIndex],le=oe.priceOptions[oe.selectedSku.skuId]&&oe.priceOptions[oe.selectedSku.skuId][oe.prevSelectedIndex],de=ce&&ce.displayPortIn,pe=ce&&ce.displayTradeIn[se],ue=pe&&pe.tradeInType;if("standalonePortIn"===ue){var fe=y()(ce.displayTradeIn).find((function(e){return"standalonePortIn"!==e.tradeInType}));fe&&(pe=fe,ue=fe.tradeInType)}var me=Object(P.cb)(pe),he=function(e,t,n){var a=A()(e,t,"").trim(),i=A()(e,n,"").trim();return me?n.indexOf(" ")>-1?n.trim():i:e&&"tradein"===e.tradeInType?t.indexOf(" ")>-1?t.trim():a:""},ge=!1;if(ce&&ce.promoPricing&&ce.promoPricing.length&&ce.promoPricing.length>0){var be=ce.promoPricing.filter((function(e){return"tradein"===e.promoType}));ge=be.length>1}var ve=ce&&0===ce.monthlyNextUpCharge?ce:le,ye=(Boolean(X)&&re&&re.featureFlags["pdp-hideportin"],re&&re.featureFlags&&"true"===re.featureFlags["pdp-tiered-tradein"]),Ce=ie&&ie.paymentType&&"postpaid"===ie.paymentType,xe=ie&&ie.deviceType&&"pda"===ie.deviceType,ke=Ce&&xe,Se=re&&re.featureFlags&&"true"===re.featureFlags["pdp-hyla-details-to-cart"],Ie=ke&&re&&re.featureFlags&&"true"===re.featureFlags["pdp-hyla-tradein"],Oe=A()(e.learnViewPropsState,"configTradeIn",!1),we=Object(S.useState)(!!K),Te=we[0],Le=we[1],Ne=Object(P.g)(oe.getNonNextupPriceOption(),oe,!0,!1),je=function(e,t,n){var a=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){Object(b.a)(e,t,n[t])})):c.a?r()(e,c()(n)):W(Object(n)).forEach((function(t){i()(e,t,d()(n,t))}))}return e}({},{url:e,"page.pageInfo.flowCode":t,"page.pageInfo.friendlyPageName":n});B.firePageLoadEvent(a)},Pe=function(e){var t={linkDestinationUrl:"/buy/tradeindetail/modal",linkName:e,linkPosition:"tradein_configuration"};B.fireLinkClickEvent(t)},Me=function(){if(oe.hylaTradeInResponse){var e={product:{make:oe.hylaTradeInResponse.make,productFamily:oe.hylaTradeInResponse.productFamily,name:oe.hylaTradeInResponse.linkName,image:oe.hylaTradeInResponse.image,modelCode:oe.hylaTradeInResponse.modelCode,capacity:oe.hylaTradeInResponse.capacity,modelPrice:oe.hylaTradeInResponse.modelPrice},questionAnswers:oe.hylaTradeInResponse.questionAnswers,tradeInDeviceCondition:oe.hylaTradeInResponse.tradeInDeviceCondition,hylaDiscountAmount:oe.hylaTradeInResponse.hylaDiscountAmount,hylaOfferCode:oe.hylaTradeInResponse.offerCode};oe.setRetainTradeInInformation(e)}oe.setHylaTradeInResponse({})},Ae=function(){o(!1)},De=he(pe,"tradeInSubheader","genericTradeInSubHeader"),Re=he(pe,"tradeInSeeMoreLabel","genericTradeInSeeMoreLabel"),Fe=he(pe,"tradeInHeader","genericTradeInHeader"),Ee=he(pe,"tradeInContinueCTALabel","genericTradeInContinueCTALabel"),Ue=he(pe,"tradeInCancelCTALabel","genericTradeInCancelCTALabel"),Be=(he(pe,"tradeInContinueCTALabel","genericTradeInCollapsedContinue"),he(pe,"tradeInCancelCTALabel","genericTradeInCollapsedCancel"),A()(Object(P.a)(e.idpcmsContent,e.skuInContext),"commonContent",void 0)),He=A()(Be,"[0].master.modals.master.tradeInInfoModal.master",void 0),Ve=A()(Be,"[0].master.modals.master.genericTradeInInfoModal.master",void 0),_e={tradeInInfoModalHeading:void 0,tradeInInfoModalInfoBox:void 0,tradeInInfoModalSubHeading:void 0};_e.tradeInInfoModalHeading=me?A()(Ve,"heading",U.c.tradeIn.genericTradeInInfoModalHeading):A()(He,"heading",U.c.tradeIn.tradeInInfoModalHeading),_e.tradeInInfoModalInfoBox=me?A()(Ve,"infoBox",U.c.tradeIn.genericTradeInInfoModalInfoBox):A()(He,"infoBox",U.c.tradeIn.tradeInInfoModalInfoBox),_e.tradeInInfoModalSubHeading=A()(He,"subHeading",U.c.tradeIn.tradeInInfoModalSubHeading);var Qe=oe.getTradeInPrice(pe),qe=oe.getPortInPrice(de),We=function(){z(Math.random().toString())},Ge=function(){sessionStorage.getItem("tempSharedOfferModalValues")&&sessionStorage.removeItem("tempSharedOfferModalValues")};I.a.useEffect((function(){v(oe.isTradeInSelected?1:0)}),[oe.isTradeInSelected]),I.a.useEffect((function(){re&&"true"===re.featureFlags["pdp-tradein"]&&ce&&pe&&(ce.leaseTotalMonths>0||ce.termLength>1)&&(K||(oe.setIsTradeInSelected(!1),Ge()));var t=A()(e.learnViewPropsState,"configTradeIn",!1),n=A()(e.learnViewPropsState,"configPortIn",!1),a=A()(e.learnViewPropsState,"configHylaCode",void 0);Oe&&setTimeout((function(){oe.setIsTradeInSelected(!!t),oe.setIsPortInSelected(!!n),oe.setHylaOfferCodeInContext(a||"DEFAULT")}),100),ze(),u(window.innerWidth),v(oe.isTradeInSelected?1:0),We(),function(){var e=localStorage.getItem("redirectedLogin");e=e?JSON.parse(e):{};var t=A()(e,"redirectedToLogin",!1);Ie&&"true"===sessionStorage.getItem("plp_trdIn")&&!oe.hasTradeInModalAutoOpenedAlready&&!0===!t&&(v(1),o(!0),oe.setHasTradeInModalAutoOpenedAlready(!0))}()}),[]);var ze=function(){if(void 0!==localStorage.getItem("redirectedLogin")){var e=localStorage.getItem("redirectedLogin");e=e?JSON.parse(e):"";var t=A()(e,"selectedDeviceConfig.hylaTradeInIntentIndicator"),n=A()(e,"selectedDeviceConfig.portinIndicator"),a=A()(e,"selectedDeviceConfig.shoppingContext.offerCode");oe.setIsTradeInSelected(t||!1),oe.setIsPortInSelected(n||!1),oe.setHylaOfferCodeInContext(a||!1)}},Ze={deviceName:oe.selectedSku.shortDisplayName,losgTypes:"NEW",productId:oe.selectedSku.productId,skuId:"".concat(e.skuId)};return Ie&&oe.retainTradeInInformation&&(Ze.preSelectedDevice=oe.retainTradeInInformation),q(I.a.Fragment,null,re&&"true"===re.featureFlags["pdp-tradein"]&&ce&&pe&&(ce.leaseTotalMonths>0||ce.termLength>1)&&"standalonePortIn"!==ue&&q(Q.a,{dataQa:Z,aria:Fe,label:Fe,description:q(I.a.Fragment,null,De&&q("span",{className:"jsx-933592929"},De,"\xa0"),Re&&_e&&_e.tradeInInfoModalInfoBox&&q("a",{onClick:function(){var e={linkDestinationUrl:me?U.c.tradeIn.genericTradeInReportingPageUrl:U.c.tradeIn.tradeInReportingPageUrl,linkName:Re,linkPosition:P.cb?U.c.tradeIn.genericTradeInReportingLinkPosition:U.c.tradeIn.tradeInReportingLinkPosition};B.fireLinkClickEvent(e),E(!0)},className:"jsx-933592929 trade-in-see-more-link"},Re)),descriptionWhenSelected:!1,collapsedContent:q(I.a.Fragment,null,q("div",{className:"jsx-933592929 type-base mar-r-xxs font-bold"},oe.isTradeInSelected?Ee:Ue),(!me||me&&!oe.isTradeInSelected)&&q("div",{className:"jsx-933592929 margin-left-auto"},q("span",{className:"jsx-933592929 type-base text-right font-bold"},"".concat(Ne.displayPrefix+Ne.displayPrice)),q("span",{className:"jsx-933592929 type-sm font-bold"},Ne.displaySuffix))),content:q(w.c,{id:"RadioSelection-TradeIn",onChange:function(e){ye&&ge?1===Number(e)?(o(!0),je("/buy/tradeindetail/modal","DSUNK","DS Tradein Make Model Selection Modal Pg")):0===Number(e)&&(oe.setIsTradeInSelected(!1),oe.setHylaOfferCodeInContext("DEFAULT"),Ie&&Me(),Ge()):(1===Number(e)?(Ie&&o(!0),oe.setIsTradeInSelected(!0)):0===Number(e)&&(oe.setIsTradeInSelected(!1),oe.setHylaOfferCodeInContext("DEFAULT"),Ge()),pe&&pe.hylaOfferCode&&oe.setHylaOfferCodeInContext(pe.hylaOfferCode))},defaultSelection:h,dataQa:Z,randomValue:G},q("div",{className:"jsx-933592929 flex flex-column"},q(w.b,{value:1,name:"tradeInContinueCTALabel",inputName:"tradeInCTALabel",id:"tradeInContinueCTALabel",ariaControls:"tradeInContinueCTALabel",ariaHidden:Te,dataQa:"".concat(Z,"-TradeInContinueCTA"),options:{fullWidth:!0,noTopMar:!0,buttonClasses:"flex-column pad-xs",zIndex:1}},(function(e){return q(L.a,{hidePrice:me,isSelected:e,skuId:oe.selectedSku.skuId,displayValue:Ee,displayPrice:{displayPrefix:pe&&pe.tradeInPrefix,displayPrice:oe.isPortInSelected?qe:Qe,displaySuffix:oe.isPortInSelected?A()(de,"portInPriceWithoutNextUpSuffix"):A()(pe,"tradeInPriceWithoutNextUpSuffix")},radioSubContent:function(e,t){return q(N.a,{isSelected:e,priceOption:t,onLegalClick:te,onOfferClick:ne,radioButtonName:"custom-trade-in"})},selectedSku:oe.selectedSku})})),q(w.b,{value:0,name:"tradeInCancelCTALabel",inputName:"tradeInCTALabel",id:"tradeInCancelCTALabel",ariaControls:"tradeInCancelCTALabel",ariaHidden:Te,dataQa:"".concat(Z,"-TradeInCancelCTA"),options:{fullWidth:!0,zIndex:1,buttonClasses:"flex-column pad-xs"}},(function(e){return q(L.a,{isSelected:e,skuId:oe.selectedSku.skuId,displayValue:Ue,displayPrice:Object(P.g)(ve,oe,!1),radioSubContent:function(e,t){return q(I.a.Fragment,null)},selectedSku:oe.selectedSku})})))),isCollapsed:Te,isSelected:!!ce,collapseEnabled:!0,onAccordionClick:K?{pathname:"".concat(e.learnViewPath),state:{configScroll:"TRADEIN",configTradeIn:Y,configPortIn:J,configNextUp:$,configHylaCode:ee}}:function(){var e={linkDestinationUrl:oe.selectedSku.devicePageURL,linkName:"TradeIn"+(Te?"_Expand":"_Collapse"),linkPosition:"Body"};B.fireLinkClickEvent(e),Le(!Te)}}),q(_,{isOpen:F,tradeInInfoModalContent:_e,profile:e.profileInfo,onCloseModal:function(){E(!1),ae()},skuInContext:e.skuInContext,isGenericTradeIn:me}),q(R.default,{isOpen:a,onRequestClose:function(){Ae(),oe.setIsTradeInSelected(!1),v(0),oe.setHylaOfferCodeInContext("DEFAULT"),We(),Pe("tradein_close"),je("/buy/phones/details","DSUNK","DS Product Details Pg"),Ge()},overlayClassName:"overlay flex justify-center pad-none",className:"modal container flex-items-center pad-none",portalClassName:"ReactModalPortal full-width-container",modalContentClassName:"modal-content pad-sm",modalCloseClassName:"close-button no-border",width:p>767?6:12},q(D.a,{data:Ze,events:{onOfferDecision:function(e){Ae(),e.hasTieredTradeIn=ge,e.hylaDetailsToCartFlag=Se,"USER_ACCEPTED"===e.status?(oe.setIsTradeInSelected(!0),v(1),oe.setHylaOfferCodeInContext(e.offerCode),Ie&&(oe.setHylaTradeInResponse(e),oe.setRetainTradeInInformation({})),We(),function(e,t,n,a,i){var o={errorType:"Success_Admit",eventCode:"DS_TradeIn_MakeModel_Selection_Submit",linkDestinationUrl:"/buy/tradeindetail/modal",linkName:"Trade in this phone",linkPosition:"tradein_configuration",statusCode:"0",statusMessage:"Success",successFlag:"1",tradeInDeviceMake:e,tradeInDeviceModel:t,tradeInDeviceCapacity:n||"",tradeInDeviceCondition:a||"",tradeInValue:i||""};B.fireFormSubmitEvent(o.eventCode,o)}(e.make,e.productFamily,e.capacity,e.tradeInDeviceCondition,e.hylaDiscountAmount),function(e,t,n,a,i){var o={statusMessage:"Success",statusCode:"0",successFlag:"1",eventCode:"DS_TradeIn_MakeModel_Selection_Submit",linkDestinationUrl:"/buy/tradeindetail/modal",linkName:"Trade in this phone",linkPosition:"tradein_configuration",tradeInDeviceMake:e,tradeInDeviceModel:t,tradeInDeviceCapacity:n||"",tradeInDeviceCondition:a||"",tradeInValue:i||""};B.fireFormResponseEvent(o.eventCode,o)}(e.make,e.productFamily,e.capacity,e.tradeInDeviceCondition,e.hylaDiscountAmount),je("/buy/phones/details","DSUNK","DS Product Details Pg")):"NO_OFFER_FOUND"===e.status?(oe.setIsTradeInSelected(!0),v(0),oe.setHylaOfferCodeInContext("DEFAULT"),We()):"USER_DECLINED"===e.status?(oe.setIsTradeInSelected(!1),v(0),oe.setHylaOfferCodeInContext("DEFAULT"),We(),Pe("Dont trade in"),je("/buy/phones/details","DSUNK","DS Product Details Pg"),Ge()):"DATA_RETRIEVE_FAILED"===e.status&&(oe.setIsTradeInSelected(!1),v(0),oe.setHylaOfferCodeInContext("DEFAULT"),We(),Pe("Continue"),je("/buy/phones/details","DSUNK","DS Product Details Pg"),Ge()),sessionStorage.setItem("tempSharedOfferModalValues",g()(e))},onError:function(e){oe.setIsTradeInSelected(!1),v(0),oe.setHylaOfferCodeInContext("DEFAULT"),We()}},options:{disableOrchestrationOffers:!Ie}})),q(k.a,{id:"933592929"},[".text-align-left.jsx-933592929{text-align:left;}",".margin-left-auto.jsx-933592929{margin-left:auto;}",".configured-label.jsx-933592929{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-933592929{font-size:16px;}",".font-monthly.jsx-933592929{font-size:14px;}",".pricing-prefix.jsx-933592929{font-size:14px;}",".trade-in-see-more-link.jsx-933592929{font-weight:bold;cursor:pointer;}"]))}},mnbR:function(t,n,a){"use strict";var i=a("pbKT"),o=a.n(i),r=a("0iUn"),s=a("sLSF"),c=a("Tit0"),l=a("MI3g"),d=a("a7VT"),p=a("MX0m"),u=a.n(p),f=a("q1tI"),m=a("Da3r"),h=a("U/e8"),g=f.createElement;function b(t){var n=function(){if("undefined"===typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(d.a)(t);if(n){var i=Object(d.a)(this).constructor;e=o()(a,arguments,i)}else e=a.apply(this,arguments);return Object(l.a)(this,e)}}var v=function(e){Object(c.a)(n,e);var t=b(n);function n(e){return Object(r.a)(this,n),t.call(this,e)}return Object(s.a)(n,[{key:"render",value:function(){return g("div",{className:"jsx-3367470344 flex flex-column"},this.props.data.displayName&&g("h1",{className:"jsx-3367470344 heading-md product-header line-h-md mar-b-none"},this.props.data.displayName),this.props.compatibleDevices&&1===Object(h.U)(this.props.compatibleDevices).length&&g("p",{className:"jsx-3367470344 deviceCompatibleHeader mar-b-none"},"Compatible with ",Object(h.U)(this.props.compatibleDevices)[0].model),this.props.data.paymentType&&"postpaid"===this.props.data.paymentType&&this.props.data.deviceCondition&&this.props.data.deviceCondition.key&&this.props.data.deviceCondition.key.toLowerCase()===m.c.deviceCondition.preOwnedKey.toLowerCase()&&g("span",{className:"jsx-3367470344 deviceConditionHeader"},this.props.data.deviceCondition.displayName),this.props.data.deviceIntro&&g("p",{className:"jsx-3367470344 deviceIntroHeader"},this.props.data.deviceIntro),g(u.a,{id:"3367470344"},[".product-header.jsx-3367470344{min-height:28px;}",".deviceCompatibleHeader.jsx-3367470344{min-height:21px;}",".deviceConditionHeader.jsx-3367470344{line-height:15px;font-size:12px;color:#696969;display:inline;min-height:14px;}",".deviceIntroHeader.jsx-3367470344{min-height:21px;}"]))}}]),n}(f.Component);n.a=v},rZam:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n("vYYK"),i=n("doui"),o=n("q1tI"),r=n("AGoX"),s=n("BTSr"),c=n("JNjH"),l=n("HS9N"),d=n("mwIZ"),p=n.n(d),u=n("Da3r"),f=n("U/e8"),m=o.createElement,h=function(e){var t,n=p()(e.planCmsContent,"idp-cms-feed.productselectionconfig.contentFragments.common.master.creditPrescreen.master",u.c.creditPreScreen),d=o.useContext(s.a),h=o.useContext(c.a),g=o.useState(void 0),b=Object(i.a)(g,2),v=b[0],y=b[1];o.useEffect((function(){N()}),[d.prescreen,h.isTradeInSelected]);var C=p()(d,"prescreen.creditApplied"),x=p()(d,"prescreen.monthlyCredit"),k=p()(d,"prescreen.downPayment"),S=p()(h,"selectedContractTerm.termLength"),I=p()(h,"selectedContractTerm.tradeindiscount"),O=p()(h,"selectedContractTerm.msrp"),w=(p()(d,"prescreen.monthlyPromoPrice")>0&&p()(d,"prescreen.monthlyPromoPrice"),p()(h,"prescreen.activePromotion")),T=void 0!==h.hylaOfferCodeInContext&&"DEFAULT"!==h.hylaOfferCodeInContext&&!1!==h.hylaOfferCodeInContext,L=T&&h.isPortInSelected,N=(p()(w,"promoType"),function(){var e=p()(h,"selectedContractTerm.displayTradeIn"),t=e?e[h.hylaOfferCodeInContext]:void 0,a=!!p()(t,"tradeInType")&&"generictradein"===t.tradeInType,i=!(!T||a),o=i&&L,r=i;y(o?n.negativePriceDeviceOfferTradeIn:r?n.negativePriceDeviceOffer:n.negativePriceDeviceOfferCredits)}),j=p()(d,"prescreen.discount"),P=j||I,M=(t={deviceName:e.deviceName,retailPriceAmount:O,remainingBalanceAmount:C,totalMonthlyPriceAmount:x},Object(a.a)(t,"XX.XX",x),Object(a.a)(t,"X",S),Object(a.a)(t,"downPaymentAmount",k.toFixed(2)),Object(a.a)(t,"negativePriceAmount",Object(f.P)(P,!0)),t),A=Object(f.nb)(n.leftOverRemainingBalance,M),D=Object(f.nb)(n.retailPrice,M),R=Object(f.nb)(n.retailPriceAmount,M),F=Object(f.nb)(n.requiredDownPaymentText,M),E=Object(f.nb)(n.negativePriceModalHeading,M),U=Object(f.nb)(n.negativePriceModalText,M),B=Object(f.nb)(n.remainingBalanceText,M),H=Object(f.nb)(n.remainingBalanceAmount,M),V=Object(f.nb)(n.totalMonthlyPriceText,M),_=Object(f.nb)(n.totalMonthlyPriceAmount,M),Q=Object(f.nb)(n.negativePriceAmount,M),q=Object(f.nb)(n.postCreditCheckPositiveDownPayment,M);return m(r.default,{isOpen:e.data.isOpen,onRequestClose:e.data.onRequestClose,modalContainerClassName:e.data.containerClassName,modalContentClassName:e.data.contentClassName,modalRowClassName:e.data.rowClassName,modalCloseClassName:e.data.closeClassName,modalTextClassName:e.data.textClassName,showSeperator:e.data.showSeperator,width:e.data.width},m("div",null,m(l.a,{hasOwnCurrency:!0,hasNegativePricing:!0,data:{legelDesclimer:A,priceDetailsList:[{discount:!1,description:D,name:D,price:R},{discount:!0,description:v,name:v,price:Q},{discount:!0,description:F,name:F,price:q}],heading:E,subHeading:U,subTotalItem:{desclimer:"",discount:!1,description:"Sub total",name:B,price:H},totalItem:{desclimer:"",discount:!0,description:"Total",name:V,price:_}}})))}},rhS2:function(t,n,a){"use strict";a.r(n);var i=a("hfKm"),o=a.n(i),r=a("2Eek"),s=a.n(r),c=a("XoMD"),l=a.n(c),d=a("Jo+v"),p=a.n(d),u=a("4mXO"),f=a.n(u),m=a("pLtp"),h=a.n(m),g=a("pbKT"),b=a.n(g),v=a("Wa2I"),y=a.n(v),C=a("i9IY"),x=a.n(C),k=a("eVuF"),S=a.n(k),I=a("ln6h"),O=a.n(I),w=a("0iUn"),T=a("sLSF"),L=a("AT/M"),N=a("Tit0"),j=a("MI3g"),P=a("a7VT"),M=a("vYYK"),A=a("q1tI"),D=a("cq7Z"),R=a("Da3r"),F=a("U/e8"),E=a("RrNd"),U=a("BgAt"),B=a("IyUE"),H=a("b7XW"),V=a("zm1R"),_=a("Lnk0"),Q=a("mwIZ"),q=a.n(Q),W=A.createElement;function G(e,t){var n=h()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return p()(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Object(M.a)(e,t,n[t])})):l.a?s()(e,l()(n)):G(Object(n)).forEach((function(t){o()(e,t,p()(n,t))}))}return e}function Z(t){var n=function(){if("undefined"===typeof Reflect||!b.a)return!1;if(b.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(b()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(P.a)(t);if(n){var i=Object(P.a)(this).constructor;e=b()(a,arguments,i)}else e=a.apply(this,arguments);return Object(j.a)(this,e)}}var X=function(e){Object(N.a)(n,e);var t=Z(n);function n(e){var a;return Object(w.a)(this,n),a=t.call(this,e),Object(M.a)(Object(L.a)(a),"deviceTypes",{netbook:"tablets",network:"wearables",pda:"phones"}),Object(M.a)(Object(L.a)(a),"reporting",void 0),Object(M.a)(Object(L.a)(a),"sliderClick",(function(e){a.fireLinkClick(window.location.href,e,"productRecommenderCarousel")})),Object(M.a)(Object(L.a)(a),"fireLinkClick",(function(e,t,n){var i=new D.a,o={linkDestinationUrl:e,linkName:a.props.selectedSku.skuId+"_"+n+"_"+t,linkPosition:"Body"};i.fireLinkClickEvent(o)})),a.reporting=new D.a,a.handleCardClick=a.handleCardClick.bind(Object(L.a)(a)),a.state={rexRecommendationProducts:[]},a}return Object(T.a)(n,[{key:"componentDidMount",value:function(){this.props.selectedSku&&this.props.selectedSku.skuId&&this.getRexInformation(this.props.selectedSku.skuId,this.props.product.isAccessory)}},{key:"componentWillUpdate",value:function(e){return O.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:this.props.selectedSku.skuId!==e.selectedSku.skuId&&this.getRexInformation(e.selectedSku.skuId,e.product.isAccessory);case 1:case"end":return t.stop()}}),null,this,null,S.a)}},{key:"getRexInformation",value:function(e,t){var n,a,i,o,r;return O.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return n=this.props.featureFlags,a=R.c.RecommendationType.Bought,i=t?R.c.RecommendationType.Accessory:"",o=Object(F.W)(E.b.productDetailsUrls.rexRecommendation,[e,a,i]),s.prev=4,s.next=7,O.a.awrap(fetch(o));case 7:return r=s.sent,s.next=10,O.a.awrap(r.json());case 10:if(0!==(r=s.sent).length){s.next=14;break}return B.a.Error("REX API returned an empty response: []."),s.abrupt("return");case 14:if("true"!==n["pdp-strikethrough"]){s.next=18;break}return s.next=17,O.a.awrap(this.getRexOffer(r));case 17:r=s.sent;case 18:this.setState({rexRecommendationProducts:r}),this.props.setProductRecommends(r),s.next=29;break;case 22:if(s.prev=22,s.t0=s.catch(4),"true"!==n["pdp-spo-device-details"]){s.next=28;break}throw U.o;case 28:throw U.h;case 29:case"end":return s.stop()}}),null,this,[[4,22]],S.a)}},{key:"getRexOffer",value:function(e){var t,n,a,i,o,r,s,c=this;return O.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:if(t=e,n={},a={},!((i=e.map((function(e,t){return n[e.skuId]=t,e.skuId}))).length>0)){l.next=26;break}return r=E.b.productDetailsUrls.offer.rexOffers.replace("{0}",i.join(",")),l.prev=6,l.next=9,O.a.awrap(fetch(r));case 9:return o=l.sent,l.next=12,O.a.awrap(o.json());case 12:o=l.sent,l.next=19;break;case 15:l.prev=15,l.t0=l.catch(6),B.a.Error("Error fetching offers for rex carousel: ".concat(r)),this.setState({rexRecommendationProducts:e});case 19:if(!(o&&o.content&&o.content.wireless)){l.next=26;break}if(s={},o.content.wireless.promotions&&o.content.wireless.promotions.forEach((function(e){s[e.id]=e.endDate})),!o.content.wireless.devices){l.next=26;break}return o.content.wireless.devices.forEach((function(e){if(e&&e.product&&e.product.childSkus&&e.product.childSkus[0]&&e.product.childSkus[0].skuId&&e.product.childSkus[0].price&&e.product.childSkus[0].price[0]&&void 0!==e.product.childSkus[0].price[0].promoPrice){var i=n[e.product.childSkus[0].skuId];a[e.product.childSkus[0].price[0].promoReference]=i;var o=e.product.childSkus[0].price[0].promoReference;t[i].offerData=z({},e.product.childSkus[0].price[0],{endDate:s[e.product.childSkus[0].price[0].promoReference],promoReference:e.product.childSkus[0].price[0].promoReference}),"prepaid"!==c.props.selectedSku.paymentType&&(t[i].offerData=z({},t[i].offerData,{strikethroughRestrictionText:c.props.offerShortLegal&&c.props.offerShortLegal[o]&&c.props.offerShortLegal[o].strikethroughRestrictionText||"",legalText:c.props.offerShortLegal&&c.props.offerShortLegal[o]&&c.props.offerShortLegal[o].legalText||""}))}})),l.abrupt("return",t);case 26:case"end":return l.stop()}}),null,this,[[6,15]],S.a)}},{key:"findSkuInSiblingsMap",value:function(e,t){for(var n in t)if(e===n)return t[n];return{}}},{key:"pricing",value:function(e,t,n,a,i,o){var r={productLeaseTerm:null,productMonthlyNextUpCharge:null,productPrice:null,productTermName:null};if(e.length>0){var s=x.a,c=x.a,l="",d=0;if(null!==e[0].sequence&&void 0!==e[0].sequence){var p=x.a;for(var u in e)Number(e[u].sequence)<p&&(s=Number(e[u].monthLeasePrice),c=Number(e[u].leaseMonths),l=e[u].termName,p=e[u].sequence,d=Number(e[u].monthlyNextUpCharge))}else for(var f in e)Number(e[f].monthLeasePrice)<s&&(s=Number(e[f].monthLeasePrice),c=Number(e[f].leaseMonths),l=e[f].termName,d=Number(e[f].monthlyNextUpCharge));r={productLeaseTerm:c.toFixed(2).toString(),productMonthlyNextUpCharge:d.toFixed(2).toString(),productPrice:s.toFixed(2).toString()+"/mo.",productTermName:l}}else void 0!==t&&null!==t?(r={productLeaseTerm:"",productMonthlyNextUpCharge:"",productPrice:t,productTermName:""},t!==y()(n)&&(r=z({},r,{productPrice:y()(n),promoPrice:t}))):r={productLeaseTerm:"",productMonthlyNextUpCharge:"",productPrice:this.findSkuInSiblingsMap(a,i).mDueTodayPrice,productTermName:""};return o&&o.commitmentTerm===r.productTermName&&(r=z({},r,{promoPrice:o.promoPrice})),r}},{key:"buildDeviceCards",value:function(){var e=this,t={},n=this.state.rexRecommendationProducts.filter((function(e){return!(e.name in t)&&(t[e.name]=!0,!0)}));return(n=n.length>10?n.slice(0,10):n).map((function(t,n){var a=e.pricing(t.attNextPricing,t.price,t.listPrice,t.skuId,t.siblingsMapWithProperties,t.offerData);return t.contractType=""!==a.productLeaseTerm?"next":"regular",W(_.a,{isAccessory:"accessory"===q()(e.props,"product.details.productType",void 0),key:n,product:t,offerData:t.offerData,profile:e.props.customerProfile,offerLegal:e.props.offerLegal})}))}},{key:"handleCardClick",value:function(e,t){var n={linkName:t,linkPosition:"Body",linkDestinationUrl:e};this.reporting.fireLinkClickEvent(n)}},{key:"getRecommenderHeaderText",value:function(){return this.props.isEndOfSku?"Find a similar device":"You might also like these"}},{key:"render",value:function(){return null!==this.state.rexRecommendationProducts&&void 0!==this.state.rexRecommendationProducts&&this.state.rexRecommendationProducts.length>0?W(A.Fragment,null,W(V.b,null,W("h2",{className:"row col-pad-l col-pad-r type-lg mar-t-lg mar-b-sm-lg",id:"recommender","data-qa":"".concat(this.props.dataQa,"-carouselLink")},this.getRecommenderHeaderText())),W(H.a,{dataQa:"".concat(this.props.dataQa,"-Carousel"),sliderClick:this.sliderClick},this.buildDeviceCards())):null}}]),n}(A.Component);n.default=X},sJBw:function(t,n,a){"use strict";var i=a("kOwS"),o=a("6BQ9"),r=a.n(o),s=a("eVuF"),c=a.n(s),l=a("ln6h"),d=a.n(l),p=a("MX0m"),u=a.n(p),f=a("q1tI"),m=a.n(f),h=a("maZt"),g=a("xLlQ"),b=m.a.createElement,v=function(e){var t=e.title,n=e.details,a=e.iconName,i=e.damIconPath;return b("div",{className:"jsx-4184568704 flex align-items-center mar-b-md-lg"},b(g.a,{iconName:a,damIconPath:i,size:"32px"}),b("div",{className:"jsx-4184568704 flex-column justify-center mar-l-xxs"},b("div",{className:"jsx-4184568704 type-sm font-medium color-ui-dark-gray mar-b-none"},t),b("div",{className:"jsx-4184568704 type-sm"},n)),b(u.a,{id:"4184568704"},[".delivery-method.jsx-4184568704{margin-bottom:1.4rem;}",".delivery-method.jsx-4184568704 i.jsx-4184568704 svg.jsx-4184568704{fill:#1D2329;}"]))},y=a("uVxl"),C=a("AGoX"),x=a("zyV8"),k=a("U/e8"),S=a("vyOo"),I=f.createElement;function O(e){return I(f.Fragment,null,I(f.Fragment,null,I("p",{className:"mar-b-none"},e.subHeading),e.storeInformation&&e.storeInformation.id&&I(f.Fragment,null,I("p",{className:"mar-b-none mar-t-xs"},e.storeInformation.mystore_name),I("p",{className:"mar-b-none mar-t-none"},e.storeInformation.address1,e.storeInformation.address2&&", "+e.storeInformation.address2),I("p",{className:"mar-b-xxs mar-t-none"},e.storeInformation.city,",\xa0",e.storeInformation.region,"\xa0",e.storeInformation.postal))),I(S.a,{ariaLabel:"show more stores",dataQa:"".concat(e.dataQa,"-showMoreStores"),events:{onClick:function(){return e.openModal()}},reportingLinkUrl:"/products/details/c2s/modal",className:"font-medium",href:"#"},e.linkLabel))}var w=a("Da3r"),T=a("pbKT"),L=a.n(T),N=a("Wa2I"),j=a.n(N),P=a("pLtp"),M=a.n(P),A=a("0iUn"),D=a("sLSF"),R=a("AT/M"),F=a("Tit0"),E=a("MI3g"),U=a("a7VT"),B=a("vYYK"),H=a("J5Nc"),V=a("8bTO"),_=a("a6RD"),Q=a.n(_),q=a("eI37"),W=a("0Yz8"),G=a("cq7Z"),z=a("mwIZ"),Z=a.n(z),X=f.createElement;function K(t){var n=function(){if("undefined"===typeof Reflect||!L.a)return!1;if(L.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(L()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(U.a)(t);if(n){var i=Object(U.a)(this).constructor;e=L()(a,arguments,i)}else e=a.apply(this,arguments);return Object(E.a)(this,e)}}var Y=Q()((function(){return c.a.resolve().then((function(){return a("4eeI")}))}),{loadableGenerated:{webpack:function(){return["4eeI"]},modules:["../StoreItem"]}}),J=function(e){Object(F.a)(n,e);var t=K(n);function n(e){var a;return Object(A.a)(this,n),a=t.call(this,e),Object(B.a)(Object(R.a)(a),"reporting",void 0),Object(B.a)(Object(R.a)(a),"pickUpCTA",(function(){a.getClick2StoreList()})),Object(B.a)(Object(R.a)(a),"click2StorePageLoadEvent",(function(){var e={"page.location.url":a.props.data.isAccessory?w.c.reporting.pageUrl.storeAvailModal.accessories:w.c.reporting.pageUrl.storeAvailModal.phones,"page.pageInfo.friendlyPageName":a.props.data.isAccessory?w.c.reporting.friendlyPageName.storeAvailModal.accessories:w.c.reporting.friendlyPageName.storeAvailModal.phones};a.reporting.firePageLoadEvent(e)})),a.state={activeStoreId:a.props.data.activeStoreId,displayQuantityThreshold:0,errorMessage:"",favStore:{},showAllStoreHours:!1,showChangeZip:""===a.props.data.zipCode,storeList:[],submitZipCode:a.props.data.zipCode,workingZipCode:a.props.data.zipCode,isAccessory:a.props.data.isAccessory},a.ctaClick=a.ctaClick.bind(Object(R.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(R.a)(a)),a.handleChangeZip=a.handleChangeZip.bind(Object(R.a)(a)),a.reporting=new G.a,a}return Object(D.a)(n,[{key:"componentDidMount",value:function(){null!==this.props.data.zipCode&&this.props.data.zipCode.length>-1&&this.getClick2StoreList(),this.click2StorePageLoadEvent()}},{key:"componentWillReceiveProps",value:function(e){this.setState({workingZipCode:e.data.zipCode})}},{key:"getStoreAvailabilityErrorMsg",value:function(e,t){var n,a={zipCode:t,numOfMiles:"50"};return Z()(this.props.data.planCmsContent,"".concat(w.c.configView.pscCMSFeedRootPath,".modals.master.errorModal"),w.c.uisStoreavailabilityErrorCodes.errorModal).map((function(t){Z()(t,"master.code")===e.errorId.toLowerCase()&&(n=Object(k.nb)(Z()(t,"master.description",e.message),a))})),n}},{key:"generateCategory",value:function(e){if(this.props.data.isAccessory)return"accessory";switch(e){case"pda":return"phone";case"netbook":return"computer";case"network":return"electronic";default:return"phone"}}},{key:"getClick2StoreList",value:function(){var e=this,t=this;this.validateZipCode(t.state.workingZipCode)?x.a.getClick2StoreList(t.props.data.skuBillCode,t.state.workingZipCode,this.generateCategory(t.props.data.deviceType)).then((function(n){if(null!=Z()(n,"error"))t.setState({errorMessage:e.getStoreAvailabilityErrorMsg(n.error,t.state.workingZipCode),showChangeZip:!0});else{t.setState({errorMessage:"",showChangeZip:!1});var a=1,i=[];M()(n.content.storeList).sort((function(e,t){var a=n.content.storeList[e],i=n.content.storeList[t];return j()(a.arcdist)>j()(i.arcdist)?1:-1})).forEach((function(o){r()(n.content.storeList[o].availableQuantity)>0&&i.push(X(Y,{data:{activeStoreId:t.props.data.activeStoreId,currentStore:n.content.storeList[o],displayQuantityThreshold:5,index:a++,skuId:t.props.data.skuId,updateStore:t.props.data.updateStore,zipCode:t.state.submitZipCode,isAccessory:e.props.data.isAccessory,commonCmsContent:e.props.data.commonCmsContent}}))})),t.setState({storeList:i})}})):t.setState({errorMessage:this.getStoreAvailabilityErrorMsg({errorId:"uis-inv-00001",message:"Enter a valid ZIP Code"},t.state.workingZipCode),showChangeZip:!0})}},{key:"handleChangeZip",value:function(){this.setState({showChangeZip:!this.state.showChangeZip}),this.fireLinkClick("Change",this.props.data.isAccessory?w.c.reporting.pageUrl.storeAvailModal.accessories:w.c.reporting.pageUrl.storeAvailModal.phones)}},{key:"fireLinkClick",value:function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(n)}},{key:"handleInputChange",value:function(e){RegExp(/^\d{0,5}$/).test(e.target.value.trim())&&this.setState({workingZipCode:e.target.value})}},{key:"renderModalHeader",value:function(){return X(f.Fragment,null,X("h2",{className:H.modalHeader},"Stores with ",this.props.data.displayName," in stock"))}},{key:"renderStoreList",value:function(){return X(f.Fragment,null,X("div",{className:H.changeZip},"Showing stores near ",this.state.submitZipCode,X(S.a,{ariaLabel:"change Zip",events:{onClick:this.handleChangeZip},dataQa:"$-changeZip"},"Change",X("span",{className:[H.changeArrow,V.attIcon,V.attIconStraightArrowRight].join(" ")}))),this.state.storeList.map((function(e,t){return X("p",{key:t},e)})),X("div",{className:H.legalContainer},this.renderLegalDisclaimer()))}},{key:"ctaClick",value:function(){this.fireLinkClick("Search",this.props.data.isAccessory?w.c.reporting.pageUrl.storeAvailModal.accessories:w.c.reporting.pageUrl.storeAvailModal.phones),this.setState({errorMessage:"",storeList:[],submitZipCode:this.state.workingZipCode}),this.getClick2StoreList()}},{key:"validateZipCode",value:function(e){return/^\d{5}$|^\d{5}-\d{4}$/.test(e)}},{key:"renderZipCodeForm",value:function(){return X(f.Fragment,null,""!==this.state.errorMessage&&X("p",{className:H.error},this.state.errorMessage),X("form",{className:H.zipCodeForm},X("div",{className:H.zipCodeLabel},"Enter your zip code"),X("input",{className:H.zipTextField,type:"text",value:this.state.workingZipCode,onInput:this.handleInputChange}),X(q.c,{buttonConfig:{disabled:!this.state.workingZipCode,primary:!0,type:[q.b.Blue,q.b.Large]},events:{onClick:this.ctaClick},extraProps:{formAction:"javascript:void"}},"Search")))}},{key:"renderLegalDisclaimer",value:function(){var e=Object(k.D)(this.props.data.commonCmsContent,"bopisModalDisclaimer",w.c.deliveryOptions.bopis.bopisModalDisclaimer);return X(f.Fragment,null,X("p",{className:H.legalDisclaimer},e))}},{key:"renderLoader",value:function(){return X(f.Fragment,null,X("div",{className:H.loadingContainer},X(W.a,null)))}},{key:"render",value:function(){return X("div",null,this.state.showChangeZip&&this.renderZipCodeForm(),!(this.state.storeList.length>0)&&""===this.state.errorMessage&&this.renderLoader(),this.state.storeList&&this.state.storeList.length>0&&""!==this.state.submitZipCode&&""===this.state.errorMessage&&this.renderStoreList())}}]),n}(f.Component),$=a("OFL0"),ee=a.n($),te=m.a.createElement,ne=function(e){var t=new Date(e.dateFrom),n=new Date(e.dateTo);return t.getDate()===n.getDate()?te(m.a.Fragment,null,e.subHeading&&te("p",{className:"mar-b-none"},e.subHeading),te("p",{className:"mar-b-none"},e.isDelivery?"Delivery ":"Shipping ","by",te("b",null," ",e.dateFrom," "))):te(m.a.Fragment,null,e.subHeading&&te("p",{className:"mar-b-none"},e.subHeading),te("p",{className:"mar-b-none"},e.isDelivery?"Delivers ":"Ships ","between",te("b",null," ",e.dateFrom," "),"and",te("b",null," ",e.dateTo," ")))};n.a=function(e){var t=Object(f.useState)({}),n=t[0],a=t[1],o=Object(f.useState)([]),s=o[0],l=o[1],p=Object(f.useState)(!1),g=p[0],b=p[1],S=Object(f.useState)(""),I=S[0],T=S[1],L=[],N=Object(f.useContext)(h.a),j=(e.isAccessory,e.billCode,!1),P=function(){var e=new CustomEvent(w.b.CRITICAL_PATH_COMPLETE);window.dispatchEvent(e)};Object(f.useEffect)((function(){e.isComingSoon||e.isEndOfSku||!N||M()}),[e.billCode,N,e.productFulfillmentRes]);var M=function(){var t,n,i,o,r,s;return d.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:setTimeout(P,2e3),"selectedstore",!1!==(t=Object(k.E)(document.cookie,"selectedstore"))&&(t=(t=t.replace("selectedstore=","")).split("|"),t[0].split("=")[1],n=t[1].split("=")[1]),i=[],o=e.userZipCode,r=e.productFulfillmentRes,e.sku.skuId&&ee()(r,"content.fulfillmentOptions["+e.sku.skuId+"]")&&r.content.fulfillmentOptions[e.sku.skuId].length>0&&(r.content.fulfillmentOptions[e.sku.skuId].map((function(t){if("DOO"===t.fulfillmentMethod&&t.available&&(i.push(A()),L.push("SAME DAY DROP OFF")),"C2S"===t.fulfillmentMethod&&t.available)if(ee()(t,"stores")&&ee()(r,"content.stores["+t.stores[0]+"]")){var s;s=r.content.stores[t.stores[0]],a(s),i.push(R(s)),L.push("STORE")}else{var c={};c.postal=n||o,a(c),i.push(R(c)),L.push("STORE")}var l;"DF"===t.fulfillmentMethod&&t.available&&(void 0!==t.dates?(l=t.dates,i.push(F(l)),L.push("DIRECT")):e.isAccessory&&(i.push(U()),L.push("DEFAULT SHIPPING METHOD")))})),void 0!==(s=i.sort(k.kb))[0]&&e.onFinished(L,s[0].reportingName,""),l(s));case 9:case"end":return c.stop()}}),null,null,null,c.a)},A=function(){return{available:!0,marketingsequence:r()(Object(k.D)(e.commonCmsContent,"rtgMargetingSequence",w.c.deliveryOptions.rtg.marketingSequence)),damIconPath:"black/transportation/truckL",key:"SDD",title:Object(k.D)(e.commonCmsContent,"rtgHeading",w.c.deliveryOptions.rtg.heading),details:Object(k.t)(Object(k.D)(e.commonCmsContent,"rtgSubHeading",w.c.deliveryOptions.rtg.subHeading)),reportingName:"SAME DAY DROP OFF"}},D=function(e){var t="";if(e){var n=e.split("+");t=n[0]?n[0]:e}return t},R=function(t){if(t.service){var n=t.service;j=n.indexOf(231)>-1}B();var a=r()(Object(k.D)(e.commonCmsContent,"bopisMarketingSequence",w.c.deliveryOptions.bopis.marketingSequence)),i=j?Object(k.D)(e.commonCmsContent,"bopisHeadingCurbsideAndInstore",w.c.deliveryOptions.bopis.headingCurbsideAndInstore):Object(k.D)(e.commonCmsContent,"bopisHeading",w.c.deliveryOptions.bopis.heading),o=j?Object(k.D)(e.commonCmsContent,"bopisSubheadingCurbsideAndInstore",w.c.deliveryOptions.bopis.subHeadingCurbsideAndInstore):Object(k.D)(e.commonCmsContent,"bopisSubheading",w.c.deliveryOptions.bopis.subHeading),s=Object(k.D)(e.commonCmsContent,"bopisLinkLabel",w.c.deliveryOptions.bopis.linkLabel);return e.disableC2S||!t.isAvailable&&!e.rtiFunctionFlag||(document.cookie="selectedstore=storeinvid=".concat(t.inv_id,"|selectedzip=").concat(t.postal,";path=/")),Object(k.tb)(D(t.postal)),{available:!!t.isAvailable,marketingsequence:a,damIconPath:"black/retail/instorepickupL",key:"C2S",details:te(O,{subHeading:o,linkLabel:s,storeInformation:t,dataQa:e.dataQa,openModal:H}),title:i,reportingName:"STORE",isCurbsideAvailable:j}},F=function(t){var n={isDelivery:!0,standardShipping:!1,dateFrom:void 0,dateTo:void 0,subHeading:void 0},a=r()(Object(k.D)(e.commonCmsContent,"dfMarketingSequence",w.c.deliveryOptions.df.marketingSequence)),i=Object(k.D)(e.commonCmsContent,"dfStandardHeading",w.c.deliveryOptions.df.standardHeading),o=Object(k.D)(e.commonCmsContent,"dfNonStandardHeading",w.c.deliveryOptions.df.nonStandardHeading),s=Object(k.D)(e.commonCmsContent,"dfSubHeading",w.c.deliveryOptions.df.subHeading);return void 0!==t.deliveryDates?(n.dateFrom=E(t.deliveryDates.dateFrom),n.dateTo=E(t.deliveryDates.dateTo)):void 0!==t.shipmentDates&&(n.isDelivery=!1,n.dateFrom=E(t.shipmentDates.dateFrom),n.dateTo=E(t.shipmentDates.dateTo)),void 0!==n.dateFrom&&(n.standardShipping=Q(n.dateFrom)),n.subHeading=s,{damIconPath:"black/retail/shippingL",title:n.standardShipping?i:o,details:ne(n),marketingsequence:a,key:"DF",reportingName:"DIRECT"}},E=function(e){var t=e.split("-");return w.c.months[Number(t[1])-1]+" "+t[2]+", "+t[0]},U=function(){return{damIconPath:"black/retail/shippingL",title:"Free Shipping",details:"Delivered in 3 - 5 business days",marketingsequence:r()(Object(k.D)(e.commonCmsContent,"dfMarketingSequence",w.c.deliveryOptions.df.marketingSequence)),key:"AD",reportingName:"DEFAULT SHIPPING METHOD"}},B=function(){T(Object(k.t)(Object(k.D)(e.commonCmsContent,"deliveryOptionsSubheadingEnjoyIneligible",w.c.deliveryOptions.deliveryOptionsSubheadingEnjoyIneligible)))},H=function(){b(!0)},V=function(){b(!1)},_=function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};(new G.a).fireLinkClickEvent(n)},Q=function(e){var t=new Date,n=new Date(e);return t.setDate(t.getDate()+3),t<n};return 0===s.length||e.isComingSoon||e.isEndOfSku||e.effectiveOutOfStock?null:te(m.a.Fragment,null,te(y.a,{space:24,topSpace:0}),te("span",{className:"jsx-2040886240 type-base color-ui-black font-medium"},"Delivery options"),te("div",{className:"jsx-2040886240 mar-t-sm-lg mar-b-sm-lg type-sm color-ui-black font-regular"},I),te("div",{id:"deliveryOptions",className:"jsx-2040886240 mar-b-sm"},s.map((function(t){return("C2S"!==t.key||e.disableC2S)&&("SDD"!==t.key||e.disableSDD)?"DF"===t.key||"AD"===t.key?te(v,Object(i.a)({key:t.key},t)):void 0:te(v,Object(i.a)({key:t.key},t))}))),te(C.default,{isOpen:g,onRequestClose:function(){_("CloseX",e.isAccessory?w.c.reporting.pageUrl.storeAvailModal.accessories:w.c.reporting.pageUrl.storeAvailModal.phones),V()},header:te("h1",{className:"jsx-2040886240 heading-md"},"Stores with "+e.deviceName+" in stock"),width:5},te(J,{data:{activeStoreId:n.id||"",displayName:e.deviceName,skuId:e.skuId,skuBillCode:e.billCode,updateStore:function(t,n,i){var o={};o.mystore_name=t.mystore_name,o.address1=t.address1,o.address2=t.address2,o.postal=t.postal,o.city=t.city,o.region=t.region,o.id=t.id,o.isAvailable=!0,o.service=t.service,j=o.service.indexOf(231)>-1,B(),a(o);var c=r()(Object(k.D)(e.commonCmsContent,"bopisMarketingSequence",w.c.deliveryOptions.bopis.marketingSequence)),d=j?Object(k.D)(e.commonCmsContent,"bopisHeadingCurbsideAndInstore",w.c.deliveryOptions.bopis.headingCurbsideAndInstore):Object(k.D)(e.commonCmsContent,"bopisHeading",w.c.deliveryOptions.bopis.heading),p=j?Object(k.D)(e.commonCmsContent,"bopisSubheadingCurbsideAndInstore",w.c.deliveryOptions.bopis.subHeadingCurbsideAndInstore):Object(k.D)(e.commonCmsContent,"bopisSubheading",w.c.deliveryOptions.bopis.subHeading),u=Object(k.D)(e.commonCmsContent,"bopisLinkLabel",w.c.deliveryOptions.bopis.linkLabel);document.cookie="selectedstore=storeinvid=".concat(t.inv_id,"|selectedzip=").concat(t.postal,";path=/"),Object(k.tb)(D(t.postal));var f=s.map((function(t){return"C2S"===t.key?{marketingsequence:c,iconName:"shoppingcart-fast",key:"C2S",details:te(O,{linkLabel:u,subHeading:p,storeInformation:o,dataQa:e.dataQa,openModal:H}),title:d,reportingName:"STORE"}:t}));l(f),_(n,i),x.a.saveFavStoreLocalStorage(t),V()},zipCode:n.postal||"",ignoreFlow:e.ignoreFlowForBopis,commonCmsContent:e.commonCmsContent,isAccessory:e.isAccessory,deviceType:e.sku.deviceType,planCmsContent:e.planCmsContent}})),te(u.a,{id:"2040886240"},[".collapsed.jsx-2040886240{padding-bottom:14px;}"]))}},v7gz:function(e,t,n){"use strict";var a=n("q1tI"),i=n.n(a),o=n("bNcH"),r=n("uVxl"),s=n("JNjH"),c=n("lNN+"),l=n("mwIZ"),d=n.n(l),p=i.a.createElement,u=function(e){var t=e.selectedSku,n=e.dataQa,a=e.onLegalClick,l=i.a.useContext(s.a),u=i.a.useContext(c.a),f=l.priceOptions,m=l.selectedPricingIndex,h=f[t.skuId],g=h?h[m]:null,b=null===t.deviceType,v="postpaid"!==t.paymentType||g&&0===g.monthlyLeasePrice,y=d()(g,"heroInstallmentLegal.master.legalShortPath.master.legalText","");return p(i.a.Fragment,null,!!g&&!!l.selectedContractTerm&&!!l.selectedContractTerm.leaseTotalMonths&&!!(l.selectedContractTerm.leaseTotalMonths>0)&&!!u&&"true"===u.featureFlags["pdp-commonlegal"]&&y.length>0&&p(i.a.Fragment,null,p(o.a,{msrpPrice:!v&&g.listPrice,legalContent:g.heroInstallmentLegal,termLength:!v&&g.leaseTotalMonths,linkContent:g.displayLegalContent.detailsLink,linkCallback:a,dataQa:"".concat(n,"-Legal"),isAccessory:b,sku:t}),p(r.a,{space:24,topSpace:24})))};n.d(t,"a",(function(){return u}))},vcUz:function(e,t,n){"use strict";n.r(t);var a=n("eVuF"),i=n.n(a),o=n("ln6h"),r=n.n(o),s=n("doui"),c=n("q1tI"),l=n("uKTl"),d=n("+ob+"),p=n("AGoX"),u=n("psIL"),f=n("IyUE"),m=n("YoPm"),h=n("OS9q"),g=c.createElement;t.default=function(e){var t,n=c.useState(!0),a=Object(s.a)(n,2),o=a[0],b=a[1],v=c.useState(!1),y=Object(s.a)(v,2),C=y[0],x=y[1],k=c.useState(""),S=Object(s.a)(k,2),I=S[0],O=S[1];return c.useEffect((function(){var t,n;(null===(t=e.data)||void 0===t?void 0:t.isOpen)&&function(e,t,n){var a;r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,r.a.awrap(u.a.getLegalContentFromIDPCMS6_4(e,t,n,"pricing"));case 3:(a=i.sent)?O(a):x(!0),e?O(a):x(!0),i.next=12;break;case 8:i.prev=8,i.t0=i.catch(0),f.a.Error("Error fetching pricing legal: ",i.t0),x(!0);case 12:b(!1);case 13:case"end":return i.stop()}}),null,null,[[0,8]],i.a)}(e.legalPaths,null,null===(n=e.skuInContext)||void 0===n?void 0:n.paymentType)}),[null===(t=e.data)||void 0===t?void 0:t.isOpen]),g(p.default,{isOpen:e.data.isOpen,onRequestClose:e.data.onRequestClose,modalContainerClassName:e.data.containerClassName,modalContentClassName:e.data.contentClassName,modalRowClassName:e.data.rowClassName,modalCloseClassName:e.data.closeClassName,modalTextClassName:e.data.textClassName,showSeperator:e.data.showSeperator,width:e.data.width},o&&!C&&g("div",null,g(d.a,{height:"28px",width:"84px"}),g(d.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),g(d.a,{height:"60px",width:"100%",innerClass:"mar-b-xs"}),g(d.a,{height:"60px",width:"100%",innerClass:"mar-b-md"}),g(d.a,{height:"60px",width:"90%",innerClass:"mar-b-xs"}),g(d.a,{height:"60px",width:"80%",innerClass:"mar-b-md"}),g(d.a,{height:"24px",width:"72px",innerClass:"mar-b-xxs"}),g("br",null)),!o&&!C&&g(h.a.Consumer,null,(function(e){return g(m.a,{data:I,prop65Flag:!1,cqKeys:e})})),C&&g("div",{className:l["priceLegalModal-error"]},g("h1",null,"We encountered an error.")))}},wy11:function(e,t,n){"use strict";var a=n("6BQ9"),i=n.n(a),o=n("MX0m"),r=n.n(o),s=n("q1tI"),c=n.n(s),l=n("JNjH"),d=n("lZBS"),p=n("cq7Z"),u=n("mwIZ"),f=n.n(u),m=n("kMre"),h=c.a.createElement;t.a=function(e){var t=e.dataQa,n=e.configView,a=e.nextUpConsented,o=e.tradeInConsented,u=e.portInConsented,g=e.hylaOfferCodeRetrieved,b=c.a.useContext(l.a),v=Object(s.useState)(!!n),y=v[0],C=v[1],x="AT&T Next Up(SM)";x=x.replace("(SM)","<sup>SM</sup>");f()(e.learnViewPropsState,"configNextUp",!1);return h(c.a.Fragment,null,b.priceOptions[b.selectedSku.skuId]&&b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex]&&b.nextUpContent&&b.priceOptions[b.selectedSku.skuId][b.selectedPricingIndex].netPrice===b.nextUpContent.monthlyLeasePrice&&h(m.a,{dataQa:t,aria:"Next Up",label:b.nextUpContent.nextUpHeader,description:b.nextUpContent.nextUpSubHeader,descriptionWhenSelected:!1,collapsedContent:h(c.a.Fragment,null,h("div",{className:"jsx-3133634532 type-base mar-r-xxs font-bold"},1===b.selectedPricingIndex?h("span",{dangerouslySetInnerHTML:{__html:x},className:"jsx-3133634532"}):h("span",{className:"jsx-3133634532"},"No, thanks")),1===b.selectedPricingIndex&&h("div",{className:"jsx-3133634532 margin-left-auto"},h("span",{className:"jsx-3133634532 font-medium type-sm"},"+"),h("span",{className:"jsx-3133634532 font-bold type-base text-right"},"$5.00"),h("span",{className:"jsx-3133634532 font-bold type-sm"},"/mo."))),content:h(d.c,{id:"RadioSelection-NextUp",onChange:function(e){b.updateSelectedContractTerm(i()(e),!0)},defaultSelection:0!==b.selectedPricingIndex?b.nextUpContent.nextUpIndex:b.nextUpContent.nonNextUpIndex,dataQa:t},h("div",{className:"jsx-3133634532 flex flex-column"},h(d.b,{value:b.nextUpContent.nextUpIndex,name:"nextUpYes",inputName:"nextUp",id:"nextUpYes",ariaLabel:"Yes",ariaControls:b.nextUpContent.nextUpIndex,ariaHidden:y,dataQa:"".concat(t,"-NextUp"),options:{fullWidth:!0,noTopMar:!0,buttonClasses:"flex-column pad-xs"}},(function(e){return h(c.a.Fragment,null,h("div",{className:"jsx-3133634532 "+"flex full-width font-regular type-base ".concat(e?"color-ui-black":"color-ui-dark-gray"," mar-b-none")},h("div",{className:"jsx-3133634532 mar-r-xxs"},b.nextUpContent.nextUpYes),h("div",{style:{marginLeft:"auto"},className:"jsx-3133634532"},h("span",{className:"jsx-3133634532 font-medium type-sm"},"$"===b.nextUpContent.nextUpPriceDisplay.charAt(0)?"+":""),h("span",{className:"jsx-3133634532 font-bold type-base"},b.nextUpContent.nextUpPriceDisplay),h("span",{className:"jsx-3133634532 font-bold type-sm"},b.nextUpContent.nextUpSuffix))))})),h(d.b,{value:b.nextUpContent.nonNextUpIndex||0,name:"nextUpNo",inputName:"nextUp",id:"nextUpNo",ariaLabel:"No",ariaControls:b.nextUpContent.nonNextUpIndex||0,ariaHidden:y,dataQa:"".concat(t,"-NonNextUp"),options:{fullWidth:!0,buttonClasses:"flex-column pad-xs"}},(function(e){return h(c.a.Fragment,null,h("div",{className:"jsx-3133634532 "+"flex full-width font-regular type-base ".concat(e?"color-ui-black":"color-ui-dark-gray"," mar-b-none")},h("div",{className:"jsx-3133634532"},b.nextUpContent.nextUpNo)))})))),isCollapsed:y,isSelected:!!x,collapseEnabled:!0,onAccordionClick:e.configView?{pathname:"".concat(e.learnViewPath),state:{configScroll:"NEXTUP",configNextUp:a,configTradeIn:o,configPortIn:u,configHylaCode:g}}:function(){var e=new p.a,t={linkDestinationUrl:b.selectedSku.devicePageURL,linkName:"NextUp"+(y?"_Expand":"_Collapse"),linkPosition:"Body"};e.fireLinkClickEvent(t),C(!y)}}),h(r.a,{id:"3133634532"},[".margin-left-auto.jsx-3133634532{margin-left:auto;}",".configured-label.jsx-3133634532{font-size:16px;margin-bottom:24px;line-height:1.6;}",".font-subheader.jsx-3133634532{font-size:16px;}",".font-monthly.jsx-3133634532{font-size:14px;}",".pricing-prefix.jsx-3133634532{font-size:14px;}"]))}},x2bk:function(t,n,a){"use strict";a.r(n);var i=a("hfKm"),o=a.n(i),r=a("2Eek"),s=a.n(r),c=a("XoMD"),l=a.n(c),d=a("Jo+v"),p=a.n(d),u=a("4mXO"),f=a.n(u),m=a("pLtp"),h=a.n(m),g=a("pbKT"),b=a.n(g),v=a("0iUn"),y=a("sLSF"),C=a("AT/M"),x=a("Tit0"),k=a("MI3g"),S=a("a7VT"),I=a("vYYK"),O=a("q1tI"),w=a("xEeC"),T=a("cq7Z"),L=a("ETzL"),N=a("RrNd"),j=a("Da3r"),P=a("C3wX"),M=a("BgAt"),A=a("U/e8"),D=a("0Yz8"),R=O.createElement;function F(e,t){var n=h()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return p()(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(I.a)(e,t,n[t])})):l.a?s()(e,l()(n)):F(Object(n)).forEach((function(t){o()(e,t,p()(n,t))}))}return e}function U(t){var n=function(){if("undefined"===typeof Reflect||!b.a)return!1;if(b.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(b()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var e,a=Object(S.a)(t);if(n){var i=Object(S.a)(this).constructor;e=b()(a,arguments,i)}else e=a.apply(this,arguments);return Object(k.a)(this,e)}}var B=function(e){Object(x.a)(n,e);var t=U(n);function n(e){var a;return Object(v.a)(this,n),a=t.call(this,e),Object(I.a)(Object(C.a)(a),"reporting",void 0),a.state={intentsObject:{},addToCartSuccess:void 0},a.reporting=new T.a,a.intentModalCallback=a.intentModalCallback.bind(Object(C.a)(a)),a.intentModalPageLoadEvent=a.intentModalPageLoadEvent.bind(Object(C.a)(a)),a}return Object(y.a)(n,[{key:"componentDidMount",value:function(){this.props.intentsToShow.length>0&&this.generateIntentsObject(this.props.intentsToShow,this.props.showNewCustomerLink)}},{key:"componentWillUpdate",value:function(e){(e.intentsToShow.length>0&&e.intentsToShow!==this.props.intentsToShow||e.showNewCustomerLink!==this.props.showNewCustomerLink)&&this.generateIntentsObject(e.intentsToShow,e.showNewCustomerLink)}},{key:"render",value:function(){return R(O.Fragment,null,R(w.a,{userIntentData:this.state.intentsObject,headerText:"Sign in for faster checkout",dataQa:"PDPPage-intentModal-",isIntentModalOpen:this.props.isIntentModalOpen,onUserInput:this.intentModalCallback,showNewCustomerLink:this.props.showNewCustomerLink,bgPageLoadEvent:this.props.bgPageLoadEvent,modalPageLoadEvent:this.intentModalPageLoadEvent,isAccessory:this.props.isAccessory}))}},{key:"intentModalPageLoadEvent",value:function(){var e=E({},{"page.attributes.productType":"Accessory","page.attributes.sku":this.props.selectedSku.skuId,"page.attributes.skuName":this.props.selectedSku.shortDisplayName||this.props.selectedSku.displayName,"page.category.applicationName":"Sales Wireless Full Web","page.category.pageFunction":"Sales","page.category.pageGroup":"WIRELESS ONLINE STORE","page.category.pageOwnership":"Consumer","page.location.url":"/accessories/intent/modal","page.category.siteSection":"myATT Sales","page.location._addressBarFullURL":window.location.href,"page.location.domain":window.location.hostName,"page.pageInfo.lineOfBusiness":"Wireless","page.pageInfo.flowCode":"DSACC","page.pageInfo.responsiveWebDesignFlag":1,"page.pageInfo.zipCode":this.props.profileInfo.zipCode,"chat.offerCode":"Default","user.customerType":Object(P.b)(this.props.profileInfo.customerType),"user.account.liabilityType":Object(P.c)(this.props.profileInfo.customerType),"user.uuid":this.props.profileInfo.uuid,"page.pageInfo.friendlyPageName":"DS Accessory Only Intent Modal Pg",url:"/devices/intent/modal"});this.reporting.firePageLoadEvent(e)}},{key:"intentModalCallback",value:function(e){var t=this.props.isIdpAccessoryRedirectOn;if(this.setIntentButtonAsSpinner(e),!0===t)switch(e){case"ACCNEW":window.location.href="".concat(N.b.productDetailsUrls.idseCart);break;case"ACC":window.location.href=Object(A.R)(N.b.productDetailsUrls.idseCart);break;case"EXIT":default:this.props.closeModal()}else switch(e){case"ACCNEW":this.onIntentSelection(e,j.c.intentModalContent.UnauthWirelessAccessory.New.intentDisplayName);break;case"ACC":this.onIntentSelection(e,j.c.intentModalContent.UnauthWirelessAccessory.Existing.intentDisplayName);break;case"EXIT":default:this.props.closeModal()}}},{key:"setIntentButtonAsSpinner",value:function(e){R(D.a,{config:{size:"30px"}});if("ACCNEW"===e)this.setState({intentsObject:E({},this.state.intentsObject,{New:[E({},this.state.intentsObject.New[0],{intentDisplayName:R(D.a,{config:{size:"20px"}})})]})});else{var t=this.state.intentsObject.Existing.map((function(t){return t.key===e?E({},t,{intentDisplayName:R(D.a,{config:{size:"20px"}})}):t}));this.setState({intentsObject:E({},this.state.intentsObject,{Existing:t})})}}},{key:"generateIntentsObject",value:function(e,t){var n={Existing:[],New:[]};e.indexOf("ACCNEW")>-1&&(n.New=[j.c.intentModalContent.UnauthWirelessAccessory.New]),e.indexOf("ACC")>-1&&n.Existing.push(j.c.intentModalContent.UnauthWirelessAccessory.Existing),this.setState({intentsObject:n})}},{key:"onIntentSelection",value:function(e,t){var n=this,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.props.selectedSku.skuId,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.props.selectedContractTerm.name,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.props.selectedContractTerm.termLength;try{L.a.setUserIntent_pdp(e,a,i,o).then((function(e){n.props.fireReportingAndNavigate(e.redirectURL,t)}))}catch(r){throw"true"===Object(A.H)()["pdp-spo-device-details"]?M.p:M.q}}},{key:"fireModalLinkClickEvent",value:function(e,t){var n={linkDestinationUrl:t,linkName:e,linkPosition:"Body"};this.reporting.fireLinkClickEvent(n)}}]),n}(O.Component);n.default=B}}]);