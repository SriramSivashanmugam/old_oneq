function format(t){if(typeof t!=typeof"")return null;if(arguments.length<=1)return t;for(var e=1;e<arguments.length;e++)t=t.replace(new RegExp("\\{"+(e-1)+"\\}","g"),arguments[e]);return t}function sentenceCase(t){return t[0].toUpperCase()+t.slice(1)}function capitalCase(t){return t.split(" ").map((function(t){return 0<t.length?t[0].toUpperCase()+t.slice(1):t})).join(" ")}function oneAtATime(t){var e=!0,i=function(){e=!0};return function(){if(e){e=!1;var n=[].slice.call(arguments).concat(i);t.apply(this,n)}}}function shuffle(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1));[t[e],t[i]]=[t[i],t[e]]}return t}function debounce(t,e,i){var n;return function(){var s=this,a=arguments;var r=function(){n=null,i||t.apply(s,a)};var o=i&&!n;clearTimeout(n),n=setTimeout(r,e),o&&t.apply(s,a)}}function sb_debounce(t,e){var i;return function(){clearTimeout(i),i=setTimeout(function(){t.apply(this,[].slice.call(arguments))}.bind(this),e)}}function RunWhen(t,e){var i=window.location.pathname;t instanceof RegExp?t.test(i)&&e():"function"==typeof t?t()&&e():"boolean"==typeof t?t&&e():i==t&&e()}function RunWhenDone(t,e){if(!(Array.isArray(t)&&0<=t.length&&e instanceof Function))throw new Error("Incorrect argument: need an array and a function respectively.");function i(){--n}var n=t.length;t.map((function(t){setTimeout((function(){t(i)}),0)}));var s=setInterval((function(){n<=0&&(clearInterval(s),e())}),10)}function RunForTime(t,e){var i=setInterval(t,10);setTimeout(clearInterval,e,i)}function mark_is_touch_device(){window.isTouch="ontouchstart"in window||"onmsgesturechange"in window,document.body.classList.add(window.isTouch?"touch":"no-touch")}function clamp(t,e,i){return Math.min(Math.max(t,e),i)}function isSubset(t,e){if(t.length<e.length)return!1;for(var i=0;i<e.length;i++)if(t.indexOf(e[i])<0)return!1;return!0}function colorInterpolate(t,e,i){i=Math.max(0,Math.min(i,1));var n=[];for(var s=0;s<4;s++)n.push(t[s]+i*(e[s]-t[s]));return n}function rgba(){return 1==arguments.length?"rgba("+arguments[0][0]+","+arguments[0][1]+","+arguments[0][2]+", "+arguments[0][3]+")":"rgba("+arguments[0]+","+arguments[1]+","+arguments[2]+", "+arguments[3]+")"}function interpolate(t,e,i){if(3==arguments.length)return t+i*(e-t);if(2==arguments.length&&Array.isArray(t))return t[0]+e*(t[1]-t[0]);throw new Error("Invalid arguments")}function MouseHoverLong(){function t(e){this===window&&new t(e),this.el=e,this.time=Number(e.getAttribute("sb-hover-long"))||2e3,this.timeout=null,this.trigger=function(){this.el.dispatchEvent(new Event("long-hover"))},this.el.addEventListener("mouseenter",function(){this.timeout=setTimeout(this.trigger.bind(this),this.time)}.bind(this)),this.el.addEventListener("mouseleave",function(){clearTimeout(this.timeout)}.bind(this))}document.querySelectorAll("[sb-hover-long]").forEach(t)}function ScrollSync(t,e){"__sb_scroll_sync"in window||(window.__sb_scroll_sync={channels:{}});for(var i=0;i<t.length;i++){var n=t[i];var e;if(null==e)e=null==(e=n.getAttribute("sb-scrollsync"))?"0":e;n.setAttribute("sb-scrollsync",e),e in window.__sb_scroll_sync.channels||(window.__sb_scroll_sync.channels[e]={scrollTop:0,scrollLeft:0,elements:[]}),window.__sb_scroll_sync.channels[e].elements.push(n),n.addEventListener("scroll",(function(t){var e=t.target.getAttribute("sb-scrollsync"),i=t.target.scrollLeft,n=t.target.scrollTop;var s=window.__sb_scroll_sync.channels[e];s.scrollLeft=i,s.scrollTop=n,s.scrollLeftPercent=i/(t.target.scrollWidth-t.target.clientWidth),s.scrollTopPercent=n/(t.target.scrollHeight-t.target.clientHeight);var a=s.elements;for(var r=0;r<a.length;r++)t.target!=a[r]&&a[r].scrollTo(i,n)}))}}function DelayedMouseleave(t,e){if(this===window)return new DelayedMouseleave(t,e);e="object"==typeof e?e:{},this.element=t;var i=parseInt(t.getAttribute("sb-delayed-mouseleave"));this.time=!isNaN(i)&&0<i?i:800,this.className=e.className||"mouseentered",this.timeout,this.delayedHover=function(){this.element.classList.remove(this.className),this.element.dispatchEvent(new Event("delayed-mouseleave"))}.bind(this),t.addEventListener("mouseenter",function(t){clearTimeout(this.timeout),this.element.classList.add(this.className)}.bind(this)),t.addEventListener("mouseleave",function(t){this.timeout=setTimeout(this.delayedHover,this.time)}.bind(this))}function SBFadeOnScroll(t){if(this===window)return new SBFadeOnScroll(t);this.element=t,this.opacity=0,this.element.style.opacity=0,window.addEventListener("scroll",function(){var t=this.element.getBoundingClientRect();var e=window.innerHeight/2;var i=Math.min(Math.abs(e-t.top-60),Math.abs(e-t.bottom));var n=1-Math.max(0,Math.min(i/e,1));this.opacity=Math.max(n,this.opacity),.95<this.opacity&&(this.opacity=1),this.element.style.opacity=this.opacity}.bind(this))}function SBElementProximityFromScreenCenter(t){if(this===window)return new SBElementProximityFromScreenCenter(t);this.element=t,this.update=function(){var t=this.element.getBoundingClientRect();var e=window.innerHeight/2;var i=(t.bottom+t.top)/2;var n=Math.abs(e-i);this.element.dispatchEvent(new CustomEvent("sb_proximity",{detail:n}))}.bind(this),window.addEventListener("scroll",this.update),jQuery(document).ready(function(){this.update()}.bind(this)),this.update()}function SBAnimateScroll(t){let e=$("#site-header > .site-menus");t.addEventListener("click",(function(t){t.preventDefault();let i=parseInt(this.getAttribute("sb-as-offset"));i=isNaN(i)?0:i;let n=this.getAttribute("href");$("html, body").animate({scrollTop:$(n).offset().top-e.outerHeight()+i},2e3)}))}function SBEvent(t){if(this===window)return new SBEvent(t);var e={};t.on=function(i,n){return n instanceof Function&&(i in e||(e[i]=[]),e[i].push(n.bind(t)),!0)},t.trigger=function(i){var n=Array.prototype.slice.call(arguments,1);if(i in e){var s=e[i];for(var a=0;a<s.length;a++)s[a].apply(t,n)}}}function PictureOnLoad(t,e){var i=document.querySelectorAll(t);var n=/^\s*(([^\s]*)\s*([0-9]x))(\s*,\s*(([^\s]*)\s*([0-9]x)))*\s*$/;var s=/^\s*\(\s*((max-width)|(min-width))\s*:\s*([0-9]+)px\s*\)\s*$/;var a=new Image;function r(t){var e=t.matches(n);return 2==window.devicePixelRatio?e[6]:e[2]}function o(t){var e=t.matches(s);var i=e[4];if(isNaN(i))throw new Error("Invalid media query");if("min-width"==e[3])return window.innerWidth<=i;if("max-width"==e[3])return window.innerWidth>=i;if("width"==e[3])return window.innerWidth==i;throw new Error("Invalid media query")}function c(t){var e=t.querySelectorAll("source");for(var i=0;i<e.length;i++){var n=r(e[i].getAttribute("srcset"));var s;if(o(e[i].getAttribute("media")))return n}}function l(){u<=d+h&&(clearInterval(ci),setTimeout(e,0))}var u=i.length,d=0,h=0;for(var m=0;m<i.length;m++){var a;(a=new Image).onload=function(){++d,l()},a.onerror=function(){++h,l()},a.src=c(i[m])}}function OnImgDownload(t,e){var i=Array.prototype.slice.call(arguments,2);var n=new Image;n.onload=function(){e.apply({status:1},i),delete n},n.onerror=function(){e.apply({status:0},i),delete n},n.src=t}function AllChildImgsLoad(t,e){var i=t.querySelectorAll("img");var n=i.length;i.forEach((function(t){t.onload=function(){n-=1},t.complete&&(n-=1)}));var s=setInterval((function(){n<=0&&(clearInterval(s),setTimeout(e,0))}),50)}function isBoolean(t){return 0==t||1==t}function slideDown(t,e){e=isNaN(e)||e<=0?1e3:e,t.style.display="block";var i=t.scrollHeight;var n=Date.now();function s(){var a;var r=(Date.now()-n)/e;1<=(r*=r*r)?t.style.height=i+"px":(t.style.height=Math.round(r*i)+"px",requestAnimationFrame(s))}requestAnimationFrame(s)}function slideUp(t,e){e=isNaN(e)||e<=0?1e3:e;var i=t.scrollHeight;var n=Date.now();function s(){var a;var r=1-(Date.now()-n)/e;1<=(r*=r*r)?(t.style.height="0px",t.style.display="none"):(t.style.height=Math.round(r*i)+"px",requestAnimationFrame(s))}requestAnimationFrame(s)}function getElementIndex(t){var e=0;while(t=t.previousElementSibling)e++;return e}function detachNode(t){return t.parentElement.removeChild(t)}function clearContent(t){while(t.firstChild)t.removeChild(t.firstChild)}function SBLazyImg(t){if(this===window)return new SBLazyImg(t);if(this.isPicture="PICTURE"==t.parentElement.tagName.toUpperCase(),this.element=t,this.downloaded=!1,this.loadOnScrollIntoView="scroll"==t.getAttribute("sb-lazyload").toLowerCase().trim(),this.download=function(e){if(e=e instanceof Function?e:function(){},this.downloaded)return e.call(this);var i=function(){this.downloaded=!0,e.call(this)}.bind(this);if(this.isPicture){var n=window.innerWidth;var s=this.srcsets[0];for(var a=0;a<this.srcsets.length;a++)if(n<this.srcsets[a][0]){s=this.srcsets[a];break}var r=this.url+"&auto=format&q=65&w="+s[1];var o;(o=new Image).onload=i,o.onerror=i,o.src=r,o.complete&&i()}else{var r=t.getAttribute("lazy-src");var o;(o=new Image).onload=i,o.onerror=i,o.src=r,o.complete&&i()}},this.load=function(e){this.download(function(){if(this.isPicture){var i="",n='<source srcset="{0}&auto=format&q=65&w={1} 1x, {0}&auto=format&q=65&w={1}&dpr=2 2x" media="(max-width:{2}px)">';for(var s=0;s<this.srcsets.length;s++){var a=this.srcsets[s];i+=n.replace(/\{0\}/g,this.url).replace(/\{1\}/g,a[1]).replace(/\{2\}/g,a[0])}i+='<source srcset="{0}&auto=format&q=65&w={1} 1x, {0}&auto=forma,compresst&q=75&w={1}&dpr=2 2x" media="(min-width:{2}px)">'.replace(/\{0\}/g,this.url).replace(/\{1\}/g,a[1]+1).replace(/\{2\}/g,a[0]+1);var r=document.createElement("div");var o=document.createDocumentFragment();r.innerHTML=i;while(s=r.firstChild)o.appendChild(s);this.element.parentElement.insertBefore(o,this.element);var c=t.getAttribute("lazy-src");t.setAttribute("src",c),e.call(this)}else{var c=t.getAttribute("lazy-src");t.setAttribute("src",c),e.call(this)}}.bind(this))},t.component=this,this.isPicture){this.url=t.getAttribute("sb-url");var e=t.getAttribute("sb-sizes");this.srcsets=e.split(",").map((function(t){var e=t.split(":");return[parseInt(e[0]),parseInt(e[1])]}))}}function docOffset(t){var e=0,i=0;do{e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:i}}function toggleAttribute(t,e,i){(i=0==i||1==i?i:!t.hasAttribute(e))?t.setAttribute(e,""):t.removeAttribute(e)}function stringToDOM(t){var e,i=document.createElement("div"),n=document.createDocumentFragment();i.innerHTML=t;while(e=i.firstChild)n.appendChild(e);return n}function createElement(t,e){var i=document.createElement(t);if(!Array.isArray(e))return i;for(var n in e){var s=document.createAttribute(n);s.value=e[n],i.setAttribute(s)}return i}function NodelistFind(t,e){for(var i=0;i<t.length;i++)if(1==e(t[i]))return t[i]}function NodelistFilter(t,e){var i=[];for(var n=0;n<t.length;n++)1==e(t[n])&&i.push(t[n]);return i}function FindNodeWithAllAttributes(t,e){var i=null;return t.forEach((function(t){for(var n=0;n<e.length;n++)if(!t.hasAttribute(e[n]))return;i=t})),i}function FindNodeWithAnyAttributes(t,e){for(var i=0;i<t.length;i++)for(var n=0;n<e.length;n++)if(t[i].hasAttribute(e[n]))return t[i]}function findNodeWithAttribute(t,e,i){var n=null;for(var s=0;s<t.length;s++)if(t[s].getAttribute(e)==i)return t[s];return null}function SBPopup(){if(this===window)return new SBPopup;this.channels={},this.elements={popups:document.querySelectorAll("[sb-popup]"),toggles:document.querySelectorAll("[sb-popup-toggle]")},this.elements.toggles.forEach(function(t){t.addEventListener("click",function(t){t.preventDefault();var e=t.currentTarget.getAttribute("sb-popup-toggle");e in this.channels||(this.channels[e]=!1),this.channels[e]=!this.channels[e];var i=new Event(this.channels[e]?"sb-activate":"sb-deactivate");this.elements.popups.forEach((function(t){t.dispatchEvent(i)}))}.bind(this))}.bind(this))}function FancySelect(t){var e=this;var t;function i(){this.fancySettings.active=!1,this.classList.remove("active"),this.dispatchEvent(new Event("close"))}function n(){this.fancySettings.active=!0,this.classList.add("active"),this.dispatchEvent(new Event("open"))}(t=t).fancySettings={},t.fancySettings.active=!1,t.fancySettings.labelElement=t.querySelector("[fancy-selected]"),t.value=t.fancySettings.labelElement.getAttribute("value"),document.addEventListener("click",(function(e){if(t.contains(e.target)){if(e.target.hasAttribute("fancy-selected"))t.fancySettings.active?i.call(t):n.call(t);else if(e.target.hasAttribute("fancy-option")){var s=e.target.getAttribute("value");s!=t.value&&(t.value=s,t.fancySettings.labelElement.innerText=e.target.innerText,t.fancySettings.labelElement.setAttribute("value",e.target.getAttribute("value")),t.dispatchEvent(new Event("change")),i.call(t))}}else i.call(t)}))}function SBDropdown(t){if(this===window)return new SBDropdown(t);var e=t.querySelectorAll("[sb-option]");this.elements={dropdown:t},t.component=this,this.options={nullable:t.hasAttribute("sb-nullable")},this.key=t.getAttribute("sb-dropdown"),this.isOpen=!1,this.labelValue=this.elements.dropdown.getAttribute("sb-label-value");var i=this.elements.dropdown.querySelector("[sb-clear]");this.hasClear=null!=i,this.hasClear&&(this.clearHTML=i.innerHTML),this.setValue=function(t,e){var i=!1;this.value=t,this.elements.dropdown.setAttribute("sb-value",t),this.index=-1;for(var n=0;n<this.elements.options.length;n++)0==i&&this.elements.options[n].getAttribute("sb-option")==this.value?(this.index=n,this.elements.options[n].classList.add("active"),i=!0):this.elements.options[n].classList.remove("active");-1==this.index?a.innerHTML=this.labelValue:a.innerHTML=this.elements.options[this.index].innerHTML,1!=e&&this.elements.dropdown.dispatchEvent(new CustomEvent("change",{detail:{key:this.key,value:this.value}}))},this.setValueToFirstOption=function(t){var i=e[0].getAttribute("sb-option");this.setValue(i,t)},this.open=function(){this.isOpen=!0,this.elements.dropdown.classList.add("open")},this.close=function(){this.isOpen=!1,this.elements.dropdown.classList.remove("open")},this.toggle=function(){this.isOpen?this.close():this.open()};var n=document.createElement("div");n.setAttribute("sb-dropdown-options","");for(var s=0;s<e.length;s++)n.appendChild(e[s]);var a=document.createElement("div");a.setAttribute("sb-dropdown-display",""),t.appendChild(a),t.appendChild(n),this.hasClear&&n.appendChild(i),e.forEach(function(t){t.addEventListener("click",function(e){this.setValue(t.getAttribute("sb-option")),this.close()}.bind(this))}.bind(this)),this.elements.options=e,this.setValue(null),a.addEventListener("click",function(t){t.preventDefault(),this.toggle()}.bind(this)),this.hasClear&&i.addEventListener("click",function(t){t.preventDefault(),this.setValue(null),this.close()}.bind(this)),document.addEventListener("click",function(t){this.isOpen&&!this.elements.dropdown.contains(t.target)&&this.close()}.bind(this))}function SBRadio(t,e){if(this===window)return new SBRadio(t,e);this.elements={radio:t,options:t.querySelectorAll("[sb-option]")},t.component=this,this.options={},this.value=null,this.key=t.getAttribute("sb-radio"),this.update=function(t,e){this.value=t,this.elements.options.forEach((function(e){e.getAttribute("sb-option")!=t?e.classList.remove("active"):e.classList.add("active")})),1==e&&this.elements.radio.dispatchEvent(new CustomEvent("change",{detail:{key:this.key,value:this.value}}))},this.options.nullable=t.hasAttribute("sb-nullable");for(var i=0;i<this.elements.options.length;i++)this.elements.options[i].addEventListener("click",function(t){var e=t.currentTarget.getAttribute("sb-option");var i=t.currentTarget.classList.contains("disabled");e==this.value||i?this.options.nullable&&(this.update(null),this.elements.radio.dispatchEvent(new CustomEvent("change",{detail:{key:this.key,value:this.value}}))):(this.update(e),this.elements.radio.dispatchEvent(new CustomEvent("change",{detail:{key:this.key,value:this.value}})))}.bind(this))}function SBScrollBar(t,e){if(this===window)return new SBScrollBar(t,e);this.element=t,t.component=this;var i=t.getAttribute("sb-scrollbar").toLowerCase().trim();this.isHorizontal="h"==i,this.scrollerTrack=document.createElement("div"),this.scrollerBar=document.createElement("div"),this.scrollerTrack.setAttribute("sb-scrollbar-track",""),this.scrollerBar.setAttribute("sb-scrollbar-bar",""),this.scrollerTrack.appendChild(this.scrollerBar),this.container=document.createElement("div"),this.container.setAttribute("sb-scrollbar-container",""),this.wrapper=document.createElement("div"),this.wrapper.setAttribute("sb-scrollbar-wrapper","");while(t.firstChild)this.wrapper.appendChild(t.firstChild);this.container.appendChild(this.wrapper),t.appendChild(this.container),t.appendChild(this.scrollerTrack),this.isHorizontal?(this.update=function(){if(this.wrapper.clientWidth<this.wrapper.scrollWidth){var t=this.wrapper.scrollWidth-this.wrapper.clientWidth;var e;var i=this.wrapper.scrollLeft/t*(this.wrapper.clientWidth-this.scrollerBar.clientWidth);this.scrollerBar.style.left=i+"px"}},this.updateRender=function(){0==this.wrapper.scrollWidth&&0==this.wrapper.clientWidth||(this.wrapper.scrollWidth==this.wrapper.clientWidth?this.scrollerBar.style.display="none":this.scrollerBar.style.display="block")}.bind(this)):(this.update=function(){if(this.wrapper.clientHeight<this.wrapper.scrollHeight){var t=this.wrapper.scrollHeight-this.wrapper.clientHeight;var e;var i=this.wrapper.scrollTop/t*(this.wrapper.clientHeight-this.scrollerBar.clientHeight);this.scrollerBar.style.top=i+"px"}},this.updateRender=function(){0==this.wrapper.scrollHeight&&0==this.wrapper.clientHeight||(this.wrapper.scrollHeight==this.wrapper.clientHeight?this.scrollerBar.style.display="none":this.scrollerBar.style.display="block")}.bind(this));var n=this.update.bind(this);setTimeout(n,0),setTimeout(this.updateRender,0),this.wrapper.addEventListener("scroll",n),window.addEventListener("resize",n),window.addEventListener("resize",this.updateRender)}function SBAccordion(t,e){if(this===window)return new SBAccordion(t,e);this.element=t,t.component=this,this.isOpen="open"===this.element.classList.contains("active"),this.elementToggle=t.querySelector("[sb-accordion-toggle]"),this.elementContent=t.querySelector("[sb-accordion-content]"),this.toggle=function(){this.isOpen=!this.isOpen,this.element.classList.toggle("active"),this.isOpen?(this.elementContent.style.height=this.elementContent.scrollHeight+"px",this.element.dispatchEvent(new Event("sb-accordion-open"))):(this.elementContent.style.height="0",this.element.dispatchEvent(new Event("sb-accordion-close")))};var i=this.toggle.bind(this);this.elementToggle.addEventListener("click",i),window.addEventListener("resize",function(){this.isOpen&&(this.elementContent.style.height=this.elementContent.scrollHeight+"px")}.bind(this))}function TrainTracks(t,e,i){this.track=document.querySelector(t),this.train=document.querySelector(e),this.offset=i,this.doc="safari"==SB.browserType||"edge"==SB.browserType?document.body:document.documentElement,this.updateTrain=function(){var t=this.doc.scrollTop+window.innerHeight/2+this.train.clientHeight/2;bottomLimit=this.track.offsetTop+this.track.clientHeight-this.offset,this.track.clientHeight<window.innerHeight?(this.train.classList.remove("lock"),this.track.classList.add("viewport-bigger")):(this.track.classList.remove("viewport-bigger"),t<bottomLimit?this.train.classList.remove("lock"):this.train.classList.add("lock"))}}function ATCFloater(t,e,i,n){if(this===window)return new ATCFloater(t,e,i,n);this.element=document.querySelector(t),this.containerElement=document.querySelector(n.containerSel),this.startElement=document.querySelector(e),this.headerElement=document.querySelector(i),this.animationTime=n.animationTime||7e3,this.active=!0,this.running=!1,this.time=[null,null],this.progress=0,this.doc="safari"==SB.browserType||"edge"==SB.browserType?document.body:document.documentElement,this.startAnimation=function(){this.running||(this.running=!0,this.time[0]=this.time[1]=Date.now(),this.progress=this.active?1:0,requestAnimationFrame(this.animate.bind(this)))},this.animate=function(){this.time[1]=Date.now();var t=(this.time[1]-this.time[0])/this.animationTime;this.progress+=this.active?-t:t,this.progress<0?(this.element.style.display="none",this.running=!1):1<this.progress?(this.element.style.display="block",this.running=!1):(this.element.style.display="block",requestAnimationFrame(this.animate.bind(this)));var e=clamp(this.progress,0,1);this.element.style.height=this.element.scrollHeight*Math.sqrt(e)+"px",this.containerElement.style.opacity=e*e*e},this.updateState=function(){var t;var e;var i=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop)<this.startElement.offsetTop;i?i!=this.active&&(this.active=i,document.body.classList.add("atc-floater-lock"),this.startAnimation()):i!=this.active&&(this.active=i,document.body.classList.remove("atc-floater-lock"),this.startAnimation())},this.headerElement.appendChild(this.element);var s=this.updateState.bind(this);setTimeout(s,0),window.addEventListener("resize",s),window.addEventListener("scroll",s),document.documentElement.addEventListener("scroll",s),document.body.addEventListener("scroll",s)}function FormatPrice(t){return t=Number(t/100).toFixed(2),t=String(t).replace(/\.00/,""),"${price}".replace("{price}",t)}function toTitleCase(t){return t.replace(/\w\S*/g,(function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}))}function FormatTitle(t){var e=t.title.split("-").map((function(t){return t.trim()}));return"strap"==t.type.toLowerCase().trim()?e[1]+" "+e[0]+'<br><span class="metal-material">'+e[3]+" Clasp</span>":e[0]+" in "+e[1]}function SplitTitle(t){var e=t.title.split("-").map((function(t){return t.trim()}));return"strap"==t.type.toLowerCase().trim(),[e[0],e[1]+" with "+e[2]]}function GetProductStrap(t){return"strap"==t.type.toLowerCase().trim()?t.title.split("-")[2].trim()+" Band":t.title.split("-")[2].trim()}function GetLink(t){return"/products/"+t.handle}function srcToPicture(t,e){t=t.trim().replace(/^\/\//,"http://");var i=new URL(t);t=t.replace(i.origin,"https://nacrewatches.imgix.net"),delete i,t.indexOf("?")<0&&(t+="?");var n=[480,767,991,1199,1440,1600,1920,2560];var s=typeof e;if("number"==s)var a=function(t){return t*e|0};else if("function"==s)var a=function(t){return 0|e(t)};else if(Array.isArray(e))var a=function(t,i){return 0|e[i]};else var a=function(t){return 0|t};var r=document.createElement("picture");for(var o=0;o<n.length;o++){var c=document.createElement("source");var l=a(n[o],o);c.setAttribute("srcset",t+"&auto=format&q=65&w="+l+" 1x, "+t+"&auto=format&q=65&w="+l+"&dpr=2 2x"),c.setAttribute("media","(max-width: "+n[o]+"px)"),r.appendChild(c)}var c=document.createElement("source");var l=a(n[o],o);c.setAttribute("srcset",t+"&auto=format&q=65&w="+l+" 1x, "+t+"&auto=format&q=65&w="+l+"&dpr=2 2x"),c.setAttribute("media","(min-width: 2561px)"),r.appendChild(c);var u=document.createElement("img");return u.setAttribute("src",t+"&auto=format&q=65&w=1200"),r.appendChild(u),r}function Product(t){if(this===window)return new Product(t);var e=this;this.events=new SBEvent(this),this.id=t.id,this.title=t.title,this.handle=t.handle,this.description=t.description,this.published_at=new Date(t.published_at),this.created_at=new Date(t.created_at),this.type=t.type,this.tags=t.tags,this._qty=1,this.price=t.price,this.price_min=t.price_min,this.price_max=t.price_max,this.original_price=t.original_price,this.price_varies=t.price_varies,this.compare_at_price_min=t.compare_at_price_min,this.compare_at_price_max=t.compare_at_price_max,this.compare_at_price_varies=t.compare_at_price_varies,this.available=t.available,this.rating={};this.images=t.images,this.featured_image=t.featured_image,this.variants=t.variants.map(function(t){var e=new Varient(t);return e.product=this,e}.bind(this)),this._currentVariant=this.variants[0];var i={};t.tags.map((function(t){t=t.toLowerCase().trim(),/\-(clasp|case)$/.test(t)?i.metal=t.replace(/\-(clasp|case)$/,""):/\-strap$/.test(t)?i.strap=t.replace(/\-strap$/,""):/(^lune|^strap$)/.test(t)&&(i.collection=t)})),this.types=i;var n="strap"==this.types.collection?"straps":this.types.collection;this.collectionLink="/collections/"+n,this.getReviews=function(t){if(this.rating.complete)return t(this);$.get(`https://api.yotpo.com/products/zboyHUs2pXmJ2ZOGovIfVeceu3YGDjYb7cn4pzM8/${this.id}/bottomline`).always(function(e){try{this.rating.average_score=e.response.bottomline.average_score,this.rating.total_reviews=e.response.bottomline.total_reviews,this.rating.complete=!0,t(this)}catch(t){console.log(t)}}.bind(this))}}function Varient(t){if(this===window)return new Varient(t);var e=this;this._data=t,this.events=new SBEvent(this),this.product=null,this.get=function(t){return this._data[t]},this.set=function(t,e){this._data[t]=e,this.trigger("updated_"+t)}}function Cart(){if(this===window)return new Cart;var t=this;this._data={item_count:0,total_price:0},this.items=[],this.events=new SBEvent(this),this.find=function(t){return this.items.find((function(e){return e.id==t}))},this.add=function(t){if(t instanceof Product){var n=t.currentVariant;if(n.quantity=t.quantity,n){var s=this.find(n.id);s instanceof Varient?s.quantity+=n.quantity:$.ajax({type:"POST",url:"/cart/add.js",data:{id:n.id,quantity:n.quantity},dataType:"json"}).done((function(t){e(new Varient(t)),i()}))}}};var e=function(e){if(e instanceof Varient){var n=0===this.count;this.items.push(e),e.on("sync",sb_debounce((function(){var t={};return t[this.id]=this.quantity,$.post("/cart/update.js",{updates:t})}),1e3)),e.on("updated_quantity",(function(){this.trigger("sync");var e=0===t.count;i(),0===t.count&&t.trigger("cart_emptied"),e&&t.trigger("cart_item_added_when_empty")})),this.trigger("cart_item_added",e),n&&this.trigger("cart_item_added_when_empty")}}.bind(this);var i=function(){this._data.item_count=0,this._data.total_price=0,this._data.original_total_price=0,this._data.total_discount=0;for(var e=0;e<this.items.length;e++)this._data.item_count+=this.items[e].quantity,this._data.total_price+=this.items[e].total,this._data.original_total_price+=this.items[e]._data.original_price,this._data.total_discount+=this.items[e]._data.total_discount;t.trigger("updated_items")}.bind(this);var n=2;function s(){jQuery.ajax({type:"GET",url:"/cart.js",dataType:"json"}).done((function(n){for(var s=0;s<n.items.length;s++)e(new Varient(n.items[s]));t._data=n,delete t._data.items,i(),t.trigger("downloaded_cart")})).fail((function(){0<n&&(n-=1,setTimeout(s))}))}s()}function MinicartItem(t,e,i){var n=e;var s;var a=n.querySelector("[mc-product-img]");a.appendChild(srcToPicture(t.get("image"),.4*.5));var r=a.querySelector("img");r.setAttribute("alt",t.get("title")),r.setAttribute("title",t.get("title"));var o=n.querySelectorAll("a"),c=t.get("url");o.forEach((function(t){t.setAttribute("href",c)}));var l=t.get("title").split("-").map((function(t){return t.trim()}));"Mesh-Strap"==t.get("product_type")?n.querySelector(".name").innerHTML=format("{0} in Metal {1}<br>{2}",l[0],l[1],l[2]):n.querySelector(".name").innerHTML=format("{0} in {1}<br>{2}",l[0],l[1],l[2]);var u=n.querySelector("[data-quantity]");u.value=t.quantity;var d=n.querySelectorAll(".action, .remove");for(var h=0;h<d.length;h++)d[h].addEventListener("click",(function(e){e.preventDefault();var i=0;if(!this.classList.contains("remove")){var n=this.classList.contains("decrease")?-1:1;i=parseInt(u.value),isNaN(i)&&(i=0),i=Math.max(0,i+n)}t.quantity=i}));u.addEventListener("blur",(function(e){var i=parseInt(u.value);isNaN(i)&&(i=0),i=Math.max(0,i),u.value=i,t.quantity=i}));var m=n.querySelector("[data-price]");t.on("updated_quantity",(function(){u.value=this.quantity,m.innerText=FormatPrice(this.total),s&&0<this.quantity&&i.appendChild(n)})),t.on("remove",(function(){s=detachNode(n)})),m.innerText=FormatPrice(t.total),i.appendChild(n)}function SetupMiniCart(){var t=document.querySelector("#site-header .cart-info .count");if(SB.cart.on("updated_items",(function(){t.innerText=SB.cart.count})),"cart"!=SB.pagetype[0]){var e=document.querySelector("[data-minicart-content]"),i=document.querySelectorAll("[data-minicart-toggle]");var n=document.querySelector("[data-cart-product-template]");(n=n.parentElement.removeChild(n)).removeAttribute("data-cart-product-template"),SB.minicart={template:n,minicartElement:e,productListElement:e.querySelector(".products"),subtotalElement:e.querySelector("[data-cart-subtotal]"),items:[]},SB.minicart.toggle=function(){SB.minicart.minicartElement.classList.toggle("active"),document.documentElement.classList.toggle("no-scroll")},i.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),SB.minicart.toggle()}))})),SB.cart.on("cart_item_added",(function(t){MinicartItem(t,SB.minicart.template.cloneNode(!0),SB.minicart.productListElement)})),SB.cart.on("cart_item_added_when_empty",(function(){SB.minicart.minicartElement.classList.add("non-empty")})),SB.cart.on("cart_emptied",(function(){SB.minicart.minicartElement.classList.remove("non-empty")})),SB.cart.on("updated_items",(function(){SB.minicart.subtotalElement.innerText=FormatPrice(SB.cart.subtotal)})),SB.cart.on("downloaded_cart",(function(){SB.minicart.subtotalElement.innerText=FormatPrice(SB.cart.subtotal)}))}}function SetupForgotPasswordForm(){document.querySelectorAll("[sb-forgot-form-wrapper] form").forEach((function(t){var e=t.querySelector("[sb-recover-form-message]");t.addEventListener("submit",(function(t){t.preventDefault();var i=this.querySelector('[name="email"]').value;var n="form_type=recover_customer_password&utf8=%E2%9C%93&email="+encodeURIComponent(i);$.ajax({type:"POST",url:"/account/recover",data:n}).done((function(t){var i=jQuery(t).find("#forgot-password-form-wrapper [sb-recover-form-message]").html();i=(i||"").trim(),e.innerHTML=""!=i?i:"Successfully reset password, please check your email for further instructions."})).fail((function(t){429==t.status?e.innerHTML="Too many password recovery requests. Please try again later.":e.innerHTML="Unknown error. Please contact store owner for additional help."}))}))}))}function ActivateFadeEffect(){"product"==SB.pagetype[0]||"collection"==SB.pagetype[0]&&"lookbook"==document.body.id||"collection"==SB.pagetype[0]&&"configurable-product"==document.body.id||jQuery(document).ready((function(){document.body.dispatchEvent(new Event("sb-mask-fade"))}))}function SetupContestNewsletter(){var t=document.querySelector("[sb-newsletter-container]");var e=document.querySelectorAll("[sb-newsletter-close]");var i=document.querySelectorAll("[sb-newsletter-open]");function n(){t&&t.classList.add("active")}function s(){window.localStorage.setItem("sb-newsletter-popup","true"),t&&t.classList.remove("active")}e.forEach((function(t){t.addEventListener("click",(function(t){s()}))})),i.forEach((function(t){t.addEventListener("click",(function(t){n()}))})),"true"!=window.localStorage.getItem("sb-newsletter-popup")&&setTimeout(n,5e3)}function MiscEventHandlers(){}function GetURLQueryParamsAsObject(){var t={};var e;return window.location.search.replace(/^\?/,"").split("&").map((function(t){return t.split("=")})).map((function(e){t[e[0]]=e[1]})),t}function SBWhere(t,e){return function(i){return i[t]==e}}function SetupHeader(){var t=document.getElementById("site-header"),e=document.querySelectorAll("#site-header .shop-collection");e.forEach((function(i){var n=i.getAttribute("menu");var s;document.querySelector(format('#navigation .menu [menu="{0}"]',n)).addEventListener("mouseenter",(function(){e.forEach((function(t){t.classList.remove("active")})),i.classList.add("active"),t.classList.add("active")}))})),document.getElementById("site-header").addEventListener("delayed-mouseleave",(function(){e.forEach((function(t){t.classList.remove("active")})),t.classList.remove("active")}));var i=t.querySelector(".site-message"),n=t.querySelector(".site-menus"),s=document.querySelector(".site-message .close");function a(){var t=Math.max(window.pageYOffset,document.documentElement.scrollTop,document.body.scrollTop);i.clientHeight<t?document.body.classList.add("scrolled"):document.body.classList.remove("scrolled")}i&&("true"==window.localStorage.getItem("hasClosedSiteMessage")?i.remove():(t.classList.add("has-site-message"),s&&s.addEventListener("click",(function(){window.localStorage.setItem("hasClosedSiteMessage",!0),t.classList.add("hide-site-message")})))),window.addEventListener("scroll",a),setTimeout(a,0)}function SetupMobileMenu(){var t="mobile-menu-active",e=document.querySelectorAll("[sb-mobile-menu-toggle]"),i=document.querySelector("[sb-page-mask]");e.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),document.documentElement.classList.toggle(t)}))})),i.addEventListener("click",(function(e){e.preventDefault(),document.documentElement.classList.remove(t)}))}function DetermineUser(){SB.hasUser=JSON.parse(document.body.getAttribute("sb-loggedin"))}function DeterminePageType(){var t;return(document.body.getAttribute("templateType")||"").split("/").map((function(t){return t.trim()})).filter((function(t){return t&&""!=t}))}function GetBrowserType(){var t=!!window.chrome&&!s;var e="undefined"!=typeof document&&!!document.documentMode&&!isEdge;var i="undefined"!=typeof window.InstallTrigger;var n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);var s=!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0;var a;return/Edge/.test(navigator.userAgent)?"edge":t?"chrome":e?"explorer":i?"firefox":n?"safari":s?"opera":null}if(window.slate=window.slate||{},window.theme=window.theme||{},window.SB={},window.SB.log=console.log,window.SB.logging=!1,console.log=function(){window.SB.logging&&window.SB.log.apply(this,Array.prototype.slice.call(arguments))},SBLazyImg.downloadAll=function(t,e){var i=t.length;t.forEach((function(t){t.component?t.component.download((function(){--i})):--i}));var n=setInterval((function(){i<=0&&(clearInterval(n),setTimeout(e,0))}),10)},SBLazyImg.loadAll=function(t,e){var i=t.length;t instanceof NodeList?t.forEach((function(t){t.component?t.component.load((function(){--i})):--i})):Array.isArray(t)&&t.map((function(t){t.component?t.component.load((function(){--i})):--i}));var n=setInterval((function(){i<=0&&(clearInterval(n),setTimeout(e,0))}),10)},Product.prototype={get quantity(){return this._qty},set quantity(t){t!=this._qty&&(this._qty=t,this.trigger("updated_quantity"),0==t&&this.trigger("remove"))},get currentVariant(){return this._currentVariant},set currentVariant(t){var e=t;t instanceof t&&(e=varient.id);for(var i=0;i<this.variants.length;i++)if(e==this.variants[i].id)return this._currentVariant=this.variants[i],void 0}},Varient.prototype={get id(){return this._data.id},get quantity(){return this._data.quantity},set quantity(t){t!=this._data.quantity&&(this._data.quantity=t,this.trigger("updated_quantity"),0==t&&this.trigger("remove"))},get total(){return this._data.quantity*this._data.price}},Cart.prototype={get count(){return this._data.item_count},get subtotal(){return this._data.total_price}},document.body.addEventListener("sb-mask-fade",(function(){document.body.classList.add("fadeout"),setTimeout((function(){document.body.classList.add("slideout"),setTimeout((function(){document.body.classList.remove("fadeout")}),1e3)}),1e3)})),window.addEventListener("beforeunload",(function(t){document.body.classList.remove("slideout")}),!1),function(t,e){objectFitImages("[ofi]"),MouseHoverLong(),mark_is_touch_device(),SBPopup(),document.querySelectorAll("[sb-animate-scroll]").forEach(SBAnimateScroll),SB.pagetype=DeterminePageType(),SB.browserType=GetBrowserType(),document.querySelectorAll("[sb-fancy-select]").forEach(FancySelect),document.querySelectorAll("[sb-radio]").forEach(SBRadio),document.querySelectorAll("[sb-dropdown]").forEach(SBDropdown),document.querySelectorAll("[sb-scrollbar]").forEach(SBScrollBar),document.querySelectorAll("[sb-accordion]").forEach(SBAccordion),document.querySelectorAll("[sb-lazyload]").forEach(SBLazyImg),document.querySelectorAll("[sb-fade-on-scroll]").forEach(SBFadeOnScroll),document.querySelectorAll("[sb-proximity]").forEach(SBElementProximityFromScreenCenter),document.querySelectorAll("[sb-delayed-mouseleave]").forEach((function(t){return DelayedMouseleave(t)})),DetermineUser(),SB.cart=new Cart,SetupMiniCart(),SetupHeader();SetupForgotPasswordForm(),SetupMobileMenu(),ActivateFadeEffect(),SetupContestNewsletter(),MiscEventHandlers()}(window,document),slate.a11y={pageLinkFocus:function(t){var e="js-focus-hidden";function i(){t.first().removeClass(e).removeAttr("tabindex")}t.first().attr("tabIndex","-1").focus().addClass(e).one("blur",i)},focusHash:function(){var t=window.location.hash;t&&document.getElementById(t.slice(1))&&this.pageLinkFocus($(t))},bindInPageLinks:function(){$("a[href*=#]").on("click",function(t){this.pageLinkFocus($(t.currentTarget.hash))}.bind(this))},trapFocus:function(t){var e=t.namespace?"focusin."+t.namespace:"focusin";t.$elementToFocus||(t.$elementToFocus=t.$container),t.$container.attr("tabindex","-1"),t.$elementToFocus.focus(),$(document).on(e,(function(e){t.$container[0]===e.target||t.$container.has(e.target).length||t.$container.focus()}))},removeTrapFocus:function(t){var e=t.namespace?"focusin."+t.namespace:"focusin";t.$container&&t.$container.length&&t.$container.removeAttr("tabindex"),$(document).off(e)}},slate.cart={cookiesEnabled:function(){var t=navigator.cookieEnabled;return t||(document.cookie="testcookie",t=-1!==document.cookie.indexOf("testcookie")),t}},slate.utils={findInstance:function(t,e,i){for(var n=0;n<t.length;n++)if(t[n][e]===i)return t[n]},removeInstance:function(t,e,i){var n=t.length;while(n--)if(t[n][e]===i){t.splice(n,1);break}return t},compact:function(t){var e=-1;var i=null==t?0:t.length;var n=0;var s=[];while(++e<i){var a=t[e];a&&(s[n++]=a)}return s},defaultTo:function(t,e){return null==t||t!=t?e:t}},slate.rte={wrapTable:function(t){var e="undefined"==typeof t.tableWrapperClass?"":t.tableWrapperClass;t.$tables.wrap('<div class="'+e+'"></div>')},wrapIframe:function(t){var e="undefined"==typeof t.iframeWrapperClass?"":t.iframeWrapperClass;t.$iframes.each((function(){$(this).wrap('<div class="'+e+'"></div>'),this.src=this.src}))}},slate.Sections=function t(){this.constructors={},this.instances=[],$(document).on("shopify:section:load",this._onSectionLoad.bind(this)).on("shopify:section:unload",this._onSectionUnload.bind(this)).on("shopify:section:select",this._onSelect.bind(this)).on("shopify:section:deselect",this._onDeselect.bind(this)).on("shopify:section:reorder",this._onReorder.bind(this)).on("shopify:block:select",this._onBlockSelect.bind(this)).on("shopify:block:deselect",this._onBlockDeselect.bind(this))},slate.Sections.prototype=$.extend({},slate.Sections.prototype,{_createInstance:function(t,e){var i=$(t);var n=i.attr("data-section-id");var s=i.attr("data-section-type");if("undefined"!=typeof(e=e||this.constructors[s])){var a=$.extend(new e(t),{id:n,type:s,container:t});this.instances.push(a)}},_onSectionLoad:function(t){var e=$("[data-section-id]",t.target)[0];e&&this._createInstance(e)},_onSectionUnload:function(t){var e=slate.utils.findInstance(this.instances,"id",t.detail.sectionId);e&&("function"==typeof e.onUnload&&e.onUnload(t),this.instances=slate.utils.removeInstance(this.instances,"id",t.detail.sectionId))},_onSelect:function(t){var e=slate.utils.findInstance(this.instances,"id",t.detail.sectionId);e&&"function"==typeof e.onSelect&&e.onSelect(t)},_onDeselect:function(t){var e=slate.utils.findInstance(this.instances,"id",t.detail.sectionId);e&&"function"==typeof e.onDeselect&&e.onDeselect(t)},_onReorder:function(t){var e=slate.utils.findInstance(this.instances,"id",t.detail.sectionId);e&&"function"==typeof e.onReorder&&e.onReorder(t)},_onBlockSelect:function(t){var e=slate.utils.findInstance(this.instances,"id",t.detail.sectionId);e&&"function"==typeof e.onBlockSelect&&e.onBlockSelect(t)},_onBlockDeselect:function(t){var e=slate.utils.findInstance(this.instances,"id",t.detail.sectionId);e&&"function"==typeof e.onBlockDeselect&&e.onBlockDeselect(t)},register:function(t,e){this.constructors[t]=e,$("[data-section-type="+t+"]").each(function(t,i){this._createInstance(i,e)}.bind(this))}}),slate.Currency=function(){var t="${{amount}}";function e(e,i){"string"==typeof e&&(e=e.replace(".",""));var n="";var s=/\{\{\s*(\w+)\s*\}\}/;var a=i||t;function r(t,e,i,n){if(e=slate.utils.defaultTo(e,2),i=slate.utils.defaultTo(i,","),n=slate.utils.defaultTo(n,"."),isNaN(t)||null==t)return 0;var s=(t=(t/100).toFixed(e)).split(".");var a;var r;return s[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+i)+(s[1]?n+s[1]:"")}switch(a.match(s)[1]){case"amount":n=r(e,2);break;case"amount_no_decimals":n=r(e,0);break;case"amount_with_space_separator":n=r(e,2," ",".");break;case"amount_no_decimals_with_comma_separator":n=r(e,0,",",".");break;case"amount_no_decimals_with_space_separator":n=r(e,0," ");break}return a.replace(s,n)}return{formatMoney:e}}(),slate.Image=function(){function t(t,e){"string"==typeof t&&(t=[t]);for(var i=0;i<t.length;i++){var n=t[i];this.loadImage(this.getSizedImageUrl(n,e))}}function e(t){(new Image).src=t}function i(t){var e=t.match(/.+_((?:pico|icon|thumb|small|compact|medium|large|grande)|\d{1,4}x\d{0,4}|x\d{1,4})[_\.@]/);return e?e[1]:null}function n(t,e){if(null===e)return t;if("master"===e)return this.removeProtocol(t);var i=t.match(/\.(jpg|jpeg|gif|png|bmp|bitmap|tiff|tif)(\?v=\d+)?$/i);if(i){var n=t.split(i[0]);var s=i[0];return this.removeProtocol(n[0]+"_"+e+s)}return null}function s(t){return t.replace(/http(s)?:/,"")}return{preload:t,loadImage:e,imageSize:i,getSizedImageUrl:n,removeProtocol:s}}(),slate.Variants=function(){function t(t){this.$container=t.$container,this.product=t.product,this.singleOptionSelector=t.singleOptionSelector,this.originalSelectorId=t.originalSelectorId,this.enableHistoryState=t.enableHistoryState,this.currentVariant=this._getVariantFromOptions(),$(this.singleOptionSelector,this.$container).on("change",this._onSelectChange.bind(this))}return t.prototype=$.extend({},t.prototype,{_getCurrentOptions:function(){var t=$.map($(this.singleOptionSelector,this.$container),(function(t){var e=$(t);var i=e.attr("type");var n={};return"radio"===i||"checkbox"===i?!!e[0].checked&&(n.value=e.val(),n.index=e.data("index"),n):(n.value=e.val(),n.index=e.data("index"),n)}));return t=slate.utils.compact(t)},_getVariantFromOptions:function(){var t=this._getCurrentOptions();var e=this.product.variants;var i=!1;return e.forEach((function(e){var n=!0;t.forEach((function(t){n&&(n=t.value===e[t.index])})),n&&(i=e)})),i||null},_onSelectChange:function(){var t=this._getVariantFromOptions();this.$container.trigger({type:"variantChange",variant:t}),t&&(this._updateMasterSelect(t),this._updateImages(t),this._updatePrice(t),this.currentVariant=t,this.enableHistoryState&&this._updateHistoryState(t))},_updateImages:function(t){var e=t.featured_image||{};var i=this.currentVariant.featured_image||{};t.featured_image&&e.src!==i.src&&this.$container.trigger({type:"variantImageChange",variant:t})},_updatePrice:function(t){t.price===this.currentVariant.price&&t.compare_at_price===this.currentVariant.compare_at_price||this.$container.trigger({type:"variantPriceChange",variant:t})},_updateHistoryState:function(t){if(history.replaceState&&t){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+"?variant="+t.id;window.history.replaceState({path:e},"",e)}},_updateMasterSelect:function(t){$(this.originalSelectorId,this.$container)[0].value=t.id}}),t}(),"product"==SB.pagetype[0]&&function(){var t=document.querySelector("[data-product-json]");var e=JSON.parse(t.innerText);SB.product=new Product(e);try{SB.products=JSON.parse(document.querySelector("[data-collection-all-products]").innerText).map(Product)}catch(t){SB.products=[]}var i=document.querySelector("[data-start-product-id]").getAttribute("data-start-product-id");if(SB.currentProduct=SB.products.find((function(t){return t.id==i})),"gift-card"==SB.product.handle&&(SB.currentProduct=SB.product),"gift-card"==SB.product.handle){var n=document.querySelector("[sb-gift-card-dropdown]");n.addEventListener("change",(function(t){c(parseInt(t.detail.value))})),n.component.setValueToFirstOption();var s=document.querySelectorAll("[data-add-to-cart]");for(var a=0;a<s.length;a++)s[a].addEventListener("click",(function(t){t.preventDefault(),this.disabled=!0,SB.cart.add(SB.currentProduct),setTimeout(function(){this.disabled=!1,SB.minicart.toggle()}.bind(this),400)}))}else{var s=document.querySelectorAll("[data-add-to-cart]");for(var a=0;a<s.length;a++)s[a].addEventListener("click",(function(t){t.preventDefault(),this.disabled=!0;var e=this.closest("[sb-product]").getAttribute("sb-product");var i=SB.products.find((function(t){return t.id==e}));SB.cart.add(i),pintrk("track","AddToCart",{product_id:SB.product.id}),setTimeout(function(){this.disabled=!1,SB.minicart.toggle()}.bind(this),400)}));var r=document.querySelectorAll("[sb-out-of-stock] ");for(var a=0;a<r.length;a++){var o=r[a].getAttribute("sb-oos-product-id");var e;(e={submitBtn:r[a].querySelector("[sb-oos-btn]"),containers:document.querySelectorAll(format('[sb-oos-product-id="{0}"]',o)),emailInput:r[a].querySelector("[sb-oos-email]"),messageElements:document.querySelectorAll(format('[sb-oos-product-id="{0}"] [sb-oos-message]',o)),product_id:o}).submitBtn.addEventListener("click",function(t){t.preventDefault();var e=this.emailInput.value,i=this.emailInput,n=this.product_id,s=this.messageElements,a=this.containers;a.forEach((function(t){t.classList.add("loading")}));var r=SB.products.find((function(t){return t.id==n}));setTimeout(function(){h(e,r.variants[0],(function(t){var e=t.status,n=t.message;a.forEach((function(t){1==e?t.setAttribute("sb-status","success"):-1==e?t.setAttribute("sb-status","error"):t.setAttribute("sb-status","neutral")})),s.forEach((function(t){t.innerText="",2!=e?t.innerText=n:SB.log("RegisterEmailAndProductForOOS: ",n),t.hidden=!1})),1==e&&a.forEach((function(t){t.classList.add("fade"),setTimeout((function(){t.classList.remove("fade")}),1e4),setTimeout((function(){i.value=""}),2e3)})),a.forEach((function(t){t.classList.remove("loading")}))}))}.bind(this),600)}.bind(e))}}function c(t){SB.currentProduct._currentVariant=SB.currentProduct.variants.find((function(e){return e.id==t}))}function l(t){let e;let i=0|t;return parseFloat("0."+(t+"").split(".")[1])<.5?i:i+.5}function u(t){t.getReviews((function(t){document.querySelectorAll("[sb-yotpo-average]").forEach((function(e){e.innerHTML=t.rating.average_score})),document.querySelectorAll("[sb-yotpo-total]").forEach((function(e){e.innerHTML=t.rating.total_reviews})),document.querySelectorAll("[sb-yotpo-stars]").forEach((function(e){let i=clamp(0|t.rating.average_score,0,5);e.setAttribute("sb-yotpo-stars",l(i))}))}))}function d(){this.lightboxContainerElement=document.querySelector("[lightbox-container]"),this.galleryImageElements=document.querySelectorAll("[lightbox-img]"),this.toggleImageElements=document.querySelectorAll("[lightbox-img-toggle]"),this.isOpen=!1,this.viewedElement=null,this.close=function(){this.lightboxContainerElement.classList.remove("active"),this.viewedElement=null,setTimeout(function(){this.galleryImageElements.forEach((function(t){t.classList.remove("active")})),this.isOpen=!1}.bind(this),300)},document.addEventListener("keydown",function(t){if(!this.isOpen)return!0;var e;if(37==t.keyCode||40==t.keyCode)(e=this.viewedElement.previousElementSibling)||(e=this.viewedElement.parentElement.lastElementChild),this.viewedElement.classList.remove("active"),this.viewedElement=e,this.viewedElement.classList.add("active");else if(38==t.keyCode||39==t.keyCode){var e;(e=this.viewedElement.nextElementSibling)||(e=this.viewedElement.parentElement.firstElementChild),this.viewedElement.classList.remove("active"),this.viewedElement=e,this.viewedElement.classList.add("active")}}.bind(this)),this.open=function(t){if(!this.isOpen){var e;this.isOpen=!0;for(var i=0;i<this.galleryImageElements.length;i++)if(this.galleryImageElements[i].getAttribute("lightbox-img")==t&&SB.currentProduct.id==this.galleryImageElements[i].parentElement.getAttribute("sb-product")){e=this.galleryImageElements[i];break}if(!e)throw new Error("Lightbox: Image "+t+" has no matching lightbox image.");this.viewedElement=e,e.classList.add("active"),this.lightboxContainerElement.classList.add("active")}},this.lightboxContainerElement.addEventListener("click",this.close.bind(this));for(var t=0;t<this.toggleImageElements.length;t++)this.toggleImageElements[t].addEventListener("click",function(t){var e=t.target.closest("[lightbox-img-toggle]").getAttribute("lightbox-img-toggle");this.open(e)}.bind(this))}function h(t,e,i){if(e.product){var n={product_id:e.product.id,variant_id:e.id,destination:t,alertType:"email",domain:"nacrewatches-studiobirdsall-com.myshopify.com"};$.ajax({data:n,url:"https://outofstock.eastsideco.io/api/create-alert",type:"post",dataType:"text",success:function(t){return i(1==t?{status:1,message:"Thank you, we'll let you know when the item becomes available again."}:2==t?{status:1,message:"Thank you - we'll send you an SMS when your item becomes available again."}:-1==t?{status:-1,message:"Enter valid mobile phone number."}:-2==t?{status:-1,message:"Enter valid email address."}:-3==t||-4==t?{status:1,message:"Thank you, we'll let you know when the item becomes available again."}:-5==t?{status:0,message:"Email address currently unsubscribed."}:-6==t?{status:0,message:"Product now back in stock! Refresh your page."}:-7==t?{status:0,message:"There was an error creating alert."}:-9==t?{status:2,message:"Now Back in Stock shop domain not recevied."}:-10==t?{status:2,message:"Now Back in Stock shop does not exist."}:-11==t?{status:2,message:"Already subscribed for push."}:-12==t?{status:2,message:"No token received."}:{status:2,message:"Uncaught error."})}})}}function m(){if(SB.currentProduct){var t=document.querySelectorAll('[sb-product="'+SB.currentProduct.id+'"] img');SBLazyImg.loadAll(t,(function(){document.body.dispatchEvent(new Event("sb-mask-fade"))}))}setTimeout((function(){document.body.dispatchEvent(new Event("sb-mask-fade"))}),1e4)}function p(){if(this===window)return new p;var t=document.querySelectorAll("[sb-product]");var e=document.querySelectorAll(".alternative-products [data-product-id]");var i=document.querySelector(".alternative-products [sb-selected-strap]");function n(n){var s=SB.products.find((function(t){return t.id==n}));u(s);var o=window.location.origin+"/products/"+s.handle;setTimeout((function(){history.pushState(null,null,o)}),0),SB.currentProduct=s,e.forEach((function(t){t.getAttribute("data-product-id")==n?t.classList.add("active"):t.classList.remove("active")})),i.innerHTML=GetProductStrap(s);var c=document.querySelectorAll('*:not([lightbox-container]) [sb-product="'+n+'"] img');var l=NodelistFilter(t,(function(t){return t.getAttribute("sb-product")==n}));SBLazyImg.loadAll(c,(function(){t.forEach(a),l.map((function(t){r(t)}))}))}function s(t,e,i){t.style[e]=i}function a(t){t.style.display="none"}function r(t){t.style.display=""}e.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),n(this.getAttribute("data-product-id"))}))}))}if("gift-card"==SB.product.handle)m();else{window.SB.lightbox=new d;var f=new ATCFloater("[sb-atc-float]","[sb-atc-float-start]","#site-header",{containerSel:"[sb-atc-float-container]",animationTime:7e3});m(),p(),ScrollSync(document.querySelectorAll("[sb-scrollbar-wrapper]"),5),u(SB.product)}}(),"collection"==SB.pagetype[0]&&function(){function t(t){var e=this.parentElement.querySelector("[sb-selected-option]");var i={strap:"Straps",minilune:"Mini Lune",lune8all:"Lune 8",lune48:"Lune 48",lune:"Lune"};if(t.detail.value){if("type"==t.detail.key)var n=i[t.detail.value];else var n=t.detail.value.replace(/-/g," ");e.innerHTML=capitalCase(n),e.classList.add("active")}else e.innerHTML=e.getAttribute("sb-selected-option"),e.classList.remove("active")}function e(t){var e=this.parentElement.querySelector("[sb-selected-option]");var i={strap:"Straps",minilune:"Mini Lune",lune8all:"Lune 8",lune48:"Lune 48",luneall:"Lune"};if(t.detail.value){if("type"==t.detail.key)var n=i[t.detail.value];else var n=t.detail.value.replace(/-/g," ");e.innerHTML=capitalCase(n),e.classList.add("active")}else e.innerHTML=e.getAttribute("sb-selected-option"),e.classList.remove("active")}function i(){var t=[];if(SB.radioElements.forEach((function(e){if(null!=e.component.value){var i=e.component.value.trim();"metal"==e.component.key?t.push(["tag"+i+"-clasp","tag"+i+"-case"]):t.push("tag"+i)}})),0===t.length?SB.productElements.forEach((function(t){t.style.display=""})):SB.productElements.forEach((function(e){for(var i=0;i<t.length;i++)if(Array.isArray(t[i])){var n=!1;for(var s=0;s<t[i].length;s++)n=n||e.hasAttribute(t[i][s]);if(!n)return e.style.display="none",void 0}else if(!e.hasAttribute(t[i]))return e.style.display="none",void 0;e.style.display=""})),"type"==this.component.key){var e={minilune:"/collections/minilune",luneall:"/collections/lune",lune8all:"/collections/lune8",lune48:"/collections/lune48",strap:"/collections/straps",all:"/collections/all"};var i=new URL(window.location.href);this.component.value in e?i.pathname=e[this.component.value]:i.pathname=e["all"],setTimeout((function(){history.pushState(null,null,i.toString())}),0)}}function n(){function t(){this.closest(".product").classList.add("loaded")}document.querySelectorAll(".products .product picture img").forEach((function(e){e.onload=t,e.complete&&setTimeout(t.bind(e),0)}))}function s(t){if(this===window)return new s(t);function e(t){t.classList.remove("active")}this.el=document.querySelector(t),this.btns=this.el.querySelectorAll("[sb-action]"),this.imgs=this.el.querySelectorAll("[sb-image]");for(var i=0;i<this.btns.length;i++)this.btns[i].image=this.imgs[i],this.btns[i].addEventListener("click",function(t){t.preventDefault(),this.imgs.forEach(e),t.srcElement.image.classList.add("active"),this.btns.forEach(e),t.srcElement.classList.add("active")}.bind(this))}function a(t){if(this===window)return new a(t);this.load=function(t,e){var i;t.querySelector("img").component.load(e)},this.update=function(t,e){this.selected[t]=e,this.container.dispatchEvent(new Event("change"))},this.init=function(t){this.selected.type=t.type,this.selected.metal=t.metal,this.selected.strap=t.strap;var e=[this.selected.metal+"-clasp",this.selected.strap,this.selected.type],i=[this.selected.metal+"-case",this.selected.strap,this.selected.type];this.selectedProduct=SB.products.find((function(t){return isSubset(t.tags,e)||isSubset(t.tags,i)})),this.activeProductElement=findNodeWithAttribute(this.productElements,"sb-product-id",this.selectedProduct.id),this.typeRadioElement.component.update(t.type),this.metalRadioElement.component.update(t.metal),this.strapRadioElement.component.update(t.strap),this.container.dispatchEvent(new Event("change"))};var e={minilune:"/collections/minilune",luneall:"/collections/lune",lune8all:"/collections/lune8",lune48:"/collections/lune48",strap:"/collections/straps"};this.container=document.querySelector(t),this.titleElement1=this.container.querySelector("[sb-product-title1]"),this.titleElement2=this.container.querySelector("[sb-product-title2]"),this.productElements=this.container.querySelectorAll("[sb-config-product]"),this.atcButtonElement=this.container.querySelector("[sb-action-atc]"),this.productDetailLinkElement=this.container.querySelector("[sb-product-detail-link]"),this.labelCaseElement=this.container.querySelector("[sb-product-case]"),this.labelStrapElement=this.container.querySelector("[sb-product-strap]"),this.labelTypeElement=this.container.querySelector("[sb-product-type]"),this.galleryImgElments=this.container.querySelectorAll("[sb-product-gallery-img]"),this.priceElement=this.container.querySelector("[data-product-price]"),this.typeRadioElement=this.container.querySelector('[sb-radio="type"]'),this.metalRadioElement=this.container.querySelector('[sb-radio="metal"]'),this.strapRadioElement=this.container.querySelector('[sb-radio="strap"]');var i=[this.typeRadioElement,this.metalRadioElement,this.strapRadioElement];this.oosContainer=document.querySelector("[sb-out-of-stock]"),this.oosSubmitBtn=this.oosContainer.querySelector("[sb-oos-btn]"),this.oosEmailInput=this.oosContainer.querySelector("[sb-oos-email]"),this.oosMessageElement=this.oosContainer.querySelector("[sb-oos-message]"),this.actionsElement=this.container.querySelector("[sb-actions]"),this.selectedProduct=null,this.selected={},this.activeProductElement=null,this.miniluneElement=this.container.querySelector('[sb-option="minilune"]'),this.luneElement=this.container.querySelector('[sb-option="lune"]'),this.luneEclipseElement=this.container.querySelector('[sb-option="lune-eclipse"]'),this.lune8Element=this.container.querySelector('[sb-option="lune8"]'),this.lune8FullElement=this.container.querySelector('[sb-option="lune8full"]'),this.lune48Element=this.container.querySelector('[sb-option="lune48"]'),this.goldCaseElement=this.container.querySelector('[sb-option="gold"]'),this.roseGoldCaseElement=this.container.querySelector('[sb-option="rose-gold"]'),this.stainlessSteelCaseElement=this.container.querySelector('[sb-option="stainless-steel"]'),this.matteBlackCaseElement=this.container.querySelector('[sb-option="matte-black"]'),this.sandLeatherStrapElement=this.container.querySelector('[sb-option="sand-leather-strap"]'),this.naturalLeatherStrapElement=this.container.querySelector('[sb-option="natural-leather-strap"]');this.saddleLeatherStrapElement=this.container.querySelector('[sb-option="saddle-leather-strap"]'),this.navyLeatherStrapElement=this.container.querySelector('[sb-option="navy-leather-strap"]'),this.blackLeatherStrapElement=this.container.querySelector('[sb-option="black-leather-strap"]'),this.roseGoldMeshStrapElement=this.container.querySelector('[sb-option="rose-gold-mesh-strap"]'),this.stainlessSteelMeshStrapElement=this.container.querySelector('[sb-option="stainless-steel-mesh-strap"]'),this.goldMeshStrapElement=this.container.querySelector('[sb-option="gold-mesh-strap"]'),this.matteBlackMeshStrapElement=this.container.querySelector('[sb-option="matte-black-mesh-strap"]'),this.container.addEventListener("change",function(t){var e=[this.selected.metal+"-clasp",this.selected.strap,this.selected.type];var i=[this.selected.metal+"-case",this.selected.strap,this.selected.type];"lune8full"==this.selected.type?(this.stainlessSteelCaseElement.classList.add("disabled"),"stainless-steel"==this.selected.metal&&(setTimeout((()=>this.roseGoldCaseElement.dispatchEvent(new Event("click")))),setTimeout((()=>this.lune8FullElement.dispatchEvent(new Event("click")))))):"lune-eclipse"==this.selected.type?(this.roseGoldCaseElement.classList.add("disabled"),this.stainlessSteelCaseElement.classList.add("disabled"),this.goldCaseElement.classList.add("disabled"),"matte-black"!=this.selected.metal&&(setTimeout((()=>this.matteBlackCaseElement.dispatchEvent(new Event("click")))),setTimeout((()=>this.luneEclipseElement.dispatchEvent(new Event("click")))))):(this.stainlessSteelCaseElement.classList.remove("disabled"),this.goldCaseElement.classList.remove("disabled"),this.roseGoldCaseElement.classList.remove("disabled")),this.selectedProduct=SB.products.find((function(t){return isSubset(t.tags,e)||isSubset(t.tags,i)}));var n=findNodeWithAttribute(this.productElements,"sb-product-id",this.selectedProduct.id);var s=n.querySelector("img");galleryImgContainer=NodelistFind(this.galleryImgElments,function(t){return t.getAttribute("sb-product-gallery-img")==this.selected.type}.bind(this));var a=galleryImgContainer.querySelector("img");SBLazyImg.loadAll([s,a],function(){this.activeProductElement.classList.remove("active"),n.classList.add("active"),this.activeProductElement=n;var t=SplitTitle(this.selectedProduct);this.titleElement1.innerHTML=t[0],this.titleElement2.innerHTML=t[1],this.priceElement.innerHTML=FormatPrice(this.selectedProduct.price),this.productDetailLinkElement.setAttribute("href","/products/"+this.selectedProduct.handle),this.selectedProduct.available?this.actionsElement.setAttribute("sb-action-type","atc"):this.actionsElement.setAttribute("sb-action-type","oos");var e=this.selected.type.toLowerCase().trim().match(/(lune)(\d*)/);"minilune"==this.selected.type?this.labelTypeElement.innerHTML="Mini Lune":this.labelTypeElement.innerHTML=e?e[1]+" "+e[2]:this.selected.type,this.labelCaseElement.innerHTML=this.selected.metal.replace(/-/g," ").trim(),this.labelStrapElement.innerHTML=this.selected.strap.replace(/-/g," ").trim(),this.galleryImgElments.forEach(function(t){t.getAttribute("sb-product-gallery-img")==this.selected.type?t.style.display="":t.style.display="none"}.bind(this)),document.body.dispatchEvent(new Event("sb-mask-fade"))}.bind(this))}.bind(this));var n=GetURLQueryParamsAsObject();switch(n.strap){case"sand-leather":setTimeout((()=>this.sandLeatherStrapElement.dispatchEvent(new Event("click"))));break;case"natural-leather":setTimeout((()=>this.naturalLeatherStrapElement.dispatchEvent(new Event("click"))));break;case"saddle-leather":setTimeout((()=>this.saddleLeatherStrapElement.dispatchEvent(new Event("click"))));break;case"navy-leather":setTimeout((()=>this.navyLeatherStrapElement.dispatchEvent(new Event("click"))));break;case"black-leather":setTimeout((()=>this.blackLeatherStrapElement.dispatchEvent(new Event("click"))));break;case"rose-gold-mesh":setTimeout((()=>this.roseGoldMeshStrapElement.dispatchEvent(new Event("click"))));break;case"stainless-steel-mesh":setTimeout((()=>this.stainlessSteelMeshStrapElement.dispatchEvent(new Event("click"))));break;case"gold-mesh":setTimeout((()=>this.goldMeshStrapElement.dispatchEvent(new Event("click"))));break;case"matte-black-mesh":setTimeout((()=>this.matteBlackMeshStrapElement.dispatchEvent(new Event("click"))));break}switch(n.case){case"gold":setTimeout((()=>this.goldCaseElement.dispatchEvent(new Event("click"))));break;case"rose-gold":setTimeout((()=>this.roseGoldCaseElement.dispatchEvent(new Event("click"))));break;case"stainless-steel":setTimeout((()=>this.stainlessSteelCaseElement.dispatchEvent(new Event("click"))));break;case"matte-black":setTimeout((()=>this.matteBlackCaseElement.dispatchEvent(new Event("click"))));break}switch(n.model){case"minilune":setTimeout((()=>this.miniluneElement.dispatchEvent(new Event("click"))));break;case"lune":setTimeout((()=>this.luneElement.dispatchEvent(new Event("click"))));break;case"lune-eclipse":setTimeout((()=>this.luneEclipseElement.dispatchEvent(new Event("click")))),setTimeout((()=>this.matteBlackCaseElement.dispatchEvent(new Event("click"))));break;case"lune8":setTimeout((()=>this.lune8Element.dispatchEvent(new Event("click"))));break;case"lune8full":setTimeout((()=>this.lune8FullElement.dispatchEvent(new Event("click"))));break;case"lune48":setTimeout((()=>this.lune48Element.dispatchEvent(new Event("click"))));break}function s(t,e,i){if(e.product){var n={product_id:e.product.id,variant_id:e.id,destination:t,alertType:"email",domain:"nacrewatches-studiobirdsall-com.myshopify.com"};$.ajax({data:n,url:"https://outofstock.eastsideco.io/api/create-alert",type:"post",dataType:"text",success:function(t){return i(1==t?{status:1,message:"Thank you, we'll let you know when the item becomes available again."}:2==t?{status:1,message:"Thank you - we'll send you an SMS when your item becomes available again."}:-1==t?{status:-1,message:"Enter valid mobile phone number."}:-2==t?{status:-1,message:"Enter valid email address."}:-3==t||-4==t?{status:1,message:"Thank you, we'll let you know when the item becomes available again."}:-5==t?{status:0,message:"Email address currently unsubscribed."}:-6==t?{status:0,message:"Product now back in stock! Refresh your page."}:-7==t?{status:0,message:"There was an error creating alert."}:-9==t?{status:2,message:"Now Back in Stock shop domain not recevied."}:-10==t?{status:2,message:"Now Back in Stock shop does not exist."}:-11==t?{status:2,message:"Already subscribed for push."}:-12==t?{status:2,message:"No token received."}:{status:2,message:"Uncaught error."})}})}}"true"===n.luneEclipse&&(setTimeout((()=>this.matteBlackCaseElement.dispatchEvent(new Event("click")))),setTimeout((()=>this.luneEclipseElement.dispatchEvent(new Event("click"))))),this.oosSubmitBtn.addEventListener("click",function(t){t.preventDefault();var e=this.oosEmailInput.value,i=this.oosEmailInput,n=this.oosMessageElement,a=this.oosContainer;a.classList.add("loading");var r=this.selectedProduct;setTimeout(function(){s(e,r.variants[0],(function(t){var e=t.status,s=t.message;1==e?a.setAttribute("sb-status","success"):-1==e?a.setAttribute("sb-status","error"):a.setAttribute("sb-status","neutral"),n.innerText="",2!=e?n.innerText=s:SB.log("RegisterEmailAndProductForOOS: ",s),n.hidden=!1,1==e&&(a.classList.add("fade"),setTimeout((function(){a.classList.remove("fade")}),1e4),setTimeout((function(){i.value=""}),2e3)),a.classList.remove("loading")}))}.bind(this),600)}.bind(this));for(var r=0;r<i.length;r++)i[r].addEventListener("change",function(t){var e=t.detail.key,i=t.detail.value;i!=this.selected[e]&&this.update(e,i)}.bind(this));this.atcButtonElement.addEventListener("click",function(t){t.preventDefault();var e=t.currentTarget;e.disabled=!0,SB.cart.add(this.selectedProduct),setTimeout(function(){e.disabled=!1,SB.minicart.toggle()}.bind(this),400)}.bind(this)),this.init({type:"minilune",metal:"rose-gold",strap:"sand-leather-strap"})}function r(){if(this===window)return new r;var t=document.querySelectorAll("[sb-product]");var e=document.querySelectorAll(".alternative-products [data-product-id]");function i(i){e.forEach((function(t){t.getAttribute("data-product-id")==i?t.classList.add("active"):t.classList.remove("active")})),t.forEach((function(t){t.getAttribute("sb-product")==i?a(t):s(t)}))}function n(t,e,i){t.style[e]=i}function s(t){t.style.display="none"}function a(t){t.style.display=""}e.forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),i(this.getAttribute("data-product-id"))}))})),e[0].dispatchEvent(new Event("click"))}SB.products=JSON.parse(document.querySelector("[data-collection-all-products]").innerText).map(Product);var o=document.body.id.toLowerCase();if("build-a-watch"===o)SB.configSection=new a("[sb-main-config-product]");else if(0==o.indexOf("config-product-")){r();var c=new TrainTracks("[sb-product-track]","[sb-product-train]",120),l=c.updateTrain.bind(c);setTimeout(l,0),setTimeout(l,1e3),window.addEventListener("resize",l),window.addEventListener("scroll",l),document.documentElement.addEventListener("scroll",l),document.body.addEventListener("scroll",l),document.body.addEventListener("sb-mask-fade",l);var u=new ATCFloater("[sb-atc-float]","[sb-atc-float-start]","#site-header",{containerSel:"[sb-atc-float-container]",animationTime:7e3})}else if("lookbook"!=document.body.id&&"jewelry"!=document.body.id&&"lookbook-fw-2018"!=document.body.id&&"lookbook-lake-como-italy"!=document.body.id){function d(){var t=!1;for(var e=0;e<3;e++)if(null!=SB.dropdownElements[e].component.value){t=!0;break}h.style.display=t?"":"none"}SB.productElements=document.querySelectorAll(".products .product"),SB.radioElements=document.querySelectorAll("#maincontent [sb-radio]"),SB.dropdownElements=document.querySelectorAll("#maincontent [sb-dropdown]"),SB.radioElements.forEach((function(t){t.addEventListener("change",e),t.addEventListener("change",i),t.parentElement.querySelector("[sb-selected-option]").addEventListener("click",function(){t.querySelector(".active").dispatchEvent(new Event("click"))}.bind(t))})),[0,1,2].map((function(t){SB.radioElements[t].addEventListener("change",(function(e){SB.dropdownElements[t].component.setValue(e.detail.value,!0),d()})),SB.dropdownElements[t].addEventListener("change",(function(e){SB.radioElements[t].component.update(e.detail.value,!0),d()}))})),setTimeout(d,0);var h=document.querySelector(".product-options .sb-clear-all");h.addEventListener("click",(function(t){var e=document.querySelectorAll(".product-options .groups [sb-clear]");for(var i=0;i<e.length;i++)e[i].click()})),n();var m=window.location.pathname.split("/")[2].replace("straps","strap").replace("lune8","lune8all");"lune"==m&&(m="luneall");var p=window.location.hash.replace(/(^#|-case)/g,"");var f,v;for(var g=0;g<SB.radioElements.length;g++){var b=SB.radioElements[g];"type"==b.component.key&&(f=b.component.elements.options),"metal"==b.component.key&&(v=b.component.elements.options)}f.forEach((function(t){t.getAttribute("sb-option")==m&&t.dispatchEvent(new Event("click"))})),v.forEach((function(t){t.getAttribute("sb-option")==p&&t.dispatchEvent(new Event("click"))}));var y=document.querySelectorAll("[data-add-to-cart]");for(var g=0;g<y.length;g++)y[g].addEventListener("click",(function(t){t.preventDefault(),this.disabled=!0;var e=parseInt(this.getAttribute("data-product-id"));var i=SB.products.find(SBWhere("id",e));SB.cart.add(i),setTimeout(function(){this.disabled=!1,SB.minicart.toggle()}.bind(this),400)}));var w;if("true"===GetURLQueryParamsAsObject().enableStrapATC){var E=document.querySelector("#maincontent .collection .products");E&&E.classList.add("show-strap-atc")}}}(),"cart"==SB.pagetype[0]){var elementSubtotal=document.querySelector("#maincontent .cart-total");function CartItem(t){var e=t;var i=t.querySelector(".product-total");var n=t.querySelector("input");var s=t.getAttribute("data-pid");var a=SB.cart.find(s);a.on("updated_quantity",(function(){n.value=this.quantity,i.innerText=FormatPrice(this.total)})),a.on("remove",(function(){e.remove()}));var r=t.querySelectorAll(".product-quantity .action, .product-remove .action");for(var o=0;o<r.length;o++)r[o].addEventListener("click",(function(t){t.preventDefault();var e=0;if(!this.classList.contains("remove")){var i=this.classList.contains("decrease")?-1:1;var e=parseInt(n.value);isNaN(e)&&(e=0),e=Math.max(0,e+i)}a.quantity=e}));n.addEventListener("blur",(function(t){var e=parseInt(n.value);isNaN(e)&&(e=0),e=Math.max(0,e),n.value=e,a.quantity=e}))}SB.cart.on("updated_items",(function(){elementSubtotal.innerText=FormatPrice(SB.cart.subtotal)})),SB.cart.on("downloaded_cart",(function(){document.querySelectorAll("#maincontent .product").forEach(CartItem)}))}"page.help"==SB.pagetype[0]&&!function(){function t(){if(this===window)return new t;function e(t){var e=0,i=0;do{e+=t.offsetTop||0,i+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:e,left:i}}this.doc="safari"==SB.browserType||"edge"==SB.browserType?document.body:document.documentElement,this.track=document.querySelector("[sb-product-track]"),this.train=document.querySelector("[sb-product-train]"),this.lastTop=this.doc.scrollTop+60,this.on_scroll=function(){var t=this.doc.scrollTop+60,i=this.doc.scrollTop+window.innerHeight;var n=this.track.clientHeight<window.innerHeight,s=this.train.clientHeight+60<window.innerHeight;var a=e(this.track);var r=t-this.lastTop;if(n||window.innerWidth<768)this.track.setAttribute("sb-tt-mode","none");else if(t<a.top)this.track.setAttribute("sb-tt-mode","none");else{var o=a.top+this.track.clientHeight;s?t+this.train.clientHeight<o?this.track.setAttribute("sb-tt-mode","inside"):this.track.setAttribute("sb-tt-mode","bottom"):this.train.clientHeight<this.track.clientHeight?this.doc.scrollTop+window.innerHeight<o?(this.track.setAttribute("sb-tt-mode","inside"),this.train.scrollTop+=r):this.track.setAttribute("sb-tt-mode","bottom"):this.track.setAttribute("sb-tt-mode","none")}this.lastTop=t,requestAnimationFrame(this.on_scroll.bind(this))},requestAnimationFrame(this.on_scroll.bind(this))}function e(){if(window.location.hash){var t=document.querySelector(window.location.hash);t&&(window.scrollTo(0,t.offsetTop+60),t.component.toggle())}}setTimeout(e,0),setTimeout(t,0)}(),"collection"!=SB.pagetype[0]||"lookbook"!=document.body.id.toLowerCase()&&"lookbook-lake-como-italy"!=document.body.id.toLowerCase()&&"lookbook-fw-2018"!=document.body.id.toLowerCase()||function(){function t(t){var i=document.querySelector("[sb-out-of-stock]");this.active=!1,this.element=t,this.elements={mask:t.querySelector("[sb-mask]"),closeBtns:t.querySelectorAll("[sb-close]"),title:t.querySelector("[sb-title]"),img:t.querySelector("[sb-img]"),links:t.querySelectorAll("[sb-link]"),collectionLink:t.querySelector("[sb-collection-link]"),price:t.querySelector("[sb-product-price]"),actions:t.querySelector("[sb-actions]"),atc:t.querySelector("[sb-add-to-cart]"),radio:t.querySelector("[sb-radio]"),radioCaption:t.querySelector("[sb-strap-value]"),submitBtn:i.querySelector("[sb-oos-btn]"),emailInput:i.querySelector("[sb-oos-email]"),messageElement:i.querySelector("[sb-oos-message]"),oosContainer:i},this.product=null,this.load=function(t){clearContent(this.elements.img),this.elements.img.appendChild(srcToPicture(t.images[0],.25)),this.elements.radio.component.update(t.types.strap),this.product=t,this.elements.radioCaption.innerHTML=GetProductStrap(t),this.elements.title.innerHTML=FormatTitle(t),this.elements.price.innerText=FormatPrice(t.price),t.available?this.elements.actions.setAttribute("sb-action-type","atc"):this.elements.actions.setAttribute("sb-action-type","oos");var e=GetLink(t);this.elements.links.forEach((function(t){t.setAttribute("href",e)})),this.toggle(!0)},this.toggle=function(t){this.active=isBoolean(t)?t:!this.active,this.active?this.element.classList.add("active"):this.element.classList.remove("active")},this.elements.atc.addEventListener("click",function(t){t.preventDefault();var e=t.currentTarget;e.disabled=!0,null!=this.product?(SB.cart.add(this.product),setTimeout(function(){e.disabled=!1,SB.minicart.toggle()}.bind(this),400)):e.disabled=!1}.bind(this)),this.elements.closeBtns.forEach(function(t){t.addEventListener("click",function(t){this.toggle(!1)}.bind(this))}.bind(this)),this.elements.radio.addEventListener("change",function(t){var e=t.detail.value;var i=this.product.types.collection;var n=SB.products.find((function(t){return t.types.strap==e&&t.types.collection==i}));this.load(n)}.bind(this)),window.addEventListener("click",function(t){this.active||(t.clientX<window.innerWidth/2?this.element.classList.add("invert"):this.element.classList.remove("invert"))}.bind(this),!0),this.elements.submitBtn.addEventListener("click",function(t){t.preventDefault();var i=this.elements.emailInput.value,n=this.elements.emailInput,s=this.elements.messageElement,a=this.elements.oosContainer;a.classList.add("loading");var r=this.product;setTimeout(function(){e(i,r.variants[0],(function(t){var e=t.status,i=t.message;1==e?a.setAttribute("sb-status","success"):-1==e?a.setAttribute("sb-status","error"):a.setAttribute("sb-status","neutral"),s.innerText="",2!=e?s.innerText=i:SB.log("RegisterEmailAndProductForOOS: ",i),s.hidden=!1,1==e&&(a.classList.add("fade"),setTimeout((function(){a.classList.remove("fade")}),1e4),setTimeout((function(){n.value=""}),2e3)),a.classList.remove("loading")}))}.bind(this),600)}.bind(this))}function e(t,e,i){if(e.product){var n={product_id:e.product.id,variant_id:e.id,destination:t,alertType:"email",domain:"nacrewatches-studiobirdsall-com.myshopify.com"};$.ajax({data:n,url:"https://outofstock.eastsideco.io/api/create-alert",type:"post",dataType:"text",success:function(t){return i(1==t?{status:1,message:"Thank you, we'll let you know when the item becomes available again."}:2==t?{status:1,message:"Thank you - we'll send you an SMS when your item becomes available again."}:-1==t?{status:-1,message:"Enter valid mobile phone number."}:-2==t?{status:-1,message:"Enter valid email address."}:-3==t||-4==t?{status:1,message:"Thank you, we'll let you know when the item becomes available again."}:-5==t?{status:0,message:"Email address currently unsubscribed."}:-6==t?{status:0,message:"Product now back in stock! Refresh your page."}:-7==t?{status:0,message:"There was an error creating alert."}:-9==t?{status:2,message:"Now Back in Stock shop domain not recevied."}:-10==t?{status:2,message:"Now Back in Stock shop does not exist."}:-11==t?{status:2,message:"Already subscribed for push."}:-12==t?{status:2,message:"No token received."}:{status:2,message:"Uncaught error."})}})}}var i=new t(document.querySelector("[sb-product-popup]"));var n=document.querySelector("[sb-horizontalscrollslider]");var s=setInterval((function(){window.AllChildImgsLoad&&(clearInterval(s),setTimeout((function(){document.body.dispatchEvent(new Event("sb-mask-fade"))}),1e4),AllChildImgsLoad(n,(function(){document.body.dispatchEvent(new Event("sb-mask-fade"))})),document.querySelectorAll("[sb-product-handle]").forEach((function(t){t.addEventListener("click",(function(){var t=this.getAttribute("sb-product-handle");var e=SB.products.find((function(e){return e.handle==t}));e&&i.load(e)}))})))}),10)}(),"index"==SB.pagetype[0]&&"/"===window.location.pathname&&function(){function t(t){function e(t,e,i){e=e||1e3;var n=Date.now();var s=setInterval((function(){var a=(Date.now()-n)/e;a=Math.max(0,Math.min(1,a)),t.style.opacity=a,1<=a&&(clearInterval(s),i())}),10)}this.element=document.querySelector("[sb-fade-images]"),this.elements=this.element.querySelectorAll("[sb-fade-image]"),this.titleElements=document.querySelectorAll("#hero [sb-fade-title]"),this.count=this.elements.length,this.index=0,this.order=[],this.or,this.interval,this.updating=!1,this.select=function(t){if(!this.updating){if(this.updating=!0,t<0||this.count<=t)throw new Error("Index out of bounds.");this.titleElements[this.index].classList.remove("active"),this.titleElements[t].classList.add("active"),this.index=t;var i=this.order.indexOf(this.elements[t]);var n=this.order.splice(i,1)[0];this.order.unshift(n),n.style.opacity=0;for(var s=0;s<this.order.length;s++)this.order[s].style.zIndex=this.count-s;e(n,500,function(){this.updating=!1}.bind(this))}},this.next=function(){var t=(this.index+1)%this.count;this.select(t)},this.prev=function(){var t=(this.index-1+this.count)%this.count;this.select(t)},this.titleElements.forEach(function(t,e){t.addEventListener("mouseenter",function(){this.select(e),clearInterval(this.interval)}.bind(this))}.bind(this));for(var i=0;i<this.elements.length;i++)this.order.push(this.elements[i]),this.elements[i].style.zIndex=this.count-i;t.autoPlay&&(this.interval=setInterval(function(){this.next()}.bind(this),5e3))}function e(t){$(".home-press-statements").slick({arrows:!1,autoplay:!0,cssEase:"linear",dots:!1,focusOnSelect:!1,fade:!0,slide:".press-quote",slidesToShow:1,swipeToSlide:!1}),$(".home-press-entities").slick({arrows:!1,asNavFor:".home-press-statements",dots:!1,focusOnSelect:!0,slide:".press-body",slidesToShow:3,swipeToSlide:!0}),$(".home-press-statements").on("beforeChange",(function(t,e,i,n){$(".home-press-entities").find(".slick-slide").removeClass("slick-current").not(".slick-cloned").eq(n).addClass("slick-current")}))}function i(t){$(".testimonial-slider").slick({arrows:!1,asNavFor:".testimonial-slider-navigation",autoplay:!0,cssEase:"linear",dots:!1,focusOnSelect:!1,fade:!0,slide:".timage",slidesToShow:1,swipeToSlide:!1}),$(".testimonial-slider-navigation").slick({arrows:!1,asNavFor:".testimonial-slider",cssEase:"linear",dots:!0,fade:!0,focusOnSelect:!0,infinite:!0,slide:".tnav",slidesToShow:1,swipeToSlide:!0}),$(".testimonial-slider").on("beforeChange",(function(t,e,i,n){$(".testimonial-slider-navigation").find(".slick-slide").removeClass("slick-current").not(".slick-cloned").eq(n).addClass("slick-current")}))}function n(t){document.querySelectorAll("[sb-home-product-slider]").forEach((function(t){var e=new Flickity(t,{cellAlign:"left",contain:!0,prevNextButtons:!1,pageDotes:!1,autoPlay:3e3,wrapAround:!0})}))}function s(t){if(this===window)return new s(t);var e=t;e.addEventListener("sb_proximity",function(t){var i=t.target.clientHeight/2;var n=Math.abs(t.detail)-i;(n=Math.max(0,n))<100&&e.classList.add("active")}.bind(this))}var a;e(),i(),document.querySelectorAll("[sb-home-collection]").forEach(s),t({autoPlay:!0}),$(window).resize((function(){$(".home-press-entities")[0].slick.refresh(),$(".testimonial-slider-navigation")[0].slick.refresh()}))}(),"page.reviews"==SB.pagetype[0]&&function(){var t={};var e=document.querySelectorAll("[sb-tabs-toggle]");var i=document.querySelectorAll("[sb-tabs-pane]");function n(e){for(var i=0;i<t.length;i++)t[i].key==e?t[i].paneElement.classList.add("active"):t[i].paneElement.classList.remove("active")}e.forEach((function(e){var i=e.getAttribute("sb-tabs-toggle");i in t||(t[i]={key:i}),t[i].toggleElement=e})),i.forEach((function(e){var i=e.getAttribute("sb-tabs-pane");i in t||(t[i]={key:i}),t[i].paneElement=e})),(t=Object.values(t)).map((function(t){"paneElement"in t&&"toggleElement"in t&&t.toggleElement.addEventListener("click",(function(e){n(t.key)}))}));var s=t.find((function(t){return"#"+t.key==window.location.hash}));n(s?s.key:"minilune")}(),theme.customerAddresses=function(){var t=$("#AddressNewForm");t.length&&(Shopify&&new Shopify.CountryProvinceSelector("AddressCountryNew","AddressProvinceNew",{hideElement:"AddressProvinceContainerNew"}),$(".address-country-option").each((function(){var t=$(this).data("form-id");var e="AddressCountry_"+t;var i="AddressProvince_"+t;var n="AddressProvinceContainer_"+t;new Shopify.CountryProvinceSelector(e,i,{hideElement:n})})),$(".address-new-toggle").on("click",(function(){t.toggleClass("hide")})),$(".address-edit-toggle").on("click",(function(){var t=$(this).data("form-id");$("#EditAddress_"+t).toggleClass("hide")})),$(".address-delete").on("click",(function(){var t=$(this);var e=t.data("form-id");var i=t.data("confirm-message");confirm(i||"Are you sure you wish to delete this address?")&&Shopify.postLink("/account/addresses/"+e,{parameters:{_method:"delete"}})})))}(),theme.customerLogin=function(){var t={recoverPasswordForm:"#RecoverPassword",hideRecoverPasswordLink:"#HideRecoverPasswordLink"};function e(t){t.preventDefault(),n()}function i(){var t;"#recover"===window.location.hash&&n()}function n(){$("#RecoverPasswordForm").toggleClass("hide"),$("#CustomerLoginForm").toggleClass("hide")}function s(){var t;$(".reset-password-success").length&&$("#ResetSuccess").removeClass("hide")}$(t.recoverPasswordForm).length&&(i(),s(),$(t.recoverPasswordForm).on("click",e),$(t.hideRecoverPasswordLink).on("click",e))}(),$(document).ready((function(){var t;$(".press-statements").slick({arrows:!1,autoplay:!0,cssEase:"linear",dots:!1,fade:!0,slide:".press-quote",slidesToShow:1,swipeToSlide:!1}),$(".press-entities").slick({arrows:!1,asNavFor:".press-statements",dots:!1,focusOnSelect:!0,slide:".press-body",slidesToShow:3,swipeToSlide:!0}),$(".press-statements").on("beforeChange",(function(t,e,i,n){$(".press-entities").find(".slick-slide").removeClass("slick-current").not(".slick-cloned").eq(n).addClass("slick-current")})),$(window).resize((function(){$(".press-entities")[0].slick.refresh()})),(new slate.Sections).register("product",theme.Product),slate.a11y.pageLinkFocus($(window.location.hash)),$(".in-page-link").on("click",(function(t){slate.a11y.pageLinkFocus($(t.currentTarget.hash))}));var e=".rte table";slate.rte.wrapTable({$tables:$(e),tableWrapperClass:"rte__table-wrapper"});var i='.rte iframe[src*="youtube.com/embed"],'+'.rte iframe[src*="player.vimeo"]';slate.rte.wrapIframe({$iframes:$(i),iframeWrapperClass:"rte__video-wrapper"}),slate.cart.cookiesEnabled()&&(document.documentElement.className=document.documentElement.className.replace("supports-no-cookies","supports-cookies"))}));
//# sourceMappingURL=/s/files/1/2729/5296/t/157/assets/theme.js.map?v=10142841154661555424
