/** [Universal Client]  10/28/2021 - Version: 1.0.199 */ 
 !function(e){var t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=26)}([function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.mapconfigtype=0]="mapconfigtype",e[e.eventaction=1]="eventaction",e[e.eventcode=2]="eventcode",e[e.prioritypush=3]="prioritypush",e[e.mapurl=4]="mapurl",e[e.scope=5]="scope",e[e.dataset=6]="dataset",e[e.eddsupported=7]="eddsupported",e[e.persistencelog=8]="persistencelog",e[e.infoenabled=9]="infoenabled",e[e.datatransform=10]="datatransform",e[e.currentpagenameproperty=11]="currentpagenameproperty",e[e.newmodalreporting=12]="newmodalreporting",e[e.clfabstract=13]="clfabstract",e[e.clfglobal=14]="clfglobal"}(t.MapConfigElements||(t.MapConfigElements={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o=a(36),r=a(5),i=a(11);!function(e){e[e.info=0]="info",e[e.warn=1]="warn",e[e.error=2]="error",e[e.ssafc=3]="ssafc"}(n=t.LogLevels||(t.LogLevels={})),function(e){e[e.ALL=6]="ALL",e[e.TRACE=5]="TRACE",e[e.DEBUG=4]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=1]="ERROR"}(t.ClfLogLevels||(t.ClfLogLevels={}));var s,l=function(){function e(){}return e.update=function(t,a){e.level=n[t],e.message=a},e.user=r.Utils.appvisitor(),e}();!function(e){e.setvar="blue",e.augopageload="purple",e.pushevent="green",e.internal="gray",e.default="black"}(s||(s={}));var c=function(){function e(){}return e.log=function(t,a,r){void 0===a&&(a=n.info),void 0===r&&(r="Analytics Framework");var i=r+": "+o.TimeStamp.timeStampMS(),s=void 0!==t.stack;if(e.consoleExists)switch(a){case n.info:if(e.infoenabled)if("object"==typeof t){var c=console.log;if(function(){}.toString()===c.toString()){var p=document.createElement("iframe");p.style.display="none",document.getElementsByTagName("body")[0].appendChild(p),c=p.contentWindow&&p.contentWindow.console&&p.contentWindow.console.log}var d=Array(11).join(String.fromCharCode(9660)),u=Array(11).join(String.fromCharCode(9650)),g=e.flattenObject(t);if(console.groupCollapsed("%cSSAF_UC: "+i+": 'track' initiated for -> ( "+g.evtAction+", "+g.evtCode+" )","color: green"),c("%c"+d+" START ARGUMENTS "+d,"color: blue"),"object"==typeof g)for(var f in g)g.hasOwnProperty(f)&&c("%c "+f+" = "+g[f],"color: green");c("%c"+u+" END ARGUMENTS "+u,"color: blue"),console.groupEnd()}else i+=": Info -> "+t,console.log(i);break;case n.warn:i+=": Warning -> "+t,console.warn(i);break;case n.error:i+=": ERROR -> "+(s?t.stack:t),console.error(i);break;case n.ssafc:i+=": SSAFC -> "+t,console.log(i)}l.update(a,t)},e.flattenObject=function(t){var a=[];for(var n in t)if(t.hasOwnProperty(n))if("object"==typeof t[n]){var o=e.flattenObject(t[n]);for(var r in o)o.hasOwnProperty(r)&&(a[n+"."+r]=o[r])}else a[n]=t[n];return a},e.squawk=function(e,t,a){void 0===a&&(a="Analytics Framework");var n=a+": "+o.TimeStamp.timeStampMS();i.DebugModes.standardexternal===e||i.DebugModes.enhancedexternal===e?t.indexOf("have a value of")>=0||t.indexOf("is not set")>=0?(console.groupEnd(),console.log("%c"+n+" -> "+t,"background: #222; color: orange")):console.log(n+" -> "+t):i.DebugModes.standardinternal!==e&&i.DebugModes.enhancedinternal!==e||(i.DebugModes.enhancedinternal===e?console.log("%c"+n+" -> "+t+" (internal call)","color: "+s.internal):console.log(n+" -> "+t+" (internal call)"))},e.getLastLogItem=function(){return l},e.switchInfoEnabled=function(t){var a=window.sessionStorage.getItem(e.storageKey);if(null!==a){var n=JSON.parse(a);n.infoenabled!==t&&(n.infoenabled=t,window.sessionStorage.setItem(e.storageKey,JSON.stringify(n)))}e.infoenabled=t},e.initialize=function(){var t={infoenabled:!1},a=window.sessionStorage.getItem(e.storageKey);null!==a&&(t=JSON.parse(a)),null===a&&window.sessionStorage.setItem(e.storageKey,JSON.stringify(t)),e.infoenabled=t.infoenabled},e.infoenabled=!1,e.storageKey="ssaf-uc-logger",e.consoleExists=!("undefined"==typeof console)||-1!==navigator.appName.indexOf("Internet Explorer")&&-1===navigator.appVersion.indexOf("MSIE 1"),e}();t.Logger=c,c.initialize()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.flushEvents="flushEvents",e.formResponse="formResponse",e.formSubmit="formSubmit",e.impression="impression",e.linkClick="linkClick",e.modalClose="modalClose",e.modalLoad="modalLoad",e.pageLoad="pageLoad",e.systemEvent="systemEvent",e.video="video",e.virtualPageLoad="virtualPageLoad",e.clfevent="CLF_EVENT"}(t.EventActions||(t.EventActions={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.edd=0]="edd",e[e.event=1]="event",e[e.clf=2]="clf",e[e.backend=3]="backend"}(t.MapConfigTypes||(t.MapConfigTypes={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3);!function(e){e[e.ALL=6]="ALL",e[e.TRACE=5]="TRACE",e[e.DEBUG=4]="DEBUG",e[e.INFO=3]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=1]="ERROR"}(t.clfloglevels||(t.clfloglevels={}));var o=function(){function e(){}return e.MapConfigUrl=function(t){return e.default_config_urls.filter((function(e){return e.key===t}))[0].value},e.EventActionTrigger=function(t){return e.event_action_triggers.filter((function(e){return e.key===t}))[0].value},e.isObjectEmpty=function(e){var t;for(t in e)return!1;return!0},e.initialize=function(){e.eventmapurl="undefined"!=typeof DataMappingInterface&&void 0!==DataMappingInterface.placeholder&&void 0!==DataMappingInterface.eventmapurl?DataMappingInterface.eventmapurl:null,e.eventmapdefaulturl=e.MapConfigUrl(n.MapConfigTypes.event),e.eddurl="undefined"!=typeof DataMappingInterface&&void 0!==DataMappingInterface.placeholder&&void 0!==DataMappingInterface.eddurl?DataMappingInterface.eddurl:null,e.edddefaulturl=e.MapConfigUrl(n.MapConfigTypes.edd),e.noConsole=void 0===console||-1!==navigator.appName.indexOf("Internet Explorer")&&-1===navigator.appVersion.indexOf("MSIE 1"),e.currentpagenameproperty="page.pageInfo.friendlyPageName",e.clfevent=e.EventActionTrigger(n.MapConfigTypes.clf),e.clfloglevels={ALL:6,TRACE:5,DEBUG:4,INFO:3,WARN:2,ERROR:1},e.clfcurrentloglevel="ERROR",e.clfglobal="globalconfig"},e.getLogLevelText=function(){},e.eventaction=null,e.eventcode=null,e.prioritypush=!1,e.scope=null,e.eventmapdefaulturl=null,e.eventmapurl=null,e.edddefaulturl=null,e.eddurl=null,e.eddsupported=!0,e.noConsole=null,e.dataset={},e.edmdata={},e.infoenabled=!1,e.version="1.21",e.datatransform=!0,e.currentpagenameproperty=null,e.currentpagename=null,e.newmodalreporting=!0,e.queuedeventids={},e.persistenceLog=!1,e.CLFEventdata={},e.clfevent=null,e.clfdefaultconfigurl=null,e.clfconfigurl=null,e.clfabstract=!0,e.clfloglevels=null,e.clfcurrentloglevel=null,e.clfglobal=null,e.clfpageloaddataflush=0,e.default_config_urls=[{value:"data/datalayer/edd.json",key:n.MapConfigTypes.edd},{value:"data/datalayer/eventMapping.json",key:n.MapConfigTypes.event},{value:"data/CLF/config.json",key:n.MapConfigTypes.clf}],e.event_action_triggers=[{value:"CLF_EVENT",key:n.MapConfigTypes.clf}],e}();t.DefaultConfiguration=o,o.initialize()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.appvisitor=function(){return e.get("browserid")},e.get=function(e){return function(e,t){for(var a=t+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var r=n[o];" "===r.charAt(0);)r=r.substring(1);if(-1!==r.indexOf(a))return r.substring(a.length,r.length)}return""}(document.cookie,e)},e.isDual=function(){return"4"===window.sessionStorage.getItem("SSAFLegacyMode")||"3"===window.sessionStorage.getItem("SSAFLegacyMode")},e.isCSR=function(){return!!(window.location&&window.location.origin&&(window.location.origin.indexOf("paygonline.com")>-1||window.location.origin.indexOf("getdirectv.com")>-1))},e.isAttReferrer=function(){if(document&&document.referrer)for(var e=0,t=["att.com","directv.com","paygonline.com","atttvnow.com","attwatchtv.com","itcanwait.com","getdirectv.com","attonlineoffers.com","directvnow.com","attbelieves.com"];e<t.length;e++){var a=t[e];if(document.referrer.indexOf(a)>-1)return!0}return!1},e.isDualTestWithCloud=function(){var e=!1;return/(.*dualWithCloudTest=true)/.test(location.href)?(sessionStorage.setItem("dualWithCloud","true"),e=!0):/(.*dualWithCloudTest=false)/.test(location.href)&&(e=!1,sessionStorage.removeItem("dualWithCloud")),!e&&sessionStorage.getItem("dualWithCloud")&&(e=!0),e},e.isCloudTest=function(){var e=!1;return/(.*azureCloudTest=true)/.test(location.href)?(sessionStorage.setItem("azureCloudTest","true"),e=!0):/(.*azureCloudTest=false)/.test(location.href)&&(e=!1,sessionStorage.removeItem("azureCloudTest")),!e&&sessionStorage.getItem("azureCloudTest")&&(e=!0),e},e.isAzureSyncEnable=function(){var e=!1;return/(.*azureSyncEnable=true)/.test(location.href)?(sessionStorage.setItem("azureSyncEnable","true"),e=!0):/(.*azureSyncEnable=false)/.test(location.href)&&(e=!1,sessionStorage.removeItem("azureSyncEnable")),!e&&sessionStorage.getItem("azureSyncEnable")&&(e=!0),e},e.isTimeForDualWithCloud=function(){var e=!1,t=60*(new Date).getUTCHours()+(new Date).getUTCMinutes(),a=(new Date).getUTCDate(),n=(new Date).getUTCMonth()+1,o=(new Date).getUTCHours(),r=(new Date).getUTCDay();return(6===r&&o>=7||0===r||1===r&&o<7||(6!==n||1!==a)&&t>=345&&t<=435)&&(e=!0),e},e.endpointMappingUrl=function(){var e=[];if(window.location&&window.location.origin&&window.location.origin.indexOf("entertainment.directv.com")<0&&(window.location.origin.indexOf("lsreg.att.com")>-1?e.push("https://lsreg.att.com/ssaf/ssafc/v1/controllerdata"):window.location.hostname.indexOf("att.com")>-1&&window.location.hostname.indexOf("pre-www.att.com")<0?e.push("https://www.att.com/ssaf/ssafc/v1/controllerdata"):e.push(window.location.origin+"/ssaf/ssafc/v1/controllerdata"),this.isDualTestWithCloud())){if(window.location&&window.location.origin)if(window.location.origin.indexOf("pre-www.att.com")>=0)e.push("https://pre-www.att.com/ssaf/ssafc/v1/controllerdata");else if(window.location.origin.indexOf(".directv.com")>-1||window.location.origin.indexOf(".att-mail.com")>-1)e.push(window.location.origin+"/ssaf/ssafc/v1/controllerdata");else{for(var t=0,a=[".att.com",".attonlineoffers.com",".atttvnow.com",".attwatchtv.com",".atttv.com"];t<a.length;t++){var n=a[t];window.location.origin.indexOf(n)>-1&&e.push("https://www"+n+"/ssaf/ssafc/v1/controllerdata")}0===e.length&&e.push("https://www.att.com/ssaf/ssafc/v1/controllerdata")}else e.push("https://www.att.com/ssaf/ssafc/v1/controllerdata")}return e},e.getPstDate=function(e){var t=new Date,a=t.getTime()+6e4*t.getTimezoneOffset();return new Date(a+36e5*e)},e.toggle_impression=function(){var t=e.getPstDate(-7);return!(7===t.getDate()&&t.getMonth()+1===8&&2020===t.getFullYear()&&t.getHours()>=7&&t.getHours()<8)},e}();t.Utils=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.unknown=0]="unknown",e[e.error=1]="error",e[e.map=2]="map",e[e.track=3]="track",e[e.transform=4]="transform",e[e.logdata=5]="logdata",e[e.checkloglevelandact=6]="checkloglevelandact",e[e.done=7]="done"}(t.MapOperations||(t.MapOperations={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(0),r=a(3),i=function(){function e(){}return e.getStorageImpl=function(t){return e.currentstorage=null,"local"===t&&void 0!==localStorage?localStorage:"session"===t&&void 0!==sessionStorage?sessionStorage:e.currentstorage},e.extend=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{for(var a=[],o=1;o<e.length;o++)for(var r in e[o])e[o].hasOwnProperty(r)&&(a=e[0][r],e[0][r]=void 0!==a?e[o][r].concat(a):e[o][r])}catch(e){n.Logger.log("AppDataStore: extend()",e)}return e[0]},e.getItem=function(t,a){var r={},i=null;e.currentstorage=e.getStorageImpl("session");try{switch(t){case"edd":var s=JSON.parse(e.currentstorage.getItem("eddmapping"));n.Logger.log("AppDataStore getItem() - eddmap"+s,n.LogLevels.info),e.extend(r,s);break;case"event":i=JSON.parse(e.currentstorage.getItem("eventmapping")),n.Logger.log("AppDataStore getItem() - eventmap - "+i,n.LogLevels.info);var l=i.commonactionparams,c=i[a.get(o.MapConfigElements.eventcode)];e.extend(r,l,c);break;case"clf":i=JSON.parse(e.currentstorage.getItem("clfmapping")),n.Logger.log("AppDataStore getItem() - clfmap - "+i,n.LogLevels.info),l=i.commonactionparams,c=i[a.get(o.MapConfigElements.eventcode)],e.extend(r,l,c);break;case"backend":i=JSON.parse(e.currentstorage.getItem("eventmapping")),n.Logger.log("AppDataStore getItem() - pageloadmap"+i,n.LogLevels.info),e.extend(r,i.commonpageloadparams);break;default:i=JSON.parse(e.currentstorage.getItem("eventmapping")),n.Logger.log("getItem(): pageloadmap - "+i,n.LogLevels.info),e.extend(r,i.commonpageloadparams,"AppDataStore")}}catch(e){n.Logger.log(e,n.LogLevels.error,"AppDataStore getItem()")}return r},e.setItem=function(t,a){e.currentstorage=e.getStorageImpl("session"),void 0!==e.currentstorage?e.currentstorage.setItem(t,JSON.stringify(a)):n.Logger.log("AppData setItem() - getting storage from the system failed",n.LogLevels.warn)},e.updateLocalStorage=function(e,t,a){void 0===a&&(a=!1),a?localStorage.setItem(name,JSON.stringify({data:t})):localStorage.setItem(e,t)},e.mappingExists=function(t,a){var o=!1;try{var i="eventmapping",s="event_ldph";switch(t){case r.MapConfigTypes.edd:i="eddmapping",s="edd_ldph";break;case r.MapConfigTypes.event:i="eventmapping",s="event_ldph";break;case r.MapConfigTypes.clf:case r.MapConfigTypes.backend:i="clfmapping",s="clf_ldph"}e.getStorageImpl("session").getItem(i)&&(t===r.MapConfigTypes.edd&&a===e.getStorageImpl("session").getItem(s)||t===r.MapConfigTypes.event&&a===e.getStorageImpl("session").getItem(s)||t===r.MapConfigTypes.clf&&a===e.getStorageImpl("session").getItem(s))&&(o=!0)}catch(e){n.Logger.log(e,n.LogLevels.error,"AppDataStore")}return o},e.arrayToObject=function(e){for(var t={},a=0;a<e.length;a++){t[e[a].name]=e[a].params}return t},e.iterateToGetValue=function(e,t){var a=null;for(var n in e)if(n===t){a=e[n];break}return a},e.currentstorage=null,e}();t.AppDataStore=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){this.key=e,this.value=t},o=function(){function e(){this.items=[]}return e.prototype.addItem=function(e,t){var a=this.items.filter((function(t){return t.key===e}))[0];return void 0!==a?a.value=t:(a=new n(e,t),this.items.push(a)),a},e.prototype.addItems=function(e){for(var t=0,a=e;t<a.length;t++){var n=a[t];this.addItem(n.key,n.value)}},e.prototype.legacyAddItems=function(e){for(var t in e)this.addItem(t,e[t])},e.prototype.getItems=function(){return this.items},e.prototype.clear=function(){this.items.length=0},e.prototype.toJSON=function(e){var t={eventAttr:{},globalAttr:{}};if(e)for(var a=0,n=this.items;a<n.length;a++){(i=n[a]).key.indexOf("page.")>-1||i.key.indexOf("user.")>-1?t.globalAttr[i.key]=i.value:t.eventAttr[i.key]=i.value}else for(var o=0,r=this.items;o<r.length;o++){var i=r[o];t.eventAttr[i.key]=i.value}return t},e.prototype.isEmpty=function(){return 0===this.items.length},e}();t.Container=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(21),o=a(3),r=a(23),i=a(0),s=a(17),l=a(2),c=a(1),p=a(24),d=a(47),u=a(25),g=a(10),f=a(48),v=function(){function e(e){this.CSC="MapData",this.dataset=null,this.additionaldata=null,this.desiredResponse=null,this.edmdata=null,this.canonical=null,this.clfeventdata=null,this.configurator=e,this.edmdata=p.EdmDataFactory.create(this.configurator),this.canonical=new f.CanonicalData}return e.getChildScope=function(e,t){var a=null;if(t===e.$id)return e;try{for(var n=e.$$childHead;null!=n;)n.$id!==t?(n.$$childHead&&(a=this.getChildScope(n,t)),n=null!==a?null:n.$$nextSibling):(a=n,n=null)}catch(e){c.Logger.log(e,c.LogLevels.error,"MapData")}return a},e.prototype.getMapConfig=function(){var e=window.DataMappingInterface;if(e){var t=this.configurator.get(i.MapConfigElements.mapconfigtype),a=this.configurator.get(i.MapConfigElements.mapurl);switch(t){case o.MapConfigTypes.edd:e.eddurl!=e.edddefaulturl&&e.eddurl!=a&&this.configurator.set(i.MapConfigElements.mapurl,e.eddurl);break;case o.MapConfigTypes.event:e.eventmapurl!=e.eventmapdefaulturl&&e.eventmapurl!=a&&this.configurator.set(i.MapConfigElements.mapurl,e.eventmapurl)}}return this.configurator},e.prototype.getCanonicalData=function(){return this.canonical},e.prototype.getAdditionalData=function(){return this.additionaldata},e.prototype.addDataSet=function(e,t){var a=r.DataSetFactory.create(this.configurator);return this.configurator.set(i.MapConfigElements.dataset,a),a},e.prototype.addAdditionalData=function(){return s.AdditionalDataFactory.create()},e.prototype.addDesiredResponse=function(e,t){var a=new n.MapResponse(e,t);return this.desiredResponse=a,a},e.prototype.getMarketingCloudID=function(){return""},e.prototype.getEdmData=function(){return this.edmdata},e.prototype.setValue=function(e,t){try{var a=this.configurator.get(i.MapConfigElements.eventaction),n=this.trim(t);void 0!==n&&""!==n?e.indexOf(".")>=0?d.PrefixStripper.contains(e,u.PrefixTypes.events)?a!==l.EventActions.modalLoad&&a!==l.EventActions.modalClose||e!==g.AnalyticsMapExecutor.currentpagename?this.canonical.addItem(e,n):g.AnalyticsMapExecutor.currentpagename=t:this.edmdata.addItem(d.PrefixStripper.strip(u.PrefixTypes.events,e),n):this.edmdata.addItem(e,n):c.Logger.log("setValue() - can't set a null or empty value for attribute: "+e,c.LogLevels.warn,"MapData")}catch(e){c.Logger.log(e,c.LogLevels.error)}},e.prototype.trim=function(e){return null!==e?"string"==typeof e?String.prototype.trim?e.trim():e.replace(/^\s+|\s+$/g,""):e:""},e}();t.MapData=v},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=a(0),r=a(3),i=a(4),s=a(12),l=a(1),c=a(6),p=a(7),d=a(45),u=a(13),g=a(46),f=function(){function e(){}return e.execute=function(t,a,n,o,r){var i=n.getMapConfig(),s=t;switch(t){case c.MapOperations.track:s=e.track(a,i,n,o,r);break;case c.MapOperations.logdata:s=e.logData(a,i,n);break;case c.MapOperations.map:s=e.map(a,i,n,o,r);break;case c.MapOperations.transform:s=e.transform(a,n);break;case c.MapOperations.checkloglevelandact:break;case c.MapOperations.error:s=c.MapOperations.done}return s!==c.MapOperations.done&&(s=e.execute(s,a,n,o,r)),s},e.track=function(t,a,p,d,u){var g=a.get(o.MapConfigElements.eventaction),f=g,v=a.get(o.MapConfigElements.eventcode),m=v;p.getMarketingCloudID();!a.get(o.MapConfigElements.newmodalreporting)||n.EventActions.modalLoad!==f&&n.EventActions.modalClose!==f||(f=n.EventActions.linkClick,m="Link_Click");var h=t.getTransport(),w=h.createPayload(f,m);if(r.MapConfigTypes.edd===a.get(o.MapConfigElements.mapconfigtype)){var y=p.getEdmData().parse(t,a,p);!1===y.isEmpty()&&w.addAdditionalDataItems(y)}else!1===p.getEdmData().isEmpty()&&w.addAdditionalDataItems(p.getEdmData().parse(t,a,p));return!1===p.getCanonicalData().isEmpty()&&w.addAdditionalDataItems(p.getCanonicalData()),void 0!==u&&void 0!==d&&w.addTransaction(u,d),h.track(w),f!==g&&((w=h.createPayload(g,v)).addAdditionalDataItem(i.DefaultConfiguration.currentpagenameproperty,e.currentpagename,s.ItemScope.page),h.track(w)),l.Logger.log("track() call for event id - "+v+" is complete!!!",l.LogLevels.info,e.CSC),c.MapOperations.done},e.map=function(t,a,r,i,s){var p=c.MapOperations.unknown;if(n.EventActions.pageLoad===a.get(o.MapConfigElements.eventaction))if(t.isAutoPageLoadDisabled()){l.Logger.log("map() - Data Layer autopageload handling is active, so custom page load events are not registered. Check your application configuration.",l.LogLevels.warn,e.CSC),p=c.MapOperations.done}else p=g.AnalyticsMapper.map(t,r,i,s);else p=g.AnalyticsMapper.map(t,r,i,s);return p},e.transform=function(e,t){return t.transform()},e.logData=function(t,a,n){var s=c.MapOperations.unknown,g=!1,f=a.get(o.MapConfigElements.eventcode);"FLUSH_DATA"===f?g=!0:(a.set(o.MapConfigElements.clfabstract,"RUN_TIME_LOG"!==f),n.getEdmData().legacyAddItems({}),s=c.MapOperations.transform);var v=p.AppDataStore.getItem(r.MapConfigTypes[r.MapConfigTypes.backend],a)[i.DefaultConfiguration.clfglobal],m=new URL(encodeURI(d.ClfGlobalConfig.serviceurl(v)));try{0===i.DefaultConfiguration.clfpageloaddataflush&&(i.DefaultConfiguration.clfpageloaddataflush=d.ClfGlobalConfig.overridebatchprocess(v)?1:2);var h="undefined"!==localStorage.getItem("_clfevtsdt")&&null!==localStorage.getItem("_clfevtsdt")?JSON.parse(localStorage.getItem("_clfevtsdt")).data:[];if(!0===g){if(!i.DefaultConfiguration.isObjectEmpty(h)){var w=JSON.stringify({events:h});try{u.Httpclient.post(m,w).then((function(t){l.Logger.log("logData:: CLF log success -"+t,l.LogLevels.info,e.CSC),p.AppDataStore.updateLocalStorage("_clfevtsdt",[],!0),i.DefaultConfiguration.clfpageloaddataflush=2}))}catch(t){l.Logger.log("MappingFramework logData(): error occurred stack trace follows",l.LogLevels.warn,e.CSC),l.Logger.log(t,l.LogLevels.error,e.CSC)}}}else{var y={};if(y=i.DefaultConfiguration.clfabstract?p.AppDataStore.extend(DataMappingInterface.CLFEventdata,DataMappingInterface.edmdata):DataMappingInterface.edmdata,DataMappingInterface.isObjectEmpty(h)?h[0]=y:h[h.length]=y,h.length>=d.ClfGlobalConfig.batchsize(v)&&i.DefaultConfiguration.clfpageloaddataflush>1)try{w=JSON.stringify({events:h});u.Httpclient.post(m,w).then((function(e){l.Logger.log("logData:: CLF log success -"+e,l.LogLevels.info)}))}catch(t){l.Logger.log("logData(): error occurred stack trace follows",l.LogLevels.warn,e.CSC),l.Logger.log(t,l.LogLevels.error,e.CSC)}else p.AppDataStore.updateLocalStorage("_clfevtsdt",h,!0)}}catch(t){l.Logger.log(t,l.LogLevels.error,e.CSC)}return s},e.CSC="AnalyticsMapExecutor",e.currentpagename="",e}();t.AnalyticsMapExecutor=f},function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.disabled="0",e.standardexternal="1",e.standardinternal="2",e.enhancedexternal="3",e.enhancedinternal="4"}(n=t.DebugModes||(t.DebugModes={}));var o=function(){function e(){}return e.prototype.debug=function(t){void 0===t&&(t="");var a=this.checkDebug2();return"_all"===t?window.sessionStorage.setItem(e.cacheDebug2Mode,e.advancedConsole?n.enhancedinternal:n.standardinternal):null===a||a===n.disabled?window.sessionStorage.setItem(e.cacheDebug2Mode,e.advancedConsole?n.enhancedexternal:n.standardexternal):window.sessionStorage.setItem(e.cacheDebug2Mode,n.disabled),this.checkDebug2()},e.prototype.checkDebug=function(){return window.sessionStorage.getItem(e.cacheDebugMode)},e.prototype.checkDebug2=function(){var t=window.sessionStorage.getItem(e.cacheDebug2Mode);return null!==t?t:n.disabled},e.cacheNamespace="$ssaf",e.cacheDebugMode=e.cacheNamespace+".settings.debugMode",e.cacheDebug2Mode=e.cacheNamespace+".settings.debug2Mode",e.noConsole="undefined"==typeof console||void 0===console.log||void 0===console.warn||-1!==navigator.appName.indexOf("Internet Explorer")&&-1===navigator.appVersion.indexOf("MSIE 1"),e.advancedConsole="undefined"!=typeof console&&"function"==typeof console.table&&"function"==typeof console.group&&"function"==typeof console.groupCollapsed&&"function"==typeof console.groupEnd&&(-1!==window.navigator.userAgent.indexOf("Chrome/")||-1!==window.navigator.userAgent.indexOf("Firefox/")),e}(),r=function(){function e(){}return e.create=function(){return new o},e}();t.AnalyticsDebuggerFactory=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.page=1]="page",e[e.event=2]="event"}(t.ItemScope||(t.ItemScope={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),o=a(2),r=a(5),i=a(14),s={evt:null},l=function(){function e(){}return e.getHttpRequest=function(){var e;return window.XMLHttpRequest&&(e=new XMLHttpRequest),e},e.get=function(t){return new Promise((function(a,o){var r=e.getHttpRequest();r.open("GET",t,!0),r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status)if(""!==r.responseText)a(JSON.parse(r.responseText));else{var t="get was successful but did not return anything";n.Logger.log(t,n.LogLevels.warn,e.CSC),a(e.CSC+" : "+t)}else if(400===r.status){t="Ajax call returned with status code = 400";n.Logger.log(t,n.LogLevels.error,e.CSC),o(e.CSC+" : "+t)}else if(0!==r.status){t="Event Configuration file load error with status code = "+r.status;n.Logger.log(t,n.LogLevels.error,e.CSC),o(e.CSC+" : "+t)}},r.send()}))},e.post=function(t,a){return new Promise((function(l,c){var p=!0;if(a&&a.evtDetails&&a.evtDetails.eventType&&"generatePassThrough"===a.evtDetails.eventType)l("statusCode:ignored");else{if(a&&a.evtAction){(a.evtAction===o.EventActions.formSubmit||a.evtAction===o.EventActions.formResponse)&&window.navigator.userAgent.search("Safari")>=0&&window.navigator.userAgent.search("Chrome")<0&&(p=!1);var d=/:\/\/(.[^/]+)/,u=window.location.origin,g=u&&u.match(d)&&u.match(d)[1]&&u.match(d)[1].toLowerCase()||"",f=a.evtDetails&&a.evtDetails.linkDestinationUrl,v=f&&f.match(d)&&f.match(d)[1]&&f.match(d)[1].toLowerCase()||"";if(r.Utils.isAzureSyncEnable()&&(r.Utils.isCloudTest()||r.Utils.isTimeForDualWithCloud()||r.Utils.isDualTestWithCloud())){var m=window.sessionStorage.getItem("linkDestinationUrl");m&&a.evtAction===o.EventActions.linkClick&&a.evtDetails&&a.evtDetails.linkDestinationUrl&&m!==a.evtDetails.linkDestinationUrl&&(p=!1,window.sessionStorage.setItem("linkDestinationUrl",a.evtDetails.linkDestinationUrl))}else a.evtAction===o.EventActions.linkClick&&a.evtDetails&&!a.evtDetails.sendHitNow&&v&&(g!==v||a.evtDetails.linkPosition&&"GlobalNavPullMenu"!==a.evtDetails.linkPosition&&("GlobalNavTopBar"===a.evtDetails.linkPosition||"Headband"===a.evtDetails.linkPosition))&&(p=!1)}if(a&&a.evtDetails&&!r.Utils.isDual()){var h=a.evtDetails,w=new i.EdmEventApi(h);if(h.eventAction===o.EventActions.pageLoad||a.eventAction===o.EventActions.virtualPageLoad){var y=w.getCustomEventName();"undefined"==typeof gtag&&"undefined"==typeof opinionLabCondition?(h.pageLoadNotificationIsDelayed=!0,h._evtPageName=h["page.pageInfo.pageName"]?h["page.pageInfo.pageName"]:"pageName not available",s.evt=h,window.sessionStorage.setItem("_pageLoadNotificationDelayedFor",JSON.stringify(s))):w.broadcastCustomEvent(y,w)}w.broadcastCustomEvent("DM_Event",h)}if(navigator.sendBeacon&&a.evtAction===o.EventActions.linkClick&&r.Utils.isCloudTest){var D=navigator.sendBeacon(t.toString(),JSON.stringify(a));return Promise.resolve(D)}var C=e.getHttpRequest();if(C.withCredentials=!0,C.open("POST",t,p),C.setRequestHeader("Accept","application/json"),window.sessionStorage&&window.sessionStorage.getItem("ssafDataDiagnostic")&&"true"===window.sessionStorage.getItem("ssafDataDiagnostic")?C.setRequestHeader("data-diagnostic",!0):C.setRequestHeader("data-diagnostic",!1),a&&a.allids&&a.allids.idse_stack)C.setRequestHeader("idse_stack",a.allids.idse_stack);else{n.Logger.log("SSAF UC MISSING IDSE_STACK MISSING",n.LogLevels.warn,e.CSC)}var _=void 0;try{if(_=JSON.stringify(a),window.sessionStorage&&window.sessionStorage.getItem("printJsonSsafAutomate")&&"true"===window.sessionStorage.getItem("printJsonSsafAutomate")){var M="";M=a&&a.evtAction&&a.evtCode?a.evtAction+"-"+a.evtCode+"-"+Date.now():"missingevtAction-missingevtCode-"+Date.now();var b=document.getElementById("ddo-download-link");null!==b&&b.parentNode.removeChild(b);var I=document.createElement("a"),S=M+".txt";I.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(_)),I.setAttribute("download",S),I.setAttribute("id","ddo-download-link"),document.body.insertBefore(I,null),I.click()}C.setRequestHeader("Content-type","application/json")}catch(t){n.Logger.log(t,n.LogLevels.error,e.CSC),n.Logger.log(a,n.LogLevels.error,e.CSC),_=a,C.setRequestHeader("Content-type","application/json")}C.onreadystatechange=function(){if(4===C.readyState)if(200===C.status)if(""!==C.responseText&&"object"==typeof C.responseText)l(JSON.parse(C.responseText));else{var t="post was successful but did not return anything";n.Logger.log(t,n.LogLevels.warn,e.CSC),l(e.CSC+" : "+t)}else if(204===C.status){t="post was successful, returned with no content as expected";n.Logger.log(t,n.LogLevels.ssafc,e.CSC),l(e.CSC+" : "+t)}else if(400===C.status){t="Ajax call returned with status code = 400";n.Logger.log(t,n.LogLevels.error,e.CSC),c(e.CSC+" : "+t)}else if(0!==C.status){t="Event Configuration file load error with status code = "+C.status;n.Logger.log(t,n.LogLevels.error,e.CSC),c(e.CSC+" : "+t)}},C.send(_)}}))},e.loadFile=function(e){return new Promise((function(t,a){var n=document.createElement("script");n.type="text/javascript",n.onload=function(e){console.log("loadFile: Sucessfully loaded DFA script",e),t(e)},n.onerror=function(){console.log("loadFile: error - could not load DFA script"),t()},n.src=e,document.getElementsByTagName("head")[0].appendChild(n)}))},e.CSC="httpclient",e}();t.Httpclient=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.analytics_event=e}return e.prototype.isModal=function(){var e=!1;return!this.analytics_event||"pageLoad"!==this.analytics_event.eventAction&&"virtualPageLoad"!==this.analytics_event.eventAction||(e=!this.analytics_event._evtPageName||-1!==this.analytics_event._evtPageName.indexOf("mdl")||-1!==this.analytics_event._evtPageName.indexOf("Mdl")||-1!==this.analytics_event._evtPageName.indexOf("Modal Pg")),e},e.prototype.getCustomEventName=function(){for(var e="",t=[{eventAction:"pageLoad",customEventName:"DM_EVENT_PAGELOAD"},{eventAction:"virtualPageLoad",customEventName:"DM_EVENT_PAGELOAD"}],a=0;a<t.length;a++){var n=t[a];if(n.eventAction===this.analytics_event.eventAction){e=n.customEventName;break}}return e},e.prototype.broadcastCustomEvent=function(e,t){var a=new CustomEvent(e,{detail:{data:t},bubbles:!0,cancelable:!0});document.getElementsByTagName("head")[0].dispatchEvent(a)},e}();t.EdmEventApi=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),o=a(0),r=function(){function e(e,t,a){this.transport=e,this.mapconfigtype=t,this.eventaction=n.DefaultConfiguration.eventaction,this.eventcode=n.DefaultConfiguration.eventcode,this.prioritypush=n.DefaultConfiguration.prioritypush,this.mapurl=void 0!==a?a:n.DefaultConfiguration.MapConfigUrl(t),this.scope=n.DefaultConfiguration.scope,this.eddsupported=n.DefaultConfiguration.eddsupported,this.persistencelog=n.DefaultConfiguration.persistenceLog,this.infoenabled=n.DefaultConfiguration.infoenabled,this.datatransform=n.DefaultConfiguration.datatransform,this.currentpagenameproperty=n.DefaultConfiguration.currentpagenameproperty,this.newmodalreporting=n.DefaultConfiguration.newmodalreporting,this.clfevent=n.DefaultConfiguration.clfevent}return e.prototype.get=function(e){var t=null;switch(e){case o.MapConfigElements.mapconfigtype:t=this.mapconfigtype;break;case o.MapConfigElements.eventaction:t=this.eventaction;break;case o.MapConfigElements.eventcode:t=this.eventcode;break;case o.MapConfigElements.prioritypush:t=this.prioritypush;break;case o.MapConfigElements.mapurl:t=this.mapurl;break;case o.MapConfigElements.scope:t=this.scope;break;case o.MapConfigElements.eddsupported:t=this.eddsupported;break;case o.MapConfigElements.persistencelog:t=this.persistencelog;break;case o.MapConfigElements.infoenabled:t=this.infoenabled;break;case o.MapConfigElements.datatransform:t=this.datatransform;break;case o.MapConfigElements.currentpagenameproperty:t=this.currentpagenameproperty;break;case o.MapConfigElements.newmodalreporting:t=this.newmodalreporting}return t},e.prototype.set=function(e,t){switch(e){case o.MapConfigElements.mapconfigtype:this.mapconfigtype=t;break;case o.MapConfigElements.eventaction:this.eventaction=t;break;case o.MapConfigElements.eventcode:this.eventcode=t;break;case o.MapConfigElements.prioritypush:this.prioritypush=t;break;case o.MapConfigElements.mapurl:this.mapurl=t;break;case o.MapConfigElements.scope:this.scope=t;break;case o.MapConfigElements.eddsupported:this.eddsupported=t;break;case o.MapConfigElements.persistencelog:this.persistencelog=t;break;case o.MapConfigElements.infoenabled:this.infoenabled=t;break;case o.MapConfigElements.datatransform:this.datatransform=t;break;case o.MapConfigElements.currentpagenameproperty:case o.MapConfigElements.newmodalreporting:}},e}();t.BaseConfiguration=r},function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var a,n,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],n=0}finally{a=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(27),i=a(28),s=a(29),l=a(30),c=a(35),p=a(2),d=a(11),u=a(1),g=a(13),f=a(18),v=a(19),m=a(5),h=a(14);!function(e,t,a){e=e||"docReady",t=t||window;var n=[],o=!1,r=!1;if(void 0!==window.docReady){var i={docReady:!0,internal:!0};n.push({fn:window.docReady,ctx:i})}function s(){if(!("4"===window.sessionStorage.getItem("SSAFLegacyMode")||"3"===window.sessionStorage.getItem("SSAFLegacyMode"))&&!o){o=!0;for(var e=!1,t=0;t<n.length;t++)n[t].fn.call(window,n[t].ctx),!0,!0===n[t].ctx.internal&&(e=!0);n=[],!1===e&&void 0!==window.docReady&&window.docReady.length<3&&window.docReady.call(),window.dispatchEvent(new CustomEvent("DM_DOC_READY",{}))}}function l(){"complete"===document.readyState&&s()}m.Utils.isDual()||(t[e]=function(e,t,a){(t=t||{}).docReady=void 0!==window.docReady,t.internal=a||!1,o?setTimeout((function(){"function"==typeof e&&e(t)}),1):(n.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(s,1):r||(document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):(document.attachEvent("onreadystatechange",l),window.attachEvent("onload",s)),r=!0))})}("docReady",window),t.load=function(e){return w.initialize()};var w=function(){function e(e){this.payloads=[],this.done=!1,this.autoPageLoad=!0;this.ext=s.ExtensionsFactory.create(),this.debugger=d.AnalyticsDebuggerFactory.create(),this.cache=new c.PropertyCache,this.processPayloads()}return e.frameExists=function(){return null!=document.getElementById(e.frame_id)},e.get=function(){return e._instance},e.set=function(t){e._instance=t},e.initialize=function(){var t=e.get();if(null===t){if(t=new e(document.getElementsByTagName("body")[0]),e.set(t),window.ddo=t,window.AnalyticsNotificationFramework=i.AnalyticsNotificationFramework,!window.sessionStorage.getItem("uc_dfa")){var a=Date.now(),n="https://fls.doubleclick.net/json?spot=6100125&src=&var=s_3_Integrate_DFA_get_0&host=integrate.112.2o7.net%2Fdfa_echo%3Fvar%3Ds_3_Integrate_DFA_get_0%26AQE%3D1%26A2S%3D1&ord="+a;g.Httpclient.loadFile(n).then((function(e){console.log("DFA Success response data",e),"undefined"!=typeof s_3_Integrate_DFA_get_0&&"object"==typeof s_3_Integrate_DFA_get_0&&(window.uc_dfa_val=s_3_Integrate_DFA_get_0,window.dfaSuccess=Date.now()-a,window.sessionStorage.setItem("uc_dfa","true"))})).catch((function(t){window.dfaFailed=Date.now()-a,u.Logger.log("DFA failed: "+t,u.LogLevels.warn,e.CSC)}))}window.sessionStorage.setItem("landingPageLoad","true")}return t},e.prototype.version=function(){return"1.0.199 prod"},e.prototype.disableAutoPageLoad=function(){return this.autoPageLoad=!1,!0},e.prototype.createPayload=function(e,t){return l.PayloadFactory.create(this,e,t)},e.prototype.createPayloadWithTransaction=function(e,t,a){return l.PayloadFactory.create(this,e,t,a)},e.prototype.cachePageLevelItem=function(e){e&&e.key&&void 0!==e.value&&null!==e.value&&this.cache.addToInternal(e.key,e.value)},e.prototype.clearPageLevelCache=function(){this.cache.clear()},e.prototype.clearVar=function(e){"string"==typeof e&&("_all"===e?this.clearPageLevelCache():this.cache.remove(e))},e.prototype.track=function(t){var a=t.toJSON();this.performNotifications(a),window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")&&"true"===window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")&&(a.evtDetails.ssaf_data_diagnosis_enabled=!0,Object.assign(a,v.MetaDataProcessor.getDiagnosisData(JSON.parse(JSON.stringify(a)))));for(var n=0,o=m.Utils.endpointMappingUrl();n<o.length;n++){var r=o[n];g.Httpclient.post(r,a)}if(window.location&&window.location.origin&&window.location.origin.indexOf("entertainment.directv.com")>-1&&a.evtAction===p.EventActions.pageLoad){var i=new h.EdmEventApi(a.evtDetails),s=i.getCustomEventName();i.broadcastCustomEvent(s,i)}u.Logger.log(a,u.LogLevels.info,e.CSC),m.Utils.isAzureSyncEnable()&&a.evtDetails&&a.evtDetails.linkDestinationUrl&&(m.Utils.isCloudTest()||m.Utils.isDualTestWithCloud()||m.Utils.isTimeForDualWithCloud())&&window.sessionStorage.setItem("linkDestinationUrl",a.evtDetails.linkDestinationUrl)},e.prototype.trackPreview=function(e){return e.toJSON()},e.prototype.registerForNotification=function(e,t){return!1===e.hasregistered&&(this.anf=e,e.listening=void 0!==t&&t,e.hasregistered=!0,this.criteria=r.NotificationCriteriaFactory.create()),this.criteria},e.prototype.registerForEvents=function(e,t,a,n,o){this.registerForNotification(e,!1).add(t,a,n,o)},e.prototype.getEvents=function(){},e.prototype.getEventToBind=function(e){},e.prototype.pushEvent=function(e,t,a){return n(this,void 0,void 0,(function(){var n;return o(this,(function(o){return void 0===a&&(a={}),n={eventAction:e,eventCode:t,additionaldata:a},f.AppClientManager.universalClientReceiver(n),[2]}))}))},e.prototype.setVar=function(e,t){this.cache.add(e,t)},e.prototype.setVars=function(e){if("object"==typeof e)for(var t in e){var a=e[t];this.setVar(t,a)}},e.prototype.getVar=function(e){var t="",a=this.cache.getInternal(e);return null!==a&&(t=a.value),t},e.prototype.getAllSetVars=function(){return this.cache.getCompleteCache()},e.prototype.autoPageLoadEvent=function(){var t=window.DataMappingInterface;if(!1===this.autoPageLoad||!1===t.autopageload);else if(!0===this.autoPageLoad||!0===t.autopageload){u.Logger.log("Universal Client autopageload handling is active, so custom page load events are not registered. Check your application configuration.",u.LogLevels.warn,e.CSC),this.pushEvent(p.EventActions.pageLoad,"page loaded",{})}},e.prototype.pageLastLine=function(){if(!m.Utils.isDual()){var e=this,t=window;t.addEventListener?t.addEventListener("load",(function(){e.autoPageLoadEvent.apply(e)}),!1):t.attachEvent("onload",(function(){e.autoPageLoadEvent.apply(e)})),window.docReady((function(){}),void 0,!1)}},e.prototype.squawk=function(e){u.Logger.squawk(this.debugger.checkDebug2(),e)},e.prototype.debug=function(e){var t=this.debugger.debug(e);if(d.DebugModes.disabled!==t){if(!1===u.Logger.infoenabled){u.Logger.infoenabled=!0;var a={infoenabled:!0};window.sessionStorage.setItem("ssaf-uc-logger",JSON.stringify(a))}}else{u.Logger.infoenabled=!1;a={infoenabled:!1};window.sessionStorage.setItem("ssaf-uc-logger",JSON.stringify(a))}return t},e.prototype.ucDebug=function(){return this.debug("")},e.prototype.printJson=function(e){!0===e?window.sessionStorage.setItem("printJsonSsafAutomate","true"):window.sessionStorage.setItem("printJsonSsafAutomate","false")},e.prototype.dataDiagnostic=function(e){!0===e?window.sessionStorage.setItem("ssafDataDiagnostic","true"):window.sessionStorage.setItem("ssafDataDiagnostic","false")},e.prototype.dataLineageSSAF=function(){return window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")&&"true"===window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")?(window.sessionStorage.setItem("ssaf_data_diagnosis_enabled","false"),!1):(window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")&&window.sessionStorage.getItem("ssaf_data_diagnosis_enabled"),window.sessionStorage.setItem("ssaf_data_diagnosis_enabled","true"),!0)},e.prototype.checkDebug=function(){return this.debugger.checkDebug()},e.prototype.checkDebug2=function(){return this.debugger.checkDebug2()},e.prototype.processPayloads=function(){for(var t=0,a=this.payloads;t<a.length;t++){var n=a[t].toJSON();this.performNotifications(n),console.log("JSON for SSAF Controller",JSON.stringify(n)),u.Logger.log(n,u.LogLevels.info,e.CSC)}this.payloads.length=0,this.done=!0},e.prototype.performNotifications=function(e){if(void 0!==this.anf&&this.anf.hasregistered&&this.anf.listening&&this.anf.handleNotification(this.criteria,e),!m.Utils.isDual()&&e.evtAction&&(e.evtAction===p.EventActions.pageLoad||e.evtAction===p.EventActions.virtualPageLoad)){if("undefined"!=typeof detmLoader&&void 0!==detmLoader.getLoadDelayManager)detmLoader.getLoadDelayManager().handlepageload(e);e.evtDetails&&window.sessionStorage.getItem("landingPageLoad")&&"true"===window.sessionStorage.getItem("landingPageLoad")&&(window.sessionStorage.setItem("anf_landingPageLoad_Data",JSON.stringify(e.evtDetails)),window.sessionStorage.setItem("landingPageLoad","false"))}},e.CSC="Analytics Transport",e._instance=null,e.frame_id="detm-transport-iframe",e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(33),o=function(){function e(){}return e.create=function(){return new n.AdditionalData},e}();t.AdditionalDataFactory=o},function(e,t,a){"use strict";var n=this&&this.__awaiter||function(e,t,a,n){return new(a||(a=Promise))((function(o,r){function i(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,s)}l((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var a,n,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[2&r[0],o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=t.call(e,i)}catch(e){r=[6,e],n=0}finally{a=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var r=a(16),i=a(12),s=a(2),l=a(1),c=a(19),p=a(20),d=function(){function e(){}return e.getMCID=function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "===a.charAt(0);)a=a.substring(1);if(-1!==a.indexOf("AMCV_55633")){var n=unescape(a.substring("AMCV_55633".length,a.length)).split("|"),o=n.indexOf("MCMID");return n[o+1]}}return""},e.toJSON=function(e){return e&&e.additionaldata&&(Object.assign(e,e.additionaldata),delete e.additionaldata),e},e.universalClientReceiver=function(e){return n(this,void 0,void 0,(function(){var t;return o(this,(function(a){switch(a.label){case 0:return"undefined"==typeof ddo&&(t=document.getElementsByTagName("body")[0],ddo=r.load(t),window[ddo]=ddo),e?e.eventAction!==s.EventActions.impression?[3,2]:[4,this.bundleImpression(e)]:[3,4];case 1:return a.sent(),[3,4];case 2:return e.eventAction===s.EventActions.flushEvents?[3,4]:[4,this.reportTransport(e)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))},e.reportTransport=function(e){return n(this,void 0,void 0,(function(){var t,a,n,r,s;return o(this,(function(o){switch(o.label){case 0:for(s in t=this.toJSON(e),window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")&&"true"===window.sessionStorage.getItem("ssaf_data_diagnosis_enabled")&&(a=JSON.parse(JSON.stringify(t)),new c.DiagnosisJsonSetter(a)),n=ddo.createPayload(t.eventAction,t.eventCode,this.getMCID()),(r=p.AutoSetParams.checkAutoSet(t.eventAction,t))&&(t=Object.assign(t,r)),t)s.indexOf("events.")>-1?n.addAdditionalDataItem(s.substring(7),t[s],i.ItemScope.page):n.addAdditionalDataItem(s,t[s],i.ItemScope.page);return[4,ddo.track(n)];case 1:return o.sent(),[2]}}))}))},e.bundleImpression=function(t){var a=Object.assign({},t);if(a.evtAction="impression",a.evtCode="impression",l.Logger.log(a,l.LogLevels.info,"bundling in process"),t&&t.additionaldata){var r=[{from:"componentName",to:"slotFriendlyName"},{from:"componentOrder",to:"contentTransactionId"},{from:"slotOrder",to:"slotPosition"},{from:"segmentId",to:"contentPageSectionId"},{from:"variationId",to:"contentId"},{from:"variationID",to:"contentId"},{from:"abTreatmentName",to:"contentFriendlyName"},{from:"abTestId",to:"inventorySpaceId"},{from:"abCampaignName",to:"contentPageSectionId"},{from:"abSystem",to:"contentSystem"},{from:"abTestEvent",to:"slotFriendlyName"},{from:"contentid",to:"contentId"},{from:"contentID",to:"contentId"}];if(r)for(var i=0,s=r;i<s.length;i++){var c=s[i];if(void 0!==t.additionaldata[c.from]){var p=t.additionaldata[c.from]||"";delete t.additionaldata[c.from],t.additionaldata[c.to]=p}}if(t.additionaldata.Infinity)for(var c in t.additionaldata.Infinity)t.additionaldata[c]=t.additionaldata.Infinity[c];if(t.additionaldata.contentFriendlyName){"string"==typeof t.additionaldata.contentFriendlyName&&(t.additionaldata.contentFriendlyName=t.additionaldata.contentFriendlyName.replace(/&/g,""));var d=t.additionaldata.contentId||"",u=t.additionaldata.contentPageSectionId||"",g=(t.additionaldata.componentOrder||t.additionaldata.contentTransactionId||"").toString().length<="10"?t.additionaldata.contentTransactionId:"",f=t.additionaldata.contentTransactionId||t.additionaldata.componentOrder||"",v=t.additionaldata.contentTransactionId||t.additionaldata.componentOrder||t.additionaldata.tDataTransactionId||"",m=t.additionaldata.contentSystem||"",h=t.additionaldata.contentFriendlyName||"",w=t.additionaldata.slotFriendlyName||"",y=t.additionaldata.contentProductGroup||"",D=t.additionaldata.contentSku||"",C=t.additionaldata.slotPosition||"",_=t.additionaldata.contentRotationPosition||"",M=t.additionaldata.contentInventorySpaceId||"",b=t.additionaldata.inventorySpaceId||"",I=C||_,S=M||b,L="tdata"===m.toLowerCase()?g:f;e.impListCache.push(d+"~"+I+"~"+u+"~"+S+"~"+v+"~"+m+"~"+h+"~"+w+"~"+y+"~"+D),"ABTestSplit"===m?e.impProdCache.push(";impression;;;event352=1;eVar243=~"+I+"~"+u+"~"+S+"~"+L+"~"+m+"~"+h+"~"+w+"~"+y+"~"+D+"|eVar218=~"+h+"~"+m+"~"+u+"~"+S):e.impProdCache.push(";impression;;;event352=1;eVar243=~"+I+"~"+u+"~"+S+"~"+L+"~"+m+"~"+h+"~"+w+"~"+y+"~"+D),setTimeout((function(){return n(this,void 0,void 0,(function(){var a,n,r,i,s,l,c,p;return o(this,(function(o){switch(o.label){case 0:if(!(e.impListCache&&e.impListCache.length>0&&e.impProdCache&&e.impProdCache.length>0))return[3,2];for(a=[],n=[],r=0,i=e.impListCache;r<i.length;r++)s=i[r],(l=s.split("~"))&&l.length>0&&(c={contentId:l[0]?l[0]:"",contentFriendlyName:l[6]?l[6]:"",componentName:l[7]?l[7]:"",componentOrder:l[4]?l[4]:"",slotOrder:l[1]?l[1]:"",contentSystem:l[5]?l[5]:"",segmentId:l[2]?l[2]:"",variationId:l[0]?l[0]:"",inventorySpaceId:l[3]?l[3]:"",contentProductGroup:l[8]?l[8]:"",contentSKU:l[9]?l[9]:"",contentPageSectionId:l[2]?l[2]:"",slotFriendlyName:l[7]?l[7]:""},p={abTreatmentName:l[6]?l[6]:"",abTestId:l[3]?l[3]:"",abCampaignName:l[2]?l[2]:"",abSystem:l[5]?l[5]:"",abTestEvent:l[7]?l[7]:""},a.push(c),n.push(p));return t.Impressions=a,t.ABTests=n,t.additionaldata.list1=e.impListCache.join("|"),t.additionaldata.products=e.impProdCache.join(","),e.impListCache=[],e.impProdCache=[],[4,e.reportTransport(t)];case 1:o.sent(),o.label=2;case 2:return[2]}}))}))}),5e3)}else l.Logger.log("Impression rejected due to missing contentFriendlyName")}else l.Logger.log("Impression rejected due to missing additionaldata")},e.impListCache=[],e.impProdCache=[],e}();t.AppClientManager=d},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){this.appJson=e,o.setDiagnosisData(this.appJson)};t.DiagnosisJsonSetter=n;var o=function(){function e(){}return e.setDiagnosisData=function(e){this.ucUnprocessJson={},this.ucUnprocessJson=Object.assign({},e)},e.getDiagnosisData=function(e){return this.ucProcessJson={},this.ucProcessJson=Object.assign({},e),this.ucProcessJson&&this.ucProcessJson.evtDetails&&this.ucProcessJson.appGlobalData&&(Object.assign(this.ucProcessJson.evtDetails,this.ucProcessJson.appGlobalData),delete this.ucProcessJson.appGlobalData),new r(this.ucUnprocessJson,this.ucProcessJson)},e}();t.MetaDataProcessor=o;var r=function(){function e(e,t){this.diagnosisMetaData=this.comparator(e,t)}return e.prototype.comparator=function(e,t){var a={evtAction:"",evtCode:"",evtDetails:{},allids:{}};if(e&&t)for(var n in t)if("evtDetails"===n)for(var o in t[n])if(t[n][o]&&t[n][o].constructor===Array&&e[o]&&e[o].constructor===Array){a[n][o]=[];for(var r=0;r<t[n][o].length;r++)for(var i in a[n][o][r]={},t[n][o][r])a[n][o][r][i]={value:t[n][o][r][i],setBy:"application",lastModifiedBy:"none",oldValue:"na",type:typeof t[n][o][r][i],length:"string"==typeof t[n][o][r][i]?t[n][o][r][i].length:"number"==typeof t[n][o][r][i]?t[n][o][r][i].toString().length:0}}else e[o]&&t[n][o]!==e[o]?a[n][o]={value:t[n][o],setBy:"application",lastModifiedBy:"ssaf-uc",oldValue:e[o],type:typeof t[n][o],length:"string"==typeof t[n][o]?t[n][o].length:"number"==typeof t[n][o]?t[n][o].toString().length:0}:void 0===e[o]?a[n][o]={value:t[n][o],setBy:"ssaf-uc",lastModifiedBy:"none",oldValue:"na",type:typeof t[n][o],length:"string"==typeof t[n][o]?t[n][o].length:"number"==typeof t[n][o]?t[n][o].toString().length:0}:a[n][o]={value:t[n][o],setBy:"impression"!==t[n].eventAction||"list1"!==o&&"products"!==o?"application":"ssaf-uc",lastModifiedBy:"none",oldValue:"na",type:typeof t[n][o],length:"string"==typeof t[n][o]?t[n][o].length:"number"==typeof t[n][o]?t[n][o].toString().length:0};else if(t[n]&&t[n].constructor===Object&&void 0===e[n])for(var o in a[n]={},t[n])a[n][o]={value:t[n][o],setBy:"ssaf-uc",lastModifiedBy:"none",oldValue:"na",type:typeof t[n][o],length:"string"==typeof t[n][o]?t[n][o].length:"number"==typeof t[n][o]?t[n][o].toString().length:0};else e[n]&&t[n]!==e[n]?a[n]={value:t[n],setBy:"application",lastModifiedBy:"ssaf-uc",oldValue:e[n],type:typeof t[n],length:"string"==typeof t[n]?t[n].length:"number"==typeof t[n]?t[n].toString().length:0}:void 0===e[n]?a[n]={value:t[n],setBy:"ssaf-uc",lastModifiedBy:"none",oldValue:"na",type:typeof t[n],length:"string"==typeof t[n]?t[n].length:"number"==typeof t[n]?t[n].toString().length:0}:a[n]={value:t[n],setBy:"application",lastModifiedBy:"none",oldValue:"na",type:typeof t[n],length:"string"==typeof t[n]?t[n].length:"number"==typeof t[n]?t[n].toString().length:0};return a},e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(2),o=a(5),r=a(14),i=function(){function e(){}return e.checkAutoSet=function(t,a){return t===n.EventActions.pageLoad||t===n.EventActions.virtualPageLoad?e.collectPageData(a):e.collectOtherEventData(t,a)},e.collectPageData=function(t){var a={},n=ddo.getAllSetVars();if(n){for(var r in n)t.hasOwnProperty(r)&&(delete n[r],ddo.setVar(r,t[r]));Object.assign(a,n)}var i=this.getLegacySplunkId();return a["page.pageInfo.maxPageDepthViewed"]=e.maxPageDepthView(),t["page.pageInfo.pageTitle"]||n["page.pageInfo.pageTitle"]||(a["page.pageInfo.pageTitle"]=document&&document.title?document.title:""),a["page.pageInfo.viewedUIExperience"]=window&&window.innerWidth<768?"Smartphone":window&&window.innerWidth<1025?"Tablet":"Desktop",i&&(a["page.pageInfo.splunkSessionId"]=this.getLegacySplunkId()),a["page.location._addressBarFullURL"]=window&&window.location&&window.location.href?window.location.href:"",a["user.appVisitorCookie"]=window.sessionStorage.getItem("native_udid")||o.Utils.appvisitor()||"",t["page.pageInfo.flowCode"]||n["page.pageInfo.flowCode"]||(a["page.pageInfo.flowCode"]=window.sessionStorage.getItem("ssaf-uc-flowCode")?window.sessionStorage.getItem("ssaf-uc-flowCode"):""),a["user.tech.thinNativeFlag"]=this.getCookie("accessDomain")?1:0,a["user.uuid"]=(document.cookie.match(/^(?:.*;)?\s*UUID\s*=\s*([^;]+)(?:.*)?$/)||document.cookie.match(/^(?:.*;)?\s*BUUID\s*=\s*([^;]+)(?:.*)?$/)||[,""])[1],o.Utils.isDual()&&!o.Utils.isCSR()&&ddo.clearPageLevelCache(),a},e.collectOtherEventData=function(t,a){var r={},i=ddo.getAllSetVars();if(i){for(var s in i)a.hasOwnProperty(s)&&delete i[s];Object.assign(r,i)}var l,c,p=e.maxPageDepthView();p&&"number"!=typeof p&&p.indexOf("|")>-1&&(l=+(p=p.split("|")[0])),document&&(document.documentElement||document.body)&&(c=document.documentElement.scrollHeight||document.body.scrollHeight)>0&&(c=Math.round(c));var d=l>c?c:l,u=100*d/c;u>0&&(u=Math.round(u));var g=d+"|"+c+"|"+u;r["page.pageInfo.maxPageDepthViewed"]=g;var f=this.getCookie("fsr.r"),v=this.getCookie("_4c_mc_");if(f&&(r["page.pageInfo.fsrCookie"]=f),v)r["page.pageInfo.fsrMicroCookie"]=v;else{var m=this.getCookie("_4c_");if(m){var h=JSON.parse(decodeURIComponent(m));h&&h._4c_mc_&&(r["page.pageInfo.fsrMicroCookie"]=h._4c_mc_)}}if(t===n.EventActions.linkClick||t===n.EventActions.formResponse||t===n.EventActions.modalLoad||t===n.EventActions.modalClose){var w=e.getCoordinates();r.linkCoordinateX=w&&w.coordinateX?Math.round(w.coordinateX):"",r.linkCoordinateY=w&&w.coordinateY?Math.round(w.coordinateY):""}return r["page.pageInfo.viewedUIExperience"]=window&&window.innerWidth<768?"Smartphone":window&&window.innerWidth<1025?"Tablet":"Desktop",r["user.appVisitorCookie"]=window.sessionStorage.getItem("native_udid")||o.Utils.appvisitor()||"",a["page.location.url"]||i["page.location.url"]||(r["page.location.url"]=ddo.getVar("page.location.url")||""),a["page.pageInfo.flowCode"]||i["page.pageInfo.flowCode"]||(r["page.pageInfo.flowCode"]=window.sessionStorage.getItem("ssaf-uc-flowCode")?window.sessionStorage.getItem("ssaf-uc-flowCode"):""),a["page.pageInfo.friendlyPageName"]||i["page.pageInfo.friendlyPageName"]||(r["page.pageInfo.friendlyPageName"]=ddo.getVar("page.pageInfo.friendlyPageName")||""),r},e.maxPageDepthView=function(){e.maxscrollDepth=e.maxscrollDepth&&e.maxscrollDepth.length>0?e.maxscrollDepth:[];var t=e.customerMaxDepth?e.customerMaxDepth:innerHeight,a=document.documentElement.scrollHeight||document.body.scrollHeight;return t=t>a?a:t,Math.round(t),t+"||"},e.caDepth=function(){window&&(e.maxscrollDepth.push(window.pageYOffset+window.innerHeight),e.customerMaxDepth=Math.max.apply(this,e.maxscrollDepth),e.customerMaxDepth=Math.round(e.customerMaxDepth))},e.getCoordinates=function(){return e.linkXY},e.getLegacySplunkId=function(){var e="cccCartStorageKey",t=sessionStorage.getItem(e);if(null!==t)try{var a=JSON.parse(t);if(void 0!==a.payload&&void 0!==a.payload.metadata&&void 0!==a.payload.metadata.wireless&&void 0!==a.payload.metadata.wireless.buyflowOrderId)return a.payload.metadata.wireless.buyflowOrderId;console.log("page.pageInfo.splunkSessionId: attribute: '"+a.payload.metadata.wireless.buyflowOrderId+"' of "+e+" is undefined")}catch(t){console.log("page.pageInfo.splunkSessionId: JSON parse failed on '"+e+"'")}return""},e.getCookie=function(e){var t="",a=e;e+="=";for(var n=0,o=document.cookie.split(";");n<o.length;n++){var r=o[n];-1!==(r=r.trim()).indexOf(e)&&(t=r)}return void 0!==t?t.substring(a.length+1):""},e.linkXY={coordinateX:"",coordinateY:""},e.maxscrollDepth=[],e}();t.AutoSetParams=i,window.addEventListener("scroll",(function(){i.caDepth()})),window.addEventListener("click",(function(e){i.linkXY.coordinateX=e.clientX+window.pageXOffset,i.linkXY.coordinateY=e.clientY+window.pageYOffset}),!0),document.addEventListener("DTM_SATELLITE_STATE",(function(e){if(window.sessionStorage.getItem("_pageLoadNotificationDelayedFor")){var t=JSON.parse(window.sessionStorage.getItem("_pageLoadNotificationDelayedFor"));if(t&&t.evt){var a=new r.EdmEventApi(t.evt),n=a.getCustomEventName();a.isModal()&&(n="DM_EVENT_MODALPAGELOAD"),a.broadcastCustomEvent(n,a)}}}))},function(e,t,a){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.console="console",e.custom="customEvent",e.none="none"}(n=t.MapResponseTypes||(t.MapResponseTypes={}));var o=function(){function e(t,a){void 0===t&&(t=n.console),void 0===a&&(a=e.defaultCustomEvent),this.type=n.console,this.customEvent=null,this.type=t,this.customEvent=a}return e.defaultCustomEvent="DE_ANALYTICS_DATA_RECEIVED",e}();t.MapResponse=o},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),i=a(4),s=function(e){function t(t){var a=e.call(this)||this;return a.configurator=t,a.addItem("version.mappingFramework",i.DefaultConfiguration.version),a}return o(t,e),t.prototype.addLegacyItems=function(e){for(var t in e)this.addItem(t,e[t])},t}(r.Container);t.DataSet=s},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(22),o=function(){function e(){}return e.create=function(e){return new n.DataSet(e)},e}();t.DataSetFactory=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(44),o=function(){function e(){}return e.create=function(e){return new n.EdmData(e)},e}();t.EdmDataFactory=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.events=0]="events"}(t.PrefixTypes||(t.PrefixTypes={}))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(11),o=a(16),r=a(1),i=a(3),s=a(21),l=a(37),c=a(0),p=a(23),d=a(4),u=a(9),g=a(18),f=a(2),v=a(20),m=function(){function e(){this.autopageload=!0,this.extend=function(){try{for(var e=[],t=1;t<arguments.length;t++)for(var a in arguments[t])arguments[t].hasOwnProperty(a)&&(e=arguments[0][a],arguments[0][a]=void 0!==e?arguments[t][a].concat(e):arguments[t][a])}catch(e){window.DataMappingInterface.showOnConsole("error",e)}return arguments[0]},this.debugger=n.AnalyticsDebuggerFactory.create()}return e.getLogLevel=function(t){return e.logconversions.filter((function(e){return e.level===t}))[0].class},e.prototype.init=function(e){if(void 0===this.transport&&(this.transport=o.load(document.getElementsByTagName("body")[0])),void 0===this.framework&&(this.framework=l.AnalyticsMappingFactory.create(this.transport)),!1===this.autopageload&&this.framework.disableAutoPageLoad(!0),!1===window.DataMappingInterface.infoenabled?r.Logger.infoenabled&&this.switchLogging(!0):!1===r.Logger.infoenabled&&(r.Logger.infoenabled=!1),e.eventAction===f.EventActions.impression)e.scope&&delete e.scope,e.additionaldata?g.AppClientManager.bundleImpression(e):e.dataset&&(e.additionaldata=e.dataset,delete e.dataset,g.AppClientManager.bundleImpression(e));else{if(e.additionaldata)(t=v.AutoSetParams.checkAutoSet(e.eventAction,e.additionaldata))&&(e.additionaldata=Object.assign(e.additionaldata,t));else if(e.dataset){var t;(t=v.AutoSetParams.checkAutoSet(e.eventAction,e.dataset))&&(e.dataset=Object.assign(e.dataset,t))}this.digestParameterData(e);var a="",n=(w=window.DataMappingInterface.datasettype,y=i.MapConfigTypes.edd,"D"===w?(y=i.MapConfigTypes.edd,a=window.DataMappingInterface.eddmap):"A"===w?(y=i.MapConfigTypes.event,a=window.DataMappingInterface.eventmapurl):"C"===w&&(y=i.MapConfigTypes.clf,a=window.DataMappingInterface.clfconfigurl),y),d=this.framework.createMapConfigurator(n,a),u=this.framework.createMapData(d);if(this.configureFromLegacy(d),e.dataset&&Object.getOwnPropertyNames(e.dataset).length>0){var m=p.DataSetFactory.create(d);m.addLegacyItems(e.dataset),!1===d.get(c.MapConfigElements.datatransform)?d.set(c.MapConfigElements.dataset,m):u.getEdmData().legacyAddItems(e.dataset)}else void 0!==e.additionaldata&&u.getEdmData().legacyAddItems(e.additionaldata);var h=u.addDesiredResponse(s.MapResponseTypes.console,void 0);this.framework.push(u,h,1,!0)}var w,y},e.prototype.directiveInvocation=function(e,t){try{window.DataMappingInterface.showOnConsole("info","directiveInvocation():: - attribute are ....",e);var a={},n={},o=e.split(";");a.eventAction=o[0],a.eventCode=o[1],a.scope=t,void 0!==o[2]&&(0===o[2].indexOf("{")&&(void 0!==(n=JSON.parse(o[2])).eddsupported&&(a.eddsupported=n.eddsupported,delete n.eddsupported),void 0!==n.mappingurl&&(a.mappingurl=n.mappingurl,delete n.mappingurl),void 0!==n.dataset&&(a.dataset=n.dataset,delete n.dataset),void 0!==n.persistenceLog&&(a.persistenceLog=n.persistenceLog,delete n.persistenceLog),void 0!==n.logLevel&&(a.logLevel=n.logLevel,delete n.logLevel),a.additionaldata=n),void 0!==o[3]&&(a.datatransform="false"!==o[3])),this.init(a)}catch(e){window.DataMappingInterface.showOnConsole("error",e)}},e.prototype.customEventNotification=function(e,t){if(t){window.DataMappingInterface.showOnConsole("info","customEventNotification(): attribute are ...."+JSON.stringify(e));var a={};if(null===e.eventType||"generatePassThrough"!==e.eventType){for(var n in e)"eventAction"!==n&&"eventCode"!==n&&"prioritypush"!==n&&"datatransform"!==n&&"persistenceLog"!==n&&"logLevel"!==n&&("additionaldata"!==n?a[n]=e[n]:window.DataMappingInterface.extend(a,e[n]));e.eventAction!==window.DataMappingInterface.clfevent?this.init({eventAction:e.eventAction,eventCode:"pageLoad"===e.eventAction?"Page_Load":e.eventCode,scope:t,prioritypush:void 0!==e.prioritypush&&e.prioritypush,additionaldata:a,datatransform:void 0===e.datatransform||e.datatransform,persistenceLog:void 0!==e.persistenceLog&&e.persistenceLog}):this.init({eventAction:e.eventAction,eventCode:"pageLoad"===e.eventAction?"Page_Load":e.eventCode,scope:t,prioritypush:void 0!==e.prioritypush&&e.prioritypush,additionaldata:a,logLevel:void 0!==e.logLevel?e.logLevel:"INFO"})}}else g.AppClientManager.universalClientReceiver(e)},e.prototype.switchLogging=function(e){window.DataMappingInterface.infoenabled!==e&&(window.DataMappingInterface.infoenabled=e),r.Logger.switchInfoEnabled(window.DataMappingInterface.infoenabled);var t=r.Logger.infoenabled?"color:red":"color:blue";return console.info("%cData Mapping Framework:: acive logging status - %c"+r.Logger.infoenabled,"color:black;font-weight:bold",t),e},e.prototype.showOnConsole=function(t,a){r.Logger.log(a,e.getLogLevel(t),"Legacy DMF")},e.prototype.addDataLayerItem=function(e,t){},e.prototype.getDataLayerItem=function(e,t){},e.prototype.clearDataLayerItems=function(e){},e.prototype.setValue=function(e,t){},e.prototype.disableAutoPageLoad=function(){this.autopageload=!1,window.DataMappingInterface.showOnConsole("info","transport auto pageload reporting is disabled by DMF!!!")},e.prototype.configureFromLegacy=function(e){e.set(c.MapConfigElements.eventaction,window.DataMappingInterface.eventaction),e.set(c.MapConfigElements.eventcode,window.DataMappingInterface.eventcode),e.set(c.MapConfigElements.prioritypush,window.DataMappingInterface.prioritypush),e.set(c.MapConfigElements.scope,window.DataMappingInterface.scope),e.set(c.MapConfigElements.eddsupported,window.DataMappingInterface.eddsupported),e.set(c.MapConfigElements.infoenabled,r.Logger.infoenabled),e.set(c.MapConfigElements.datatransform,window.DataMappingInterface.datatransform),e.set(c.MapConfigElements.newmodalreporting,window.DataMappingInterface.newmodalreporting),e.set(c.MapConfigElements.persistencelog,window.DataMappingInterface.persistencelog),e.set(c.MapConfigElements.clfabstract,window.DataMappingInterface.clfabstract)},e.prototype.digestParameterData=function(e){window.DataMappingInterface.showOnConsole("info","digestParameterData():: incoming data for event- "+e.eventAction);try{void 0!==e?(window.DataMappingInterface.eventaction=void 0!==e.eventAction?e.eventAction:null,window.DataMappingInterface.eventcode=void 0!==e.eventCode?e.eventCode:null,window.DataMappingInterface.eventaction!==window.DataMappingInterface.clfevent?(window.DataMappingInterface.prioritypush=void 0!==e.prioritypush&&e.prioritypush,window.DataMappingInterface.scope=e.scope||window.DataMappingInterface.scope||null,window.DataMappingInterface.showOnConsole("info","digestParameterData():: scope - "+window.DataMappingInterface.scope),window.DataMappingInterface.dataset=void 0!==e.dataset?e.dataset:null,window.DataMappingInterface.edmdata=void 0!==e.additionaldata?e.additionaldata:{},window.DataMappingInterface.datatransform=void 0===e.datatransform||e.datatransform,window.DataMappingInterface.persistenceLog=void 0!==e.persistenceLog&&e.persistenceLog,null!==window.DataMappingInterface.dataset?(window.DataMappingInterface.eddsupported=void 0===e.eddsupported||e.eddsupported,window.DataMappingInterface.eddurl=window.DataMappingInterface.eddurl||e.mappingurl||window.DataMappingInterface.edddefaulturl,window.DataMappingInterface.datasettype="D"):(window.DataMappingInterface.eventmapurl=window.DataMappingInterface.eventmapurl||e.mappingurl||window.DataMappingInterface.eventmapdefaulturl,window.DataMappingInterface.datasettype="A")):(window.DataMappingInterface.clfconfigurl=void 0!==e.clfconfigurl?e.clfconfigurl:window.DataMappingInterface.clfdefaultconfigurl,window.DataMappingInterface.clfcurrentloglevel=void 0!==e.logLevel?e.logLevel.toUpperCase():"ERROR",window.DataMappingInterface.clfabstract="RUN_TIME_LOG"!==window.DataMappingInterface.eventcode,window.DataMappingInterface.edmdata=void 0!==e.additionaldata?e.additionaldata:{},window.DataMappingInterface.backend=void 0!==e.backend?e.backend:window.DataMappingInterface.backend,window.DataMappingInterface.datasettype="C")):window.DataMappingInterface.showOnConsole("warn","init():: Parameter 'data' is required for data mapping framework. Please verify")}catch(e){window.DataMappingInterface.showOnConsole(e)}},e.logconversions=[{level:"info",class:r.LogLevels.info},{level:"warn",class:r.LogLevels.warn},{level:"error",class:r.LogLevels.error}],e}();(void 0===window.DataMappingInterface||window.DataMappingInterface.placeholder)&&(window.DataMappingInterface=new m,void 0===window.ddo&&o.load(document.getElementsByTagName("body")[0]),window.DataMappingInterface.eventaction=d.DefaultConfiguration.eventaction,window.DataMappingInterface.eventcode=d.DefaultConfiguration.eventcode,window.DataMappingInterface.prioritypush=d.DefaultConfiguration.prioritypush,window.DataMappingInterface.scope=void 0!==window.DataMappingInterface&&window.DataMappingInterface.placeholder&&window.DataMappingInterface.scope?window.DataMappingInterface.scope:d.DefaultConfiguration.scope,window.DataMappingInterface.eventmapurl=void 0!==window.DataMappingInterface&&window.DataMappingInterface.placeholder&&window.DataMappingInterface.eventmapurl?window.DataMappingInterface.eventmapurl:d.DefaultConfiguration.eventmapurl,window.DataMappingInterface.eddurl=void 0!==window.DataMappingInterface&&window.DataMappingInterface.placeholder&&window.DataMappingInterface.eddurl?window.DataMappingInterface.eddurl:d.DefaultConfiguration.eddurl,window.DataMappingInterface.eventmapdefaulturl=void 0!==window.DataMappingInterface&&window.DataMappingInterface.placeholder&&window.DataMappingInterface.eventmapdefaulturl?window.DataMappingInterface.eventmapdefaulturl:d.DefaultConfiguration.MapConfigUrl(i.MapConfigTypes.edd),window.DataMappingInterface.edddefaulturl=void 0!==window.DataMappingInterface&&window.DataMappingInterface.placeholder&&window.DataMappingInterface.edddefaulturl?window.DataMappingInterface.edddefaulturl:d.DefaultConfiguration.MapConfigUrl(i.MapConfigTypes.event),window.DataMappingInterface.eddsupported=d.DefaultConfiguration.eddsupported,window.DataMappingInterface.dataset={},window.DataMappingInterface.datasettype="A",window.DataMappingInterface.edmdata={},window.DataMappingInterface.infoenabled=r.Logger.infoenabled,window.DataMappingInterface.datatransform=d.DefaultConfiguration.datatransform,window.DataMappingInterface.currentpagenameproperty=d.DefaultConfiguration.currentpagenameproperty,window.DataMappingInterface.currentpagename=d.DefaultConfiguration.currentpagename,window.DataMappingInterface.newmodalreporting=d.DefaultConfiguration.newmodalreporting,window.DataMappingInterface.queuedeventids={},window.DataMappingInterface.persistenceLog=d.DefaultConfiguration.persistenceLog,window.DataMappingInterface.CLFEventdata={},window.DataMappingInterface.clfevent=d.DefaultConfiguration.EventActionTrigger(i.MapConfigTypes.clf),window.DataMappingInterface.clfdefaultconfigurl=d.DefaultConfiguration.MapConfigUrl(i.MapConfigTypes.clf),window.DataMappingInterface.clfconfigurl=d.DefaultConfiguration.clfconfigurl,window.DataMappingInterface.clfabstract=d.DefaultConfiguration.clfabstract,window.DataMappingInterface.clfloglevels=d.DefaultConfiguration.clfloglevels,window.DataMappingInterface.clfcurrentloglevel=d.DefaultConfiguration.clfcurrentloglevel,window.DataMappingInterface.clfglobal=d.DefaultConfiguration.clfglobal,window.DataMappingInterface.clfpageloaddataflush=d.DefaultConfiguration.clfpageloaddataflush),void 0!==document.addEventListener&&(document.addEventListener("detmScriptsReady",(function(){window.DataMappingInterface.showOnConsole("info","listener for detmScriptsReady called...");try{"undefined"!==localStorage.getItem("_ipld")&&null!==localStorage.getItem("_ipld")&&localStorage.getItem("_ipld")&&(console.log("DUALPAGELOADISSUE: legacy.js >>disableAutoPageLoad called by detmscriptready listner..."),window.DataMappingInterface.disableAutoPageLoad(),localStorage.removeItem("_ipld")),this._cachedevents="undefined"!==localStorage.getItem("_dmnahold")&&null!==localStorage.getItem("_dmnahold")?JSON.parse(localStorage.getItem("_dmnahold")).data:[];for(var e=window.DataMappingInterface.eventmapurl,t=window.DataMappingInterface.eddurl,a=0;a<this._cachedevents.length;a++){var n=this._cachedevents[a],o=void 0!==n.method?n.method:"";""!==o&&delete n.method;var r=window.DataMappingInterface.scope,i=void 0!==n.scopeid?n.scopeid:null;if(null!=i){var s=document.getElementsByClassName("ng-scope");if(null!=s&&s.length>0){var l=angular.element(s[0]).scope();r=u.MapData.getChildScope(l.$root,i)}delete n.scopeid}switch(o){case"a":window.DataMappingInterface.addItem(n.attr,n.value);break;case"i":case"":window.DataMappingInterface.init(n);break;case"d":window.DataMappingInterface.directiveInvocation(n,r);break;case"c":window.DataMappingInterface.customEventNotification(n,r)}void 0!==e&&null!=e&&(window.DataMappingInterface.eventmapurl=e),void 0!==t&&null!=t&&(window.DataMappingInterface.eddurl=t)}localStorage.removeItem("_dmnahold"),window.dispatchEvent(new CustomEvent("DETM_DMF_READY",{}))}catch(e){window.DataMappingInterface.showOnConsole("info","detmScriptsReady event was captured but no pre-initialized events handled.")}})),window.dispatchEvent(new CustomEvent("DETM_DMF_PARSED",{})))},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.add=function(t,a,n,r){if("string"==typeof a){var i=a;(a=[]).push(i)}if("string"==typeof n){var s=n;(n=[]).push(s)}if("string"==typeof r){var l=r;(r=[]).push(l)}var c=new o(t,a,n,r);return e.items.push(c),this},e.prototype.match=function(t,a){var n=e.items.filter((function(e){return e.actions.filter((function(e){return e===t}))[0]}));return n.length>0&&void 0!==a&&(n=n.filter((function(e){return 0===e.codes.length||e.codes.filter((function(e){return e===a}))[0]}))),n},e.items=new Array,e}(),o=function(e,t,a,n){this.message=e,this.actions=t||[],this.codes=a||[],this.attributes=n||[]},r=function(){function e(){}return e.create=function(){return new n},e}();t.NotificationCriteriaFactory=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.id="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),this.listening=!1,this.hasregistered=!1,e.anf=this,this.transport=e}return e.prototype.handleNotification=function(e,t){if(this.listening)for(var a=t.evtAction,n=t.evtCode,o=0,r=e.match(a,n);o<r.length;o++){for(var i=r[o],s={},l=0,c=i.attributes;l<c.length;l++){var p=c[l];void 0!==t[p]?s[p]=t[p]:void 0!==t.evtDetails&&void 0!==t.evtDetails[p]&&(s[p]=t.evtDetails[p])}s.evtAction=a,s.evtCode=n,s._evtAddressBarFullURL="";var d="number"==typeof Date.now()?Date.now():+new Date;s.timestamp=void 0!==t.time?t.time:{event:d};var u=new CustomEvent(i.message,{detail:{data:s},bubbles:!0,cancelable:!0});window.dispatchEvent(u)}},e.prototype.listen=function(e){return void 0===e&&(e=!0),this.listening=e,this.listening},e}(),o=function(){function e(){}return e.create=function(e){return new n(e)},e.getLandingPageData=function(){return window.sessionStorage.getItem("anf_landingPageLoad_Data")?JSON.parse(window.sessionStorage.getItem("anf_landingPageLoad_Data")):""},e}();t.AnalyticsNotificationFramework=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.getCookie=function(e){for(var t=e+"=",a=document.cookie.split(";"),n=0;n<a.length;n++){for(var o=a[n];" "===o.charAt(0);)o=o.substring(1);if(-1!==o.indexOf(t))return o.substring(t.length,o.length)}return""},e}(),o=function(){function e(){}return e.create=function(){return new n},e}();t.ExtensionsFactory=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(31),o=a(2),r=a(12),i=a(17),s=a(34),l=a(5),c=function(){function e(){}return e.create=function(e,t,a,o){void 0===o&&(o=null);var r=new p(e,t,a);if(null!==o){var i=n.TransactionFactory.copy(o);r.useTransaction(i)}return r},e}();t.PayloadFactory=c;var p=function(){function e(e,t,a){this.transaction=null,this.prevPageNameDataTTL=30,this.transport=e,this.action=t,this.code=a,this.mid="",this.details=i.AdditionalDataFactory.create()}return e.prototype.eventAction=function(){return this.action},e.prototype.eventCode=function(){return this.code},e.prototype.addTransaction=function(e,t){var a=n.TransactionFactory.create(e,t);return this.transaction=a,a},e.prototype.useTransaction=function(e){this.transaction=e},e.prototype.addAdditionalData=function(){return i.AdditionalDataFactory.create()},e.prototype.addAdditionalDataItem=function(e,t,a){void 0===a&&(a=r.ItemScope.event);var n=this.details.addItem(e,t);return!l.Utils.isDual()&&this.action&&(this.action===o.EventActions.pageLoad||this.action===o.EventActions.virtualPageLoad?this.transport.cachePageLevelItem(n):n&&n.key&&void 0!==n.value&&null!==n.value&&this.transport.setVar(n.key,n.value)),n},e.prototype.addAdditionalDataItems=function(e){if(e&&e.items)for(var t=0,a=e.items;t<a.length;t++){var n=a[t];this.addAdditionalDataItem(n.key,n.value)}else for(var o=0,r=e;o<r.length;o++){n=r[o];this.addAdditionalDataItem(n.key,n.value)}},e.prototype.toJSON=function(){var e={};e.evtAction=this.action,e.evtCode=this.code,e.ssafcDebugFlag=this.getControllerDebugFlag();var t={browserHeight:window&&window.innerHeight?window.innerHeight:"",browserWidth:window&&window.innerWidth?window.innerWidth:"",screenWidth:window&&window.screen&&window.screen.width?window.screen.width:"",screenHeight:window&&window.screen&&window.screen.height?window.screen.height:""};e.akamaiData=t;var a={adobeMCMID:this.getMarkingCloudId(),sdid:this.getSDID(),uuid:this.getDynamicCookie("UUID"),attauid:this.getDynamicCookie("ATTAUID"),sid:this.getDynamicCookie("TLTSID"),idse_stack:this.getDynamicCookie("idse_stack"),idse_ssaf_stack:this.getDynamicCookie("idse_ssaf_stack"),azure_ssaf_stack:this.getDynamicCookie("azure_ssaf_stack"),appFullUrl:this.getUrlPathFull(),domain:this.getUrPathDomain(),VISITOR_STATE:window.VISITOR_STATE?window.VISITOR_STATE:"",page_performance_id:this.getAnalyticsPUIDCookie(e.evtCode),analyticsDataId:this.getAnalyticsDataId(),sourceSystem:"SSAF",containerVersion:"undefined"!=typeof detmScriptLoaderConfig&&void 0!==detmScriptLoaderConfig.version?detmScriptLoaderConfig.version:"",ucVersion:this.transport.version(),userAgent:"undefined"!=typeof navigator&&void 0!==typeof navigator.userAgent?navigator.userAgent:"",neustarFabrickId:this.getFabrickId("fabrickId")};this.action===o.EventActions.pageLoad&&"undefined"!=typeof visitor&&visitor.resetState();var n=!1;if(this.action===o.EventActions.pageLoad||this.action===o.EventActions.virtualPageLoad){var r=this.details.toJSON(n);e.evtDetails=r.eventAttr?r.eventAttr:{}}else{n=!0;r=this.details.toJSON(n);e.evtDetails=r.eventAttr?r.eventAttr:{},e.appGlobalData=r.globalAttr?r.globalAttr:{}}if(e.evtDetails){if(void 0===e.evtDetails.eventCode&&void 0===e.evtDetails.eventAction&&(e.evtDetails.eventAction=this.action,e.evtDetails.eventCode=this.code),this.action===o.EventActions.pageLoad||this.action===o.EventActions.virtualPageLoad){var i=this.getPrevPageAttributes();i&&(e.prevPageNameData=JSON.parse(i));var s=e.evtDetails["page.pageInfo.friendlyPageName"]?e.evtDetails["page.pageInfo.friendlyPageName"]:"",l=e.evtDetails["page.pageInfo.appCode"]?e.evtDetails["page.pageInfo.appCode"]:"",c=e.evtDetails["page.location.url"]?e.evtDetails["page.location.url"]:"",p=e.evtDetails["page.location.domain"]?e.evtDetails["page.location.domain"]:"";this.setPrevPageAttributes(s,l,c,p),e.evtDetails["page.pageInfo.flowCode"]&&window.sessionStorage.setItem("ssaf-uc-flowCode",e.evtDetails["page.pageInfo.flowCode"]),e.evtDetails["page.location.url"]&&(e.evtDetails["page.location.url"]=e.evtDetails["page.location.url"].toLowerCase())}if(e.appGlobalData&&e.appGlobalData["page.location.url"]&&(e.appGlobalData["page.location.url"]=e.appGlobalData["page.location.url"].toLowerCase()),e.evtDetails.orderId&&window.sessionStorage.getItem("appShell:cartResponse")){var d=JSON.parse(window.sessionStorage.getItem("appShell:cartResponse"));a.idpOrderSessionId=d&&d.content&&d.content.payload&&d.content.payload.metadata&&d.content.payload.metadata.metadata&&d.content.payload.metadata.metadata.idpSessionId?d.content.payload.metadata.metadata.idpSessionId:""}document&&document.referrer&&(a.referrer=document.referrer),"undefined"!=typeof uc_dfa_val&&(a.DFA_Data=uc_dfa_val,uc_dfa_val=void 0),"undefined"!=typeof dfaSuccess&&(a.dfaSuccess=dfaSuccess,dfaSuccess=void 0),"undefined"!=typeof dfaFailed&&(a.dfaFailed=dfaFailed,dfaFailed=void 0),e.evtDetails.Impressions&&(e.Impressions=e.evtDetails.Impressions,delete e.evtDetails.Impressions),e.evtDetails.ABTests&&(e.ABTests=e.evtDetails.ABTests,delete e.evtDetails.ABTests);var u=this.getDnbDataPV();u&&(e.evtDetails.tempDnbData=u)}e.allids=a;var g="number"==typeof Date.now()?Date.now():+new Date;return e.time={event:g},e},e.prototype.getControllerDebugFlag=function(){return!!(window&&window.sessionStorage&&window.sessionStorage.getItem("ssafcDebugFlag"))&&window.sessionStorage.getItem("ssafcDebugFlag")},e.prototype.getUrPathDomain=function(){return window&&window.location&&window.location.origin?window.location.origin:"https:///www.att.com"},e.prototype.getUrlPathFull=function(){return window&&window.location&&window.location.href?window.location.href:void 0},e.prototype.getDynamicCookie=function(e){var t=this.readCookie(e);return void 0!==t?t.substring(e.length+1):""},e.prototype.getFabrickId=function(e){var t=this.readCookie(e);return void 0!==t?t.substring(e.length+1):""},e.prototype.readCookie=function(e){e+="=";for(var t=0,a=document.cookie.split(";");t<a.length;t++){var n=a[t];if(-1!==(n=n.trim()).indexOf(e))return n}},e.prototype.getMarkingCloudId=function(){var e=unescape(document.cookie);if(e.indexOf("AMCV_55633")>-1)for(var t=0,a=e.split(";");t<a.length;t++){var n=a[t].split("=");if(0===n[0].trim().indexOf("AMCV_55633"))for(var o=n[1].split("|"),r=0;r<o.length;r++){if("MCMID"===o[r].trim())return o[r+1].trim()}}return""},e.prototype.getSDID=function(){var e="";return"undefined"!=typeof visitor&&"undefined"!=typeof visitor&&(e=visitor&&visitor._supplementalDataIDCurrent?visitor._supplementalDataIDCurrent:visitor.getSupplementalDataID(visitor.marketingCloudOrgID)),e},e.prototype.getAnalyticsDataId=function(){return s.Guid.raw()},e.prototype.getAnalyticsPUIDCookie=function(e){var t;if("Page_Load"===e){var a={page_performance_id:t=s.Guid.raw()};document.cookie="AnalyticsPUID="+JSON.stringify(a)}else{var n=this.getDynamicCookie("AnalyticsPUID");if(n)t=JSON.parse(n).page_performance_id;else t=s.Guid.raw()}return t},e.prototype.getDnbDataPV=function(){return window&&window.sessionStorage&&window.sessionStorage.getItem("tempDnbData")?window.sessionStorage.getItem("tempDnbData"):""},e.prototype.getPrevPageAttributes=function(){var e=sessionStorage.getItem("TTLForPrevPageNameData")?Number(sessionStorage.getItem("TTLForPrevPageNameData")):0;e?e<(new Date).getTime()&&(window.sessionStorage.removeItem("TTLForPrevPageNameData"),window.sessionStorage.removeItem("prevPageNameData")):(window.sessionStorage.removeItem("TTLForPrevPageNameData"),window.sessionStorage.removeItem("prevPageNameData"));return window&&window.sessionStorage&&window.sessionStorage.getItem("prevPageNameData")?window.sessionStorage.getItem("prevPageNameData"):""},e.prototype.setPrevPageAttributes=function(e,t,a,n){var o={};o.prevPageFullUrl=this.getUrlPathFull(),e&&(o.prevFriendlyPageName=e),t&&(o["page.pageInfo.appCode"]=t),a&&(o.prevPageurl=a),n&&(o.prevPageDomain=n),window&&window.sessionStorage&&o&&window.sessionStorage.setItem("prevPageNameData",JSON.stringify(o)),this.setTTLForPrevPageNameData(this.prevPageNameDataTTL)},e.prototype.setTTLForPrevPageNameData=function(e){var t=new Date((new Date).getTime()+6e4*e).getTime();window.sessionStorage.setItem("TTLForPrevPageNameData",JSON.stringify(t))},e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(32),o=function(e,t,a){void 0===a&&(a=!1),this.master=e,this.segments=t,this.copy=a},r=function(){function e(){}return e.create=function(e,t){var a=new o(e,t);return new i(a)},e.copy=function(e){var t=new o(!1,e.segments,!0);return t.id=e.Id(),new i(t)},e}();t.TransactionFactory=r;var i=function(){function e(e){this.id=e.copy?e.id:n.Guid.newGuid(),this.master=!e.copy&&e.master,this.segments=e.segments}return e.prototype.Id=function(){return this.id},e.prototype.isMaster=function(){return this.master},e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.newGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},e}();t.Guid=n},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a(8).Container);t.AdditionalData=r},function(e,t,a){"use strict";t.__esModule=!0;var n=function(){function e(t){if(!t)throw new TypeError("Invalid argument; `value` has no value.");this.value=e.EMPTY,t&&e.isGuid(t)&&(this.value=t)}return e.isGuid=function(t){var a=t.toString();return t&&(t instanceof e||e.validator.test(a))},e.create=function(){return new e([e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-"))},e.createEmpty=function(){return new e("emptyguid")},e.parse=function(t){return new e(t)},e.raw=function(){return[e.gen(2),e.gen(1),e.gen(1),e.gen(1),e.gen(3)].join("-")},e.gen=function(e){for(var t="",a=0;a<e;a++)t+=(65536*(1+Math.random())|0).toString(16).substring(1);return t},e.prototype.equals=function(t){return e.isGuid(t)&&this.value===t.toString()},e.prototype.isEmpty=function(){return this.value===e.EMPTY},e.prototype.toString=function(){return this.value},e.prototype.toJSON=function(){return{value:this.value}},e.validator=new RegExp("^[a-z0-9]{8}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{4}-[a-z0-9]{12}$","i"),e.EMPTY="00000000-0000-0000-0000-000000000000",e}();t.Guid=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(5),o=function(e,t){this.name=e,this.value=t},r=function(e,t){this.name=e,this.value=t},i=function(){function e(){this._properties=new Array,this._internalCache=new Array}return e.prototype.getCompleteCache=function(){var e={};if(n.Utils.isCSR()){for(var t=0,a=this._internalCache;t<a.length;t++){e[(i=a[t]).name]=i.value}return e}for(var o=0,r=this._properties;o<r.length;o++){var i;e[(i=r[o]).name]=i.value}return e},e.prototype.get=function(e){var t=this._properties.filter((function(t){return t.name===e}));return t.length>0?t[0]:null},e.prototype.add=function(e,t){if(e&&(e.indexOf("page.")>-1||e.indexOf("user.")>-1||e.indexOf("chat.")>-1||e.indexOf("edm.")>-1||e.indexOf(".attributes.")>-1)){var a=this.get(e);null==a?(a=new o(e,t),this._properties.push(a)):a.value=t,this.addToInternal(e,t)}},e.prototype.update=function(e){var t=this.get(e.name);null!=t&&(t.value=e.value)},e.prototype.coalesce=function(e){for(var t=0,a=this._properties;t<a.length;t++){var n=a[t];void 0===e[n.name]&&(e[n.name]=n.value)}},e.prototype.clear=function(){this._properties.length=0,this._internalCache.length=0},e.prototype.remove=function(e){var t=this.get(e);t&&(-1!==(a=this._properties.indexOf(t))&&this._properties.splice(a,1));var a,n=this.getInternal(e);n&&(-1!==(a=this._internalCache.indexOf(n))&&this._internalCache.splice(a,1))},e.prototype.addToInternal=function(e,t){if(e&&(e.indexOf("page.")>-1||e.indexOf("user.")>-1||e.indexOf("chat.")>-1||e.indexOf("edm.")>-1||e.indexOf(".attributes.")>-1)){var a=this.getInternal(e);null==a?(a=new r(e,t),this._internalCache.push(a)):a.value=t}},e.prototype.getInternal=function(e){var t=this._internalCache.filter((function(t){return t.name===e}));return t.length>0?t[0]:null},e}();t.PropertyCache=i},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.timeStampMS=function(){var t=new Date;return[e.addZero(t.getHours()),e.addZero(t.getMinutes()),e.addZero(t.getSeconds())].join(":")+"."+e.addZero100(t.getMilliseconds())},e.addZero=function(e){return e<10?"0"+e.toString():e.toString()},e.addZero100=function(e){return e<10?"00"+e.toString():e<100?"0"+e.toString():e.toString()},e}();t.TimeStamp=n},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(4),o=a(1),r=a(38),i=a(42),s=a(6),l=a(0),c=a(10),p=function(){function e(){}return e.create=function(e,t){return void 0===t&&(t=!1),d.initialize(e,t)},e}();t.AnalyticsMappingFactory=p;var d=function(){function e(e,t){void 0===t&&(t=!0),this.CSC="MappingFramework",this.transport=null,this.autopageload=!0,this.currentclfloglevel=n.clfloglevels.ERROR,this.transport=e,this.autopageload=t}return e.initialize=function(t,a){var n=e._instance;return void 0===n&&(n=new e(t,a)),n},e.prototype.enableLogInfo=function(e){void 0===e&&(e=!0),o.Logger.infoenabled=e},e.prototype.getLastLogEntry=function(){return o.Logger.getLastLogItem()},e.prototype.createMapConfigurator=function(e,t){return r.ConfigurationFactory.create(this.transport,e,t)},e.prototype.createMapData=function(e){return i.AnalyticsMapDataFactory.create(e)},e.prototype.push=function(e,t,a,o){s.MapOperations.unknown;var r=e.getMapConfig(),i=r.get(l.MapConfigElements.eventaction),p=r.get(l.MapConfigElements.eventcode);n.DefaultConfiguration.clfevent!==i?!0===r.get(l.MapConfigElements.datatransform)?c.AnalyticsMapExecutor.execute(s.MapOperations.map,this,e,a,o):c.AnalyticsMapExecutor.execute(s.MapOperations.track,this,e,a,o):"FLUSH_DATA"===p?c.AnalyticsMapExecutor.execute(s.MapOperations.logdata,this,e,a,o):(r.set(l.MapConfigElements.clfabstract,"RUN_TIME_LOG"!==p),e.getEdmData().addItems(e.getAdditionalData()),c.AnalyticsMapExecutor.execute(s.MapOperations.map,this,e,a,o))},e.prototype.isAutoPageLoadDisabled=function(){return this.autopageload},e.prototype.disableAutoPageLoad=function(){console.log("DUALPAGELOADISSUE: AMF.js >>disableAutoPageLoad called to set auto page load as false"),this.autopageload=!1},e.prototype.getTransport=function(){return this.transport},e}()},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(3),o=a(39),r=a(40),i=a(41),s=function(){function e(){}return e.create=function(e,t,a){var s=null,l=a;switch(t){case n.MapConfigTypes.edd:s=new o.EddConfig(e,t,l);break;case n.MapConfigTypes.event:s=new r.EventConfig(e,t,l);break;case n.MapConfigTypes.clf:s=new i.ClfConfig(e,t,l)}return s},e}();t.ConfigurationFactory=s},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=a(15),i=a(22),s=a(4),l=a(0),c=function(e){function t(t,a,n){var o=e.call(this,t,a,n)||this;return o.dataset=new i.DataSet(o),o.mapurl=null!=s.DefaultConfiguration.eddurl?s.DefaultConfiguration.eddurl:s.DefaultConfiguration.edddefaulturl,o}return o(t,e),t.prototype.get=function(t){var a=null;switch(t){case l.MapConfigElements.dataset:a=this.dataset;break;default:a=e.prototype.get.call(this,t)}return a},t.prototype.set=function(t,a){switch(t){case l.MapConfigElements.dataset:this.dataset=a;break;default:e.prototype.set.call(this,t,a)}},t}(r.BaseConfiguration);t.EddConfig=c},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=a(15),i=a(4),s=function(e){function t(t,a,n){var o=e.call(this,t,a,n)||this;return o.mapurl=null!=i.DefaultConfiguration.eventmapurl?i.DefaultConfiguration.eventmapurl:i.DefaultConfiguration.eventmapdefaulturl,o}return o(t,e),t}(r.BaseConfiguration);t.EventConfig=s},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=a(15),i=a(4),s=a(0),l=function(e){function t(t,a,n){var o=e.call(this,t,a,n)||this;return o.clfabstract=i.DefaultConfiguration.clfabstract,o.clfglobal=i.DefaultConfiguration.clfglobal,o.mapurl=null!=i.DefaultConfiguration.clfconfigurl?i.DefaultConfiguration.clfconfigurl:i.DefaultConfiguration.clfdefaultconfigurl,o}return o(t,e),t.prototype.get=function(t){var a=null;switch(t){case s.MapConfigElements.clfabstract:a=this.clfabstract;break;case s.MapConfigElements.clfglobal:a=this.clfglobal;break;default:a=e.prototype.get.call(this,t)}return a},t.prototype.set=function(t,a){switch(t){case s.MapConfigElements.clfabstract:this.clfabstract=a;break;case s.MapConfigElements.clfglobal:throw new Error("clfglobal is an internal property used by the Mapping Framework and cannot be set by the application");default:e.prototype.set.call(this,t,a)}},t}(r.BaseConfiguration);t.ClfConfig=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(0),o=a(3),r=a(43),i=a(49),s=a(50),l=function(){function e(){}return e.create=function(e){var t=null;switch(e.get(n.MapConfigElements.mapconfigtype)){case o.MapConfigTypes.edd:t=new r.EddMapData(e);break;case o.MapConfigTypes.event:t=new i.EventMapData(e);break;case o.MapConfigTypes.clf:t=new s.ClfMapData(e)}return t},e}();t.AnalyticsMapDataFactory=l},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=a(9),i=a(1),s=a(0),l=a(6),c=a(7),p=function(e){function t(t){var a=e.call(this,t)||this;return a.CSC="EddMapData",a}return o(t,e),t.prototype.transform=function(){var e=l.MapOperations.unknown;try{i.Logger.log("transform(): edd based mapping in progress.",i.LogLevels.info,this.CSC);var t=this.configurator.get(s.MapConfigElements.dataset);if(this.configurator.get(s.MapConfigElements.eddsupported))for(var a=c.AppDataStore.getItem(this.configurator.get(s.MapConfigElements.mapconfigtype),this.configurator),n=0,o=t;n<o.length;n++){void 0!==(d=o[n]).value&&null!=d.value?void 0!==a[d.key]?this.setValue(a[d.key],d.value):this.edmdata.addItem(a[d.key],d.value):i.Logger.log("transform(): edd based mapping - value is undefined or null for "+d.key,i.LogLevels.info,this.CSC)}else for(var r=0,p=t;r<p.length;r++){var d;void 0!==(d=p[r]).value&&null!=d.value?this.setValue(d.key,d.value):i.Logger.log("transform(): edd based mapping - value is null for "+d.key,i.LogLevels.info,this.CSC)}e=l.MapOperations.track}catch(t){i.Logger.log(t,i.LogLevels.error,this.CSC),e=l.MapOperations.error}return e},t}(r.MapData);t.EddMapData=p},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=a(8),i=a(2),s=a(0),l=a(10),c=a(24),p=function(e){function t(t){var a=e.call(this)||this;return a.configurator=null,a.configurator=t,a}return o(t,e),t.prototype.parse=function(e,t,a){var n=a.getCanonicalData(),o=t.get(s.MapConfigElements.eventaction),r=c.EdmDataFactory.create(t);if(!1===this.isEmpty())for(var p=0,d=this.getItems();p<d.length;p++){var u=d[p];u.key.indexOf(".")>=0?u.key.indexOf("events.")<0?i.EventActions.modalLoad!==o&&i.EventActions.modalClose!==o||u.key!==l.AnalyticsMapExecutor.currentpagename?n.addItem(u.key,u.value):l.AnalyticsMapExecutor.currentpagename=u.value:r.addItem(u.key.substring(7),u.value):r.addItem(u.key,u.value)}return r},t}(r.Container);t.EdmData=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this.protocol=void 0!==e.protocol&&null!=e.protocol?e.protocol:"",this.server=void 0!==e.server&&null!=e.server?e.server:"",this.port=void 0!==e.port&&null!=e.port?e.port:"",this.resource=void 0!==e.resource&&null!=e.resource?e.resource:""}return e.prototype.toURL=function(){return this.protocol+"://"+this.server+":"+this.port+this.resource},e.prototype.toJSON=function(){var e={};return e.protocol=this.protocol,e.server=this.server,e.port=this.port,e.resource=this.resource,e},e}(),o=function(){function e(){}return e.serviceurl=function(e){var t=null;void 0!==e&&null!=e&&(void 0!==e.activeendpoint&&null!=e.activeendpoint&&(t=new n(e.activeendpoint).toURL()));return t},e.overridebatchprocess=function(e){var t=!1;return void 0!==e&&null!=e&&void 0!==e.overridebatchprocess&&null!=e.overridebatchprocess&&(t=e.overridebatchprocess),t},e.batchsize=function(e){var t=0;return void 0!==e&&null!=e&&void 0!==e.batchsize&&null!=e.batchsize&&(t=e.batchsize),t},e}();t.ClfGlobalConfig=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(6),o=a(0),r=a(3),i=a(7),s=a(1),l=a(10),c=a(13),p=function(){function e(){}return e.map=function(t,a,p,d){var u=n.MapOperations.done;try{var g=a.getMapConfig();switch(g.get(o.MapConfigElements.mapconfigtype)){case r.MapConfigTypes.edd:g.get(o.MapConfigElements.eddsupported)&&!i.AppDataStore.mappingExists(r.MapConfigTypes.edd,g.get(o.MapConfigElements.mapurl))?c.Httpclient.get(g.get(o.MapConfigElements.mapurl)).then((function(r){var c=r.eddmapping;return s.Logger.log("map(): setting data for edd mapping -"+c,s.LogLevels.info,e.CSC),i.AppDataStore.setItem("eddmapping",c),i.AppDataStore.getStorageImpl("session").setItem("edd_ldph",g.get(o.MapConfigElements.mapurl)),l.AnalyticsMapExecutor.execute(n.MapOperations.transform,t,a,p,d)})).catch((function(o){return s.Logger.log(o,s.LogLevels.warn,e.CSC),l.AnalyticsMapExecutor.execute(n.MapOperations.error,t,a,p,d)})):u=n.MapOperations.transform;break;case r.MapConfigTypes.event:i.AppDataStore.mappingExists(r.MapConfigTypes.event,g.get(o.MapConfigElements.mapurl))?u=n.MapOperations.transform:c.Httpclient.get(g.get(o.MapConfigElements.mapurl)).then((function(r){var c={},u=r.eventmapping;s.Logger.log("map(): setting data for event mapping - ",s.LogLevels.info,e.CSC);for(var f=0;f<u.length;f++){var v=u[f].name;s.Logger.log("map(): mapping started for - "+v,s.LogLevels.info,e.CSC),c[v]=i.AppDataStore.arrayToObject(u[f].params)}return i.AppDataStore.setItem("eventmapping",c),i.AppDataStore.getStorageImpl("session").setItem("event_ldph",g.get(o.MapConfigElements.mapurl)),l.AnalyticsMapExecutor.execute(n.MapOperations.transform,t,a,p,d)})).catch((function(o){return s.Logger.log(o,s.LogLevels.warn,e.CSC),l.AnalyticsMapExecutor.execute(n.MapOperations.error,t,a,p,d)}));break;case r.MapConfigTypes.clf:i.AppDataStore.mappingExists(r.MapConfigTypes.clf,g.get(o.MapConfigElements.mapurl))?u=n.MapOperations.transform:c.Httpclient.get(g.get(o.MapConfigElements.mapurl)).then((function(r){var c={},u=r.clfmapping;s.Logger.log("map(): setting data for clf mapping - ",s.LogLevels.info,e.CSC);for(var f=0;f<u.length;f++){var v=u[f].name;s.Logger.log("map(): mapping started for - "+v,s.LogLevels.info,e.CSC),c[v]=i.AppDataStore.arrayToObject(u[f].params)}return i.AppDataStore.setItem("clfmapping",c),i.AppDataStore.getStorageImpl("session").setItem("clf_ldph",g.get(o.MapConfigElements.mapurl)),l.AnalyticsMapExecutor.execute(n.MapOperations.checkloglevelandact,t,a,p,d)})).catch((function(o){return s.Logger.log(o,s.LogLevels.warn,e.CSC),l.AnalyticsMapExecutor.execute(n.MapOperations.error,t,a,p,d)}))}}catch(t){s.Logger.log(t,s.LogLevels.error,e.CSC),u=n.MapOperations.error}return u},e.CSC="AnalyticsMapper",e}();t.AnalyticsMapper=p},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(25),o=function(e,t){this.prefix=t,this.key=e,this.length=t.length},r=function(){function e(){}return e.contains=function(t,a){var n=e.get(a);return 0===t.indexOf(n.prefix)},e.strip=function(t,a){var n=a,o=e.get(t);return a.indexOf(o.prefix)>-1&&(n=a.substr(o.length)),n},e.get=function(t){return e.prefixes.filter((function(e){return e.key===t}))[0]},e.prefixes=[new o(n.PrefixTypes.events,"events.")],e}();t.PrefixStripper=r},function(e,t,a){"use strict";var n,o=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)});Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(a(8).Container);t.CanonicalData=r},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||(extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),extendStatics;Object.defineProperty(exports,"__esModule",{value:!0});var base_1=__webpack_require__(9),mapoperations_1=__webpack_require__(6),mapconfigtypes_1=__webpack_require__(3),mapconfigelements_1=__webpack_require__(0),appdatastore_1=__webpack_require__(7),logger_1=__webpack_require__(1),EventMapData=function(_super){function EventMapData(e){var t=_super.call(this,e)||this;return t.CSC="EventMapData",t}return __extends(EventMapData,_super),EventMapData.prototype.transform=function(){var next=mapoperations_1.MapOperations.unknown;try{var mapConfigType=this.configurator.get(mapconfigelements_1.MapConfigElements.mapconfigtype),eventCode=this.configurator.get(mapconfigelements_1.MapConfigElements.eventcode),scope=this.configurator.get(mapconfigelements_1.MapConfigElements.scope),_emfromstorage="Page_Load"===eventCode||"Virtual_Page_Load"===eventCode?appdatastore_1.AppDataStore.getItem("pageload",this.configurator):appdatastore_1.AppDataStore.getItem(mapconfigtypes_1.MapConfigTypes[mapConfigType],this.configurator);for(var key in logger_1.Logger.log("transform(): full mapping - "+JSON.stringify(_emfromstorage),logger_1.LogLevels.info,this.CSC),_emfromstorage)if("session"===key)for(var sessionparams=_emfromstorage[key],j=0;j<sessionparams.length;j++)if(void 0!==sessionparams[j].key){for(var patharray=sessionparams[j].path.split("."),currentvalue=JSON.parse(appdatastore_1.AppDataStore.getStorageImpl("session").getItem(sessionparams[j].key)),i=0;i<patharray.length;i++)currentvalue=appdatastore_1.AppDataStore.iterateToGetValue(currentvalue,patharray[i]);this.setValue(sessionparams[j].dlname,currentvalue)}else this.setValue(sessionparams[j].dlname,appdatastore_1.AppDataStore.getStorageImpl("session").getItem(sessionparams[j].appname));else if("page"===key)for(var pageparams=_emfromstorage[key],j=0;j<pageparams.length;j++)this.setValue(pageparams[j].dlname,eval(pageparams[j].appname));else if("property"===key)for(var propertyparams=_emfromstorage[key],j=0;j<propertyparams.length;j++)this.setValue(propertyparams[j].dlname,propertyparams[j].appname);else if("local"===key)for(var localparams=_emfromstorage[key],j=0;j<localparams.length;j++)this.setValue(localparams[j].dlname,appdatastore_1.AppDataStore.getStorageImpl("local").getItem(localparams[j].appname));else if("angular"===key)if(void 0!==window.angular){logger_1.Logger.log("transform(): Scope -"+scope,logger_1.LogLevels.info);for(var angularparams=_emfromstorage[key],j=0;j<angularparams.length;j++)if(angularparams[j].isfn){var servicename=scope[angularparams[j].servicename];if(void 0!==servicename){var functionname=servicename[angularparams[j].functionname],data=functionname.apply(functionname);for(key in data)void 0!==data[key]&&this.setValue(key,data[key])}else logger_1.Logger.log("transform(): service - ["+angularparams[j].servicename+"] is not defined in scope",logger_1.LogLevels.warn,this.CSC)}else{var dlname=angularparams[j].dlname,appname=angularparams[j].appname;this.setValue(dlname,scope[appname])}}else logger_1.Logger.log("transform() : Angular is missing. No values will be sent to data laye for this event from Angular configuration.",logger_1.LogLevels.warn,this.CSC);else if("multiscope"===key)if(void 0!==window.angular){logger_1.Logger.log("transform(): Scope - "+scope,logger_1.LogLevels.info);for(var multiscopeparams=_emfromstorage[key],j=0;j<multiscopeparams.length;j++){var dlname=multiscopeparams[j].dlname,appname=multiscopeparams[j].appname,tracker=multiscopeparams[j].tracker;if(multiscopeparams[j].isolatedscope){var currentscope=base_1.MapData.getChildScope(window.angular.element(document.querySelector("#"+tracker)).scope(),tracker);this.setValue(dlname,currentscope[appname])}else{var currentscope=window.angular.element(document.querySelector("."+tracker)).scope();this.setValue(dlname,currentscope[appname])}}}else logger_1.Logger.log("transform(): Angular is missing. No values will be sent to data layer for this event from Angular configuration.",logger_1.LogLevels.warn,this.CSC);next=mapoperations_1.MapOperations.track}catch(e){logger_1.Logger.log(e,logger_1.LogLevels.error,this.CSC),next=mapoperations_1.MapOperations.error}return next},EventMapData}(base_1.MapData);exports.EventMapData=EventMapData},function(module,exports,__webpack_require__){"use strict";var __extends=this&&this.__extends||(extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])})(e,t)},function(e,t){function a(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),extendStatics;Object.defineProperty(exports,"__esModule",{value:!0});var base_1=__webpack_require__(9),mapoperations_1=__webpack_require__(6),mapconfigelements_1=__webpack_require__(0),appdatastore_1=__webpack_require__(7),logger_1=__webpack_require__(1),ClfMapData=function(_super){function ClfMapData(e){var t=_super.call(this,e)||this;return t.CSC="ClfMapData",t}return __extends(ClfMapData,_super),ClfMapData.prototype.transform=function(){var next=mapoperations_1.MapOperations.unknown;try{var scope=this.configurator.get(mapconfigelements_1.MapConfigElements.scope);if(this.configurator.get(mapconfigelements_1.MapConfigElements.clfabstract)){var _emfromstorage=appdatastore_1.AppDataStore.getItem(this.configurator.get(mapconfigelements_1.MapConfigElements.mapconfigtype),this.configurator);for(var key in logger_1.Logger.log("transform(): full mapping for current CLF event - "+JSON.stringify(_emfromstorage),logger_1.LogLevels.info,this.CSC),_emfromstorage)if("session"===key)for(var sessionparams=_emfromstorage[key],j=0;j<sessionparams.length;j++)if(void 0!==sessionparams[j].key){for(var patharray=sessionparams[j].path.split("."),currentvalue=JSON.parse(appdatastore_1.AppDataStore.getStorageImpl("session").getItem(sessionparams[j].key)),i=0;i<patharray.length;i++)currentvalue=appdatastore_1.AppDataStore.iterateToGetValue(currentvalue,patharray[i]);""!==this.trim(currentvalue)&&this.clfeventdata.addItem(sessionparams[j].logname,currentvalue)}else{var tmpvalue=appdatastore_1.AppDataStore.getStorageImpl("session").getItem(sessionparams[j].appname);""!==this.trim(tmpvalue)&&this.clfeventdata.addItem(sessionparams[j].logname,tmpvalue)}else if("page"===key)for(var pageparams=_emfromstorage[key],j=0;j<pageparams.length;j++){var tmpvalue=eval(pageparams[j].appname);""!==this.trim(tmpvalue)&&this.clfeventdata.addItem(pageparams[j].logname,tmpvalue)}else if("property"===key)for(var propertyparams=_emfromstorage[key],j=0;j<propertyparams.length;j++)this.clfeventdata.addItem(propertyparams[j].logname,propertyparams[j].appname);else if("local"===key)for(var localparams=_emfromstorage[key],j=0;j<localparams.length;j++){var tmpvalue=appdatastore_1.AppDataStore.getStorageImpl("local").getItem(localparams[j].appname);""!==this.trim(tmpvalue)&&this.clfeventdata.addItem(localparams[j].logname,tmpvalue)}else if("angular"===key)if(void 0!==window.angular){logger_1.Logger.log("transform(): Scope - "+scope,logger_1.LogLevels.info,this.CSC);for(var angularparams=_emfromstorage[key],j=0;j<angularparams.length;j++)if(angularparams[j].isfn){var servicename=scope[angularparams[j].servicename];if(void 0!==servicename){var functionname=servicename[angularparams[j].functionname],data=functionname.apply(functionname);for(var key_1 in data)void 0!==data[key_1]&&this.clfeventdata.addItem(key_1,data[key_1])}else logger_1.Logger.log("transform(): service - ["+angularparams[j].servicename+"] is not defined in scope",logger_1.LogLevels.warn,this.CSC)}else{var appname=angularparams[j].appname,tmpvalue=scope[appname];""!==this.trim(tmpvalue)&&this.clfeventdata.addItem(angularparams[j].logname,tmpvalue)}}else logger_1.Logger.log("transform(): Angular is missing. No values will be abstracted to log for this event from Angular configuration.",logger_1.LogLevels.warn,this.CSC);else if("multiscope"===key)if(void 0!==window.angular){logger_1.Logger.log("transform(): Scope - "+scope,logger_1.LogLevels.info,this.CSC);for(var multiscopeparams=_emfromstorage[key],j=0;j<multiscopeparams.length;j++){var logname=multiscopeparams[j].logname,appname=multiscopeparams[j].appname,tracker=multiscopeparams[j].tracker,currentscope=null;currentscope=multiscopeparams[j].isolatedscope?base_1.MapData.getChildScope(window.angular.element(document.querySelector("#"+tracker)).scope(),tracker):window.angular.element(document.querySelector("."+tracker)).scope();var tmpvalue=currentscope[appname];""!==this.trim(tmpvalue)&&this.clfeventdata.addItem(logname,tmpvalue)}}else logger_1.Logger.log("transform(): Angular is missing. No values will be abstarcted for logging for this event from Angular configuration.",logger_1.LogLevels.warn,this.CSC)}this.clfeventdata.addItem("logLevel",this.clfcurrentloglevel),next=mapoperations_1.MapOperations.logdata}catch(e){logger_1.Logger.log(e,logger_1.LogLevels.error),next=mapoperations_1.MapOperations.error}return next},ClfMapData}(base_1.MapData);exports.ClfMapData=ClfMapData}]); 