(window.salesJsonp=window.salesJsonp||[]).push([[24],{"+oT+":function(e,t,n){var r=n("eVuF");function o(e,t,n,o,i,a,s){try{var u=e[a](s),c=u.value}catch(f){return void n(f)}u.done?t(c):r.resolve(c).then(o,i)}e.exports=function(e){return function(){var t=this,n=arguments;return new r((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}},0:function(e,t){},"04/V":function(e,t,n){var r=n("fYqa"),o=n("G1Wo")("iterator"),i=n("sipE");e.exports=n("p9MR").isIterable=function(e){var t=Object(e);return void 0!==t[o]||"@@iterator"in t||i.hasOwnProperty(r(t))}},1:function(e,t){},"1gQu":function(e,t,n){n("GTiD"),e.exports=n("p9MR").Array.isArray},"2SVd":function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"5HXA":function(e,t,n){"use strict";var r=n("ANjH").compose;t.__esModule=!0,t.composeWithDevTools="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?r:r.apply(null,arguments)},t.devToolsEnhancer="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:function(){return function(e){return e}}},"5oMp":function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"74v/":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n("cha2")}])},"8Bbg":function(e,t,n){e.exports=n("B5Ud")},"9rSQ":function(e,t,n){"use strict";var r=n("xTJ+");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},B5Ud:function(e,t,n){"use strict";var r=n("pbKT"),o=n("/HRN"),i=n("WaGi"),a=n("N9n2"),s=n("ZDA2"),u=n("/+P4"),c=n("ln6h");function f(e){var t=function(){if("undefined"===typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=u(e);if(t){var i=u(this).constructor;n=r(o,arguments,i)}else n=o.apply(this,arguments);return s(this,n)}}var l=n("KI45");t.__esModule=!0,t.Container=function(e){0;return e.children},t.createUrl=x,t.default=void 0;var p=l(n("htGi")),d=l(n("+oT+")),h=l(n("q1tI")),v=n("g/15");function m(e){return y.apply(this,arguments)}function y(){return(y=(0,d.default)(c.mark((function e(t){var n,r,o;return c.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Component,r=t.ctx,e.next=3,(0,v.loadGetInitialProps)(n,r);case 3:return o=e.sent,e.abrupt("return",{pageProps:o});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.AppInitialProps=v.AppInitialProps,n("nOHt");var g=function(e){a(n,e);var t=f(n);function n(){return o(this,n),t.apply(this,arguments)}return i(n,[{key:"componentDidCatch",value:function(e,t){throw e}},{key:"render",value:function(){var e=this.props,t=e.router,n=e.Component,r=e.pageProps,o=x(t);return h.default.createElement(n,(0,p.default)({},r,{url:o}))}}]),n}(h.default.Component);function x(e){var t=e.pathname,n=e.asPath,r=e.query;return{get query(){return r},get pathname(){return t},get asPath(){return n},back:function(){e.back()},push:function(t,n){return e.push(t,n)},pushTo:function(t,n){var r=n?t:"",o=n||t;return e.push(r,o)},replace:function(t,n){return e.replace(t,n)},replaceTo:function(t,n){var r=n?t:"",o=n||t;return e.replace(r,o)}}}t.default=g,g.origGetInitialProps=m,g.getInitialProps=m},CgaS:function(e,t,n){"use strict";var r=n("JEQr"),o=n("xTJ+"),i=n("9rSQ"),a=n("UnBK");function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"===typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(r,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},o.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,n){return this.request(o.merge(n||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,n,r){return this.request(o.merge(r||{},{method:e,url:t,data:n}))}})),e.exports=s},CpH4:function(e,t,n){n("tCzM"),n("k8Q4"),e.exports=n("t39F")},DfZB:function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},F4vM:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("p0XB"),o=n.n(r);function i(e){if(o()(e))return e}},GTiD:function(e,t,n){var r=n("0T/a");r(r.S,"Array",{isArray:n("taoM")})},HSsa:function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},HfYt:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}n.d(t,"a",(function(){return r}))},JEQr:function(e,t,n){"use strict";(function(t){var r=n("xTJ+"),o=n("yK9s"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s={adapter:function(){var e;return"undefined"!==typeof XMLHttpRequest?e=n("tQ2B"):"undefined"!==typeof t&&(e=n("tQ2B")),e}(),transformRequest:[function(e,t){return o(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){s.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){s.headers[e]=r.merge(i)})),e.exports=s}).call(this,n("8oxB"))},LYNF:function(e,t,n){"use strict";var r=n("OH9c");e.exports=function(e,t,n,o,i){var a=new Error(e);return r(a,t,n,o,i)}},Lmem:function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},MLWZ:function(e,t,n){"use strict";var r=n("xTJ+");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var i;if(n)i=n(t);else if(r.isURLSearchParams(t))i=t.toString();else{var a=[];r.forEach(t,(function(e,t){null!==e&&"undefined"!==typeof e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},OH9c:function(e,t,n){"use strict";e.exports=function(e,t,n,r,o){return e.config=t,n&&(e.code=n),e.request=r,e.response=o,e}},OTTw:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=r.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},"Rn+g":function(e,t,n){"use strict";var r=n("LYNF");e.exports=function(e,t,n){var o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},UnBK:function(e,t,n){"use strict";var r=n("xTJ+"),o=n("xAGQ"),i=n("Lmem"),a=n("JEQr"),s=n("2SVd"),u=n("5oMp");function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!s(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return c(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(c(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"V/f9":function(e,t,n){n("k8Q4"),n("YQlv"),e.exports=n("p9MR").Array.from},XXOK:function(e,t,n){e.exports=n("CpH4")},YQlv:function(e,t,n){"use strict";var r=n("vCXk"),o=n("0T/a"),i=n("AYVP"),a=n("nJOo"),s=n("widk"),u=n("pasi"),c=n("s+zB"),f=n("8Vlj");o(o.S+o.F*!n("Q2zc")((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,o,l,p=i(e),d="function"==typeof this?this:Array,h=arguments.length,v=h>1?arguments[1]:void 0,m=void 0!==v,y=0,g=f(p);if(m&&(v=r(v,h>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(n=new d(t=u(p.length));t>y;y++)c(n,y,m?v(p[y],y):p[y]);else for(l=g.call(p),n=new d;!(o=l.next()).done;y++)c(n,y,m?a(l,v,[o.value,y],!0):o.value);return n.length=y,n}})},cha2:function(e,t,n){"use strict";n.r(t);var r=n("hfKm"),o=n.n(r),i=n("2Eek"),a=n.n(i),s=n("XoMD"),u=n.n(s),c=n("Jo+v"),f=n.n(c),l=n("4mXO"),p=n.n(l),d=n("pLtp"),h=n.n(d),v=n("pbKT"),m=n.n(v),y=n("eVuF"),g=n.n(y),x=n("ln6h"),w=n.n(x),b=n("kOwS"),O=n("0iUn"),S=n("sLSF"),k=n("AT/M"),j=n("Tit0"),C=n("MI3g"),T=n("a7VT"),E=n("vYYK"),A=n("q1tI"),R=n.n(A),I=n("8Bbg"),D=n.n(I),L=n("ANjH"),P=n("5HXA");function q(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(o){return"function"===typeof o?o(n,r,e):t(o)}}}}var B=q();B.withExtraArgument=q;var N=B,_=n("2tr8");var H=Object(L.combineReducers)({profileInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.b:return t.payload;default:return e}},profileInfoFailed:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _.a:return t.payload;default:return e}}}),F={profileInfo:null,profileInfoFailed:null};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;return Object(L.createStore)(H,e,Object(P.composeWithDevTools)(Object(L.applyMiddleware)(N)))}var M=R.a.createElement;function J(e,t){var n=h()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Object(E.a)(e,t,n[t])})):u.a?a()(e,u()(n)):J(Object(n)).forEach((function(t){o()(e,t,f()(n,t))}))}return e}function V(e){var t=function(){if("undefined"===typeof Reflect||!m.a)return!1;if(m.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.a)(e);if(t){var o=Object(T.a)(this).constructor;n=m()(r,arguments,o)}else n=r.apply(this,arguments);return Object(C.a)(this,n)}}var K=!1,Q="__NEXT_REDUX_STORE__";function z(e){return K?U(e):(window[Q]||(window[Q]=U(e)),window[Q])}var G=n("/MKj"),Y=n("Z2Qj"),W=n("IyUE");function Z(e){var t=function(){if("undefined"===typeof Reflect||!m.a)return!1;if(m.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.a)(e);if(t){var o=Object(T.a)(this).constructor;n=m()(r,arguments,o)}else n=r.apply(this,arguments);return Object(C.a)(this,n)}}var $=function(e){Object(j.a)(n,e);var t=Z(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"componentDidMount",value:function(){Y.a.getRestFlags().then((function(e){var t=Y.a.convertRestToHeaderFlags(e);if(t["pdp-queueit"]&&"true"===t["pdp-queueit"]){var n=document.getElementsByTagName("head")[0],r=document.createElement("script");r.type="text/javascript",r.src="//static.queue-it.net/script/queueclient.min.js",n.appendChild(r);var o=/(www.att.com|m.att.com)/i.test(location.hostname.toLowerCase()),i=document.createElement("script");i.type="text/javascript",i.src="//static.queue-it.net/script/queueconfigloader.min.js",i.setAttribute("data-queueit-c",o?"attcom":"attcomtest"),n.appendChild(i)}})).catch((function(e){W.a.Info("FeatureFlags : Unable to load.")}))}},{key:"render",value:function(){return null}}]),n}(R.a.Component),ee=n("cq7Z"),te=n("yLiY"),ne=n.n(te),re=n("9Jkg"),oe=n.n(re),ie=n(0),ae=n("vDqi"),se=n.n(ae),ue=n("5WYP"),ce=n.n(ue);function fe(e,t){var n=h()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){Object(E.a)(e,t,n[t])})):u.a?a()(e,u()(n)):fe(Object(n)).forEach((function(t){o()(e,t,f()(n,t))}))}return e}var pe=!1,de=function(){function e(t,n,r){var o=this;if(Object(O.a)(this,e),Object(E.a)(this,"context",null),Object(E.a)(this,"cookieJar",null),Object(E.a)(this,"setCookieJar",null),Object(E.a)(this,"localStorage",void 0),Object(E.a)(this,"config",null),Object(E.a)(this,"axiosInstance",void 0),this.context=t,pe){this.config=n||{environmentHost:t.environmentHost},this.axiosInstance=se.a.create({baseURL:this.config.environmentHost+":443",proxy:!1}),this.cookieJar=new ie.CookieJar,this.setCookieJar=new ie.CookieJar;var i=t.req.cookies;i&&h()(i).forEach((function(e){"dtSa"!==e&&o.cookieJar.setCookieSync("".concat(e,"=").concat(i[e],";"),o.config.environmentHost)})),this.localStorage=r||{}}else this.config=n||{environmentHost:t.environmentHost},this.axiosInstance=se.a.create();this.axiosInstance.interceptors.request.use((function(e){return e.metadata={startTime:new Date},e}),(function(e){return g.a.reject(e)})),this.axiosInstance.interceptors.response.use((function(e){return e.config.metadata.endTime=new Date,e.duration=e.config.metadata.endTime-e.config.metadata.startTime,e}),(function(e){return g.a.reject(e)}))}return Object(S.a)(e,[{key:"getCookies",value:function(){return this.cookieJar.getCookieStringSync(this.config.environmentHost+this.context.req.url)}},{key:"getCache",value:function(){return this.localStorage}},{key:"setCookies",value:function(){var e=this;if(pe){var t=this.config.environmentHost;t.indexOf(".stage.att.com")>-1?t=".stage.att.com":t.indexOf(".att.com")>-1&&(t=".att.com"),this.setCookieJar.getCookiesSync(this.config.environmentHost).forEach((function(t){var n=t.value;e.context.res.cookie(t.key,n,{domain:t.hostOnly?"":t.domain,encode:function(e){return e}})}))}}},{key:"proxyFetch",value:function(e,t){var n,r;return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(r=t,!pe){o.next=9;break}return r=le({},r),o.next=6,w.a.awrap(this.axiosInstance.get(e,r));case 6:n=o.sent,o.next=12;break;case 9:return o.next=11,w.a.awrap(this.axiosInstance.get(e,r));case 11:n=o.sent;case 12:return o.abrupt("return",n);case 13:case"end":return o.stop()}}),null,this,null,g.a)}},{key:"get",value:function(t,n){var r,o,i;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return r=Boolean(t.match(/^https?:\/\/|^\/\//i)),o=le({},n,{},this.config),o=le(pe?{credentials:"same-origin",headers:{cookie:this.context.req.headers["idpctx-cookie"]||this.cookieJar.getCookieStringSync(r?t:o.environmentHost+t)}}:{credentials:"same-origin"},o),a.next=5,w.a.awrap(this.getDataIsomorphically(o,r,e.addHaloCQuery(t,o.haloCParam)));case 5:if(null!==(i=a.sent)){a.next=8;break}return a.abrupt("return",null);case 8:return this.updateCache(o,t,i),a.abrupt("return",i);case 10:case"end":return a.stop()}}),null,this,null,g.a)}},{key:"post",value:function(e,t,n){var r,o,i,a,s,u;return w.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:return r=Boolean(e.match(/^https?:\/\/|^\/\//i)),o=le({},n,{},this.config),i=r?e:o.environmentHost+e,pe?o=le({headers:{cookie:this.cookieJar.getCookieStringSync(i)}},o):(i=e,o=le({},o)),a=le({},a=o),c.next=8,w.a.awrap(this.axiosInstance.post(i,t,a));case 8:return s=c.sent,this.LogFetch("Posting ".concat(i),o,i,s),u=s.data,c.abrupt("return",u);case 12:case"end":return c.stop()}}),null,this,null,g.a)}},{key:"getDataIsomorphically",value:function(e,t,n){var r,o;return w.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!pe){i.next=9;break}return i.next=3,w.a.awrap(this.getServerResponse(t,r,n,e));case 3:r=i.sent,this.LogFetch("Fetching ".concat(n),e,n,r),o=r.data,this.updateCookies(r,e),i.next=19;break;case 9:if(!e.lsCache||pe){i.next=15;break}return i.next=12,w.a.awrap(this.getCachedData(n,t,r,e,o));case 12:o=i.sent,i.next=19;break;case 15:return i.next=17,w.a.awrap(this.getServerResponse(t,r,n,e));case 17:r=i.sent,o=r.data;case 19:return i.abrupt("return",o);case 20:case"end":return i.stop()}}),null,this,null,g.a)}},{key:"LogFetch",value:function(e,t,n,r){if(this.context.res&&this.context.res.locals&&this.context.res.locals.context)this.context.res.locals.context.logger.warn({data:{req:{body:this.context.req.body,cookies:this.context.req.cookies,headers:this.context.req.headers,params:this.context.req.params,query:this.context.req.query,environmentHost:t.environmentHost},cookieJar:{setCookieString:this.setCookieJar.getCookieStringSync(t.environmentHost+this.context.req.url),cookieString:this.cookieJar.getCookieStringSync(t.environmentHost+this.context.req.url)},res:{headers:this.context.res.getHeaders(),metadata:r.config.metadata,duration:r.duration},fetchResponse:{headers:r.headers,status:r.status},message:e,url:n},statusCode:r.status,statusText:r.statusText,msg:e,name:"ServerSideFetch"});else if(pe){var o={url:n,metadata:r.config.metadata,duration:r.duration};W.a.Info("Server side request \n",oe()(o,null,4))}}},{key:"getCachedData",value:function(e,t,n,r,o){var i;return w.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:if(null!==(i=ce.a.get(e))){a.next=9;break}return a.next=4,w.a.awrap(this.getServerResponse(t,n,e,r));case 4:i=a.sent,this.LogFetch("Cache Miss - Fetching ".concat(e),r,e,n),i=i.data,a.next=10;break;case 9:"object"!==typeof i&&(i=JSON.parse(i));case 10:return o=i,a.abrupt("return",o);case 12:case"end":return a.stop()}}),null,this,null,g.a)}},{key:"getServerResponse",value:function(e,t,n,r){return w.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(!e){o.next=6;break}return o.next=3,w.a.awrap(this.proxyFetch(n,r));case 3:t=o.sent,o.next=15;break;case 6:if(!pe){o.next=12;break}return o.next=9,w.a.awrap(this.proxyFetch(r.environmentHost+n,r));case 9:t=o.sent,o.next=15;break;case 12:return o.next=14,w.a.awrap(this.proxyFetch(n,r));case 14:t=o.sent;case 15:return o.abrupt("return",t);case 16:case"end":return o.stop()}}),null,this,null,g.a)}},{key:"updateCache",value:function(e,t,n){e.lsCache&&pe?this.localStorage[t]=oe()(n):e.lsCache&&!pe&&ce.a.set(t,oe()(n),5)}},{key:"updateCookies",value:function(e,t){var n=this;if(pe){var r=[];e.headers["set-cookie"]&&(r=e.headers["set-cookie"]),r.length>0&&r.map((function(e){var r=ie.Cookie.parse(e);!r||r.domain&&!t.environmentHost.includes(r.domain)||(n.cookieJar.setCookieSync(e,t.environmentHost+n.context.req.url),n.setCookieJar.setCookieSync(e,t.environmentHost+n.context.req.url))}))}}}],[{key:"addHaloCQuery",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.indexOf(".cmsfeed.")<0&&e.indexOf(".skumapping.")<0;return t&&n?e.indexOf("?")>-1?e+"&haloCPage=IDP_PDP":e+"?haloCPage=IDP_PDP":e}}]),e}(),he=n("RrNd"),ve=n("AGoX"),me=n("4ol4"),ye=n("eI37"),ge=n("8bTO"),xe={warning:5,expire:30},we="/wireless",be="/smallbusiness/explore/wireless-identify.html",Oe={header:"Session Timeout",buttonText:"Continue",bodyContent:{WARN:{info:"As a security measure, your session will end in 5 minutes.",cta:"If you need more time, select Continue to extend your session."},EXPIRED:{info:"Your session has timed out. As a security measure, your session ends after 30 minutes of inactivity.",cta:"Select Continue to return to the AT&T wireless homepage."},VALID:{info:"As a security measure, your session will end in 5 minutes.",cta:"If you need more time, select Continue to extend your session."}}},Se=A.createElement;function ke(e){var t=function(){if("undefined"===typeof Reflect||!m.a)return!1;if(m.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.a)(e);if(t){var o=Object(T.a)(this).constructor;n=m()(r,arguments,o)}else n=r.apply(this,arguments);return Object(C.a)(this,n)}}var je,Ce=function(e){Object(j.a)(n,e);var t=ke(n);function n(){return Object(O.a)(this,n),t.apply(this,arguments)}return Object(S.a)(n,[{key:"render",value:function(){var e=this;return Se(ve.default,{isOpen:this.props.modalOpen,onRequestClose:function(){return e.props.onModalClose()},header:function(){return Se("h1",{className:me.modalHeading},Se("i",{className:[ge.attIcon,ge.attIconalert].join(" ")}),Oe.header)}},Se(A.Fragment,null,Se("p",{className:me.modalContent},Oe.bodyContent[this.props.modalState].info,Se("br",null),Oe.bodyContent[this.props.modalState].cta),Se("div",{className:me.modalFooter},Se(ye.a,{events:{onClick:function(){return e.props.onModalClose()}},buttonConfig:{disabled:!1,primary:!0,type:[ye.b.Blue]}},Oe.buttonText))))}}]),n}(A.Component);!function(e){e.VALID="VALID",e.WARN="WARN",e.EXPIRED="EXPIRED"}(je||(je={}));var Te=n("n206"),Ee=n("U/e8"),Ae=n("Ra6Z"),Re=A.createElement;function Ie(e){var t=function(){if("undefined"===typeof Reflect||!m.a)return!1;if(m.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.a)(e);if(t){var o=Object(T.a)(this).constructor;n=m()(r,arguments,o)}else n=r.apply(this,arguments);return Object(C.a)(this,n)}}var De=function(e){Object(j.a)(n,e);var t=Ie(n);function n(e){var r;return Object(O.a)(this,n),r=t.call(this,e),Object(E.a)(Object(k.a)(r),"warningTimer",void 0),Object(E.a)(Object(k.a)(r),"expireTimer",void 0),Object(E.a)(Object(k.a)(r),"fireSKA",void 0),r.state={modalOpen:!1,sessionState:je.VALID},r.userClosedModal=r.userClosedModal.bind(Object(k.a)(r)),r.warnUser=r.warnUser.bind(Object(k.a)(r)),r.informUser=r.informUser.bind(Object(k.a)(r)),r.sessionKeepAlive=r.sessionKeepAlive.bind(Object(k.a)(r)),r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.initTimeouts(),["click","mousemove","mouseover","mousemove","touchmove","focus"].forEach((function(t){window.addEventListener(t,(function(){e.fireSKA&&(e.extendSession(),e.fireSKA=!1)}))}))}},{key:"initTimeouts",value:function(){window.clearTimeout(this.expireTimer),window.clearTimeout(this.warningTimer),Boolean(Object(Ee.n)(document.cookie,"TATS-SS-TokenID"))||Boolean(Object(Ee.n)(document.cookie,"tAuthNState"))?(this.warningTimer=window.setTimeout(this.warnUser,this.convertToMillis(xe.expire-xe.warning)),this.expireTimer=window.setTimeout(this.informUser,this.convertToMillis(xe.expire))):this.warningTimer=window.setTimeout(this.sessionKeepAlive,this.convertToMillis(xe.expire-xe.warning))}},{key:"sessionKeepAlive",value:function(){this.fireSKA=!0}},{key:"warnUser",value:function(){this.setState({modalOpen:!0,sessionState:je.WARN})}},{key:"informUser",value:function(){this.setState({modalOpen:!0,sessionState:je.EXPIRED})}},{key:"userClosedModal",value:function(){switch(this.state.sessionState){case je.EXPIRED:this.expiredSession();break;case je.WARN:this.extendSession();break;case je.VALID:}this.state.sessionState===je.EXPIRED&&this.extendSession(),this.setState({modalOpen:!1})}},{key:"extendSession",value:function(){var e=he.b.productDetailsUrls.sessionKeepAlive;Ae.keepSessionAlive?(console.log("Fire KSA."),Object(Te.b)(e.mds),Object(Te.b)(e.dockerizedMds),Object(Te.b)(e.msapi)):console.log("Didn't fire KSA."),this.initTimeouts(),this.setState({sessionState:je.VALID})}},{key:"expiredSession",value:function(){-1!==location.href.indexOf("/buy/postpaid")?this.expiredSessionForUpAAL():this.expiredSessionNewFlow()}},{key:"expiredSessionForUpAAL",value:function(){window.sessionStorage.setItem("isWSCELogin","true"),window.location.reload()}},{key:"expiredSessionNewFlow",value:function(){["CRU"].includes(this.props.customerType)?location.href=location.protocol+"//"+location.host+be:location.href=location.protocol+"//"+location.host+we}},{key:"render",value:function(){return Re(A.Fragment,null,Re(Ce,{modalState:this.state.sessionState,modalOpen:this.state.modalOpen,onModalClose:this.userClosedModal,customerType:this.props.customerType}))}},{key:"convertToMillis",value:function(e){return 1e3*e*60}}]),n}(A.Component),Le=n(1),Pe=n("Da3r");n.d(t,"MyApp",(function(){return Me}));var qe=R.a.createElement;function Be(e,t){var n=h()(e);if(p.a){var r=p()(e);t&&(r=r.filter((function(t){return f()(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Object(E.a)(e,t,n[t])})):u.a?a()(e,u()(n)):Be(Object(n)).forEach((function(t){o()(e,t,f()(n,t))}))}return e}function _e(e){var t=function(){if("undefined"===typeof Reflect||!m.a)return!1;if(m.a.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(m()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(T.a)(e);if(t){var o=Object(T.a)(this).constructor;n=m()(r,arguments,o)}else n=r.apply(this,arguments);return Object(C.a)(this,n)}}var He,Fe=ne()(),Ue=Fe&&Fe.serverRuntimeConfig.RELATIVE_SALES_BACKEND||!1,Me=function(e){Object(j.a)(n,e);var t=_e(n);function n(e){var r;return Object(O.a)(this,n),r=t.call(this,e),Object(E.a)(Object(k.a)(r),"addInitializeListener",(function(){window.addEventListener(Pe.b.LOAD,(function(){setTimeout((function(){console.log("INITIALIZING..."),ee.a.initialize()}),2e3)}),{once:!0});var e=navigator.userAgent,t=!(e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1);console.log("Is it Safari Browser ::",t),t&&(window.addEventListener("pageshow",(function(e){console.log("pageshow event ::",e),e.persisted&&window.location.reload()})),window.addEventListener("pagehide",(function(e){console.log("pagehide event ::",e),e.persisted&&window.location.reload()})),window.addEventListener("popstate",(function(e){console.log("popstate event ::",e),window.location.reload()})),window.addEventListener("unload",(function(e){console.log("unloaded");var t=history.state,n=t.url,r=t.as,o=t.options;history.replaceState({url:n,as:r,options:Ne({},o,{fromExternal:!0})},null,r)})))})),r}return Object(S.a)(n,[{key:"componentDidMount",value:function(){this.addInitializeListener()}},{key:"getGlobalNavCustomerType",value:function(e){return e.profileInfo?e.profileInfo.customerType:e.dtabCookieExists?"CRU":"CON"}},{key:"render",value:function(){var e=this.props,t=e.Component,n=e.pageProps;return qe(G.a,{store:this.props.reduxStore},qe(De,{customerType:this.getGlobalNavCustomerType(n)}),qe($,null),qe(t,Object(b.a)({router:this.props.router},n)))}}],[{key:"getInitialProps",value:function(e){var t,n,r,o,i,a,s;return w.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:if(t=e.Component,n=e.ctx,r={},o="",i=n,!1,n.req&&Object(Le.bootstrap)(),!t.getInitialProps){u.next=15;break}return a="",n.req&&n.req.get&&((a="https://".concat(n.req.get("Host"))).includes("tst")&&!1!==Ue||(a=he.a),i.environmentHost=a,o=n.req.query),s=new de(i,{environmentHost:i.environmentHost}),i.fetchManager=s,u.next=13,w.a.awrap(t.getInitialProps(i));case 13:r=u.sent,i.fetchManager.setCookies();case 15:return u.abrupt("return",{pageProps:r,reqParam:o});case 16:case"end":return u.stop()}}),null,null,null,g.a)}}]),n}(D.a);t.default=(He=Me,function(e){Object(j.a)(n,e);var t=V(n);function n(e){var r;return Object(O.a)(this,n),r=t.call(this,e),Object(E.a)(Object(k.a)(r),"reduxStore",void 0),r.reduxStore=z(e.initialReduxState),r}return Object(S.a)(n,[{key:"render",value:function(){return M(He,Object(b.a)({},this.props,{reduxStore:this.reduxStore}))}}],[{key:"getInitialProps",value:function(e){var t,n;return w.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=z(),e.ctx.reduxStore=t,n={},"function"!==typeof He.getInitialProps){r.next=7;break}return r.next=6,w.a.awrap(He.getInitialProps(e));case 6:n=r.sent;case 7:return r.abrupt("return",X({},n,{initialReduxState:t.getState()}));case 8:case"end":return r.stop()}}),null,null,null,g.a)}}]),n}(R.a.Component))},d04V:function(e,t,n){e.exports=n("V/f9")},doui:function(e,t,n){"use strict";var r=n("F4vM"),o=n("XXOK"),i=n.n(o),a=n("yLu3"),s=n.n(a);var u=n("HfYt");function c(e,t){return Object(r.a)(e)||function(e,t){if(s()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,o=!1,a=void 0;try{for(var u,c=i()(e);!(r=(u=c.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(f){o=!0,a=f}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}}(e,t)||Object(u.a)()}n.d(t,"a",(function(){return c}))},endd:function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r},eqyj:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(o)&&s.push("path="+o),r.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},icr7:function(e,t,n){n("tCzM"),n("k8Q4"),e.exports=n("04/V")},"jfS+":function(e,t,n){"use strict";var r=n("endd");function o(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},p0XB:function(e,t,n){e.exports=n("1gQu")},t39F:function(e,t,n){var r=n("D4ny"),o=n("8Vlj");e.exports=n("p9MR").getIterator=function(e){var t=o(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},tQ2B:function(e,t,n){"use strict";var r=n("xTJ+"),o=n("Rn+g"),i=n("MLWZ"),a=n("w0Vi"),s=n("OTTw"),u=n("LYNF");e.exports=function(e){return new Promise((function(t,c){var f=e.data,l=e.headers;r.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,r={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:n,config:e,request:p};o(t,c,r),p=null}},p.onerror=function(){c(u("Network Error",e,null,p)),p=null},p.ontimeout=function(){c(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=n("eqyj"),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?v.read(e.xsrfCookieName):void 0;m&&(l[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&r.forEach(l,(function(e,t){"undefined"===typeof f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(y){if("json"!==e.responseType)throw y}"function"===typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),c(e),p=null)})),void 0===f&&(f=null),p.send(f)}))}},vDqi:function(e,t,n){e.exports=n("zuR4")},w0Vi:function(e,t,n){"use strict";var r=n("xTJ+"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,i,a={};return e?(r.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=r.trim(e.substr(0,i)).toLowerCase(),n=r.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([n]):a[t]?a[t]+", "+n:n}})),a):a}},x86X:function(e,t){e.exports=function(e){return null!=e&&null!=e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},xAGQ:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}},"xTJ+":function(e,t,n){"use strict";var r=n("HSsa"),o=n("x86X"),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"===typeof e}function u(e){return"[object Function]"===i.call(e)}function c(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!==typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"===typeof e},isNumber:function(e){return"number"===typeof e},isObject:s,isUndefined:function(e){return"undefined"===typeof e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:u,isStream:function(e){return s(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)},forEach:c,merge:function e(){var t={};function n(n,r){"object"===typeof t[r]&&"object"===typeof n?t[r]=e(t[r],n):t[r]=n}for(var r=0,o=arguments.length;r<o;r++)c(arguments[r],n);return t},extend:function(e,t,n){return c(t,(function(t,o){e[o]=n&&"function"===typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},yK9s:function(e,t,n){"use strict";var r=n("xTJ+");e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},yLu3:function(e,t,n){e.exports=n("icr7")},zuR4:function(e,t,n){"use strict";var r=n("xTJ+"),o=n("HSsa"),i=n("CgaS"),a=n("JEQr");function s(e){var t=new i(e),n=o(i.prototype.request,t);return r.extend(n,i.prototype,t),r.extend(n,t),n}var u=s(a);u.Axios=i,u.create=function(e){return s(r.merge(a,e))},u.Cancel=n("endd"),u.CancelToken=n("jfS+"),u.isCancel=n("Lmem"),u.all=function(e){return Promise.all(e)},u.spread=n("DfZB"),e.exports=u,e.exports.default=u}},[["74v/",0,4,2,1,3,6,9,8,10]]]);