!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r=n.parcelRequirecbf3;r.register("dwWCa",(function(n,o){t(n.exports,"useConversationsContext",(function(){return f})),t(n.exports,"ConversationsContextProvider",(function(){return p})),t(n.exports,"createMentionProvider",(function(){return g})),t(n.exports,"createContextIdentifierProvider",(function(){return m})),t(n.exports,"buildConversationContext",(function(){return v}));var i=r("61szk"),a=r("f6jtq");r("hms2A");var s=r("i3CBx"),c=r("043zr"),l=r("8bPij"),u=r("4yJMB");const d=e(i).createContext(void 0),f=()=>{const e=i.useContext(d);if(void 0===e)throw new Error("`useConversationsContext` must be used within a `ConversationsContext.Provider`");return e},p=d.Provider;function h(e,t,n){return e.isPrivateRepo?t:t&&n}function g({owner:e,slug:t,intl:n,conversationsMentionContext:r,smartUserMentionsEnabled:o,smartMentionsForPublicReposEnabled:i}){let a;const s={owner:e,slug:t,intl:n};if(h(r,o,i))a=function(e,t){return new u.UserRecommendationsMentionProvider(e,t)}(s,r);else{a=new(c.BitbucketMentionsProvider.build(s))}return Promise.resolve(a)}function m({conversationsMentionContext:e,smartUserMentionsEnabled:t,smartMentionsForPublicReposEnabled:n}){let r;return h(e,t,n)?(r={cloudId:"bitbucket",containerId:e.repositoryUUID||"",objectId:""},Promise.resolve(r)):void 0}function v({anchor:e,destRev:t,userAvatarUrl:n,userDisplayName:r,userProfileUrl:o,userUuid:i,urls:c,onAddComment:u,onDeleteComment:d,owner:f,slug:p,intl:h,conversationsMentionContext:v,smartUserMentionsEnabled:b,smartMentionsForPublicReposEnabled:y}){const E={anchor:e,destRev:t,user:{uuid:i||"",display_name:r||"",links:{self:{href:o||"#"},html:{href:o||"#"},avatar:{href:n||"#"}}},urls:c,onAddComment:u,onDeleteComment:d},x=a.ConversationProvider.getProvider(E),k=l.buildProfilecardProvider({intl:h});s.providerFactory.setProvider("profilecardProvider",k);const C=g({owner:f,slug:p,intl:h,conversationsMentionContext:v,smartUserMentionsEnabled:b,smartMentionsForPublicReposEnabled:y});s.providerFactory.setProvider("mentionProvider",C);const S=m({conversationsMentionContext:v,smartUserMentionsEnabled:b,smartMentionsForPublicReposEnabled:y});return s.providerFactory.setProvider("contextIdentifierProvider",S),{conversationProvider:x,additionalConversationProviders:s.providerFactory}}})),r.register("f6jtq",(function(e,n){t(e.exports,"ConversationProvider",(function(){return l})),r("Bm7sv");var o=r("kTTkS"),i=r("UvAdX"),a=r("3zI2y"),s=r("iiihB"),c=r("lrBNe");class l{static getProvider(e){return new l({...e,user:e.user?c.toFabricUser(e.user):null})}updateConfig(e){this.config={...this.config,...e}}getConversation(e,t){const[n]=e.filter((e=>e.conversationId===t));return n}constructor(e){this.addComment=o.addComment,this.create=i.create,this.deleteComment=a.deleteComment,this.updateComment=s.updateComment,this.config=e}}})),r.register("Bm7sv",(function(e,n){t(e.exports,"addComment",(function(){return r("kTTkS").addComment})),t(e.exports,"create",(function(){return r("UvAdX").create})),t(e.exports,"deleteComment",(function(){return r("3zI2y").deleteComment})),t(e.exports,"updateComment",(function(){return r("iiihB").updateComment})),t(e.exports,"Conversation",(function(){return r("4wReE").default}));r("6dEHt"),r("kTTkS"),r("UvAdX"),r("3zI2y"),r("iiihB"),r("jICnC"),r("esqsT"),r("htvQr"),r("4wReE")})),r.register("6dEHt",(function(e,t){})),r.register("kTTkS",(function(e,n){t(e.exports,"addComment",(function(){return d}));var o=r("hp8zO"),i=r("eIict"),a=r("i3NXa"),s=r("lrBNe"),c=r("3geUT"),l=r("6x3MO"),u=r("i6Qv4");async function d(e,t,n,r,d,f){const{config:p}=this,{urls:h,anchor:g,destRev:m}=p,v=this.getConversation(n,r),{meta:b}=v,y=b&&b.path?{path:b.path}:void 0,E=(new Date).toISOString(),x=u.uuid.generate(),k={created_on:E,updated_on:E,content:{doc:f},user:s.toBBUser(t),placeholderId:x};if(d&&(k.parent={id:d}),!o.isEmpty(b)){const e={};b.path&&(e.path=b.path),b.from&&(e.from=b.from),b.to&&(e.to=b.to),k.inline=e}e({type:c.ADD_COMMENT.REQUEST,payload:k});const C=await fetch(i.default(h.commentSave(),{method:"POST",headers:i.jsonHeaders,body:JSON.stringify({content:{raw:a.encode(f)},parent:d?k.parent:void 0,inline:y,anchor:g&&l.short12Hash(g),dest_rev:m&&l.short12Hash(m)})}));if(!C.ok)throw Error(C.statusText);const S=await C.json();return S.inline&&S.inline.outdated&&(S.inline.outdated=!1),e({type:c.ADD_COMMENT.SUCCESS,payload:{placeholderId:x,comment:S}}),s.toComment(S,r)}})),r.register("i6Qv4",(function(e,n){t(e.exports,"uuid",(function(){return o}));let r=!1;const o={setStatic(e){r=e},generate:()=>r||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}})),r.register("UvAdX",(function(e,n){t(e.exports,"create",(function(){return d}));var o=r("hp8zO"),i=r("eIict"),a=r("6x3MO"),s=r("i3NXa"),c=r("lrBNe"),l=r("3geUT"),u=r("i6Qv4");async function d(e,t,n,r,d,f){const{config:p}=this,{urls:h,anchor:g,destRev:m}=p,v={...d};null===v.to&&delete v.to,null===v.from&&delete v.from,v.from&&v.to&&delete v.to;const b=!o.isEmpty(v),y=(new Date).toISOString(),E=u.uuid.generate(),x={created_on:y,updated_on:y,content:{doc:r},user:c.toBBUser(t),placeholderId:E};if(b){const e={};v.path&&(e.path=v.path),v.from&&(e.from=v.from),v.to&&(e.to=v.to),x.inline=e}e({type:l.ADD_COMMENT.REQUEST,payload:x});const k=await fetch(i.default(h.commentSave(),{method:"POST",headers:i.jsonHeaders,body:JSON.stringify({content:{raw:s.encode(r)},inline:b?x.inline:void 0,anchor:g&&a.short12Hash(g),dest_rev:m&&a.short12Hash(m)})}));if(!k.ok)throw Error(k.statusText);const C=await k.json();C.inline&&C.inline.outdated&&(C.inline.outdated=!1);const S=c.toConversation([C],f,n);return S&&e({type:l.ADD_COMMENT.SUCCESS,payload:{placeholderId:E,comment:C}}),S}})),r.register("3zI2y",(function(e,n){t(e.exports,"deleteComment",(function(){return a}));var o=r("eIict"),i=r("3geUT");async function a(e,t){const{config:n}=this,{urls:r}=n;e({type:i.DELETE_COMMENT.REQUEST,payload:{id:t}});const a=await fetch(o.default(r.commentDelete(t),{method:"DELETE",headers:o.jsonHeaders}));if(!a.ok)throw Error(a.statusText);e({type:i.DELETE_COMMENT.SUCCESS,payload:{id:t}})}})),r.register("iiihB",(function(e,n){t(e.exports,"updateComment",(function(){return s}));var o=r("eIict"),i=r("i3NXa"),a=r("3geUT");async function s(e,t,n){const{config:r}=this,{urls:s}=r;e({type:a.UPDATE_COMMENT.REQUEST,payload:{id:t,content:n}});const c=await fetch(o.default(s.commentUpdate(t),{method:"PUT",headers:o.jsonHeaders,body:JSON.stringify({content:{raw:i.encode(n)}})}));if(!c.ok)throw Error(c.statusText);const l=await c.json();e({type:a.UPDATE_COMMENT.SUCCESS,payload:{comment:l}})}})),r.register("jICnC",(function(e,t){})),r.register("esqsT",(function(e,t){})),r.register("htvQr",(function(e,t){})),r.register("4wReE",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("jgze0"),a=r("izGl7"),s=r("61szk"),c=r("6tbO4"),l=r("4bHBQ"),u=r("3geUT"),d=r("jnlN0"),f=r("i6Qv4");const p=a.withAnalyticsEvents()(c.connect(((e,t)=>{const{id:n,localId:r,objectId:o,containerId:i}=t,a=l.getLeveledFabricConversationById(e,n||r),s=l.getLeveledFabricCommentsById(e,n||r),c=l.getCurrentFabricUser(e)||void 0;return{...t,conversation:a,comments:s,objectId:o,containerId:i,user:c}}),((e,{provider:t})=>({onAddComment(n,r,o,i){e((async(e,a)=>{const s=a(),c=l.getLeveledFabricConversations(s),u=l.getCurrentFabricUser(s)||void 0,{commentId:d}=await t.addComment(e,u,c,n,r,o);"function"==typeof i&&i(d.toString())}))},onUpdateComment(n,r,o){e((async e=>{await t.updateComment(e,n,r),"function"==typeof o&&o(n.toString())}))},onDeleteComment(n,r){e((async e=>{await t.deleteComment(e,n),"function"==typeof r&&r(n.toString())}))},onHighlightComment(t,n){e({type:u.HIGHLIGHT_COMMENT,payload:n})},onCreateConversation(n,r,o,i,a,s){e((async(e,i)=>{const c=i(),u=l.getCurrentFabricUser(c)||void 0,{conversationId:d}=await t.create(e,u,n,r,o,a);"function"==typeof s&&s(d)}))}})))(d.default));class h extends e(s).Component{render(){const{props:t,state:{localId:n}}=this;return e(s).createElement(p,e(i)({},t,{localId:n}))}constructor(e){super(e),this.state={localId:e.id||f.uuid.generate()}}}var g=h})),r.register("jnlN0",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("jgze0"),a=r("61szk"),s=r("h7jXA"),c=r("enyDX"),l=r("eS2uA"),u=r("bpOs3");class d extends e(a).PureComponent{renderComments(){const{comments:t,conversation:n,onAddComment:r,onUpdateComment:o,onDeleteComment:l,onRevertComment:u,onUserClick:d,onCancel:f,user:p,dataProviders:h,renderEditor:g,objectId:m,containerId:v,placeholder:b,disableScrollTo:y,allowFeedbackAndHelpButtons:E,portal:x,canModerateComments:k,renderAdditionalCommentActions:C,renderAfterComment:S,renderAuthorAvatar:T,renderAuthorName:O,maxCommentNesting:w,showDeleteCommentDialog:N,showBeforeUnloadWarning:P}=this.props;if(!n)return null;const{conversationId:A}=n;return(t||[]).map((t=>e(a).createElement(s.default,{key:t.commentId,conversationId:A,comment:t,user:p,onAddComment:r,onUpdateComment:o,onDeleteComment:l,onRevertComment:u,onEditorOpen:this.onEditorOpen,onEditorClose:this.onEditorClose,onEditorChange:this.handleEditorChange,onHighlightComment:this.onHighlightComment,onRetry:this.onRetry(t.document),onCancel:f,onUserClick:d,dataProviders:h,renderComment:t=>e(a).createElement(c.Comment,e(i)({},t,{canModerateComment:k,renderAdditionalCommentActions:C,renderAfterComment:S,renderAuthorAvatar:T,renderAuthorName:O})),maxCommentNesting:w,renderEditor:g,objectId:m,containerId:v,placeholder:b,disableScrollTo:y,sendAnalyticsEvent:this.sendEditorAnalyticsEvent,allowFeedbackAndHelpButtons:E,portal:x,showDeleteCommentDialog:N,showBeforeUnloadWarning:P})))}renderConversationsEditor(){const{isExpanded:t,meta:n,dataProviders:r,user:o,conversation:i,renderEditor:s,placeholder:c,loginLinkText:l,disableScrollTo:d,allowFeedbackAndHelpButtons:f,showBeforeUnloadWarning:p,objectId:h,loginLink:g}=this.props,m=!!o&&(!!!n||t&&!!!i),v=`${h}-${(null==n?void 0:n.path)||0}-${(null==n?void 0:n.from)||0}-${(null==n?void 0:n.to)||0}`;return m?e(a).createElement(u.default,{isExpanded:t,onSave:this.onSave,onCancel:this.onCancel,onOpen:this.onEditorOpen,onClose:this.onEditorClose,onChange:this.handleEditorChange,dataProviders:r,user:o,renderEditor:s,placeholder:c,disableScrollTo:d,allowFeedbackAndHelpButtons:f,showBeforeUnloadWarning:p,draftLocalStorageKey:v}):o?null:e(a).createElement("a",{href:g},l)}render(){return e(a).createElement(e(a).Fragment,null,this.renderComments(),this.renderConversationsEditor())}constructor(e){super(e),this.sendEditorAnalyticsEvent=e=>{const{createAnalyticsEvent:t,objectId:n,containerId:r}=this.props,o=t({actionSubject:"editor",action:"clicked"});l.fireEvent(o,{objectId:n,containerId:r,...e})},this.onCancel=()=>{this.sendEditorAnalyticsEvent({actionSubjectId:l.actionSubjectIds.cancelButton}),this.props.onCancel&&this.props.onCancel()},this.onRetry=e=>t=>{this.sendEditorAnalyticsEvent({actionSubjectId:l.actionSubjectIds.retryFailedRequestButton}),this.onSave(e,t,!0)},this.onSave=(e,t,n)=>{const{objectId:r,containerId:o,id:i,localId:a,meta:s,onAddComment:c,onCreateConversation:u,conversation:d}=this.props;if(n||this.sendEditorAnalyticsEvent({actionSubjectId:l.actionSubjectIds.saveButton}),i||t||!u){if(c){c(i||d.conversationId,null,e,(e=>{this.sendEditorAnalyticsEvent({actionSubjectId:e,action:l.trackEventActions.created,eventType:l.eventTypes.TRACK,actionSubject:"comment",attributes:{nestedDepth:0}})}))}}else u(a,e,s,r,o,(e=>{this.sendEditorAnalyticsEvent({actionSubjectId:e,eventType:l.eventTypes.TRACK,attributes:{nestedDepth:0},action:l.trackEventActions.created,actionSubject:"comment"})}))},this.onEditorClose=()=>{this.state.openEditorCount>0&&this.setState({openEditorCount:this.state.openEditorCount-1}),"function"==typeof this.props.onEditorClose&&this.props.onEditorClose()},this.onEditorOpen=()=>{this.sendEditorAnalyticsEvent({actionSubjectId:l.actionSubjectIds.createCommentInput}),this.setState({openEditorCount:this.state.openEditorCount+1}),"function"==typeof this.props.onEditorOpen&&this.props.onEditorOpen()},this.onHighlightComment=(e,t)=>{"function"==typeof this.props.onHighlightComment&&(this.props.onHighlightComment(e,t),"function"==typeof this.props.onCommentPermalinkClick&&this.props.onCommentPermalinkClick(e,t))},this.handleEditorChange=(e,t)=>{const{id:n,localId:r,onEditorChange:o,meta:i,objectId:a,containerId:s}=this.props;if(o){o(!n,e,r,t,i,a,s)}},this.state={openEditorCount:0}}}d.defaultProps={placeholder:"What do you want to say?",onEditorOpen:()=>{},onEditorClose:()=>{}}})),r.register("h7jXA",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("61szk"),a=r("6tbO4"),s=r("4bHBQ"),c=r("csqQL");class l extends e(i).Component{render(){const{renderComment:e,...t}=this.props;return e({...t})}}var u=a.connect(((e,t)=>{const n=s.getLeveledFabricCommentsById(e,t.conversationId,t.comment.commentId),r=c.getHighlighted(e)===t.comment.commentId;return{...t,comments:n,isHighlighted:r}}),null)(l)})),r.register("enyDX",(function(n,o){t(n.exports,"Comment",(function(){return I}));var i=r("jgze0"),a=r("eQkAL"),s=r("aYKWM"),c=r("gPpO5"),l=r("29aOV"),u=r("2NAo1"),d=r("2QDIf");r("igW5C");var f=r("MsgJD");r("iNblZ");var p=r("8i650");r("dFBo1");var h=r("1bpwT"),g=r("4kBRk"),m=r("61szk"),v=r("7RIig"),b=r("35ixb"),y=r("gzbOn"),E=r("5G28v"),x=r("h7jXA"),k=r("eS2uA"),C=r("bpOs3"),S=r("dISHh");const T=v.defineMessages({deletedComment:{id:"frontbucket.conversation.deletedComment",defaultMessage:"Comment deleted"}}),O=(e,t)=>e.state!==t.state||e.deleted!==t.deleted,w=a.default("div",{target:"e1f73a8u0"})({name:"mafsye",styles:"height:20px;& > div{height:20px;}"});class N extends e(m).Component{shouldComponentUpdate(e,t){const{isEditing:n,isReplying:r}=this.state,{isHighlighted:o,portal:i,comment:a,maxCommentNesting:s,renderEditor:l}=this.props;let u=!1;e.maxCommentNesting===s&&e.renderEditor===l||(u=!0);let d=[],f=!1;if("function"==typeof e.renderAdditionalCommentActions&&(d=e.renderAdditionalCommentActions(c.default,e.comment||a)||[]),g.default(d,this.additionalCommentActions)||(this.additionalCommentActions=d,f=!0),t.isEditing!==n||t.isReplying!==r||e.isHighlighted!==o||e.portal!==i||u||f)return!0;if(O(this.props.comment,e.comment))return!0;if(((e={id:""},t={id:""})=>e.id!==t.id)(this.props.user,e.user))return!0;const{comments:p=[]}=this.props,{comments:h=[]}=e;return p.length!==h.length||!!h.some((e=>{const[t]=p.filter((t=>t.commentId===e.commentId||t.localId===e.localId));return!t||O(t,e)}))}hideDeleteCommentModal(){this.setState({isDeleting:!1})}showDeleteCommentModal(e,t){this.deleteCommentAnalytics=t,this.setState({isDeleting:!0})}getContent(){const{comment:t,dataProviders:n,user:r,renderEditor:o,disableScrollTo:a,allowFeedbackAndHelpButtons:s,onEditorClose:c,onEditorOpen:l,portal:u,showBeforeUnloadWarning:d,objectId:f,features:p}=this.props,{isEditing:g}=this.state;if(t.deleted)return e(m).createElement(v.FormattedMessage,e(i)({tagName:"em"},T.deletedComment));const b=`${f}-${t.commentId}`,{rendererTTRSeverityTracking:y,unsupportedContentLevelsTracking:E,useSpecBasedValidator:x}=p;return g?e(m).createElement(C.default,{defaultValue:t.document.adf,isExpanded:!0,isEditing:g,onSave:this.onSaveEdit,onCancel:this.onCancelEdit,onClose:c,onOpen:l,onChange:this.handleCommentEditorChange,dataProviders:n,user:r,renderEditor:o,disableScrollTo:a,allowFeedbackAndHelpButtons:s,showBeforeUnloadWarning:d,draftLocalStorageKey:b}):e(m).createElement(h.default,{appearance:"comment",analyticsEventSeverityTracking:y,unsupportedContentLevelsTracking:E,useSpecBasedValidator:x,document:t.document.adf,dataProviders:n,disableHeadingIDs:!0,portal:u})}getAfterContent(){const{renderAfterComment:e,comment:t}=this.props;return"function"==typeof e?e(t):null}renderComments(){const{comment:t,comments:n,...r}=this.props;return n&&0!==n.length?n.map((t=>e(m).createElement(x.default,e(i)({key:t.localId,comment:t,renderComment:t=>e(m).createElement(N,t)},r)))):null}renderEditor(){const{isReplying:t}=this.state;if(!t)return null;const{dataProviders:n,user:r,renderEditor:o,disableScrollTo:i,allowFeedbackAndHelpButtons:a,onEditorClose:s,onEditorOpen:c,showBeforeUnloadWarning:l,comment:u,objectId:d}=this.props,f=`${d}-${u.commentId}-new`;return e(m).createElement(C.default,{isExpanded:!0,onCancel:this.onCancelReply,onSave:this.onSaveReply,dataProviders:n,onOpen:c,onClose:s,onChange:this.handleCommentEditorChange,user:r,renderEditor:o?this.renderEditorWithComment:void 0,disableScrollTo:i,allowFeedbackAndHelpButtons:a,showBeforeUnloadWarning:l,draftLocalStorageKey:f})}getActions(){const{comment:t,user:n,dataProviders:r,objectId:o,canModerateComment:i,showDeleteCommentDialog:a}=this.props,{isEditing:s}=this.state;if(!(!!n&&!s&&!t.deleted))return;const{createdBy:l,commentAri:u}=t;let d=[e(m).createElement(c.default,{key:"reply",onClick:this.onReply},"Reply")];const h=e(m).createElement(c.default,{key:"edit",onClick:this.onEdit},"Edit"),g=e(m).createElement(c.default,{key:"delete",onClick:a?this.showDeleteCommentModal:this.onDelete},"Delete");return l&&n&&n.id===l.id?d=[...d,h,g]:n&&i&&(d=[...d,g]),this.additionalCommentActions&&this.additionalCommentActions.length&&(d=[...d,...this.additionalCommentActions]),o&&u&&r&&r.hasProvider("reactionsStore")&&r.hasProvider("emojiProvider")&&(d=[...d,e(m).createElement(f.WithProviders,{key:"reactions",providers:["emojiProvider","reactionsStore"],providerFactory:r,renderNode:({emojiProvider:t,reactionsStore:n})=>void 0===t||void 0===n?null:e(m).createElement(w,null,e(m).createElement(p.default,{store:n,containerAri:o,ari:u,emojiProvider:t}))})]),d}renderAuthor(){const{comment:t,onUserClick:n,renderAuthorName:r}=this.props,{createdBy:o}=t;return r?r(o):e(m).createElement(l.default,{onClick:n&&this.handleUserClick(o),href:n?"#":o.profileUrl},o&&o.name)}renderAvatar(){const{comment:t,renderAuthorAvatar:n}=this.props,{createdBy:r}=t;return n?n(r):e(m).createElement(s.default,{src:r&&r.avatarUrl,href:r&&r.profileUrl,name:r&&r.name})}render(){const{comment:t,isHighlighted:n,disableScrollTo:r,maxCommentNesting:o}=this.props,{createdBy:i,state:a,error:s}=t,l={};s&&(l.actions=[],s.canRetry&&(l.actions=[e(m).createElement(c.default,{key:"retry",onClick:this.onRequestRetry},"Retry")]),l.actions=[...l.actions,e(m).createElement(c.default,{key:"cancel",onClick:this.onRequestCancel},"Cancel")],l.message=s.message);const f=this.renderComments(),p=this.renderEditor(),h=r?void 0:`comment-${t.commentId}`;return e(m).createElement(e(m).Fragment,null,e(m).createElement(b.ModalTransition,null,this.state.isDeleting&&e(m).createElement(S.default,{analyticsEvent:this.deleteCommentAnalytics,onHideModal:this.hideDeleteCommentModal,onConfirmDelete:this.onDelete})),e(m).createElement(u.default,{id:h,author:this.renderAuthor(),avatar:this.renderAvatar(),type:i&&i.type,time:e(m).createElement(d.default,{onClick:this.handleTimeClick,href:r?void 0:`#${h}`},e(m).createElement(E.RelativeDate,{date:new Date(t.createdAt)})),shouldRenderNestedCommentsInline:void 0!==o&&void 0!==t.nestedDepth&&t.nestedDepth>=o,actions:this.getActions(),content:this.getContent(),afterContent:this.getAfterContent(),isSaving:"SAVING"===a,isError:"ERROR"===a,errorActions:l.actions,errorIconLabel:l.message,highlighted:n},p||f?e(m).createElement("div",null,f,p):null))}constructor(e){super(e),this.additionalCommentActions=[],this.dispatch=(e,...t)=>{const n=this.props[e];n&&(n.apply(n,t),this.setState({lastDispatch:{handler:e,args:t}}))},this.onReply=(e,t)=>{const{objectId:n,containerId:r}=this.props;t&&k.fireEvent(t,{actionSubjectId:k.actionSubjectIds.replyButton,objectId:n,containerId:r}),this.setState({isReplying:!0})},this.onSaveReply=e=>{const{conversationId:t,comment:n,sendAnalyticsEvent:r}=this.props;r({actionSubjectId:k.actionSubjectIds.saveButton}),this.dispatch("onAddComment",t,n.commentId,e,(e=>{r({actionSubjectId:e,action:k.trackEventActions.created,eventType:k.eventTypes.TRACK,actionSubject:"comment",attributes:{nestedDepth:(n.nestedDepth||0)+1}})})),this.setState({isReplying:!1})},this.onCancelReply=()=>{this.props.sendAnalyticsEvent({actionSubjectId:k.actionSubjectIds.cancelButton}),this.setState({isReplying:!1})},this.onDelete=(e,t)=>{const{comment:{nestedDepth:n,commentId:r},objectId:o,containerId:i,sendAnalyticsEvent:a}=this.props;t&&k.fireEvent(t,{actionSubjectId:k.actionSubjectIds.deleteButton,objectId:o,containerId:i}),this.dispatch("onDeleteComment",r,(e=>{a({actionSubjectId:e,action:k.trackEventActions.deleted,eventType:k.eventTypes.TRACK,actionSubject:"comment",attributes:{nestedDepth:n||0}})}))},this.onEdit=(e,t)=>{const{objectId:n,containerId:r}=this.props;t&&k.fireEvent(t,{actionSubjectId:k.actionSubjectIds.editButton,objectId:n,containerId:r}),this.setState({isEditing:!0})},this.handleCommentEditorChange=e=>{const{comment:t}=this.props;this.dispatch("onEditorChange",e,t.commentId)},this.onSaveEdit=e=>{const{comment:t,sendAnalyticsEvent:n}=this.props;n({actionSubjectId:k.actionSubjectIds.saveButton}),this.dispatch("onUpdateComment",t.commentId,e,(e=>{n({actionSubjectId:e,action:k.trackEventActions.updated,eventType:k.eventTypes.TRACK,actionSubject:"comment",attributes:{nestedDepth:t.nestedDepth||0}})})),this.setState({isEditing:!1})},this.onCancelEdit=()=>{this.props.sendAnalyticsEvent({actionSubjectId:k.actionSubjectIds.cancelButton}),this.setState({isEditing:!1})},this.onRequestCancel=(e,t)=>{const{comment:n,onCancel:r,objectId:o,containerId:i}=this.props;r&&r(),t&&k.fireEvent(t,{actionSubjectId:k.actionSubjectIds.cancelFailedRequestButton,objectId:o,containerId:i}),this.dispatch("onRevertComment",n.conversationId,n.commentId)},this.onRequestRetry=(e,t)=>{const{lastDispatch:n}=this.state,{objectId:r,containerId:o,onRetry:i,comment:{localId:a,isPlaceholder:s}}=this.props;i&&s?i(null==a?void 0:a.toString()):(t&&k.fireEvent(t,{actionSubjectId:k.actionSubjectIds.retryFailedRequestButton,objectId:r,containerId:o}),n&&this.dispatch(n.handler,...n.args))},this.handleUserClick=e=>()=>{const{onUserClick:t}=this.props;t&&"function"==typeof t&&t(e)},this.renderEditorWithComment=(e,t)=>{const{comment:n,renderEditor:r}=this.props;return r(e,t,n)},this.handleTimeClick=e=>{const{comment:t,onHighlightComment:n,disableScrollTo:r}=this.props;!r&&t&&n&&n(e,t.commentId)},this.state={isEditing:!1,isDeleting:!1},this.hideDeleteCommentModal=this.hideDeleteCommentModal.bind(this),this.showDeleteCommentModal=this.showDeleteCommentModal.bind(this);const{comment:t,renderAdditionalCommentActions:n}=this.props;"function"==typeof n&&(this.additionalCommentActions=n(c.default,t)||[])}}const P=y.withFeature(y.FeatureKeys.rendererTTRSeverityTracking,y.FeatureFlagDefaultValues[y.FeatureKeys.rendererTTRSeverityTracking]),A=y.withFeature(y.FeatureKeys.unsupportedContentLevelsTracking,y.FeatureFlagDefaultValues[y.FeatureKeys.unsupportedContentLevelsTracking]),I=y.withFeature(y.FeatureKeys.useSpecBasedValidator,y.FeatureFlagDefaultValues[y.FeatureKeys.useSpecBasedValidator])(A(P(N)))})),r.register("2NAo1",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("c8JbF"),a=r("61szk"),s=r("fVwCb"),c=r("lOduM"),l=r("33ZOG"),u=r("dfLzZ"),d=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.actions,r=t.author,o=t.avatar,d=t.children,f=t.content,p=t.edited,h=t.errorActions,g=t.errorIconLabel,m=t.highlighted,v=t.isError,b=t.isSaving,y=t.restrictedTo,E=t.savingText,x=t.time,k=t.type,C=t.id,S=t.afterContent,T=t.shouldRenderNestedCommentsInline,O={author:r,edited:p,isError:v,isSaving:b,restrictedTo:y,savingText:E,time:x,type:k},w={actions:n,errorActions:h,errorIconLabel:g,isError:v,isSaving:b},N=e(a).createElement("div",null,e(a).createElement(l.default,i.__assign({},O)),e(a).createElement(s.Content,{isDisabled:b||v},f),e(a).createElement(c.default,i.__assign({},w)),S);return e(a).createElement(u.default,{shouldRenderNestedCommentsInline:T,id:C,avatar:o,content:N,highlighted:m},d)},n.defaultProps={actions:[],restrictedTo:"",highlighted:!1,isSaving:!1,savingText:"Sending...",isError:!1,errorActions:[],errorIconLabel:""},n}(a.Component),f=d})),r.register("fVwCb",(function(e,n){t(e.exports,"Content",(function(){return u}));var o,i=r("c8JbF"),a=r("SssiD"),s=r("c7NF2"),c=r("dQVLb"),l={text:{default:s.N800,disabled:s.N100A}},u=a.default.div(o||(o=i.__makeTemplateObject(["\n  color: ",";\n  margin-top: ","px;\n"],["\n  color: ",";\n  margin-top: ","px;\n"])),(function(e){return e.isDisabled?l.text.disabled:l.text.default}),c.gridSize()/2)})),r.register("c7NF2",(function(e,n){t(e.exports,"Y500",(function(){return s})),t(e.exports,"B100",(function(){return l})),t(e.exports,"N500",(function(){return h})),t(e.exports,"N800",(function(){return g})),t(e.exports,"N20A",(function(){return m})),t(e.exports,"N30A",(function(){return v})),t(e.exports,"N100A",(function(){return b})),t(e.exports,"skeleton",(function(){return k}));var o=r("9ilPn"),i="#FF5630",a="#FFAB00",s="#FF8B00",c="#36B37E",l="#4C9AFF",u="#2684FF",d="#0052CC",f="#FFFFFF",p="#6B778C",h="#42526E",g="#172B4D",m="rgba(9, 30, 66, 0.04)",v="rgba(9, 30, 66, 0.08)",b="rgba(9, 30, 66, 0.54)",y="#B8C7E0",E="#8C9CB8",x="#283447",k=(o.default({light:f,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:f,dark:x}),o.default({light:"#091E42",dark:y}),o.default({light:g,dark:y}),o.default({light:d,dark:d}),o.default({light:p,dark:E}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:g,dark:y}),o.default({light:p,dark:E}),o.default({light:"#F4F5F7",dark:x}),o.default({light:d,dark:l}),o.default({light:"#0065FF",dark:u}),o.default({light:"#0747A6",dark:l}),o.default({light:l,dark:u}),o.default({light:d,dark:l}),o.default({light:d,dark:l}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:c,dark:c}),function(){return m})})),r.register("9ilPn",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("8OEm6");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("8OEm6",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("dQVLb",(function(e,n){t(e.exports,"gridSize",(function(){return o}));r("iPgft"),r("SssiD"),r("c7NF2");var o=function(){return 8}})),r.register("iPgft",(function(e,n){t(e.exports,"__makeTemplateObject",(function(){return r}));Object.create;function r(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create})),r.register("lOduM",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("k8VDP"),s=r("F3OVj"),c=function(t){return t.map((function(t,n){return e(i).createElement(s.ActionsItem,{key:n},t)}))},l=function(t){var n=t.actions,r=t.errorActions,o=t.errorIconLabel,l=t.isError;if(t.isSaving||!n&&!r)return null;var u=l?r&&c(r):n&&c(n);return e(i).createElement(s.ActionsContainer,null,l?e(i).createElement(s.ErrorIcon,null,e(i).createElement(e(a),{label:o||""})):null,u)}})),r.register("F3OVj",(function(e,n){t(e.exports,"ActionsItem",(function(){return p})),t(e.exports,"ErrorIcon",(function(){return h})),t(e.exports,"ActionsContainer",(function(){return g}));var o,i,a,s=r("c8JbF"),c=r("SssiD"),l=r("c7NF2"),u=r("dQVLb"),d=r("2B13u"),f={text:{default:l.N500,error:l.Y500}},p=c.default.div(o||(o=s.__makeTemplateObject(["\n  display: flex;\n\n  & + &::before {\n    color: ",";\n    content: '\xb7';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"],["\n  display: flex;\n\n  & + &::before {\n    color: ",";\n    content: '\xb7';\n    display: inline-block;\n    text-align: center;\n    vertical-align: middle;\n    width: ","px;\n  }\n"])),f.text.default,d.actionsPadding),h=c.default.span(i||(i=s.__makeTemplateObject(["\n  color: ",";\n  padding-right: ","px;\n"],["\n  color: ",";\n  padding-right: ","px;\n"])),f.text.error,u.gridSize()),g=c.default.div(a||(a=s.__makeTemplateObject(["\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: ","px;\n"],["\n  align-items: center;\n  display: flex;\n  flex-wrap: wrap;\n  margin-top: ","px;\n"])),.75*u.gridSize())})),r.register("2B13u",(function(e,n){t(e.exports,"verticalPadding",(function(){return i})),t(e.exports,"actionsPadding",(function(){return a}));var o=r("dQVLb"),i=3.5*o.gridSize(),a=2*o.gridSize()})),r.register("33ZOG",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("iyTvp"),s=r("4Axf3"),c=r("jeeZn"),l=function(t){var n=t.author,r=t.edited,o=t.isError,l=t.isSaving,u=t.restrictedTo,d=t.savingText,f=t.time,p=t.type,h=u?e(i).createElement(c.Restricted,null,e(i).createElement(c.BulletSpacer,null,"\u2022"),e(i).createElement(c.RestrictedIconWrapper,null,e(i).createElement(e(a),{label:"",size:"small"}))," ",u):null,g=[n||null,p?e(i).createElement(s.default,null,p):null,!f||l||o?null:f,r||null,l?d:null,h].filter((function(e){return!!e})).map((function(t,n){return e(i).createElement(c.TopItem,{key:n},t)}));return g.length?e(i).createElement(c.TopItemsContainer,null,g):null}})),r.register("4Axf3",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("3UBdk"),h=r("aWuSW"),g=r("3BwrH");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"render",value:function(){var t=this.props,n=t.theme,r=t.children,o=t.testId;return e(f).createElement(p.Theme.Provider,{value:n},e(f).createElement(p.Theme.Consumer,this.props,(function(t){return e(f).createElement(h.default,e(i)({testId:o},t),e(f).createElement(g.default,t,r))})))}}]),r}(f.PureComponent);e(d)(v,"defaultProps",{isBold:!1,appearance:"default",maxWidth:200})})),r.register("3UBdk",(function(n,o){t(n.exports,"Theme",(function(){return g}));var i=r("EwJf3"),a=r("l15hj"),s=r("bbnYy");r("a8wFD");var c=r("f71Eo");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={default:{light:s.N40,dark:s.N40},inprogress:{light:s.B50,dark:s.B50},moved:{light:s.Y75,dark:s.Y75},new:{light:s.P50,dark:s.P50},removed:{light:s.R50,dark:s.R50},success:{light:s.G50,dark:s.G50}},f={default:{light:s.N500,dark:s.N500},inprogress:{light:s.B500,dark:s.B500},moved:{light:s.N800,dark:s.N800},new:{light:s.P500,dark:s.P500},removed:{light:s.R500,dark:s.R500},success:{light:s.G500,dark:s.G500}},p={default:{light:s.N500,dark:s.N500},inprogress:{light:s.B400,dark:s.B400},moved:{light:s.Y500,dark:s.Y500},new:{light:s.P400,dark:s.P400},removed:{light:s.R400,dark:s.R400},success:{light:s.G400,dark:s.G400}},h={default:{light:s.N0,dark:s.N0},inprogress:{light:s.N0,dark:s.N0},moved:{light:s.N800,dark:s.N800},new:{light:s.N0,dark:s.N0},removed:{light:s.N0,dark:s.N0},success:{light:s.N0,dark:s.N0}},g=c.createTheme((function(t){var n=t.appearance,r=t.isBold,o=t.maxWidth;return u(u({},"object"===e(i)(n)?u({backgroundColor:(r?p:d).default.light,textColor:(r?h:f).default.light},n):{backgroundColor:(r?p[n]:d[n]).light,textColor:(r?h[n]:f[n]).light}),{},{maxWidth:o})}))})),r.register("bbnYy",(function(e,n){t(e.exports,"R50",(function(){return i})),t(e.exports,"R400",(function(){return s})),t(e.exports,"R500",(function(){return c})),t(e.exports,"Y75",(function(){return l})),t(e.exports,"Y500",(function(){return d})),t(e.exports,"G50",(function(){return f})),t(e.exports,"G400",(function(){return h})),t(e.exports,"G500",(function(){return g})),t(e.exports,"B50",(function(){return m})),t(e.exports,"B100",(function(){return v})),t(e.exports,"B400",(function(){return y})),t(e.exports,"B500",(function(){return E})),t(e.exports,"P50",(function(){return x})),t(e.exports,"P400",(function(){return k})),t(e.exports,"P500",(function(){return C})),t(e.exports,"N0",(function(){return S})),t(e.exports,"N40",(function(){return T})),t(e.exports,"N500",(function(){return w})),t(e.exports,"N800",(function(){return N})),t(e.exports,"N30A",(function(){return P})),t(e.exports,"skeleton",(function(){return R}));var o=r("5vxDg"),i="#FFEBE6",a="#FF5630",s="#DE350B",c="#BF2600",l="#FFF0B3",u="#FFAB00",d="#FF8B00",f="#E3FCEF",p="#36B37E",h="#00875A",g="#006644",m="#DEEBFF",v="#4C9AFF",b="#2684FF",y="#0052CC",E="#0747A6",x="#EAE6FF",k="#5243AA",C="#403294",S="#FFFFFF",T="#DFE1E6",O="#6B778C",w="#42526E",N="#172B4D",P="rgba(9, 30, 66, 0.08)",A="#B8C7E0",I="#8C9CB8",D="#283447",R=(o.default({light:S,dark:"#1B2638"}),o.default({light:m,dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:S,dark:D}),o.default({light:"#091E42",dark:A}),o.default({light:N,dark:A}),o.default({light:y,dark:y}),o.default({light:O,dark:I}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:N,dark:A}),o.default({light:O,dark:I}),o.default({light:"#F4F5F7",dark:D}),o.default({light:y,dark:v}),o.default({light:"#0065FF",dark:b}),o.default({light:E,dark:v}),o.default({light:v,dark:b}),o.default({light:y,dark:v}),o.default({light:y,dark:v}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:a,dark:a}),o.default({light:u,dark:u}),o.default({light:p,dark:p}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("5vxDg",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("lCkxh");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("lCkxh",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("a8wFD",(function(e,n){t(e.exports,"createTheme",(function(){return r("f71Eo").createTheme}));r("f71Eo")})),r.register("f71Eo",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("aWuSW",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("eB44R"),s=r("kUrR6"),c="".concat(s.borderRadius(),"px"),l=function(t){var n=t.backgroundColor,r=t.textColor,o=t.children,s=t.testId;return e(i).createElement(a.CC,null,e(i).createElement(a.CS,null,["._bfhkaxbu{background-color:var(--_1ly4823)}","._2rko1nwa{border-radius:var(--_fer9fa)}","._vchhusvi{box-sizing:border-box}","._syaz1u00{color:var(--_srel9g)}","._1e0c1o8l{display:inline-block}","._1wyb1skh{font-size:11px}","._k48p1fw0{font-weight:700}","._vwz4kb7n{line-height:1}","._p12f1osq{max-width:100%}","._ca0qyh40{padding-top:2px}","._u5f3idpf{padding-right:0}","._n3td1l7b{padding-bottom:3px}","._19bvidpf{padding-left:0}","._1p1dangw{text-transform:uppercase}","._s7n41q9y{vertical-align:baseline}"]),e(i).createElement("span",{"data-testid":s,className:a.ax(["_bfhkaxbu _2rko1nwa _vchhusvi _syaz1u00 _1e0c1o8l _1wyb1skh _k48p1fw0 _vwz4kb7n _p12f1osq _ca0qyh40 _u5f3idpf _n3td1l7b _19bvidpf _1p1dangw _s7n41q9y"]),style:{"--_1ly4823":n,"--_fer9fa":c,"--_srel9g":r}},o))}})),r.register("kUrR6",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i}));r("T573J"),r("bbnYy");var o=function(){return 3},i=function(){return 8}})),r.register("T573J",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("kksk4");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("kksk4",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("3BwrH",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("eB44R"),s=r("kUrR6"),c="".concat(s.gridSize()/2,"px"),l=function(t){var n=t.maxWidth,r=t.children;return e(i).createElement(a.CC,null,e(i).createElement(a.CS,null,["._1e0c1o8l{display:inline-block}","._s7n4jp4b{vertical-align:top}","._1reo15vq{overflow-x:hidden}","._18m915vq{overflow-y:hidden}","._1bto1l2s{text-overflow:ellipsis}","._o5721q9c{white-space:nowrap}","._vchhusvi{box-sizing:border-box}","._ca0qidpf{padding-top:0}","._u5f370xm{padding-right:var(--_1xlms2h)}","._n3tdidpf{padding-bottom:0}","._19bv70xm{padding-left:var(--_1xlms2h)}","._p12fvyns{max-width:var(--_1w406pq)}","._1bsb1osq{width:100%}"]),e(i).createElement("span",{className:a.ax(["_1e0c1o8l _s7n4jp4b _1reo15vq _18m915vq _1bto1l2s _o5721q9c _vchhusvi _ca0qidpf _u5f370xm _n3tdidpf _19bv70xm _p12fvyns _1bsb1osq"]),style:{"--_1xlms2h":c,"--_1w406pq":"number"==typeof n?"".concat(n,"px"):n}},r))}})),r.register("jeeZn",(function(e,n){t(e.exports,"BulletSpacer",(function(){return l})),t(e.exports,"Restricted",(function(){return u})),t(e.exports,"RestrictedIconWrapper",(function(){return d})),t(e.exports,"TopItem",(function(){return v})),t(e.exports,"TopItemsContainer",(function(){return b}));var o=r("c8JbF"),i=r("SssiD"),a=r("c7NF2"),s=r("dQVLb"),c={Restricted:{text:a.N100A}},l=i.default.span(f||(f=o.__makeTemplateObject(["\n  padding-right: ","px;\n"],["\n  padding-right: ","px;\n"])),s.gridSize()/2),u=i.default.div(p||(p=o.__makeTemplateObject(["\n  color: ",";\n  display: flex;\n"],["\n  color: ",";\n  display: flex;\n"])),c.Restricted.text),d=i.default.span(h||(h=o.__makeTemplateObject(["\n  margin-right: ","px;\n"],["\n  margin-right: ","px;\n"])),s.gridSize()/2);d.displayName="RestrictedIconWrapper";var f,p,h,g,m,v=i.default.div(g||(g=o.__makeTemplateObject(["\n  display: inline-block;\n  margin-left: ","px;\n\n  [dir='rtl'] & {\n    margin-left: 0;\n    margin-right: ","px;\n  }\n\n  &:first-child {\n    margin-left: 0;\n\n    [dir='rtl'] & {\n      margin-right: 0;\n    }\n  }\n"],["\n  display: inline-block;\n  margin-left: ","px;\n\n  [dir='rtl'] & {\n    margin-left: 0;\n    margin-right: ","px;\n  }\n\n  &:first-child {\n    margin-left: 0;\n\n    [dir='rtl'] & {\n      margin-right: 0;\n    }\n  }\n"])),s.gridSize(),s.gridSize()),b=i.default.div(m||(m=o.__makeTemplateObject(["\n  display: flex;\n"],["\n  display: flex;\n"])))})),r.register("dfLzZ",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("c8JbF"),a=r("61szk"),s=r("kboFw"),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.renderAvatar=function(){var t=this.props.avatar;return t?e(a).createElement(s.AvatarSectionDiv,null,t):null},n.prototype.renderNestedComments=function(){var t=this.props.children;return t?e(a).createElement(s.NestedCommentsDiv,null,t):null},n.prototype.render=function(){var t=this.props,n=t.content,r=t.highlighted,o=t.id,i=t.shouldRenderNestedCommentsInline;return e(a).createElement(s.Container,{id:o,shouldRenderNestedCommentsInline:i},this.renderAvatar(),e(a).createElement(s.ContentSectionDiv,null,n),this.renderNestedComments(),r&&e(a).createElement(s.Highlight,null))},n}(a.Component),l=c})),r.register("kboFw",(function(e,n){t(e.exports,"AvatarSectionDiv",(function(){return g})),t(e.exports,"Container",(function(){return m})),t(e.exports,"ContentSectionDiv",(function(){return v})),t(e.exports,"Highlight",(function(){return b})),t(e.exports,"NestedCommentsDiv",(function(){return y}));var o,i,a,s,c,l=r("c8JbF"),u=r("SssiD"),d=r("c7NF2"),f=r("dQVLb"),p=r("2B13u"),h={Highlight:{background:d.N20A}},g=u.default.div(o||(o=l.__makeTemplateObject(["\n  /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  /* stylelint-enable */\n  grid-area: avatar-area;\n  /* Unfortunately it's still easier to use a margin here until MS supports grid-gap */\n  margin-right: ","px;\n\n  [dir='rtl'] & {\n    margin-left: ","px;\n    margin-right: 0;\n  }\n"],["\n  /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n  /* stylelint-disable value-no-vendor-prefix */\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  /* stylelint-enable */\n  grid-area: avatar-area;\n  /* Unfortunately it's still easier to use a margin here until MS supports grid-gap */\n  margin-right: ","px;\n\n  [dir='rtl'] & {\n    margin-left: ","px;\n    margin-right: 0;\n  }\n"])),f.gridSize(),f.gridSize()),m=u.default.div(i||(i=l.__makeTemplateObject(["\n  /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: auto 1fr;\n  /* stylelint-enable */\n  grid-template:\n    'avatar-area comment-area'\n    '"," nested-comments-area'\n    / auto 1fr;\n  padding-top: ","px;\n  position: relative;\n\n  /* We need both selectors as there is not a common wrapper component around\n  comments. We also provide isFirst as an escape hatch. */\n  &:first-child,\n  &:first-of-type {\n    padding-top: 0;\n  }\n"],["\n  /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n  display: -ms-grid;\n  display: grid;\n  -ms-grid-columns: auto 1fr;\n  /* stylelint-enable */\n  grid-template:\n    'avatar-area comment-area'\n    '"," nested-comments-area'\n    / auto 1fr;\n  padding-top: ","px;\n  position: relative;\n\n  /* We need both selectors as there is not a common wrapper component around\n  comments. We also provide isFirst as an escape hatch. */\n  &:first-child,\n  &:first-of-type {\n    padding-top: 0;\n  }\n"])),(function(e){return e.shouldRenderNestedCommentsInline?"nested-comments-area":"."}),p.verticalPadding),v=u.default.div(a||(a=l.__makeTemplateObject(["\n  -ms-grid-row: 1;\n  -ms-grid-column: 2;\n  grid-area: comment-area;\n  margin-top: ","px;\n  /* Required for word-wrap: break-word to work in a grid */\n  min-width: 0;\n  word-wrap: break-word;\n"],["\n  -ms-grid-row: 1;\n  -ms-grid-column: 2;\n  grid-area: comment-area;\n  margin-top: ","px;\n  /* Required for word-wrap: break-word to work in a grid */\n  min-width: 0;\n  word-wrap: break-word;\n"])),.25*f.gridSize()),b=u.default.div(s||(s=l.__makeTemplateObject(["\n  background: ",";\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  -ms-grid-column-span: 2;\n  grid-area: 1 / 1 / 2 / 3;\n  height: 100%;\n  padding: ","px ","px ","px;\n  transform: translate(-","px, -","px);\n  width: 100%;\n\n  [dir='rtl'] & {\n    transform: translate(","px, -","px);\n  }\n  pointer-events: none;\n"],["\n  background: ",";\n  -ms-grid-row: 1;\n  -ms-grid-column: 1;\n  -ms-grid-column-span: 2;\n  grid-area: 1 / 1 / 2 / 3;\n  height: 100%;\n  padding: ","px ","px ","px;\n  transform: translate(-","px, -","px);\n  width: 100%;\n\n  [dir='rtl'] & {\n    transform: translate(","px, -","px);\n  }\n  pointer-events: none;\n"])),h.Highlight.background,f.gridSize(),f.gridSize(),f.gridSize()/2,f.gridSize(),f.gridSize(),f.gridSize(),f.gridSize()),y=u.default.div(c||(c=l.__makeTemplateObject(["\n  -ms-grid-row: 2;\n  -ms-grid-column: 2;\n  grid-area: nested-comments-area;\n  margin-top: ","px;\n"],["\n  -ms-grid-row: 2;\n  -ms-grid-column: 2;\n  grid-area: nested-comments-area;\n  margin-top: ","px;\n"])),p.verticalPadding)})),r.register("gPpO5",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("c8JbF"),a=r("61szk"),s=r("izGl7"),c=r("7HEfz"),l=r("2Uoni"),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.onClick,o=t.onFocus,i=t.onMouseOver,s=t.isDisabled;return e(a).createElement("span",{onClick:r,onFocus:o,onMouseOver:i},e(a).createElement(c.default,{appearance:"subtle-link",spacing:"none",type:"button",isDisabled:s},n))},n}(a.Component),d=s.createAndFireEvent("atlaskit"),f=s.withAnalyticsContext({componentName:"commentAction",packageName:l.name,packageVersion:l.version})(s.withAnalyticsEvents({onClick:d({action:"clicked",actionSubject:"commentAction",attributes:{componentName:"commentAction",packageName:l.name,packageVersion:l.version}})})(u))})),r.register("2Uoni",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/comment","version":"10.0.0","sideEffects":false}')})),r.register("29aOV",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("c8JbF"),a=r("61szk"),s=r("izGl7"),c=r("2Uoni"),l=r("iUraG"),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.href,o=t.onClick,i=t.onFocus,s=t.onMouseOver;return e(a).createElement(l.default,{hasAuthor:!0,href:r,onClick:o,onFocus:i,onMouseOver:s},n)},n}(a.Component),d=s.createAndFireEvent("atlaskit"),f=s.withAnalyticsContext({componentName:"commentAuthor",packageName:c.name,packageVersion:c.version})(s.withAnalyticsEvents({onClick:d({action:"clicked",actionSubject:"commentAuthor",attributes:{componentName:"commentAuthor",packageName:c.name,packageVersion:c.version}})})(u))})),r.register("iUraG",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("c8JbF"),a=r("61szk"),s=r("biqJY"),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.hasAuthor,o=t.href,i=t.onClick,c=t.onFocus,l=t.onMouseOver;return o?e(a).createElement(s.Anchor,{href:o,hasAuthor:r,onClick:i,onFocus:c,onMouseOver:l},n):e(a).createElement(s.Span,{hasAuthor:r,onClick:i,onFocus:c,onMouseOver:l},n)},n}(a.Component),l=c})),r.register("biqJY",(function(e,n){t(e.exports,"Anchor",(function(){return d})),t(e.exports,"Span",(function(){return f}));var o,i,a,s=r("c8JbF"),c=r("SssiD"),l={text:r("c7NF2").N500},u=function(e){var t=e.hasAuthor;return c.css(o||(o=s.__makeTemplateObject(["\n  &:not(:hover):not(:active) {\n    color: ",";\n  }\n  font-weight: ",";\n"],["\n  &:not(:hover):not(:active) {\n    color: ",";\n  }\n  font-weight: ",";\n"])),l.text,t?500:"inherit")},d=c.default.a(i||(i=s.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return u(e)})),f=c.default.span(a||(a=s.__makeTemplateObject(["\n  ",";\n"],["\n  ",";\n"])),(function(e){return u(e)}))})),r.register("2QDIf",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("c8JbF"),a=r("61szk"),s=r("izGl7"),c=r("2Uoni"),l=r("iUraG"),u=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.children,r=t.href,o=t.onClick,i=t.onFocus,s=t.onMouseOver;return e(a).createElement(l.default,{href:r,onClick:o,onFocus:i,onMouseOver:s},n)},n}(a.Component),d=s.createAndFireEvent("atlaskit"),f=s.withAnalyticsContext({componentName:"commentTime",packageName:c.name,packageVersion:c.version})(s.withAnalyticsEvents({onClick:d({action:"clicked",actionSubject:"commentTime",attributes:{componentName:"commentTime",packageName:c.name,packageVersion:c.version}})})(u))})),r.register("igW5C",(function(e,n){t(e.exports,"ErrorReporter",(function(){return r("9ztLe").default})),t(e.exports,"ZERO_WIDTH_SPACE",(function(){return r("b6rQF").ZERO_WIDTH_SPACE})),t(e.exports,"absoluteBreakoutWidth",(function(){return r("3cpVm").absoluteBreakoutWidth})),t(e.exports,"browser",(function(){return r("4W5Y2").default})),t(e.exports,"calcBreakoutWidth",(function(){return r("3cpVm").calcBreakoutWidth})),t(e.exports,"breakoutConsts",(function(){return r("3cpVm").breakoutConsts})),t(e.exports,"calcTableColumnWidths",(function(){return r("85bzS").calcTableColumnWidths})),t(e.exports,"clearMeasure",(function(){return r("6qQ9w").clearMeasure})),t(e.exports,"compose",(function(){return r("kTFTI").compose})),t(e.exports,"convertProsemirrorTableNodeToArrayOfRows",(function(){return r("85bzS").convertProsemirrorTableNodeToArrayOfRows})),t(e.exports,"createCompareNodes",(function(){return r("gAG1i").createCompareNodes})),t(e.exports,"findAndTrackUnsupportedContentNodes",(function(){return r("g15pd").findAndTrackUnsupportedContentNodes})),t(e.exports,"getAnalyticsAppearance",(function(){return r("a8mog").getAnalyticsAppearance})),t(e.exports,"analyticsEventKey",(function(){return r("a8mog").analyticsEventKey})),t(e.exports,"getAnalyticsEventSeverity",(function(){return r("a8mog").getAnalyticsEventSeverity})),t(e.exports,"getUnsupportedContentLevelData",(function(){return r("d4LwY").getUnsupportedContentLevelData})),t(e.exports,"getExtensionLozengeData",(function(){return r("kRzSS").getExtensionLozengeData})),t(e.exports,"getExtensionRenderer",(function(){return r("k7U83").getExtensionRenderer})),t(e.exports,"getMarksByOrder",(function(){return r("f2gHX").getMarksByOrder})),t(e.exports,"getResponseEndTime",(function(){return r("4cO4S").getResponseEndTime})),t(e.exports,"getValidNode",(function(){return r("f2gHX").getValidNode})),t(e.exports,"hasMergedCell",(function(){return r("85bzS").hasMergedCell})),t(e.exports,"isPastDate",(function(){return r("fPzQr").isPastDate})),t(e.exports,"isPerformanceAPIAvailable",(function(){return r("iJTyt").isPerformanceAPIAvailable})),t(e.exports,"isPerformanceObserverAvailable",(function(){return r("iJTyt").isPerformanceObserverAvailable})),t(e.exports,"isSameMark",(function(){return r("f2gHX").isSameMark})),t(e.exports,"measureRender",(function(){return r("f7OFS").measureRender})),t(e.exports,"startMeasure",(function(){return r("6qQ9w").startMeasure})),t(e.exports,"stopMeasure",(function(){return r("6qQ9w").stopMeasure})),t(e.exports,"measureTTI",(function(){return r("aIzHR").measureTTI})),t(e.exports,"getTTISeverity",(function(){return r("aIzHR").getTTISeverity})),t(e.exports,"timestampToIsoFormat",(function(){return r("fPzQr").timestampToIsoFormat})),t(e.exports,"timestampToString",(function(){return r("fPzQr").timestampToString})),t(e.exports,"timestampToTaskContext",(function(){return r("fPzQr").timestampToTaskContext})),t(e.exports,"timestampToUTCDate",(function(){return r("fPzQr").timestampToUTCDate})),t(e.exports,"todayTimestampInUTC",(function(){return r("fPzQr").todayTimestampInUTC})),t(e.exports,"withImageLoader",(function(){return r("lOleA").withImageLoader})),t(e.exports,"canApplyAnnotationOnRange",(function(){return r("2PqpS").canApplyAnnotationOnRange})),t(e.exports,"getAnnotationIdsFromRange",(function(){return r("2PqpS").getAnnotationIdsFromRange})),t(e.exports,"shouldForceTracking",(function(){return r("brEbx").shouldForceTracking})),t(e.exports,"sniffUserBrowserExtensions",(function(){return r("4XiPG").sniffUserBrowserExtensions})),t(e.exports,"SortOrder",(function(){return r("62p8w").SortOrder})),t(e.exports,"AnnotationUpdateEvent",(function(){return r("57vEr").AnnotationUpdateEvent})),t(e.exports,"combineExtensionProviders",(function(){return r("9MsCq").default})),t(e.exports,"getExtensionModuleNodePrivateProps",(function(){return r("kn8yN").getExtensionModuleNodePrivateProps})),t(e.exports,"getQuickInsertItemsFromModule",(function(){return r("ecVYb").getQuickInsertItemsFromModule})),t(e.exports,"getNodeRenderer",(function(){return r("kn8yN").getNodeRenderer})),t(e.exports,"getContextualToolbarItemsFromModule",(function(){return r("ecVYb").getContextualToolbarItemsFromModule})),t(e.exports,"resolveImport",(function(){return r("eESSH").resolveImport})),t(e.exports,"ProviderFactory",(function(){return r("g4Rxo").default})),t(e.exports,"WithProviders",(function(){return r("MsgJD").WithProviders})),t(e.exports,"combineProviders",(function(){return r("1puJP").default})),t(e.exports,"TableSharedCssClassName",(function(){return r("jPV1L").TableSharedCssClassName})),t(e.exports,"blockMarksSharedStyles",(function(){return r("1CZPU").blockMarksSharedStyles})),t(e.exports,"blockquoteSharedStyles",(function(){return r("5JmTc").blockquoteSharedStyles})),t(e.exports,"calcTableWidth",(function(){return r("jPV1L").calcTableWidth})),t(e.exports,"codeMarkSharedStyles",(function(){return r("f6SCn").codeMarkSharedStyles})),t(e.exports,"columnLayoutSharedStyle",(function(){return r("b9XJZ").columnLayoutSharedStyle})),t(e.exports,"dateSharedStyle",(function(){return r("6zqMi").dateSharedStyle})),t(e.exports,"DateSharedCssClassName",(function(){return r("6zqMi").DateSharedCssClassName})),t(e.exports,"annotationSharedStyles",(function(){return r("kDGkE").annotationSharedStyles})),t(e.exports,"AnnotationSharedCSSByState",(function(){return r("kDGkE").AnnotationSharedCSSByState})),t(e.exports,"AnnotationSharedClassNames",(function(){return r("kDGkE").AnnotationSharedClassNames})),t(e.exports,"headingsSharedStyles",(function(){return r("cQf9L").headingsSharedStyles})),t(e.exports,"indentationSharedStyles",(function(){return r("gY7bO").indentationSharedStyles})),t(e.exports,"inlineNodeSharedStyle",(function(){return r("c7GqT").inlineNodeSharedStyle})),t(e.exports,"linkSharedStyle",(function(){return r("jTCDl").linkSharedStyle})),t(e.exports,"listsSharedStyles",(function(){return r("bUt3T").listsSharedStyles})),t(e.exports,"richMediaClassName",(function(){return r("kIH45").richMediaClassName})),t(e.exports,"mediaSingleSharedStyle",(function(){return r("kIH45").mediaSingleSharedStyle})),t(e.exports,"getPanelTypeBackground",(function(){return r("5AXQ3").getPanelTypeBackground})),t(e.exports,"panelSharedStyles",(function(){return r("5AXQ3").panelSharedStyles})),t(e.exports,"PanelSharedCssClassName",(function(){return r("5AXQ3").PanelSharedCssClassName})),t(e.exports,"paragraphSharedStyles",(function(){return r("l9pPY").paragraphSharedStyles})),t(e.exports,"ruleSharedStyles",(function(){return r("ddFg9").ruleSharedStyles})),t(e.exports,"shadowSharedStyle",(function(){return r("62D4f").shadowSharedStyle})),t(e.exports,"tableCellBorderWidth",(function(){return r("jPV1L").tableCellBorderWidth})),t(e.exports,"tableCellMinWidth",(function(){return r("jPV1L").tableCellMinWidth})),t(e.exports,"tableCellPadding",(function(){return r("jPV1L").tableCellPadding})),t(e.exports,"tableMarginBottom",(function(){return r("jPV1L").tableMarginBottom})),t(e.exports,"tableMarginSides",(function(){return r("jPV1L").tableMarginSides})),t(e.exports,"tableMarginTop",(function(){return r("jPV1L").tableMarginTop})),t(e.exports,"tableNewColumnMinWidth",(function(){return r("jPV1L").tableNewColumnMinWidth})),t(e.exports,"tableSharedStyle",(function(){return r("jPV1L").tableSharedStyle})),t(e.exports,"tasksAndDecisionsStyles",(function(){return r("1FVDX").tasksAndDecisionsStyles})),t(e.exports,"TaskDecisionSharedCssClassName",(function(){return r("1FVDX").TaskDecisionSharedCssClassName})),t(e.exports,"whitespaceSharedStyles",(function(){return r("i9jUF").whitespaceSharedStyles})),t(e.exports,"MentionSharedCssClassName",(function(){return r("7Pk9F").MentionSharedCssClassName})),t(e.exports,"EmojiSharedCssClassName",(function(){return r("gAjXI").EmojiSharedCssClassName})),t(e.exports,"StatusSharedCssClassName",(function(){return r("l2Sdj").StatusSharedCssClassName})),t(e.exports,"smartCardSharedStyles",(function(){return r("ixNv2").smartCardSharedStyles})),t(e.exports,"SmartCardSharedCssClassName",(function(){return r("ixNv2").SmartCardSharedCssClassName})),t(e.exports,"BaseTheme",(function(){return r("5ZnAd").BaseTheme})),t(e.exports,"Caption",(function(){return r("cvuuR").default})),t(e.exports,"ClearNextSiblingMarginTop",(function(){return r("1SpVy").ClearNextSiblingMarginTop})),t(e.exports,"DEFAULT_IMAGE_HEIGHT",(function(){return r("5HbdK").DEFAULT_IMAGE_HEIGHT})),t(e.exports,"DEFAULT_IMAGE_WIDTH",(function(){return r("5HbdK").DEFAULT_IMAGE_WIDTH})),t(e.exports,"Emoji",(function(){return r("9YWJg").default})),t(e.exports,"ErrorMessage",(function(){return r("bTfdG").ErrorMessage})),t(e.exports,"ExpandIconWrapper",(function(){return r("iTrTE").ExpandIconWrapper})),t(e.exports,"ExpandLayoutWrapper",(function(){return r("iTrTE").ExpandLayoutWrapper})),t(e.exports,"MediaSingle",(function(){return r("5HbdK").default})),t(e.exports,"MediaSingleDimensionHelper",(function(){return r("2wi7d").MediaSingleDimensionHelper})),t(e.exports,"Mention",(function(){return r("7oe8u").default})),t(e.exports,"Popup",(function(){return r("5Dx14").default})),t(e.exports,"UnsupportedBlock",(function(){return r("isabZ").default})),t(e.exports,"UnsupportedInline",(function(){return r("lFBSu").default})),t(e.exports,"WidthConsumer",(function(){return r("jZsbJ").WidthConsumer})),t(e.exports,"WidthProvider",(function(){return r("jZsbJ").WidthProvider})),t(e.exports,"WithCreateAnalyticsEvent",(function(){return r("lL7z1").WithCreateAnalyticsEvent})),t(e.exports,"calcColumnsFromPx",(function(){return r("jWbVn").calcColumnsFromPx})),t(e.exports,"calcPctFromPx",(function(){return r("jWbVn").calcPctFromPx})),t(e.exports,"calcPxFromColumns",(function(){return r("jWbVn").calcPxFromColumns})),t(e.exports,"calcPxFromPct",(function(){return r("jWbVn").calcPxFromPct})),t(e.exports,"expandMessages",(function(){return r("iTrTE").messages})),t(e.exports,"findOverflowScrollParent",(function(){return r("a0H0L").findOverflowScrollParent})),t(e.exports,"getBreakpoint",(function(){return r("jZsbJ").getBreakpoint})),t(e.exports,"mapBreakpointToLayoutMaxWidth",(function(){return r("5ZnAd").mapBreakpointToLayoutMaxWidth})),t(e.exports,"overflowShadow",(function(){return r("bjJO8").default})),t(e.exports,"shadowClassNames",(function(){return r("bjJO8").shadowClassNames})),t(e.exports,"sharedExpandStyles",(function(){return r("iTrTE").sharedExpandStyles})),t(e.exports,"MediaLink",(function(){return r("aJmni").MediaLink})),t(e.exports,"wrappedLayouts",(function(){return r("5HbdK").wrappedLayouts})),t(e.exports,"shouldAddDefaultWrappedWidth",(function(){return r("5HbdK").shouldAddDefaultWrappedWidth})),t(e.exports,"validateADFEntity",(function(){return r("iVDdY").validateADFEntity}));r("9ztLe"),r("b6rQF"),r("3cpVm"),r("4W5Y2"),r("85bzS"),r("6qQ9w"),r("kTFTI"),r("gAG1i"),r("g15pd"),r("a8mog"),r("d4LwY"),r("kRzSS"),r("k7U83"),r("f2gHX"),r("4cO4S"),r("fPzQr"),r("iJTyt"),r("f7OFS"),r("aIzHR"),r("lOleA"),r("2PqpS"),r("brEbx"),r("4XiPG"),r("62p8w"),r("57vEr");r("5Nf4u");r("9MsCq"),r("eESSH"),r("kn8yN"),r("ecVYb");r("9w2Xf");r("g4Rxo"),r("MsgJD"),r("1puJP"),r("jPV1L"),r("1CZPU"),r("5JmTc"),r("f6SCn"),r("b9XJZ"),r("6zqMi"),r("kDGkE"),r("cQf9L"),r("gY7bO"),r("c7GqT"),r("jTCDl"),r("bUt3T"),r("kIH45"),r("5AXQ3"),r("l9pPY"),r("ddFg9"),r("62D4f"),r("1FVDX"),r("i9jUF"),r("7Pk9F"),r("gAjXI"),r("l2Sdj"),r("ixNv2"),r("5ZnAd"),r("cvuuR"),r("1SpVy"),r("5HbdK"),r("9YWJg"),r("bTfdG"),r("iTrTE"),r("2wi7d"),r("7oe8u"),r("5Dx14"),r("isabZ"),r("lFBSu"),r("jZsbJ"),r("lL7z1"),r("jWbVn"),r("a0H0L"),r("bjJO8"),r("aJmni"),r("iVDdY")})),r.register("2PqpS",(function(e,n){t(e.exports,"canApplyAnnotationOnRange",(function(){return r})),t(e.exports,"getAnnotationIdsFromRange",(function(){return o}));var r=function(e,t,n){var r=e.from,o=e.to;if(isNaN(r+o)||o-r<=0||o<0||r<0)return!1;var i=!1;return t.nodesBetween(e.from,e.to,(function(e,t,r){return n.nodes.hardBreak!==e.type&&(!(e.isInline&&!e.isText||e.isLeaf&&!e.isText||e.isText&&!r.type.allowsMarkType(n.marks.annotation))||(i=!0,!1))})),!i},o=function(e,t,n){var r=e.from,o=e.to,i=new Set;return t.nodesBetween(r,o,(function(e){return!e.marks||(e.marks.forEach((function(e){e.type===n.marks.annotation&&e.attrs&&i.add(e.attrs.id)})),!0)})),Array.from(i)}})),r.register("kRzSS",(function(e,n){t(e.exports,"getExtensionLozengeData",(function(){return r}));var r=function(e){var t=e.node,n=e.type;if(t.attrs.parameters){var r,o=t.attrs.parameters.macroMetadata;if(o&&o.placeholder)return o.placeholder.forEach((function(e){e.type===n&&e.data&&e.data.url&&(r=e.data)})),r}}})),r.register("f2gHX",(function(n,o){t(n.exports,"getMarksByOrder",(function(){return f})),t(n.exports,"isSameMark",(function(){return p})),t(n.exports,"getValidDocument",(function(){return h})),t(n.exports,"getValidNode",(function(){return C}));var i=r("l15hj"),a=r("fw3Q6"),s=r("ekJGA");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=["link","em","strong","textColor","strike","subsup","underline","code","confluenceInlineComment","annotation","dataConsumer"],d=function(e){return"sub"===e||"sup"===e},f=function(t){return e(a)(t).sort((function(e,t){return u.indexOf(e.type.name)-u.indexOf(t.type.name)}))},p=function(e,t){return!(!e||!t)&&e.eq(t)},h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.defaultSchema,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",r=C(e,t,n);return"doc"===r.type?(r.content=g(r.content),r):null},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e){return s.inlineNodes.has(e.type)?{type:"paragraph",content:[e]}:e}))},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.defaultSchema,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final";return e.map((function(e){return C(e,t,n)}))},v=/^#[0-9a-fA-F]{6}$/,b=/^\//,y=/^#/,E=function t(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.defaultSchema,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",i=[],c=!1,l=0;l<n.content.length;l++){var u=n.content[l],d=!(u.content&&u.content.length);l>0&&(c?i.push({type:"text",text:" "}):i.push({type:"hardBreak"})),d?i.push(C(u,r,o)):i.push.apply(i,e(a)(t(u,r,o))),c=d}return i},x=function(e){var t=e.attrs,n=void 0===t?{}:t,r=e.content,o=e.text,i=e.type;if(!r||!r.length){var a={type:"text",text:o||n.text||"[".concat(i,"]")},c=n.textUrl;return c&&s.isSafeUrl(c)&&(a.marks=[{type:"link",attrs:{href:c}}]),a}return{type:"unknownBlock",content:E(e)}},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final";return e&&e.length>0?e.reduce((function(e,n){var r=S(n,t);return r&&e.push(r),e}),[]):e},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.defaultSchema,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"final",r=e.attrs,o=e.marks,i=e.text,a=e.type,c=e.content,u={attrs:r,marks:o,text:i,type:a};if(c&&(u.content=c=m(c,t,n)),!t.nodes[a])return x(u);if(a)switch(a){case"doc":var d=e,f=d.version;if(f&&c&&c.length)return{type:a,content:c};break;case"codeBlock":return c&&(c=c.reduce((function(e,t){return"text"===t.type&&e.push({type:t.type,text:t.text}),e}),[])),r&&r.language?{type:a,attrs:r,content:c,marks:o}:{type:a,content:c,marks:o};case"date":if(r&&r.timestamp)return{type:a,attrs:r};break;case"status":if(r&&r.text&&r.color)return{type:a,attrs:r};break;case"emoji":if(r&&r.shortName)return{type:a,attrs:r};break;case"inlineExtension":case"extension":if(r&&r.extensionType&&r.extensionKey)return{type:a,attrs:r};break;case"inlineCard":case"blockCard":if(r&&(r.url&&s.isSafeUrl(r.url)||r.data&&r.data.url&&s.isSafeUrl(r.data.url)))return{type:a,attrs:r};break;case"embedCard":if(r&&(r.url&&s.isSafeUrl(r.url)||r.data&&r.data.url&&s.isSafeUrl(r.data.url))&&r.layout)return{type:a,attrs:r};break;case"bodiedExtension":if(r&&r.extensionType&&r.extensionKey&&c)return{type:a,attrs:r,content:c};break;case"hardBreak":case"rule":return{type:a};case"caption":if(c&&"stage0"===n)return{type:a,content:c};break;case"media":var p="",h="",v=[],b="";if(r){var y=r.id,E=r.collection,C=r.type,S=r.url;p=y,h=C,v=E,b=S}if("external"===h&&b){var T={type:h,url:b,width:r.width,height:r.height};return r.alt&&(T.alt=r.alt),{type:a,attrs:T}}if(p&&h){var O={type:h,id:p,collection:v};r.width&&(O.width=r.width),r.height&&(O.height=r.height),r.alt&&(O.alt=r.alt);var w=k(o,n);return w?{type:a,attrs:O,marks:w}:{type:a,attrs:O}}break;case"mediaGroup":if(Array.isArray(c)&&!c.some((function(e){return"media"!==e.type})))return{type:a,content:c};break;case"mediaSingle":var N=Array.isArray(c)&&1===c.length&&"media"===c[0].type,P=Array.isArray(c)&&2===c.length&&"media"===c[0].type&&"caption"===c[1].type;if(N||P)return{type:a,attrs:r,content:c,marks:k(o,n)};break;case"mention":var A,I,D="";if(r){var R=r.text,M=r.displayName,_=r.id,j=r.accessLevel;D=R||M,A=_,I=j}if(D||(D=i||"@unknown"),D&&A){var B={type:a,attrs:{id:A,text:D,accessLevel:""}};return I&&(B.attrs.accessLevel=I),B}break;case"paragraph":return o?{type:a,content:c||[],marks:o}:{type:a,content:c||[]};case"text":var L=u.marks;if(i)return L?{type:a,text:i,marks:k(L,n)}:{type:a,text:i};break;case"heading":if(r){var F=r.level,z=function(e,t,n){return e>=t&&e<=n};if(F&&z(F,1,6))return o?{type:a,content:c,marks:o,attrs:{level:F}}:{type:a,content:c,attrs:{level:F}}}break;case"bulletList":case"blockquote":if(c)return{type:a,content:c};break;case"orderedList":if(c)return{type:a,content:c,attrs:{order:r&&r.order}};break;case"listItem":if(c)return{type:a,content:g(c)};break;case"panel":if(r&&c){var W=r.panelType,U=r.panelIcon,H=r.panelColor;if(Object.values(s.PanelType).includes(W)){var V="stage0"===n?{panelType:W,panelIcon:U,panelColor:H}:{panelType:W};return{type:a,attrs:V,content:c}}}break;case"layoutSection":if(c)return{type:a,marks:o,content:c};break;case"layoutColumn":if(r&&c&&r.width>0&&r.width<=100)return{type:a,content:c,attrs:r};break;case"decisionList":case"taskList":return{type:a,content:c,attrs:{localId:r&&r.localId||s.generateUuid()}};case"decisionItem":return{type:a,content:c,attrs:{localId:r&&r.localId||s.generateUuid(),state:r&&r.state||"DECIDED"}};case"taskItem":return{type:a,content:c,attrs:{localId:r&&r.localId||s.generateUuid(),state:r&&r.state||"TODO"}};case"table":if(Array.isArray(c)&&c.length>0&&!c.some((function(e){return"tableRow"!==e.type})))return"stage0"===n?{type:a,content:c,attrs:l(l({},r),{},{localId:(null==r?void 0:r.localId)||s.generateUuid()})}:{type:a,content:c,attrs:r};break;case"tableRow":if(Array.isArray(c)&&c.length>0&&!c.some((function(e){return"tableCell"!==e.type&&"tableHeader"!==e.type})))return{type:a,content:c};break;case"tableCell":case"tableHeader":if(c){var K={};return r&&(r.colspan&&r.colspan>1&&(K.colspan=r.colspan),r.rowspan&&r.rowspan>1&&(K.rowspan=r.rowspan),r.background&&(K.background=r.background),r.colwidth&&Array.isArray(r.colwidth)&&(K.colwidth=r.colwidth)),{type:a,content:g(c),attrs:r?K:void 0}}break;case"image":if(r&&r.src)return{type:a,attrs:r};break;case"placeholder":if(r&&void 0!==r.text)return{type:a,attrs:r};break;case"expand":case"nestedExpand":return{type:a,attrs:r,content:c,marks:o}}return x(u)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"final",n=e.attrs,r=e.type;if(r)switch(r){case"code":case"em":case"strike":case"strong":case"underline":return{type:r};case"link":if(n){var o=n.href,i=n.url,a=n.__confluenceMetadata,c=o||i;!c||-1!==c.indexOf(":")||b.test(c)||y.test(c)||(c="http://".concat(c));var l={href:c};if(a&&(l.__confluenceMetadata=a),c&&s.isSafeUrl(c))return{type:r,attrs:l}}break;case"subsup":if(n&&n.type){var u=n.type;if(d(u))return{type:r,attrs:{type:u}}}break;case"textColor":if(n&&v.test(n.color))return{type:r,attrs:n};break;case"annotation":return{type:r,attrs:n}}if("stage0"===t)switch(r){case"confluenceInlineComment":case"dataConsumer":return{type:r,attrs:n}}return null}})),r.register("4W5Y2",(function(e,n){t(e.exports,"default",(function(){return c}));var r={mac:!1,ie:!1,ie_version:0,gecko:!1,chrome:!1,chrome_version:0,android:!1,ios:!1,webkit:!1};if("undefined"!=typeof navigator){var o=/Edge\/(\d+)/.exec(navigator.userAgent),i=/MSIE \d/.test(navigator.userAgent),a=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);r.mac=/Mac/.test(navigator.platform);var s=r.ie=!!(i||a||o);r.ie_version=i?document.documentMode||6:a?+a[1]:o?+o[1]:null,r.gecko=!s&&/gecko\/\d/i.test(navigator.userAgent),r.chrome=!s&&/Chrome\//.test(navigator.userAgent),r.chrome_version=parseInt((navigator.userAgent.match(/Chrome\/(\d{2})/)||[])[1],10),r.android=/Android \d/.test(navigator.userAgent),r.ios=!s&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),r.webkit=!s&&!!document.documentElement&&"WebkitAppearance"in document.documentElement.style}var c=r})),r.register("9ztLe",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=function(){function t(){e(i)(this,t),e(s)(this,"handlerStorage",null)}return e(a)(t,[{key:"captureMessage",value:function(e,t){this.handlerStorage&&this.handlerStorage.captureMessage(e,t)}},{key:"captureException",value:function(e,t){this.handlerStorage&&this.handlerStorage.captureException(e,t)}},{key:"handler",set:function(e){this.handlerStorage=e}}]),t}()})),r.register("fPzQr",(function(e,n){t(e.exports,"timestampToUTCDate",(function(){return c})),t(e.exports,"todayTimestampInUTC",(function(){return l})),t(e.exports,"timestampToString",(function(){return u})),t(e.exports,"timestampToIsoFormat",(function(){return d})),t(e.exports,"isPastDate",(function(){return f})),t(e.exports,"timestampToTaskContext",(function(){return p}));var o,i,a=r("22yV7"),s=r("iPdfE");(i=o||(o={})).ISO_FORMAT="YYYY-MM-DD",i.CURRENT_YEAR_FORMAT_WITHOUT_YEAR="CURRENT_YEAR_FORMAT_WITHOUT_YEAR",i.LOCALIZED_FORMAT="LOCALIZED_FORMAT";var c=function(e){var t=new Date(Number(e));return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}},l=function(){var e=new Date(Date.now());return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()).toString()},u=function(e,t,n){if(!t||n===o.ISO_FORMAT)return d(e);var r=new Date(Number(e)),i=n===o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR,a=!i;return t.formatDate(r,{timeZone:"UTC",weekday:i?"short":void 0,month:"short",day:"numeric",year:a?"numeric":void 0,formatMatcher:"best fit"})},d=function(e){var t,n=new Date(Number(e));return"".concat(n.getUTCFullYear(),"-").concat((t=n.getUTCMonth()+1,t<10?"0".concat(t):t),"-").concat(n.getUTCDate())},f=function(e){return s.default(new Date(Number(e)),new Date(Number(l())))},p=function(e,t){var n,r=new Date(Number(l())),i=new Date(Number(e)),s=a.default(i,r),c=i.getUTCFullYear()===r.getUTCFullYear();return t&&[-1,0,1].indexOf(s)>-1?(n=t.formatRelative(i,{units:"day",now:Number(l())})).charAt(0).toUpperCase()+n.slice(1):u(e,t,c?o.CURRENT_YEAR_FORMAT_WITHOUT_YEAR:o.LOCALIZED_FORMAT)}})),r.register("22yV7",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("5doPk"),i=r("5WLUp"),a=r("jijZE"),s=864e5;function c(e,t){a.default(2,arguments);var n=i.default(e),r=i.default(t),c=n.getTime()-o.default(n),l=r.getTime()-o.default(r);return Math.round((c-l)/s)}})),r.register("5doPk",(function(e,n){function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}t(e.exports,"default",(function(){return r}))})),r.register("5WLUp",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("3DKFa"),i=r("jijZE");function a(e){i.default(1,arguments);var t=o.default(e);return t.setHours(0,0,0,0),t}})),r.register("3DKFa",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("jijZE");function i(e){o.default(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}})),r.register("jijZE",(function(e,n){function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}t(e.exports,"default",(function(){return r}))})),r.register("iPdfE",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("3DKFa"),i=r("jijZE");function a(e,t){i.default(2,arguments);var n=o.default(e),r=o.default(t);return n.getTime()<r.getTime()}})),r.register("lOleA",(function(n,o){t(n.exports,"withImageLoader",(function(){return g}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var g=function(t){return function(n){e(l)(o,n);var r=h(o);function o(){var t;e(a)(this,o);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=r.call.apply(r,[this].concat(i)),e(f)(e(c)(t),"state",{imageStatus:"loading"}),e(f)(e(c)(t),"onLoad",(function(){t.setState({imageStatus:"complete"});var e=t.props.onExternalImageLoaded;e&&t.img&&e({width:t.img.naturalWidth,height:t.img.naturalHeight})})),e(f)(e(c)(t),"onError",(function(){t.setState({imageStatus:"error"})})),t}return e(s)(o,[{key:"componentDidMount",value:function(){this.fetchImage(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.url!==this.props.url&&(this.setState({imageStatus:"loading"}),this.fetchImage(e))}},{key:"componentWillUnmount",value:function(){this.img&&(this.img.removeEventListener("load",this.onLoad),this.img.removeEventListener("error",this.onError),this.img=null)}},{key:"fetchImage",value:function(e){var t=e.url;t&&(this.img||(this.img=new Image,this.img.addEventListener("load",this.onLoad),this.img.addEventListener("error",this.onError)),this.img.src=t)}},{key:"render",value:function(){var n=this.state.imageStatus;return e(p).createElement(t,e(i)({},this.props,{imageStatus:n}))}}]),o}(p.Component)}})),r.register("3cpVm",(function(e,n){t(e.exports,"breakoutConsts",(function(){return s})),t(e.exports,"absoluteBreakoutWidth",(function(){return c})),t(e.exports,"calcWideWidth",(function(){return l})),t(e.exports,"calcBreakoutWidth",(function(){return u})),r("8iml0");var o=r("82cWi"),i=r("5ZnAd"),a=r("jZsbJ"),s={padding:o.akEditorBreakoutPadding,defaultLayoutWidth:o.akEditorDefaultLayoutWidth,wideScaleRatio:o.breakoutWideScaleRatio,fullWidthLayoutWidth:o.akEditorFullWidthLayoutWidth,wideLayoutWidth:o.akEditorWideLayoutWidth,mapBreakpointToLayoutMaxWidth:i.mapBreakpointToLayoutMaxWidth,getBreakpoint:a.getBreakpoint,calcBreakoutWidth:function(e,t){var n=t-s.padding;switch(e){case"full-width":return"".concat(Math.min(n,s.fullWidthLayoutWidth),"px");case"wide":return s.calcWideWidth(t);default:return"100%"}},calcLineLength:function(e,t){return t&&e?s.mapBreakpointToLayoutMaxWidth(s.getBreakpoint(e)):s.defaultLayoutWidth},calcWideWidth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.defaultLayoutWidth,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"100%",r=e-s.padding,o=s.mapBreakpointToLayoutMaxWidth(s.getBreakpoint(e)),i=Math.min(Math.ceil(o*s.wideScaleRatio),r);return o>i?n:"".concat(Math.min(t,i),"px")}},c=function(e,t){var n=s.calcBreakoutWidth(e,t);if(n.endsWith("%"))switch(e){case"full-width":return o.akEditorFullWidthLayoutWidth;case"wide":return o.akEditorWideLayoutWidth;default:return s.mapBreakpointToLayoutMaxWidth(s.getBreakpoint(t))}return parseInt(n,10)},l=s.calcWideWidth,u=s.calcBreakoutWidth})),r.register("8iml0",(function(e,n){t(e.exports,"akEditorBlockquoteBorderColor",(function(){return r("82cWi").akEditorBlockquoteBorderColor})),t(e.exports,"akEditorBreakoutPadding",(function(){return r("82cWi").akEditorBreakoutPadding})),t(e.exports,"akEditorCodeFontFamily",(function(){return r("82cWi").akEditorCodeFontFamily})),t(e.exports,"akEditorContextPanelWidth",(function(){return r("82cWi").akEditorContextPanelWidth})),t(e.exports,"akEditorDefaultLayoutWidth",(function(){return r("82cWi").akEditorDefaultLayoutWidth})),t(e.exports,"akEditorDeleteBackground",(function(){return r("82cWi").akEditorDeleteBackground})),t(e.exports,"akEditorDeleteBackgroundWithOpacity",(function(){return r("82cWi").akEditorDeleteBackgroundWithOpacity})),t(e.exports,"akEditorDeleteBorder",(function(){return r("82cWi").akEditorDeleteBorder})),t(e.exports,"akEditorDeleteIconColor",(function(){return r("82cWi").akEditorDeleteIconColor})),t(e.exports,"akEditorFloatingDialogZIndex",(function(){return r("82cWi").akEditorFloatingDialogZIndex})),t(e.exports,"akEditorFloatingOverlapPanelZIndex",(function(){return r("82cWi").akEditorFloatingOverlapPanelZIndex})),t(e.exports,"akEditorFloatingPanelZIndex",(function(){return r("82cWi").akEditorFloatingPanelZIndex})),t(e.exports,"akEditorFullPageMaxWidth",(function(){return r("82cWi").akEditorFullPageMaxWidth})),t(e.exports,"akEditorFullPageDefaultFontSize",(function(){return r("82cWi").akEditorFullPageDefaultFontSize})),t(e.exports,"akEditorFullWidthLayoutWidth",(function(){return r("82cWi").akEditorFullWidthLayoutWidth})),t(e.exports,"akEditorGridLineZIndex",(function(){return r("82cWi").akEditorGridLineZIndex})),t(e.exports,"akEditorGutterPadding",(function(){return r("82cWi").akEditorGutterPadding})),t(e.exports,"akEditorMediaResizeHandlerPadding",(function(){return r("82cWi").akEditorMediaResizeHandlerPadding})),t(e.exports,"akEditorMediaResizeHandlerPaddingWide",(function(){return r("82cWi").akEditorMediaResizeHandlerPaddingWide})),t(e.exports,"akEditorMenuZIndex",(function(){return r("82cWi").akEditorMenuZIndex})),t(e.exports,"akEditorStickyHeaderZIndex",(function(){return r("82cWi").akEditorStickyHeaderZIndex})),t(e.exports,"akEditorMobileBreakoutPoint",(function(){return r("82cWi").akEditorMobileBreakoutPoint})),t(e.exports,"akEditorSelectedBorderColor",(function(){return r("82cWi").akEditorSelectedBorderColor})),t(e.exports,"akEditorSelectedBorderBoldSize",(function(){return r("82cWi").akEditorSelectedBorderBoldSize})),t(e.exports,"akEditorSelectedBorderSize",(function(){return r("82cWi").akEditorSelectedBorderSize})),t(e.exports,"akEditorSmallZIndex",(function(){return r("82cWi").akEditorSmallZIndex})),t(e.exports,"akEditorShadowZIndex",(function(){return r("82cWi").akEditorShadowZIndex})),t(e.exports,"akEditorSubtleAccent",(function(){return r("82cWi").akEditorSubtleAccent})),t(e.exports,"akEditorSwoopCubicBezier",(function(){return r("82cWi").akEditorSwoopCubicBezier})),t(e.exports,"akEditorTableBorder",(function(){return r("82cWi").akEditorTableBorder})),t(e.exports,"akEditorTableBorderDark",(function(){return r("82cWi").akEditorTableBorderDark})),t(e.exports,"akEditorTableCellMinWidth",(function(){return r("82cWi").akEditorTableCellMinWidth})),t(e.exports,"akEditorTableLegacyCellMinWidth",(function(){return r("82cWi").akEditorTableLegacyCellMinWidth})),t(e.exports,"akEditorTableNumberColumnWidth",(function(){return r("82cWi").akEditorTableNumberColumnWidth})),t(e.exports,"akEditorTableToolbar",(function(){return r("82cWi").akEditorTableToolbar})),t(e.exports,"akEditorTableToolbarDark",(function(){return r("82cWi").akEditorTableToolbarDark})),t(e.exports,"akEditorTableToolbarSize",(function(){return r("82cWi").akEditorTableToolbarSize})),t(e.exports,"akEditorUnitZIndex",(function(){return r("82cWi").akEditorUnitZIndex})),t(e.exports,"akEditorWideLayoutWidth",(function(){return r("82cWi").akEditorWideLayoutWidth})),t(e.exports,"akLayoutGutterOffset",(function(){return r("82cWi").akLayoutGutterOffset})),t(e.exports,"akRichMediaResizeZIndex",(function(){return r("82cWi").akRichMediaResizeZIndex})),t(e.exports,"blockNodesVerticalMargin",(function(){return r("82cWi").blockNodesVerticalMargin})),t(e.exports,"breakoutWideScaleRatio",(function(){return r("82cWi").breakoutWideScaleRatio})),t(e.exports,"editorFontSize",(function(){return r("82cWi").editorFontSize})),t(e.exports,"gridMediumMaxWidth",(function(){return r("82cWi").gridMediumMaxWidth})),t(e.exports,"getAkEditorFullPageMaxWidth",(function(){return r("82cWi").getAkEditorFullPageMaxWidth})),t(e.exports,"relativeFontSizeToBase16",(function(){return r("82cWi").relativeFontSizeToBase16})),t(e.exports,"DEFAULT_EMBED_CARD_HEIGHT",(function(){return r("82cWi").DEFAULT_EMBED_CARD_HEIGHT})),t(e.exports,"DEFAULT_EMBED_CARD_WIDTH",(function(){return r("82cWi").DEFAULT_EMBED_CARD_WIDTH})),t(e.exports,"akEditorLineHeight",(function(){return r("82cWi").akEditorLineHeight})),t(e.exports,"akEditorSelectedNodeClassName",(function(){return r("82cWi").akEditorSelectedNodeClassName})),t(e.exports,"akEditorToolbarKeylineHeight",(function(){return r("82cWi").akEditorToolbarKeylineHeight})),t(e.exports,"akEditorMobileMaxWidth",(function(){return r("82cWi").akEditorMobileMaxWidth})),t(e.exports,"getTableCellBackgroundDarkModeColors",(function(){return r("82cWi").getTableCellBackgroundDarkModeColors})),t(e.exports,"ATLASSIAN_NAVIGATION_HEIGHT",(function(){return r("82cWi").ATLASSIAN_NAVIGATION_HEIGHT})),t(e.exports,"SelectionStyle",(function(){return r("4PSyH").SelectionStyle})),t(e.exports,"getSelectionStyles",(function(){return r("4PSyH").getSelectionStyles})),t(e.exports,"overflowShadow",(function(){return r("f9c8b").overflowShadow}));r("82cWi"),r("4PSyH"),r("f9c8b")})),r.register("f9c8b",(function(n,o){t(n.exports,"overflowShadow",(function(){return c}));var i=r("lhkMJ"),a=r("SssiD");function s(){var t=e(i)(["\n/* shadow cover right */ linear-gradient(\n  to left,\n  "," ",",\n  transparent ","\n),\n/* overflow shadow right */\n  linear-gradient(\n    to left,\n    rgba(9, 30, 66, 0.13) 0,\n    rgba(99, 114, 130, 0) ","\n  ),\n/* overflow shadow left */\n  linear-gradient(\n    to right,\n    rgba(9, 30, 66, 0.13) 0,\n    rgba(99, 114, 130, 0) ","\n  )\n"]);return s=function(){return t},t}var c=function(e){var t=e.background,n=e.width;return a.css(s(),t,n,n,n,n)}})),r.register("5ZnAd",(function(n,o){t(n.exports,"mapBreakpointToLayoutMaxWidth",(function(){return d})),t(n.exports,"BaseTheme",(function(){return p}));var i=r("61szk"),a=r("SssiD");r("8iml0");var s=r("82cWi"),c=r("hEJjh"),l=r("jZsbJ");function u(e){switch(e){case"M":return c.fontSize()+2;case"L":return c.fontSize()+4;default:return c.fontSize()}}function d(e){switch(e){case"M":return 760;case"L":return 850;default:return 680}}function f(t){var n=t.breakpoint,r=t.dynamicTextSizing,o=t.baseFontSize,c=t.children,l=i.useMemo((function(){return{baseFontSize:r?u(n):o||u("S"),layoutMaxWidth:r?d(n):s.akEditorDefaultLayoutWidth}}),[n,r,o]);return e(i).createElement(a.ThemeProvider,{theme:l},c)}function p(t){var n=t.children,r=t.dynamicTextSizing,o=t.baseFontSize;return e(i).createElement(l.WidthConsumer,null,(function(t){var a=t.breakpoint;return e(i).createElement(f,{dynamicTextSizing:r,breakpoint:a,baseFontSize:o},e(i).createElement(e(i).Fragment,null,n))}))}})),r.register("hEJjh",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i})),t(e.exports,"fontSize",(function(){return a}));r("3skCZ"),r("bXS0g");var o=function(){return 3},i=function(){return 8},a=function(){return 14}})),r.register("3skCZ",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("jAmqB");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("jAmqB",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("bXS0g",(function(e,n){t(e.exports,"R50",(function(){return i})),t(e.exports,"R75",(function(){return a})),t(e.exports,"R200",(function(){return s})),t(e.exports,"R400",(function(){return l})),t(e.exports,"R500",(function(){return u})),t(e.exports,"Y50",(function(){return d})),t(e.exports,"Y75",(function(){return f})),t(e.exports,"Y100",(function(){return p})),t(e.exports,"Y300",(function(){return h})),t(e.exports,"Y400",(function(){return g})),t(e.exports,"Y500",(function(){return m})),t(e.exports,"G50",(function(){return v})),t(e.exports,"G75",(function(){return b})),t(e.exports,"G200",(function(){return y})),t(e.exports,"G400",(function(){return x})),t(e.exports,"G500",(function(){return k})),t(e.exports,"B50",(function(){return C})),t(e.exports,"B75",(function(){return S})),t(e.exports,"B100",(function(){return T})),t(e.exports,"B300",(function(){return w})),t(e.exports,"B400",(function(){return N})),t(e.exports,"B500",(function(){return P})),t(e.exports,"P50",(function(){return A})),t(e.exports,"P75",(function(){return I})),t(e.exports,"P100",(function(){return D})),t(e.exports,"P400",(function(){return R})),t(e.exports,"P500",(function(){return M})),t(e.exports,"N30",(function(){return j})),t(e.exports,"N50",(function(){return B})),t(e.exports,"N90",(function(){return L})),t(e.exports,"N200",(function(){return F})),t(e.exports,"N400",(function(){return z})),t(e.exports,"N30A",(function(){return U})),t(e.exports,"N40A",(function(){return H})),t(e.exports,"N50A",(function(){return V})),t(e.exports,"N60A",(function(){return K})),t(e.exports,"N200A",(function(){return G})),t(e.exports,"N300A",(function(){return J})),t(e.exports,"DN600",(function(){return q})),t(e.exports,"DN70",(function(){return Z})),t(e.exports,"DN50",(function(){return X})),t(e.exports,"DN20",(function(){return Q})),t(e.exports,"heading",(function(){return $})),t(e.exports,"subtleHeading",(function(){return ee})),t(e.exports,"skeleton",(function(){return te}));var o=r("fztGn"),i="#FFEBE6",a="#FFBDAD",s="#FF7452",c="#FF5630",l="#DE350B",u="#BF2600",d="#FFFAE6",f="#FFF0B3",p="#FFE380",h="#FFAB00",g="#FF991F",m="#FF8B00",v="#E3FCEF",b="#ABF5D1",y="#57D9A3",E="#36B37E",x="#00875A",k="#006644",C="#DEEBFF",S="#B3D4FF",T="#4C9AFF",O="#2684FF",w="#0065FF",N="#0052CC",P="#0747A6",A="#EAE6FF",I="#C0B6F2",D="#998DD9",R="#5243AA",M="#403294",_="#FFFFFF",j="#EBECF0",B="#C1C7D0",L="#8993A4",F="#6B778C",z="#505F79",W="#172B4D",U="rgba(9, 30, 66, 0.08)",H="rgba(9, 30, 66, 0.13)",V="rgba(9, 30, 66, 0.25)",K="rgba(9, 30, 66, 0.31)",G="rgba(9, 30, 66, 0.60)",J="rgba(9, 30, 66, 0.66)",q="#B8C7E0",Y="#8C9CB8",Z="#3B475C",X="#283447",Q="#121A29",$=(o.default({light:_,dark:"#1B2638"}),o.default({light:C,dark:S}),o.default({light:j,dark:Z}),o.default({light:_,dark:X}),o.default({light:"#091E42",dark:q}),o.default({light:W,dark:q}),o.default({light:N,dark:N}),o.default({light:F,dark:Y}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:W,dark:q})),ee=o.default({light:F,dark:Y}),te=(o.default({light:"#F4F5F7",dark:X}),o.default({light:N,dark:T}),o.default({light:w,dark:O}),o.default({light:P,dark:T}),o.default({light:T,dark:O}),o.default({light:N,dark:T}),o.default({light:N,dark:T}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:D}),o.default({light:c,dark:c}),o.default({light:h,dark:h}),o.default({light:E,dark:E}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("fztGn",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("cgt8b");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("cgt8b",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("jZsbJ",(function(n,o){t(n.exports,"getBreakpoint",(function(){return y})),t(n.exports,"WidthConsumer",(function(){return C})),t(n.exports,"WidthProvider",(function(){return T}));var i,a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("hLVOy"),m=r("SssiD"),v=r("bgvam");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=1266,n=2146;return e>=t&&e<n?"M":e>=n?"L":"S"}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{width:e,breakpoint:y(e)}}var x=e(h).createContext(E()),k=x.Provider,C=x.Consumer,S=e(h).memo(m.default.div(i||(i=e(p)(["\n  position: relative;\n  width: 100%;\n"])))),T=function(t){e(l)(r,t);var n=b(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"state",{width:0}),e(f)(e(c)(o),"setWidth",g.default((function(e){Math.abs(o.state.width-e)<30||o.setState({width:e})}))),o.state.width=document.body.offsetWidth,o}return e(s)(r,[{key:"render",value:function(){return e(h).createElement(S,{className:this.props.className},e(h).createElement(v.WidthObserver,{setWidth:this.setWidth,offscreen:!0}),e(h).createElement(k,{value:E(this.state.width)},this.props.children))}}]),r}(e(h).Component)})),r.register("a8mog",(function(e,n){t(e.exports,"getAnalyticsAppearance",(function(){return g})),t(e.exports,"getAnalyticsEventSeverity",(function(){return m})),t(e.exports,"SEVERITY",(function(){return o})),t(e.exports,"EVENT_TYPE",(function(){return a})),t(e.exports,"ACTION",(function(){return c})),t(e.exports,"ACTION_SUBJECT",(function(){return u})),t(e.exports,"ACTION_SUBJECT_ID",(function(){return f})),t(e.exports,"analyticsEventKey",(function(){return v})),t(e.exports,"getUnsupportedContentLevelData",(function(){return r("d4LwY").getUnsupportedContentLevelData}));var o,i,a,s,c,l,u,d,f,p,h=r("gpCn2"),g=(r("d4LwY"),function(e){switch(e){case"full-page":return h.EDITOR_APPEARANCE_CONTEXT.FIXED_WIDTH;case"full-width":return h.EDITOR_APPEARANCE_CONTEXT.FULL_WIDTH;case"comment":return h.EDITOR_APPEARANCE_CONTEXT.COMMENT;case"chromeless":return h.EDITOR_APPEARANCE_CONTEXT.CHROMELESS;case"mobile":return h.EDITOR_APPEARANCE_CONTEXT.MOBILE}}),m=function(e,t,n){return e>t&&e<=n?o.DEGRADED:e>n?o.BLOCKING:o.NORMAL};(i=o||(o={})).NORMAL="normal",i.DEGRADED="degraded",i.BLOCKING="blocking",(s=a||(a={})).TRACK="track",s.UI="ui",(l=c||(c={})).UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncountered",l.UNSUPPORTED_TOOLTIP_VIEWED="viewed",(d=u||(u={})).DOCUMENT="document",d.TOOLTIP="tooltip",(p=f||(f={})).UNSUPPORTED_BLOCK="unsupportedBlock",p.UNSUPPORTED_INLINE="unsupportedInline",p.UNSUPPORTED_MARK="unsupportedMark",p.UNSUPPORTED_ERROR="unsupportedUnhandled",p.UNSUPPORTED_NODE_ATTRIBUTE="unsupportedNodeAttribute",p.ON_UNSUPPORTED_INLINE="onUnsupportedInline",p.ON_UNSUPPORTED_BLOCK="onUnsupportedBlock";var v="EDITOR_ANALYTICS_EVENT"})),r.register("d4LwY",(function(e,n){t(e.exports,"getUnsupportedContentLevelData",(function(){return l}));var o,i,a=r("fTbTS");(i=o||(o={})).NORMAL="normal",i.DEGRADED="degraded",i.BLOCKING="blocking";var s=10,c=25,l=function(e,t){var n=function(e){var t=0,n=0;return a.traverse(e,{any:function(e){if(["unsupportedInline","unsupportedBlock","confluenceUnsupportedInline","confluenceUnsupportedBlock"].includes(e.type)){var r,o=null===(r=e.attrs)||void 0===r?void 0:r.originalValue;return o&&a.traverse(o,{any:function(){t++}}),!1}n++}}),{unsupportedNodes:t,supportedNodes:n}}(e),r=n.unsupportedNodes,i=n.supportedNodes,l=function(e){return{degraded:(null==e?void 0:e.degraded)||s,blocking:(null==e?void 0:e.blocking)||c}}(t),u=Math.round(r/(r+i)*100),d=function(e,t){return t.degraded<=e&&e<t.blocking?o.DEGRADED:t.blocking<=e?o.BLOCKING:o.NORMAL}(u,l);return{severity:d,percentage:u,counts:{supportedNodes:i,unsupportedNodes:r}}}})),r.register("fTbTS",(function(n,o){t(n.exports,"traverse",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(e,t){return l(e,{node:void 0},t,0,0)}function l(e,t,n,r,o){var i=n[e.type]||n.any,a=s({},e);if(i){var c=i(s({},a),t,r,o);if(!1===c)return!1;a=c||e}return a.content&&(a.content=a.content.reduce((function(e,r,i){if(!r)return e;var s=l(r,{node:a,parent:t},n,i,o+1);return!1!==s&&e.push(s),e}),[])),a}})),r.register("mWucW",(function(n,o){t(n.exports,"validator",(function(){return E}));var i=r("h67q9"),a=r("l15hj"),s=r("bRWI2"),c=r("fAQsN"),l=r("50NGS");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};if(t.props&&t.props.marks){var r=t.props.marks,o=r.items,i=e(s)(r,["items"]);return d(d({},t),{},{props:d(d({},t.props),{},{marks:d(d({},i),{},{items:o.length?Array.isArray(o[0])?o.map(n):[n(o)]:[[]]})})})}return t}var p=function(e,t){return Object.keys(e).reduce((function(n,r){return n[t(r,e[r],e)?0:1].push(r),n}),[[],[]])};function h(t,n){if(!n)return{};for(var r=0,o=n.length;r<o;r++){var a=n[r],s=a,c={};if(Array.isArray(a)){var l=e(i)(a,2);s=l[0],c=l[1]}if(s===t)return c}return!1}function g(e,t){if(!l.isDefined(e.type))return!!e.optional;if(!l.isDefined(t))return!!e.optional;switch(e.type){case"boolean":return l.isBoolean(t);case"number":return l.isNumber(t)&&(!l.isDefined(e.minimum)||e.minimum<=t)&&(!l.isDefined(e.maximum)||e.maximum>=t);case"integer":return l.isInteger(t)&&(!l.isDefined(e.minimum)||e.minimum<=t)&&(!l.isDefined(e.maximum)||e.maximum>=t);case"string":return l.isString(t)&&(!l.isDefined(e.minLength)||e.minLength<=t.length)&&(!e.pattern||new RegExp(e.pattern).test(t));case"object":return l.isPlainObject(t);case"array":var n=e.items,r=n.length-1;return!!Array.isArray(t)&&t.every((function(e,t){return g(n[Math.min(t,r)],e)}));case"enum":return l.isString(t)&&e.values.indexOf(t)>-1}return!1}var m=function(e,t){return"".concat(e,": ").concat(t,".")},v=function(e){if(e&&e.props&&e.props.content){var t=e.props.content;return{allowUnsupportedBlock:t.allowUnsupportedBlock,allowUnsupportedInline:t.allowUnsupportedInline}}return{}},b=function(e,t,n){var r=m(e.type,"invalid content");if(t)return t(d({},e),{code:"INVALID_CONTENT",message:r},v(n));throw new Error(r)},y=function(e,t,n,r){var o=r||m(t.type,"unsupported mark");if(n)return n(d({},t),{code:e,message:o,meta:t},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!0});throw new Error(o)};function E(t,n,r){var o=function(e,t){return Object.keys(c).reduce((function(n,r){var o=d({},c[r]);return o.props&&(o.props=d({},o.props),o.props.content&&(l.isString(o.props.content)&&(o.props.content=c[o.props.content]),Array.isArray(o.props.content)?o.props.content={type:"array",items:(o.props.content||[]).map((function(e){return e.items}))}:o.props.content=d({},o.props.content),o.props.content.items=o.props.content.items.map((function(e){return l.isString(e)?Array.isArray(c[e])?c[e]:[e]:e})).map((function(n){return n.map((function(e){return Array.isArray(c[e])?c[e]:l.isString(e)?e:["text",e]})).filter((function(t){if(e){if(Array.isArray(t)){var n,r,o,i=e.indexOf(t[0])>-1;return i&&null!==(n=t[1])&&void 0!==n&&null!==(r=n.props)&&void 0!==r&&null!==(o=r.content)&&void 0!==o&&o.items?t[1].props.content.items.every((function(t){return e.indexOf(t)>-1})):i}return e.indexOf(t)>-1}return!0})).map((function(e){return Array.isArray(e)&&t?[e[0],f(e[1])]:e}))})))),n[r]=o,n}),{})}(t,n),a=r||{},s=a.mode,u=void 0===s?"strict":s,E=a.allowPrivateAttributes,x=void 0!==E&&E,k=function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,s=d({},e),c=function(e,n,o){var i=m(a,n);if(t)return{valid:!1,entity:t(s,{code:e,message:i,meta:o},v(r))};throw new Error(i)};if(!a)return c("INVALID_TYPE","ProseMirror Node/Mark should contain a `type`");var l=h(a,n);if(!1===l)return i?{valid:!1}:c("INVALID_TYPE","type not allowed here");var u=o[a];if(!u)return c("INVALID_TYPE","".concat(a,": No validation spec found for type!"));var f=O(u,l,e,c,s,a,t,i);return f.hasValidated&&f.result?f.result:{valid:!0,entity:s}};function C(e,t,r,o,i){var a;if(e.props&&e.props.marks){var s=function(e){var t=e.props.marks.items;return t.length?Array.isArray(t[0])?t[0]:t:[]}(e),c=function(e,t,r,o){return e.marks?e.marks.map((function(e){var i=!n||n.indexOf(e.type)>-1;if("strict"===u&&i){var a=k(e,t,r,o,!0),s=a.entity;return s?{valid:!0,originalMark:e,newMark:s}:a.marksValidationOutput&&a.marksValidationOutput.length?{valid:!1,originalMark:e,errorCode:a.marksValidationOutput[0].errorCode,message:a.marksValidationOutput[0].message}:{valid:!1,originalMark:e,errorCode:"INVALID_TYPE"}}return{valid:!1,originalMark:e,errorCode:"INVALID_CONTENT"}})):[]}(t,r,s,e);a={valid:!0,entity:o,marksValidationOutput:c}}else a=function(e,t,n,r){var o="REDUNDANT_MARKS",i=e.marks||[],a=i.map((function(e){return"unsupportedNodeAttribute"===e.type?e:y(o,e,n)}));return a.length?(t.marks=a,{valid:!0,entity:t}):r("REDUNDANT_MARKS","redundant marks",{marks:Object.keys(i)})}(t,o,r,i);return a}function S(t,n,r,o,a){var s=t.props&&t.props.attrs;if(n.attrs){if(!s)return o?function(e,t){var n=m("redundant attributes found",Object.keys(t).join(", "));return{valid:!1,marksValidationOutput:[{valid:!0,originalMark:e,errorCode:"REDUNDANT_ATTRIBUTES",message:n}]}}(n,n.attrs):T(n,r,[],Object.keys(n.attrs),a);var c=function(t,n,r){var o=function(t,n){var r=[],o={};if(t.props&&t.props.attrs)for(var a=l.makeArray(t.props.attrs),s=0,c=a.length;s<c;++s){var u=a[s];if(u&&u.props){var d=p(u.props,(function(e,t){return g(t,n.attrs[e])}));r=e(i)(d,2)[1]}if(o=u,!r.length)break}return{invalidAttrs:r,validatorAttrs:o}}(t,n),a=o.invalidAttrs,s=o.validatorAttrs,c=Object.keys(r).filter((function(e){return!(x&&e.startsWith("__"))})).filter((function(e){return!s.props[e]})),u=c.length>0;return{hasUnsupportedAttrs:a.length||u,invalidAttrs:a,redundantAttrs:c}}(t,n,n.attrs),u=c.hasUnsupportedAttrs,d=c.redundantAttrs,f=c.invalidAttrs;if(u)return o?function(e,t,n){var r="INVALID_ATTRIBUTES",o=m(e.type,"'attrs' validation failed"),i=n.length;i&&t.length||!i||(r="REDUNDANT_ATTRIBUTES",o=m("redundant attributes found",n.join(", ")));return{valid:!1,marksValidationOutput:[{valid:!0,originalMark:e,errorCode:r,message:o}]}}(n,f,d):T(n,r,f,d,a)}return{valid:!0,entity:n}}function T(e,t,n,r,o){var i=n.concat(r),a=m(e.type,"'attrs' validation failed");return t.marks=function(e,t,n,r,o,i){var a={};for(var s in n)a[n[s]]=e.attrs&&e.attrs[n[s]],t.attrs&&delete t.attrs[n[s]];var c=function(e,t,n,r,o){if(o)return o({type:e.type},{code:t,message:r,meta:n},{allowUnsupportedBlock:!1,allowUnsupportedInline:!1,isMark:!1,isNodeAttribute:!0});throw new Error(r)}(e,r,a,o,i),l=d({},t);return l.marks?(c&&l.marks.push(c),l.marks):[c]}(e,t,i,"UNSUPPORTED_ATTRIBUTES",a,o),{valid:!0,entity:t}}function O(t,n,r,o,a,s,c,f){var h={hasValidated:!1},m=function(e,t){return d(d(d({},e),t),e.props?{props:d(d({},e.props),t.props||{})}:{})}(t,n);if(!m)return h;var v=function(e,t,n){var r={valid:!0,entity:t};return e.required&&(e.required.every((function(e){return l.isDefined(t[e])}))||(r=n("MISSING_PROPERTIES","required prop missing"))),r}(m,r,o);if(!v.valid)return{hasValidated:!0,result:v};if(!m.props){var E=Object.keys(r);return E.length>1?{hasValidated:!0,result:o("REDUNDANT_PROPERTIES","redundant props found: ".concat(Object.keys(r).join(", ")),{props:E})}:h}var x=function(e,t,n){var r={valid:!0,entity:t};return e.props.text&&l.isDefined(t.text)&&!g(e.props.text,t.text)&&(r=n("INVALID_TEXT","'text' validation failed")),r}(m,r,o);if(!x.valid)return{hasValidated:!0,result:x};var T=function(e,t,n){var r={valid:!0,entity:t};if(e.props.content&&t.content){var o=e.props.content,i=o.minItems,a=o.maxItems,s=t.content.length;l.isDefined(i)&&i>s?r=n("INVALID_CONTENT_LENGTH","'content' should have more than ".concat(i," child"),{length:s,requiredLength:i,type:"minimum"}):l.isDefined(a)&&a<s&&(r=n("INVALID_CONTENT_LENGTH","'content' should have less than ".concat(a," child"),{length:s,requiredLength:a,type:"maximum"}))}return r}(m,r,o);if(!T.valid)return{hasValidated:!0,result:T};var O=p(m.props,(function(e,t){return t.optional||l.isDefined(r[e])})),w=e(i)(O,2)[1];if(w.length)return{hasValidated:!0,result:o("MISSING_PROPERTIES","required prop missing",{props:w})};var N=S(m,r,a,f,c);if(!N.valid)return{hasValidated:!0,result:N};if(f&&N.valid)return{hasValidated:!0,result:N};var P=function(t,n,r,o,a){var s={valid:!0,entity:n},c=p(n,(function(e){return l.isDefined(t.props[e])})),d=e(i)(c,2),f=d[0],h=d[1];if(h.length)if("loose"===u)o={type:a},f.reduce((function(e,t){return l.copy(n,e,t)}),o);else if(!(h.indexOf("marks")>-1||h.indexOf("attrs")>-1)||1!==h.length)return r("REDUNDANT_PROPERTIES","redundant props found: ".concat(h.join(", ")),{props:h});return s}(m,r,o,a,s);if(!P.valid)return{hasValidated:!0,result:P};if(m.props.content){var A=m.props.content;if(r.content){a.content=r.content.map((function(e,t){if(void 0===e)return e;var n=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!0;if(e&&e.marks&&t){var a=t.filter((function(e){return e.valid})),s=t.map((function(e){return e.valid?e.newMark:a.length||r||o||"INVALID_TYPE"===e.errorCode||"INVALID_CONTENT"===e.errorCode||"REDUNDANT_ATTRIBUTES"===e.errorCode||"INVALID_ATTRIBUTES"===e.errorCode?y(e.errorCode,e.originalMark,n,e.message):void 0})).filter(Boolean);s.length?e.marks=s:(delete e.marks,i=!1)}return{valid:i,entity:e}};if(!!A.isTupleLike){var r=k(e,c,l.makeArray(A.items[t]||A.items[A.items.length-1]),m);return n(r.entity,r.marksValidationOutput,c,!1,!0).entity}var o=A.items.filter((function(t){return!Array.isArray(t)||t.some((function(t){return(Array.isArray(t)?t[0]:t)===e.type}))}));if(o.length){if(o.length>1)throw new Error("Consider using Tuple instead!");var i,a,s=l.makeArray(o[0]).filter((function(t){return(Array.isArray(t)?t[0]:t)===e.type}));if(0===s.length)return b(e,c,m);for(var u=0,d=s.length;u<d;u++)try{var f=[s[u]],p=k(e,c,f,m),h=p.valid,g=p.entity,v=p.marksValidationOutput;if(h){var E=u===s.length-1,x=n(g,v,c,E),C=x.valid,S=x.entity,T=S&&S.marks&&S.marks.filter((function(e){return"unsupportedMark"===e.type}))||[];if(C&&!T.length)return S;a=a||g}else a=a||g}catch(e){i=i||e}if(c)return a;throw i}return b(e,c,m)})).filter(Boolean)}else if(!A.optional)return{hasValidated:!0,result:o("MISSING_PROPERTIES","missing `content` prop")}}return r.marks?{hasValidated:!0,result:C(m,r,c,a,o)}:h}return function(e,t,n,r){var o=k(e,t,n,r);return{entity:o.entity,valid:o.valid}}}})),r.register("fAQsN",(function(e,n){t(e.exports,"em",(function(){return r("esDLD").default})),t(e.exports,"code",(function(){return r("876c8").default})),t(e.exports,"strike",(function(){return r("5siSD").default})),t(e.exports,"strong",(function(){return r("5DkpQ").default})),t(e.exports,"underline",(function(){return r("aJf6I").default})),t(e.exports,"link",(function(){return r("lEVbm").default})),t(e.exports,"subsup",(function(){return r("7Zezx").default})),t(e.exports,"textColor",(function(){return r("8ndCz").default})),t(e.exports,"inline_comment_marker",(function(){return r("dMCeG").default})),t(e.exports,"breakout",(function(){return r("l4wuv").default})),t(e.exports,"alignment",(function(){return r("2YM7C").default})),t(e.exports,"indentation",(function(){return r("8ZWib").default})),t(e.exports,"annotation",(function(){return r("18kJD").default})),t(e.exports,"dataConsumer",(function(){return r("igyvn").default})),t(e.exports,"hardBreak",(function(){return r("7Xw08").default})),t(e.exports,"mention",(function(){return r("hQcK5").default})),t(e.exports,"emoji",(function(){return r("2v2Db").default})),t(e.exports,"inlineExtension",(function(){return r("lFfhh").default})),t(e.exports,"inlineExtension_with_no_marks",(function(){return r("132Z0").default})),t(e.exports,"inlineExtension_with_marks",(function(){return r("iSgJX").default})),t(e.exports,"date",(function(){return r("gsxs8").default})),t(e.exports,"placeholder",(function(){return r("j3FBD").default})),t(e.exports,"blockCard",(function(){return r("4o5C3").default})),t(e.exports,"inlineCard",(function(){return r("3AWG5").default})),t(e.exports,"status",(function(){return r("iwtD8").default})),t(e.exports,"text",(function(){return r("5l1mc").default})),t(e.exports,"formatted_text_inline",(function(){return r("bx2JW").default})),t(e.exports,"link_text_inline",(function(){return r("4WoCk").default})),t(e.exports,"code_inline",(function(){return r("k3hN7").default})),t(e.exports,"atomic_inline",(function(){return r("cNYcc").default})),t(e.exports,"inline",(function(){return r("3DVeQ").default})),t(e.exports,"paragraph",(function(){return r("ukoml").default})),t(e.exports,"paragraph_with_no_marks",(function(){return r("b067L").default})),t(e.exports,"paragraph_with_alignment",(function(){return r("iXKiH").default})),t(e.exports,"paragraph_with_indentation",(function(){return r("021sk").default})),t(e.exports,"bulletList",(function(){return r("b4zjm").default})),t(e.exports,"media",(function(){return r("k6Wbp").default})),t(e.exports,"caption",(function(){return r("fhHsX").default})),t(e.exports,"mediaSingle",(function(){return r("6dJGD").default})),t(e.exports,"mediaSingle_full",(function(){return r("gLeMD").default})),t(e.exports,"mediaSingle_caption",(function(){return r("6504D").default})),t(e.exports,"codeBlock",(function(){return r("9hn5X").default})),t(e.exports,"codeBlock_with_no_marks",(function(){return r("kxNvx").default})),t(e.exports,"codeBlock_with_marks",(function(){return r("kKsHF").default})),t(e.exports,"listItem",(function(){return r("8P57c").default})),t(e.exports,"orderedList",(function(){return r("4C68U").default})),t(e.exports,"heading",(function(){return r("l18EO").default})),t(e.exports,"heading_with_no_marks",(function(){return r("glLqw").default})),t(e.exports,"heading_with_alignment",(function(){return r("cGSso").default})),t(e.exports,"heading_with_indentation",(function(){return r("cMIlZ").default})),t(e.exports,"panel",(function(){return r("d68wO").default})),t(e.exports,"blockquote",(function(){return r("fGpFc").default})),t(e.exports,"rule",(function(){return r("cI60N").default})),t(e.exports,"mediaGroup",(function(){return r("fjJft").default})),t(e.exports,"decisionItem",(function(){return r("bibXS").default})),t(e.exports,"decisionList",(function(){return r("1dNkd").default})),t(e.exports,"taskItem",(function(){return r("dqa1w").default})),t(e.exports,"taskList",(function(){return r("fmMDx").default})),t(e.exports,"extension",(function(){return r("iqdRS").default})),t(e.exports,"extension_with_no_marks",(function(){return r("gsr6V").default})),t(e.exports,"extension_with_marks",(function(){return r("iwgGE").default})),t(e.exports,"embedCard",(function(){return r("bLIaB").default})),t(e.exports,"nestedExpand_content",(function(){return r("fFaQw").default})),t(e.exports,"nestedExpand",(function(){return r("95IAU").default})),t(e.exports,"nestedExpand_with_no_marks",(function(){return r("fvWQc").default})),t(e.exports,"table",(function(){return r("9ME5y").default})),t(e.exports,"tableRow",(function(){return r("1YbFK").default})),t(e.exports,"tableCell_content",(function(){return r("2UwQj").default})),t(e.exports,"tableCell",(function(){return r("ekE9q").default})),t(e.exports,"tableHeader",(function(){return r("13IMC").default})),t(e.exports,"non_nestable_block_content",(function(){return r("c1DSV").default})),t(e.exports,"expand",(function(){return r("4dKTs").default})),t(e.exports,"expand_with_no_mark",(function(){return r("d3kBy").default})),t(e.exports,"expand_with_breakout_mark",(function(){return r("kOAeB").default})),t(e.exports,"bodiedExtension",(function(){return r("9iYNC").default})),t(e.exports,"bodiedExtension_with_no_marks",(function(){return r("4YfLw").default})),t(e.exports,"bodiedExtension_with_marks",(function(){return r("tyw8G").default})),t(e.exports,"block_content",(function(){return r("lObWO").default})),t(e.exports,"layoutColumn",(function(){return r("fXB6l").default})),t(e.exports,"layoutSection",(function(){return r("kcuMe").default})),t(e.exports,"doc",(function(){return r("bShQK").default}));r("esDLD"),r("876c8"),r("5siSD"),r("5DkpQ"),r("aJf6I"),r("lEVbm"),r("7Zezx"),r("8ndCz"),r("dMCeG"),r("l4wuv"),r("2YM7C"),r("8ZWib"),r("18kJD"),r("igyvn"),r("7Xw08"),r("hQcK5"),r("2v2Db"),r("lFfhh"),r("132Z0"),r("iSgJX"),r("gsxs8"),r("j3FBD"),r("4o5C3"),r("3AWG5"),r("iwtD8"),r("5l1mc"),r("bx2JW"),r("4WoCk"),r("k3hN7"),r("cNYcc"),r("3DVeQ"),r("ukoml"),r("b067L"),r("iXKiH"),r("021sk"),r("b4zjm"),r("k6Wbp"),r("fhHsX"),r("6dJGD"),r("gLeMD"),r("6504D"),r("9hn5X"),r("kxNvx"),r("kKsHF"),r("8P57c"),r("4C68U"),r("l18EO"),r("glLqw"),r("cGSso"),r("cMIlZ"),r("d68wO"),r("fGpFc"),r("cI60N"),r("fjJft"),r("bibXS"),r("1dNkd"),r("dqa1w"),r("fmMDx"),r("iqdRS"),r("gsr6V"),r("iwgGE"),r("bLIaB"),r("fFaQw"),r("95IAU"),r("fvWQc"),r("9ME5y"),r("1YbFK"),r("2UwQj"),r("ekE9q"),r("13IMC"),r("c1DSV"),r("4dKTs"),r("d3kBy"),r("kOAeB"),r("9iYNC"),r("4YfLw"),r("tyw8G"),r("lObWO"),r("fXB6l"),r("kcuMe"),r("bShQK")})),r.register("esDLD",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["em"]}}}})),r.register("876c8",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["code"]}}}})),r.register("5siSD",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["strike"]}}}})),r.register("5DkpQ",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["strong"]}}}})),r.register("aJf6I",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["underline"]}}}})),r.register("lEVbm",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["link"]},attrs:{props:{href:{type:"string"},title:{type:"string",optional:!0},id:{type:"string",optional:!0},collection:{type:"string",optional:!0},occurrenceKey:{type:"string",optional:!0}}}}}})),r.register("7Zezx",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["subsup"]},attrs:{props:{type:{type:"enum",values:["sub","sup"]}}}}}})),r.register("8ndCz",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["textColor"]},attrs:{props:{color:{type:"string",pattern:"^#[0-9a-fA-F]{6}$"}}}}}})),r.register("dMCeG",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["confluenceInlineComment"]},attrs:{props:{reference:{type:"string"}}}}}})),r.register("l4wuv",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["breakout"]},attrs:{props:{mode:{type:"enum",values:["wide","full-width"]}}}}}})),r.register("2YM7C",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["alignment"]},attrs:{props:{align:{type:"enum",values:["center","end"]}}}}}})),r.register("8ZWib",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["indentation"]},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}}})),r.register("18kJD",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["annotation"]},attrs:{props:{id:{type:"string"},annotationType:{type:"enum",values:["inlineComment"]}}}}}})),r.register("igyvn",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["dataConsumer"]},attrs:{props:{sources:{type:"array",items:[{type:"string"}],minItems:1}}}}}})),r.register("7Xw08",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["hardBreak"]},attrs:{props:{text:{type:"enum",values:["\n"],optional:!0}},optional:!0}}}})),r.register("hQcK5",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["mention"]},attrs:{props:{id:{type:"string"},text:{type:"string",optional:!0},userType:{type:"enum",values:["DEFAULT","SPECIAL","APP"],optional:!0},accessLevel:{type:"string",optional:!0}}}}}})),r.register("2v2Db",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["emoji"]},attrs:{props:{id:{type:"string",optional:!0},shortName:{type:"string"},text:{type:"string",optional:!0}}}}}})),r.register("lFfhh",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["inlineExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}}})),r.register("132Z0",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["inlineExtension",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("iSgJX",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["inlineExtension",{props:{marks:{type:"array",items:["dataConsumer"],optional:!0}}}]})),r.register("gsxs8",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["date"]},attrs:{props:{timestamp:{type:"string",minLength:1}}}}}})),r.register("j3FBD",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["placeholder"]},attrs:{props:{text:{type:"string"}}}}}})),r.register("4o5C3",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["blockCard"]},attrs:[{props:{url:{type:"string"}}},{props:{data:{type:"object"}}}]},required:["attrs"]}})),r.register("3AWG5",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["inlineCard"]},attrs:[{props:{url:{type:"string"}}},{props:{data:{type:"object"}}}]},required:["attrs"]}})),r.register("iwtD8",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["status"]},attrs:{props:{text:{type:"string",minLength:1},color:{type:"enum",values:["neutral","purple","blue","red","yellow","green"]},localId:{type:"string",optional:!0},style:{type:"string",optional:!0}}}}}})),r.register("5l1mc",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["text"]},text:{type:"string",minLength:1},marks:{type:"array",items:[],optional:!0}}}})),r.register("bx2JW",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["text",{props:{marks:{type:"array",items:[["em","strike","strong","underline","link","subsup","textColor","annotation"]],optional:!0}}}]})),r.register("4WoCk",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["text",{props:{marks:{type:"array",items:["link"],optional:!0}}}]})),r.register("k3hN7",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["text",{props:{marks:{type:"array",items:[["code","link","annotation"]],optional:!0}}}]})),r.register("cNYcc",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["hardBreak","mention","emoji","inlineExtension_with_no_marks","date","placeholder","inlineCard","status"]})),r.register("3DVeQ",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["hardBreak","mention","emoji","inlineExtension_with_no_marks","inlineExtension_with_marks","date","placeholder","inlineCard","status","formatted_text_inline","code_inline"]})),r.register("ukoml",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["paragraph"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0}}}})),r.register("b067L",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["paragraph",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("iXKiH",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["paragraph",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}]})),r.register("021sk",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["paragraph",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}]})),r.register("b4zjm",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["bulletList"]},content:{type:"array",items:["listItem"],minItems:1}}}})),r.register("k6Wbp",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["media"]},attrs:[{props:{type:{type:"enum",values:["link","file"]},id:{type:"string",minLength:1},collection:{type:"string"},height:{type:"number",optional:!0},width:{type:"number",optional:!0},occurrenceKey:{type:"string",minLength:1,optional:!0},alt:{type:"string",optional:!0}}},{props:{type:{type:"enum",values:["external"]},url:{type:"string"},alt:{type:"string",optional:!0},width:{type:"number",optional:!0},height:{type:"number",optional:!0}}}],marks:{type:"array",items:["link"],optional:!0}},required:["attrs"]}})),r.register("fhHsX",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["caption"]},content:{type:"array",items:[["hardBreak","mention","emoji","date","placeholder","inlineCard","status","formatted_text_inline","code_inline"]],minItems:0}}}})),r.register("6dJGD",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["mediaSingle"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}},optional:!0},marks:{type:"array",items:["link"],optional:!0}}}})),r.register("gLeMD",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["mediaSingle",{props:{content:{type:"array",items:["media"],minItems:1,maxItems:1,allowUnsupportedBlock:!0}}}]})),r.register("6504D",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["mediaSingle",{props:{content:{type:"array",items:["media","caption"],isTupleLike:!0,minItems:1,maxItems:2,allowUnsupportedBlock:!0}}}]})),r.register("9hn5X",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["codeBlock"]},content:{type:"array",items:[["text",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{language:{type:"string",optional:!0}},optional:!0}}}})),r.register("kxNvx",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["codeBlock",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("kKsHF",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["codeBlock",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}]})),r.register("8P57c",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["listItem"]},content:{type:"array",items:[["paragraph_with_no_marks","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks"],["paragraph_with_no_marks","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList"]],isTupleLike:!0,minItems:1}}}})),r.register("4C68U",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["orderedList"]},content:{type:"array",items:["listItem"],minItems:1},attrs:{props:{order:{type:"number",minimum:1}},optional:!0}}}})),r.register("l18EO",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["heading"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},marks:{type:"array",items:[],optional:!0},attrs:{props:{level:{type:"number",minimum:1,maximum:6}}}}}})),r.register("glLqw",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["heading",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("cGSso",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["heading",{props:{marks:{type:"array",items:["alignment"],optional:!0}}}]})),r.register("cMIlZ",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["heading",{props:{marks:{type:"array",items:["indentation"],optional:!0}}}]})),r.register("d68wO",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["panel"]},attrs:{props:{panelType:{type:"enum",values:["info","note","tip","warning","error","success","custom"]},panelIcon:{type:"string",optional:!0},panelColor:{type:"string",optional:!0}}},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","bulletList","orderedList","heading_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0}}}})),r.register("fGpFc",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["blockquote"]},content:{type:"array",items:["paragraph_with_no_marks"],minItems:1,allowUnsupportedBlock:!0}}}})),r.register("cI60N",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["rule"]}}}})),r.register("fjJft",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["mediaGroup"]},content:{type:"array",items:["media"],minItems:1,allowUnsupportedBlock:!0}}}})),r.register("bibXS",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["decisionItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"string"}}}}}})),r.register("1dNkd",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["decisionList"]},content:{type:"array",items:["decisionItem"],minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}}})),r.register("dqa1w",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["taskItem"]},content:{type:"array",items:["inline"],allowUnsupportedInline:!0,optional:!0},attrs:{props:{localId:{type:"string"},state:{type:"enum",values:["TODO","DONE"]}}}}}})),r.register("fmMDx",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["taskList"]},content:{type:"array",items:["taskItem",["taskItem","taskList"]],isTupleLike:!0,minItems:1,allowUnsupportedBlock:!0},attrs:{props:{localId:{type:"string"}}}}}})),r.register("iqdRS",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["extension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0}}}})),r.register("gsr6V",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["extension",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("iwgGE",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["extension",{props:{marks:{type:"array",items:["dataConsumer"],optional:!0}}}]})),r.register("bLIaB",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["embedCard"]},attrs:{props:{originalWidth:{type:"number",optional:!0},originalHeight:{type:"number",optional:!0},url:{type:"string"},width:{type:"number",minimum:0,maximum:100,optional:!0},layout:{type:"enum",values:["wide","full-width","center","wrap-right","wrap-left","align-end","align-start"]}}}}}})),r.register("fFaQw",(function(e,n){t(e.exports,"default",(function(){return r}));var r={type:"array",items:[["paragraph_with_no_marks","mediaSingle_full","mediaSingle_caption","heading_with_no_marks","mediaGroup"]],minItems:1,allowUnsupportedBlock:!0}})),r.register("95IAU",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["nestedExpand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:"nestedExpand_content"},required:["content"]}})),r.register("fvWQc",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["nestedExpand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("9ME5y",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["table"]},attrs:{props:{isNumberColumnEnabled:{type:"boolean",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}},optional:!0},content:{type:"array",items:["tableRow"],minItems:1}}}})),r.register("1YbFK",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["tableRow"]},content:{type:"array",items:[["tableCell","tableHeader"]]}}}})),r.register("2UwQj",(function(e,n){t(e.exports,"default",(function(){return r}));var r={type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_no_marks","extension_with_marks","embedCard","nestedExpand_with_no_marks"]],minItems:1,allowUnsupportedBlock:!0}})),r.register("ekE9q",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["tableCell"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]}})),r.register("13IMC",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["tableHeader"]},attrs:{props:{colspan:{type:"number",optional:!0},rowspan:{type:"number",optional:!0},colwidth:{type:"array",items:[{type:"number"}],optional:!0},background:{type:"string",optional:!0}},optional:!0},content:"tableCell_content"},required:["content"]}})),r.register("c1DSV",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["blockCard","paragraph_with_no_marks","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList","heading_with_no_marks","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_no_marks","extension_with_marks","embedCard","table"]})),r.register("4dKTs",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["expand"]},attrs:{props:{title:{type:"string",optional:!0}}},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0},marks:{type:"array",items:[],optional:!0}}}})),r.register("d3kBy",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["expand",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("kOAeB",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["expand",{props:{marks:{type:"array",items:["breakout"],optional:!0}}}]})),r.register("9iYNC",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["bodiedExtension"]},attrs:{props:{extensionKey:{type:"string",minLength:1},extensionType:{type:"string",minLength:1},parameters:{type:"object",optional:!0},text:{type:"string",optional:!0},layout:{type:"enum",values:["wide","full-width","default"],optional:!0},localId:{type:"string",minLength:1,optional:!0}}},marks:{type:"array",items:[],optional:!0},content:{type:"array",items:["non_nestable_block_content"],minItems:1,allowUnsupportedBlock:!0}}}})),r.register("4YfLw",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["bodiedExtension",{props:{marks:{type:"array",items:[],maxItems:0,optional:!0}}}]})),r.register("tyw8G",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["bodiedExtension",{props:{marks:{type:"array",items:["dataConsumer"],optional:!0}}}]})),r.register("lObWO",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["blockCard","paragraph_with_no_marks","paragraph_with_alignment","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_no_marks","extension_with_marks","embedCard","table","expand_with_no_mark","bodiedExtension_with_no_marks","bodiedExtension_with_marks"]})),r.register("fXB6l",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["layoutColumn"]},attrs:{props:{width:{type:"number",minimum:0,maximum:100}}},content:{type:"array",items:["block_content"],minItems:1,allowUnsupportedBlock:!0}}}})),r.register("kcuMe",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{type:{type:"enum",values:["layoutSection"]},content:{type:"array",items:["layoutColumn"],minItems:2,maxItems:3,allowUnsupportedBlock:!0},marks:{type:"array",items:["breakout"],optional:!0}}}})),r.register("bShQK",(function(e,n){t(e.exports,"default",(function(){return r}));var r={props:{version:{type:"enum",values:[1]},type:{type:"enum",values:["doc"]},content:{type:"array",items:[["blockCard","paragraph_with_no_marks","paragraph_with_alignment","paragraph_with_indentation","bulletList","mediaSingle_full","mediaSingle_caption","codeBlock_with_no_marks","codeBlock_with_marks","orderedList","heading_with_no_marks","heading_with_alignment","heading_with_indentation","panel","blockquote","rule","mediaGroup","decisionList","taskList","extension_with_no_marks","extension_with_marks","embedCard","table","expand_with_no_mark","expand_with_breakout_mark","bodiedExtension_with_no_marks","bodiedExtension_with_marks","layoutSection"]],allowUnsupportedBlock:!0}}}})),r.register("50NGS",(function(n,o){t(n.exports,"isDefined",(function(){return a})),t(n.exports,"isNumber",(function(){return s})),t(n.exports,"isInteger",(function(){return c})),t(n.exports,"isBoolean",(function(){return l})),t(n.exports,"isString",(function(){return u})),t(n.exports,"isPlainObject",(function(){return d})),t(n.exports,"copy",(function(){return f})),t(n.exports,"makeArray",(function(){return p}));var i=r("EwJf3"),a=function(e){return null!=e},s=function(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)},c=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},l=function(e){return!0===e||!1===e||"[object Boolean]"===toString.call(e)},u=function(e){return"string"==typeof e||e instanceof String},d=function(t){return"object"===e(i)(t)&&null!==t&&!Array.isArray(t)},f=function(e,t,n){return t[n]=e[n],t},p=function(e){return Array.isArray(e)?e:[e]}})),r.register("g15pd",(function(n,o){t(n.exports,"findAndTrackUnsupportedContentNodes",(function(){return p})),t(n.exports,"fireUnsupportedEvent",(function(){return h})),t(n.exports,"trackUnsupportedContentTooltipDisplayedFor",(function(){return g}));var i=r("l15hj"),a=r("a8mog");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=["align","annotationType","extensionKey","extensionType","layout","type","localId","mode","language","timestamp","state","originalWidth","originalHeight","height","width","shortName","level","userType","order","panelType","color","style","isNumberColumnEnabled","colspan","rowspan","colwidth","background"];function u(e,t){var n=e.type.name;return t?"".concat(t," ").concat(n):n}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return e.forEach((function(e){if(e.attrs){var n=f(e.attrs);t.push(c(c({},e),{},{attrs:n}))}else t.push(c({},e))})),t},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},e);return Object.keys(e).filter((function(e){return!l.includes(e)})).forEach((function(e){null!==t[e]?t[e]="":t[e]="null"})),t},p=function e(t,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=t.type,s=t.marks,c=n.marks,l=c.unsupportedMark,p=c.unsupportedNodeAttribute,g=n.nodes,m=g.unsupportedInline,v=g.unsupportedBlock,b=o.split(" ").pop()||"";if(s.length&&s.forEach((function(e){if(e.type===l){var t=(e.attrs||{}).originalValue,n=f(t.attrs)||{},s={type:(t||{}).type||"",ancestry:o,parentType:b,marks:[],attrs:n||{}};h(r,a.ACTION_SUBJECT_ID.UNSUPPORTED_MARK,s)}else if(e.type===p){var c=(e.attrs||{}).unsupported,u=f(c)||{},d={type:i.name||"",ancestry:o,parentType:b,marks:[],attrs:u||{}};h(r,a.ACTION_SUBJECT_ID.UNSUPPORTED_NODE_ATTRIBUTE,d)}})),i===m||i===v){var y=t.attrs||{},E=y.originalValue,x=E||[],k=x.marks,C=E||{},S=C.attrs,T=E||{},O=T.type,w={type:O||"",ancestry:o,parentType:b,marks:d(k)||[],attrs:f(S)||{}},N=i===m?a.ACTION_SUBJECT_ID.UNSUPPORTED_INLINE:a.ACTION_SUBJECT_ID.UNSUPPORTED_BLOCK;h(r,N,w)}else t.content.forEach((function(i){return e(i,n,r,u(t,o))}))},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,o={unsupportedNode:n};r&&(o.errorCode=r);var i={action:a.ACTION.UNSUPPORTED_CONTENT_ENCOUNTERED,actionSubject:a.ACTION_SUBJECT.DOCUMENT,actionSubjectId:t,attributes:o,eventType:a.EVENT_TYPE.TRACK};e(i)},g=function(e,t,n){!function(e,t,n,r){t({action:e,actionSubjectId:n,actionSubject:a.ACTION_SUBJECT.TOOLTIP,eventType:a.EVENT_TYPE.UI,attributes:{unsupportedNodeType:r}})}(a.ACTION.UNSUPPORTED_TOOLTIP_VIEWED,e,t,n)}})),r.register("f7OFS",(function(e,n){t(e.exports,"measureRender",(function(){return i}));var o=r("iJTyt");function i(e,t){if(o.isPerformanceAPIAvailable()){var n="[START]: ".concat(e),r="[END]: ".concat(e),i=performance.now();performance.mark(n),requestAnimationFrame((function(){requestAnimationFrame((function(){performance.mark(r);var o=performance.now()-i;try{performance.measure(e,n,r);var a=performance.getEntriesByName(e).pop();a?t(a.duration,a.startTime):t(o,i)}catch(e){t(o,i)}performance.clearMeasures(e),performance.clearMarks(n),performance.clearMarks(r)}))}))}}})),r.register("iJTyt",(function(e,n){var r;function o(){return void 0===r&&(r="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType","now"].every((function(e){return!!performance[e]}))),r}function i(){return!("undefined"==typeof window||!("PerformanceObserver"in window))}function a(){return i()&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}t(e.exports,"isPerformanceAPIAvailable",(function(){return o})),t(e.exports,"isPerformanceObserverAvailable",(function(){return i})),t(e.exports,"isPerformanceObserverLongTaskAvailable",(function(){return a}))})),r.register("6qQ9w",(function(e,n){t(e.exports,"startMeasure",(function(){return a})),t(e.exports,"stopMeasure",(function(){return s})),t(e.exports,"clearMeasure",(function(){return c}));var o=r("iJTyt"),i=new Map;function a(e){o.isPerformanceAPIAvailable()&&(performance.mark("".concat(e,"::start")),i.set(e,performance.now()))}function s(e,t){if(o.isPerformanceAPIAvailable()){performance.mark("".concat(e,"::end"));var n=t?i.get(e):void 0;try{performance.measure(e,"".concat(e,"::start"),"".concat(e,"::end"))}catch(e){}finally{if(t){var r=performance.getEntriesByName(e).pop();r?t(r.duration,r.startTime):n&&t(performance.now()-n,n)}c(e)}}}function c(e){o.isPerformanceAPIAvailable()&&(i.delete(e),performance.clearMarks("".concat(e,"::start")),performance.clearMarks("".concat(e,"::end")),performance.clearMeasures(e))}})),r.register("aIzHR",(function(e,n){t(e.exports,"measureTTI",(function(){return a})),t(e.exports,"getTTISeverity",(function(){return d}));var o=r("a8mog"),i=r("iJTyt");function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60,r=arguments.length>3?arguments[3]:void 0;if(i.isPerformanceObserverLongTaskAvailable()){var o,a=performance.now(),s={startTime:a,duration:0},c=1e3*n,l=new(r||PerformanceObserver)((function(e){var t=e.getEntries();t.length&&(o=s,s=t[t.length-1])}));l.observe({entryTypes:["longtask"]});var u=function n(){var r=performance.now(),i=s.startTime+s.duration,u=o?o.startTime+o.duration:i;return o?s.startTime-u>=t?(l.disconnect(),e(u,u-a,c<=0)):r-i>=t||c<=0?(l.disconnect(),e(i,i-a,c<=0)):(c=Math.max(0,c-(r-a)),setTimeout(n,t)):(l.disconnect(),e(u,0,!1))};setTimeout(u,t)}}var s=4e4,c=6e4,l=5e3,u=8e3;function d(e,t,n,r,i,a){var d,f=r||c;d=e>=(n||s)&&e<f?o.SEVERITY.DEGRADED:e>=f?o.SEVERITY.BLOCKING:o.SEVERITY.NORMAL;var p=a||u;return{ttiSeverity:d,ttiFromInvocationSeverity:t>=(i||l)&&t<p?o.SEVERITY.DEGRADED:t>=p?o.SEVERITY.BLOCKING:o.SEVERITY.NORMAL}}})),r.register("4cO4S",(function(e,n){t(e.exports,"getResponseEndTime",(function(){return i}));var o=r("iJTyt");function i(){if(o.isPerformanceAPIAvailable()){var e=performance.getEntriesByType("navigation")[0];return e?e.responseEnd:void 0}}})),r.register("k7U83",(function(n,o){t(n.exports,"getExtensionRenderer",(function(){return a}));var i=r("EwJf3");function a(t){return"object"===e(i)(t)?t.render:t}})),r.register("85bzS",(function(n,o){t(n.exports,"calcTableColumnWidths",(function(){return a})),t(n.exports,"hasMergedCell",(function(){return s})),t(n.exports,"convertProsemirrorTableNodeToArrayOfRows",(function(){return c}));var i=r("fw3Q6");function a(t){var n=[],r=t.firstChild;return r&&r.forEach((function(t){var r=t.attrs.colwidth||[0];r&&(n=[].concat(e(i)(n),e(i)(r)))})),n}function s(e){var t=!1;return e.descendants((function(e){if("tableRow"===e.type.name)return!0;var n=e.attrs,r=n.colspan,o=n.rowspan;return(r>1||o>1)&&(t=!0),!1})),t}function c(e){var t=[];return e.forEach((function(e){if("tableRow"===e.type.name){var n=[];e.forEach((function(e){return n.push(e)})),t.push(n)}})),t}})),r.register("gAG1i",(function(n,o){t(n.exports,"createCompareNodes",(function(){return u}));var i,a,s=r("h67q9"),c=r("62p8w");function l(t,n){if(!t)return null;var r=t.firstChild;if(!r)return null;switch(r.type.name){case"heading":case"paragraph":return l(r,n);case"inlineCard":var o=r.attrs,a=n.getInlineCardTextFromStore(o);if(a)return{type:i.LINK,value:a};var c=o.url;return{type:i.LINK,value:c||""};case"text":var u=function(t){var n=t.marks.filter((function(e){return"link"===e.type.name}));return e(s)(n,1)[0]||null}(r);if(u){var d=r.text||"";return{type:i.LINK,value:d}}var f=r.text||"",p=f.indexOf(" "),h=-1!==p?f.substring(0,p):f,g=Number.parseFloat(h);return Number.isNaN(g)?{type:i.TEXT,value:h}:{type:i.NUMBER,value:g};case"status":var m=r.attrs.text;return{type:i.STATUS,value:m};case"date":var v=Number.parseInt(r.attrs.timestamp,20);return{type:i.DATE,value:v};case"mention":var b=r.attrs.text||"";return{type:i.MENTION,value:b.toLowerCase()};default:return null}}(a=i||(i={}))[a.NUMBER=0]="NUMBER",a[a.TEXT=5]="TEXT",a[a.MENTION=10]="MENTION",a[a.DATE=15]="DATE",a[a.STATUS=20]="STATUS",a[a.LINK=25]="LINK";var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SortOrder.ASC;return function(n,r){var o=l(n,e),i=l(r,e);return null===o||null===i?d(o,i):(t===c.SortOrder.DESC?-1:1)*d(o,i)}};function d(e,t){return e===t?0:null===e||null===t?null===t?-1:1:e.type!==t.type?e.type>t.type?1:-1:(n=e.value,r=t.value,n===r?0:n>r?1:-1);var n,r}})),r.register("62p8w",(function(e,n){t(e.exports,"SortOrder",(function(){return o})),t(e.exports,"AnnotationUpdateEvent",(function(){return r("57vEr").AnnotationUpdateEvent}));var o,i;r("57vEr");(i=o||(o={})).ASC="asc",i.DESC="desc",i.NO_ORDER="no_order"})),r.register("57vEr",(function(e,n){t(e.exports,"AnnotationUpdateEvent",(function(){return o}));var o,i;r("go2dD"),r("4NDMl"),r("l15hj"),r("fQ9oj");(i=o||(o={})).SET_ANNOTATION_FOCUS="SET_ANNOTATION_FOCUS",i.SET_ANNOTATION_STATE="SET_ANNOTATION_STATE",i.REMOVE_ANNOTATION_FOCUS="REMOVE_ANNOTATION_FOCUS",i.ON_ANNOTATION_CLICK="ON_ANNOTATION_CLICK"})),r.register("fQ9oj",(function(e,t){"use strict";var n,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};n=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function c(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function l(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var o,i,a,s;if(c(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),a=i[t]),void 0===a)a=i[t]=n,++e._eventsCount;else if("function"==typeof a?a=i[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(o=l(e))>0&&a.length>o&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,s=u,console&&console.warn&&console.warn(s)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function p(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):g(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return l(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return c(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return c(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,r,o,i,a;if(c(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){a=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]}})),r.register("kTFTI",(function(e,n){function r(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[e].concat(n);return function(e){return o.reduceRight((function(e,t){return t(e)}),e)}}t(e.exports,"compose",(function(){return r}))})),r.register("b6rQF",(function(e,n){t(e.exports,"ZERO_WIDTH_SPACE",(function(){return r}));var r="\u200b"})),r.register("brEbx",(function(e,n){t(e.exports,"shouldForceTracking",(function(){return r}));var r=function(){try{var e=(window.__buildInfo||{}).FRONTEND_VERSION,t=void 0===e?"":e;return"product-fabric.atlassian.net"===window.location.hostname&&t.includes("branch-deploy")}catch(e){return console.warn(e),!1}}})),r.register("4XiPG",(function(e,n){function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t(e.exports,"sniffUserBrowserExtensions",(function(){return s}));var i="grammarly-extension, grammarly-popups, [data-grammarly-shadow-root]",a=[{name:"grammarly",fns:{sync:function(){var e;return Boolean(null===(e=document)||void 0===e?void 0:e.querySelector(i))},async:function(e,t){var n;Boolean(null===(n=document)||void 0===n?void 0:n.querySelector(i))&&e();var o=[],a=function(){var t,n=r(o);try{for(n.s();!(t=n.n()).done;){var a,s=r(t.value);try{for(s.s();!(a=s.n()).done;){var c,l=a.value;if("childList"===(null==l?void 0:l.type)&&null!=l&&null!==(c=l.addedNodes)&&void 0!==c&&c.length)Array.from(l.addedNodes).some((function(e){var t;return null===(t=e.parentElement)||void 0===t?void 0:t.querySelector(i)}))&&e()}}catch(e){s.e(e)}finally{s.f()}}}catch(e){n.e(e)}finally{n.f()}o=[]},s=setInterval((function(){"function"==typeof window.requestIdleCallback?window.requestIdleCallback(a):window.requestAnimationFrame(a)}),1e3),c=new MutationObserver((function(e){o.push(e)}));t((function(){o=[],clearInterval(s),null==c||c.disconnect()})),c.observe(document.documentElement,{childList:!0,subtree:!0})}}}];function s(e){try{var t=(i=e.extensions,a.filter((function(e){return i.includes(e.name)})).map((function(e){return{name:e.name,state:{detected:!1},fns:{async:e.fns.async,sync:e.fns.sync}}})));if(!0===e.async){var n=[],r=Promise.all(t.map((function(e){return new Promise((function(t){"function"==typeof e.fns.async?e.fns.async((function(){e.state.detected=!0,t()}),(function(e){n.push(e)})):(e.state.detected=!1,t())}))}))),o=new Promise((function(t){return setTimeout(t,e.asyncTimeoutMs,"race_complete")}));return Promise.race([r,o]).then((function(){return t.filter((function(e){return e.state.detected})).map((function(e){return e.name}))})).catch((function(){return[]})).finally((function(){return n.map((function(e){return e()}))}))}return t.filter((function(e){var t,n;return null===(t=(n=e.fns).sync)||void 0===t?void 0:t.call(n)})).map((function(e){return e.name}))}catch(t){return e.async?Promise.resolve([]):[]}var i}})),r.register("5Nf4u",(function(e,n){t(e.exports,"combineExtensionProviders",(function(){return r("9MsCq").default})),t(e.exports,"getExtensionAutoConvertersFromProvider",(function(){return r("ecVYb").getExtensionAutoConvertersFromProvider})),t(e.exports,"getExtensionKeyAndNodeKey",(function(){return r("eESSH").getExtensionKeyAndNodeKey})),t(e.exports,"getExtensionModuleNode",(function(){return r("kn8yN").getExtensionModuleNode})),t(e.exports,"getQuickInsertItemsFromModule",(function(){return r("ecVYb").getQuickInsertItemsFromModule})),t(e.exports,"getNodeRenderer",(function(){return r("kn8yN").getNodeRenderer})),t(e.exports,"getExtensionModuleNodePrivateProps",(function(){return r("kn8yN").getExtensionModuleNodePrivateProps})),t(e.exports,"getContextualToolbarItemsFromModule",(function(){return r("ecVYb").getContextualToolbarItemsFromModule})),t(e.exports,"resolveImport",(function(){return r("eESSH").resolveImport})),t(e.exports,"getCustomFieldResolver",(function(){return r("7yTTW").getCustomFieldResolver})),t(e.exports,"getFieldSerializer",(function(){return r("7yTTW").getFieldSerializer})),t(e.exports,"getFieldDeserializer",(function(){return r("7yTTW").getFieldDeserializer})),t(e.exports,"isFieldset",(function(){return r("3nFm4").isFieldset})),t(e.exports,"isTabGroup",(function(){return r("3nFm4").isTabGroup})),t(e.exports,"isExpand",(function(){return r("3nFm4").isExpand})),t(e.exports,"isDateRange",(function(){return r("3nFm4").isDateRange})),t(e.exports,"getUserFieldContextProvider",(function(){return r("7yTTW").getUserFieldContextProvider}));r("9MsCq"),r("ecVYb"),r("eESSH"),r("kn8yN"),r("7yTTW"),r("3nFm4")})),r.register("3nFm4",(function(e,n){t(e.exports,"isFieldset",(function(){return r})),t(e.exports,"isTabGroup",(function(){return o})),t(e.exports,"isExpand",(function(){return i})),t(e.exports,"isDateRange",(function(){return a}));var r=function(e){return"fieldset"===e.type},o=function(e){return"tab-group"===e.type},i=function(e){return"expand"===e.type},a=function(e){return e&&e.hasOwnProperty("type")&&"date-range"===e.type}})),r.register("eESSH",(function(n,o){t(n.exports,"getExtensionKeyAndNodeKey",(function(){return d})),t(n.exports,"buildAction",(function(){return f})),t(n.exports,"resolveImport",(function(){return p}));var i=r("l15hj"),a=r("9ePZF"),s=r("cNgp7"),c=r("h67q9");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(t,n){if("com.atlassian.ecosystem"===n)return[t,"default"];var r=t.split(":"),o=e(c)(r,2),i=o[0],a=o[1];return[i,void 0===a?"default":a]};function f(e,t){return"function"==typeof e?e:"node"===e.type&&t.modules.nodes?function(e,t){if(!t.modules.nodes)return;var n=t.modules.nodes[e.key],r=function(e,t){return t&&"default"!==t?"".concat(e,":").concat(t):e}(t.key,e.key),o={type:n.type,attrs:{extensionType:t.type,extensionKey:r,parameters:e.parameters}};return"bodiedExtension"===n.type?u(u({},o),{},{content:[{type:"paragraph",content:[]}]}):o}(e,t):void 0}var p=function(){var t=e(s)(e(a).mark((function t(n){var r;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",r&&r.__esModule?r.default:r);case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()})),r.register("ecVYb",(function(n,o){t(n.exports,"getQuickInsertItemsFromModule",(function(){return p})),t(n.exports,"getExtensionAutoConvertersFromProvider",(function(){return g})),t(n.exports,"getContextualToolbarItemsFromModule",(function(){return y}));var i=r("9ePZF"),a=r("l15hj"),s=r("cNgp7"),c=r("fw3Q6"),l=r("eESSH");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(t,n){var r,o=t.map((function(e){return(e.modules.quickInsert||[]).map((function(t){return function(e,t){var n=t.title||e.title,r="".concat(e.key,":").concat(t.key),o=l.buildAction(t.action,e);if(!o)throw new Error("Couldn't find any action for ".concat(n," (").concat(r,")"));return{key:r,title:n,extensionType:e.type,keywords:t.keywords||e.keywords||[],featured:t.featured||!1,categories:t.categories||e.categories||[],description:t.description||e.description,summary:e.summary,documentationUrl:e.documentationUrl,icon:t.icon||e.icons[48],node:o}}(e,t)}))}));return(r=[]).concat.apply(r,e(c)(o)).map(n)};var h=function(e){return function(t){var n,r=d(e);try{for(r.s();!(n=r.n()).done;){var o=(0,n.value)(t);if(o)return o}}catch(e){r.e(e)}finally{r.f()}}};function g(e){return m.apply(this,arguments)}function m(){return(m=e(s)(e(i).mark((function t(n){var r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.next=5,r.getAutoConverter();case 5:return o=e.sent,e.abrupt("return",h(o));case 7:case"end":return e.stop()}}),t)})))).apply(this,arguments)}var v=function(e){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];(t=console).error.apply(t,[e].concat(r))},b=function(t,n){var r=t.tooltip,o=t.key,i=t.label,s=t.icon,c=t.action,l=t.disabled,d=[n,o].join(":");"function"!=typeof c&&v("Provided action is not a function for extension toolbar button: ".concat(i," (").concat(d,")"));var f={};switch(t.display){case"icon":s||v("icon should be provided for extension toolbar button (".concat(d,"), when display is set to 'icon'")),f={icon:s};break;case"label":i||v("label should be provided for extension toolbar button (".concat(d,"), when display is set to 'label'")),f={label:i};break;default:i&&s||v("label and icon should be provided for extension toolbar button (".concat(d,"), when display is not set or set to 'icon-and-label'")),f={icon:s,label:i}}return function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({key:d,tooltip:r,action:c,disabled:l},f)},y=function(e,t,n){return e.map((function(e){if(e.modules.contextualToolbars){var r=function(e){if(e.length>1){var t=e.map((function(e){return e.context}));return t.find((function(e,n){return n!==t.findIndex((function(t){return function(e,t){if(e.type===t.type&&e.nodeType===t.nodeType){if("node"===e.type)return!0;if("extension"===e.type&&"extension"===t.type)return e.extensionKey===t.extensionKey&&e.extensionType===t.extensionType}return!1}(e,t)}))}))}}(e.modules.contextualToolbars);return r?(v("[contextualToolbars] Duplicate context detected - ".concat(JSON.stringify(r),".")),[]):e.modules.contextualToolbars.map((function(e){if(function(e,t){var n;if("node"===e.context.type&&e.context.nodeType===t.type)return!0;if("extension"!==e.context.type||t.type!==e.context.nodeType)return!1;var r,o,i=e.context,a=i.extensionType,s=i.extensionKey;return(!a||a===(null===(n=t.attrs)||void 0===n?void 0:n.extensionType))&&("string"==typeof s?s===(null===(r=t.attrs)||void 0===r?void 0:r.extensionKey):!(!Array.isArray(s)||!s.length)&&s.includes(null===(o=t.attrs)||void 0===o?void 0:o.extensionKey))}(e,t)){var r=e.toolbarItems;return"function"==typeof r?r(t,n):r}return[]})).flatMap((function(t){return t.map((function(t){return b(t,e.key)}))}))}return[]})).flatMap((function(e){return e}))}})),r.register("kn8yN",(function(n,o){t(n.exports,"getExtensionModuleNode",(function(){return d})),t(n.exports,"getExtensionModuleNodePrivateProps",(function(){return p})),t(n.exports,"getNodeRenderer",(function(){return m}));var i=r("9ePZF"),a=r("h67q9"),s=r("cNgp7"),c=r("61szk"),l=r("2l34k"),u=r("eESSH");function d(e,t,n){return f.apply(this,arguments)}function f(){return(f=e(s)(e(i).mark((function t(n,r,o){var s,c,l,d,f,p;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=u.getExtensionKeyAndNodeKey(o,r),c=e(a)(s,2),l=c[0],d=c[1],t.next=3,n.getExtension(r,l);case 3:if(f=t.sent){t.next=6;break}throw new Error('Extension with key "'.concat(l,'" and type "').concat(r,'" not found!'));case 6:if(f.modules.nodes){t.next=8;break}throw new Error("Couldn't find any node for extension type \"".concat(r,'" and key "').concat(o,'"!'));case 8:if(p=f.modules.nodes[d]){t.next=11;break}throw new Error('Node with key "'.concat(o,'" not found on manifest for extension type "').concat(r,'" and key "').concat(o,'"!'));case 11:return t.abrupt("return",p);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function p(e,t,n){return h.apply(this,arguments)}function h(){return(h=e(s)(e(i).mark((function t(n,r,o){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(n,r,o);case 2:return a=e.sent,e.abrupt("return",Object.keys(a).filter((function(e){return e.startsWith("__")})).reduce((function(e,t){return e[t]=a[t],e}),{}));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function g(t){return t.error||t.timedOut?(console.error("Error rendering extension",t.error),e(c).createElement("div",null,"Error loading the extension!")):null}function m(t,n,r){return e(l)({loader:function(){return d(t,n,r).then((function(e){return u.resolveImport(e.render())}))},loading:g})}})),r.register("9MsCq",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1puJP"),i=function(e){var t=o.default(e),n=t.invokeSingle,r=t.invokeList;return{getExtensions:function(){return r("getExtensions")},getExtension:function(e,t){return n("getExtension",[e,t])},search:function(e){return r("search",[e])},getAutoConverter:function(){return r("getAutoConverter")}}}})),r.register("1puJP",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("9ePZF"),a=r("cNgp7"),s=r("fw3Q6"),c=r("hRWHh"),l=function(t){if(0===t.length)throw new Error("At least one provider must be provided");var n=function(){var n=e(a)(e(i).mark((function n(){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.waitForAllPromises(t.map((function(e){return Promise.resolve(e)})));case 2:return r=e.sent,e.abrupt("return",c.getOnlyFulfilled(r));case 4:case"end":return e.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),r=function(){var t=e(a)(e(i).mark((function t(r){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return e.abrupt("return",e.sent.map((function(e){return r(e)})));case 3:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),o=function(e,t){return function(n){var r=n[e];if("function"==typeof r)return r.apply(n,t);throw new Error('"'.concat(e,"\" isn't a function of the provider"))}},l=function(){var t=e(a)(e(i).mark((function t(n,a){var s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=o(n,a),e.t0=c.waitForFirstFulfilledPromise,e.next=4,r(s);case 4:return e.t1=e.sent,e.abrupt("return",e.t0(e.t1));case 6:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),u=function(){var t=e(a)(e(i).mark((function t(n,a){var l,u,d;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=o(n,a),t.t0=c.waitForAllPromises,t.next=4,r(l);case 4:return t.t1=t.sent,t.next=7,t.t0(t.t1);case 7:return u=t.sent,d=c.getOnlyFulfilled(u),t.abrupt("return",(i=d,f=void 0,(f=[]).concat.apply(f,e(s)(i))).filter((function(e){return e})));case 10:case"end":return t.stop()}var i,f}),t)})));return function(e,n){return t.apply(this,arguments)}}();return{invokeSingle:l,invokeList:u}}})),r.register("hRWHh",(function(e,n){var r,o;t(e.exports,"waitForAllPromises",(function(){return c})),t(e.exports,"waitForFirstFulfilledPromise",(function(){return l})),t(e.exports,"getOnlyFulfilled",(function(){return u})),(o=r||(r={})).FULFILLED="fulfilled",o.FAILED="failed";var i=function(e){return e.status===r.FULFILLED},a=function(e){return{status:r.FULFILLED,value:e}},s=function(e){return{status:r.FAILED,reason:e}},c=function(e){return Promise.all(e.map((function(e){return e.then(a).catch(s)})))},l=function(e){var t=[];return new Promise((function(n,r){e.forEach((function(o){return o.then((function(e){if(null==e)throw new Error("Result was not found but the method didn't reject/throw. Please ensure that it doesn't return null or undefined.");n(e)})).catch((function(n){t.push(n),t.length===e.length&&r(n)}))}))}))},u=function(e){return e.filter(i).map((function(e){return e.value}))}})),r.register("7yTTW",(function(n,o){t(n.exports,"getCustomFieldResolver",(function(){return l})),t(n.exports,"getFieldSerializer",(function(){return d})),t(n.exports,"getFieldDeserializer",(function(){return p})),t(n.exports,"getUserFieldContextProvider",(function(){return g}));var i=r("9ePZF"),a=r("cNgp7");function s(e,t,n){return c.apply(this,arguments)}function c(){return(c=e(a)(e(i).mark((function t(n,r,o){var a,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.type){e.next=2;break}throw new Error("Missing type!");case 2:if(n.modules.fields){e.next=4;break}throw new Error('No definition of fields for extension type "'.concat(n.type,'" and key "').concat(n.key,'"'));case 4:if(n.modules.fields[r]){e.next=6;break}throw new Error('No definition for field type "'.concat(r,'" on manifest for extension with type "').concat(n.type,'" and key "').concat(n.key,'"'));case 6:if(a=o.type,s=n.modules.fields[r][a]){e.next=10;break}throw new Error('No handler of type "'.concat(a,'" for extension type "').concat(n.type,'" and key "').concat(n.key,'"'));case 10:return e.abrupt("return",s);case 11:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function l(e,t){return u.apply(this,arguments)}function u(){return(u=e(a)(e(i).mark((function t(n,r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,"custom",r);case 2:return o=e.sent,e.abrupt("return",o.resolver);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function d(e,t){return f.apply(this,arguments)}function f(){return(f=e(a)(e(i).mark((function t(n,r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,"fieldset",r);case 2:return o=e.sent,e.abrupt("return",o.serializer);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e,t){return h.apply(this,arguments)}function h(){return(h=e(a)(e(i).mark((function t(n,r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,"fieldset",r);case 2:return o=e.sent,e.abrupt("return",o.deserializer);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function g(e,t){return m.apply(this,arguments)}function m(){return(m=e(a)(e(i).mark((function t(n,r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(n,"user",r);case 2:return o=e.sent,e.abrupt("return",o.provider);case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}})),r.register("9w2Xf",(function(e,n){t(e.exports,"WithProviders",(function(){return r("MsgJD").WithProviders})),t(e.exports,"useProviderFactory",(function(){return r("88AWt").useProviderFactory})),t(e.exports,"ProviderFactory",(function(){return r("g4Rxo").default}));r("MsgJD"),r("88AWt"),r("g4Rxo")})),r.register("MsgJD",(function(n,o){t(n.exports,"WithProviders",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(t){var o;e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"handleProvider",(function(t,n){o.setState((function(r){return{providers:p(p({},r.providers),{},e(d)({},t,n))}}))}));var a={};return o.props.providers.forEach((function(e){a[e]=void 0})),o.state={providers:a},o}return e(a)(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach((function(t){r.subscribe(t,e.handleProvider)}))}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props,n=t.providers,r=t.providerFactory;n.forEach((function(t){r.unsubscribe(t,e.handleProvider)}))}},{key:"render",value:function(){var e=this.state;return(0,this.props.renderNode)(e.providers)}}]),r}(r("61szk").PureComponent);e(d)(g,"displayName","WithProviders")})),r.register("88AWt",(function(n,o){t(n.exports,"useProviderFactory",(function(){return c}));r("h67q9");var i=r("61szk"),a=r("g4Rxo"),s=e(i).createContext(new a.default),c=(s.Provider,function(){return e(i).useContext(s)})})),r.register("g4Rxo",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj");var c=function(){function t(){e(i)(this,t),e(s)(this,"providers",new Map),e(s)(this,"subscribers",new Map)}return e(a)(t,[{key:"destroy",value:function(){this.providers.clear(),this.subscribers.clear()}},{key:"isEmpty",value:function(){return!this.providers.size&&!this.subscribers.size}},{key:"setProvider",value:function(e,t){this.providers.get(e)!==t&&(void 0!==t?this.providers.set(e,t):this.providers.delete(e),this.notifyUpdated(e,t))}},{key:"removeProvider",value:function(e){this.providers.delete(e),this.notifyUpdated(e)}},{key:"subscribe",value:function(e,t){var n=this.subscribers.get(e)||[];n.push(t),this.subscribers.set(e,n);var r=this.providers.get(e);r&&t(e,r)}},{key:"unsubscribe",value:function(e,t){var n=this.subscribers.get(e);if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1),0===n.length?this.subscribers.delete(e):this.subscribers.set(e,n)}}},{key:"unsubscribeAll",value:function(e){this.subscribers.get(e)&&this.subscribers.delete(e)}},{key:"hasProvider",value:function(e){return this.providers.has(e)}},{key:"notifyUpdated",value:function(e,t){var n=this.subscribers.get(e);n&&n.forEach((function(n){n(e,t)}))}}],[{key:"create",value:function(e){var n=new t;return Object.keys(e).forEach((function(t){n.setProvider(t,e[t])})),n}}]),t}()})),r.register("jPV1L",(function(n,o){t(n.exports,"tableMarginTop",(function(){return g})),t(n.exports,"tableMarginBottom",(function(){return m})),t(n.exports,"tableMarginSides",(function(){return v})),t(n.exports,"tableCellMinWidth",(function(){return b})),t(n.exports,"tableNewColumnMinWidth",(function(){return y})),t(n.exports,"tableCellBorderWidth",(function(){return E})),t(n.exports,"tableCellPadding",(function(){return x})),t(n.exports,"TableSharedCssClassName",(function(){return k})),t(n.exports,"tableSharedStyle",(function(){return C})),t(n.exports,"calcTableWidth",(function(){return S}));var i=r("lhkMJ"),a=r("SssiD"),s=r("ekJGA");r("8iml0");var c=r("82cWi"),l=r("f9c8b"),u=r("bXS0g");r("g8xmM");var d,f=r("fztGn"),p=r("hEJjh"),h=r("4W5Y2"),g=24,m=16,v=8,b=48,y=140,E=1,x=8,k={TABLE_CONTAINER:"".concat(s.tablePrefixSelector,"-container"),TABLE_NODE_WRAPPER:"".concat(s.tablePrefixSelector,"-wrapper"),TABLE_LEFT_SHADOW:"".concat(s.tablePrefixSelector,"-with-left-shadow"),TABLE_RIGHT_SHADOW:"".concat(s.tablePrefixSelector,"-with-right-shadow"),TABLE_STICKY_SHADOW:"".concat(s.tablePrefixSelector,"-sticky-shadow"),TABLE_STICKY_WRAPPER:"".concat(s.tablePrefixSelector,"-sticky-wrapper"),TABLE_STICKY_SENTINEL_TOP:"".concat(s.tablePrefixSelector,"-sticky-sentinel-top"),TABLE_STICKY_SENTINEL_BOTTOM:"".concat(s.tablePrefixSelector,"-sticky-sentinel-bottom"),TABLE_CELL_NODEVIEW_CONTENT_DOM:s.tableCellContentDomSelector},C=a.css(d||(d=e(i)(["\n  ."," {\n    position: relative;\n    margin: 0 auto ","px;\n    box-sizing: border-box;\n\n    /**\n     * Fix block top alignment inside table cells.\n     */\n    .decisionItemView-content-wrap:first-child > div {\n      margin-top: 0;\n    }\n  }\n  .","[data-number-column='true'] {\n    padding-left: ","px;\n  }\n  /* avoid applying styles to nested tables (possible via extensions) */\n  ."," > table,\n  ."," > table,\n  ."," > table {\n    border-collapse: collapse;\n    margin: ","px ","px 0 0;\n    border: ","px solid\n      ",";\n    table-layout: fixed;\n    font-size: 1em;\n    width: 100%;\n\n    &[data-autosize='true'] {\n      table-layout: auto;\n    }\n\n    & {\n      * {\n        box-sizing: border-box;\n      }\n      hr {\n        box-sizing: content-box;\n      }\n\n      tbody {\n        border-bottom: none;\n      }\n      th td {\n        background-color: white;\n      }\n      th,\n      td {\n        min-width: ","px;\n        font-weight: normal;\n        vertical-align: top;\n        border: 1px solid\n          ",";\n        border-right-width: 0;\n        border-bottom-width: 0;\n        padding: ","px;\n        /* https://stackoverflow.com/questions/7517127/borders-not-shown-in-firefox-with-border-collapse-on-table-position-relative-o */\n        ","\n\n        ",";\n\n        > *:first-child {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor.-right:first-child + * {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor:first-child + span + * {\n          margin-top: 0;\n        }\n\n        th p:not(:first-of-type),\n        td p:not(:first-of-type) {\n          margin-top: 12px;\n        }\n      }\n      th {\n        background-color: ",";\n        text-align: left;\n\n        /* only apply this styling to codeblocks in default background headercells */\n        /* TODO this needs to be overhauled as it relies on unsafe selectors */\n        &:not([style]) {\n          .code-block {\n            background-image: ",";\n            background-attachment: local, scroll, scroll;\n            background-position: 100% 0, 100% 0, 0 0;\n            background-color: ",";\n\n            .line-number-gutter {\n              background-color: ",";\n            }\n\n            /* this is only relevant to the element taken care of by renderer */\n            > [data-ds--code--code-block] {\n              background-image: ","!important;\n\n              background-color: ","!important;\n\n              // selector lives inside @atlaskit/code\n              --ds--code--line-number-bg-color: ",";\n            }\n          }\n        }\n      }\n    }\n  }\n"])),k.TABLE_CONTAINER,m,k.TABLE_CONTAINER,c.akEditorTableNumberColumnWidth-1,k.TABLE_CONTAINER,k.TABLE_NODE_WRAPPER,k.TABLE_STICKY_WRAPPER,g,v,E,f.default({light:c.akEditorTableBorder,dark:c.akEditorTableBorderDark}),b,f.default({light:c.akEditorTableBorder,dark:c.akEditorTableBorderDark}),x,h.default.gecko||h.default.ie?"background-clip: padding-box;":"",f.default({dark:c.getTableCellBackgroundDarkModeColors}),f.default({light:c.akEditorTableToolbar,dark:c.akEditorTableToolbarDark}),l.overflowShadow({background:f.default({light:"rgb(235, 237, 240)",dark:"rgb(36, 47, 66)"}),width:"".concat(p.gridSize(),"px")}),f.default({light:"rgb(235, 237, 240)",dark:"rgb(36, 47, 66)"}),f.default({light:"rgb(226, 229, 233)",dark:u.DN20}),l.overflowShadow({background:f.default({light:"rgb(235, 237, 240)",dark:"rgb(36, 47, 66)"}),width:"".concat(p.gridSize(),"px")}),f.default({light:"rgb(235, 237, 240)",dark:"rgb(36, 47, 66)"}),f.default({light:"rgb(226, 229, 233)",dark:u.DN20})),S=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];switch(e){case"full-width":return"".concat(t?Math.min(t-(n?c.akEditorBreakoutPadding:0),c.akEditorFullWidthLayoutWidth):c.akEditorFullWidthLayoutWidth,"px");case"wide":return"".concat(t?Math.min(t-(n?c.akEditorBreakoutPadding:0),c.akEditorWideLayoutWidth):c.akEditorWideLayoutWidth,"px");default:return"inherit"}}})),r.register("g8xmM",(function(e,n){t(e.exports,"themed",(function(){return r("fztGn").default}));r("fztGn")})),r.register("kDGkE",(function(n,o){t(n.exports,"AnnotationSharedClassNames",(function(){return p})),t(n.exports,"AnnotationSharedCSSByState",(function(){return h})),t(n.exports,"annotationSharedStyles",(function(){return g}));var i=r("lhkMJ"),a=r("SssiD"),s=r("bXS0g");r("g8xmM");var c,l,u,d=r("fztGn"),f="ak-editor-annotation",p={focus:"".concat(f,"-focus"),blur:"".concat(f,"-blur"),draft:"".concat(f,"-draft")},h={focus:a.css(c||(c=e(i)(["\n    background: ",";\n    border-bottom: 2px solid ",";\n    box-shadow: 1px 2px 3px ",", -1px 2px 3px ",";\n    cursor: pointer;\n  "])),d.default({light:s.Y75,dark:"rgb(111, 92, 37)"}),d.default({light:s.Y300,dark:"#ffd557"}),s.N60A,s.N60A),blur:a.css(l||(l=e(i)(["\n    background: ",";\n    border-bottom: 2px solid ",";\n    cursor: pointer;\n  "])),d.default({light:"rgba(255, 240, 179, 0.5)",dark:"rgba(111, 92, 37, 0.5)"}),d.default({light:"rgba(255, 196, 0, 0.82)",dark:"#82641c"}))},g=a.css(u||(u=e(i)(["\n  .ProseMirror {\n    ."," {\n      ",";\n    }\n\n    ."," {\n      ",";\n      cursor: initial;\n    }\n\n    ."," {\n      ",";\n    }\n  }\n"])),p.focus,h.focus,p.draft,h.focus,p.blur,h.blur)})),r.register("b9XJZ",(function(n,o){t(n.exports,"columnLayoutSharedStyle",(function(){return l}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=a.css(s||(s=e(i)(["\n  [data-layout-section] {\n    display: flex;\n    flex-direction: row;\n    & > * {\n      flex: 1;\n      min-width: 0;\n    }\n\n    & > .unsupportedBlockView-content-wrap {\n      min-width: initial;\n    }\n\n    @media screen and (max-width: ","px) {\n      flex-direction: column;\n    }\n  }\n"])),c.gridMediumMaxWidth)})),r.register("kIH45",(function(n,o){t(n.exports,"richMediaClassName",(function(){return c})),t(n.exports,"mediaSingleSharedStyle",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c="rich-media-item",l=s.css(i||(i=e(a)(["\n  li ."," {\n    margin: 0;\n  }\n\n  /* Hack for chrome to fix media single position\n     inside a list when media is the first child */\n  &.ua-chrome li > .mediaSingleView-content-wrap::before {\n    content: '';\n    display: block;\n    height: 0;\n  }\n\n  .mediaSingleView-content-wrap[layout='center'] {\n    clear: both;\n  }\n\n  table ."," {\n    margin-top: 12px;\n    margin-bottom: 12px;\n    clear: both;\n  }\n\n  .",".image-wrap-right\n    + .",".image-wrap-left {\n    clear: both;\n  }\n\n  .",".image-wrap-left\n    + .",".image-wrap-right,\n    .",".image-wrap-right\n    + .",".image-wrap-left,\n    .",".image-wrap-left\n    + .",".image-wrap-left,\n    .",".image-wrap-right\n    + .",".image-wrap-right {\n    margin-right: 0;\n    margin-left: 0;\n  }\n\n  @media all and (max-width: ","px) {\n    div.mediaSingleView-content-wrap[layout='wrap-left'],\n    div.mediaSingleView-content-wrap[data-layout='wrap-left'],\n    div.mediaSingleView-content-wrap[layout='wrap-right'],\n    div.mediaSingleView-content-wrap[data-layout='wrap-right'] {\n      float: none;\n      overflow: auto;\n      margin: 12px 0;\n    }\n  }\n"])),c,c,c,c,c,c,c,c,c,c,c,c,410)})),r.register("5JmTc",(function(n,o){t(n.exports,"blockquoteSharedStyles",(function(){return u}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=r("hEJjh"),u=a.css(s||(s=e(i)(["\n  & blockquote {\n    box-sizing: border-box;\n    padding-left: ","px;\n    border-left: 2px solid ",";\n    margin: "," 0 0 0;\n    margin-right: 0;\n\n    [dir='rtl'] & {\n      padding-left: 0;\n      padding-right: ","px;\n    }\n\n    &:first-child {\n      margin-top: 0;\n    }\n\n    &::before {\n      content: '';\n    }\n\n    &::after {\n      content: none;\n    }\n\n    & p {\n      display: block;\n    }\n\n    & table,\n    & table:last-child {\n      display: inline-table;\n    }\n  }\n"])),2*l.gridSize(),c.akEditorBlockquoteBorderColor,c.blockNodesVerticalMargin,2*l.gridSize())})),r.register("cQf9L",(function(n,o){t(n.exports,"headingsSharedStyles",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("it21B"),l=s.css(i||(i=e(a)(["\n  & h1 {\n    ",";\n    margin-bottom: 0;\n    margin-top: 1.667em;\n  }\n\n  & h2 {\n    ",";\n    margin-top: 1.8em;\n    margin-bottom: 0;\n  }\n\n  & h3 {\n    ",";\n    margin-top: 2em;\n    margin-bottom: 0;\n  }\n\n  & h4 {\n    ",";\n    margin-top: 1.357em;\n  }\n\n  & h5 {\n    ",";\n    margin-top: 1.667em;\n    text-transform: none;\n  }\n\n  & h6 {\n    ",";\n    margin-top: 1.455em;\n    text-transform: none;\n  }\n"])),c.h700,c.h600,c.h500,c.h400,c.h300,c.h100)})),r.register("it21B",(function(n,o){t(n.exports,"h700",(function(){return y})),t(n.exports,"h600",(function(){return E})),t(n.exports,"h500",(function(){return x})),t(n.exports,"h400",(function(){return k})),t(n.exports,"h300",(function(){return C})),t(n.exports,"h200",(function(){return S})),t(n.exports,"h100",(function(){return T}));var i=r("l15hj"),a=r("3skCZ"),s=r("bXS0g"),c=r("hEJjh");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(e,t){return{fontSize:"".concat(e/c.fontSize(),"em"),fontStyle:"inherit",lineHeight:t/e}},f={size:24,lineHeight:28},p={size:20,lineHeight:24},h={size:16,lineHeight:20},g={size:14,lineHeight:16},m={size:12,lineHeight:16},v={size:12,lineHeight:16},b={size:11,lineHeight:16},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(f.size,f.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:500,letterSpacing:"-0.01em",marginTop:"".concat(5*c.gridSize(),"px")})},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(p.size,p.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:500,letterSpacing:"-0.008em",marginTop:"".concat(3.5*c.gridSize(),"px")})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(h.size,h.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:600,letterSpacing:"-0.006em",marginTop:"".concat(3*c.gridSize(),"px")})},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(g.size,g.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:600,letterSpacing:"-0.003em",marginTop:"".concat(2*c.gridSize(),"px")})},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(m.size,m.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:600,marginTop:"".concat(2.5*c.gridSize(),"px"),textTransform:"uppercase"})},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(v.size,v.lineHeight)),{},{color:a.default("color.text.lowEmphasis",s.subtleHeading(e)),fontWeight:600,marginTop:"".concat(2*c.gridSize(),"px")})},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(b.size,b.lineHeight)),{},{color:a.default("color.text.lowEmphasis",s.subtleHeading(e)),fontWeight:700,marginTop:"".concat(2*c.gridSize(),"px")})}})),r.register("5AXQ3",(function(n,o){t(n.exports,"PanelSharedCssClassName",(function(){return E})),t(n.exports,"getPanelTypeBackground",(function(){return k})),t(n.exports,"panelSharedStyles",(function(){return S}));var i=r("lhkMJ"),a=r("SssiD"),s=r("ekJGA");r("8iml0");var c=r("82cWi"),l=r("bXS0g");r("g8xmM");var u,d=r("fztGn"),f=r("hEJjh"),p={info:l.B50,note:l.P50,tip:l.G50,success:l.G50,warning:l.Y50,error:l.R50},h={info:l.B500,note:l.P500,tip:l.G500,success:l.G500,warning:l.Y500,error:l.R500},g={info:l.B400,note:l.P400,tip:l.G400,success:l.G400,warning:l.Y400,error:l.R400},m={info:l.B400,note:l.P400,tip:l.G400,success:l.G400,warning:l.Y400,error:l.R400},v={info:l.B100,note:l.P100,tip:l.G200,success:l.G200,warning:l.Y100,error:l.R200},b={info:l.B75,note:l.P75,tip:l.G75,success:l.G75,warning:l.Y75,error:l.R75},y="ak-editor-panel",E={prefix:y,content:"".concat(y,"__content"),icon:"".concat(y,"__icon")},x=(".".concat(y,"[data-panel-type=").concat(s.PanelType.INFO,"]"),".".concat(y,"[data-panel-type=").concat(s.PanelType.NOTE,"]"),".".concat(y,"[data-panel-type=").concat(s.PanelType.WARNING,"]"),".".concat(y,"[data-panel-type=").concat(s.PanelType.ERROR,"]"),".".concat(y,"[data-panel-type=").concat(s.PanelType.SUCCESS,"]"),function(e){return function(t){var n=m[e],r=v[e],o=d.default({light:n,dark:r})(t);return"\n    color: ".concat(o,";\n  ")}}),k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=p[e],r=s.hexToRgba(h[e],.64),o=d.default({light:n,dark:r})(t);return o||"none"},C=function(e){return function(t){var n=k(e,t),r=b[e],o="1px solid "+g[e],i=d.default({light:"none",dark:o})(t),a=d.default({light:"inherit",dark:r})(t);return"\n    background-color: ".concat(n,";\n    border: ").concat(i,";\n    color: ").concat(a,";\n  ")}},S=a.css(u||(u=e(i)(["\n  ."," {\n    border-radius: ","px;\n    margin: "," 0 0;\n    padding: ","px;\n    min-width: ","px;\n    display: flex;\n    align-items: baseline;\n    word-break: break-word;\n\n    ","\n\n    ."," {\n      display: block;\n      flex-shrink: 0;\n      height: ","px;\n      width: ","px;\n      box-sizing: content-box;\n      padding-right: ","px;\n      ","\n\n      > span {\n        vertical-align: middle;\n        display: inline;\n      }\n    }\n\n    .ak-editor-panel__content {\n      margin: 1px 0 1px;\n      flex: 1 0 0;\n      /*\n        https://ishadeed.com/article/min-max-css/#setting-min-width-to-zero-with-flexbox\n        The default value for min-width is auto, which is computed to zero. When an element is a flex item, the value of min-width doesn\u2019t compute to zero. The minimum size of a flex item is equal to the size of its contents.\n      */\n      min-width: 0;\n    }\n\n    &[data-panel-type='","'] {\n      ","\n\n      ."," {\n        ","\n      }\n    }\n\n    &[data-panel-type='","'] {\n      ","\n\n      ."," {\n        ","\n      }\n    }\n\n    &[data-panel-type='","'] {\n      ","\n\n      ."," {\n        ","\n      }\n    }\n\n    &[data-panel-type='","'] {\n      ","\n\n      ."," {\n        ","\n      }\n    }\n\n    &[data-panel-type='","'] {\n      ","\n\n      ."," {\n        ","\n      }\n    }\n  }\n"])),E.prefix,f.borderRadius(),c.blockNodesVerticalMargin,f.gridSize(),c.akEditorTableCellMinWidth,C(s.PanelType.INFO),E.icon,3*f.gridSize(),3*f.gridSize(),f.gridSize(),x(s.PanelType.INFO),s.PanelType.NOTE,C(s.PanelType.NOTE),E.icon,x(s.PanelType.NOTE),s.PanelType.TIP,C(s.PanelType.TIP),E.icon,x(s.PanelType.TIP),s.PanelType.WARNING,C(s.PanelType.WARNING),E.icon,x(s.PanelType.WARNING),s.PanelType.ERROR,C(s.PanelType.ERROR),E.icon,x(s.PanelType.ERROR),s.PanelType.SUCCESS,C(s.PanelType.SUCCESS),E.icon,x(s.PanelType.SUCCESS))})),r.register("ddFg9",(function(n,o){t(n.exports,"ruleSharedStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s=r("82cWi"),c=r("bXS0g");r("g8xmM");var l,u=r("fztGn").default({light:c.N30A,dark:c.DN50}),d=a.css(l||(l=e(i)(["\n  & hr {\n    border: none;\n    background-color: ",";\n    margin: ","em 0;\n    height: 2px;\n    border-radius: 1px;\n  }\n"])),u,s.akEditorLineHeight)})),r.register("i9jUF",(function(n,o){t(n.exports,"whitespaceSharedStyles",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  word-wrap: break-word;\n  white-space: pre-wrap;\n"])))})),r.register("l9pPY",(function(n,o){t(n.exports,"paragraphSharedStyles",(function(){return l}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=a.css(s||(s=e(i)(["\n  & p {\n    font-size: 1em;\n    line-height: ",";\n    font-weight: normal;\n    margin-top: ",";\n    margin-bottom: 0;\n    letter-spacing: -0.005em;\n  }\n"])),c.akEditorLineHeight,c.blockNodesVerticalMargin)})),r.register("c7GqT",(function(n,o){t(n.exports,"inlineNodeSharedStyle",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  .inline-node--mobile {\n    display: inline-block !important;\n  }\n"])))})),r.register("jTCDl",(function(n,o){t(n.exports,"linkSharedStyle",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  a.blockLink {\n    display: block;\n  }\n"])))})),r.register("bUt3T",(function(n,o){t(n.exports,"listsSharedStyles",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("ekJGA"),l=s.css(i||(i=e(a)(["\n  /* =============== INDENTATION SPACING ========= */\n\n  ul,\n  ol {\n    box-sizing: border-box;\n    padding-left: 24px;\n  }\n\n  ",", "," {\n    /*\n      Ensures list item content adheres to the list's margin instead\n      of filling the entire block row. This is important to allow\n      clicking interactive elements which are floated next to a list.\n\n      For some history and context on this block, see PRs related to tickets.:\n      @see ED-6551 - original issue.\n      @see ED-7015 - follow up issue.\n      @see ED-7447 - flow-root change.\n\n      We use 'display: table' (old clear fix / new block formatting context hack)\n      for older browsers and 'flow-root' for modern browsers.\n\n      @see https://css-tricks.com/display-flow-root/\n    */\n    // For older browsers the do not support flow-root.\n    display: table;\n    display: flow-root;\n  }\n\n  /* =============== INDENTATION AESTHETICS ========= */\n\n  /**\n        We support nested lists up to six levels deep.\n    **/\n\n  /* LEGACY LISTS */\n\n  ul,\n  ul ul ul ul {\n    list-style-type: disc;\n  }\n\n  ul ul,\n  ul ul ul ul ul {\n    list-style-type: circle;\n  }\n\n  ul ul ul,\n  ul ul ul ul ul ul {\n    list-style-type: square;\n  }\n\n  ol,\n  ol ol ol ol {\n    list-style-type: decimal;\n  }\n  ol ol,\n  ol ol ol ol ol {\n    list-style-type: lower-alpha;\n  }\n  ol ol ol,\n  ol ol ol ol ol ol {\n    list-style-type: lower-roman;\n  }\n\n  /* PREDICTABLE LISTS */\n\n  ol[data-indent-level='1'],\n  ol[data-indent-level='4'] {\n    list-style-type: decimal;\n  }\n\n  ol[data-indent-level='2'],\n  ol[data-indent-level='5'] {\n    list-style-type: lower-alpha;\n  }\n\n  ol[data-indent-level='3'],\n  ol[data-indent-level='6'] {\n    list-style-type: lower-roman;\n  }\n\n  ul[data-indent-level='1'],\n  ul[data-indent-level='4'] {\n    list-style-type: disc;\n  }\n\n  ul[data-indent-level='2'],\n  ul[data-indent-level='5'] {\n    list-style-type: circle;\n  }\n\n  ul[data-indent-level='3'],\n  ul[data-indent-level='6'] {\n    list-style-type: square;\n  }\n"])),c.orderedListSelector,c.bulletListSelector)})),r.register("gY7bO",(function(n,o){t(n.exports,"indentationSharedStyles",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  .fabric-editor-indentation-mark {\n    &[data-level='1'] {\n      margin-left: 30px;\n    }\n    &[data-level='2'] {\n      margin-left: 60px;\n    }\n    &[data-level='3'] {\n      margin-left: 90px;\n    }\n    &[data-level='4'] {\n      margin-left: 120px;\n    }\n    &[data-level='5'] {\n      margin-left: 150px;\n    }\n    &[data-level='6'] {\n      margin-left: 180px;\n    }\n  }\n"])))})),r.register("1CZPU",(function(n,o){t(n.exports,"blockMarksSharedStyles",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  /**\n   * We need to remove margin-top from first item\n   * inside doc, tableCell, tableHeader, blockquote, etc.\n   */\n  *:not(.fabric-editor-block-mark) >,\n  /* For nested block marks */\n  *:not(.fabric-editor-block-mark) > div.fabric-editor-block-mark:first-child {\n    p,\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      &:first-child {\n        margin-top: 0;\n      }\n    }\n  }\n"])))})),r.register("f6SCn",(function(n,o){t(n.exports,"codeMarkSharedStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("kN7Fi");var s=r("9duCv"),c=r("bXS0g");r("g8xmM");var l,u=r("fztGn"),d=a.css(l||(l=e(i)(["\n  .code {\n    --ds--code--bg-color: ",";\n    ","\n  }\n"])),u.default({light:c.N30A,dark:c.DN70}),s.getCodeStyles)})),r.register("kN7Fi",(function(e,n){t(e.exports,"default",(function(){return r("jWgTb").default})),t(e.exports,"getCodeStyles",(function(){return r("9duCv").getCodeStyles}));r("jWgTb"),r("9duCv")})),r.register("jWgTb",(function(n,o){t(n.exports,"default",(function(){return g})),t(n.exports,"getCodeStyles",(function(){return r("9duCv").getCodeStyles}));var i=r("jgze0"),a=r("bRWI2"),s=r("61szk"),c=r("4JuWt");r("4khVu");var l=r("3MYVF"),u=r("zIeE8"),d=r("b55XE"),f=r("9duCv"),p=s.memo(s.forwardRef((function(t,n){var r=t.testId,o=e(a)(t,["testId"]),u=l.useGlobalTheme(),d=s.useMemo((function(){return f.getCodeStyles(u)}),[u]),p=o.children,g=o.codeBidiWarnings,m=void 0===g||g,v=o.codeBidiWarningLabel,b=e(a)(o,["children","codeBidiWarnings","codeBidiWarningLabel"]),y=m?c.jsx(h,{codeBidiWarningLabel:v},p):p;return c.jsx("code",e(i)({ref:n,"data-testid":r,css:d},b),y)})));function h(t){var n=t.children,r=t.codeBidiWarningLabel,o=e(s).Children.map(n,(function(t){return"string"==typeof t?d.default(t,(function(e){var t=e.bidiCharacter,n=e.index;return c.jsx(u.default,{bidiCharacter:t,key:n,label:r})})):t.type&&t.props.children?e(s).cloneElement(t,{children:c.jsx(h,{codeBidiWarningLabel:r},t.props.children)}):t}));return c.jsx(e(s).Fragment,null,o)}p.displayName="Code";var g=p})),r.register("4khVu",(function(e,n){t(e.exports,"themed",(function(){return r("en92r").default})),t(e.exports,"useGlobalTheme",(function(){return r("3MYVF").useGlobalTheme}));r("en92r"),r("3MYVF")})),r.register("en92r",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("8Jhgy");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("8Jhgy",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("3MYVF",(function(e,n){t(e.exports,"useGlobalTheme",(function(){return a}));var o=r("k7DQl").createTheme((function(){return{mode:"light"}})),i=(o.Provider,o.Consumer,o.useTheme),a=function(){return i()}})),r.register("k7DQl",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("zIeE8",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("jgze0"),a=r("bRWI2"),s=r("61szk"),c=r("4Rd8x"),l=r("lkbLB");function u(t){var n=t.testId,r=t.bidiCharacter,o=t.skipChildren,i=t.label,a=void 0===i?"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.":i;return e(s).createElement(c.default,{content:a,tag:d},e(s).createElement(l.Decorator,{testId:n,bidiCharacter:r},o?null:r))}var d=e(s).forwardRef((function(t,n){var r=t.children,o=e(a)(t,["children"]);return e(s).createElement("span",e(i)({},o,{ref:n}),r)}))})),r.register("lkbLB",(function(e,n){t(e.exports,"Decorator",(function(){return s}));var o=r("4JuWt"),i=r("1obv6"),a=o.css({position:"relative",":before":{display:"inline-flex",flexDirection:"row",justifyContent:"center",alignItems:"center",padding:"0 4px",fontSize:"14px",lineHeight:"18px",background:i.Y75,pointerEvents:"auto",content:'"<"attr(data-bidi-character-code)">"',color:"#7F5F01",fontStyle:"normal"},":hover:before":{color:"#533F04"}});function s(e){var t=e.bidiCharacter,n=e.children,r=e.testId,i=function(e){var t,n=null===(t=e.codePointAt(0))||void 0===t?void 0:t.toString(16);return"U+".concat(n)}(t);return o.jsx("span",{"aria-label":i},o.jsx("span",{css:a,"data-testid":r,"data-bidi-character-code":i,"aria-hidden":"true"},n))}})),r.register("1obv6",(function(e,n){t(e.exports,"R500",(function(){return a})),t(e.exports,"Y75",(function(){return s})),t(e.exports,"Y300",(function(){return c})),t(e.exports,"G200",(function(){return l})),t(e.exports,"G500",(function(){return d})),t(e.exports,"B75",(function(){return f})),t(e.exports,"B100",(function(){return p})),t(e.exports,"B200",(function(){return h})),t(e.exports,"B400",(function(){return g})),t(e.exports,"B500",(function(){return m})),t(e.exports,"P75",(function(){return v})),t(e.exports,"P300",(function(){return b})),t(e.exports,"T100",(function(){return y})),t(e.exports,"T200",(function(){return E})),t(e.exports,"N20",(function(){return k})),t(e.exports,"N30",(function(){return C})),t(e.exports,"N400",(function(){return T})),t(e.exports,"N800",(function(){return O})),t(e.exports,"N30A",(function(){return w})),t(e.exports,"DN800",(function(){return N})),t(e.exports,"DN400",(function(){return A})),t(e.exports,"DN50",(function(){return D})),t(e.exports,"DN20",(function(){return R})),t(e.exports,"skeleton",(function(){return M}));var o=r("en92r"),i="#FF5630",a="#BF2600",s="#FFF0B3",c="#FFAB00",l="#57D9A3",u="#36B37E",d="#006644",f="#B3D4FF",p="#4C9AFF",h="#2684FF",g="#0052CC",m="#0747A6",v="#C0B6F2",b="#6554C0",y="#79E2F2",E="#00C7E6",x="#FFFFFF",k="#F4F5F7",C="#EBECF0",S="#6B778C",T="#505F79",O="#172B4D",w="rgba(9, 30, 66, 0.08)",N="#DCE5F5",P="#B8C7E0",A="#9FB0CC",I="#8C9CB8",D="#283447",R="#121A29",M=(o.default({light:x,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:f}),o.default({light:C,dark:"#3B475C"}),o.default({light:x,dark:D}),o.default({light:"#091E42",dark:P}),o.default({light:O,dark:P}),o.default({light:g,dark:g}),o.default({light:S,dark:I}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:O,dark:P}),o.default({light:S,dark:I}),o.default({light:k,dark:D}),o.default({light:g,dark:p}),o.default({light:"#0065FF",dark:h}),o.default({light:m,dark:p}),o.default({light:p,dark:h}),o.default({light:g,dark:p}),o.default({light:g,dark:p}),o.default({light:"#00B8D9",dark:E}),o.default({light:b,dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:c,dark:c}),o.default({light:u,dark:u}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("b55XE",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("fw3Q6");function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=/[\u202A-\u202E\u2066-\u2069]/g;function l(t,n){var r=e(i)(t.matchAll(c));if(0===r.length)return t;var o,s=[],l=0,u=a(r);try{for(u.s();!(o=u.n()).done;){var d=o.value;l!==d.index&&s.push(t.substring(l,d.index)),s.push(n({bidiCharacter:d[0],index:d.index})),l=d.index+d[0].length}}catch(e){u.e(e)}finally{u.f()}return l!==t.length&&s.push(t.substring(l,t.length)),s}})),r.register("9duCv",(function(n,o){t(n.exports,"getCodeBlockStyles",(function(){return p})),t(n.exports,"getCodeStyles",(function(){return h})),t(n.exports,"getCodeBlockTheme",(function(){return g}));var i=r("l15hj"),a=r("hCpbK"),s=r("hCAbP"),c=r("7Ooug");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(e){return{minWidth:"calc(".concat(e.lineNumberWidth," + ").concat(s.LINE_NUMBER_GUTTER,"px) !important"),fontStyle:"normal !important",color:"".concat(e.lineNumberColor," !important"),flexShrink:0,boxSizing:"border-box",paddingRight:"".concat(s.SPACING,"px !important"),paddingLeft:s.SPACING,marginRight:s.SPACING,textAlign:"right",userSelect:"none",display:"block"}},f=function(e){return{fontSize:s.CODE_FONT_SIZE,fontFamily:e.fontFamily,fontWeight:"normal",backgroundColor:"var(".concat(s.VAR_CODE_BG_COLOR,",").concat(e.backgroundColor,")"),color:e.textColor,borderStyle:"none",borderRadius:"".concat(a.borderRadius(),"px")}},p=function(e){return function(t,n,r){return u(u(u({'code[class*="language-"], pre[class*="language-"], code':{all:"unset",padding:r?"".concat(s.SPACING,"px 0"):s.SPACING},display:"flex",lineHeight:s.CODE_LINE_HEIGHT,overflowX:"auto",whiteSpace:"pre"},f(e)),function(e){return{".token":{"&:not([class=token],[data-ds--code--row--highlight])":{all:"unset"},"&.key,&.keyword":{color:e.keywordColor,fontWeight:"bolder"},"&.attr-name":{color:e.attributeColor},"&.selector":{color:e.selectorTagColor},"&.comment,&.block-comment":{color:e.commentColor,fontFamily:e.fontFamilyItalic,fontStyle:"italic"},"&.function-name":{color:e.sectionColor},"&.doctype":{color:e.docTagColor},"&.substr":{color:e.substringColor},"&.namespace":{color:e.nameColor},"&.builtin":{color:e.builtInColor},"&.entity":{color:e.literalColor},"&.bullet":{color:e.bulletColor},"&.code":{color:e.codeColor},"&.regex":{color:e.regexpColor},"&.symbol":{color:e.symbolColor},"&.variable":{color:e.variableColor},"&.url":{color:e.linkColor},"&.selector-attr":{color:e.selectorAttributeColor},"&.selector-pseudo":{color:e.selectorPseudoColor},"&.type":{color:e.typeColor},"&.quote":{color:e.quoteColor},"&.tag":{color:e.templateTagColor},"&.string":{color:e.stringColor},"&.class-name":{color:e.sectionColor},"&.title":{color:e.titleColor},"&.section":{color:e.sectionColor},"&.meta-keyword":{color:e.metaKeywordColor},"&.meta":{color:e.metaColor},"&.italic":{fontStyle:"italic"},"&.bold":{fontWeight:"bolder"},"&.function":{color:e.functionColor},"&.number":{color:e.numberColor},"&.attr-value":{color:e.attributeColor},"&.prolog":{color:e.prologColor},"&.cdata":{color:e.cdataColor},"&.punctuation":{color:e.punctuationColor},"&.property":{color:e.propertyColor},"&.constant":{color:e.constantColor},"&.deleted":{color:e.deletedColor},"&.boolean":{color:e.booleanColor},"&.char":{color:e.charColor},"&.inserted":{color:e.insertedColor},"&.operator":{color:e.operatorColor},"&.atrule":{color:e.atruleColor},"&.important":{color:e.importantColor,fontWeight:"bold"}}}}(e)),{},{"& .linenumber, .react-syntax-highlighter-line-number":d(e),"& .linenumber":{display:"inline-block !important"},"& [data-ds--code--row]":{display:"block",paddingRight:"".concat(s.SPACING,"px !important"),marginRight:"-".concat(s.SPACING,"px")},"& [data-ds--code--row--highlight]":{background:"".concat(e.highlightedLineBgColor),"&::before, &::after":{clipPath:"inset(100%)",clip:"rect(1px, 1px, 1px, 1px)",height:"1px",overflow:"hidden",position:"absolute",whiteSpace:"nowrap",width:"1px"},"&::before":{content:'", '.concat(t,', "')},"&::after":{content:'", '.concat(n,', "')}},"& [data-ds--code--row--highlight] .linenumber":{borderLeft:"".concat(s.HIGHLIGHT_BORDER_WIDTH," solid ").concat(e.highlightedLineBorderColor),paddingLeft:"".concat(s.SPACING/2,"px !important"),position:"relative"},"& [data-ds--code--row--highlight] .linenumber::before":{content:'""',position:"absolute",width:s.HIGHLIGHT_BORDER_WIDTH,top:"-1px",left:"-".concat(s.HIGHLIGHT_BORDER_WIDTH),borderTop:"1px solid ".concat(e.highlightedLineBorderColor)},"[data-ds--code--row--highlight] + [data-ds--code--row]:not([data-ds--code--row--highlight]), [data-ds--code--row]:not([data-ds--code--row--highlight]) + [data-ds--code--row--highlight]":{borderTop:"1px dashed transparent"},"[data-ds--code--row--highlight]:last-child":{borderBottom:"1px dashed transparent"},"& code:first-of-type":{paddingRight:"0px !important",backgroundImage:r?"linear-gradient(to right, var(".concat(s.VAR_CODE_LINE_NUMBER_BG_COLOR,",").concat(e.lineNumberBgColor,"), var(").concat(s.VAR_CODE_LINE_NUMBER_BG_COLOR,",").concat(e.lineNumberBgColor,")\n    calc(").concat(e.lineNumberWidth," + ").concat(s.LINE_NUMBER_GUTTER,"px), transparent calc(").concat(e.lineNumberWidth," + ").concat(s.LINE_NUMBER_GUTTER,"px), transparent)"):void 0},"& code:last-of-type":{paddingRight:"".concat(s.SPACING,"px !important"),flex:"1 0 auto"}})}},h=function(e){var t="theme"in e?e.theme:e,n=c.getBaseTheme(t);return u(u({},f(n)),{},{display:"inline",fontSize:"0.875em",padding:"2px 0.5ch",whiteSpace:"pre-wrap",overflowWrap:"break-word",overflow:"auto",boxDecorationBreak:"clone"})},g=function(e,t){return u(u(u({},c.getBaseTheme(e)),c.getColorPalette(e)),{},{lineNumberWidth:t?(n=t,n?"".concat(n.toFixed(0).length,"ch"):"1ch"):void 0});var n}})),r.register("hCpbK",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i})),t(e.exports,"codeFontFamily",(function(){return a}));r("hPJzK"),r("1obv6");var o=function(){return 3},i=function(){return 8},a=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"}})),r.register("hPJzK",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("4sFQH");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("4sFQH",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("hCAbP",(function(e,n){t(e.exports,"CODE_FONT_SIZE",(function(){return i})),t(e.exports,"CODE_LINE_HEIGHT",(function(){return a})),t(e.exports,"HIGHLIGHT_BORDER_WIDTH",(function(){return s})),t(e.exports,"SPACING",(function(){return c})),t(e.exports,"LINE_NUMBER_GUTTER",(function(){return l})),t(e.exports,"VAR_CODE_LINE_NUMBER_BG_COLOR",(function(){return u})),t(e.exports,"VAR_CODE_BG_COLOR",(function(){return d}));var o=r("hCpbK"),i=12,a="20px",s="4px",c=o.gridSize(),l=2*c,u="--ds--code--line-number-bg-color",d="--ds--code--bg-color"})),r.register("7Ooug",(function(e,n){t(e.exports,"getBaseTheme",(function(){return u})),t(e.exports,"getColorPalette",(function(){return d}));r("l15hj");var o=r("6gvxN"),i=r("1obv6");r("4khVu");var a=r("en92r"),s=r("hCpbK");var c="#067384",l="#7A5D1A",u=function(e){return{fontFamily:s.codeFontFamily(),fontFamilyItalic:"SFMono-MediumItalic, ".concat(s.codeFontFamily()),backgroundColor:a.default({light:i.N20,dark:i.DN50})({theme:e}),textColor:a.default({light:i.N800,dark:i.DN800})({theme:e}),lineNumberColor:a.default({light:i.N400,dark:i.DN400})({theme:e}),lineNumberBgColor:a.default({light:i.N30,dark:i.DN20})({theme:e})}},d=(u({mode:"light"}),o.default((function(e){var t={theme:e};return{highlightedLineBgColor:a.default({light:i.N30,dark:"#3A434E"})(t),highlightedLineBorderColor:a.default({light:i.B200,dark:i.B100})(t),substringColor:a.default({light:i.N400,dark:i.DN400})(t),keywordColor:a.default({light:i.B400,dark:i.B75})(t),attributeColor:a.default({light:c,dark:i.T200})(t),selectorTagColor:a.default({light:i.B400,dark:i.B75})(t),docTagColor:a.default({light:l,dark:i.Y300})(t),nameColor:a.default({light:i.B400,dark:i.B75})(t),builtInColor:a.default({light:i.B400,dark:i.B75})(t),literalColor:a.default({light:i.B400,dark:i.B75})(t),bulletColor:a.default({light:i.B400,dark:i.B75})(t),codeColor:a.default({light:i.B400,dark:i.B75})(t),regexpColor:a.default({light:c,dark:i.T200})(t),symbolColor:a.default({light:c,dark:i.T200})(t),variableColor:a.default({light:c,dark:i.T200})(t),templateVariableColor:a.default({light:c,dark:i.T200})(t),linkColor:a.default({light:i.P300,dark:i.P75})(t),selectorAttributeColor:a.default({light:c,dark:i.T200})(t),selectorPseudoColor:a.default({light:c,dark:i.T200})(t),typeColor:a.default({light:c,dark:i.T100})(t),stringColor:a.default({light:i.G500,dark:i.G200})(t),selectorIdColor:a.default({light:c,dark:i.T100})(t),selectorClassColor:a.default({light:c,dark:i.T100})(t),quoteColor:a.default({light:c,dark:i.T100})(t),templateTagColor:a.default({light:c,dark:i.T100})(t),titleColor:a.default({light:i.P300,dark:i.P75})(t),sectionColor:a.default({light:i.P300,dark:i.P75})(t),commentColor:a.default({light:i.N400,dark:i.DN400})(t),metaKeywordColor:a.default({light:i.G500,dark:i.G200})(t),metaColor:a.default({light:i.N400,dark:i.DN400})(t),functionColor:a.default({light:i.N800,dark:i.DN800})(t),numberColor:a.default({light:i.B400,dark:i.B75})(t),prologColor:a.default({light:i.B400,dark:i.B75})(t),cdataColor:a.default({light:i.N400,dark:i.B75})(t),punctuationColor:a.default({light:i.N800,dark:i.DN800})(t),propertyColor:a.default({light:i.P300,dark:i.P75})(t),constantColor:a.default({light:c,dark:i.T100})(t),booleanColor:a.default({light:i.B500,dark:i.B75})(t),charColor:a.default({light:i.N800,dark:i.DN800})(t),insertedColor:a.default({light:i.G500,dark:i.B75})(t),deletedColor:a.default({light:i.R500,dark:i.B75})(t),operatorColor:a.default({light:i.N800,dark:i.B75})(t),atruleColor:a.default({light:i.G500,dark:i.G200})(t),importantColor:a.default({light:l,dark:i.Y300})(t)}})))})),r.register("62D4f",(function(n,o){t(n.exports,"shadowSharedStyle",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=r("bXS0g"),u=r("bjJO8"),d=a.css(s||(s=e(i)(["\n  &\n    .","::before,\n    .","::after,\n    .","::before,\n    .","::after {\n    display: none;\n    position: absolute;\n    pointer-events: none;\n    z-index: ",";\n    width: ","px;\n    content: '';\n    /* Scrollbar is outside the content in IE, inset in other browsers. */\n    height: calc(100%);\n  }\n\n  & .",", ."," {\n    position: relative;\n  }\n\n  & .","::before {\n    background: linear-gradient(to left, rgba(99, 114, 130, 0) 0, "," 100%);\n    top: 0px;\n    left: 0;\n    display: block;\n  }\n\n  & .","::after {\n    background: linear-gradient(\n      to right,\n      rgba(99, 114, 130, 0) 0,\n      "," 100%\n    );\n    left: calc(100% - ","px);\n    top: 0px;\n    display: block;\n  }\n"])),u.shadowClassNames.RIGHT_SHADOW,u.shadowClassNames.RIGHT_SHADOW,u.shadowClassNames.LEFT_SHADOW,u.shadowClassNames.LEFT_SHADOW,c.akEditorShadowZIndex,8,u.shadowClassNames.RIGHT_SHADOW,u.shadowClassNames.LEFT_SHADOW,u.shadowClassNames.LEFT_SHADOW,l.N40A,u.shadowClassNames.RIGHT_SHADOW,l.N40A,8)})),r.register("bjJO8",(function(n,o){t(n.exports,"shadowClassNames",(function(){return m})),t(n.exports,"default",(function(){return b}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("4W5Y2");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var m={RIGHT_SHADOW:"right-shadow",LEFT_SHADOW:"left-shadow"},v=11===h.default.ie_version;function b(t,n){return function(r){e(l)(u,r);var o=g(u);function u(){var t;e(a)(this,u);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=o.call.apply(o,[this].concat(i)),e(f)(e(c)(t),"state",{showLeftShadow:!1,showRightShadow:!1}),e(f)(e(c)(t),"handleScroll",(function(e){t.overflowContainer&&e.target===t.overflowContainer&&t.updateShadows()})),e(f)(e(c)(t),"updateShadows",(function(){t.setState((function(e){if(t.overflowContainer){var n=t.calcOverflowDiff(),r=n>0&&n>t.overflowContainer.scrollLeft,o=t.showLeftShadow(t.overflowContainer);return o!==e.showLeftShadow||r!==t.state.showRightShadow?{showLeftShadow:o,showRightShadow:r}:null}}))})),e(f)(e(c)(t),"showLeftShadow",(function(e){return!!e&&e.scrollLeft>0})),e(f)(e(c)(t),"calcOverflowDiff",(function(){return t.overflowContainer?(t.diff=t.calcScrollableWidth(),t.diff-t.overflowContainer.offsetWidth):0})),e(f)(e(c)(t),"calcScrollableWidth",(function(){if(!t.scrollable&&t.overflowContainer)return t.overflowContainer.scrollWidth;if(!t.scrollable)return 0;for(var e=0,n=0;n<t.scrollable.length;n++){e+=t.scrollable[n].scrollWidth}return e})),e(f)(e(c)(t),"handleContainer",(function(e){e&&!t.container&&(t.container=e,t.overflowContainer=e.querySelector(n.overflowSelector),t.overflowContainer||(t.overflowContainer=e),n.scrollableSelector&&(t.scrollable=e.querySelectorAll(n.scrollableSelector)),t.updateShadows(),v||t.overflowContainer.addEventListener("scroll",t.handleScroll))})),t}return e(s)(u,[{key:"componentWillUnmount",value:function(){this.overflowContainer&&!v&&this.overflowContainer.removeEventListener("scroll",this.handleScroll),this.updateShadows()}},{key:"componentDidUpdate",value:function(){this.updateShadows()}},{key:"render",value:function(){var n=this.state,r=n.showLeftShadow,o=[n.showRightShadow&&m.RIGHT_SHADOW,r&&m.LEFT_SHADOW].filter(Boolean).join(" ");return e(p).createElement(t,e(i)({handleRef:this.handleContainer,shadowClassNames:o},this.props))}}]),u}(e(p).Component)}})),r.register("6zqMi",(function(n,o){t(n.exports,"DateSharedCssClassName",(function(){return c})),t(n.exports,"dateSharedStyle",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c={DATE_WRAPPER:"date-lozenger-container",DATE_CONTAINER:"dateView-content-wrap"},l=s.css(i||(i=e(a)(["\n  ."," span {\n    white-space: unset;\n  }\n"])),c.DATE_WRAPPER)})),r.register("1FVDX",(function(n,o){t(n.exports,"TaskDecisionSharedCssClassName",(function(){return l})),t(n.exports,"tasksAndDecisionsStyles",(function(){return u}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l={DECISION_CONTAINER:"decisionItemView-content-wrap"},u=a.css(s||(s=e(i)(["\n  .ProseMirror {\n    .taskItemView-content-wrap,\n    ."," {\n      position: relative;\n      min-width: ","px;\n    }\n\n    ."," {\n      margin-top: 0;\n    }\n  }\n\n  div[data-task-list-local-id] {\n    margin: 12px 0 0 0;\n  }\n\n  div[data-task-list-local-id]:first-child {\n    margin-top: 0;\n  }\n\n  div[data-task-list-local-id] div[data-task-list-local-id] {\n    margin-top: 0px;\n    margin-left: 24px;\n  }\n"])),l.DECISION_CONTAINER,c.akEditorTableCellMinWidth,l.DECISION_CONTAINER)})),r.register("7Pk9F",(function(e,n){t(e.exports,"MentionSharedCssClassName",(function(){return r}));var r={MENTION_CONTAINER:"mentionView-content-wrap"}})),r.register("gAjXI",(function(e,n){t(e.exports,"EmojiSharedCssClassName",(function(){return i})),r("daqo8");var o=r("8pPHa"),i={EMOJI_CONTAINER:"emojiView-content-wrap",EMOJI_NODE:o.emojiNode,EMOJI_SPRITE:o.emojiSprite,EMOJI_IMAGE:o.emojiImage}})),r.register("daqo8",(function(e,n){t(e.exports,"emojiSprite",(function(){return r("8pPHa").emojiSprite})),t(e.exports,"emojiNode",(function(){return r("8pPHa").emojiNode})),t(e.exports,"emojiImage",(function(){return r("8pPHa").emojiImage})),t(e.exports,"EmojiPicker",(function(){return r("fiDDj").default})),t(e.exports,"EmojiResource",(function(){return r("cz1Fu").default})),t(e.exports,"recordSelectionFailedSli",(function(){return r("ibk4k").recordSelectionFailedSli})),t(e.exports,"recordSelectionSucceededSli",(function(){return r("ibk4k").recordSelectionSucceededSli})),t(e.exports,"EmojiTypeAheadItem",(function(){return r("duqiq").default})),t(e.exports,"SearchSort",(function(){return r("9UkrA").SearchSort}));r("9VyJv");var o=r("fiDDj");r("duqiq"),r("8pPHa"),r("cz1Fu"),r("ibk4k"),r("9UkrA"),o.default})),r.register("fiDDj",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("jgze0"),a=r("bRWI2"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("7EIJN"),g=r("61szk"),m=r("bpHli"),v=r("jjSOR"),b=r("kWjl9");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var E=function(){return r("heo6H").then((function(e){return e.default}))},x=function(t){e(u)(r,t);var n=y(r);function r(t){var o;return e(s)(this,r),o=n.call(this,t,{}),e(p)(e(l)(o),"state",{asyncLoadedComponent:r.AsyncLoadedComponent}),o}return e(c)(r,[{key:"asyncLoadComponent",value:function(){var e=this;E().then((function(t){r.AsyncLoadedComponent=t,e.setAsyncState(t)}))}},{key:"renderLoading",value:function(){var t=this,n=new v.LoadingItem;return e(g).createElement("div",{className:b.emojiPicker,ref:function(e){t.props.onPickerRef&&t.props.onPickerRef(e)}},n.renderItem())}},{key:"renderLoaded",value:function(t,n){var r=this.props,o=(r.emojiProvider,e(a)(r,["emojiProvider"]));return e(g).createElement(n,e(i)({emojiProvider:t},o))}}]),r}(m.default),k=h.default()(x)})),r.register("7EIJN",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("lM8GW"),c=r("3mGfn"),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=a.forwardRef((function(r,o){var l=c.usePatchedProps(t,r).patchedEventProps,u=s.useAnalyticsEvents().createAnalyticsEvent;return e(a).createElement(n,e(i)({},r,l,{createAnalyticsEvent:u,ref:o}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}}})),r.register("lM8GW",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("dalwZ"),a=r("kSANW");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("dalwZ",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("7O2mE").default)})),r.register("7O2mE",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("kSANW",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("3mGfn",(function(n,o){t(n.exports,"usePatchedProps",(function(){return d}));var i=r("l15hj"),a=r("EwJf3"),s=r("61szk"),c=r("lM8GW");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=c.useAnalyticsEvents(),o=r.createAnalyticsEvent,l=s.useRef({}),d=s.useMemo((function(){var r=l.current;return Object.keys(r).filter((function(e){return!(e in t)})).forEach((function(e){return delete r[e]})),Object.keys(t).reduce((function(s,c){var l=t[c];if(!["object","function"].includes(e(a)(l)))return s;var d=n[c];if(c in r&&r[c].eventCreator===l&&r[c].propValue===d)return u(u({},s),{},e(i)({},c,r[c].wrappedCallback));var f=function(){var e="function"==typeof l?l(o,n):o(l);if(d&&"function"==typeof d){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];d.apply(void 0,r.concat([e]))}};return r[c]={eventCreator:l,wrappedCallback:f,propValue:d},u(u({},s),{},e(i)({},c,f))}),{})}),[t,n,o,l]);return{patchedEventProps:d}}})),r.register("6g5qJ",(function(n,o){t(n.exports,"usePlatformLeafEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("lM8GW"),c=r("6SDta");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.actionSubject,d=t.packageName,f=t.packageVersion,p=t.analyticsData,h=s.useAnalyticsEvents().createAnalyticsEvent,g=c.useTrackedRef(p),m=c.useTrackedRef(n),v=a.useCallback((function(t){var n=h({action:r,actionSubject:u||o,attributes:{componentName:o,packageName:d,packageVersion:f}}),a=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:d,packageVersion:f},g.current);n.context.push(a);var s=n.clone();s&&s.fire("atlaskit"),m.current(t,n)}),[r,o,u,d,f,h,g,m]);return v}})),r.register("6SDta",(function(e,n){t(e.exports,"useTrackedRef",(function(){return i}));var o=r("61szk"),i=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t}})),r.register("fJhBp",(function(n,o){t(n.exports,"usePlatformLeafSyntheticEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("lM8GW"),c=r("6SDta");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.packageName,d=t.packageVersion,f=t.analyticsData,p=s.useAnalyticsEvents().createAnalyticsEvent,h=c.useTrackedRef(f),g=c.useTrackedRef(n),m=a.useCallback((function(){var t=p({action:r,actionSubject:o,attributes:{componentName:o,packageName:u,packageVersion:d}}),n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:u,packageVersion:d},h.current);t.context.push(n);var a=t.clone();a&&a.fire("atlaskit"),g.current(t)}),[r,o,u,d,p,h,g]);return m}})),r.register("9CAXn",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}}})),r.register("bpHli",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var p=function(t){e(c)(r,t);var n=f(r);function r(t,o){var a;return e(i)(this,r),a=n.call(this,t),e(d)(e(s)(a),"isUnmounted",!1),e(d)(e(s)(a),"loaded",(function(e){return!!e.asyncLoadedComponent&&!!e.loadedEmojiProvider})),a.state=o,a.loadEmojiProvider(a.props.emojiProvider),a}return e(a)(r,[{key:"componentDidMount",value:function(){this.state.asyncLoadedComponent||this.asyncLoadComponent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.loadEmojiProvider(e.emojiProvider)}},{key:"componentWillUnmount",value:function(){this.isUnmounted=!0}},{key:"loadEmojiProvider",value:function(e){var t=this;e.then((function(e){t.isUnmounted||t.setState({loadedEmojiProvider:e})})).catch((function(){t.isUnmounted||t.setState({loadedEmojiProvider:void 0})}))}},{key:"setAsyncState",value:function(e){this.isUnmounted||this.setState({asyncLoadedComponent:e})}},{key:"renderLoading",value:function(){return null}},{key:"render",value:function(){if(this.loaded(this.state)){var e=this.state,t=e.loadedEmojiProvider,n=e.asyncLoadedComponent;return this.renderLoaded(t,n)}return this.renderLoading()}}]),r}(r("61szk").Component)})),r.register("jjSOR",(function(n,o){t(n.exports,"EmojisRowItem",(function(){return y})),t(n.exports,"LoadingItem",(function(){return E})),t(n.exports,"CategoryHeadingItem",(function(){return x})),t(n.exports,"virtualItemRenderer",(function(){return k}));var i=r("47NZN"),a=r("9OLyr"),s=r("89Kz4"),c=r("eP3fJ"),l=r("l15hj"),u=r("go2dD"),d=r("1HQ2H"),f=r("61szk"),p=r("irrKS"),h=r("cevdv"),g=r("6M0ag"),m=r("kWjl9");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(c)(t);if(n){var i=e(c)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(s)(this,r)}}var b=function t(n,r){e(u)(this,t),this.props=n,this.height=r},y=function(t){e(a)(r,t);var n=v(r);function r(t){var o;return e(u)(this,r),o=n.call(this,t,g.sizes.emojiRowHeight),e(l)(e(i)(o),"renderItem",(function(){return e(f).createElement(h.default,o.props)})),o}return r}(b),E=function(t){e(a)(r,t);var n=v(r);function r(){var t;return e(u)(this,r),t=n.call(this,{},g.sizes.loadingRowHeight),e(l)(e(i)(t),"renderItem",(function(){return e(f).createElement("div",{className:m.emojiPickerSpinner},e(f).createElement("div",null,e(f).createElement(d.default,{size:"medium"})))})),t}return r}(b),x=function(t){e(a)(r,t);var n=v(r);function r(t){var o;return e(u)(this,r),o=n.call(this,t,g.sizes.categoryHeadingHeight),e(l)(e(i)(o),"renderItem",(function(){return e(f).createElement(p.default,o.props)})),o}return r}(b),k=function(t,n){var r=n.index,o=n.key,i=n.style,a=t[r];return e(f).createElement("div",{style:i,key:o},a.renderItem(n))}})),r.register("irrKS",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("hdR0w"),d=r("61szk"),f=(d=r("61szk"),r("7RIig")),p=r("cCeoI"),h=r("2khF4"),g=r("kWjl9");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var v=function(t){e(s)(r,t);var n=m(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.id,r=t.title,o=t.className;return e(d).createElement("div",{id:n,"data-category-id":n,className:e(u)(o)},e(d).createElement("div",{className:g.emojiCategoryTitle},p.isMessagesKey(r)?e(d).createElement(f.FormattedMessage,h.messages[r]):r))}}]),r}(d.PureComponent)})),r.register("cCeoI",(function(n,o){t(n.exports,"isSpriteServiceRepresentation",(function(){return u})),t(n.exports,"isSpriteRepresentation",(function(){return d})),t(n.exports,"isImageRepresentation",(function(){return f})),t(n.exports,"isMediaRepresentation",(function(){return p})),t(n.exports,"isPromise",(function(){return h})),t(n.exports,"isEmojiDescription",(function(){return g})),t(n.exports,"isMediaEmoji",(function(){return m})),t(n.exports,"isLoadedMediaEmoji",(function(){return v})),t(n.exports,"isEmojiDescriptionWithVariations",(function(){return b})),t(n.exports,"isEmojiVariationDescription",(function(){return y})),t(n.exports,"isMessagesKey",(function(){return E})),t(n.exports,"toEmojiId",(function(){return x})),t(n.exports,"containsEmojiId",(function(){return k})),t(n.exports,"convertImageToMediaRepresentation",(function(){return C})),t(n.exports,"convertMediaToImageEmoji",(function(){return T})),t(n.exports,"buildEmojiDescriptionWithAltRepresentation",(function(){return O})),t(n.exports,"getCategoryId",(function(){return w}));var i=r("l15hj"),a=r("2khF4"),s=r("01OmW");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=function(e){return!(!e||!e.spriteRef)},d=function(e){return!(!e||!e.sprite)},f=function(e){return!(!e||!e.imagePath)},p=function(e){return!(!e||!e.mediaPath)},h=function(e){return!(!e||!e.then)},g=function(e){return e&&e.shortName&&e.type},m=function(e){return p(e.representation)},v=function(e){return e.category===s.customCategory&&(t=e.representation,f(t)&&0===t.imagePath.indexOf(s.dataURLPrefix));var t},b=function(e){return!(!e||!e.skinVariations)},y=function(e){return"baseId"in e},E=function(e){return e in a.messages},x=function(e){return{shortName:e.shortName,id:e.id,fallback:e.fallback}},k=function(e,t){if(!t)return!1;for(var n=0;n<e.length;n++)if((r=e[n])===(o=t)||r&&o&&r.id===o.id&&r.shortName===o.shortName)return!0;var r,o;return!1},C=function(e){return{mediaPath:e.imagePath,height:e.height,width:e.width}},S=function(e,t){return{imagePath:t||e.mediaPath,height:e.height,width:e.width}},T=function(e,t,n){var r=e.representation,o=e.altRepresentation,i=n?void 0:t,a=n?t:void 0;if(!p(r)&&!p(o))return e;var s=p(r)?S(r,i):r,c=p(o)?S(o,a):o,u=l(l({},e),{},{representation:s});return O(u,c)},O=function(e,t){return t?l(l({},e),{},{altRepresentation:t}):e},w=function(e){return e.category}})),r.register("2khF4",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({deleteEmojiTitle:{id:"fabric.emoji.delete.title",defaultMessage:"Remove emoji",description:"Title for emoji removal dialog"},deleteEmojiDescription:{id:"fabric.emoji.delete.description",defaultMessage:"All existing instances of this emoji will be replaced with {emojiShortName}",description:"Description for emoji removal dialog"},deleteEmojiLabel:{id:"fabric.emoji.delete.label",defaultMessage:"Remove",description:"Button label to remove emoji"},addCustomEmojiLabel:{id:"fabric.emoji.add.custom.emoji.label",defaultMessage:"Add your own emoji",description:"Button label to add custom emoji"},emojiPlaceholder:{id:"fabric.emoji.placeholder",defaultMessage:"Emoji name",description:"Placeholder for emoji"},emojiNameAriaLabel:{id:"fabric.emoji.name.ariaLabel",defaultMessage:"Enter a name for the new emoji",description:"Explains to enter a name for a new emoji"},emojiChooseFileTitle:{id:"fabric.emoji.choose.file.title",defaultMessage:"Choose file",description:"Choose custom emoji file"},emojiChooseFileScreenReaderDescription:{id:"fabric.emoji.choose.file.screenReaderDescription",defaultMessage:"Choose a file for the emoji. JPG, PNG or GIF. Max size 1 MB.",description:"Message indicating the purpose of choosing the file and requirements for the file"},emojiSelectSkinToneButtonAriaLabelText:{id:"fabric.emoji.select.skin.tone.ariaLabel",defaultMessage:"Select skin tone, {selectedTone}",description:"Message indicating the purpose of the skin tone selection button and the selected tone"},emojiImageRequirements:{id:"fabric.emoji.image.requirements",defaultMessage:"JPG, PNG or GIF. Max size 1 MB.",description:"Message for emoji image requirements and maximum file size"},emojiPreviewTitle:{id:"fabric.emoji.preview.title",defaultMessage:"Preview",description:"Emoji preview title"},emojiPreview:{id:"fabric.emoji.preview",defaultMessage:"Your new emoji {emoji} looks great",description:"Emoji preview"},addEmojiLabel:{id:"fabric.emoji.add.label",defaultMessage:"Add emoji",description:"verb - Button label to add emoji"},retryLabel:{id:"fabric.emoji.retry.label",defaultMessage:"Retry",description:"verb - Button label to retry upload"},cancelLabel:{id:"fabric.emoji.cancel.label",defaultMessage:"Cancel",description:"verb - button label to cancel operation"},searchPlaceholder:{id:"fabric.emoji.search.placeholder",defaultMessage:"Search",description:"Placeholder for search emoji field"},searchLabel:{id:"fabric.emoji.search.label",defaultMessage:"Search emoji",description:"verb - button label to search"},categoriesSearchResults:{id:"fabric.emoji.categories.search.results",defaultMessage:"Search results",description:"Emoji categories search results"},frequentCategory:{id:"fabric.emoji.category.frequent",defaultMessage:"Frequent",description:"Emoji frequent category"},peopleCategory:{id:"fabric.emoji.category.people",defaultMessage:"People",description:"Emoji frequent category"},natureCategory:{id:"fabric.emoji.category.nature",defaultMessage:"Nature",description:"Emoji nature category"},foodsCategory:{id:"fabric.emoji.category.foods",defaultMessage:"Food & Drink",description:"Emoji Foods category"},activityCategory:{id:"fabric.emoji.category.activity",defaultMessage:"Activity",description:"Emoji activity category"},placesCategory:{id:"fabric.emoji.category.places",defaultMessage:"Travel & Places",description:"Emoji Places category"},objectsCategory:{id:"fabric.emoji.category.objects",defaultMessage:"Objects",description:"Emoji objects category"},symbolsCategory:{id:"fabric.emoji.category.symbols",defaultMessage:"Symbols",description:"Emoji symbols category"},flagsCategory:{id:"fabric.emoji.category.flags",defaultMessage:"Flags",description:"Emoji flags category"},productivityCategory:{id:"fabric.emoji.category.productivity",defaultMessage:"Productivity",description:"Emoji productivity category"},userUploadsCustomCategory:{id:"fabric.emoji.category.user.uploads",defaultMessage:"Your uploads",description:"User uploads in the custom category"},allUploadsCustomCategory:{id:"fabric.emoji.category.all.uploads",defaultMessage:"All uploads",description:"All uploads in the custom category"},deleteEmojiFailed:{id:"fabric.emoji.error.delete.failed",defaultMessage:"Remove failed",description:"Error message when custom emoji failed to be removed"},emojiInvalidImage:{id:"fabric.emoji.error.invalid.image",defaultMessage:"Selected image is invalid",description:"Error message for invalid selected image"},emojiUploadFailed:{id:"fabric.emoji.error.upload.failed",defaultMessage:"Upload failed",description:"Failed to upload emoji image"},emojiImageTooBig:{id:"fabric.emoji.error.image.too.big",defaultMessage:"Selected image is more than 1 MB",description:"Error message for image too big, beyond the size limit"}})})),r.register("01OmW",(function(e,n){t(e.exports,"customCategory",(function(){return r})),t(e.exports,"frequentCategory",(function(){return o})),t(e.exports,"customTitle",(function(){return i})),t(e.exports,"userCustomTitle",(function(){return a})),t(e.exports,"dataURLPrefix",(function(){return s})),t(e.exports,"deleteEmojiLabel",(function(){return c})),t(e.exports,"MAX_ORDINAL",(function(){return l})),t(e.exports,"defaultEmojiHeight",(function(){return u})),t(e.exports,"emojiPickerWidth",(function(){return d})),t(e.exports,"emojiPickerHeight",(function(){return f})),t(e.exports,"localStoragePrefix",(function(){return p})),t(e.exports,"selectedToneStorageKey",(function(){return h})),t(e.exports,"defaultCategories",(function(){return g}));var r="CUSTOM",o="FREQUENT",i="allUploadsCustomCategory",a="userUploadsCustomCategory",s="data:",c="delete-emoji",l=1e5,u=20,d=350,f=295,p="fabric.emoji",h="".concat(p,".selectedTone"),g=["PEOPLE","NATURE","FOODS","ACTIVITY","PLACES","OBJECTS","SYMBOLS","FLAGS"]})),r.register("kWjl9",(function(n,o){t(n.exports,"active",(function(){return m})),t(n.exports,"disable",(function(){return v})),t(n.exports,"emojiPicker",(function(){return b})),t(n.exports,"categorySelector",(function(){return y})),t(n.exports,"category",(function(){return E})),t(n.exports,"emojiPickerList",(function(){return x})),t(n.exports,"virtualList",(function(){return k})),t(n.exports,"searchIcon",(function(){return C})),t(n.exports,"input",(function(){return S})),t(n.exports,"pickerSearch",(function(){return T})),t(n.exports,"emojiPickerSpinner",(function(){return O})),t(n.exports,"emojiPickerRow",(function(){return w})),t(n.exports,"emojiCategoryTitle",(function(){return N})),t(n.exports,"emojiItem",(function(){return P})),t(n.exports,"emojiPickerFooter",(function(){return A})),t(n.exports,"emojiPickerFooterWithTopShadow",(function(){return I}));var i,a,s,c,l=r("l15hj"),u=r("1NOtL"),d=r("8CJRm"),f=r("tNjg6"),p=r("db5G0"),h=r("8pPHa"),g=r("01OmW"),m="emoji-picker-active",v="emoji-picker-disable",b=u.style({display:"flex",flexDirection:"column",justifyContent:"space-between",background:"white",border:"".concat(p.emojiPickerBorderColor," 1px solid"),borderRadius:"".concat(d.borderRadius(),"px"),boxShadow:p.emojiPickerBoxShadow,height:"".concat(g.emojiPickerHeight,"px"),width:"".concat(g.emojiPickerWidth,"px"),marginBottom:"8px",minWidth:"".concat(g.emojiPickerWidth,"px")}),y=u.style({flex:"0 0 auto",backgroundColor:f.N30,$nest:e(l)({ul:{listStyle:"none",margin:"0 4px",padding:"3px 0",display:"flex",flexDirection:"row",justifyContent:"space-around"},li:{display:"inline-block",margin:0,padding:0,$nest:{button:{verticalAlign:"middle"}}}},".".concat("emoji-picker-add-button"),{color:f.N200,margin:"0 0 0 5px",verticalAlign:"middle"})}),E=u.style({backgroundColor:"transparent",border:0,color:f.N100A,cursor:"pointer",margin:"2px 0",padding:0,transition:"color 0.2s ease",$nest:(i={},e(l)(i,"&::-moz-focus-inner",{border:"0 none",padding:0}),e(l)(i,"&.".concat(m),{color:f.B300,$nest:e(l)({},"&:hover",{color:f.B300})}),e(l)(i,"&:hover",{color:f.B100}),e(l)(i,"&.".concat(v),{color:f.N50,cursor:"default",$nest:e(l)({},"&:hover",{color:f.N50})}),e(l)(i,"&:focus",{outline:"0"}),i)}),x=u.style({display:"flex",flexDirection:"column",flex:"1 1 auto",height:"0"}),k=u.style({$nest:{"&:focus":{outline:"none"}}}),C="search-icon",S="input",T=u.style({boxSizing:"border-box",padding:"10px 10px 9px 10px",flex:"0 0 auto",$nest:(s={},e(l)(s,".".concat(C),{opacity:.5}),e(l)(s,".".concat(S),{background:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:"14px",outline:"none",padding:"1px 0 2px 10px",width:"100%",$nest:(a={},e(l)(a,"&:invalid",{boxShadow:"none"}),e(l)(a,"&::-ms-clear",{display:"none"}),a)}),s)}),O=u.style({display:"flex",width:"100%",height:"150px",justifyContent:"center",alignItems:"center",$nest:{">div":{flex:"0 0 auto"}}}),w=u.style({marginLeft:"8px"}),N=u.style({boxSizing:"border-box",color:f.N900,fontSize:"14px",padding:"5px 8px",textTransform:"lowercase",$nest:{"&:first-letter":{textTransform:"uppercase"}}}),P=u.style({display:"inline-block",textAlign:"center",width:"40px",$nest:(c={},e(l)(c,"&>.".concat(h.emojiNode),{cursor:"pointer",padding:"8px",borderRadius:"5px",width:"24px",height:"24px",$nest:e(l)({"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"24px",maxWidth:"24px",display:"block"}},"&>.".concat(h.emojiSprite),{height:"24px",width:"24px"})}),e(l)(c,"&>.".concat(h.placeholder),{padding:"0",margin:"7px",minWidth:"24px",maxWidth:"24px"}),c)}),A=(u.style({border:"2px dashed #ccc",borderRadius:"".concat(d.borderRadius(),"px"),backgroundColor:"transparent",width:"32px",height:"32px",padding:0,margin:"4px",verticalAlign:"middle",$nest:{"&:hover":{backgroundColor:p.akEmojiSelectedBackgroundColor},"&:focus":{outline:"0"},span:{backgroundColor:"inherit"}}}),u.style({flex:"0 0 auto"})),I=u.style({borderTop:"2px solid ".concat(f.N30A),boxShadow:p.emojiFooterBoxShadow})})),r.register("1NOtL",(function(e,n){t(e.exports,"keyframes",(function(){return a})),t(e.exports,"style",(function(){return s}));var o=r("4vAlB"),i=(r("lTcbo"),r("g1JDe"),new o.TypeStyle({autoGenerateTag:!0})),a=(i.setStylesTarget,i.cssRaw,i.cssRule,i.forceRenderStyles,i.fontFace,i.getStyles,i.keyframes),s=(i.reinit,i.style);i.stylesheet})),r.register("4vAlB",(function(e,n){t(e.exports,"TypeStyle",(function(){return c}));var o=r("4OlMP"),i=r("g1JDe"),a=r("jGPZd"),s=function(){return a.create(void 0,!0)},c=function(){function e(e){var t=e.autoGenerateTag,n=this;this.cssRaw=function(e){e&&(n._raw+=e||"",n._pendingRawChange=!0,n._styleUpdated())},this.cssRule=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var a=o.ensureStringObj(i.extend.apply(void 0,t)).result;n._freeStyle.registerRule(e,a),n._styleUpdated()},this.forceRenderStyles=function(){var e=n._getTag();e&&(e.textContent=n.getStyles())},this.fontFace=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=n._freeStyle,o=0,i=e;o<i.length;o++){var a=i[o];r.registerRule("@font-face",a)}n._styleUpdated()},this.getStyles=function(){return(n._raw||"")+n._freeStyle.getStyles()},this.keyframes=function(e){var t=o.explodeKeyframes(e),r=t.keyframes,i=t.$debugName,a=n._freeStyle.registerKeyframes(r,i);return n._styleUpdated(),a},this.reinit=function(){var e=s();n._freeStyle=e,n._lastFreeStyleChangeId=e.changeId,n._raw="",n._pendingRawChange=!1;var t=n._getTag();t&&(t.textContent="")},this.setStylesTarget=function(e){n._tag&&(n._tag.textContent=""),n._tag=e,n.forceRenderStyles()},this.style=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=n._freeStyle,a=o.ensureStringObj(i.extend.apply(void 0,e)),s=a.result,c=a.debugName,l=c?r.registerStyle(s,c):r.registerStyle(s);return n._styleUpdated(),l},this.stylesheet=function(e){for(var t={},r=0,o=Object.getOwnPropertyNames(e);r<o.length;r++){var i=o[r],a=e[i];a&&(a.$debugName=i,t[i]=n.style(a))}return t};var r=s();this._autoGenerateTag=t,this._freeStyle=r,this._lastFreeStyleChangeId=r.changeId,this._pending=0,this._pendingRawChange=!1,this._raw="",this._tag=void 0}return e.prototype._afterAllSync=function(e){var t=this;this._pending++;var n=this._pending;i.raf((function(){n===t._pending&&e()}))},e.prototype._getTag=function(){if(this._tag)return this._tag;if(this._autoGenerateTag){var e="undefined"==typeof window?{textContent:""}:document.createElement("style");return"undefined"!=typeof document&&document.head.appendChild(e),this._tag=e,e}},e.prototype._styleUpdated=function(){var e=this,t=this._freeStyle.changeId,n=this._lastFreeStyleChangeId;(this._pendingRawChange||t!==n)&&(this._lastFreeStyleChangeId=t,this._pendingRawChange=!1,this._afterAllSync((function(){return e.forceRenderStyles()})))},e}()})),r.register("4OlMP",(function(e,n){t(e.exports,"ensureStringObj",(function(){return i})),t(e.exports,"explodeKeyframes",(function(){return a}));var o=r("jGPZd");function i(e){var t={},n="";for(var r in e){var a=e[r];if("$unique"===r)t[o.IS_UNIQUE]=a;else if("$nest"===r){var s=a;for(var c in s){var l=s[c];t[c]=i(l).result}}else"$debugName"===r?n=a:t[r]=a}return{result:t,debugName:n}}function a(e){var t={$debugName:void 0,keyframes:{}};for(var n in e){var r=e[n];"$debugName"===n?t.$debugName=r:t.keyframes[n]=r}return t}})),r.register("jGPZd",(function(e,t){var n,o=r("7fI8M"),i=e.exports&&e.exports.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(e.exports,"__esModule",{value:!0});var a=0;e.exports.IS_UNIQUE="__DO_NOT_DEDUPE_STYLE__";for(var s=/[A-Z]/g,c=/^ms-/,l=/&/g,u=/[ !#$%&()*+,./;<=>?@[\]^`{|}~"'\\]/g,d=function(e){return"-"+e.toLowerCase()},f=["animation-iteration-count","box-flex","box-flex-group","column-count","counter-increment","counter-reset","flex","flex-grow","flex-positive","flex-shrink","flex-negative","font-weight","line-clamp","line-height","opacity","order","orphans","tab-size","widows","z-index","zoom","fill-opacity","stroke-dashoffset","stroke-opacity","stroke-width"],p=Object.create(null),h=0,g=["-webkit-","-ms-","-moz-","-o-",""];h<g.length;h++)for(var m=g[h],v=0,b=f;v<b.length;v++){p[m+b[v]]=!0}function y(e){return e.replace(s,d).replace(c,"-ms-")}function E(e){for(var t=5381,n=e.length;n--;)t=33*t^e.charCodeAt(n);return(t>>>0).toString(36)}function x(e,t){return"number"!=typeof t||0===t||p[e]?e+":"+t:e+":"+t+"px"}function k(e){return e.sort((function(e,t){return e[0]>t[0]?1:-1}))}function C(e){return e.map((function(e){var t=e[0],n=e[1];return Array.isArray(n)?n.map((function(e){return x(t,e)})).join(";"):x(t,n)})).join(";")}function S(e,t){return e.indexOf("&")>-1?e.replace(l,t):t+" "+e}function T(t,n,r,o,i){var s=function(t,n){for(var r=[],o=[],i=!1,a=0,s=Object.keys(t);a<s.length;a++){var c=s[a],l=t[c];null!=l&&(c===e.exports.IS_UNIQUE?i=!0:"object"!=typeof l||Array.isArray(l)?r.push([y(c.trim()),l]):o.push([c.trim(),l]))}return{styleString:C(k(r)),nestedStyles:n?o:k(o),isUnique:i}}(r,!!n),c=s.styleString,l=s.nestedStyles,u=s.isUnique,d=c;if(64===n.charCodeAt(0)){var f=t.add(new D(n,i?void 0:c,t.hash));if(c&&i){var p=f.add(new I(c,f.hash,u?"u"+(++a).toString(36):void 0));o.push([i,p])}for(var h=0,g=l;h<g.length;h++){var m=g[h];d+=(x=m[0])+T(f,x,m[1],o,i)}}else{var v=i?S(n,i):n;if(c){p=t.add(new I(c,t.hash,u?"u"+(++a).toString(36):void 0));o.push([v,p])}for(var b=0,E=l;b<E.length;b++){var x,O=E[b];d+=(x=O[0])+T(t,x,O[1],o,v)}}return d}function O(t,n,r,o,i){for(var a=new P(t.hash),s=[],c=T(a,n,r,s),l="f"+a.hash(c),u=i?i+"_"+l:l,d=0,f=s;d<f.length;d++){var p=f[d],h=p[0],g=p[1],m=o?S(h,"."+e.exports.escape(u)):h;g.add(new A(m,g.hash,void 0,c))}return{cache:a,pid:c,id:u}}function w(e){for(var t="",n=0;n<e.length;n++)t+=e[n];return t}e.exports.escape=function(e){return e.replace(u,"\\$&")},e.exports.hyphenate=y,e.exports.stringHash=E;var N={add:function(){},change:function(){},remove:function(){}},P=function(){function e(e,t){void 0===e&&(e=E),void 0===t&&(t=N),this.hash=e,this.changes=t,this.sheet=[],this.changeId=0,this._keys=[],this._children=Object.create(null),this._counters=Object.create(null)}return e.prototype.add=function(t){var n=this._counters[t.id]||0,r=this._children[t.id]||t.clone();if(this._counters[t.id]=n+1,0===n)this._children[r.id]=r,this._keys.push(r.id),this.sheet.push(r.getStyles()),this.changeId++,this.changes.add(r,this._keys.length-1);else{if(r.getIdentifier()!==t.getIdentifier())throw new TypeError("Hash collision: "+t.getStyles()+" === "+r.getStyles());var o=this._keys.indexOf(t.id),i=this._keys.length-1,a=this.changeId;if(o!==i&&(this._keys.splice(o,1),this._keys.push(t.id),this.changeId++),r instanceof e&&t instanceof e){var s=r.changeId;r.merge(t),r.changeId!==s&&this.changeId++}this.changeId!==a&&(o===i?this.sheet.splice(o,1,r.getStyles()):(this.sheet.splice(o,1),this.sheet.splice(i,0,r.getStyles())),this.changes.change(r,o,i))}return r},e.prototype.remove=function(t){var n=this._counters[t.id];if(n>0){this._counters[t.id]=n-1;var r=this._children[t.id],o=this._keys.indexOf(r.id);if(1===n)delete this._counters[t.id],delete this._children[t.id],this._keys.splice(o,1),this.sheet.splice(o,1),this.changeId++,this.changes.remove(r,o);else if(r instanceof e&&t instanceof e){var i=r.changeId;r.unmerge(t),r.changeId!==i&&(this.sheet.splice(o,1,r.getStyles()),this.changeId++,this.changes.change(r,o,o))}}},e.prototype.merge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.add(e._children[r])}return this},e.prototype.unmerge=function(e){for(var t=0,n=e._keys;t<n.length;t++){var r=n[t];this.remove(e._children[r])}return this},e.prototype.clone=function(){return new e(this.hash).merge(this)},e}();e.exports.Cache=P;var A=function(){function e(e,t,n,r){void 0===n&&(n="s"+t(e)),void 0===r&&(r=""),this.selector=e,this.hash=t,this.id=n,this.pid=r}return e.prototype.getStyles=function(){return this.selector},e.prototype.getIdentifier=function(){return this.pid+"."+this.selector},e.prototype.clone=function(){return new e(this.selector,this.hash,this.id,this.pid)},e}();e.exports.Selector=A;var I=function(e){function t(t,n,r){void 0===r&&(r="c"+n(t));var o=e.call(this,n)||this;return o.style=t,o.hash=n,o.id=r,o}return i(t,e),t.prototype.getStyles=function(){return this.sheet.join(",")+"{"+this.style+"}"},t.prototype.getIdentifier=function(){return this.style},t.prototype.clone=function(){return new t(this.style,this.hash,this.id).merge(this)},t}(P);e.exports.Style=I;var D=function(e){function t(t,n,r,o,i){void 0===n&&(n=""),void 0===o&&(o="a"+r(t+"."+n)),void 0===i&&(i="");var a=e.call(this,r)||this;return a.rule=t,a.style=n,a.hash=r,a.id=o,a.pid=i,a}return i(t,e),t.prototype.getStyles=function(){return this.rule+"{"+this.style+w(this.sheet)+"}"},t.prototype.getIdentifier=function(){return this.pid+"."+this.rule+"."+this.style},t.prototype.clone=function(){return new t(this.rule,this.style,this.hash,this.id,this.pid).merge(this)},t}(P);e.exports.Rule=D;var R=function(t){function n(e,n,r,i){void 0===e&&(e=E),void 0===n&&(n=void 0!==o&&!1),void 0===r&&(r="f"+(++a).toString(36));var s=t.call(this,e,i)||this;return s.hash=e,s.debug=n,s.id=r,s}return i(n,t),n.prototype.registerStyle=function(e,t){var n=O(this,"&",e,!0,this.debug?t:void 0),r=n.cache,o=n.id;return this.merge(r),o},n.prototype.registerKeyframes=function(e,t){return this.registerHashRule("@keyframes",e,t)},n.prototype.registerHashRule=function(t,n,r){var o=O(this,"",n,!1,this.debug?r:void 0),i=o.cache,a=o.pid,s=o.id,c=new D(t+" "+e.exports.escape(s),void 0,this.hash,void 0,a);return this.add(c.merge(i)),s},n.prototype.registerRule=function(e,t){this.merge(O(this,e,t,!1).cache)},n.prototype.registerCss=function(e){this.merge(O(this,"",e,!1).cache)},n.prototype.getStyles=function(){return w(this.sheet)},n.prototype.getIdentifier=function(){return this.id},n.prototype.clone=function(){return new n(this.hash,this.debug,this.id,this.changes).merge(this)},n}(P);e.exports.FreeStyle=R,e.exports.create=function(e,t,n){return new R(e,t,void 0,n)}})),r.register("g1JDe",(function(e,n){t(e.exports,"raf",(function(){return r})),t(e.exports,"extend",(function(){return o}));var r="undefined"==typeof requestAnimationFrame?function(e){return setTimeout(e)}:"undefined"==typeof window?requestAnimationFrame:requestAnimationFrame.bind(window);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},r=0,i=e;r<i.length;r++){var a=i[r];if(null!=a&&!1!==a)for(var s in a){var c=a[s];(c||0===c)&&("$nest"===s&&c?n[s]=n.$nest?o(n.$nest,c):c:-1!==s.indexOf("&")||0===s.indexOf("@media")?n[s]=n[s]?o(n[s],c):c:n[s]=c)}}return n}})),r.register("lTcbo",(function(e,t){})),r.register("8CJRm",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i})),t(e.exports,"fontSize",(function(){return a}));r("3sqOU"),r("tNjg6");var o=function(){return 3},i=function(){return 8},a=function(){return 14}})),r.register("3sqOU",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("etnAX");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("etnAX",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("tNjg6",(function(e,n){t(e.exports,"R100",(function(){return i})),t(e.exports,"R300",(function(){return a})),t(e.exports,"R400",(function(){return s})),t(e.exports,"R500",(function(){return c})),t(e.exports,"Y200",(function(){return l})),t(e.exports,"Y300",(function(){return u})),t(e.exports,"Y400",(function(){return d})),t(e.exports,"Y500",(function(){return f})),t(e.exports,"B50",(function(){return h})),t(e.exports,"B75",(function(){return g})),t(e.exports,"B100",(function(){return m})),t(e.exports,"B200",(function(){return v})),t(e.exports,"B300",(function(){return b})),t(e.exports,"B400",(function(){return y})),t(e.exports,"B500",(function(){return E})),t(e.exports,"N0",(function(){return x})),t(e.exports,"N20",(function(){return k})),t(e.exports,"N30",(function(){return C})),t(e.exports,"N40",(function(){return S})),t(e.exports,"N50",(function(){return T})),t(e.exports,"N70",(function(){return O})),t(e.exports,"N90",(function(){return w})),t(e.exports,"N200",(function(){return N})),t(e.exports,"N300",(function(){return P})),t(e.exports,"N400",(function(){return A})),t(e.exports,"N500",(function(){return I})),t(e.exports,"N700",(function(){return D})),t(e.exports,"N800",(function(){return R})),t(e.exports,"N900",(function(){return M})),t(e.exports,"N20A",(function(){return _})),t(e.exports,"N30A",(function(){return j})),t(e.exports,"N100A",(function(){return B})),t(e.exports,"DN400",(function(){return F})),t(e.exports,"DN300",(function(){return z})),t(e.exports,"DN100",(function(){return W})),t(e.exports,"DN70",(function(){return U})),t(e.exports,"DN60",(function(){return H})),t(e.exports,"DN30",(function(){return K})),t(e.exports,"DN0",(function(){return G})),t(e.exports,"skeleton",(function(){return J}));var o=r("j8QG2"),i="#FF8F73",a="#FF5630",s="#DE350B",c="#BF2600",l="#FFC400",u="#FFAB00",d="#FF991F",f="#FF8B00",p="#36B37E",h="#DEEBFF",g="#B3D4FF",m="#4C9AFF",v="#2684FF",b="#0065FF",y="#0052CC",E="#0747A6",x="#FFFFFF",k="#F4F5F7",C="#EBECF0",S="#DFE1E6",T="#C1C7D0",O="#A5ADBA",w="#8993A4",N="#6B778C",P="#5E6C84",A="#505F79",I="#42526E",D="#253858",R="#172B4D",M="#091E42",_="rgba(9, 30, 66, 0.04)",j="rgba(9, 30, 66, 0.08)",B="rgba(9, 30, 66, 0.54)",L="#B8C7E0",F="#9FB0CC",z="#8C9CB8",W="#67758F",U="#3B475C",H="#313D52",V="#283447",K="#1B2638",G="#0D1424",J=(o.default({light:x,dark:K}),o.default({light:h,dark:g}),o.default({light:C,dark:U}),o.default({light:x,dark:V}),o.default({light:M,dark:L}),o.default({light:R,dark:L}),o.default({light:y,dark:y}),o.default({light:N,dark:z}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:R,dark:L}),o.default({light:N,dark:z}),o.default({light:k,dark:V}),o.default({light:y,dark:m}),o.default({light:b,dark:v}),o.default({light:E,dark:m}),o.default({light:m,dark:v}),o.default({light:y,dark:m}),o.default({light:y,dark:m}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:a,dark:a}),o.default({light:u,dark:u}),o.default({light:p,dark:p}),function(){return _})})),r.register("j8QG2",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("ij4xr");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("ij4xr",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("db5G0",(function(e,n){t(e.exports,"emojiPickerBorderColor",(function(){return a})),t(e.exports,"emojiPickerBoxShadow",(function(){return s})),t(e.exports,"emojiFooterBoxShadow",(function(){return c})),t(e.exports,"noDialogContainerBorderColor",(function(){return l})),t(e.exports,"noDialogContainerBorderRadius",(function(){return u})),t(e.exports,"noDialogContainerBoxShadow",(function(){return d})),t(e.exports,"akEmojiSelectedBackgroundColor",(function(){return f})),t(e.exports,"emojiPreviewSelectedColor",(function(){return p})),t(e.exports,"emojiTypeAheadMaxHeight",(function(){return h})),t(e.exports,"emojiTypeAheadWidth",(function(){return g}));var o=r("8CJRm"),i=r("tNjg6"),a=(r("01OmW").emojiPickerWidth,i.N40),s="0 3px 6px rgba(0, 0, 0, 0.2)",c="0px -1px 1px 0px rgba(0, 0, 0, 0.1)",l=i.N40,u="".concat(o.borderRadius(),"px"),d="0 3px 6px rgba(0, 0, 0, 0.2)",f=i.N30,p=i.N30,h=350,g=350})),r.register("8pPHa",(function(n,o){t(n.exports,"selected",(function(){return x})),t(n.exports,"selectOnHover",(function(){return k})),t(n.exports,"emojiSprite",(function(){return C})),t(n.exports,"emojiNode",(function(){return S})),t(n.exports,"emojiImage",(function(){return T})),t(n.exports,"deleteButton",(function(){return O})),t(n.exports,"emoji",(function(){return w})),t(n.exports,"emojiContainer",(function(){return N})),t(n.exports,"placeholder",(function(){return P})),t(n.exports,"placeholderContainer",(function(){return A})),t(n.exports,"emojiButton",(function(){return I})),t(n.exports,"hiddenToneButton",(function(){return D})),t(n.exports,"preview",(function(){return R})),t(n.exports,"previewImg",(function(){return M})),t(n.exports,"previewText",(function(){return _})),t(n.exports,"name",(function(){return j})),t(n.exports,"shortName",(function(){return B})),t(n.exports,"previewSingleLine",(function(){return L})),t(n.exports,"toneSelectorContainer",(function(){return F})),t(n.exports,"withToneSelector",(function(){return z})),t(n.exports,"emojiPreviewSection",(function(){return W})),t(n.exports,"emojiPreview",(function(){return U})),t(n.exports,"emojiUpload",(function(){return H})),t(n.exports,"uploadChooseFileMessage",(function(){return V})),t(n.exports,"emojiUploadBottom",(function(){return K})),t(n.exports,"uploadChooseFileRow",(function(){return G})),t(n.exports,"uploadChooseFileEmojiName",(function(){return J})),t(n.exports,"uploadChooseFileBrowse",(function(){return q})),t(n.exports,"uploadPreviewFooter",(function(){return Y})),t(n.exports,"uploadPreview",(function(){return Z})),t(n.exports,"uploadPreviewText",(function(){return X})),t(n.exports,"bigEmojiPreview",(function(){return Q})),t(n.exports,"uploadAddRow",(function(){return $})),t(n.exports,"AddCustomEmoji",(function(){return ee})),t(n.exports,"previewButtonGroup",(function(){return te})),t(n.exports,"deletePreview",(function(){return ne})),t(n.exports,"deleteText",(function(){return re})),t(n.exports,"deleteFooter",(function(){return oe})),t(n.exports,"emojiDeleteErrorMessage",(function(){return ie})),t(n.exports,"emojiChooseFileErrorMessage",(function(){return ae})),t(n.exports,"emojiPreviewErrorMessage",(function(){return se})),t(n.exports,"addCustomEmojiButton",(function(){return ce})),t(n.exports,"uploadRetryButton",(function(){return le})),t(n.exports,"uploadEmojiButton",(function(){return ue})),t(n.exports,"cancelButton",(function(){return de})),t(n.exports,"buttonSpinner",(function(){return fe}));var i,a,s,c,l,u,d,f,p,h,g=r("l15hj"),m=r("8CJRm"),v=r("tNjg6"),b=r("01OmW"),y=r("db5G0"),E=r("1NOtL"),x="emoji-common-selected",k="emoji-common-select-on-hover",C="emoji-common-emoji-sprite",S="emoji-common-node",T="emoji-common-emoji-image",O=E.style({visibility:"hidden",display:"flex",height:"0px",width:"38px",alignItems:"flex-end",justifyContent:"flex-end",paddingTop:"4px",marginBottom:"-4px"}),w=E.style({borderRadius:"5px",backgroundColor:"transparent",display:"inline-block",verticalAlign:"middle",margin:"-1px 0",$nest:(i={},e(g)(i,"&.".concat(x,",&.").concat(k,":hover"),{backgroundColor:y.akEmojiSelectedBackgroundColor}),e(g)(i,"&.".concat(x,",&.").concat(k,":hover .").concat(O),{visibility:"visible"}),e(g)(i,"img",{display:"block"}),i)}),N=E.style({display:"inline-block",margin:"-1px 0",$nest:(a={},e(g)(a,"&.".concat(x,",&.").concat(k,":hover"),{backgroundColor:y.akEmojiSelectedBackgroundColor}),e(g)(a,".".concat(C),{background:"transparent no-repeat",display:"inline-block",verticalAlign:"middle",height:"".concat(b.defaultEmojiHeight,"px"),width:"".concat(b.defaultEmojiHeight,"px")}),a)}),P="emoji-common-placeholder",A=E.style({margin:"-1px 0",display:"inline-block",background:"#f7f7f7",borderRadius:"20%",verticalAlign:"middle",whiteSpace:"nowrap"}),I=(E.style({display:"inline-block",verticalAlign:"middle",whiteSpace:"nowrap"}),E.style({backgroundColor:"transparent",border:"0",cursor:"pointer",padding:0,$nest:(c={},e(g)(c,"&::-moz-focus-inner",{border:"0 none",padding:0}),e(g)(c,"&>span",{borderRadius:"5px",padding:"8px",$nest:(s={},e(g)(s,"&>.".concat(C),{height:"24px",width:"24px"}),e(g)(s,"&>img",{height:"24px",width:"24px"}),s)}),c)})),D=E.style({display:"none",$unique:!0}),R="emoji-common-preview",M="emoji-common-preview-image",_="emoji-common-preview-text",j="emoji-common-name",B="emoji-common-shortname",L="emoji-common-preview-single-line",F="emoji-common-tone-selector-container",z="emoji-common-with-tone-selector",W="emoji-preview-section",U=E.style({display:"flex",height:"50px",boxSizing:"border-box",$nest:(f={},e(g)(f,".".concat(R),{display:"flex",flexDirection:"row",flexWrap:"nowrap",padding:"10px",$nest:(d={},e(g)(d,".".concat(C),{height:"32px",margin:"0",width:"32px"}),e(g)(d,".".concat(M),{display:"inline-block",flex:"initial",width:"32px",$nest:{"&>span":{width:"32px",height:"32px",padding:0,maxHeight:"inherit",$nest:{"&>img":{position:"relative",left:"50%",top:"50%",transform:"translateX(-50%) translateY(-50%)",maxHeight:"32px",maxWidth:"32px",padding:0,display:"block"}}}}}),e(g)(d,".".concat(_),{display:"flex",flexDirection:"column",marginLeft:"10px",marginTop:"-2px",maxWidth:"285px",width:"285px",flexGrow:1,flexShrink:1,$nest:(l={},e(g)(l,".".concat(j),{display:"block",color:v.N900,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",$nest:e(g)({},"&:first-letter",{textTransform:"uppercase"})}),e(g)(l,".".concat(B),{display:"block",color:v.N200,fontSize:"12px",lineHeight:1,marginBottom:"-2px",overflow:"hidden",paddingBottom:"2px",textOverflow:"ellipsis",whiteSpace:"nowrap"}),l)}),e(g)(d,".".concat(L),{paddingTop:"10px",$nest:(u={},e(g)(u,".".concat(j),{display:"none"}),e(g)(u,".".concat(B),{color:v.N900,fontSize:"14px"}),u)}),d)}),e(g)(f,".".concat("emoji-common-buttons"),{flex:1,textAlign:"right",margin:"6px"}),e(g)(f,".".concat(F),{flex:1,display:"flex",justifyContent:"flex-end",margin:"6px"}),e(g)(f,".".concat(z," .").concat(_),{maxWidth:"235px",width:"235px"}),f)}),H=(E.style({border:"1px solid #fff",borderRadius:"".concat(m.borderRadius(),"px"),display:"block",margin:"0",overflowX:"hidden",overflowY:"auto",padding:"0"}),E.style({height:"78px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"space-around"})),V=E.style({color:v.N300,fontSize:"12px",paddingBottom:"7px"}),K=E.style({fontSize:"11px"}),G=E.style({display:"flex",justifyContent:"space-between"}),J=E.style({flex:"1 1 auto",marginRight:"5px",$nest:{input:{background:"transparent",border:0,fontSize:"12px",outline:"none",width:"100%",height:"22px",$nest:(p={},e(g)(p,"&:invalid",{boxShadow:"none"}),e(g)(p,"&::-ms-clear",{display:"none"}),p)}}}),q=E.style({flex:"0 0 auto"}),Y=E.style({display:"flex",flexDirection:"column",height:"100px",padding:"10px"}),Z=E.style({display:"flex",justifyContent:"space-between",alignItems:"center",background:v.N20,borderRadius:"".concat(m.borderRadius(),"px"),padding:"10px"}),X=E.style({$nest:{h5:{color:v.N300,paddingBottom:"4px",fontSize:"12px"},img:{maxHeight:"20px",maxWidth:"50px"}}}),Q=E.style({paddingLeft:"4px",$nest:{img:{maxHeight:"40px",maxWidth:"100px"}}}),$=E.style({display:"flex",justifyContent:"flex-end",alignItems:"center",paddingTop:"10px"}),ee=E.style({alignSelf:"center",marginLeft:"10px"}),te="emoji-preview-button-group",ne=E.style({height:"100px",padding:"10px",display:"flex",flexDirection:"column",justifyContent:"flex-end",fontSize:"12px"}),re=E.style({height:"64px",$nest:{":first-child":{color:v.N300,lineHeight:"16px"}}}),oe=E.style({display:"flex",height:"40px",alignItems:"center",justifyContent:"space-between",$nest:(h={img:{maxHeight:"32px",maxWidth:"72px"}},e(g)(h,".".concat(te),{display:"flex"}),e(g)(h,".".concat("emoji-submit-delete"),{width:"84px",fontWeight:"bold",marginRight:"4px"}),e(g)(h,"button",{display:"flex",justifyContent:"center",fontSize:"14px",$nest:{div:{display:"flex"}}}),h)}),ie=E.style({display:"flex",color:v.R400,alignItems:"center",justifyContent:"flex-end",paddingRight:"4px"}),ae=E.style({display:"flex",color:v.R300,paddingRight:"10px",justifyContent:"flex-start"}),se=E.style({display:"inline-flex",color:v.R400,paddingRight:"10px",justifyContent:"flex-end",alignItems:"center"}),ce=E.style({maxWidth:"285px"}),le=E.style({maxWidth:"172px",justifyContent:"center",fontWeight:"bold",marginRight:"4px",$nest:{div:{display:"flex"}}}),ue=E.style({maxWidth:"187px",justifyContent:"center",marginRight:"4px",$nest:{div:{display:"flex"}}}),de=E.style({maxWidth:"100px"}),fe=E.style({marginRight:"10px",marginLeft:"10px"})})),r.register("cevdv",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=(u=r("61szk"),r("kWjl9")),f=r("1uDs1");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.emojis,r=t.onSelected,o=t.onMouseMove,i=t.title,a=t.showDelete,s=t.onDelete;return e(u).createElement("div",{className:d.emojiPickerRow},n.map((function(t){var n=t.shortName,c=t.id,l=c?"".concat(c,"-").concat(i):"".concat(n,"-").concat(i);return e(u).createElement("span",{className:d.emojiItem,key:l},e(u).createElement(f.default,{emoji:t,selectOnHover:!0,onSelected:r,onMouseMove:o,showDelete:a,onDelete:s,placeholderSize:24}))})))}}]),r}(u.PureComponent)})),r.register("1uDs1",(function(n,o){t(n.exports,"default",(function(){return C}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("bRWI2"),h=r("hm2s2"),g=r("61szk"),m=(g=r("61szk"),r("f7cV0")),v=r("cCeoI"),b=r("eTT0h"),y=r("1A8ei"),E=r("2hF9E");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var k=function(t){e(l)(r,t);var n=x(r);function r(t,o){var i;return e(a)(this,r),i=n.call(this,t,o),e(f)(e(c)(i),"mounted",!1),e(f)(e(c)(i),"handleLoadError",(function(e,t){!i.state.invalidImage&&t&&i.setState({cachedEmoji:i.loadEmoji(t,i.context,!0)})})),i.state={cachedEmoji:i.loadEmoji(t.emoji,o,!1)},i}return e(s)(r,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e,t){e.emoji!==this.props.emoji&&this.mounted&&this.setState({cachedEmoji:this.loadEmoji(e.emoji,t,!1)})}},{key:"loadEmoji",value:function(e,t,n){var r=this;if(t.emoji){var o=t.emoji.emojiProvider;if(o){var i=this.props.fitToHeight,a=m.shouldUseAltRepresentation(e,i);if(o.optimisticMediaRendering(e,a)&&!n)return b.default("Optimistic rendering",e.shortName),e;b.default("Loading image via media cache",e.shortName);var s=o.loadMediaEmoji(e,a);if(!v.isPromise(s))return v.isEmojiDescription(s)?s:void 0;s.then((function(e){r.mounted&&r.setState({cachedEmoji:e,invalidImage:!e})})).catch((function(){r.mounted&&r.setState({cachedEmoji:void 0,invalidImage:!0})}))}}}},{key:"render",value:function(){var t,n=this.state.cachedEmoji,r=this.props,o=(r.children,r.placeholderSize,e(p)(r,["children","placeholderSize"]));if(n)t=e(g).createElement(y.default,e(i)({},o,{emoji:n,onLoadError:this.handleLoadError}));else{var a=this.props,s=a.emoji,c=a.placeholderSize,l=a.showTooltip,u=a.fitToHeight,d=s.shortName,f=s.representation;t=e(g).createElement(E.default,{size:u||c,shortName:d,showTooltip:l,representation:f})}return t}}]),r}(g.PureComponent);e(f)(k,"contextTypes",{emoji:e(h).object});var C=function(t){t.placeholderSize;var n=e(p)(t,["placeholderSize"]);return v.isMediaEmoji(t.emoji)?e(g).createElement(k,t):e(g).createElement(y.default,n)}})),r.register("f7cV0",(function(n,o){t(n.exports,"emojiRequest",(function(){return f})),t(n.exports,"getAltRepresentation",(function(){return g})),t(n.exports,"denormaliseEmojiServiceResponse",(function(){return b})),t(n.exports,"shouldUseAltRepresentation",(function(){return y}));var i=r("l15hj"),a=r("bRWI2"),s=r("9VyJv"),c=r("cCeoI"),l=r("eTT0h");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t,n){var r=t.getRatio,o=void 0===r?h:r,i=e(a)(t,["getRatio"]),c=p(o),l=n||{},u=l.queryParams,f=void 0===u?{}:u,g=d(d({},e(a)(l,["queryParams"])),{},{queryParams:d(d(d({},c),f),{},{preferredRepresentation:"IMAGE"})});return s.utils.requestService(i,g)},p=function(e){return e()>1?{scale:"XHDPI",altScale:"XXXHDPI"}:{altScale:"XHDPI"}},h=function(){return window.devicePixelRatio},g=function(e){return e[p(h).altScale]},m=function(e,t){if(c.isSpriteServiceRepresentation(e)&&t&&t.spriteSheets){var n=e,r=n.height,o=n.width,i=n.x,a=n.y,s=n.xIndex,u=n.yIndex,d=n.spriteRef,f=t.spriteSheets[d];if(f)return{sprite:f,height:r,width:o,x:i,y:a,xIndex:s,yIndex:u}}else if(c.isImageRepresentation(e)){var p=e.height,h=e.width,g=e.imagePath;return function(e,t){return!(!t||!t.mediaApiToken||0!==e.indexOf(t.mediaApiToken.url))}(g,t)?c.convertImageToMediaRepresentation(e):{height:p,width:h,imagePath:g}}l.default("failed conversion for representation",e,t)},v=function(e,t){return e&&0!==Object.keys(e).length?m(g(e),t):void 0},b=function(t){return{emojis:t.emojis.map((function(n){var r=m(n.representation,t.meta),o=v(n.altRepresentations,t.meta),i=function(t,n){if(!t.skinVariations)return[];var r=t.skinVariations,o=t.id;return r.map((function(t){var r=t.representation,i=t.altRepresentations,s=e(a)(t,["representation","altRepresentations"]);return d({baseId:o,representation:m(r,n),altRepresentation:v(i,n)},s)}))}(n,t.meta),s=(n.representation,n.skinVariations,n.altRepresentations,d(d({},e(a)(n,["representation","skinVariations","altRepresentations"])),{},{representation:r,skinVariations:i}));return c.buildEmojiDescriptionWithAltRepresentation(s,o)})),mediaApiToken:t.meta&&t.meta.mediaApiToken}},y=function(e,t){return!!(t&&e.altRepresentation&&function(e){return h()>1?2*e:e}(t)>e.representation.height)}})),r.register("eTT0h",(function(e,n){t(e.exports,"default",(function(){return o}));var r=!1;function o(e){if(r){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(o))}}})),r.register("1A8ei",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("jgze0"),a=r("l15hj");r("brPjL");var s=r("7Z865"),c=r("hdR0w"),l=r("61szk"),u=r("f7cV0"),d=r("01OmW"),f=r("cCeoI"),p=r("fl4Si"),h=r("8pPHa"),g=r("kncue");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var v=function(e,t){if(!(t.target instanceof Element&&t.target.getAttribute("aria-label")===d.deleteEmojiLabel)){var n=e.emoji,r=e.onSelected;t.preventDefault(),r&&p.leftClick(t)&&r(f.toEmojiId(n),n,t)}},b=function(e,t){var n=e.emoji,r=e.onMouseMove;r&&r(f.toEmojiId(n),n,t)},y=function(t){var n,r=t.emoji,o=t.fitToHeight,i=t.selected,u=t.selectOnHover,d=t.className,f=t.showTooltip,p=r.representation,g=p.sprite,y=(n={},e(a)(n,h.emojiContainer,!0),e(a)(n,h.emojiNode,!0),e(a)(n,h.selected,i),e(a)(n,h.selectOnHover,u),n);d&&(y[d]=!0);var E={};o&&(E={width:"".concat(o,"px"),height:"".concat(o,"px")});var x=100/(g.column-1)*(p.xIndex-0),k=100/(g.row-1)*(p.yIndex-0),C=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({backgroundImage:"url(".concat(g.url,")"),backgroundPosition:"".concat(x,"% ").concat(k,"%"),backgroundSize:"".concat(100*g.column,"% ").concat(100*g.row,"%")},E),S=e(l).createElement("span",{className:h.emojiSprite,style:C},"\xa0");return e(l).createElement("span",{className:e(c)(y),onMouseDown:function(e){v(t,e)},onMouseMove:function(e){b(t,e)},"aria-label":r.shortName},f?e(l).createElement(s.default,{tag:"span",content:r.shortName},S):S)},E=function(t){var n,r,o,d,p=t.emoji,m=t.fitToHeight,y=t.selected,E=t.selectOnHover,x=t.className,k=t.showTooltip,C=t.showDelete,S=(n={},e(a)(n,h.emoji,!0),e(a)(n,h.emojiNode,!0),e(a)(n,h.selected,y),e(a)(n,h.selectOnHover,E),e(a)(n,h.emojiImage,!0),n);x&&(S[x]=!0);var T,O=u.shouldUseAltRepresentation(p,m)?p.altRepresentation:p.representation;f.isImageRepresentation(O)?(d=O.imagePath,r=O.width,o=O.height):f.isMediaRepresentation(O)&&(d=O.mediaPath,r=O.width,o=O.height),C&&(T=e(l).createElement(g.default,{onClick:function(e){return function(e,t){var n=e.emoji,r=e.onDelete;r&&r(f.toEmojiId(n),n,t)}(t,e)}}));var w={};m&&r&&o&&(w={width:m/o*r,height:m});var N=e(l).createElement("img",e(i)({loading:"lazy",src:d,key:d,alt:p.shortName,"data-emoji-short-name":p.shortName,"data-emoji-id":p.id,"data-emoji-text":p.fallback||p.shortName,className:"emoji",style:{visibility:"visible"},onError:function(e){!function(e,t){var n=e.emoji,r=e.onLoadError;t.target&&(t.target.style.visibility="hidden"),r&&r(f.toEmojiId(n),n,t)}(t,e)}},w));return e(l).createElement("span",{className:e(c)(S),onMouseDown:function(e){v(t,e)},onMouseMove:function(e){b(t,e)},"aria-label":p.shortName},T,k?e(l).createElement(s.default,{tag:"span",content:p.shortName},N):N)},x=function(e){var t=e.emoji;return f.isSpriteRepresentation(t.representation)?y(e):E(e)}})),r.register("brPjL",(function(e,n){t(e.exports,"default",(function(){return r("7Z865").default}));r("7Z865")})),r.register("7Z865",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("61szk"),l=r("4JuWt"),u=r("gKQyD"),d=r("fJhBp"),f=r("6arEb"),p=r("hk7TV"),h=r("djEoB"),g=r("bnitQ"),m=r("isYRw"),v=r("gTfx5"),b=r("f1d26"),y=r("7BEH0"),E=r("7cPyu");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=m.layers.tooltip(),S={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.5.0"};function T(){}function O(t){var n=t.children,r=t.position,o=void 0===r?"bottom":r,s=t.mousePosition,m=void 0===s?"bottom":s,x=t.content,O=t.truncate,w=void 0!==O&&O,N=t.component,P=void 0===N?y.default:N,A=t.tag,I=void 0===A?"div":A,D=t.testId,R=t.delay,M=void 0===R?300:R,_=t.onShow,j=void 0===_?T:_,B=t.onHide,L=void 0===B?T:B,F=t.hideTooltipOnClick,z=void 0!==F&&F,W=t.hideTooltipOnMouseDown,U=void 0!==W&&W,H=t.analyticsContext,V=t.strategy,K=void 0===V?"fixed":V,G="mouse"===o?m:o,J=d.usePlatformLeafSyntheticEventHandler(k({fn:j,action:"displayed",analyticsData:H},S)),q=d.usePlatformLeafSyntheticEventHandler(k({fn:L,action:"hidden",analyticsData:H},S)),Y=c.useRef(null),Z=c.useState("hide"),X=e(a)(Z,2),Q=X[0],$=X[1],ee=c.useRef(null),te=c.useRef(null),ne=c.useCallback((function(e){e&&("function"==typeof n?ee.current=e:(te.current=e,ee.current=e.firstChild))}),[n]),re=c.useRef(Q),oe=c.useRef(M),ie=c.useRef({onShowHandler:J,onHideHandler:q}),ae=c.useRef(!1);c.useEffect((function(){re.current=Q,oe.current=M,ie.current={onShowHandler:J,onHideHandler:q}}),[M,q,J,Q]);var se=c.useCallback((function(e){Y.current=e,ae.current=!1}),[]),ce=c.useCallback((function(){Y.current&&(ae.current&&ie.current.onHideHandler(),Y.current=null,ae.current=!1,$("hide"))}),[]),le=c.useCallback((function(){Y.current&&(Y.current.abort(),ae.current&&ie.current.onHideHandler(),Y.current=null)}),[]);c.useEffect((function(){return function(){Y.current&&le()}}),[le]);var ue=c.useCallback((function(e){if(Y.current&&!Y.current.isActive()&&le(),Y.current&&Y.current.isActive())Y.current.keep();else{var t={source:e,delay:oe.current,show:function(e){var t=e.isImmediate;ae.current||(ae.current=!0,ie.current.onShowHandler()),$(t?"show-immediate":"show-fade-in")},hide:function(e){var t=e.isImmediate;$((function(e){return"hide"!==e?t?"hide":"fade-out":e}))},done:ce},n=v.show(t);se(n)}}),[le,ce,se]),de=c.useCallback((function(){var e;null===(e=Y.current)||void 0===e||e.requestHide({isImmediate:!0})}),[Y]);f.default({onClose:de,isDisabled:"hide"===Q||"fade-out"===Q}),c.useEffect((function(){return"hide"===Q?T:u.bind(window,{type:"scroll",listener:function(){Y.current&&Y.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})}),[Q]);var fe,pe,he=c.useCallback((function(){U&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[U]),ge=c.useCallback((function(){z&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[z]),me=c.useCallback((function(e){if(!(te.current&&e.target===te.current||e.defaultPrevented)){e.preventDefault();var t="mouse"===o?{type:"mouse",mouse:E.getMousePosition({left:e.clientX,top:e.clientY})}:{type:"keyboard"};ue(t)}}),[o,ue]),ve=c.useCallback((function(e){te.current&&e.target===te.current||e.defaultPrevented||(e.preventDefault(),Y.current&&Y.current.requestHide({isImmediate:!1}))}),[]),be=c.useCallback((function(){Y.current&&Y.current.isActive()&&Y.current.keep()}),[]),ye=c.useCallback((function(){ue({type:"keyboard"})}),[ue]),Ee=c.useCallback((function(){Y.current&&Y.current.requestHide({isImmediate:!1})}),[]),xe=c.useCallback((function(e){"exiting"===e&&"fade-out"===re.current&&Y.current&&Y.current.finishHideAnimation()}),[]),ke=I,Ce="hide"!==Q&&Boolean(x),Se="show-immediate"===Q||"show-fade-in"===Q,Te=b.default("tooltip",Ce),Oe={onMouseOver:me,onMouseOut:ve,onClick:ge,onMouseDown:he,onFocus:ye,onBlur:Ee,ref:ne,"aria-describedby":Te,"data-testid":D?"".concat(D,"--container"):void 0};return l.jsx(e(c).Fragment,null,"function"==typeof n?n(Oe):l.jsx(ke,e(i)({},Oe,{role:"presentation"}),n),Ce?l.jsx(g.default,{zIndex:C},l.jsx(h.Popper,{placement:G,referenceElement:(fe=Y.current,pe=fe?fe.getInitialMouse():null,"mouse"===o&&pe?pe:ee.current||void 0),strategy:K},(function(e){var t=e.ref,n=e.style,r=e.update;return l.jsx(p.ExitingPersistence,{appear:!0},Se&&l.jsx(p.FadeIn,{onFinish:xe,duration:"show-immediate"===Q?0:void 0},(function(e){var o=e.className;return l.jsx(P,{ref:t,className:"Tooltip ".concat(o),style:n,truncate:w,placement:G,testId:D,onMouseOut:ve,onMouseOver:be,id:Te},"function"==typeof x?x({update:r}):x)})))}))):null)}O.displayName="Tooltip";var w=O})),r.register("isYRw",(function(e,n){t(e.exports,"CHANNEL",(function(){return o})),t(e.exports,"DEFAULT_THEME_MODE",(function(){return i})),t(e.exports,"THEME_MODES",(function(){return a})),t(e.exports,"borderRadius",(function(){return s})),t(e.exports,"layers",(function(){return c}));r("3sqOU"),r("k7Xhr");var o="__ATLASKIT_THEME__",i="light",a=["light","dark"],s=function(){return 3},c={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}})),r.register("k7Xhr",(function(e,n){t(e.exports,"B100",(function(){return c})),t(e.exports,"N0",(function(){return d})),t(e.exports,"N800",(function(){return p})),t(e.exports,"N30A",(function(){return h})),t(e.exports,"DN600",(function(){return g})),t(e.exports,"DN0",(function(){return b})),t(e.exports,"skeleton",(function(){return y}));var o=r("imUIF"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#4C9AFF",l="#2684FF",u="#0052CC",d="#FFFFFF",f="#6B778C",p="#172B4D",h="rgba(9, 30, 66, 0.08)",g="#B8C7E0",m="#8C9CB8",v="#283447",b="#0D1424",y=(o.default({light:d,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:d,dark:v}),o.default({light:"#091E42",dark:g}),o.default({light:p,dark:g}),o.default({light:u,dark:u}),o.default({light:f,dark:m}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:p,dark:g}),o.default({light:f,dark:m}),o.default({light:"#F4F5F7",dark:v}),o.default({light:u,dark:c}),o.default({light:"#0065FF",dark:l}),o.default({light:"#0747A6",dark:c}),o.default({light:c,dark:l}),o.default({light:u,dark:c}),o.default({light:u,dark:c}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("imUIF",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("btDey");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("btDey",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("isYRw");function i(e){if(e&&e.theme){if(o.CHANNEL in e.theme)return e.theme[o.CHANNEL];if("mode"in e.theme&&o.THEME_MODES.includes(e.theme.mode))return e.theme}return{mode:o.DEFAULT_THEME_MODE}}})),r.register("gTfx5",(function(e,n){t(e.exports,"show",(function(){return a}));var o=r("7VZTH"),i=null;function a(e){var t="waiting-to-show";function n(){return Boolean(i&&i.entry===e)}function r(){n()&&(o.clearScheduled(),i=null)}function a(){n()&&e.done(),t="done",r()}function s(){n()&&e.hide({isImmediate:!0}),a()}function c(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){var n=Boolean(i&&i.isVisible());function r(){t="shown",e.show({isImmediate:n})}i&&(o.clearScheduled(),i.entry.hide({isImmediate:!0}),i.entry.done(),i=null),i={entry:e,isVisible:c},n?r():(t="waiting-to-show",o.scheduleTimeout(r,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void o.clearScheduled()):"hide-animating"===t?(t="shown",o.clearScheduled(),void e.show({isImmediate:!1})):void 0},abort:r,isActive:n,requestHide:function(r){var i=r.isImmediate;n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(i?s():(t="waiting-to-hide",o.scheduleTimeout((function(){t="hide-animating",e.hide({isImmediate:!1})}),e.delay))):s())},finishHideAnimation:function(){n()&&"hide-animating"===t&&a()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}})),r.register("7VZTH",(function(e,n){t(e.exports,"clearScheduled",(function(){return o})),t(e.exports,"scheduleTimeout",(function(){return i}));var r=null;function o(){null!=r&&(window.clearTimeout(r),r=null)}function i(e,t){o(),r=window.setTimeout((function(){r=null,e()}),t)}})),r.register("f1d26",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("48Unu");function i(e,t){var n=o.useUIDSeed();return t?"".concat(n(e)):void 0}})),r.register("7BEH0",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("lhkMJ"),a=r("61szk"),s=r("4JuWt"),c=r("k7Xhr");r("3TR8k");var l,u,d,f=r("cLVX0"),p=r("isYRw"),h=r("3sqOU"),g=r("cUlmn"),m=s.css(l||(l=e(i)(["\n  border-radius: ","px;\n  box-sizing: border-box;\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n"])),p.borderRadius()),v=s.css(u||(u=e(i)(["\n  max-width: 420px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),b=a.forwardRef((function(t,n){var r=t.style,o=t.className,a=t.children,l=t.truncate,u=t.placement,p=t.testId,b=t.onMouseOut,y=t.onMouseOver,E=t.id;return s.jsx(f.default.Consumer,null,(function(t){var f=t.mode;return s.jsx(g.default,{ref:n,style:r,className:o,placement:u,testId:p,id:E,onMouseOut:b,onMouseOver:y,css:[m,l?v:null,s.css(d||(d=e(i)(["\n                background-color: ",";\n                color: ",";\n              "])),"light"===f?h.default("color.background.boldNeutral.resting",c.N800):h.default("color.background.boldNeutral.resting",c.DN0),"light"===f?h.default("color.text.onBold",c.N0):h.default("color.text.onBold",c.DN600))]},a)}))}));b.displayName="TooltipContainer";var y=b})),r.register("3TR8k",(function(e,n){t(e.exports,"default",(function(){return r("cLVX0").default}));r("cLVX0")})),r.register("cLVX0",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("18AKZ").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("18AKZ",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("cUlmn",(function(n,o){t(n.exports,"default",(function(){return f}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("4JuWt"),l=r("isYRw"),u=c.css(i||(i=e(a)(["\n  z-index: ",";\n  cursor: default;\n"])),l.layers.tooltip()),d=s.forwardRef((function(e,t){var n=e.style,r=e.className,o=e.children,i=e.placement,a=e.testId,s=e.onMouseOut,l=e.onMouseOver,d=e.id;return c.jsx("div",{role:"tooltip",ref:t,style:n,className:r,onMouseOut:s,onMouseOver:l,css:u,"data-placement":i,"data-testid":a,id:d},o)}));d.displayName="TooltipPrimitive";var f=d})),r.register("7cPyu",(function(e,n){function r(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}t(e.exports,"getMousePosition",(function(){return r}))})),r.register("fl4Si",(function(e,n){function r(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}t(e.exports,"leftClick",(function(){return r}))})),r.register("kncue",(function(n,o){t(n.exports,"default",(function(){return d})),r("dHKiC");var i=r("bKigv"),a=r("954WD"),s=r("61szk"),c=r("tNjg6"),l=r("01OmW"),u=r("8pPHa"),d=function(t){return e(s).createElement("span",{className:u.deleteButton},e(s).createElement(i.default,{iconBefore:e(s).createElement(e(a),{label:l.deleteEmojiLabel,primaryColor:c.N500,size:"small"}),onClick:t.onClick,appearance:"subtle-link",spacing:"none"}))}})),r.register("dHKiC",(function(e,n){t(e.exports,"default",(function(){return r("bKigv").default}));r("bKigv")})),r.register("bKigv",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("bRWI2"),l=r("61szk");r("fXNaw");var u=r("jYKgb"),d=r("c6Chc"),f=r("gN8Mv"),p=r("6TNw9"),h=r("3jNWS");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,s=e.isHover,c=void 0!==s&&s,l=e.isSelected,u=void 0!==l&&l,d=e.isLoading,f=void 0!==d&&d;return n?"disabled":u&&a?"focusSelected":u?"selected":!f&&o?"active":!f&&c?"hover":a?"focus":"default"}var b={isHover:!1,isActive:!1,isFocus:!1},y=e(l).memo(e(l).forwardRef((function(t,n){var r=t.appearance,o=void 0===r?"default":r,s=t.autoFocus,g=void 0!==s&&s,y=t.isDisabled,E=void 0!==y&&y,x=t.isSelected,k=void 0!==x&&x,C=t.shouldFitContainer,S=void 0!==C&&C,T=t.spacing,O=void 0===T?"default":T,w=t.isLoading,N=void 0!==w&&w,P=t.onMouseEnter,A=t.onMouseLeave,I=t.onMouseDown,D=t.onMouseUp,R=t.onFocus,M=t.onBlur,_=t.theme,j=void 0===_?h.defaultThemeFn:_,B=m({appearance:o,autoFocus:g,isDisabled:E,isSelected:k,shouldFitContainer:S,spacing:O},e(c)(t,["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"])),L=l.useState(b),F=e(a)(L,2),z=F[0],W=F[1],U=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isHover:!0})})),P&&P(e)}),[P]),H=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isHover:!1,isActive:!1})})),A&&A(e)}),[A]),V=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isActive:!0})})),I&&I(e)}),[I]),K=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isActive:!1})})),D&&D(e)}),[D]),G=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isFocus:!0})})),R&&R(e)}),[R]),J=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isFocus:!1})})),M&&M(e)}),[M]);return e(l).createElement(h.default.Provider,{value:j},e(l).createElement(u.default.Consumer,null,(function(t){var r=t.mode;return e(l).createElement(h.default.Consumer,e(i)({mode:r,state:v(m(m({},z),{},{isLoading:N,isSelected:B.isSelected,isDisabled:B.isDisabled})),iconIsOnlyChild:f.default(B),isLoading:N},B),(function(t){var r=t.buttonStyles;return e(l).createElement(d.default,e(i)({},B,{ref:n,overlay:N?e(l).createElement(p.default,B):null,onMouseEnter:U,onMouseLeave:H,onMouseDown:V,onMouseUp:K,onFocus:G,onBlur:J,buttonCss:h.getSpecifiers(r)}))}))})))})));y.displayName="CustomThemeButton";var E=y})),r.register("fXNaw",(function(e,n){t(e.exports,"default",(function(){return r("jYKgb").default})),t(e.exports,"createTheme",(function(){return r("ksFF4").createTheme}));r("jYKgb"),r("ksFF4")})),r.register("jYKgb",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("ksFF4").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("ksFF4",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("c6Chc",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("jgze0"),a=r("bRWI2"),s=r("61szk"),c=r("4JuWt"),l=r("6g5qJ"),u=r("8kTdg"),d=r("7Wwr1"),f=r("1Rkdv");function p(){}var h={"> *":{pointerEvents:"none"}},g=e(s).forwardRef((function(t,n){t.appearance;var r=t.buttonCss,o=t.spacing,g=void 0===o?"default":o,m=t.autoFocus,v=void 0!==m&&m,b=t.isDisabled,y=void 0!==b&&b,E=(t.shouldFitContainer,t.isSelected,t.iconBefore),x=t.iconAfter,k=t.children,C=t.className,S=t.href,T=t.overlay,O=t.tabIndex,w=void 0===O?0:O,N=t.type,P=void 0===N?S?void 0:"button":N,A=t.onMouseDown,I=void 0===A?p:A,D=t.onClick,R=void 0===D?p:D,M=t.component,_=void 0===M?S?"a":"button":M,j=t.testId,B=t.analyticsContext,L=e(a)(t,["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","analyticsContext"]),F=s.useRef(),z=s.useCallback((function(e){F.current=e,null!=n&&("function"!=typeof n?n.current=e:n(e))}),[F,n]);u.default(F,v);var W=l.usePlatformLeafEventHandler({fn:R,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.1.1",analyticsData:B}),U=s.useCallback((function(e){e.preventDefault(),I(e)}),[I]);s.useEffect((function(){var e=F.current;y&&e&&e===document.activeElement&&e.blur()}),[y]);var H=Boolean(T),V=f.getFadingCss({hasOverlay:H}),K=!y&&!H;return c.jsx(_,e(i)({},L,{css:[r,K?null:h],className:C,ref:z,onClick:W,onMouseDown:U,disabled:y,href:K?S:void 0,"data-has-overlay":!!H||void 0,"data-testid":j,type:P,tabIndex:y?-1:w},d.default({isInteractive:K})),E?c.jsx("span",{css:[V,f.getIconStyle({spacing:g})]},E):null,k?c.jsx("span",{css:[V,f.getContentStyle({spacing:g})]},k):null,x?c.jsx("span",{css:[V,f.getIconStyle({spacing:g})]},x):null,T?c.jsx("span",{css:f.overlayCss},T):null)}))})),r.register("7Wwr1",(function(e,n){function r(e){e.preventDefault(),e.stopPropagation()}t(e.exports,"default",(function(){return s}));function o(e){9!==e.keyCode&&r(e)}var i={onMouseDownCapture:r,onMouseUpCapture:r,onKeyDownCapture:o,onKeyUpCapture:o,onTouchStartCapture:r,onTouchEndCapture:r,onPointerDownCapture:r,onPointerUpCapture:r,onClickCapture:r,onClick:r},a={};function s(e){return e.isInteractive?a:i}})),r.register("1Rkdv",(function(n,o){t(n.exports,"getCss",(function(){return x})),t(n.exports,"getIconStyle",(function(){return k})),t(n.exports,"getContentStyle",(function(){return C})),t(n.exports,"getFadingCss",(function(){return S})),t(n.exports,"overlayCss",(function(){return T}));var i=r("l15hj"),a=r("8CJRm"),s=r("VDGf2");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=a.borderRadius(),d=a.gridSize(),f=a.fontSize(),p={default:"".concat(4*d/f,"em"),compact:"".concat(3*d/f,"em"),none:"auto"},h={default:p.default,compact:p.compact,none:"inherit"},g={default:"0 ".concat(d+d/4,"px"),compact:"0 ".concat(d+d/4,"px"),none:"0"},m={compact:"0 ".concat(d/4,"px"),default:"0 ".concat(d/4,"px"),none:"0"},v={default:"middle",compact:"middle",none:"baseline"},b={content:"0 ".concat(d/4,"px"),icon:"0 ".concat(d/4,"px")};function y(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function E(e){var t=e.appearance,n=e.key,r=e.mode;return{background:y({group:s.default.background[t],key:n,mode:r}),color:"".concat(y({group:s.default.color[t],key:n,mode:r})," !important")}}function x(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,c=E({appearance:t,key:o?"selected":"default",mode:r});return l(l({alignItems:"baseline",borderWidth:0,borderRadius:u,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:p[n],lineHeight:h[n],padding:a?m[n]:g[n],verticalAlign:v[n],width:i?"100%":"auto",justifyContent:"center","&:visited":l({},c),"&:hover":l(l({},E({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:focus":l(l({},E({appearance:t,key:o?"focusSelected":"focus",mode:r})),{},{boxShadow:"0 0 0 2px ".concat(s.default.boxShadowColor[t].focus[r]),transitionDuration:"0s, 0.2s",outline:"none"}),"&:active":l(l({},E({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':l(l({},E({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":l(l({},E({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':l({},E({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}function k(e){return{alignSelf:"center",display:"flex",flexGrow:0,flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===e.spacing?0:b.icon}}function C(e){return{margin:"none"===e.spacing?0:b.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}function S(e){return{transition:"opacity 0.3s",opacity:e.hasOverlay?0:1}}var T={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}})),r.register("VDGf2",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("tNjg6"),i=r("3sqOU"),a="rgba(179, 212, 255, 0.6)",s={background:{default:{default:{light:i.default("color.background.subtleNeutral.resting",o.N20A),dark:i.default("color.background.subtleNeutral.resting",o.DN70)},hover:{light:i.default("color.background.subtleNeutral.hover",o.N30A),dark:i.default("color.background.subtleNeutral.hover",o.DN60)},active:{light:i.default("color.background.subtleNeutral.pressed",a),dark:i.default("color.background.subtleNeutral.pressed",o.B75)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},primary:{default:{light:i.default("color.background.boldBrand.resting",o.B400),dark:i.default("color.background.boldBrand.resting",o.B100)},hover:{light:i.default("color.background.boldBrand.hover",o.B300),dark:i.default("color.background.boldBrand.hover",o.B75)},active:{light:i.default("color.background.boldBrand.pressed",o.B500),dark:i.default("color.background.boldBrand.pressed",o.B200)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},warning:{default:{light:i.default("color.background.boldWarning.resting",o.Y300),dark:i.default("color.background.boldWarning.resting",o.Y300)},hover:{light:i.default("color.background.boldWarning.hover",o.Y200),dark:i.default("color.background.boldWarning.hover",o.Y200)},active:{light:i.default("color.background.boldWarning.pressed",o.Y400),dark:i.default("color.background.boldWarning.pressed",o.Y400)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.Y400),dark:i.default("color.background.selected.resting",o.Y400)},focusSelected:{light:i.default("color.background.selected.resting",o.Y400),dark:i.default("color.background.selected.resting",o.Y400)}},danger:{default:{light:i.default("color.background.boldDanger.resting",o.R400),dark:i.default("color.background.boldDanger.resting",o.R400)},hover:{light:i.default("color.background.boldDanger.hover",o.R300),dark:i.default("color.background.boldDanger.hover",o.R300)},active:{light:i.default("color.background.boldDanger.pressed",o.R500),dark:i.default("color.background.boldDanger.pressed",o.R500)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.R500),dark:i.default("color.background.selected.resting",o.R500)},focusSelected:{light:i.default("color.background.selected.resting",o.R500),dark:i.default("color.background.selected.resting",o.R500)}},link:{default:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)}},subtle:{default:{light:"none",dark:"none"},hover:{light:i.default("color.background.transparentNeutral.hover",o.N30A),dark:i.default("color.background.transparentNeutral.hover",o.DN60)},active:{light:i.default("color.background.transparentNeutral.pressed",a),dark:i.default("color.background.transparentNeutral.pressed",o.B75)},disabled:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)}}},boxShadowColor:{default:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},primary:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},warning:{focus:{light:i.default("color.border.focus",o.Y500),dark:i.default("color.border.focus",o.Y500)},focusSelected:{light:i.default("color.border.focus",o.Y500),dark:i.default("color.border.focus",o.Y500)}},danger:{focus:{light:i.default("color.border.focus",o.R100),dark:i.default("color.border.focus",o.R100)},focusSelected:{light:i.default("color.border.focus",o.R100),dark:i.default("color.border.focus",o.R100)}},link:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},subtle:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},"subtle-link":{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}}},color:{default:{default:{light:i.default("color.text.highEmphasis",o.N500),dark:i.default("color.text.highEmphasis",o.DN400)},active:{light:i.default("color.text.highEmphasis",o.B400),dark:i.default("color.text.highEmphasis",o.B400)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},primary:{default:{light:i.default("color.text.onBold",o.N0),dark:i.default("color.text.onBold",o.DN30)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},warning:{default:{light:i.default("color.text.onBoldWarning",o.N800),dark:i.default("color.text.onBoldWarning",o.N800)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N800),dark:i.default("color.text.selected",o.N800)},focusSelected:{light:i.default("color.text.selected",o.N800),dark:i.default("color.text.selected",o.N800)}},danger:{default:{light:i.default("color.text.onBold",o.N0),dark:i.default("color.text.onBold",o.N0)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N0),dark:i.default("color.text.selected",o.N0)},focusSelected:{light:i.default("color.text.selected",o.N0),dark:i.default("color.text.selected",o.N0)}},link:{default:{light:i.default("color.text.link.resting",o.B400),dark:i.default("color.text.link.resting",o.B100)},hover:{light:i.default("color.text.link.resting",o.B300),dark:i.default("color.text.link.resting",o.B75)},active:{light:i.default("color.text.link.pressed",o.B500),dark:i.default("color.text.link.pressed",o.B200)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.N700)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.N700)}},subtle:{default:{light:i.default("color.text.highEmphasis",o.N500),dark:i.default("color.text.highEmphasis",o.DN400)},active:{light:i.default("color.text.highEmphasis",o.B400),dark:i.default("color.text.highEmphasis",o.B400)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},"subtle-link":{default:{light:i.default("color.text.mediumEmphasis",o.N200),dark:i.default("color.text.mediumEmphasis",o.DN400)},hover:{light:i.default("color.text.mediumEmphasis",o.N90),dark:i.default("color.text.mediumEmphasis",o.B50)},active:{light:i.default("color.text.highEmphasis",o.N400),dark:i.default("color.text.highEmphasis",o.DN300)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}}}}})),r.register("gN8Mv",(function(e,n){function r(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}t(e.exports,"default",(function(){return r}))})),r.register("6TNw9",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("bRWI2"),a=r("61szk"),s=r("1HQ2H");function c(t){var n,r,o,c,l=t.spacing,u=void 0===l?"default":l,d=e(i)(t,["spacing"]),f="default"===u?"medium":"small";return e(a).createElement(s.default,{size:f,appearance:(n=d,r=n.appearance,o=n.isDisabled,c=n.isSelected,o?"inherit":c||"primary"===r||"danger"===r?"invert":"inherit")})}})),r.register("3jNWS",(function(n,o){t(n.exports,"getSpecifiers",(function(){return f})),t(n.exports,"defaultThemeFn",(function(){return p})),t(n.exports,"default",(function(){return h}));var i=r("l15hj");r("fXNaw");var a=r("ksFF4"),s=r("1Rkdv");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function d(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,i=e.mode,a=void 0===i?"light":i,c=e.isSelected,d=void 0!==c&&c,f=e.shouldFitContainer,p=void 0!==f&&f,h=e.iconIsOnlyChild,g=void 0!==h&&h,m=e.isLoading,v=void 0!==m&&m,b=e.state,y=s.getCss({appearance:n,spacing:o,mode:a,isSelected:d,shouldFitContainer:p,isOnlySingleIcon:g});y.outline="none";var E=u[b];return E&&(y=l(l({},y),y[E])),v&&(y=l(l({},y),y['&[data-has-overlay="true"]'])),Object.keys(y).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete y[e]})),y}function f(e){return{"&, &:hover, &:active, &:focus, &:visited, &:disabled, &[disabled]":e}}function p(e,t){return e(t)}var h=a.createTheme((function(e){return{buttonStyles:d(e),spinnerStyles:{}}}))})),r.register("2hF9E",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("l15hj"),a=r("61szk"),s=r("hdR0w");r("brPjL");var c=r("7Z865"),l=r("8pPHa"),u=r("01OmW"),d=r("cCeoI"),f=function(t){var n,r,o,f=t.shortName,p=t.size,h=void 0===p?u.defaultEmojiHeight:p,g=t.showTooltip,m=t.representation;if(m&&h&&(d.isImageRepresentation(m)||d.isMediaRepresentation(m))){var v=m.width,b=m.height;v&&b&&(r=h/b*v,o=h)}var y=o||h,E={fill:"f7f7f7",width:"".concat(r||h,"px"),height:"".concat(y,"px")},x=(n={},e(i)(n,l.placeholder,!0),e(i)(n,l.placeholderContainer,!0),n),k=e(a).createElement("span",{"aria-label":f,className:e(s)(x),style:E});return g?e(a).createElement(c.default,{tag:"span",content:f},k):k}})),r.register("6M0ag",(function(e,n){t(e.exports,"sizes",(function(){return o}));var o={listHeight:208,listWidth:r("01OmW").emojiPickerWidth,searchHeight:52,categoryHeadingHeight:30,emojiRowHeight:40,addEmojiHeight:32,loadingRowHeight:150,uploadActionHeight:40,emojiPerRow:8}})),r.register("heo6H",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("dRWxf")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("l9Veb")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("17kow")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bHKqB")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("cySCc")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("eOpop")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("3JggH")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("48bGM")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4A1Kx")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bySHt")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("47REM"))]).then((()=>r("fPfs2")))})),r.register("duqiq",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("hdR0w"),p=r("61szk"),h=(p=r("61szk"),r("cCeoI")),g=r("fl4Si"),m=r("6MTNn"),v=r("8J5Wt");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onEmojiSelected",(function(e){var n=t.props,r=n.emoji,o=n.onSelection;g.leftClick(e)&&o&&(e.preventDefault(),o(h.toEmojiId(r),r,e))})),e(d)(e(s)(t),"onEmojiMenuItemMouseMove",(function(e){var n=t.props,r=n.emoji,o=n.onMouseMove;o&&o(h.toEmojiId(r),r,e)})),t}return e(a)(r,[{key:"render",value:function(){var t,n=this.props,r=n.selected,o=n.emoji,i=e(f)((t={"ak-emoji-typeahead-item":!0},e(d)(t,v.typeAheadItem,!0),e(d)(t,v.selected,r),t));return e(p).createElement("div",{className:i,onMouseDown:this.onEmojiSelected,onMouseMove:this.onEmojiMenuItemMouseMove,"data-emoji-id":o.shortName},e(p).createElement("div",{className:v.typeAheadItemRow},e(p).createElement(m.default,{emoji:o})))}}]),r}(p.PureComponent)})),r.register("6MTNn",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj");r("92V7z");var p=r("kEftZ"),h=r("8xvKS"),g=r("hdR0w"),m=r("61szk"),v=(m=r("61szk"),r("7RIig")),b=r("1uDs1"),y=r("8Dnlc"),E=r("2khF4"),x=r("8pPHa"),k=r("1KFI0"),C=r("eIq8x");function S(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var T=function(t){e(l)(r,t);var n=S(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{selectingTone:!1}),e(f)(e(c)(t),"onToneButtonClick",(function(){t.setState({selectingTone:!t.state.selectingTone})})),e(f)(e(c)(t),"onToneSelected",(function(e){t.setState({selectingTone:!1}),t.props.onToneSelected&&t.props.onToneSelected(e)})),e(f)(e(c)(t),"onMouseLeave",(function(){var e=t.state.selectingTone,n=t.props.onToneSelectorCancelled;e&&n&&n(),t.setState({selectingTone:!1})})),t}return e(s)(r,[{key:"renderTones",value:function(){var t=this,n=this.props,r=n.toneEmoji,o=n.selectedTone;if(!r)return null;var a=r;return o&&a.skinVariations&&(a=a.skinVariations[(o||1)-1]),e(m).createElement("div",{className:x.toneSelectorContainer},this.state.selectingTone&&e(m).createElement(k.default,{emoji:r,onToneSelected:this.onToneSelected,previewEmojiId:a.id}),e(m).createElement(v.FormattedMessage,e(i)({},E.messages.emojiSelectSkinToneButtonAriaLabelText,{values:{selectedTone:"".concat(C.setSkinToneAriaLabelText(a.name)," selected")}}),(function(n){return e(m).createElement(y.default,{ariaExpanded:t.state.selectingTone,emoji:a,selectOnHover:!0,onSelected:t.onToneButtonClick,ariaLabelText:n})})))}},{key:"renderEmojiPreview",value:function(){var t,n,r=this.state.selectingTone,o=this.props,i=o.emoji,a=o.uploadEnabled;if(!i||r||a)return null;var s=e(g)((t={},e(f)(t,x.preview,!0),e(f)(t,x.withToneSelector,!!this.props.toneEmoji),t)),c=e(g)((n={},e(f)(n,x.previewText,!0),e(f)(n,x.previewSingleLine,!i.name),n));return e(m).createElement("div",{className:s},e(m).createElement("span",{className:x.previewImg},e(m).createElement(b.default,{emoji:i})),e(m).createElement("div",{className:c},e(m).createElement("span",{className:x.name},i.name),e(m).createElement("span",{className:x.shortName},i.shortName)))}},{key:"renderAddOwnEmoji",value:function(){var t=this.props,n=t.onOpenUpload,r=t.uploadEnabled,o=this.state.selectingTone;return!r||o?null:e(m).createElement("div",{className:x.AddCustomEmoji},e(m).createElement(v.FormattedMessage,E.messages.addCustomEmojiLabel,(function(t){return e(m).createElement(p.default,{onClick:n,iconBefore:e(m).createElement(e(h),{label:t,size:"small"}),appearance:"subtle",className:x.addCustomEmojiButton+" emoji-picker-add-emoji"},t)})))}},{key:"render",value:function(){var t=e(g)([x.emojiPreview,x.emojiPreviewSection]);return e(m).createElement("div",{className:t,onMouseLeave:this.onMouseLeave},this.renderAddOwnEmoji(),this.renderEmojiPreview(),this.renderTones())}}]),r}(m.PureComponent)})),r.register("92V7z",(function(e,n){t(e.exports,"default",(function(){return r("kEftZ").default}));r("kEftZ")})),r.register("kEftZ",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("jgze0"),a=r("h67q9"),s=r("bRWI2"),c=r("61szk");r("fXNaw");var l=r("jYKgb"),u=r("c6Chc"),d=r("1Rkdv"),f=r("gN8Mv");function p(){}var h="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,g=e(c).forwardRef((function(t,n){var r=t.mode,o=t.onMouseDown,l=void 0===o?p:o,g=t.onMouseUp,m=void 0===g?p:g,v=e(s)(t,["mode","onMouseDown","onMouseUp"]),b=v.appearance||"default",y=v.spacing||"default",E=Boolean(v.shouldFitContainer),x=Boolean(v.isSelected),k=f.default(v),C=c.useState(!1),S=e(a)(C,2),T=S[0],O=S[1],w=c.useCallback((function(e){l(e),h&&O(!0)}),[l,O]),N=c.useCallback((function(e){m(e),h&&O(!1)}),[m,O]),P=c.useMemo((function(){return d.getCss({appearance:b,spacing:y,mode:r,isSelected:x,shouldFitContainer:E,isOnlySingleIcon:k})}),[b,y,r,x,E,k]);return e(c).createElement(u.default,e(i)({},v,{ref:n,buttonCss:P,"data-firefox-is-active":!!T||void 0,onMouseDown:w,onMouseUp:N}))})),m=e(c).memo(e(c).forwardRef((function(t,n){return e(c).createElement(l.default.Consumer,null,(function(r){var o=r.mode;return e(c).createElement(g,e(i)({},t,{ref:n,mode:o}))}))})));m.displayName="Button";var v=m})),r.register("8Dnlc",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("hdR0w"),a=r("61szk"),s=r("8pPHa"),c=r("1A8ei"),l=r("fl4Si"),u=a.forwardRef((function(t,n){var r=t.emoji,o=t.selectOnHover,u=t.ariaLabelText,d=t.ariaExpanded,f=[t.shouldHideButton?s.hiddenToneButton:s.emojiButton];return e(a).createElement("button",{ref:n,"aria-expanded":d,className:e(i)(f),onMouseDown:function(e){!function(e,t){var n=e.onSelected;t.preventDefault(),n&&l.leftClick(t)&&n()}(t,e)},onKeyDown:function(e){!function(e,t){var n=e.onSelected;!n||"Enter"!==t.key&&" "!==t.key||(t.preventDefault(),n())}(t,e)},"aria-label":u},e(a).createElement(c.default,{emoji:r,selectOnHover:o}))}))})),r.register("1KFI0",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("fw3Q6"),p=r("61szk"),h=r("8Dnlc"),g=r("7EIJN"),m=r("ibk4k"),v=r("eIq8x");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"firstToneButtonRef",p.createRef()),e(d)(e(s)(t),"onToneSelectedHandler",(function(e){(0,t.props.onToneSelected)(e);t.fireEvent(m.toneSelectedEvent({skinToneModifier:["default","light","mediumLight","medium","mediumDark","dark"][e]}))})),t}return e(a)(r,[{key:"fireEvent",value:function(e){var t=this.props.createAnalyticsEvent;t&&m.createAndFireEventInElementsChannel(e)(t)}},{key:"componentDidMount",value:function(){var e,t;null===(e=this.firstToneButtonRef)||void 0===e||null===(t=e.current)||void 0===t||t.focus()}},{key:"UNSAFE_componentWillMount",value:function(){this.fireEvent(m.toneSelectorOpenedEvent({}))}},{key:"render",value:function(){var t=this,n=this.props,r=n.emoji,o=n.previewEmojiId,i=function(t){return t.skinVariations?[t].concat(e(f)(t.skinVariations)):[t]}(r),a=!1;return e(p).createElement("div",null,i.map((function(n,r){var i=!a&&n.id!==o;return i&&(a=!0),e(p).createElement(h.default,{ref:i?t.firstToneButtonRef:null,shouldHideButton:n.id===o,ariaLabelText:v.setSkinToneAriaLabelText(n.name),key:"".concat(n.id),onSelected:function(){return t.onToneSelectedHandler(r)},emoji:n,selectOnHover:!0})})))}}]),r}(p.PureComponent),E=g.default()(y)})),r.register("ibk4k",(function(n,o){t(n.exports,"createAndFireEventInElementsChannel",(function(){return f})),t(n.exports,"insertionSucceeded",(function(){return h})),t(n.exports,"insertionFailed",(function(){return g})),t(n.exports,"openedPickerEvent",(function(){return v})),t(n.exports,"closedPickerEvent",(function(){return b})),t(n.exports,"pickerClickedEvent",(function(){return x})),t(n.exports,"categoryClickedEvent",(function(){return k})),t(n.exports,"pickerSearchedEvent",(function(){return C})),t(n.exports,"toneSelectedEvent",(function(){return T})),t(n.exports,"toneSelectorOpenedEvent",(function(){return O})),t(n.exports,"toneSelectorClosedEvent",(function(){return w})),t(n.exports,"uploadBeginButton",(function(){return P})),t(n.exports,"uploadConfirmButton",(function(){return A})),t(n.exports,"uploadCancelButton",(function(){return I})),t(n.exports,"uploadSucceededEvent",(function(){return D})),t(n.exports,"uploadFailedEvent",(function(){return R})),t(n.exports,"deleteBeginEvent",(function(){return M})),t(n.exports,"deleteConfirmEvent",(function(){return _})),t(n.exports,"deleteCancelEvent",(function(){return j})),t(n.exports,"selectedFileEvent",(function(){return B})),t(n.exports,"recordSelectionSucceededSli",(function(){return L})),t(n.exports,"recordSelectionFailedSli",(function(){return F}));var i=r("l15hj"),a=r("9CAXn"),s=r("gUxnV");function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=a.default("fabric-elements"),p=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{eventType:e,action:t,actionSubject:n,actionSubjectId:r,attributes:d({packageName:s.name,packageVersion:s.version},o)}},h=function(e){return p("operational","succeeded","recordEmojiSelection",void 0,{source:e})},g=function(e){return p("operational","failed","recordEmojiSelection",void 0,{source:e})},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return p("ui",e,"emojiPicker",n,t)},v=function(){return m("opened")},b=function(e){return m("closed",e)},y=[{id:"-1f3fb",skinToneModifier:"light"},{id:"-1f3fc",skinToneModifier:"mediumLight"},{id:"-1f3fd",skinToneModifier:"medium"},{id:"-1f3fe",skinToneModifier:"mediumDark"},{id:"-1f3ff",skinToneModifier:"dark"}],E=function(e){if(!e)return{};var t,n=c(y);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.id,i=r.skinToneModifier;if(-1!==e.indexOf(o))return{skinToneModifier:i,baseEmojiId:e.replace(o,"")}}}catch(e){n.e(e)}finally{n.f()}return{}},x=function(e){return m("clicked",d(d({},E(e.emojiId)),e),"emoji")},k=function(e){return m("clicked",e,"category")},C=function(e){return m("searched",e,"query")},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p("ui",e,"emojiSkintoneSelector",void 0,t)},T=function(e){return S("clicked",e)},O=function(e){return S("opened",e)},w=function(){return S("cancelled")},N=function(e,t,n){return p("ui",e,"emojiUploader",t,n)},P=function(){return N("clicked","addButton")},A=function(e){return N("clicked","confirmButton",e)},I=function(){return N("clicked","cancelButton")},D=function(e){return p("operational","finished","emojiUploader",void 0,e)},R=function(e){return p("operational","failed","emojiUploader",void 0,e)},M=function(e){return p("ui","clicked","emojiPicker","deleteEmojiTrigger",e)},_=function(e){return p("ui","clicked","emojiPicker","deleteEmojiConfirm",e)},j=function(e){return p("ui","clicked","emojiPicker","deleteEmojiCancel",e)},B=function(){return p("ui","clicked","emojiUploader","selectFile")},L=function(e){return function(){e&&e.createAnalyticsEvent&&a.default("editor")(h("typeahead"))(e.createAnalyticsEvent)}},F=function(e){return function(t){return e&&e.createAnalyticsEvent&&a.default("editor")(g("typeahead"))(e.createAnalyticsEvent),Promise.reject(t)}}})),r.register("gUxnV",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/emoji","version":"63.1.7","sideEffects":false}')})),r.register("eIq8x",(function(n,o){t(n.exports,"setSkinToneAriaLabelText",(function(){return c}));var i,a=r("l15hj"),s=(i={},e(a)(i,"raised hand","default skin tone"),e(a)(i,"raised hand: light skin tone","light skin tone"),e(a)(i,"raised hand: medium-light skin tone","medium-light skin tone"),e(a)(i,"raised hand: medium skin tone","medium skin tone"),e(a)(i,"raised hand: medium-dark skin tone","medium-dark skin tone"),e(a)(i,"raised hand: dark skin tone","dark skin tone"),i),c=function(e){if(e)return s[e]}})),r.register("8J5Wt",(function(n,o){t(n.exports,"selected",(function(){return c})),t(n.exports,"typeAheadItem",(function(){return l})),t(n.exports,"typeAheadItemRow",(function(){return u}));var i=r("l15hj"),a=r("1NOtL"),s=r("db5G0"),c="emoji-typeahead-selected",l=(a.style({background:"white",border:"1px solid ".concat(s.noDialogContainerBorderColor),borderRadius:s.noDialogContainerBorderRadius,boxShadow:s.noDialogContainerBoxShadow,color:"#333",width:s.emojiTypeAheadWidth}),a.style({display:"none"}),a.style({cursor:"pointer",display:"block",listStyleType:"none",overflow:"hidden",width:s.emojiTypeAheadWidth,$nest:e(i)({},"&.".concat(c),{backgroundColor:s.emojiPreviewSelectedColor})})),u=a.style({display:"flex",flexDirection:"row",flexWrap:"wrap",verticalAlign:"middle"});a.style({position:"relative",height:"".concat(s.emojiTypeAheadMaxHeight,"px"),paddingTop:"".concat(((s.emojiTypeAheadMaxHeight-30)/2).toFixed(),"px"),boxSizing:"border-box"}),a.style({textAlign:"center"})})),r.register("cz1Fu",(function(n,o){t(n.exports,"supportsUploadFeature",(function(){return k})),t(n.exports,"default",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("auQQv"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("9VyJv"),h=r("01OmW"),g=r("cCeoI"),m=r("gZfIm"),v=r("eTT0h"),b=r("fIs6E"),y=r("plkBi"),E=r("j1ufd");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var k=function(e){var t=e,n=t.isUploadSupported,r=t.prepareForUpload,o=t.uploadCustomEmoji;return!!(n&&r&&o)},C=function(t){e(l)(r,t);var n=x(r);function r(t){var o;return e(i)(this,r),(o=n.call(this,t)).allowUpload=!!t.allowUpload,o}return e(a)(r,[{key:"isUploadSupported",value:function(){var e=this;return this.allowUpload?this.siteEmojiResource?this.siteEmojiResource.hasUploadToken():this.retryIfLoading((function(){return e.isUploadSupported()}),!1):Promise.resolve(!1)}},{key:"uploadCustomEmoji",value:function(e){var t=this;return this.isUploadSupported().then((function(n){return n&&t.siteEmojiResource?t.siteEmojiResource.uploadEmoji(e).then((function(e){return t.addUnknownEmoji(e),t.refreshLastFilter(),e})):Promise.reject("No media api support is configured")}))}},{key:"prepareForUpload",value:function(){var e=this;return this.siteEmojiResource&&this.siteEmojiResource.prepareForUpload(),this.retryIfLoading((function(){return e.prepareForUpload()}),void 0)}}]),r}(function(t){e(l)(r,t);var n=x(r);function r(t){var o;e(i)(this,r),o=n.call(this),e(f)(e(s)(o),"activeLoaders",0),e(f)(e(s)(o),"retries",new Map),e(f)(e(s)(o),"isLoaded",(function(){return 0===o.activeLoaders&&o.emojiRepository})),o.recordConfig=t.recordConfig,o.currentUser=t.currentUser;var a=[];if(o.activeLoaders=t.providers.length,t.providers.forEach((function(e,t){new b.default(e).loadEmoji().then((function(n){a[t]=n,o.initEmojiRepository(a),o.initSiteEmojiResource(n,e).then((function(){o.activeLoaders--,o.performRetries(),o.refreshLastFilter()}))})).catch((function(e){o.activeLoaders--,o.notifyError(e)}))})),m.default("localStorage")&&(o.selectedTone=o.loadStoredTone()),0===t.providers.length)throw new Error("No providers specified");return o}return e(a)(r,[{key:"initEmojiRepository",value:function(e){var t=[];e.forEach((function(e){t=t.concat(e.emojis)})),this.emojiRepository=new y.default(t)}},{key:"initSiteEmojiResource",value:function(e,t){if(!this.siteEmojiResource&&e.mediaApiToken){this.siteEmojiResource=new E.default(t,e.mediaApiToken);var n=e.emojis;if(n.length){var r=this.siteEmojiResource.optimisticRendering(n[0]);if(g.isPromise(r))return r.then((function(){v.default("Primed siteEmojiResource")})).catch((function(){v.default("Failed to prime siteEmojiResource")}));v.default("Already primed siteEmojiResource")}else v.default("No emoji to prime siteEmojiResource with")}return Promise.resolve()}},{key:"performRetries",value:function(){var e=this.retries;this.retries=new Map,e.forEach((function(e,t){var n=t();g.isPromise(n)?n.then((function(t){e.resolve(t)})).catch((function(t){e.reject(t)})):e.resolve(n)}))}},{key:"loadStoredTone",value:function(){var e=window.localStorage.getItem(h.selectedToneStorageKey);if(e){var t=parseInt(e,10);return isNaN(t)?void 0:t}}},{key:"refreshLastFilter",value:function(){if(void 0!==this.lastQuery){var e=this.lastQuery,t=e.query,n=e.options;this.filter(t,n)}}},{key:"retryIfLoading",value:function(e,t){var n=this;return this.isLoaded()?Promise.resolve(t):new Promise((function(t,r){n.retries.set(e,{resolve:t,reject:r})}))}},{key:"notifyResult",value:function(t){this.lastQuery&&t.query===this.lastQuery.query&&e(c)(e(d)(r.prototype),"notifyResult",this).call(this,t)}},{key:"loadMediaEmoji",value:function(e,t){return this.siteEmojiResource&&g.isMediaEmoji(e)?this.siteEmojiResource.loadMediaEmoji(e,t):e}},{key:"optimisticMediaRendering",value:function(e,t){if(!g.isMediaEmoji(e))return!0;if(!this.siteEmojiResource)return!1;var n=this.siteEmojiResource.optimisticRendering(e,t);return!g.isPromise(n)&&n}},{key:"filter",value:function(e,t){this.lastQuery={query:e,options:t},this.emojiRepository?this.notifyResult(this.emojiRepository.search(e,t)):this.notifyNotReady()}},{key:"findByShortName",value:function(e){var t=this;return this.isLoaded()?this.emojiRepository.findByShortName(e):this.retryIfLoading((function(){return t.findByShortName(e)}),void 0)}},{key:"findByEmojiId",value:function(e){var t=this,n=e.id,r=e.shortName;if(this.emojiRepository){if(!n)return this.findByShortName(r);var o=this.emojiRepository.findById(n);if(o)return o;if(this.isLoaded())return this.siteEmojiResource?this.siteEmojiResource.findEmoji(e).then((function(e){return e?(t.addUnknownEmoji(e),e):t.findByShortName(r)})):this.findByShortName(r)}return this.retryIfLoading((function(){return t.findByEmojiId(e)}),void 0)}},{key:"findById",value:function(e){var t=this;return this.isLoaded()?this.emojiRepository.findById(e):this.retryIfLoading((function(){return t.findById(e)}),void 0)}},{key:"findInCategory",value:function(e){var t=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.findInCategory(e)):this.retryIfLoading((function(){return t.findInCategory(e)}),[])}},{key:"getAsciiMap",value:function(){var e=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getAsciiMap()):this.retryIfLoading((function(){return e.getAsciiMap()}),new Map)}},{key:"getFrequentlyUsed",value:function(e){var t=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getFrequentlyUsed(e)):this.retryIfLoading((function(){return t.getFrequentlyUsed(e)}),[])}},{key:"recordSelection",value:function(e){var t=this.recordConfig;if(this.emojiRepository&&this.emojiRepository.used(e),t){var n={emojiId:g.toEmojiId(e)};return p.utils.requestService(t,{queryParams:n,requestInit:{method:"POST"}})}return Promise.resolve()}},{key:"deleteSiteEmoji",value:function(e){var t=this;return this.siteEmojiResource&&e.id?this.siteEmojiResource.deleteEmoji(e).then((function(n){return!(!n||!t.emojiRepository)&&(t.emojiRepository.delete(e),!0)})).catch((function(e){return console.error("failed to delete site emoji",e),!1})):this.retryIfLoading((function(){return t.deleteSiteEmoji(e)}),!1)}},{key:"getSelectedTone",value:function(){return this.selectedTone}},{key:"setSelectedTone",value:function(e){if(this.selectedTone=e,m.default("localStorage"))try{window.localStorage.setItem(h.selectedToneStorageKey,e?e.toString():"")}catch(e){console.error("failed to store selected emoji skin tone",e)}}},{key:"calculateDynamicCategories",value:function(){var e=this;return this.isLoaded()?Promise.resolve(this.emojiRepository.getDynamicCategoryList()):this.retryIfLoading((function(){return e.calculateDynamicCategories()}),[])}},{key:"getCurrentUser",value:function(){return this.currentUser}},{key:"addUnknownEmoji",value:function(e){this.emojiRepository&&this.emojiRepository.addUnknownEmoji(e)}}]),r}(p.AbstractResource))})),r.register("gZfIm",(function(e,n){function r(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}t(e.exports,"default",(function(){return r}))})),r.register("fIs6E",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("go2dD"),a=r("4NDMl"),s=r("f7cV0"),c=function(){function t(n){e(i)(this,t),this.config=n}return e(a)(t,[{key:"loadEmoji",value:function(){return s.emojiRequest(this.config).then((function(e){return s.denormaliseEmojiServiceResponse(e)}))}}]),t}()})),r.register("plkBi",(function(n,o){t(n.exports,"getEmojiVariation",(function(){return y})),t(n.exports,"default",(function(){return E}));var i=r("fw3Q6"),a=r("l15hj"),s=r("go2dD"),c=r("4NDMl"),l=r("iCysN"),u=r("01OmW"),d=r("cCeoI"),f=r("9UkrA"),p=r("9wpNC"),h=r("dVXQw"),g=r("5BLfb"),m=function(){function t(){e(s)(this,t)}return e(c)(t,[{key:"tokenize",value:function(e){return this.tokenizeAsTokens(e).map((function(e){return e.token}))}},{key:"tokenizeAsTokens",value:function(e){var t,n=[];for(p.tokenizerRegex.lastIndex=0;null!==(t=p.tokenizerRegex.exec(e));)t[0]&&n.push({token:t[0],start:t.index});return n}}]),t}(),v=function e(t,n,r){var o=n(t);r.has(o)||r.set(o,[]);var i=r.get(o);if(i&&i.push(t),d.isEmojiDescriptionWithVariations(t)){var a=t.skinVariations;a&&a.forEach((function(t){return e(t,n,r)}))}},b=function(e,t){var n=e.get(t);if(n&&n.length)return n[n.length-1]},y=function(e,t){if(d.isEmojiDescriptionWithVariations(e)&&t){var n=t.skinTone;if(n&&e.skinVariations&&e.skinVariations.length){var r=e.skinVariations[n-1];if(r)return r}}return e},E=function(){function t(n,r){e(s)(this,t),this.emojis=n,this.initMembers(r)}return e(c)(t,[{key:"all",value:function(){var e={sort:f.SearchSort.None};return this.search("",e)}},{key:"search",value:function(e,t){var n=[],r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return 0===e.indexOf(":")?{nameQuery:e.slice(1),asciiQuery:e}:{nameQuery:e,asciiQuery:""}}(e),o=r.nameQuery,i=r.asciiQuery;return o?(n=this.fullSearch.search(o),i&&(n=this.withAsciiMatch(i,n))):n=this.getAllSearchableEmojis(),{emojis:n=this.applySearchOptions(n,e,t),query:e}}},{key:"findAllMatchingShortName",value:function(e){return this.shortNameMap.get(e)||[]}},{key:"findByShortName",value:function(e){return b(this.shortNameMap,e)}},{key:"findById",value:function(e){return b(this.idMap,e)}},{key:"findByAsciiRepresentation",value:function(e){return this.asciiMap.get(e)}},{key:"findInCategory",value:function(e){return e===u.frequentCategory?this.getFrequentlyUsed():this.all().emojis.filter((function(t){return t.category===e}))}},{key:"addUnknownEmoji",value:function(t){this.emojis=[].concat(e(i)(this.emojis),[t]),this.fullSearch.addDocuments([t]),this.addToMaps(t),this.addToDynamicCategories(t)}},{key:"getAsciiMap",value:function(){return this.asciiMap}},{key:"getFrequentlyUsed",value:function(e){var t=this,n=this.usageTracker.getOrder().map((function(e){return t.findById(e)})).filter((function(e){return void 0!==e}));return e&&(n=this.applySearchOptions(n,"",e)),n}},{key:"getDynamicCategoryList",value:function(){return this.dynamicCategoryList.slice()}},{key:"used",value:function(e){var t=this;this.usageTracker.recordUsage(e),-1===this.dynamicCategoryList.indexOf(u.frequentCategory)&&window.setTimeout((function(){t.dynamicCategoryList.push(u.frequentCategory)}))}},{key:"delete",value:function(e){var t,n,r,o,i=(t=this.emojis,r=(n=e).id,o=-1,t.forEach((function(e,t){(e.id&&e.id===r||!e.id&&!r&&e.shortName===n.shortName)&&(o=t)})),o);-1!==i&&(this.emojis.splice(i,1),this.initMembers(this.usageTracker))}},{key:"withAsciiMatch",value:function(t,n){var r=n,o=this.findByAsciiRepresentation(t);return o&&(r=n.filter((function(e){return e.id!==o.id})),r=[o].concat(e(i)(r))),r}},{key:"applySearchOptions",value:function(e,t,n){var r;return n||(n={}),void 0===n.sort&&(n.sort=f.SearchSort.Default),n.sort===f.SearchSort.Default?r=h.createSearchEmojiComparator(t,this.usageTracker.getOrder()):n.sort===f.SearchSort.UsageFrequency&&(r=h.createUsageOnlyEmojiComparator(this.usageTracker.getOrder())),r&&(r.compare=r.compare.bind(r),e=e.sort(r.compare)),n.limit&&n.limit>0&&(e=e.slice(0,n.limit)),n.skinTone?e.map((function(e){return y(e,n)})):e}},{key:"initMembers",value:function(e){this.usageTracker=e||new g.UsageFrequencyTracker,this.initRepositoryMetadata(),this.initSearchIndex()}},{key:"initRepositoryMetadata",value:function(){var e=this;this.shortNameMap=new Map,this.idMap=new Map,this.asciiMap=new Map;var t=new Set;this.emojis.forEach((function(n){t.add(n.category),e.addToMaps(n)})),this.usageTracker.getOrder().length&&t.add(u.frequentCategory),this.dynamicCategoryList=Array.from(t).filter((function(e){return-1===u.defaultCategories.indexOf(e)}))}},{key:"initSearchIndex",value:function(){this.fullSearch=new l.Search("id"),this.fullSearch.tokenizer=new m,this.fullSearch.searchIndex=new l.UnorderedSearchIndex,this.fullSearch.addIndex("name"),this.fullSearch.addIndex("shortName"),this.fullSearch.addDocuments(this.getAllSearchableEmojis())}},{key:"getAllSearchableEmojis",value:function(){return this.emojis.filter((function(e){return e.searchable}))}},{key:"addToMaps",value:function(e){var n=this;void 0!==e.order&&-1!==e.order||(e.order=t.defaultEmojiWeight),void 0===e.id&&(e.id=t.defaultEmojiWeight.toString()),v(e,(function(e){return e.shortName}),this.shortNameMap),v(e,(function(e){return e.id}),this.idMap),e.ascii&&e.ascii.forEach((function(t){return n.asciiMap.set(t,e)}))}},{key:"addToDynamicCategories",value:function(e){var t=d.getCategoryId(e);-1===u.defaultCategories.indexOf(t)&&-1===this.dynamicCategoryList.indexOf(t)&&this.dynamicCategoryList.push(t)}}]),t}();e(a)(E,"defaultEmojiWeight",1e6)})),r.register("iCysN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("f7iKl");Object.defineProperty(e.exports,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return n.AllSubstringsIndexStrategy}}),Object.defineProperty(e.exports,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return n.ExactWordIndexStrategy}}),Object.defineProperty(e.exports,"PrefixIndexStrategy",{enumerable:!0,get:function(){return n.PrefixIndexStrategy}});var o=r("6n170");Object.defineProperty(e.exports,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return o.CaseSensitiveSanitizer}}),Object.defineProperty(e.exports,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}});var i=r("9CFtD");Object.defineProperty(e.exports,"TfIdfSearchIndex",{enumerable:!0,get:function(){return i.TfIdfSearchIndex}}),Object.defineProperty(e.exports,"UnorderedSearchIndex",{enumerable:!0,get:function(){return i.UnorderedSearchIndex}});var a=r("inRBT");Object.defineProperty(e.exports,"SimpleTokenizer",{enumerable:!0,get:function(){return a.SimpleTokenizer}}),Object.defineProperty(e.exports,"StemmingTokenizer",{enumerable:!0,get:function(){return a.StemmingTokenizer}}),Object.defineProperty(e.exports,"StopWordsTokenizer",{enumerable:!0,get:function(){return a.StopWordsTokenizer}});var s=r("eMuYe");Object.defineProperty(e.exports,"Search",{enumerable:!0,get:function(){return s.Search}});var c=r("fuQFV");Object.defineProperty(e.exports,"StopWordsMap",{enumerable:!0,get:function(){return c.StopWordsMap}});var l=r("hSoVp");Object.defineProperty(e.exports,"TokenHighlighter",{enumerable:!0,get:function(){return l.TokenHighlighter}})})),r.register("f7iKl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("7v5HZ");Object.defineProperty(e.exports,"AllSubstringsIndexStrategy",{enumerable:!0,get:function(){return n.AllSubstringsIndexStrategy}});var o=r("kt2qY");Object.defineProperty(e.exports,"ExactWordIndexStrategy",{enumerable:!0,get:function(){return o.ExactWordIndexStrategy}});var i=r("k6itU");Object.defineProperty(e.exports,"PrefixIndexStrategy",{enumerable:!0,get:function(){return i.PrefixIndexStrategy}})})),r.register("7v5HZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.AllSubstringsIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"expandToken",value:function(e){for(var t,n=[],r=0,o=e.length;r<o;++r){t="";for(var i=r;i<o;++i)t+=e.charAt(i),n.push(t)}return n}}]),e}()})),r.register("kt2qY",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.ExactWordIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"expandToken",value:function(e){return e?[e]:[]}}]),e}()})),r.register("k6itU",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.PrefixIndexStrategy=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"expandToken",value:function(e){for(var t=[],n="",r=0,o=e.length;r<o;++r)n+=e.charAt(r),t.push(n);return t}}]),e}()})),r.register("6n170",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("6UfTI");Object.defineProperty(e.exports,"CaseSensitiveSanitizer",{enumerable:!0,get:function(){return n.CaseSensitiveSanitizer}});var o=r("8dQzp");Object.defineProperty(e.exports,"LowerCaseSanitizer",{enumerable:!0,get:function(){return o.LowerCaseSanitizer}})})),r.register("6UfTI",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.CaseSensitiveSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"sanitize",value:function(e){return e?e.trim():""}}]),e}()})),r.register("8dQzp",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.LowerCaseSanitizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"sanitize",value:function(e){return e?e.toLocaleLowerCase().trim():""}}]),e}()})),r.register("9CFtD",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("eo5yV");Object.defineProperty(e.exports,"TfIdfSearchIndex",{enumerable:!0,get:function(){return n.TfIdfSearchIndex}});var o=r("7GEBm");Object.defineProperty(e.exports,"UnorderedSearchIndex",{enumerable:!0,get:function(){return o.UnorderedSearchIndex}})})),r.register("eo5yV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TfIdfSearchIndex=void 0;var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=r("7I6xK"),s=(n=a)&&n.__esModule?n:{default:n};e.exports.TfIdfSearchIndex=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._uidFieldName=t,this._tokenToIdfCache={},this._tokenMap={}}return i(e,[{key:"indexDocument",value:function(e,t,n){this._tokenToIdfCache={};var r,i=this._tokenMap;"object"!==o(i[e])?i[e]=r={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(r=i[e]).$totalNumOccurrences++;var a=r.$uidMap;"object"!==o(a[t])?(r.$numDocumentOccurrences++,a[t]={$document:n,$numTokenOccurrences:1}):a[t].$numTokenOccurrences++}},{key:"search",value:function(e,t){for(var n={},r=0,i=e.length;r<i;r++){var a=e[r],s=this._tokenMap[a];if(!s)return[];if(0===r)for(var c=0,l=(u=Object.keys(s.$uidMap)).length;c<l;c++){n[d=u[c]]=s.$uidMap[d].$document}else{var u;for(c=0,l=(u=Object.keys(n)).length;c<l;c++){var d=u[c];"object"!==o(s.$uidMap[d])&&delete n[d]}}}var f=[];for(var d in n)f.push(n[d]);var p=this._createCalculateTfIdf();return f.sort((function(n,r){return p(e,r,t)-p(e,n,t)}))}},{key:"_createCalculateIdf",value:function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,r){if(!t[n]){var o=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(r.length/(1+o))}return t[n]}}},{key:"_createCalculateTfIdf",value:function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(r,o,i){for(var a=0,c=0,l=r.length;c<l;++c){var u,d=r[c],f=n(d,i);f===1/0&&(f=0),u=t instanceof Array?o&&s.default(o,t):o&&o[t],a+=(void 0!==e[d]&&void 0!==e[d].$uidMap[u]?e[d].$uidMap[u].$numTokenOccurrences:0)*f}return a}}}]),e}()})),r.register("7I6xK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){t=t||[];for(var n=e=e||{},r=0;r<t.length;r++)if(null==(n=n[t[r]]))return null;return n}})),r.register("7GEBm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.UnorderedSearchIndex=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenToUidToDocumentMap={}}return r(e,[{key:"indexDocument",value:function(e,t,r){"object"!==n(this._tokenToUidToDocumentMap[e])&&(this._tokenToUidToDocumentMap[e]={}),this._tokenToUidToDocumentMap[e][t]=r}},{key:"search",value:function(e,t){for(var r={},o=this._tokenToUidToDocumentMap,i=0,a=e.length;i<a;i++){var s=o[e[i]];if(!s)return[];if(0===i)for(var c=0,l=(d=Object.keys(s)).length;c<l;c++){r[u=d[c]]=s[u]}else for(c=0,l=(d=Object.keys(r)).length;c<l;c++){var u=d[c];"object"!==n(s[u])&&delete r[u]}}var d,f=[];for(i=0,l=(d=Object.keys(r)).length;i<l;i++){u=d[i];f.push(r[u])}return f}}]),e}()})),r.register("inRBT",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("kfERn");Object.defineProperty(e.exports,"SimpleTokenizer",{enumerable:!0,get:function(){return n.SimpleTokenizer}});var o=r("5oFDo");Object.defineProperty(e.exports,"StemmingTokenizer",{enumerable:!0,get:function(){return o.StemmingTokenizer}});var i=r("dBEqP");Object.defineProperty(e.exports,"StopWordsTokenizer",{enumerable:!0,get:function(){return i.StopWordsTokenizer}})})),r.register("kfERn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var r=/[^a-z\u0430-\u044f\u04510-9\-']+/i;e.exports.SimpleTokenizer=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return n(e,[{key:"tokenize",value:function(e){return e.split(r).filter((function(e){return e}))}}]),e}()})),r.register("5oFDo",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();e.exports.StemmingTokenizer=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._stemmingFunction=t,this._tokenizer=n}return n(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).map(this._stemmingFunction)}}]),e}()})),r.register("dBEqP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.StopWordsTokenizer=void 0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r("fuQFV");e.exports.StopWordsTokenizer=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._tokenizer=t}return n(e,[{key:"tokenize",value:function(e){return this._tokenizer.tokenize(e).filter((function(e){return!o.StopWordsMap[e]}))}}]),e}()})),r.register("fuQFV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=e.exports.StopWordsMap={a:!0,able:!0,about:!0,across:!0,after:!0,all:!0,almost:!0,also:!0,am:!0,among:!0,an:!0,and:!0,any:!0,are:!0,as:!0,at:!0,be:!0,because:!0,been:!0,but:!0,by:!0,can:!0,cannot:!0,could:!0,dear:!0,did:!0,do:!0,does:!0,either:!0,else:!0,ever:!0,every:!0,for:!0,from:!0,get:!0,got:!0,had:!0,has:!0,have:!0,he:!0,her:!0,hers:!0,him:!0,his:!0,how:!0,however:!0,i:!0,if:!0,in:!0,into:!0,is:!0,it:!0,its:!0,just:!0,least:!0,let:!0,like:!0,likely:!0,may:!0,me:!0,might:!0,most:!0,must:!0,my:!0,neither:!0,no:!0,nor:!0,not:!0,of:!0,off:!0,often:!0,on:!0,only:!0,or:!0,other:!0,our:!0,own:!0,rather:!0,said:!0,say:!0,says:!0,she:!0,should:!0,since:!0,so:!0,some:!0,than:!0,that:!0,the:!0,their:!0,them:!0,then:!0,there:!0,these:!0,they:!0,this:!0,tis:!0,to:!0,too:!0,twas:!0,us:!0,wants:!0,was:!0,we:!0,were:!0,what:!0,when:!0,where:!0,which:!0,while:!0,who:!0,whom:!0,why:!0,will:!0,with:!0,would:!0,yet:!0,you:!0,your:!0};n.constructor=!1,n.hasOwnProperty=!1,n.isPrototypeOf=!1,n.propertyIsEnumerable=!1,n.toLocaleString=!1,n.toString=!1,n.valueOf=!1})),r.register("eMuYe",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.Search=void 0;var n,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=r("7I6xK"),a=(n=i)&&n.__esModule?n:{default:n},s=r("f7iKl"),c=r("6n170"),l=r("9CFtD"),u=r("inRBT");e.exports.Search=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!t)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=t,this._indexStrategy=new s.PrefixIndexStrategy,this._searchIndex=new l.TfIdfSearchIndex(t),this._sanitizer=new c.LowerCaseSanitizer,this._tokenizer=new u.SimpleTokenizer,this._documents=[],this._searchableFields=[]}return o(e,[{key:"addDocument",value:function(e){this.addDocuments([e])}},{key:"addDocuments",value:function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)}},{key:"addIndex",value:function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])}},{key:"search",value:function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)}},{key:"indexDocuments_",value:function(e,t){this._initialized=!0;for(var n=this._indexStrategy,r=this._sanitizer,o=this._searchIndex,i=this._tokenizer,s=this._uidFieldName,c=0,l=e.length;c<l;c++){var u,d=e[c];u=s instanceof Array?a.default(d,s):d[s];for(var f=0,p=t.length;f<p;f++){var h,g=t[f];if(null!=(h=g instanceof Array?a.default(d,g):d[g])&&"string"!=typeof h&&h.toString&&(h=h.toString()),"string"==typeof h)for(var m=i.tokenize(r.sanitize(h)),v=0,b=m.length;v<b;v++)for(var y=m[v],E=n.expandToken(y),x=0,k=E.length;x<k;x++){var C=E[x];o.indexDocument(C,u,d)}}}}},{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}]),e}()})),r.register("hSoVp",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.TokenHighlighter=void 0;var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r("f7iKl"),i=r("6n170");e.exports.TokenHighlighter=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._indexStrategy=t||new o.PrefixIndexStrategy,this._sanitizer=n||new i.LowerCaseSanitizer,this._wrapperTagName=r||"mark"}return n(e,[{key:"highlight",value:function(e,t){for(var n=this._wrapText("").length,r=Object.create(null),o=0,i=t.length;o<i;o++)for(var a=this._sanitizer.sanitize(t[o]),s=this._indexStrategy.expandToken(a),c=0,l=s.length;c<l;c++){var u=s[c];r[u]?r[u].push(a):r[u]=[a]}for(var d="",f="",p=0,h=(o=0,e.length);o<h;o++){var g=e.charAt(o);" "===g?(d="",f="",p=o+1):(d+=g,f+=this._sanitizer.sanitize(g)),r[f]&&r[f].indexOf(f)>=0&&(d=this._wrapText(d),e=e.substring(0,p)+d+e.substring(o+1),o+=n,h+=n)}return e}},{key:"_wrapText",value:function(e){var t=this._wrapperTagName;return"<"+t+">"+e+"</"+t+">"}}]),e}()})),r.register("9UkrA",(function(e,n){var r,o;t(e.exports,"SearchSort",(function(){return r})),(o=r||(r={}))[o.None=0]="None",o[o.Default=1]="Default",o[o.UsageFrequency=2]="UsageFrequency"})),r.register("9wpNC",(function(e,n){t(e.exports,"tokenizerRegex",(function(){return r}));var r=new RegExp("[\u2e80-\u2e99\u2e9b-\u2ef3\u2f00-\u2fd5\u3005\u3007\u3021-\u3029\u3038-\u303b\u3400-\u4db5\u4e00-\u9fef\uf900-\ufa6d\ufa70-\ufad9]|[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc|0-9\xb2\xb3\xb9\xbc-\xbe\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u09f4-\u09f9\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0b72-\u0b77\u0be6-\u0bf2\u0c66-\u0c6f\u0c78-\u0c7e\u0ce6-\u0cef\u0d58-\u0d5e\u0d66-\u0d78\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f33\u1040-\u1049\u1090-\u1099\u1369-\u137c\u16ee-\u16f0\u17e0-\u17e9\u17f0-\u17f9\u1810-\u1819\u1946-\u194f\u19d0-\u19da\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\u2070\u2074-\u2079\u2080-\u2089\u2150-\u2182\u2185-\u2189\u2460-\u249b\u24ea-\u24ff\u2776-\u2793\u2cfd\u3007\u3021-\u3029\u3038-\u303a\u3192-\u3195\u3220-\u3229\u3248-\u324f\u3251-\u325f\u3280-\u3289\u32b1-\u32bf\ua620-\ua629\ua6e6-\ua6ef\ua830-\ua835\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19]+[\u0300-\u036f\u0483-\u0487\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065f\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u07fd\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0859-\u085b\u08d3-\u08e1\u08e3-\u0902\u093a\u093c\u0941-\u0948\u094d\u0951-\u0957\u0962\u0963\u0981\u09bc\u09c1-\u09c4\u09cd\u09e2\u09e3\u09fe\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0afa-\u0aff\u0b01\u0b3c\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b62\u0b63\u0b82\u0bc0\u0bcd\u0c00\u0c04\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0c81\u0cbc\u0cbf\u0cc6\u0ccc\u0ccd\u0ce2\u0ce3\u0d00\u0d01\u0d3b\u0d3c\u0d41-\u0d44\u0d4d\u0d62\u0d63\u0dca\u0dd2-\u0dd4\u0dd6\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f8d-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135d-\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b4\u17b5\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u1885\u1886\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a1b\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1ab0-\u1abd\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1bab-\u1bad\u1be6\u1be8\u1be9\u1bed\u1bef-\u1bf1\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1cf4\u1cf8\u1cf9\u1dc0-\u1df9\u1dfb-\u1dff\u20d0-\u20dc\u20e1\u20e5-\u20f0\u2cef-\u2cf1\u2d7f\u2de0-\u2dff\u302a-\u302d\u3099\u309a\ua66f\ua674-\ua67d\ua69e\ua69f\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8c5\ua8e0-\ua8f1\ua8ff\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\ua9e5\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaa7c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uaaec\uaaed\uaaf6\uabe5\uabe8\uabed\ufb1e\ufe00-\ufe0f\ufe20-\ufe2f|']*[A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0560-\u0588\u05d0-\u05ea\u05ef-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u0860-\u086a\u08a0-\u08b4\u08b6-\u08bd\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u09fc\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c80\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d54-\u0d56\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1878\u1880-\u1884\u1887-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1c80-\u1c88\u1c90-\u1cba\u1cbd-\u1cbf\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312f\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fef\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7b9\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua8fe\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc]*","gi")})),r.register("dVXQw",(function(n,o){t(n.exports,"createSearchEmojiComparator",(function(){return u})),t(n.exports,"createUsageOnlyEmojiComparator",(function(){return d}));var i=r("go2dD"),a=r("4NDMl"),s=r("4adtq"),c=r("01OmW"),l=r("cCeoI");function u(t,n){var r=t?t.replace(/:/g,"").toLowerCase().trim():void 0,o=[];t&&o.push(new p(t)),r&&o.push(new h(r)),n&&n.length&&o.push(new m(n)),r&&o.push(new v(r,"shortName"),new v(r,"name")),o.push(b.Instance,y.Instance);var i=e(s)(f,o);return i.compare=i.compare.bind(i),i}function d(e){var t=new f(new m(e),new g,b.Instance);return t.compare=t.compare.bind(t),t}var f=function(){function t(){e(i)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];this.chain=r}return e(a)(t,[{key:"compare",value:function(e,t){for(var n=0;n<this.chain.length;n++){var r=this.chain[n].compare(e,t);if(0!==r)return r}return 0}}]),t}(),p=function(){function t(n){e(i)(this,t),this.query=n}return e(a)(t,[{key:"compare",value:function(e,t){var n=e.ascii&&-1!==e.ascii.indexOf(this.query),r=t.ascii&&-1!==t.ascii.indexOf(this.query);return n&&!r?-1:!n&&r?1:0}}]),t}(),h=function(){function t(n){e(i)(this,t),this.colonQuery=":".concat(n,":"),this.typeComparator=new g(!0)}return e(a)(t,[{key:"compare",value:function(e,t){return e.shortName===this.colonQuery&&t.shortName===this.colonQuery?this.typeComparator.compare(e,t):e.shortName===this.colonQuery?-1:t.shortName===this.colonQuery?1:0}}]),t}(),g=function(){function t(n){e(i)(this,t),this.typeToNumber=n?new Map([["SITE",0],["ATLASSIAN",1],["STANDARD",2]]):new Map([["STANDARD",0],["ATLASSIAN",1],["SITE",2]])}return e(a)(t,[{key:"compare",value:function(e,t){return this.emojiTypeToOrdinal(e)-this.emojiTypeToOrdinal(t)}},{key:"emojiTypeToOrdinal",value:function(e){var t=this.typeToNumber.get(e.type);return void 0===t&&(t=10),t}}]),t}(),m=function(){function t(n){var r=this;e(i)(this,t),this.positionLookup=new Map,n.map((function(e,t){return r.positionLookup.set(e,t+1)}))}return e(a)(t,[{key:"compare",value:function(e,t){return e.id&&t.id?this.getPositionInOrder(e)-this.getPositionInOrder(t):0}},{key:"getPositionInOrder",value:function(e){var t=e.id?e.id:"0";l.isEmojiVariationDescription(e)&&(t=e.baseId);var n=this.positionLookup.get(t);return n||c.MAX_ORDINAL}}]),t}(),v=function(){function t(n,r){if(e(i)(this,t),this.query=n,!r)throw new Error("propertyToCompare is required");this.propertyName=r}return e(a)(t,[{key:"getScore",value:function(e){var t=e[this.propertyName],n=t?t.indexOf(this.query):c.MAX_ORDINAL;return-1===n?c.MAX_ORDINAL:n}},{key:"compare",value:function(e,t){return this.getScore(e)-this.getScore(t)}}]),t}(),b=function(){function t(){e(i)(this,t)}return e(a)(t,[{key:"compare",value:function(e,t){return(e.order?e.order:c.MAX_ORDINAL)-(t.order?t.order:c.MAX_ORDINAL)}}],[{key:"Instance",get:function(){return this.INSTANCE||(this.INSTANCE=new this)}}]),t}(),y=function(){function t(){e(i)(this,t)}return e(a)(t,[{key:"compare",value:function(e,t){return e.shortName.localeCompare(t.shortName)}}],[{key:"Instance",get:function(){return this.INSTANCE||(this.INSTANCE=new this)}}]),t}()})),r.register("5BLfb",(function(n,o){t(n.exports,"UsageFrequencyTracker",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("cCeoI"),l=r("01OmW"),u=r("dWdzo"),d=r("5ESdY"),f=r("gZfIm");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(){function t(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e(i)(this,t);var r=t.queueOptions;if(n&&r.storage){var o=h(h({},r),{},{storage:r.storage});this.queue=new d.default(o)}else this.queue=new u.default(r);this.gateway=new m(10)}return e(a)(t,[{key:"recordUsage",value:function(e){var t=this,n=e.id;n&&(c.isEmojiVariationDescription(e)&&(n=e.baseId),this.gateway.submit((function(){n&&t.queue.enqueue(n)})))}},{key:"getOrder",value:function(){return this.queue.getItemsOrderedByDuplicateCount()}},{key:"clear",value:function(){this.queue.clear()}}]),t}();e(s)(g,"queueOptions",{storage:f.default("localStorage")?window.localStorage:void 0,storagePrefix:l.localStoragePrefix,maxDuplicates:25,minUniqueItems:5});var m=function(){function t(n){if(e(i)(this,t),n<1)throw new RangeError("The maximumPermitted parameter must be 1 or more.");this.maximumPermitted=n,this.count=0}return e(a)(t,[{key:"submit",value:function(e){var t=this;if(this.count>=this.maximumPermitted)return!1;this.count++;return window.setTimeout((function(){try{e()}finally{t.completed()}})),!0}},{key:"completed",value:function(){this.count--}}]),t}()})),r.register("dWdzo",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("go2dD"),a=r("4NDMl"),s=function(){function t(n){if(e(i)(this,t),n.maxDuplicates<1)throw new RangeError("The maxDuplicates option must be at least 1");if(n.minUniqueItems<1)throw new RangeError("The minUniqueItems option must be at least 1");this.maximumSize=n.maxDuplicates*n.minUniqueItems,this.perItemSize=n.maxDuplicates,this.createEmptyState()}return e(a)(t,[{key:"enqueue",value:function(e){this.enqueueWithoutOrdering(e),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}},{key:"getItemsOrderedByDuplicateCount",value:function(){return this.itemsOrderedByFrequency}},{key:"clear",value:function(){this.createEmptyState()}},{key:"bulkEnqueue",value:function(e){var t=this;e.map((function(e){return t.enqueueWithoutOrdering(e)})),this.itemsOrderedByFrequency=this.orderItemsByFrequency()}},{key:"getItems",value:function(){return this.items}},{key:"createEmptyState",value:function(){this.items=new Array,this.itemCountMap=new Map,this.itemsOrderedByFrequency=new Array}},{key:"enqueueWithoutOrdering",value:function(e){var t=this.itemCountMap.get(e);t&&t>=this.perItemSize?this.removeFirstOccurrence(e):this.items.length>=this.maximumSize&&this.remove(),this.add(e)}},{key:"orderItemsByFrequency",value:function(){return Array.from(this.itemCountMap.entries()).sort((function(e,t){return t[1]-e[1]})).map((function(e){return e[0]}))}},{key:"decrementCount",value:function(e){var t=this.itemCountMap.get(e);t&&(--t>0?this.itemCountMap.set(e,t):this.itemCountMap.delete(e))}},{key:"removeFirstOccurrence",value:function(e){var t=this.items.indexOf(e);-1!==t&&(this.items.splice(t,1),this.decrementCount(e))}},{key:"remove",value:function(){var e=this.items.shift();return void 0!==e&&this.decrementCount(e),e}},{key:"add",value:function(e){this.items.push(e);var t=this.itemCountMap.get(e);t?this.itemCountMap.set(e,t+1):this.itemCountMap.set(e,1)}}]),t}()})),r.register("5ESdY",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("auQQv"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("dWdzo"),p=r("eTT0h");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(t){var o;return e(i)(this,r),(o=n.call(this,t)).storage=t.storage,o.prefixedStorageKey="".concat(t.storagePrefix,".").concat(r.storageKey),o.load(),o}return e(a)(r,[{key:"enqueue",value:function(t){e(s)(e(u)(r.prototype),"enqueue",this).call(this,t),this.save()}},{key:"clear",value:function(){e(s)(e(u)(r.prototype),"clear",this).call(this),this.storage.removeItem(this.prefixedStorageKey)}},{key:"load",value:function(){var e=this.storage.getItem(this.prefixedStorageKey);if(e)try{var t=JSON.parse(e);this.bulkEnqueue(t)}catch(e){p.default("Error parsing the queue stored as ".concat(this.prefixedStorageKey," key from storage"),e)}}},{key:"save",value:function(){var e=JSON.stringify(this.getItems());try{this.storage.setItem(this.prefixedStorageKey,e)}catch(e){p.default("Error saving the queued items as ".concat(this.prefixedStorageKey),e)}}}]),r}(f.default);e(d)(g,"storageKey","lastUsed")})),r.register("j1ufd",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("bRWI2"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj"),l=r("9VyJv"),u=r("bKhep"),d=r("cCeoI"),f=r("5BRJZ"),p=r("f7cV0"),h=r("jFoI1"),g=r("eTT0h");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=function(){function t(n,r){var o=this;e(a)(this,t),e(c)(this,"postToEmojiService",(function(t,n){var r=t.shortName,a=t.name,s=t.width,c=t.height,u={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shortName:r,name:a,width:s,height:c,fileId:n})};return l.utils.requestService(o.siteServiceConfig,{requestInit:u}).then((function(t){var n=t.emojis;if(n.length){var r=n[0],o=r.altRepresentations,a=e(i)(r,["altRepresentations"]),s=v(v({},a),{},{representation:d.convertImageToMediaRepresentation(a.representation)}),c=p.getAltRepresentation(o||{}),l=c?d.convertImageToMediaRepresentation(c):void 0;return d.buildEmojiDescriptionWithAltRepresentation(s,l)}throw new Error("No emoji returns from upload. Upload failed.")}))})),this.siteServiceConfig=n,this.mediaApiToken=r,this.tokenManager=new h.default(n),this.tokenManager.addToken("read",r),this.mediaEmojiCache=new f.default(this.tokenManager)}return e(s)(t,[{key:"loadMediaEmoji",value:function(e,t){if(!d.isMediaEmoji(e))throw new Error("Only supported for media emoji");return this.mediaEmojiCache.loadEmoji(e,t)}},{key:"optimisticRendering",value:function(e,t){var n=t?e.altRepresentation:e.representation;if(!d.isMediaRepresentation(n))throw new Error("Only supported for media emoji");var r=n.mediaPath;return this.mediaEmojiCache.optimisticRendering(r)}},{key:"uploadEmoji",value:function(e,t){var n=this,r=Date.now();return this.tokenManager.getToken("upload").then((function(o){var i=Date.now()-r;return g.default("upload token load time",i),new Promise((function(a,s){var c=o.url,l=o.clientId,d=o.collectionName,f=u.getMediaClient({authProvider:function(){return Promise.resolve({clientId:l,token:o.jwt,baseUrl:c})}}).file.upload({content:e.dataURL,name:e.filename,collection:d}).subscribe({next:function(o){if("uploading"===o.status&&t)t({percent:.95*o.progress});else if("processing"===o.status){f.unsubscribe();var c=Date.now()-r,l=c-i;g.default("total upload / media upload times",c,l),n.postToEmojiService(e,o.id).then((function(e){a(e)})).catch((function(e){s(e.reason||e)}))}},error:function(e){s(e)}})}))}))}},{key:"hasUploadToken",value:function(){return this.tokenManager.getToken("upload").then((function(e){return void 0!==e}),(function(){return!1}))}},{key:"prepareForUpload",value:function(){this.tokenManager.getToken("upload")}},{key:"findEmoji",value:function(e){var t="../".concat(e.id);return p.emojiRequest(this.siteServiceConfig,{path:t}).then((function(e){return p.denormaliseEmojiServiceResponse(e).emojis[0]})).catch((function(t){g.default("failed to load emoji",e,t)}))}},{key:"deleteEmoji",value:function(e){if(!d.isMediaEmoji(e)&&!d.isLoadedMediaEmoji(e))return Promise.reject(!1);var t="".concat(e.id);return l.utils.requestService(this.siteServiceConfig,{path:t,requestInit:{method:"DELETE"}}).then((function(){return!0})).catch((function(){return!1}))}}]),t}()})),r.register("5BRJZ",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("cCeoI"),l=r("lxqpI"),u=r("eTT0h"),d=r("leQum"),f=function(e,t){return t?e.altRepresentation:e.representation},p=function(){function t(n){e(i)(this,t),e(s)(this,"cachedImageUrls",new Set),u.default("BrowserCacheStrategy"),this.mediaImageLoader=n}return e(a)(t,[{key:"loadEmoji",value:function(e,t){var n=this,r=f(e,t);if(!c.isMediaRepresentation(r))return e;var o=r.mediaPath;return this.cachedImageUrls.has(o)?e:this.mediaImageLoader.loadMediaImage(o).then((function(){return n.cachedImageUrls.add(o),e})).catch((function(){}))}},{key:"optimisticRendering",value:function(){return!0}}],[{key:"supported",value:function(e,t){return n=!!document.documentMode,r=!n&&!!window.StyleMedia,n||r?Promise.resolve(!1):t.loadMediaImage(e).then((function(){return new Promise((function(t){var n=new Image;n.addEventListener("load",(function(){t(!0)})),n.addEventListener("error",(function(){t(!1)})),n.src=e}))})).catch((function(){return!1}));var n,r}}]),t}(),h=function(){function t(n){e(i)(this,t),u.default("MemoryCacheStrategy"),this.mediaImageLoader=n,this.dataURLCache=new d.LRUCache(1e3)}return e(a)(t,[{key:"loadEmoji",value:function(e,t){var n=this,r=f(e,t);if(!c.isMediaRepresentation(r))return e;var o=r.mediaPath,i=this.dataURLCache.get(o);return i?c.convertMediaToImageEmoji(e,i,t):this.mediaImageLoader.loadMediaImage(o).then((function(r){var i=c.convertMediaToImageEmoji(e,r,t);return r.length<=1e4?n.dataURLCache.put(o,r):u.default("No caching as image is too large",r.length,r.slice(0,15),e.shortName),i})).catch((function(){}))}},{key:"optimisticRendering",value:function(){return!1}}]),t}(),g=function(){function t(n){e(i)(this,t),e(s)(this,"waitingInitUrls",[]),u.default("MediaEmojiCache"),this.mediaImageLoader=new l.default(n)}return e(a)(t,[{key:"loadEmoji",value:function(e,t){var n=f(e,t);if(!c.isMediaRepresentation(n))return e;var r=n.mediaPath,o=this.getCache(r);return c.isPromise(o)?o.then((function(n){return n.loadEmoji(e,t)})).catch((function(){})):o.loadEmoji(e,t)}},{key:"optimisticRendering",value:function(e){var t=this.getCache(e);return c.isPromise(t)?t.then((function(e){return e.optimisticRendering()})).catch((function(){return!1})):t.optimisticRendering()}},{key:"getCache",value:function(e){var t=this;return this.cache?this.cache:(this.waitingInitUrls.push(e),this.cacheLoading||(this.cacheLoading=this.initCache().then((function(e){return t.cache=e,t.cacheLoading=void 0,e})).catch((function(e){throw t.cacheLoading=void 0,e}))),this.cacheLoading)}},{key:"initCache",value:function(){var e=this,t=this.waitingInitUrls.pop();return t?p.supported(t,this.mediaImageLoader).then((function(t){return e.waitingInitUrls=[],e.cacheLoading=void 0,t?new p(e.mediaImageLoader):new h(e.mediaImageLoader)})).catch((function(){return e.initCache()})):Promise.reject("Unable to initialise cache based on provided url(s)")}}]),t}()})),r.register("lxqpI",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("hgoDu"),l=function(){function t(n,r){e(i)(this,t),e(s)(this,"mediaImageQueue",[]),e(s)(this,"activeProcessing",0),e(s)(this,"pendingRequests",new Map),this.concurrentDownloadLimit=r&&r.concurrentDownloadLimit||16,this.tokenManager=n}return e(a)(t,[{key:"loadMediaImage",value:function(e){var t=this,n=this.pendingRequests.get(e);if(void 0!==n)return n;var r=new Promise((function(n,r){t.mediaImageQueue.push({url:e,resolve:n,reject:r}),t.processFromQueue()})).then((function(n){return t.pendingRequests.delete(e),n})).catch((function(n){throw t.pendingRequests.delete(e),n}));return this.pendingRequests.set(e,r),r}},{key:"getQueueSize",value:function(){return this.mediaImageQueue.length}},{key:"getActiveDownloads",value:function(){return this.activeProcessing}},{key:"processFromQueue",value:function(){for(var e=this,t=function(){e.activeProcessing++;var t=e.mediaImageQueue.shift(),n=t.url,r=t.resolve,o=t.reject;e.tokenManager.getToken("read",!1).then((function(t){e.requestMediaEmoji(n,t,!0).then((function(t){r(t),e.completedItem()})).catch((function(t){o(t),e.completedItem()}))})).catch((function(t){o(t),e.completedItem()}))};this.activeProcessing<this.concurrentDownloadLimit&&this.mediaImageQueue.length>0;)t()}},{key:"completedItem",value:function(){this.activeProcessing--,this.processFromQueue()}},{key:"delay",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"requestMediaEmoji",value:function(e,t,n){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return c.imageAcceptHeader().then((function(i){var a={headers:{Authorization:"Bearer ".concat(t.jwt),"X-Client-Id":t.clientId,Accept:i}};return fetch(e,a).then((function(i){if(404===i.status&&o>0)return r.delay(600/o).then((function(){return r.requestMediaEmoji(e,t,!1,o-1)}));if(403===i.status&&n)return r.tokenManager.getToken("read",!0).then((function(t){return r.requestMediaEmoji(e,t,!1)}));if(i.ok)return i.blob().then((function(e){return r.readBlob(e)}));throw new Error("Unable to load media image. Status=".concat(i.status," ").concat(i.statusText))}))}))}},{key:"readBlob",value:function(e){return new Promise((function(t,n){var r=new FileReader;r.addEventListener("load",(function(){return t(r.result)})),r.addEventListener("error",(function(){return n(r.error)})),r.readAsDataURL(e)}))}}]),t}()})),r.register("hgoDu",(function(e,n){t(e.exports,"getNaturalImageSize",(function(){return o})),t(e.exports,"parseImage",(function(){return i})),t(e.exports,"hasFileExceededSize",(function(){return a})),t(e.exports,"imageAcceptHeader",(function(){return s}));var r,o=function(e){return new Promise((function(t,n){var r=new Image;r.addEventListener("load",(function(){t({width:r.naturalWidth,height:r.naturalHeight})})),r.addEventListener("error",n),r.src=e}))},i=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t({src:r.src})},r.onerror=function(){return n()},r.src=e}))},a=function(e){return e&&e.size>1048576},s=function(){return(void 0!==r?Promise.resolve(r):new Promise((function(e){var t=new Image,n=function(){r=2===t.height,e(r)};t.addEventListener("load",n),t.addEventListener("error",n),t.src="data:image/webp;base64,UklGRi4AAABXRUJQVlA4TCEAAAAvAUAAEB8wAiMwAgSSNtse/cXjxyCCmrYNWPwmHRH9jwMA"}))).then((function(e){return e?"image/webp,image/*,*/*;q=0.8":"image/*,*/*;q=0.8"}))}})),r.register("jFoI1",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("go2dD"),a=r("4NDMl"),s=r("9VyJv"),c=function(){function t(n){e(i)(this,t),this.siteServiceConfig=n,this.tokens=new Map}return e(a)(t,[{key:"addToken",value:function(e,t){this.tokens.set(e,{mediaApiToken:t})}},{key:"getToken",value:function(e,t){var n=this.tokens.get(e);n||(n={},this.tokens.set(e,n));var r=n,o=r.mediaApiToken,i=r.activeTokenRefresh;if(o){if(Date.now()/1e3<o.expiresAt-30&&!t)return Promise.resolve(o);if(i)return i;n.mediaApiToken=void 0}var a="token/".concat(e);return n.activeTokenRefresh=s.utils.requestService(this.siteServiceConfig,{path:a}).then((function(e){return n.activeTokenRefresh=void 0,n.mediaApiToken=e,e})),n.activeTokenRefresh}}]),t}()})),r.register("l2Sdj",(function(e,n){t(e.exports,"StatusSharedCssClassName",(function(){return r}));var r={STATUS_CONTAINER:"statusView-content-wrap",STATUS_LOZENGE:"status-lozenge-span"}})),r.register("ixNv2",(function(e,n){t(e.exports,"SmartCardSharedCssClassName",(function(){return a})),t(e.exports,"smartCardSharedStyles",(function(){return s})),r("8iml0");var o=r("82cWi"),i=r("hEJjh"),a={INLINE_CARD_CONTAINER:"inlineCardView-content-wrap",BLOCK_CARD_CONTAINER:"blockCardView-content-wrap",EMBED_CARD_CONTAINER:"embedCardView-content-wrap",LOADER_WRAPPER:"loader-wrapper"},s="\n  .".concat(a.BLOCK_CARD_CONTAINER," {\n    display: block;\n    margin: ").concat(o.blockNodesVerticalMargin," 0 0;\n    max-width: ").concat(95*i.gridSize(),"px;\n  }\n")})),r.register("9YWJg",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("9l0JA");var p=r("javqS");r("9w2Xf");var h=r("g4Rxo"),g=r("MsgJD");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"renderWithProvider",(function(t){var n=o.props,r=n.allowTextFallback,i=n.shortName,a=n.id,s=n.fallback,c=n.fitToHeight,l=n.showTooltip;return r&&!t.emojiProvider?e(f).createElement("span",{"data-emoji-id":a,"data-emoji-short-name":i,"data-emoji-text":s||i},s||i):t.emojiProvider?e(f).createElement(p.default,{emojiId:{id:a,fallback:s,shortName:i},emojiProvider:t.emojiProvider,showTooltip:l,fitToHeight:c}):null})),o.providerFactory=t.providers||new h.default,o}return e(a)(r,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return e(f).createElement(g.WithProviders,{providers:["emojiProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),r}(f.PureComponent);e(d)(v,"displayName","EmojiNode"),e(d)(v,"defaultProps",{showTooltip:!0})})),r.register("9l0JA",(function(e,n){t(e.exports,"ResourcedEmoji",(function(){return r("javqS").default}));r("javqS")})),r.register("javqS",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("jgze0"),a=r("bRWI2"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("01OmW"),m=r("2hF9E"),v=r("bpHli");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var y=function(){return r("ioIG6").then((function(e){return e.default}))},E=function(t){e(u)(r,t);var n=b(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i)),e(p)(e(l)(t),"state",{asyncLoadedComponent:r.AsyncLoadedComponent}),t}return e(c)(r,[{key:"asyncLoadComponent",value:function(){var e=this;y().then((function(t){r.AsyncLoadedComponent=t,e.setAsyncState(t)}))}},{key:"renderLoading",value:function(){var t=this.props,n=t.fitToHeight,r=t.emojiId,o=t.showTooltip;return e(h).createElement(m.default,{shortName:r.shortName,showTooltip:o,size:n||g.defaultEmojiHeight})}},{key:"renderLoaded",value:function(t,n){var r=this.props,o=(r.emojiProvider,e(a)(r,["emojiProvider"]));return e(h).createElement(n,e(i)({},o,{emojiProvider:t}))}}]),r}(v.default)})),r.register("ioIG6",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4zdsf")).then((()=>r("42LWS")))})),r.register("cvuuR",(function(n,o){t(n.exports,"default",(function(){return C}));var i,a,s=r("jgze0"),c=r("go2dD"),l=r("4NDMl"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("lhkMJ"),h=r("61szk"),g=r("7RIig"),m=r("SssiD"),v=r("bXS0g"),b=r("fDbdV");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var E=m.default.div(i||(i=e(p)(["\n  margin-top: 8px;\n  text-align: center;\n  position: relative;\n  color: ",";\n"])),v.N400),x=m.default.p(a||(a=e(p)(["\n  color: ",";\n  position: absolute;\n  top: 0;\n  width: 100%;\n"])),v.N200),k=function(t){e(u)(r,t);var n=y(r);function r(){return e(c)(this,r),n.apply(this,arguments)}return e(l)(r,[{key:"render",value:function(){var t=this.props,n=t.selected,r=t.hasContent,o=t.children,i=t.dataAttributes,a=t.intl.formatMessage,c=!n&&!r;return e(h).createElement(E,e(s)({"data-media-caption":!0,"data-testid":"media-caption"},i),c?e(h).createElement(x,null,a(b.messages.placeholder)):null,o)}}]),r}(e(h).Component),C=g.injectIntl(k)})),r.register("fDbdV",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}})})),r.register("5HbdK",(function(n,o){t(n.exports,"DEFAULT_IMAGE_WIDTH",(function(){return d})),t(n.exports,"DEFAULT_IMAGE_HEIGHT",(function(){return f})),t(n.exports,"wrappedLayouts",(function(){return p})),t(n.exports,"shouldAddDefaultWrappedWidth",(function(){return h})),t(n.exports,"default",(function(){return g}));var i=r("h67q9"),a=r("61szk"),s=r("hdR0w");r("8iml0");var c=r("82cWi"),l=r("jWbVn"),u=r("2wi7d"),d=250,f=200,p=["wrap-left","wrap-right","align-end","align-start"],h=function(e,t,n){return p.indexOf(e)>-1&&n&&t&&t>.5*n};function g(t){var n=t.layout,r=t.width,o=t.height,d=t.containerWidth,f=void 0===d?r:d,p=t.isLoading,g=void 0!==p&&p,m=t.pctWidth,v=t.className,b=t.children,y=t.nodeType,E=void 0===y?"mediaSingle":y,x=t.fullWidthMode,k=t.lineLength,C=t.hasFallbackContainer,S=void 0===C||C,T=e(a).Children.toArray(b);!m&&h(n,r,k)&&(m=50);var O,w,N=void 0===r;if(m){var P=Math.ceil(l.calcPxFromPct(m/100,k||f||0));N?r=P-c.akEditorMediaResizeHandlerPaddingWide:void 0!==r&&(o=o/r*P,r=P)}else N&&(r=c.DEFAULT_EMBED_CARD_WIDTH-c.akEditorMediaResizeHandlerPaddingWide);if(N)O=o;else if(void 0!==r){w="".concat((o/r*100).toFixed(3),"%"),"embedCard"===E&&(w="calc(".concat(w," + 32px)"))}var A=e(i)(T,2),I=A[0],D=A[1];return e(a).createElement(u.MediaSingleWrapper,{width:r,layout:n,containerWidth:f,pctWidth:m,fullWidthMode:x,"data-layout":n,"data-width":m,"data-node-type":E,className:e(s)("rich-media-item mediaSingleView-content-wrap","image-".concat(n),v,{"is-loading":g,"rich-media-wrapped":"wrap-left"===n||"wrap-right"===n})},e(a).createElement(u.MediaWrapper,{hasFallbackContainer:S,height:O,paddingBottom:w},I),D)}})),r.register("jWbVn",(function(e,n){t(e.exports,"calcPxFromColumns",(function(){return o})),t(e.exports,"calcColumnsFromPx",(function(){return i})),t(e.exports,"calcPxFromPct",(function(){return a})),t(e.exports,"calcPctFromPx",(function(){return s}));var r=24;function o(e,t,n){return(t+r)/n*e-r}function i(e,t,n){return(e+r)*n/(t+r)}function a(e,t){return(t+r)*e-r}function s(e,t){return(e+r)/(t+r)}})),r.register("2wi7d",(function(n,o){t(n.exports,"MediaSingleDimensionHelper",(function(){return g})),t(n.exports,"MediaWrapper",(function(){return m})),t(n.exports,"MediaSingleWrapper",(function(){return v}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c,l,u,d=r("82cWi"),f=r("3cpVm");function p(e){return e>d.akEditorFullWidthLayoutWidth?"100%":"".concat(e,"px")}function h(e){return e>d.akEditorFullPageMaxWidth?"100%":"".concat(e,"px")}var g=function(t){var n=t.containerWidth,r=void 0===n?0:n,o=t.fullWidthMode,c=t.isResized,l=t.layout,u=t.pctWidth,d=t.width;return a.css(s||(s=e(i)(["\n  /* For nested rich media items, set max-width to 100% */\n  tr &,\n  [data-layout-column] &,\n  [data-node-type='expand'] & {\n    max-width: 100%;\n  }\n\n  width: ",";\n  max-width: ",";\n  float: ",";\n  margin: ",";\n  ",";\n\n  &:not(.is-resizing) {\n    transition: width 100ms ease-in;\n  }\n"])),u?function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;switch(e){case"wide":return f.calcWideWidth(n);case"full-width":return f.calcBreakoutWidth(e,n);default:return"".concat(t,"px")}}(l,d||0,r):function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;switch(e){case"align-start":case"align-end":case"wrap-right":case"wrap-left":return t>n/2?"calc(50% - 12px)":"".concat(t,"px");case"wide":return f.calcWideWidth(n);case"full-width":return f.calcBreakoutWidth(e,n);default:return o?"".concat(t,"px"):r?p(t):h(t)}}(l,d||0,r,o,c),function(e,t){switch(e){case"wide":return f.calcWideWidth(t);case"full-width":return f.calcBreakoutWidth(e,t);default:return"100%"}}(l,r),function(e){switch(e){case"wrap-right":return"right";case"wrap-left":return"left";default:return"none"}}(l),function(e){switch(e){case"wrap-right":return"12px auto 12px 12px";case"wrap-left":return"12px 12px 12px auto";default:return"24px auto"}}(l),function(e){switch(e){case"align-end":return"margin-right: 0";case"align-start":return"margin-left: 0";default:return""}}(l))},m=a.default.div(l||(l=e(i)(["\n  position: relative;\n\n  ","\n\n  /* Editor */\n  & > figure {\n    position: ",";\n    height: 100%;\n    width: 100%;\n  }\n\n  & > div {\n    position: ",";\n    height: 100%;\n    width: 100%;\n  }\n\n  &[data-node-type='embedCard'] > div {\n    width: 100%;\n  }\n\n  /* Renderer */\n  [data-node-type='media'] {\n    position: static !important;\n\n    > div {\n      position: absolute;\n      height: 100%;\n    }\n  }\n"])),(function(t){var n=t.hasFallbackContainer,r=t.paddingBottom,o=t.height;return a.css(c||(c=e(i)(["\n  ","\n"])),n?"\n  &::after {\n    content: '';\n    display: block;\n    ".concat(o?"height: ".concat(o,"px;"):r?"padding-bottom: ".concat(r,";"):"","\n\n    /* Fixes extra padding problem in Firefox */\n    font-size: 0;\n    line-height: 0;\n  }\n  "):"")}),(function(e){return e.hasFallbackContainer?"absolute":"relative"}),(function(e){return e.hasFallbackContainer?"absolute":"relative"})),v=a.default.div(u||(u=e(i)(["\n  ",";\n"])),g);m.displayName="WrapperMediaSingle"})),r.register("aJmni",(function(n,o){t(n.exports,"MediaLink",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").default.a(i||(i=e(a)(["\n  position: absolute;\n  background: transparent;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  cursor: pointer;\n  width: 100%;\n  height: 100%;\n"])));s.displayName="MediaLink"})),r.register("7oe8u",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("9w2Xf");var p=r("g4Rxo"),h=r("MsgJD"),g=r("5PnE0");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"renderWithProvider",(function(t){var n=o.props,r=n.accessLevel,i=n.eventHandlers,a=n.id,s=n.portal,c=n.text,l=t.mentionProvider,u=t.profilecardProvider;return e(f).createElement(g.default,{id:a,text:c,accessLevel:r,eventHandlers:i,mentionProvider:l,profilecardProvider:u,portal:s})})),o.providerFactory=t.providers||new p.default,o}return e(a)(r,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return e(f).createElement(h.WithProviders,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),r}(f.PureComponent)})),r.register("5PnE0",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk");r("bkzCk");var h=r("eKFgb"),g=r("hGgRI");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var v=["HipChat","all","here"],b=function(){},y=function(t){e(l)(r,t);var n=m(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{profilecardProvider:null}),t}return e(s)(r,[{key:"UNSAFE_componentWillMount",value:function(){this.updateProfilecardProvider(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.profilecardProvider!==this.props.profilecardProvider&&this.updateProfilecardProvider(e)}},{key:"updateProfilecardProvider",value:function(e){var t=this;e.profilecardProvider?e.profilecardProvider.then((function(e){t.setState({profilecardProvider:e})})).catch((function(){t.setState({profilecardProvider:null})})):this.setState({profilecardProvider:null})}},{key:"render",value:function(){var t=this.props,n=t.accessLevel,r=t.userType,o=t.eventHandlers,a=t.id,s=t.mentionProvider,c=t.portal,l=t.text,u=this.state.profilecardProvider,d={};["onClick","onMouseEnter","onMouseLeave"].forEach((function(e){d[e]=o&&o[e]||b}));var f=u&&-1===v.indexOf(a)?g.default:h.default;return e(p).createElement(f,e(i)({id:a,text:l,accessLevel:n,userType:r,mentionProvider:s,profilecardProvider:u,portal:c},d))}}]),r}(p.PureComponent)})),r.register("bkzCk",(function(e,n){t(e.exports,"ResourcedMention",(function(){return r("eKFgb").default}));r("eKFgb")})),r.register("eKFgb",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("tpWeJ"),h=r("5bcCK"),g=r("lWPbc"),m=r("3jlzh");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=function(t){e(c)(r,t);var n=v(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"handleMentionProvider",(function(e){var t=e.id,n=e.mentionProvider,r=e.text;n?n.then((function(e){var n={isHighlighted:e.shouldHighlightMention({id:t})};if(!r&&p.isResolvingMentionProvider(e)){var i=e.resolveMentionName(t);h.isPromise(i)?i.then((function(e){o.setStateSafely({resolvedMentionName:o.processName(e)})})):n.resolvedMentionName=o.processName(i)}o.setStateSafely(n)})).catch((function(){o.setStateSafely({isHighlighted:!1})})):o.setStateSafely({isHighlighted:!1})})),o._isMounted=!1,o.state={isHighlighted:!1},o}return e(a)(r,[{key:"componentDidMount",value:function(){this.handleMentionProvider(this.props),this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props;t.id===e.id&&t.mentionProvider===e.mentionProvider||this.handleMentionProvider(e)}},{key:"setStateSafely",value:function(e){this._isMounted?this.setState(e):m.default("[ResourcedMention]: cannot setState when component is unmounted.")}},{key:"processName",value:function(e){var t;switch(e.status){case h.MentionNameStatus.OK:t=e.name||"";break;case h.MentionNameStatus.SERVICE_ERROR:case h.MentionNameStatus.UNKNOWN:default:t=g.UNKNOWN_USER_ID}return"@".concat(t)}},{key:"render",value:function(){var t=this.props,n=this.state;return e(f).createElement(g.default,{id:t.id,text:t.text||n.resolvedMentionName||"",isHighlighted:n.isHighlighted,accessLevel:t.accessLevel,onClick:t.onClick,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave})}}]),r}(e(f).PureComponent)})),r.register("tpWeJ",(function(n,o){t(n.exports,"AbstractMentionResource",(function(){return x})),t(n.exports,"isResolvingMentionProvider",(function(){return C})),t(n.exports,"default",(function(){return S}));var i=r("l15hj"),a=r("9ePZF"),s=r("cNgp7"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("go2dD"),f=r("4NDMl"),p=r("9VyJv"),h=r("5bcCK"),g=r("3jlzh"),m=r("1OvM8");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var E=function(){return{params:{},headers:{}}},x=function(t){e(c)(r,t);var n=y(r);function r(){return e(d)(this,r),n.apply(this,arguments)}return e(f)(r,[{key:"shouldHighlightMention",value:function(e){return!1}},{key:"filter",value:function(e){throw new Error("not yet implemented.\nParams: query=".concat(e))}},{key:"recordMentionSelection",value:function(e){}},{key:"isFiltering",value:function(e){return!1}},{key:"_notifyListeners",value:function(e,t){g.default("ak-mention-resource._notifyListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.changeListeners.forEach((function(n,r){try{n(e.mentions.slice(0,20),e.query,t)}catch(e){g.default("error from listener '".concat(r,"', ignoring"),e)}}))}},{key:"_notifyAllResultsListeners",value:function(e){g.default("ak-mention-resource._notifyAllResultsListeners",e&&e.mentions&&e.mentions.length,this.changeListeners),this.allResultsListeners.forEach((function(t,n){try{t(e.mentions.slice(0,20),e.query)}catch(e){g.default("error from listener '".concat(n,"', ignoring"),e)}}))}},{key:"_notifyErrorListeners",value:function(e,t){this.errListeners.forEach((function(n,r){try{n(e,t)}catch(e){g.default("error from listener '".concat(r,"', ignoring"),e)}}))}},{key:"_notifyInfoListeners",value:function(e){this.infoListeners.forEach((function(t,n){try{t(e)}catch(e){g.default("error from listener '".concat(n,"', ignoring"),e)}}))}},{key:"_notifyAnalyticsListeners",value:function(e,t,n,r){this.analyticsListeners.forEach((function(o,i){try{o(e,t,n,r)}catch(e){g.default("error from listener '".concat(i,"', ignoring"),e)}}))}}]),r}(function(){function t(){e(d)(this,t),this.changeListeners=new Map,this.allResultsListeners=new Map,this.errListeners=new Map,this.infoListeners=new Map,this.analyticsListeners=new Map}return e(f)(t,[{key:"subscribe",value:function(e,t,n,r,o,i){t&&this.changeListeners.set(e,t),n&&this.errListeners.set(e,n),r&&this.infoListeners.set(e,r),o&&this.allResultsListeners.set(e,o),i&&this.analyticsListeners.set(e,i)}},{key:"unsubscribe",value:function(e){this.changeListeners.delete(e),this.errListeners.delete(e),this.infoListeners.delete(e),this.allResultsListeners.delete(e),this.analyticsListeners.delete(e)}}]),t}()),k=function(t){e(c)(v,t);var n,r,o,l,u=y(v);function v(t){var n;return e(d)(this,v),(n=u.call(this)).verifyMentionConfig(t),n.config=t,n.lastReturnedSearch=0,n.activeSearches=new Set,n.productName=t.productName,n.shouldEnableInvite=!!t.shouldEnableInvite,n.inviteExperimentCohort=t.inviteExperimentCohort,n.onInviteItemClick=t.onInviteItemClick,n.userRole=t.userRole||"basic",n}return e(f)(v,[{key:"shouldHighlightMention",value:function(e){return!!this.config.shouldHighlightMention&&this.config.shouldHighlightMention(e)}},{key:"notify",value:function(e,t,n){if(e>this.lastReturnedSearch)this.lastReturnedSearch=e,this._notifyListeners(t,{duration:Date.now()-e});else{var r=new Date(e).toISOString().substr(17,6);g.default("Stale search result, skipping",r,n)}this._notifyAllResultsListeners(t)}},{key:"notifyError",value:function(e,t){this._notifyErrorListeners(e,t),t&&this.activeSearches.delete(t)}},{key:"filter",value:(l=e(s)(e(a).mark((function t(n,r){var o,i,s;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=Date.now(),n){e.next=8;break}return e.next=5,this.initialState(r);case 5:i=e.sent,e.next=13;break;case 8:return this.activeSearches.add(n),s=this.search(n,r),e.next=12,s.mentions;case 12:i=e.sent;case 13:this.notify(o,i,n),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),this.notifyError(e.t0,n);case 19:case"end":return e.stop()}}),t,this,[[0,16]])}))),function(e,t){return l.apply(this,arguments)})},{key:"recordMentionSelection",value:function(e,t){return this.recordSelection(e,t).then((function(){}),(function(e){return g.default("error recording mention selection: ".concat(e),e)}))}},{key:"isFiltering",value:function(e){return this.activeSearches.has(e)}},{key:"resolveMentionName",value:function(e){return this.config.mentionNameResolver?this.config.mentionNameResolver.lookupName(e):{id:e,name:"",status:h.MentionNameStatus.UNKNOWN}}},{key:"cacheMentionName",value:function(e,t){this.config.mentionNameResolver&&this.config.mentionNameResolver.cacheName(e,t)}},{key:"supportsMentionNameResolving",value:function(){return!!this.config.mentionNameResolver}},{key:"updateActiveSearches",value:function(e){this.activeSearches.add(e)}},{key:"verifyMentionConfig",value:function(e){if(!e.url)throw new Error("config.url is a required parameter");e.securityProvider||(e.securityProvider=E)}},{key:"initialState",value:function(e){return this.remoteInitialState(e)}},{key:"clearContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(t).filter((function(e){return t[e]})).reduce((function(n,r){return b(e(i)({},r,t[r]),n)}),{})}},{key:"getQueryParams",value:function(e){var t={};return this.config.containerId&&(t.containerId=this.config.containerId),this.config.productId&&(t.productIdentifier=this.config.productId),b(b({},t),this.clearContext(e))}},{key:"remoteInitialState",value:(o=e(s)(e(a).mark((function t(n){var r,o,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getQueryParams(n),o={path:"bootstrap",queryParams:r},e.prev=2,e.next=5,p.utils.requestService(this.config,o);case 5:return i=e.sent,this._notifyAnalyticsListeners(m.SLI_EVENT_TYPE,m.SliNames.INITIAL_STATE,m.Actions.SUCCEEDED),e.abrupt("return",this.transformServiceResponse(i,""));case 10:throw e.prev=10,e.t0=e.catch(2),this._notifyAnalyticsListeners(m.SLI_EVENT_TYPE,m.SliNames.INITIAL_STATE,m.Actions.FAILED),e.t0;case 14:case"end":return e.stop()}}),t,this,[[2,10]])}))),function(e){return o.apply(this,arguments)})},{key:"search",value:function(e,t){return{mentions:this.remoteSearch(e,t)}}},{key:"remoteSearch",value:(r=e(s)(e(a).mark((function t(n,r){var o,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={path:"search",queryParams:b({query:n,limit:100},this.getQueryParams(r))},e.prev=1,e.next=4,p.utils.requestService(this.config,o);case 4:return i=e.sent,this._notifyAnalyticsListeners(m.SLI_EVENT_TYPE,m.SliNames.SEARCH,m.Actions.SUCCEEDED),e.abrupt("return",this.transformServiceResponse(i,n));case 9:throw e.prev=9,e.t0=e.catch(1),this._notifyAnalyticsListeners(m.SLI_EVENT_TYPE,m.SliNames.SEARCH,m.Actions.FAILED),e.t0;case 13:case"end":return e.stop()}}),t,this,[[1,9]])}))),function(e,t){return r.apply(this,arguments)})},{key:"transformServiceResponse",value:function(e,t){var n=e.mentions.map((function(e){var n;return(h.isAppMention(e)||h.isTeamMention(e))&&(n=e.userType),b(b({},e),{},{lozenge:n,query:t})}));return b(b({},e),{},{mentions:n,query:e.query||t})}},{key:"recordSelection",value:(n=e(s)(e(a).mark((function t(n,r){var o,i,s;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={path:"record",queryParams:b({selectedUserId:n.id},this.getQueryParams(r)),requestInit:{method:"POST"}},i=h.isTeamMention(n)?m.SliNames.SELECT_TEAM:m.SliNames.SELECT,e.prev=2,e.next=5,p.utils.requestService(this.config,o);case 5:return s=e.sent,this._notifyAnalyticsListeners(m.SLI_EVENT_TYPE,i,m.Actions.SUCCEEDED),e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(2),this._notifyAnalyticsListeners(m.SLI_EVENT_TYPE,i,m.Actions.FAILED),e.t0;case 14:case"end":return e.stop()}}),t,this,[[2,10]])}))),function(e,t){return n.apply(this,arguments)})}]),v}(x),C=function(e){return!!(e&&e.supportsMentionNameResolving&&e.supportsMentionNameResolving())},S=k})),r.register("5bcCK",(function(e,n){var r,o,i,a,s,c,l,u;function d(e){return!!e&&e===i[i.NONE]}function f(e){return!!e.userType&&e.userType===s[s.SPECIAL]}function p(e){return e.userType&&e.userType===s[s.APP]}function h(e){return e.userType&&e.userType===s[s.TEAM]}function g(e){return e&&("@all"===e||"@here"===e)}t(e.exports,"MentionType",(function(){return r})),t(e.exports,"UserType",(function(){return s})),t(e.exports,"MentionNameStatus",(function(){return l})),t(e.exports,"isRestricted",(function(){return d})),t(e.exports,"isSpecialMention",(function(){return f})),t(e.exports,"isAppMention",(function(){return p})),t(e.exports,"isTeamMention",(function(){return h})),t(e.exports,"isSpecialMentionText",(function(){return g})),t(e.exports,"isPromise",(function(){return m})),(o=r||(r={}))[o.SELF=0]="SELF",o[o.RESTRICTED=1]="RESTRICTED",o[o.DEFAULT=2]="DEFAULT",(a=i||(i={}))[a.NONE=0]="NONE",a[a.SITE=1]="SITE",a[a.APPLICATION=2]="APPLICATION",a[a.CONTAINER=3]="CONTAINER",(c=s||(s={}))[c.DEFAULT=0]="DEFAULT",c[c.SPECIAL=1]="SPECIAL",c[c.APP=2]="APP",c[c.TEAM=3]="TEAM",c[c.SYSTEM=4]="SYSTEM",(u=l||(l={}))[u.UNKNOWN=0]="UNKNOWN",u[u.SERVICE_ERROR=1]="SERVICE_ERROR",u[u.OK=2]="OK";var m=function(e){return!(!e||!e.then)}})),r.register("3jlzh",(function(e,n){t(e.exports,"default",(function(){return o}));var r=!1;function o(e){if(r){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];(t=console).log.apply(t,[e].concat(o))}}})),r.register("1OvM8",(function(n,o){t(n.exports,"SLI_EVENT_TYPE",(function(){return b})),t(n.exports,"SMART_EVENT_TYPE",(function(){return y})),t(n.exports,"SliNames",(function(){return f})),t(n.exports,"ComponentNames",(function(){return h})),t(n.exports,"Actions",(function(){return m})),t(n.exports,"fireAnalyticsMentionTypeaheadEvent",(function(){return E})),t(n.exports,"fireAnalyticsTeamMentionHighlightEvent",(function(){return x})),t(n.exports,"fireAnalyticsMentionEvent",(function(){return k})),t(n.exports,"fireSliAnalyticsEvent",(function(){return C})),t(n.exports,"buildSliPayload",(function(){return S}));var i=r("l15hj"),a=r("9aw7q"),s=r("gQbt4"),c=r("ifWpS"),l=r("5bcCK");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f,p,h,g,m,v,b="sli",y="smart";(p=f||(f={})).SEARCH="searchUser",p.SEARCH_TEAM="searchTeam",p.INITIAL_STATE="initialState",p.SELECT="select",p.SELECT_TEAM="selectTeam",(g=h||(h={})).TYPEAHEAD="mentionTypeahead",g.MENTION="mention",g.TEAM_MENTION_HIGHLIGHT="teamMentionHighlight",(v=m||(m={})).VIEWED="viewed",v.CLICKED="clicked",v.CLOSED="closed",v.SUCCEEDED="succeeded",v.FAILED="failed";var E=function(e){return function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0;if(e.createAnalyticsEvent){var i={action:t,actionSubject:h.TYPEAHEAD,attributes:{packageName:c.name,packageVersion:c.version,componentName:h.MENTION,duration:Math.round(n),userIds:r,queryLength:o?o.length:0},eventType:a.OPERATIONAL_EVENT_TYPE},l=e.createAnalyticsEvent(i);l.fire(s.ELEMENTS_CHANNEL)}}},x=function(e){return function(t,n,r,o,i){if(e){var l={action:n,actionSubject:t,actionSubjectId:o,eventType:a.UI_EVENT_TYPE,attributes:{source:r,packageName:c.name,packageVersion:c.version,componentName:h.TEAM_MENTION_HIGHLIGHT,viewedCount:i}};e(l).fire(s.ELEMENTS_CHANNEL)}}},k=function(e){return function(t,n,r,o,i){var u={action:n,actionSubject:t,eventType:a.UI_EVENT_TYPE,attributes:{packageName:c.name,packageVersion:c.version,componentName:h.MENTION,accessLevel:i,isSpecial:l.isSpecialMentionText(r),userId:o}},d=e(u);return d.fire(s.ELEMENTS_CHANNEL),d}},C=function(e){return function(t,n){if(e.createAnalyticsEvent){var r=S(t,n);e.createAnalyticsEvent(r).fire(s.ELEMENTS_CHANNEL)}}},S=function(e,t,n){return{action:t,actionSubject:e,eventType:a.OPERATIONAL_EVENT_TYPE,attributes:d({packageName:c.name,packageVersion:c.version,componentName:h.MENTION},n)}}})),r.register("gQbt4",(function(e,n){t(e.exports,"ELEMENTS_CHANNEL",(function(){return r}));var r="fabric-elements"})),r.register("ifWpS",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/mention","version":"19.6.4","sideEffects":false}')})),r.register("lWPbc",(function(n,o){t(n.exports,"UNKNOWN_USER_ID",(function(){return k})),t(n.exports,"default",(function(){return S}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("7RIig"),g=r("hiDiL"),m=r("aQyko"),v=r("5bcCK"),b=r("1OvM8"),y=r("c5MYi"),E=r("5duA7");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var k="_|unknown|_",C=function(t){e(l)(r,t);var n=x(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"handleOnClick",(function(e){var n=t.props,r=n.id,o=n.text,i=n.onClick;i&&i(r,o,e)})),e(f)(e(c)(t),"handleOnMouseEnter",(function(e){var n=t.props,r=n.id,o=n.text,i=n.onMouseEnter,a=n.onHover;i&&i(r,o,e),t.hoverTimeout=window.setTimeout((function(){a&&a(),t.hoverTimeout=void 0}),1e3)})),e(f)(e(c)(t),"handleOnMouseLeave",(function(e){var n=t.props,r=n.id,o=n.text,i=n.onMouseLeave;i&&i(r,o,e),t.hoverTimeout&&clearTimeout(t.hoverTimeout)})),e(f)(e(c)(t),"getMentionType",(function(){var e=t.props,n=e.accessLevel;return e.isHighlighted?v.MentionType.SELF:v.isRestricted(n)?v.MentionType.RESTRICTED:v.MentionType.DEFAULT})),t}return e(s)(r,[{key:"componentWillUnmount",value:function(){this.hoverTimeout&&clearTimeout(this.hoverTimeout)}},{key:"renderUnknownUserError",value:function(t){return e(p).createElement(h.FormattedMessage,e(i)({},E.messages.unknownUserError,{values:{userId:t.slice(-5)}}),(function(e){return"@".concat(e)}))}},{key:"render",value:function(){var t=this.handleOnClick,n=this.handleOnMouseEnter,r=this.handleOnMouseLeave,o=this.props,i=o.text,a=o.id,s=o.accessLevel,c=this.getMentionType(),l=i==="@".concat(k),u=e(p).createElement(g.MentionStyle,{mentionType:c,onClick:t,onMouseEnter:n,onMouseLeave:r},l?this.renderUnknownUserError(a):i||"@...");return e(p).createElement("span",{"data-mention-id":a,"data-access-level":s,spellCheck:!1},c===v.MentionType.RESTRICTED?e(p).createElement(m.NoAccessTooltip,{name:i},u):u)}}]),r}(e(p).PureComponent),S=y.default({onClick:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return b.fireAnalyticsMentionEvent(e)("mention","selected",r,n,o)},onHover:function(e,t){var n=t.id,r=t.text,o=t.accessLevel;return b.fireAnalyticsMentionEvent(e)("mention","hovered",r,n,o)}})(C)})),r.register("hiDiL",(function(n,o){t(n.exports,"MentionStyle",(function(){return g}));var i=r("lhkMJ"),a=r("l15hj");r("1qzjD");var s,c,l=r("5PeN3"),u=r("EjwF2"),d=r("SssiD"),f=r("5bcCK"),p=(s={},e(a)(s,f.MentionType.SELF,{background:l.default({light:u.B400,dark:u.B200}),border:"transparent",text:l.default({light:u.N20,dark:u.DN30})}),e(a)(s,f.MentionType.RESTRICTED,{background:"transparent",border:l.default({light:u.N500,dark:u.DN80}),text:l.default({light:u.N500,dark:u.DN100})}),e(a)(s,f.MentionType.DEFAULT,{background:l.default({light:u.N30A,dark:u.DN80}),border:"transparent",text:l.default({light:u.N500,dark:u.DN800})}),s),h=function(e,t){var n=p[e.mentionType][t];return"string"==typeof n?n:n(e)},g=d.default.span(c||(c=e(i)(["\n  ",";\n"])),(function(e){return"\n  display: inline;\n  background: ".concat(h(e,"background"),";\n  border: 1px solid ").concat(h(e,"border"),";\n  border-radius: 20px;\n  color: ").concat(h(e,"text"),";\n  cursor: pointer;\n  padding: 0 0.3em 2px 0.23em;\n  line-height: 1.714;\n  font-size: 1em;\n  font-weight: normal;\n  word-break: break-word;\n")}))})),r.register("1qzjD",(function(e,n){t(e.exports,"themed",(function(){return r("5PeN3").default})),t(e.exports,"default",(function(){return r("iotMn").default})),t(e.exports,"createTheme",(function(){return r("k339g").createTheme}));r("5PeN3"),r("iotMn"),r("k339g")})),r.register("5PeN3",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("gW09X");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("gW09X",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("iotMn",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("k339g").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("k339g",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("EjwF2",(function(e,n){t(e.exports,"R100",(function(){return i})),t(e.exports,"R300",(function(){return a})),t(e.exports,"R400",(function(){return s})),t(e.exports,"R500",(function(){return c})),t(e.exports,"Y200",(function(){return l})),t(e.exports,"Y300",(function(){return u})),t(e.exports,"Y400",(function(){return d})),t(e.exports,"Y500",(function(){return f})),t(e.exports,"B50",(function(){return h})),t(e.exports,"B75",(function(){return g})),t(e.exports,"B100",(function(){return m})),t(e.exports,"B200",(function(){return v})),t(e.exports,"B300",(function(){return b})),t(e.exports,"B400",(function(){return y})),t(e.exports,"B500",(function(){return E})),t(e.exports,"P50",(function(){return x})),t(e.exports,"N0",(function(){return k})),t(e.exports,"N20",(function(){return C})),t(e.exports,"N30",(function(){return S})),t(e.exports,"N40",(function(){return T})),t(e.exports,"N70",(function(){return O})),t(e.exports,"N90",(function(){return w})),t(e.exports,"N100",(function(){return N})),t(e.exports,"N200",(function(){return P})),t(e.exports,"N400",(function(){return A})),t(e.exports,"N500",(function(){return I})),t(e.exports,"N700",(function(){return D})),t(e.exports,"N800",(function(){return R})),t(e.exports,"N900",(function(){return M})),t(e.exports,"N20A",(function(){return _})),t(e.exports,"N30A",(function(){return j})),t(e.exports,"DN800",(function(){return B})),t(e.exports,"DN400",(function(){return F})),t(e.exports,"DN300",(function(){return z})),t(e.exports,"DN100",(function(){return W})),t(e.exports,"DN80",(function(){return U})),t(e.exports,"DN70",(function(){return H})),t(e.exports,"DN60",(function(){return V})),t(e.exports,"DN30",(function(){return G})),t(e.exports,"DN0",(function(){return J})),t(e.exports,"heading",(function(){return q})),t(e.exports,"subtleHeading",(function(){return Y})),t(e.exports,"skeleton",(function(){return Z}));var o=r("5PeN3"),i="#FF8F73",a="#FF5630",s="#DE350B",c="#BF2600",l="#FFC400",u="#FFAB00",d="#FF991F",f="#FF8B00",p="#36B37E",h="#DEEBFF",g="#B3D4FF",m="#4C9AFF",v="#2684FF",b="#0065FF",y="#0052CC",E="#0747A6",x="#EAE6FF",k="#FFFFFF",C="#F4F5F7",S="#EBECF0",T="#DFE1E6",O="#A5ADBA",w="#8993A4",N="#7A869A",P="#6B778C",A="#505F79",I="#42526E",D="#253858",R="#172B4D",M="#091E42",_="rgba(9, 30, 66, 0.04)",j="rgba(9, 30, 66, 0.08)",B="#DCE5F5",L="#B8C7E0",F="#9FB0CC",z="#8C9CB8",W="#67758F",U="#455166",H="#3B475C",V="#313D52",K="#283447",G="#1B2638",J="#0D1424",q=(o.default({light:k,dark:G}),o.default({light:h,dark:g}),o.default({light:S,dark:H}),o.default({light:k,dark:K}),o.default({light:M,dark:L}),o.default({light:R,dark:L}),o.default({light:y,dark:y}),o.default({light:P,dark:z}),o.default({light:N,dark:"#7988A3"}),o.default({light:R,dark:L})),Y=o.default({light:P,dark:z}),Z=(o.default({light:C,dark:K}),o.default({light:y,dark:m}),o.default({light:b,dark:v}),o.default({light:E,dark:m}),o.default({light:m,dark:v}),o.default({light:y,dark:m}),o.default({light:y,dark:m}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:a,dark:a}),o.default({light:u,dark:u}),o.default({light:p,dark:p}),function(){return _})})),r.register("aQyko",(function(n,o){t(n.exports,"NoAccessTooltip",(function(){return c}));var i=r("6fJIW"),a=r("61szk"),s=r("jYh36"),c=function(t){var n=t.name,r=t.children;return e(a).createElement(s.NoAccessWarning,{name:n},(function(t){return e(a).createElement(i.default,{content:t,position:"right"},r)}))}})),r.register("6fJIW",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("61szk"),l=r("4JuWt"),u=r("gKQyD"),d=r("36TsT"),f=r("6arEb"),p=r("hk7TV"),h=r("djEoB"),g=r("bnitQ"),m=r("l4irL"),v=r("kqtIc"),b=r("lz18R"),y=r("iJYjI"),E=r("k3GuJ");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=m.layers.tooltip(),S={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.5.0"};function T(){}function O(t){var n=t.children,r=t.position,o=void 0===r?"bottom":r,s=t.mousePosition,m=void 0===s?"bottom":s,x=t.content,O=t.truncate,w=void 0!==O&&O,N=t.component,P=void 0===N?y.default:N,A=t.tag,I=void 0===A?"div":A,D=t.testId,R=t.delay,M=void 0===R?300:R,_=t.onShow,j=void 0===_?T:_,B=t.onHide,L=void 0===B?T:B,F=t.hideTooltipOnClick,z=void 0!==F&&F,W=t.hideTooltipOnMouseDown,U=void 0!==W&&W,H=t.analyticsContext,V=t.strategy,K=void 0===V?"fixed":V,G="mouse"===o?m:o,J=d.usePlatformLeafSyntheticEventHandler(k({fn:j,action:"displayed",analyticsData:H},S)),q=d.usePlatformLeafSyntheticEventHandler(k({fn:L,action:"hidden",analyticsData:H},S)),Y=c.useRef(null),Z=c.useState("hide"),X=e(a)(Z,2),Q=X[0],$=X[1],ee=c.useRef(null),te=c.useRef(null),ne=c.useCallback((function(e){e&&("function"==typeof n?ee.current=e:(te.current=e,ee.current=e.firstChild))}),[n]),re=c.useRef(Q),oe=c.useRef(M),ie=c.useRef({onShowHandler:J,onHideHandler:q}),ae=c.useRef(!1);c.useEffect((function(){re.current=Q,oe.current=M,ie.current={onShowHandler:J,onHideHandler:q}}),[M,q,J,Q]);var se=c.useCallback((function(e){Y.current=e,ae.current=!1}),[]),ce=c.useCallback((function(){Y.current&&(ae.current&&ie.current.onHideHandler(),Y.current=null,ae.current=!1,$("hide"))}),[]),le=c.useCallback((function(){Y.current&&(Y.current.abort(),ae.current&&ie.current.onHideHandler(),Y.current=null)}),[]);c.useEffect((function(){return function(){Y.current&&le()}}),[le]);var ue=c.useCallback((function(e){if(Y.current&&!Y.current.isActive()&&le(),Y.current&&Y.current.isActive())Y.current.keep();else{var t={source:e,delay:oe.current,show:function(e){var t=e.isImmediate;ae.current||(ae.current=!0,ie.current.onShowHandler()),$(t?"show-immediate":"show-fade-in")},hide:function(e){var t=e.isImmediate;$((function(e){return"hide"!==e?t?"hide":"fade-out":e}))},done:ce},n=v.show(t);se(n)}}),[le,ce,se]),de=c.useCallback((function(){var e;null===(e=Y.current)||void 0===e||e.requestHide({isImmediate:!0})}),[Y]);f.default({onClose:de,isDisabled:"hide"===Q||"fade-out"===Q}),c.useEffect((function(){return"hide"===Q?T:u.bind(window,{type:"scroll",listener:function(){Y.current&&Y.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})}),[Q]);var fe,pe,he=c.useCallback((function(){U&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[U]),ge=c.useCallback((function(){z&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[z]),me=c.useCallback((function(e){if(!(te.current&&e.target===te.current||e.defaultPrevented)){e.preventDefault();var t="mouse"===o?{type:"mouse",mouse:E.getMousePosition({left:e.clientX,top:e.clientY})}:{type:"keyboard"};ue(t)}}),[o,ue]),ve=c.useCallback((function(e){te.current&&e.target===te.current||e.defaultPrevented||(e.preventDefault(),Y.current&&Y.current.requestHide({isImmediate:!1}))}),[]),be=c.useCallback((function(){Y.current&&Y.current.isActive()&&Y.current.keep()}),[]),ye=c.useCallback((function(){ue({type:"keyboard"})}),[ue]),Ee=c.useCallback((function(){Y.current&&Y.current.requestHide({isImmediate:!1})}),[]),xe=c.useCallback((function(e){"exiting"===e&&"fade-out"===re.current&&Y.current&&Y.current.finishHideAnimation()}),[]),ke=I,Ce="hide"!==Q&&Boolean(x),Se="show-immediate"===Q||"show-fade-in"===Q,Te=b.default("tooltip",Ce),Oe={onMouseOver:me,onMouseOut:ve,onClick:ge,onMouseDown:he,onFocus:ye,onBlur:Ee,ref:ne,"aria-describedby":Te,"data-testid":D?"".concat(D,"--container"):void 0};return l.jsx(e(c).Fragment,null,"function"==typeof n?n(Oe):l.jsx(ke,e(i)({},Oe,{role:"presentation"}),n),Ce?l.jsx(g.default,{zIndex:C},l.jsx(h.Popper,{placement:G,referenceElement:(fe=Y.current,pe=fe?fe.getInitialMouse():null,"mouse"===o&&pe?pe:ee.current||void 0),strategy:K},(function(e){var t=e.ref,n=e.style,r=e.update;return l.jsx(p.ExitingPersistence,{appear:!0},Se&&l.jsx(p.FadeIn,{onFinish:xe,duration:"show-immediate"===Q?0:void 0},(function(e){var o=e.className;return l.jsx(P,{ref:t,className:"Tooltip ".concat(o),style:n,truncate:w,placement:G,testId:D,onMouseOut:ve,onMouseOver:be,id:Te},"function"==typeof x?x({update:r}):x)})))}))):null)}O.displayName="Tooltip";var w=O})),r.register("c5MYi",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("kztp1"),c=r("2ydcK"),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=a.forwardRef((function(r,o){var l=c.usePatchedProps(t,r).patchedEventProps,u=s.useAnalyticsEvents().createAnalyticsEvent;return e(a).createElement(n,e(i)({},r,l,{createAnalyticsEvent:u,ref:o}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}}})),r.register("kztp1",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("fTdlM"),a=r("hsJ1m");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("fTdlM",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("i805l").default)})),r.register("i805l",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("hsJ1m",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("2ydcK",(function(n,o){t(n.exports,"usePatchedProps",(function(){return d}));var i=r("l15hj"),a=r("EwJf3"),s=r("61szk"),c=r("kztp1");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=c.useAnalyticsEvents(),o=r.createAnalyticsEvent,l=s.useRef({}),d=s.useMemo((function(){var r=l.current;return Object.keys(r).filter((function(e){return!(e in t)})).forEach((function(e){return delete r[e]})),Object.keys(t).reduce((function(s,c){var l=t[c];if(!["object","function"].includes(e(a)(l)))return s;var d=n[c];if(c in r&&r[c].eventCreator===l&&r[c].propValue===d)return u(u({},s),{},e(i)({},c,r[c].wrappedCallback));var f=function(){var e="function"==typeof l?l(o,n):o(l);if(d&&"function"==typeof d){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];d.apply(void 0,r.concat([e]))}};return r[c]={eventCreator:l,wrappedCallback:f,propValue:d},u(u({},s),{},e(i)({},c,f))}),{})}),[t,n,o,l]);return{patchedEventProps:d}}})),r.register("ljvNB",(function(n,o){t(n.exports,"usePlatformLeafEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("kztp1"),c=r("lzfUp");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.actionSubject,d=t.packageName,f=t.packageVersion,p=t.analyticsData,h=s.useAnalyticsEvents().createAnalyticsEvent,g=c.useTrackedRef(p),m=c.useTrackedRef(n),v=a.useCallback((function(t){var n=h({action:r,actionSubject:u||o,attributes:{componentName:o,packageName:d,packageVersion:f}}),a=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:d,packageVersion:f},g.current);n.context.push(a);var s=n.clone();s&&s.fire("atlaskit"),m.current(t,n)}),[r,o,u,d,f,h,g,m]);return v}})),r.register("lzfUp",(function(e,n){t(e.exports,"useTrackedRef",(function(){return i}));var o=r("61szk"),i=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t}})),r.register("36TsT",(function(n,o){t(n.exports,"usePlatformLeafSyntheticEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("kztp1"),c=r("lzfUp");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.packageName,d=t.packageVersion,f=t.analyticsData,p=s.useAnalyticsEvents().createAnalyticsEvent,h=c.useTrackedRef(f),g=c.useTrackedRef(n),m=a.useCallback((function(){var t=p({action:r,actionSubject:o,attributes:{componentName:o,packageName:u,packageVersion:d}}),n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:u,packageVersion:d},h.current);t.context.push(n);var a=t.clone();a&&a.fire("atlaskit"),g.current(t)}),[r,o,u,d,p,h,g]);return m}})),r.register("l4irL",(function(e,n){t(e.exports,"CHANNEL",(function(){return o})),t(e.exports,"DEFAULT_THEME_MODE",(function(){return i})),t(e.exports,"THEME_MODES",(function(){return a})),t(e.exports,"borderRadius",(function(){return s})),t(e.exports,"layers",(function(){return c}));r("aYdlt"),r("8IgYL");var o="__ATLASKIT_THEME__",i="light",a=["light","dark"],s=function(){return 3},c={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}})),r.register("aYdlt",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("5jH3e");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("5jH3e",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("8IgYL",(function(e,n){t(e.exports,"B100",(function(){return c})),t(e.exports,"N0",(function(){return d})),t(e.exports,"N800",(function(){return p})),t(e.exports,"N30A",(function(){return h})),t(e.exports,"DN600",(function(){return g})),t(e.exports,"DN0",(function(){return b})),t(e.exports,"skeleton",(function(){return y}));var o=r("j7UbQ"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#4C9AFF",l="#2684FF",u="#0052CC",d="#FFFFFF",f="#6B778C",p="#172B4D",h="rgba(9, 30, 66, 0.08)",g="#B8C7E0",m="#8C9CB8",v="#283447",b="#0D1424",y=(o.default({light:d,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:d,dark:v}),o.default({light:"#091E42",dark:g}),o.default({light:p,dark:g}),o.default({light:u,dark:u}),o.default({light:f,dark:m}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:p,dark:g}),o.default({light:f,dark:m}),o.default({light:"#F4F5F7",dark:v}),o.default({light:u,dark:c}),o.default({light:"#0065FF",dark:l}),o.default({light:"#0747A6",dark:c}),o.default({light:c,dark:l}),o.default({light:u,dark:c}),o.default({light:u,dark:c}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("j7UbQ",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("4HDug");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("4HDug",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("l4irL");function i(e){if(e&&e.theme){if(o.CHANNEL in e.theme)return e.theme[o.CHANNEL];if("mode"in e.theme&&o.THEME_MODES.includes(e.theme.mode))return e.theme}return{mode:o.DEFAULT_THEME_MODE}}})),r.register("kqtIc",(function(e,n){t(e.exports,"show",(function(){return a}));var o=r("a6zyq"),i=null;function a(e){var t="waiting-to-show";function n(){return Boolean(i&&i.entry===e)}function r(){n()&&(o.clearScheduled(),i=null)}function a(){n()&&e.done(),t="done",r()}function s(){n()&&e.hide({isImmediate:!0}),a()}function c(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){var n=Boolean(i&&i.isVisible());function r(){t="shown",e.show({isImmediate:n})}i&&(o.clearScheduled(),i.entry.hide({isImmediate:!0}),i.entry.done(),i=null),i={entry:e,isVisible:c},n?r():(t="waiting-to-show",o.scheduleTimeout(r,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void o.clearScheduled()):"hide-animating"===t?(t="shown",o.clearScheduled(),void e.show({isImmediate:!1})):void 0},abort:r,isActive:n,requestHide:function(r){var i=r.isImmediate;n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(i?s():(t="waiting-to-hide",o.scheduleTimeout((function(){t="hide-animating",e.hide({isImmediate:!1})}),e.delay))):s())},finishHideAnimation:function(){n()&&"hide-animating"===t&&a()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}})),r.register("a6zyq",(function(e,n){t(e.exports,"clearScheduled",(function(){return o})),t(e.exports,"scheduleTimeout",(function(){return i}));var r=null;function o(){null!=r&&(window.clearTimeout(r),r=null)}function i(e,t){o(),r=window.setTimeout((function(){r=null,e()}),t)}})),r.register("lz18R",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("48Unu");function i(e,t){var n=o.useUIDSeed();return t?"".concat(n(e)):void 0}})),r.register("iJYjI",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("lhkMJ"),a=r("61szk"),s=r("4JuWt"),c=r("8IgYL");r("dQmXp");var l,u,d,f=r("iZGn0"),p=r("l4irL"),h=r("aYdlt"),g=r("lc80i"),m=s.css(l||(l=e(i)(["\n  border-radius: ","px;\n  box-sizing: border-box;\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n"])),p.borderRadius()),v=s.css(u||(u=e(i)(["\n  max-width: 420px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),b=a.forwardRef((function(t,n){var r=t.style,o=t.className,a=t.children,l=t.truncate,u=t.placement,p=t.testId,b=t.onMouseOut,y=t.onMouseOver,E=t.id;return s.jsx(f.default.Consumer,null,(function(t){var f=t.mode;return s.jsx(g.default,{ref:n,style:r,className:o,placement:u,testId:p,id:E,onMouseOut:b,onMouseOver:y,css:[m,l?v:null,s.css(d||(d=e(i)(["\n                background-color: ",";\n                color: ",";\n              "])),"light"===f?h.default("color.background.boldNeutral.resting",c.N800):h.default("color.background.boldNeutral.resting",c.DN0),"light"===f?h.default("color.text.onBold",c.N0):h.default("color.text.onBold",c.DN600))]},a)}))}));b.displayName="TooltipContainer";var y=b})),r.register("dQmXp",(function(e,n){t(e.exports,"default",(function(){return r("iZGn0").default}));r("iZGn0")})),r.register("iZGn0",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("8dEs9").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("8dEs9",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("lc80i",(function(n,o){t(n.exports,"default",(function(){return f}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("4JuWt"),l=r("l4irL"),u=c.css(i||(i=e(a)(["\n  z-index: ",";\n  cursor: default;\n"])),l.layers.tooltip()),d=s.forwardRef((function(e,t){var n=e.style,r=e.className,o=e.children,i=e.placement,a=e.testId,s=e.onMouseOut,l=e.onMouseOver,d=e.id;return c.jsx("div",{role:"tooltip",ref:t,style:n,className:r,onMouseOut:s,onMouseOver:l,css:u,"data-placement":i,"data-testid":a,id:d},o)}));d.displayName="TooltipPrimitive";var f=d})),r.register("k3GuJ",(function(e,n){function r(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}t(e.exports,"getMousePosition",(function(){return r}))})),r.register("jYh36",(function(n,o){t(n.exports,"NoAccessWarning",(function(){return d})),t(n.exports,"NoAccessLabel",(function(){return f})),t(n.exports,"DefaultHeadline",(function(){return p})),t(n.exports,"DefaultAdvisedAction",(function(){return h})),t(n.exports,"LoginAgain",(function(){return g})),t(n.exports,"DifferentText",(function(){return m})),t(n.exports,"TeamMentionHighlightTitle",(function(){return v})),t(n.exports,"TeamMentionHighlightCloseTooltip",(function(){return b})),t(n.exports,"TeamMentionHighlightDescription",(function(){return y})),t(n.exports,"TeamMentionHighlightDescriptionLink",(function(){return E}));var i=r("bRWI2"),a=r("jgze0"),s=r("61szk"),c=r("7RIig"),l=r("5duA7"),u=function(t){return function(n){return e(s).createElement(c.FormattedMessage,e(a)({},n,t))}},d=function(t){var n=t.name,r=e(i)(t,["name"]);return e(s).createElement(c.FormattedMessage,e(a)({},r,{values:{name:n}},l.messages.noAccessWarning))},f=u(l.messages.noAccessLabel),p=u(l.messages.defaultHeadline),h=u(l.messages.defaultAdvisedAction),g=u(l.messages.loginAgain),m=u(l.messages.differentText),v=u(l.messages.TeamMentionHighlightTitle),b=u(l.messages.TeamMentionHighlightCloseButtonToolTip),y=u(l.messages.TeamMentionHighlightDescription),E=u(l.messages.TeamMentionHighlightDescriptionLink)})),r.register("5duA7",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({unknownUserError:{id:"fabric.mention.unknow.user.error",defaultMessage:"Unknown user {userId}",description:"Mention user name could not be found or look up failed"},noAccessWarning:{id:"fabric.mention.noAccess.warning",defaultMessage:"{name} won't be notified as they have no access",description:"Warning message to show that the mentioned user won't be notified"},noAccessLabel:{id:"fabric.mention.noAccess.label",defaultMessage:"No access",description:"Label for no access icon"},defaultHeadline:{id:"fabric.mention.error.defaultHeadline",defaultMessage:"Something went wrong",description:"Error message shown when there is an error communicating with backend"},defaultAdvisedAction:{id:"fabric.mention.error.defaultAction",defaultMessage:"Try again in a few seconds",description:"Default advised action when an error occurs"},loginAgain:{id:"fabric.mention.error.loginAgain",defaultMessage:"Try logging out then in again",description:"Login again message when there is an authentication error occurs"},differentText:{id:"fabric.mention.error.differentText",defaultMessage:"Try entering different text",description:"Enter different text message when a forbidden error occurs"},memberCountWithoutYou:{id:"fabric.elements.mentions.team.member.count",defaultMessage:"Team \u2022 {0, plural, one {1 member} other {{0} members}}",description:"Byline to show the number of members in the team when the current user is not a member of the team"},memberCountWithYou:{id:"fabric.elements.mentions.team.member.count.including.you",defaultMessage:"Team \u2022 {0, plural, one {1 member} other {{0} members}}, including you",description:"Byline to show the number of members in the team when the current user is also a member of the team"},plus50MembersWithoutYou:{id:"fabric.elements.mentions.team.member.50plus",defaultMessage:"Team \u2022 50+ members",description:"Byline to show the number of members in the team when the number exceeds 50"},plus50MembersWithYou:{id:"fabric.elements.mentions.team.member.50plus.including.you",defaultMessage:"Team \u2022 50+ members, including you",description:"Byline to show the number of members in the team when the number exceeds 50 and also includes the current user"},TeamMentionHighlightTitle:{id:"fabric.elements.mentions.team.mention.highlight.title",defaultMessage:"Mention your team",description:"Title of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescription:{id:"fabric.elements.mentions.team.mention.highlight.description",defaultMessage:"Get everyone on the page with one click. No team?",description:"Description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightDescriptionLink:{id:"fabric.elements.mentions.team.mention.highlight.description.link",defaultMessage:"Start one.",description:"Team creation link in the description of the highlight shown in the mention tpyeahead. This is related to team mentions"},TeamMentionHighlightCloseButtonToolTip:{id:"fabric.elements.mentions.team.meantion.highlight.close.button.tooltip",defaultMessage:"Dismiss",description:"Closes the highlight component when this button is clicked. This text for the tooltip of that button"}})})),r.register("hGgRI",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("h67q9"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("c6wVG");r("fLBIm");var g=r("eKFgb"),m=r("dqONe"),v=r("5Dx14");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var x=r("aJv1A").default(m.default),k=function(t){e(l)(r,t);var n=E(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return t=n.call.apply(n,[this].concat(s)),e(f)(e(c)(t),"state",{target:null,visible:!1,popupAlignX:"left",popupAlignY:"top"}),e(f)(e(c)(t),"handleRef",(function(e){t.setState({target:e})})),e(f)(e(c)(t),"handleMentionNodeRef",(function(e){t.domNode=e?h.findDOMNode(e):null})),e(f)(e(c)(t),"showProfilecard",(function(n){if(t.domNode){n.stopPropagation();var r=t.calculateLayerPosition(),o=e(i)(r,2),a=o[0],s=o[1];t.setState({popupAlignX:a,popupAlignY:s,visible:!0})}})),e(f)(e(c)(t),"hideProfilecard",(function(){t.setState({visible:!1})})),t}return e(s)(r,[{key:"calculateLayerPosition",value:function(){var e=this.getDomNodeCenterCoords(),t=this.getVisibleAreaCentreCoords(),n=e.y>t.y?"top":"bottom";return[e.x>t.x?"right":"left",n]}},{key:"getDomNodeCenterCoords",value:function(){var e=this.domNode.getBoundingClientRect();return{x:e.left+e.width/2,y:e.top+e.height/2}}},{key:"getVisibleAreaCentreCoords",value:function(){return{x:window.innerWidth/2,y:window.innerHeight/2}}},{key:"getActions",value:function(e,t,n){var r=this;return this.props.profilecardProvider.getActions(e,t,n).map((function(e){return y(y({},e),{},{callback:function(){r.setState({visible:!1}),e&&e.callback&&e.callback()}})}))}},{key:"render",value:function(){var t=this.props,n=t.accessLevel,r=t.id,o=t.mentionProvider,i=t.profilecardProvider,a=t.text,s=t.onClick,c=t.onMouseEnter,l=t.onMouseLeave,u=t.portal,d=this.state,f=d.popupAlignX,h=d.popupAlignY,m=d.target,b=d.visible,y=i.cloudId,E=i.resourceClient;return e(p).createElement("span",{ref:this.handleRef,onClick:this.showProfilecard},e(p).createElement(g.default,{ref:this.handleMentionNodeRef,id:r,text:a,accessLevel:n,mentionProvider:o,onClick:s,onMouseEnter:c,onMouseLeave:l}),m&&u&&b&&e(p).createElement(v.default,{offset:[0,8],target:m,mountTo:u,alignX:f,alignY:h},e(p).createElement(x,{handleClickOutside:this.hideProfilecard,handleEscapeKeydown:this.hideProfilecard,cloudId:y,userId:r,resourceClient:E,actions:this.getActions(r,a,n)})))}}]),r}(p.PureComponent)})),r.register("fLBIm",(function(e,n){t(e.exports,"MentionResource",(function(){return r("tpWeJ").default})),t(e.exports,"AbstractMentionResource",(function(){return r("tpWeJ").AbstractMentionResource})),t(e.exports,"ResourcedMention",(function(){return r("eKFgb").default}));r("tpWeJ");var o=r("hVGcH");r("eKFgb"),o.MentionPickerWithAnalytics})),r.register("hVGcH",(function(n,o){t(n.exports,"MentionPickerWithAnalytics",(function(){return k}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("c5MYi"),p=r("61szk"),h=r("1OvM8"),g=r("eazrw"),m=r("3jlzh"),v=r("eHdPm"),b=r("jLsyR"),y=r("5N2cC");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var x=function(t){e(c)(r,t);var n=E(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"selectNext",(function(){o.mentionListRef&&o.mentionListRef.selectNext()})),e(d)(e(s)(o),"selectPrevious",(function(){o.mentionListRef&&o.mentionListRef.selectPrevious()})),e(d)(e(s)(o),"selectIndex",(function(e,t){o.mentionListRef&&o.mentionListRef.selectIndex(e,t)})),e(d)(e(s)(o),"selectId",(function(e,t){o.mentionListRef&&o.mentionListRef.selectId(e,t)})),e(d)(e(s)(o),"chooseCurrentSelection",(function(){o.mentionListRef&&o.mentionListRef.chooseCurrentSelection()})),e(d)(e(s)(o),"mentionsCount",(function(){return o.mentionListRef?o.mentionListRef.mentionsCount():0})),e(d)(e(s)(o),"onFilterVisibilityChange",(function(e,t){e!==t&&(t?o.props.onOpen&&o.props.onOpen():o.props.onClose&&o.props.onClose())})),e(d)(e(s)(o),"filterChange",(function(e,t,n){m.default("ak-mention-picker.filterChange",e.length);var r=o.state.visible,i=e.length>0;o.setState({visible:i}),o.onFilterVisibilityChange(r,i),h.fireAnalyticsMentionTypeaheadEvent(o.props)("rendered",n&&n.duration,e.map((function(e){return e.id})),t)})),e(d)(e(s)(o),"filterError",(function(e){m.default("ak-mention-picker.filterError",e);var t=o.state.visible;o.setState({visible:!0,info:void 0}),o.onFilterVisibilityChange(t,!0)})),e(d)(e(s)(o),"filterInfo",(function(e){m.default("ak-mention-picker.filterInfo",e),o.setState({info:e})})),e(d)(e(s)(o),"handleMentionListRef",(function(e){o.mentionListRef=e})),o.subscriberKey=g.default("ak-mention-picker"),o.state={visible:!1},o.applyPropChanges({},t),o}return e(a)(r,[{key:"componentDidMount",value:function(){this.subscribeResourceProvider(this.props.resourceProvider)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.applyPropChanges(this.props,e)}},{key:"componentWillUnmount",value:function(){this.unsubscribeResourceProvider(this.props.resourceProvider)}},{key:"applyPropChanges",value:function(e,t){var n=e.resourceProvider,r=t.resourceProvider;n!==r&&(this.unsubscribeResourceProvider(n),this.subscribeResourceProvider(r))}},{key:"subscribeResourceProvider",value:function(e){e&&e.subscribe(this.subscriberKey,this.filterChange,this.filterError,this.filterInfo,void 0)}},{key:"unsubscribeResourceProvider",value:function(e){e&&e.unsubscribe(this.subscriberKey)}},{key:"render",value:function(){var t,n=this.props,r=n.createTeamPath,o=n.resourceProvider,i=n.presenceProvider,a=n.onSelection,s=n.query,c=n.target,l=n.position,u=n.zIndex,d=n.offsetX,f=n.offsetY,h=n.showTeamMentionsHighlight,g=this.state,E=g.visible,x=g.info,k=e(p).createElement(b.default,{resourceProvider:o,presenceProvider:i,onSelection:a,query:s,ref:this.handleMentionListRef,isTeamMentionHighlightEnabled:!!h,createTeamPath:r}),C=x&&!E?e(p).createElement(y.MentionPickerInfoStyle,null,e(p).createElement("p",null,x)):null;return l?(m.default("target, position",c,l),t=c?e(p).createElement(v.default,{target:c,relativePosition:l,zIndex:u,offsetX:d,offsetY:f},e(p).createElement("div",null,k,C)):null):t=e(p).createElement("div",null,k,C),e(p).createElement(y.MentionPickerStyle,{className:"ak-mention-picker",visible:E||x},t)}}]),r}(e(p).PureComponent);e(d)(x,"defaultProps",{onSelection:function(){},onOpen:function(){},onClose:function(){}});var k=f.default({})(x)})),r.register("eazrw",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("fjLyd"),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(t,"_").concat(e(i)())}})),r.register("eHdPm",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("l15hj"),d=r("61szk"),f=r("c6wVG");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"componentDidMount",value:function(){this.popup=document.createElement("div"),document.body.appendChild(this.popup),this.popup.style.position="absolute",this._applyAbsolutePosition(),this._renderContent()}},{key:"componentDidUpdate",value:function(){this._renderContent()}},{key:"componentWillUnmount",value:function(){this.popup&&(e(f).unmountComponentAtNode(this.popup),document.body.removeChild(this.popup))}},{key:"_applyBelowPosition",value:function(){var e=this.props.target&&document.getElementById(this.props.target);if(e){var t=e.getBoundingClientRect(),n=t.bottom+(this.props.offsetY||0),r=t.left+(this.props.offsetX||0);this.popup&&(this.popup.style.top="".concat(n,"px"),this.popup.style.bottom="",this.popup.style.left="".concat(r,"px"))}}},{key:"_applyAbovePosition",value:function(){var e=this.props.target&&document.getElementById(this.props.target);if(e){var t=e.getBoundingClientRect(),n=window.innerHeight-t.top+(this.props.offsetY||0),r=t.left+(this.props.offsetX||0);this.popup&&(this.popup.style.top="",this.popup.style.bottom="".concat(n,"px"),this.popup.style.left="".concat(r,"px"))}}},{key:"_applyAbsolutePosition",value:function(){if("above"===this.props.relativePosition)this._applyAbovePosition();else if("below"===this.props.relativePosition)this._applyBelowPosition();else{var e=this.props.target&&document.getElementById(this.props.target);if(e){var t=e.getBoundingClientRect(),n=window.innerHeight;t.top<n/2?this._applyBelowPosition():this._applyAbovePosition()}}this.props.zIndex&&this.popup&&(this.popup.style.zIndex="".concat(this.props.zIndex))}},{key:"_renderContent",value:function(){this.popup&&e(f).render(this.props.children,this.popup)}},{key:"render",value:function(){return e(d).createElement("div",null)}}]),r}(e(d).PureComponent);e(u)(h,"defaultProps",{relativePosition:"auto",offsetX:0,offsetY:0,zIndex:0})})),r.register("jLsyR",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("c5MYi"),h=r("eazrw"),g=r("3jlzh"),m=r("8lj16"),v=r("gU3fS"),b=r("5HNOt"),y=r("1OvM8");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function C(e,t){for(var n=[],r=0;r<e.length;r++){var o=k({},e[r]),i=t[o.id];i&&(o.presence=i),n.push(o)}return n}var S=function(t){e(c)(r,t);var n=E(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"selectNext",(function(){o.mentionListRef&&o.mentionListRef.selectNext()})),e(d)(e(s)(o),"selectPrevious",(function(){o.mentionListRef&&o.mentionListRef.selectPrevious()})),e(d)(e(s)(o),"selectIndex",(function(e,t){o.mentionListRef&&o.mentionListRef.selectIndex(e,t)})),e(d)(e(s)(o),"selectId",(function(e,t){o.mentionListRef&&o.mentionListRef.selectId(e,t)})),e(d)(e(s)(o),"chooseCurrentSelection",(function(){o.mentionListRef&&o.mentionListRef.chooseCurrentSelection()})),e(d)(e(s)(o),"mentionsCount",(function(){return o.mentionListRef?o.mentionListRef.mentionsCount():0})),e(d)(e(s)(o),"filterChange",(function(e){var t=function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];r.presence&&(t[r.id]=r.presence)}return t}(o.state.mentions);o.setState({resourceError:void 0,mentions:C(e,t)}),o.refreshPresences(e)})),e(d)(e(s)(o),"sendAnalytics",(function(e,t,n){e===y.SLI_EVENT_TYPE&&y.fireSliAnalyticsEvent(o.props)(t,n)})),e(d)(e(s)(o),"filterError",(function(e){g.default("ak-resourced-mentions-list._filterError",e),o.setState({resourceError:e})})),e(d)(e(s)(o),"presenceUpdate",(function(e){o.setState({mentions:C(o.state.mentions,e)})})),e(d)(e(s)(o),"notifySelection",(function(e){o.props.resourceProvider.recordMentionSelection(e),o.props.onSelection&&o.props.onSelection(e)})),e(d)(e(s)(o),"handleMentionListRef",(function(e){o.mentionListRef=e})),e(d)(e(s)(o),"closeHighlight",(function(){b.default.registerClosed()})),e(d)(e(s)(o),"mentionsHighlight",(function(){var t=o.state.mentions,n=o.props,r=n.isTeamMentionHighlightEnabled,i=n.createTeamPath;return b.default.isHighlightEnabled()&&r&&t&&t.length>0?e(f).createElement(v.default,{createTeamLink:i,onClose:o.closeHighlight}):null})),o.subscriberKey=h.default("ak-resourced-mention-list"),o.state={resourceError:void 0,mentions:[]},o.applyPropChanges({},t),o}return e(a)(r,[{key:"componentDidMount",value:function(){this.subscribeMentionProvider(this.props.resourceProvider),this.subscribePresenceProvider(this.props.presenceProvider)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.applyPropChanges(this.props,e)}},{key:"componentWillUnmount",value:function(){this.unsubscribeMentionProvider(this.props.resourceProvider),this.unsubscribePresenceProvider(this.props.presenceProvider)}},{key:"subscribeMentionProvider",value:function(e){e&&e.subscribe(this.subscriberKey,this.filterChange,this.filterError,void 0,void 0,this.sendAnalytics)}},{key:"subscribePresenceProvider",value:function(e){e&&e.subscribe(this.subscriberKey,this.presenceUpdate)}},{key:"unsubscribeMentionProvider",value:function(e){e&&e.unsubscribe(this.subscriberKey)}},{key:"unsubscribePresenceProvider",value:function(e){e&&e.unsubscribe(this.subscriberKey)}},{key:"applyPropChanges",value:function(e,t){var n=e.resourceProvider,r=e.presenceProvider,o=e.query,i=t.resourceProvider,a=t.presenceProvider,s=t.query,c=n!==i,l=!("string"!=typeof s||!i)&&(o!==s||c);c&&(this.unsubscribeMentionProvider(n),this.subscribeMentionProvider(i)),r!==a&&(this.unsubscribePresenceProvider(r),this.subscribePresenceProvider(a)),l&&i.filter(s)}},{key:"refreshPresences",value:function(e){if(this.props.presenceProvider){var t=e.map((function(e){return e.id}));this.props.presenceProvider.refreshPresence(t)}}},{key:"render",value:function(){var t=this.state,n=t.mentions,r=t.resourceError;return e(f).createElement(m.default,{initialHighlightElement:this.mentionsHighlight(),mentions:n,resourceError:r,onSelection:this.notifySelection,ref:this.handleMentionListRef})}}]),r}(e(f).PureComponent),T=p.default({})(S)})),r.register("8lj16",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("3jlzh"),h=r("5zTxn"),g=r("75uva"),m=r("5tAgO"),v=r("4YZRF"),b=r("iqsZy");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function E(e,t){for(var n=e.length,r=t;r<0&&n>0;)r+=n;return r%n}function x(e,t){return t&&t[e]&&t[e].id}var k=function(t){e(c)(r,t);var n=y(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"selectNext",(function(){var e=E(o.props.mentions,o.state.selectedIndex+1);o.selectIndex(e)})),e(d)(e(s)(o),"selectPrevious",(function(){var e=E(o.props.mentions,o.state.selectedIndex-1);o.selectIndex(e)})),e(d)(e(s)(o),"selectIndex",(function(e,t){var n=o.props.mentions;o.setState({selectedIndex:e,selectedKey:x(e,n)},t)})),e(d)(e(s)(o),"selectId",(function(e,t){var n=function(e,t){var n;if(t){for(n=0;n<t.length&&t[n].id!==e;)n++;n===t.length&&(n=void 0)}return n}(e,o.props.mentions);void 0!==n&&o.setState({selectedIndex:n,selectedKey:e},t)})),e(d)(e(s)(o),"chooseCurrentSelection",(function(){var e=o.props,t=e.mentions,n=e.onSelection,r=o.state.selectedIndex,i=t&&t[r||0];p.default("ak-mention-list.chooseCurrentSelection",i),n&&i&&n(i)})),e(d)(e(s)(o),"mentionsCount",(function(){var e=o.props.mentions;return e&&e.length||0})),e(d)(e(s)(o),"selectIndexOnHover",(function(e,t){if(t){var n=h.mouseLocation(t);h.actualMouseMove(o.lastMousePosition,n)&&o.selectId(e.id),o.lastMousePosition=n}})),e(d)(e(s)(o),"itemSelected",(function(e){o.selectId(e.id,(function(){o.chooseCurrentSelection()}))})),e(d)(e(s)(o),"handleScrollableRef",(function(e){o.scrollable=e})),o.setDefaultSelectionState(),o}return e(a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.mentions,n=this.state.selectedKey;if(t){if(!n)return;for(var r=0;r<t.length;r++)if(n===t[r].id)return void this.setState({selectedIndex:r});this.setDefaultSelectionState()}}},{key:"componentDidUpdate",value:function(){var e=this.props.mentions,t=this.state.selectedIndex;e&&e[t]&&this.revealItem(e[t].id)}},{key:"revealItem",value:function(e){var t=this.items[e];t&&this.scrollable&&this.scrollable.reveal(t)}},{key:"setDefaultSelectionState",value:function(){this.state={selectedIndex:0,selectedKey:void 0}}},{key:"renderItems",value:function(){var t=this,n=this.props.mentions;return n&&n.length?(this.items={},e(f).createElement("div",null,this.props.initialHighlightElement,n.map((function(n,r){var o=n.id;return e(f).createElement(g.default,{mention:n,selected:t.isSelectedMention(n,r),key:o,onMouseMove:t.selectIndexOnHover,onSelection:t.itemSelected,ref:function(e){e?t.items[o]=e:delete t.items[o]}})})))):null}},{key:"isSelectedMention",value:function(e,t){var n=this.state.selectedKey;return n?n===e.id:0===t}},{key:"render",value:function(){var t,n,r=this.props,o=r.mentions,i=r.resourceError,a=o&&o.length;return i&&!a?t=e(f).createElement(m.default,{error:i}):a&&(n=e(f).createElement(v.default,{ref:this.handleScrollableRef},this.renderItems())),e(f).createElement(b.MentionListStyle,{empty:!a&&!i},t,n)}}]),r}(e(f).PureComponent)})),r.register("5zTxn",(function(e,n){function r(e){return{x:e.clientX,y:e.clientY}}function o(e,t){return!e||e.x!==t.x||e.y!==t.y}function i(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}t(e.exports,"mouseLocation",(function(){return r})),t(e.exports,"actualMouseMove",(function(){return o})),t(e.exports,"leftClick",(function(){return i}))})),r.register("75uva",(function(n,o){t(n.exports,"default",(function(){return O}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("EwJf3"),p=r("aYKWM"),h=r("xZCY5"),g=r("fXlt9"),m=r("EjwF2"),v=r("61szk"),b=r("5bcCK"),y=r("jYh36"),E=r("5zTxn"),x=r("aQyko"),k=r("gsr7B"),C=r("kJEGT"),S=r("Mr6YQ");function T(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var O=function(t){e(c)(r,t);var n=T(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onMentionSelected",(function(e){E.leftClick(e)&&t.props.onSelection&&(e.preventDefault(),t.props.onSelection(t.props.mention,e))})),e(d)(e(s)(t),"onMentionMenuItemMouseMove",(function(e){t.props.onMouseMove&&t.props.onMouseMove(t.props.mention,e)})),e(d)(e(s)(t),"onMentionMenuItemMouseEnter",(function(e){t.props.onMouseEnter&&t.props.onMouseEnter(t.props.mention,e)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.mention,r=t.selected,o=n.id,i=n.highlight,a=n.avatarUrl,s=n.presence,c=n.name,l=n.mentionName,u=n.lozenge,d=n.accessLevel,E=s||{},T=E.status,O=E.time,w=b.isRestricted(d),N=i&&i.name,P=r?m.N30:void 0;return e(v).createElement(k.MentionItemStyle,{selected:r,onMouseDown:this.onMentionSelected,onMouseMove:this.onMentionMenuItemMouseMove,onMouseEnter:this.onMentionMenuItemMouseEnter,"data-mention-id":o,"data-mention-name":l},e(v).createElement(k.RowStyle,null,e(v).createElement(k.AvatarStyle,{restricted:w},e(v).createElement(p.default,{src:a,size:"medium",presence:T,borderColor:P})),e(v).createElement(k.NameSectionStyle,{restricted:w},C.renderHighlight(k.FullNameStyle,c,N),e(v).createElement(S.default,{mention:n})),e(v).createElement(k.InfoSectionStyle,{restricted:w},function(t){if("string"==typeof t)return e(v).createElement(g.default,null,t);if("object"===e(f)(t)){var n=t.appearance,r=t.text;return e(v).createElement(g.default,{appearance:n},r)}return null}(u),function(t){return t?e(v).createElement(k.TimeStyle,null,t):null}(O)),w?e(v).createElement(x.NoAccessTooltip,{name:c},e(v).createElement(k.AccessSectionStyle,null,e(v).createElement(y.NoAccessLabel,null,(function(t){return e(v).createElement(e(h),{label:t})})))):null))}}]),r}(e(v).PureComponent)})),r.register("xZCY5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M12.02 8h-.04A1.98 1.98 0 0010 9.98V11h1V9.99a.99.99 0 01.99-.99h.02a.99.99 0 01.99.99V11h1V9.98A1.98 1.98 0 0012.02 8M10 11h1v1h-1zm3 0h1v1h-1zm0 1h-3a1 1 0 00-1 1v2.001a1 1 0 00.991.999h4.018a.992.992 0 00.991-.999V13a1 1 0 00-1-1h-1z" fill="inherit"/></g></svg>'},e));a.displayName="LockCircleIcon";var s=a;e.exports.default=s})),r.register("gsr7B",(function(n,o){t(n.exports,"RowStyle",(function(){return m})),t(n.exports,"AvatarStyle",(function(){return v})),t(n.exports,"NameSectionStyle",(function(){return b})),t(n.exports,"FullNameStyle",(function(){return y})),t(n.exports,"InfoSectionStyle",(function(){return E})),t(n.exports,"TimeStyle",(function(){return x})),t(n.exports,"MentionItemStyle",(function(){return k})),t(n.exports,"AccessSectionStyle",(function(){return C}));var i,a,s,c,l,u,d,f,p=r("lhkMJ"),h=r("SssiD"),g=r("EjwF2"),m=h.default.div(i||(i=e(p)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px 14px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"]))),v=h.default.span(a||(a=e(p)(["\n  position: relative;\n  flex: initial;\n  opacity: ",";\n"])),(function(e){return e.restricted?"0.5":"inherit"})),b=h.default.div(s||(s=e(p)(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  opacity: ",";\n"])),(function(e){return e.restricted?"0.5":"inherit"})),y=h.default.span(c||(c=e(p)(["\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  color: ",";\n"])),g.N900),E=h.default.div(l||(l=e(p)(["\n  display: flex;\n  flex-direction: column;\n  text-align: right;\n  opacity: ",";\n\n  & {\n    /* Lozenge */\n    & > span {\n      margin-bottom: 2px;\n    }\n  }\n"])),(function(e){return e.restricted?"0.5":"inherit"})),x=h.default.div(u||(u=e(p)(["\n  margin-left: 20px;\n  flex: none;\n  color: ",";\n  font-size: 12px;\n"])),g.N100),k=h.default.div(d||(d=e(p)(["\n  background-color: ",";\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  height: 48px;\n  line-height: 1.2;\n  cursor: pointer;\n"])),(function(e){return e.selected?g.N30:"transparent"})),C=h.default.div(f||(f=e(p)(["\n  padding-left: 5px;\n  color: ",";\n"])),g.N500)})),r.register("kJEGT",(function(n,o){t(n.exports,"renderHighlight",(function(){return a}));var i=r("61szk");function a(t,n,r,o){if(!n)return null;var a=[],s=o||"",c=0;if(r){for(var l=0;l<r.length;l++){var u=r[l],d=u.start,f=u.end;d>c&&a.push({value:n.substring(c,d),matches:!1}),a.push({value:n.substring(d,f+1),matches:!0}),c=f+1}c<n.length&&a.push({value:n.substring(c,n.length),matches:!1})}else a.push({value:n,matches:!1});return e(i).createElement(t,null,s,a.map((function(t,n){return t.matches?e(i).createElement("b",{key:n},t.value):t.value})))}})),r.register("Mr6YQ",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("5bcCK"),f=r("2GuOO"),p=r("e2mAY");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var g=function(t){e(s)(r,t);var n=h(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){return this.props.mention.userType===d.UserType[d.UserType.TEAM]?e(u).createElement(p.default,{mention:this.props.mention}):e(u).createElement(f.default,{mention:this.props.mention})}}]),r}(e(u).PureComponent)})),r.register("2GuOO",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("kJEGT"),f=r("kAshY");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var e=this.props.mention,t=e.highlight,n=e.name,r=e.nickname,o=t&&t.nickname;return n===r?null:d.renderHighlight(f.DescriptionBylineStyle,r,o,"@")}}]),r}(e(u).PureComponent)})),r.register("kAshY",(function(n,o){t(n.exports,"DescriptionBylineStyle",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("EjwF2"),l=s.default.span(i||(i=e(a)(["\n  color: ",";\n  font-size: 12px;\n\n  margin-top: 2px;\n\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"])),c.N100)})),r.register("e2mAY",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("7RIig"),g=r("kAshY"),m=r("5duA7");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var b=function(t){e(l)(r,t);var n=v(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return t=n.call.apply(n,[this].concat(s)),e(f)(e(c)(t),"renderByline",(function(n,r){return r?n>50?t.getBylineComponent(e(p).createElement(h.FormattedMessage,m.messages.plus50MembersWithYou)):t.getBylineComponent(e(p).createElement(h.FormattedMessage,e(i)({},m.messages.memberCountWithYou,{values:{0:n}}))):n>50?t.getBylineComponent(e(p).createElement(h.FormattedMessage,m.messages.plus50MembersWithoutYou)):t.getBylineComponent(e(p).createElement(h.FormattedMessage,e(i)({},m.messages.memberCountWithoutYou,{values:{0:n}})))})),e(f)(e(c)(t),"getBylineComponent",(function(t){return e(p).createElement(g.DescriptionBylineStyle,null,t)})),t}return e(s)(r,[{key:"render",value:function(){var e=this.props.mention.context;if(!e)return null;var t=e.includesYou,n=e.memberCount;return this.renderByline(n,t)}}]),r}(e(p).PureComponent)})),r.register("5tAgO",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("jYh36"),f=r("4xTWj"),p=r("bbKTd");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var g={401:d.LoginAgain,403:d.DifferentText,default:d.DefaultAdvisedAction},m=function(t){e(s)(r,t);var n=h(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props.error,n=r.getAdvisedActionMessage(t);return e(u).createElement(p.MentionListErrorStyle,null,e(u).createElement(f.GenericErrorIllustration,null),e(u).createElement(p.MentionListErrorHeadlineStyle,null,e(u).createElement(d.DefaultHeadline,null)),e(u).createElement(p.MentionListAdviceStyle,null,e(u).createElement(n,null)))}}],[{key:"getAdvisedActionMessage",value:function(e){return e&&e.hasOwnProperty("statusCode")&&g[e.statusCode.toString()]||g.default}}]),r}(e(u).PureComponent)})),r.register("4xTWj",(function(n,o){t(n.exports,"GenericErrorIllustration",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("bbKTd");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var p=function(t){e(s)(r,t);var n=f(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){return e(u).createElement(d.GenericErrorVisualStyle,null,e(u).createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 163.3 212","aria-labelledby":"title"},e(u).createElement("defs",null,e(u).createElement("style",{dangerouslySetInnerHTML:{__html:".cls-1{fill:url(#linear-gradient);}.cls-2,.cls-5{opacity:0.6;}.cls-3{fill:#c1c7d0;}.cls-4{fill:#b3bac5;}.cls-5{isolation:isolate;}"}}),e(u).createElement("linearGradient",{id:"linear-gradient",x1:"25.54",y1:"806.64",x2:"137.75",y2:"694.44",gradientTransform:"translate(0 -578)",gradientUnits:"userSpaceOnUse"},e(u).createElement("stop",{offset:0,stopColor:"#c1c7d0"}),e(u).createElement("stop",{offset:"0.24",stopColor:"#c4cad2",stopOpacity:"0.97"}),e(u).createElement("stop",{offset:"0.5",stopColor:"#cdd1d9",stopOpacity:"0.89"}),e(u).createElement("stop",{offset:"0.78",stopColor:"#dcdee4",stopOpacity:"0.75"}),e(u).createElement("stop",{offset:1,stopColor:"#ebecf0",stopOpacity:"0.6"}))),e(u).createElement("title",null,this.props.title?this.props.title:"Generic Error"),e(u).createElement("g",{"data-name":"Layer 2"},e(u).createElement("g",{"data-name":"Layer 1-2"},e(u).createElement("path",{className:"cls-1",d:"M94.8,74.2l66.4,115.1a15.16,15.16,0,0,1-5.5,20.7,15.4,15.4,0,0,1-7.6,2H15.2A15.19,15.19,0,0,1,0,196.8a15.4,15.4,0,0,1,2-7.6l66.5-115a15.21,15.21,0,0,1,20.7-5.6A15.81,15.81,0,0,1,94.8,74.2Zm-7.6,83.5,2.9-44.3a9.26,9.26,0,0,0-8.6-9.8h-.6a9.18,9.18,0,0,0-9.2,9.2v.6l2.9,44.3a6.33,6.33,0,0,0,6.3,5.9h0A6.26,6.26,0,0,0,87.2,157.7ZM71.4,181.2a9.5,9.5,0,0,0,9.4,9.6h.9a9.79,9.79,0,0,0,8.8-10.5,9.69,9.69,0,0,0-9.7-8.8A9.58,9.58,0,0,0,71.4,181.2Z"}),e(u).createElement("g",{className:"cls-2"},e(u).createElement("path",{className:"cls-3",d:"M92.7,27.2,85.3.4a.57.57,0,0,0-.7-.4c-.2.1-.4.2-.4.5L79.5,25.6l-5.8-1.1c-.3-.1-.6.2-.7.5v.3L80.3,52a.75.75,0,0,0,.7.5.82.82,0,0,0,.5-.5l4.7-25.1,5.8,1c.3.1.6-.2.7-.5Z"}),e(u).createElement("path",{className:"cls-3",d:"M66.1,41.8,55.2,33.2a.3.3,0,0,0-.4,0,.19.19,0,0,0,0,.3L60.4,45l-2.7,1.3c-.1.1-.2.2-.1.4a.1.1,0,0,0,.1.1l10.9,8.5a.3.3,0,0,0,.4,0,.19.19,0,0,0,0-.3L63.4,43.6l2.7-1.3a.33.33,0,0,0,0-.5Z"})),e(u).createElement("g",{className:"cls-2"},e(u).createElement("path",{className:"cls-4",d:"M102.1,56.8a1.42,1.42,0,0,1-.6-.2,1,1,0,0,1-.3-1.2c-.2-.8-2.3-2.8-3.5-4.1-3-3-4.9-5-3.8-6.5s3.6-.2,7.3,1.7a28.41,28.41,0,0,0,4.5,2,21.58,21.58,0,0,0-3.3-3.6c-3-3-4.9-5-3.8-6.5s3.6-.2,7.4,1.7a27.65,27.65,0,0,0,4.4,2,21.58,21.58,0,0,0-3.3-3.6c-3-3-4.9-5-3.8-6.5s3.6-.2,7.3,1.7c1.6.8,4.2,2.1,5,2.1a.91.91,0,0,1,1.2,0,1.08,1.08,0,0,1,.2,1.4c-1.1,1.5-3.6.2-7.3-1.7a27.65,27.65,0,0,0-4.4-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5s-3.6.2-7.3-1.7a28.41,28.41,0,0,0-4.5-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5s-3.6.2-7.3-1.7a28.41,28.41,0,0,0-4.5-2,21.58,21.58,0,0,0,3.3,3.6c3,3,4.9,5,3.8,6.5A1.8,1.8,0,0,1,102.1,56.8Z"})),e(u).createElement("g",{className:"cls-5"},e(u).createElement("path",{className:"cls-4",d:"M107.7,71.1a1.05,1.05,0,0,1-.9-.5c-1-1.9-2.2-4-.9-5.2s3.3.2,5.5,1.6a19.31,19.31,0,0,0,2.9,1.7,15.89,15.89,0,0,0-1.4-3.1c-1.3-2.3-2.5-4.4-1.1-5.6s3.3.2,5.5,1.6c1,.6,2.5,1.7,3.1,1.7a1,1,0,0,1,1.3.1,1,1,0,0,1-.1,1.4c-1.3,1.2-3.3-.2-5.5-1.6a19.31,19.31,0,0,0-2.9-1.7,13.64,13.64,0,0,0,1.4,3.1c1.3,2.3,2.4,4.4,1.1,5.6s-3.3-.2-5.5-1.6a19.31,19.31,0,0,0-2.9-1.7,13.07,13.07,0,0,0,1.2,2.7,1,1,0,0,1-.4,1.4A.6.6,0,0,1,107.7,71.1Zm12.5-7.6Z"})),e(u).createElement("g",{className:"cls-5"},e(u).createElement("path",{className:"cls-4",d:"M53.4,68.1a2,2,0,0,1-.7-.1c-1.6-.7-1.2-3.1-.8-5.6a10.87,10.87,0,0,0,.3-3.4A15,15,0,0,0,50,61.6c-1.5,2.1-3,4.1-4.6,3.4a1,1,0,0,1-.5-1.3,1,1,0,0,1,1.2-.6,11.23,11.23,0,0,0,2.3-2.7c1.5-2.1,3-4.1,4.7-3.4s1.3,3.1.8,5.7a13.86,13.86,0,0,0-.3,3.3,11.82,11.82,0,0,0,2.1-2.6c1.5-2.1,3-4.1,4.7-3.4s1.2,3.1.9,5.2a1,1,0,1,1-1.9-.3,14.28,14.28,0,0,0,.3-2.9,15,15,0,0,0-2.2,2.6C56,66.4,54.7,68.1,53.4,68.1Z"}))))))}}]),r}(e(u).PureComponent)})),r.register("bbKTd",(function(n,o){t(n.exports,"MentionListErrorStyle",(function(){return h})),t(n.exports,"GenericErrorVisualStyle",(function(){return g})),t(n.exports,"MentionListErrorHeadlineStyle",(function(){return m})),t(n.exports,"MentionListAdviceStyle",(function(){return v}));var i,a,s,c,l=r("lhkMJ"),u=r("SssiD"),d=r("gllJe"),f=r("EjwF2"),p=r("f9Iu8"),h=u.default.div(i||(i=e(l)(["\n  align-items: center;\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  background-color: white;\n  color: ",";\n  border: 1px solid #fff;\n  border-radius: ","px;\n"])),f.N500,d.borderRadius()),g=u.default.div(a||(a=e(l)(["\n  height: 108px;\n  margin-bottom: 8px;\n  margin-top: 36px;\n  width: 83px;\n"]))),m=u.default.div(s||(s=e(l)(["\n  ",";\n  margin-bottom: 8px;\n"])),p.h400()),v=u.default.div(c||(c=e(l)(["\n  margin-bottom: 48px;\n"])))})),r.register("gllJe",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i})),t(e.exports,"fontSize",(function(){return a}));r("aYdlt"),r("EjwF2");var o=function(){return 3},i=function(){return 8},a=function(){return 14}})),r.register("f9Iu8",(function(n,o){t(n.exports,"h400",(function(){return p}));var i=r("l15hj"),a=r("aYdlt"),s=r("EjwF2"),c=r("gllJe");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(e,t){return{fontSize:"".concat(e/c.fontSize(),"em"),fontStyle:"inherit",lineHeight:t/e}},f={size:14,lineHeight:16},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(f.size,f.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:600,letterSpacing:"-0.003em",marginTop:"".concat(2*c.gridSize(),"px")})}})),r.register("4YZRF",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("c6wVG"),h=r("jMHO1");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var m=function(t){e(c)(r,t);var n=g(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"reveal",(function(e){if(e&&t.scrollableDiv){var n=p.findDOMNode(e),r=t.scrollableDiv.getBoundingClientRect(),o=n.getBoundingClientRect();o.top<r.top?t.scrollableDiv.scrollTop+=o.top-r.top:o.bottom>r.bottom&&(t.scrollableDiv.scrollTop+=o.bottom-r.bottom)}})),e(d)(e(s)(t),"handleRef",(function(e){t.scrollableDiv=e})),t}return e(a)(r,[{key:"render",value:function(){return e(f).createElement(h.ScrollableStyle,{innerRef:this.handleRef},this.props.children)}}]),r}(e(f).PureComponent)})),r.register("jMHO1",(function(n,o){t(n.exports,"ScrollableStyle",(function(){return u}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("gllJe"),l=r("9V1th"),u=s.default.div(i||(i=e(a)(["\n  display: block;\n  overflow-x: hidden;\n  overflow-y: auto;\n\n  padding: 4px 0;\n  margin: 0;\n\n  background: white;\n  max-height: ",";\n\n  border-radius: ","px;\n"])),l.scrollableMaxHeight,c.borderRadius())})),r.register("9V1th",(function(e,n){t(e.exports,"noDialogContainerBorderColor",(function(){return i})),t(e.exports,"noDialogContainerBorderRadius",(function(){return a})),t(e.exports,"noDialogContainerBoxShadow",(function(){return s})),t(e.exports,"scrollableMaxHeight",(function(){return c})),t(e.exports,"mentionListWidth",(function(){return l}));var o=r("gllJe"),i=r("EjwF2").N40,a="".concat(o.borderRadius(),"px"),s="0 4px 8px -2px rgba(9, 30, 66, 0.25), 0 0 1px rgba(9, 30, 66, 0.31)",c="264px",l="340px"})),r.register("iqsZy",(function(n,o){t(n.exports,"MentionListStyle",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("9V1th"),l=s.default.div(i||(i=e(a)(["\n  display: ",";\n\n  /* list style */\n  width: ",";\n  color: #333;\n\n  border: 1px solid ",";\n  border-radius: ",";\n  box-shadow: ",";\n"])),(function(e){return e.empty?"none":"block"}),c.mentionListWidth,c.noDialogContainerBorderColor,c.noDialogContainerBorderRadius,c.noDialogContainerBoxShadow)})),r.register("gU3fS",(function(n,o){t(n.exports,"default",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("c5MYi");r("7qCSW");var h=r("eWy3h"),g=r("eZURw"),m=r("6fJIW"),v=r("5HNOt"),b=r("1OvM8"),y=r("jYh36"),E=r("5qesv");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var k=function(t){e(c)(r,t);var n=x(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"onCreateTeamLinkClick",(function(){o.setState({isHighlightHidden:!0});var e=o.props.onCreateTeamLinkClick;v.default.registerCreateLinkClick(),e&&e()})),e(d)(e(s)(o),"preventClickOnCard",(function(e){o.elCloseWrapper.current&&o.elCloseWrapper.current.contains(e.target)&&o.onCloseClick(),o.elCreateTeamWrapper.current&&o.elCreateTeamWrapper.current.contains(e.target)&&o.onCreateTeamLinkClick(),e.stopPropagation(),e.stopImmediatePropagation()})),e(d)(e(s)(o),"onCloseClick",(function(){o.setState({isHighlightHidden:!0}),o.props.onClose()})),o.elWrapper=e(f).createRef(),o.elCloseWrapper=e(f).createRef(),o.elCreateTeamWrapper=e(f).createRef(),o.state={isHighlightHidden:!1},o}return e(a)(r,[{key:"componentDidMount",value:function(){var e=this.props.onViewed;this.addEventHandler(),v.default.isHighlightEnabled()?(v.default.registerRender(),e&&e()):this.setState({isHighlightHidden:!0})}},{key:"componentWillUnmount",value:function(){this.removeEventHandler()}},{key:"addEventHandler",value:function(){this.elWrapper.current&&this.elWrapper.current.addEventListener("click",this.preventClickOnCard)}},{key:"removeEventHandler",value:function(){this.elWrapper.current&&this.elWrapper.current.removeEventListener("click",this.preventClickOnCard)}},{key:"render",value:function(){var t=this,n=this.props.createTeamLink;return this.state.isHighlightHidden?null:e(f).createElement("div",{ref:this.elWrapper},e(f).createElement(E.Card,null,e(f).createElement(E.Content,null,e(f).createElement(E.Aside,null,e(f).createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyBoZWlnaHQ9IjEyOCIgdmlld0JveD0iMCAwIDEyOCAxMjgiIHdpZHRoPSIxMjgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48Y2lyY2xlIGN4PSI2NCIgY3k9IjY0IiBmaWxsPSIjNTI0M2FhIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHI9IjY0Ii8+PHBhdGggZD0ibTgwIDY0Yy02LjYyNzQxNyAwLTEyLTUuMzcyNTgzLTEyLTEyczUuMzcyNTgzLTEyIDEyLTEyIDEyIDUuMzcyNTgzIDEyIDEyLTUuMzcyNTgzIDEyLTEyIDEyem0tMzItMTJjLTYuNjI3NDE3IDAtMTItNS4zNzI1ODMtMTItMTJzNS4zNzI1ODMtMTIgMTItMTIgMTIgNS4zNzI1ODMgMTIgMTItNS4zNzI1ODMgMTItMTIgMTJ6bTEyIDI0YzAtNC40MiAzLjU0OC04IDgtOGgyNGM0LjQyIDAgOCAzLjU0IDggOHYxNC45MmMwIDEyLjEwOC00MCAxMi4xMDgtNDAgMHptOC0xMmgtLjAxMmMtMy4xODQzNTM3LjAwNDI0LTYuMjM2NTQxIDEuMjczNTYxNS04LjQ4NDg0MjcgMy41Mjg2MTQ5LTIuMjQ4MzAxOCAyLjI1NTA1MzQtMy41MDg0NjU2IDUuMzExMDMzLTMuNTAzMTU3MyA4LjQ5NTM4NTF2MTEuMjI4Yy0xMS43ODQgMi4xMzYtMjgtLjI1Mi0yOC03LjkzNnYtMTUuMzA0YzAtNC40MjQgMy41NDgtOC4wMTIgOC04LjAxMmgyNGMyLjEyMjcwODYtLjAwMzE5MTIgNC4xNTkzOTQ2LjgzODYzODYgNS42NjAzNzggMi4zMzk2MjJzMi4zNDI4MTMyIDMuNTM3NjY5NCAyLjMzOTYyMiA1LjY2MDM3OHoiIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iLjk1Ii8+PC9nPjwvc3ZnPg==",height:32})),e(f).createElement(E.Section,null,e(f).createElement(E.Heading,null,e(f).createElement(E.Title,null,e(f).createElement(y.TeamMentionHighlightTitle,null))),e(f).createElement(E.Body,null,e(f).createElement(y.TeamMentionHighlightDescription,null,(function(r){return e(f).createElement("div",null,r,e(f).createElement("span",{ref:t.elCreateTeamWrapper},e(f).createElement(y.TeamMentionHighlightDescriptionLink,null,(function(t){return e(f).createElement("a",{href:n,target:"_blank"}," ",t)}))))})))),e(f).createElement(E.Actions,null,e(f).createElement("div",{ref:this.elCloseWrapper},e(f).createElement(y.TeamMentionHighlightCloseTooltip,null,(function(t){return e(f).createElement(m.default,{content:t,position:"bottom"},e(f).createElement(h.default,{appearance:"subtle",iconBefore:e(f).createElement(e(g),{label:"Close",size:"medium"}),spacing:"none"}))})))))))}}]),r}(e(f).Component);e(d)(k,"defaultProps",{createTeamLink:"/people/search#createTeam"});var C=p.default({onClose:function(e){b.fireAnalyticsTeamMentionHighlightEvent(e)(b.ComponentNames.TEAM_MENTION_HIGHLIGHT,b.Actions.CLOSED,b.ComponentNames.MENTION,"closeButton")},onCreateTeamLinkClick:function(e){b.fireAnalyticsTeamMentionHighlightEvent(e)(b.ComponentNames.TEAM_MENTION_HIGHLIGHT,b.Actions.CLICKED,b.ComponentNames.MENTION,"createTeamLink")},onViewed:function(e){b.fireAnalyticsTeamMentionHighlightEvent(e)(b.ComponentNames.TEAM_MENTION_HIGHLIGHT,b.Actions.VIEWED,b.ComponentNames.MENTION,void 0,v.default.getSeenCount())}})(k)})),r.register("7qCSW",(function(e,n){t(e.exports,"default",(function(){return r("eWy3h").default}));r("eWy3h")})),r.register("eWy3h",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("bRWI2"),l=r("61szk");r("1qzjD");var u=r("iotMn"),d=r("hKZre"),f=r("aEFLd"),p=r("a4QY7"),h=r("6TLPG");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,s=e.isHover,c=void 0!==s&&s,l=e.isSelected,u=void 0!==l&&l,d=e.isLoading,f=void 0!==d&&d;return n?"disabled":u&&a?"focusSelected":u?"selected":!f&&o?"active":!f&&c?"hover":a?"focus":"default"}var b={isHover:!1,isActive:!1,isFocus:!1},y=e(l).memo(e(l).forwardRef((function(t,n){var r=t.appearance,o=void 0===r?"default":r,s=t.autoFocus,g=void 0!==s&&s,y=t.isDisabled,E=void 0!==y&&y,x=t.isSelected,k=void 0!==x&&x,C=t.shouldFitContainer,S=void 0!==C&&C,T=t.spacing,O=void 0===T?"default":T,w=t.isLoading,N=void 0!==w&&w,P=t.onMouseEnter,A=t.onMouseLeave,I=t.onMouseDown,D=t.onMouseUp,R=t.onFocus,M=t.onBlur,_=t.theme,j=void 0===_?h.defaultThemeFn:_,B=m({appearance:o,autoFocus:g,isDisabled:E,isSelected:k,shouldFitContainer:S,spacing:O},e(c)(t,["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"])),L=l.useState(b),F=e(a)(L,2),z=F[0],W=F[1],U=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isHover:!0})})),P&&P(e)}),[P]),H=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isHover:!1,isActive:!1})})),A&&A(e)}),[A]),V=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isActive:!0})})),I&&I(e)}),[I]),K=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isActive:!1})})),D&&D(e)}),[D]),G=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isFocus:!0})})),R&&R(e)}),[R]),J=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isFocus:!1})})),M&&M(e)}),[M]);return e(l).createElement(h.default.Provider,{value:j},e(l).createElement(u.default.Consumer,null,(function(t){var r=t.mode;return e(l).createElement(h.default.Consumer,e(i)({mode:r,state:v(m(m({},z),{},{isLoading:N,isSelected:B.isSelected,isDisabled:B.isDisabled})),iconIsOnlyChild:f.default(B),isLoading:N},B),(function(t){var r=t.buttonStyles;return e(l).createElement(d.default,e(i)({},B,{ref:n,overlay:N?e(l).createElement(p.default,B):null,onMouseEnter:U,onMouseLeave:H,onMouseDown:V,onMouseUp:K,onFocus:G,onBlur:J,buttonCss:h.getSpecifiers(r)}))}))})))})));y.displayName="CustomThemeButton";var E=y})),r.register("hKZre",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("jgze0"),a=r("bRWI2"),s=r("61szk"),c=r("4JuWt"),l=r("ljvNB"),u=r("8kTdg"),d=r("iVCh6"),f=r("9LVj4");function p(){}var h={"> *":{pointerEvents:"none"}},g=e(s).forwardRef((function(t,n){t.appearance;var r=t.buttonCss,o=t.spacing,g=void 0===o?"default":o,m=t.autoFocus,v=void 0!==m&&m,b=t.isDisabled,y=void 0!==b&&b,E=(t.shouldFitContainer,t.isSelected,t.iconBefore),x=t.iconAfter,k=t.children,C=t.className,S=t.href,T=t.overlay,O=t.tabIndex,w=void 0===O?0:O,N=t.type,P=void 0===N?S?void 0:"button":N,A=t.onMouseDown,I=void 0===A?p:A,D=t.onClick,R=void 0===D?p:D,M=t.component,_=void 0===M?S?"a":"button":M,j=t.testId,B=t.analyticsContext,L=e(a)(t,["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","analyticsContext"]),F=s.useRef(),z=s.useCallback((function(e){F.current=e,null!=n&&("function"!=typeof n?n.current=e:n(e))}),[F,n]);u.default(F,v);var W=l.usePlatformLeafEventHandler({fn:R,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.1.1",analyticsData:B}),U=s.useCallback((function(e){e.preventDefault(),I(e)}),[I]);s.useEffect((function(){var e=F.current;y&&e&&e===document.activeElement&&e.blur()}),[y]);var H=Boolean(T),V=f.getFadingCss({hasOverlay:H}),K=!y&&!H;return c.jsx(_,e(i)({},L,{css:[r,K?null:h],className:C,ref:z,onClick:W,onMouseDown:U,disabled:y,href:K?S:void 0,"data-has-overlay":!!H||void 0,"data-testid":j,type:P,tabIndex:y?-1:w},d.default({isInteractive:K})),E?c.jsx("span",{css:[V,f.getIconStyle({spacing:g})]},E):null,k?c.jsx("span",{css:[V,f.getContentStyle({spacing:g})]},k):null,x?c.jsx("span",{css:[V,f.getIconStyle({spacing:g})]},x):null,T?c.jsx("span",{css:f.overlayCss},T):null)}))})),r.register("iVCh6",(function(e,n){function r(e){e.preventDefault(),e.stopPropagation()}t(e.exports,"default",(function(){return s}));function o(e){9!==e.keyCode&&r(e)}var i={onMouseDownCapture:r,onMouseUpCapture:r,onKeyDownCapture:o,onKeyUpCapture:o,onTouchStartCapture:r,onTouchEndCapture:r,onPointerDownCapture:r,onPointerUpCapture:r,onClickCapture:r,onClick:r},a={};function s(e){return e.isInteractive?a:i}})),r.register("9LVj4",(function(n,o){t(n.exports,"getCss",(function(){return x})),t(n.exports,"getIconStyle",(function(){return k})),t(n.exports,"getContentStyle",(function(){return C})),t(n.exports,"getFadingCss",(function(){return S})),t(n.exports,"overlayCss",(function(){return T}));var i=r("l15hj"),a=r("gllJe"),s=r("9YxE5");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=a.borderRadius(),d=a.gridSize(),f=a.fontSize(),p={default:"".concat(4*d/f,"em"),compact:"".concat(3*d/f,"em"),none:"auto"},h={default:p.default,compact:p.compact,none:"inherit"},g={default:"0 ".concat(d+d/4,"px"),compact:"0 ".concat(d+d/4,"px"),none:"0"},m={compact:"0 ".concat(d/4,"px"),default:"0 ".concat(d/4,"px"),none:"0"},v={default:"middle",compact:"middle",none:"baseline"},b={content:"0 ".concat(d/4,"px"),icon:"0 ".concat(d/4,"px")};function y(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function E(e){var t=e.appearance,n=e.key,r=e.mode;return{background:y({group:s.default.background[t],key:n,mode:r}),color:"".concat(y({group:s.default.color[t],key:n,mode:r})," !important")}}function x(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,c=E({appearance:t,key:o?"selected":"default",mode:r});return l(l({alignItems:"baseline",borderWidth:0,borderRadius:u,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:p[n],lineHeight:h[n],padding:a?m[n]:g[n],verticalAlign:v[n],width:i?"100%":"auto",justifyContent:"center","&:visited":l({},c),"&:hover":l(l({},E({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:focus":l(l({},E({appearance:t,key:o?"focusSelected":"focus",mode:r})),{},{boxShadow:"0 0 0 2px ".concat(s.default.boxShadowColor[t].focus[r]),transitionDuration:"0s, 0.2s",outline:"none"}),"&:active":l(l({},E({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':l(l({},E({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":l(l({},E({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':l({},E({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}function k(e){return{alignSelf:"center",display:"flex",flexGrow:0,flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===e.spacing?0:b.icon}}function C(e){return{margin:"none"===e.spacing?0:b.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}function S(e){return{transition:"opacity 0.3s",opacity:e.hasOverlay?0:1}}var T={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}})),r.register("9YxE5",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("EjwF2"),i=r("aYdlt"),a="rgba(179, 212, 255, 0.6)",s={background:{default:{default:{light:i.default("color.background.subtleNeutral.resting",o.N20A),dark:i.default("color.background.subtleNeutral.resting",o.DN70)},hover:{light:i.default("color.background.subtleNeutral.hover",o.N30A),dark:i.default("color.background.subtleNeutral.hover",o.DN60)},active:{light:i.default("color.background.subtleNeutral.pressed",a),dark:i.default("color.background.subtleNeutral.pressed",o.B75)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},primary:{default:{light:i.default("color.background.boldBrand.resting",o.B400),dark:i.default("color.background.boldBrand.resting",o.B100)},hover:{light:i.default("color.background.boldBrand.hover",o.B300),dark:i.default("color.background.boldBrand.hover",o.B75)},active:{light:i.default("color.background.boldBrand.pressed",o.B500),dark:i.default("color.background.boldBrand.pressed",o.B200)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},warning:{default:{light:i.default("color.background.boldWarning.resting",o.Y300),dark:i.default("color.background.boldWarning.resting",o.Y300)},hover:{light:i.default("color.background.boldWarning.hover",o.Y200),dark:i.default("color.background.boldWarning.hover",o.Y200)},active:{light:i.default("color.background.boldWarning.pressed",o.Y400),dark:i.default("color.background.boldWarning.pressed",o.Y400)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.Y400),dark:i.default("color.background.selected.resting",o.Y400)},focusSelected:{light:i.default("color.background.selected.resting",o.Y400),dark:i.default("color.background.selected.resting",o.Y400)}},danger:{default:{light:i.default("color.background.boldDanger.resting",o.R400),dark:i.default("color.background.boldDanger.resting",o.R400)},hover:{light:i.default("color.background.boldDanger.hover",o.R300),dark:i.default("color.background.boldDanger.hover",o.R300)},active:{light:i.default("color.background.boldDanger.pressed",o.R500),dark:i.default("color.background.boldDanger.pressed",o.R500)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.R500),dark:i.default("color.background.selected.resting",o.R500)},focusSelected:{light:i.default("color.background.selected.resting",o.R500),dark:i.default("color.background.selected.resting",o.R500)}},link:{default:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)}},subtle:{default:{light:"none",dark:"none"},hover:{light:i.default("color.background.transparentNeutral.hover",o.N30A),dark:i.default("color.background.transparentNeutral.hover",o.DN60)},active:{light:i.default("color.background.transparentNeutral.pressed",a),dark:i.default("color.background.transparentNeutral.pressed",o.B75)},disabled:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)}}},boxShadowColor:{default:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},primary:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},warning:{focus:{light:i.default("color.border.focus",o.Y500),dark:i.default("color.border.focus",o.Y500)},focusSelected:{light:i.default("color.border.focus",o.Y500),dark:i.default("color.border.focus",o.Y500)}},danger:{focus:{light:i.default("color.border.focus",o.R100),dark:i.default("color.border.focus",o.R100)},focusSelected:{light:i.default("color.border.focus",o.R100),dark:i.default("color.border.focus",o.R100)}},link:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},subtle:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},"subtle-link":{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}}},color:{default:{default:{light:i.default("color.text.highEmphasis",o.N500),dark:i.default("color.text.highEmphasis",o.DN400)},active:{light:i.default("color.text.highEmphasis",o.B400),dark:i.default("color.text.highEmphasis",o.B400)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},primary:{default:{light:i.default("color.text.onBold",o.N0),dark:i.default("color.text.onBold",o.DN30)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},warning:{default:{light:i.default("color.text.onBoldWarning",o.N800),dark:i.default("color.text.onBoldWarning",o.N800)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N800),dark:i.default("color.text.selected",o.N800)},focusSelected:{light:i.default("color.text.selected",o.N800),dark:i.default("color.text.selected",o.N800)}},danger:{default:{light:i.default("color.text.onBold",o.N0),dark:i.default("color.text.onBold",o.N0)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N0),dark:i.default("color.text.selected",o.N0)},focusSelected:{light:i.default("color.text.selected",o.N0),dark:i.default("color.text.selected",o.N0)}},link:{default:{light:i.default("color.text.link.resting",o.B400),dark:i.default("color.text.link.resting",o.B100)},hover:{light:i.default("color.text.link.resting",o.B300),dark:i.default("color.text.link.resting",o.B75)},active:{light:i.default("color.text.link.pressed",o.B500),dark:i.default("color.text.link.pressed",o.B200)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.N700)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.N700)}},subtle:{default:{light:i.default("color.text.highEmphasis",o.N500),dark:i.default("color.text.highEmphasis",o.DN400)},active:{light:i.default("color.text.highEmphasis",o.B400),dark:i.default("color.text.highEmphasis",o.B400)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},"subtle-link":{default:{light:i.default("color.text.mediumEmphasis",o.N200),dark:i.default("color.text.mediumEmphasis",o.DN400)},hover:{light:i.default("color.text.mediumEmphasis",o.N90),dark:i.default("color.text.mediumEmphasis",o.B50)},active:{light:i.default("color.text.highEmphasis",o.N400),dark:i.default("color.text.highEmphasis",o.DN300)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}}}}})),r.register("aEFLd",(function(e,n){function r(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}t(e.exports,"default",(function(){return r}))})),r.register("a4QY7",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("bRWI2"),a=r("61szk"),s=r("1HQ2H");function c(t){var n,r,o,c,l=t.spacing,u=void 0===l?"default":l,d=e(i)(t,["spacing"]),f="default"===u?"medium":"small";return e(a).createElement(s.default,{size:f,appearance:(n=d,r=n.appearance,o=n.isDisabled,c=n.isSelected,o?"inherit":c||"primary"===r||"danger"===r?"invert":"inherit")})}})),r.register("6TLPG",(function(n,o){t(n.exports,"getSpecifiers",(function(){return f})),t(n.exports,"defaultThemeFn",(function(){return p})),t(n.exports,"default",(function(){return h}));var i=r("l15hj");r("1qzjD");var a=r("k339g"),s=r("9LVj4");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function d(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,i=e.mode,a=void 0===i?"light":i,c=e.isSelected,d=void 0!==c&&c,f=e.shouldFitContainer,p=void 0!==f&&f,h=e.iconIsOnlyChild,g=void 0!==h&&h,m=e.isLoading,v=void 0!==m&&m,b=e.state,y=s.getCss({appearance:n,spacing:o,mode:a,isSelected:d,shouldFitContainer:p,isOnlySingleIcon:g});y.outline="none";var E=u[b];return E&&(y=l(l({},y),y[E])),v&&(y=l(l({},y),y['&[data-has-overlay="true"]'])),Object.keys(y).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete y[e]})),y}function f(e){return{"&, &:hover, &:active, &:focus, &:visited, &:disabled, &[disabled]":e}}function p(e,t){return e(t)}var h=a.createTheme((function(e){return{buttonStyles:d(e),spinnerStyles:{}}}))})),r.register("5HNOt",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c="atlassian.people.context.team.mention.highlight",l={seenCount:0,dontShow:!1},u={seenCount:99,dontShow:!0},d=function(){function t(){e(i)(this,t)}return e(a)(t,null,[{key:"readFromLocalStorage",value:function(){try{var e=localStorage.getItem(c);return e||(localStorage.setItem(c,JSON.stringify(l)),e=localStorage.getItem(c)),e?JSON.parse(e):u}catch(e){return u}}},{key:"saveToLocalStorage",value:function(e){try{localStorage.setItem(c,JSON.stringify(e))}catch(e){}}}]),t}();e(s)(d,"markAsDone",(function(){var e=d.readFromLocalStorage();e.dontShow=!0,d.saveToLocalStorage(e)})),e(s)(d,"isHighlightEnabled",(function(){var e=d.readFromLocalStorage();return e.seenCount<5&&!e.dontShow})),e(s)(d,"registerRender",(function(){var e=d.readFromLocalStorage();return e.seenCount+=1,e.seenCount>5&&(e.dontShow=!0),d.saveToLocalStorage(e),e})),e(s)(d,"getSeenCount",(function(){return d.readFromLocalStorage().seenCount})),e(s)(d,"registerCreateLinkClick",d.markAsDone),e(s)(d,"registerTeamMention",d.markAsDone),e(s)(d,"registerClosed",d.markAsDone)})),r.register("5qesv",(function(n,o){t(n.exports,"Actions",(function(){return b})),t(n.exports,"Title",(function(){return y})),t(n.exports,"Heading",(function(){return E})),t(n.exports,"Card",(function(){return x})),t(n.exports,"Content",(function(){return k})),t(n.exports,"Section",(function(){return C})),t(n.exports,"Aside",(function(){return S})),t(n.exports,"Body",(function(){return T}));var i,a,s,c,l,u,d,f,p=r("lhkMJ"),h=r("SssiD"),g=r("gllJe"),m=r("EjwF2"),v=r("f9Iu8"),b=h.default.div(i||(i=e(p)(["\n  justify-content: flex-end;\n  margin-top: -","px; /* Negative margin is used to middle align x button with title*/\n  margin-right: ","px;\n"])),.5*g.gridSize(),.5*g.gridSize()),y=h.default.div(a||(a=e(p)(["\n  ",";\n  margin-top: 0px;\n"])),v.h400),E=h.default.div(s||(s=e(p)(["\n  margin-left: ","px;\n  margin-bottom: ","px;\n"])),2*g.gridSize(),.5*g.gridSize()),x=h.default.div(c||(c=e(p)(["\n  display: flex;\n  flex-direction: row;\n  background-color: ",";\n  overflow: hidden;\n  line-height: 21px;\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n  padding-right: 0px;\n  margin-top: -","px; /* Negative margin is used to fill the entire top of the mention dropdown with background colour of highlight*/\n"])),m.P50,2*g.gridSize(),2*g.gridSize(),2*g.gridSize(),.5*g.gridSize()),k=h.default.div(l||(l=e(p)(["\n  max-width: 290px;\n  display: flex;\n"]))),C=h.default.div(u||(u=e(p)([""]))),S=h.default.div(d||(d=e(p)(["\n  opacity: 0.8;\n"]))),T=h.default.div(f||(f=e(p)(["\n  margin-left: ","px;\n"])),2*g.gridSize())})),r.register("5N2cC",(function(n,o){t(n.exports,"MentionPickerStyle",(function(){return d})),t(n.exports,"MentionPickerInfoStyle",(function(){return f}));var i,a,s=r("lhkMJ"),c=r("SssiD"),l=r("EjwF2"),u=r("9V1th"),d=c.default.div(i||(i=e(s)(["\n  display: ",";\n"])),(function(e){return e.visible?"block":"none"})),f=c.default.div(a||(a=e(s)(["\n  background: #fff;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  box-shadow: ",";\n  display: block;\n  width: ",";\n  white-space: nowrap;\n\n  & {\n    p {\n      margin: 0;\n      overflow: hidden;\n      padding: 9px;\n      text-overflow: ellipsis;\n    }\n  }\n"])),l.N100,u.noDialogContainerBorderColor,u.noDialogContainerBorderRadius,u.noDialogContainerBoxShadow,u.mentionListWidth)})),r.register("5Dx14",(function(n,o){t(n.exports,"default",(function(){return E})),t(n.exports,"findOverflowScrollParent",(function(){return r("a0H0L").findOverflowScrollParent}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hLVOy"),h=r("c6wVG");r("8iml0");var g=r("82cWi"),m=r("a0H0L");m=r("a0H0L");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var E=function(t){e(c)(r,t);var n=y(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{validPosition:!0}),e(d)(e(s)(t),"placement",["",""]),e(d)(e(s)(t),"handleRef",(function(e){e&&t.initPopup(e)})),e(d)(e(s)(t),"scheduledUpdatePosition",p.default((function(e){return t.updatePosition(e)}))),e(d)(e(s)(t),"onResize",(function(){return t.scheduledUpdatePosition()})),t}return e(a)(r,[{key:"calculatePosition",value:function(e,t){var n=e.target,r=e.fitHeight,o=e.fitWidth,i=e.boundariesElement,a=e.offset,s=e.onPositionCalculated,c=e.onPlacementChanged,l=e.alignX,u=e.alignY,d=e.stick,f=e.forcePlacement,p=e.allowOutOfBounds,h=e.rect;if(!n||!t)return{};var g=m.calculatePlacement(n,i||document.body,o,r,l,u,f);c&&this.placement.join("")!==g.join("")&&(c(g),this.placement=g);var v=m.calculatePosition({placement:g,popup:t,target:n,stick:d,offset:a,allowOutOfBounds:p,rect:h});return{position:v=s?s(v):v,validPosition:m.validatePosition(n)}}},{key:"updatePosition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state,n=t.popup,r=this.calculatePosition(e,n),o=r.position,i=r.validPosition;o&&i&&this.setState({position:o,validPosition:i})}},{key:"cannotSetPopup",value:function(e,t,n){return!t||document.body.contains(t)&&e.offsetParent&&!e.offsetParent.contains(t)||n&&!n.contains(e.offsetParent)}},{key:"initPopup",value:function(e){var t=this.props.target,n=m.findOverflowScrollParent(e);this.cannotSetPopup(e,t,n)||(this.setState({popup:e}),this.scheduledUpdatePosition())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.scheduledUpdatePosition(e)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize);var e=this.props.stick;this.scrollElement=e?m.findOverflowScrollParent(this.props.target):this.props.scrollableElement,this.scrollElement&&this.scrollElement.addEventListener("scroll",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),this.scrollElement&&this.scrollElement.removeEventListener("scroll",this.onResize),this.scheduledUpdatePosition.cancel()}},{key:"renderPopup",value:function(){var t=this.state.position,n=this.props.shouldRenderPopup;return n&&!n(t||{})?null:e(f).createElement("div",{ref:this.handleRef,style:b({position:"absolute",zIndex:this.props.zIndex||g.akEditorFloatingPanelZIndex},t),"aria-label":this.props.ariaLabel||"Popup","data-editor-popup":!0},this.props.children)}},{key:"render",value:function(){var e=this.props,t=e.target,n=e.mountTo,r=this.state.validPosition;return t&&r?n?h.createPortal(this.renderPopup(),n):this.renderPopup():null}}]),r}(e(f).Component);e(d)(E,"defaultProps",{offset:[0,0],allowOutOfBound:!1})})),r.register("a0H0L",(function(n,o){t(n.exports,"calculatePlacement",(function(){return p})),t(n.exports,"findOverflowScrollParent",(function(){return v})),t(n.exports,"calculatePosition",(function(){return g})),t(n.exports,"validatePosition",(function(){return m}));var i=r("h67q9"),a=r("l15hj");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(e){return e===document.body}function u(e){return e&&3===e.nodeType}function d(e,t,n,r,o){if(o&&r)return r;if(!n)return"bottom";u(e)&&(e=e.parentElement);var i=t.getBoundingClientRect(),a=i.height,s=l(t)?0:i.top,c=e.getBoundingClientRect(),d=c.top,f=c.height,p=d-(s-t.scrollTop),h=s+a-(d+f);return h>=n||h>=p?"bottom":"top"}function f(e,t,n,r,o){if(o&&r)return r;if(!n)return r||"left";u(e)&&(e=e.parentElement);var i=e.getBoundingClientRect(),a=i.left,s=i.width,c=t.getBoundingClientRect(),l=c.left,d=a-l+s,f=l+c.width-a;return r&&d>n&&f>n?r:f>=n||f>=d&&!r?"left":"right"}function p(e,t,n,r,o,i,a){return[d(e,t,r,i,a),f(e,t,n,o,a)]}var h=function(e,t,n){return n<e+t&&(e=n-t-1),Math.max(1,e)};function g(t){var n=t.placement,r=t.target,o=t.popup,a=t.offset,s=t.stick,d=t.allowOutOfBounds,f=void 0!==d&&d,p=t.rect,g={};if(!r||!o||!o.offsetParent)return g;u(r)&&(r=r.parentElement);var m=o.offsetParent,b=m.style,y=0;b&&b.borderBottomWidth&&(y=parseInt(b.borderBottomWidth,10));var E=e(i)(n,2),x=E[0],k=E[1],C=p||m.getBoundingClientRect(),S=C.top,T=C.left,O=C.right,w=C.height,N=r.getBoundingClientRect(),P=N.top,A=N.left,I=N.right,D=N.height,R=N.width,M=l(m),_=function(e){var t=e.placement,n=e.targetTop,r=e.targetHeight,o=e.isPopupParentBody,i=e.popupOffsetParentHeight,a=e.popupOffsetParentTop,s=e.popupOffsetParentScrollTop,c=e.borderBottomWidth,l=e.offset,u={};if("top"===t)u.bottom=Math.ceil(i-(n-a)-(o?0:s)-c+l[1]);else if("start"===t)u.top=Math.ceil(n-a-l[1]+(o?0:s));else{var d=Math.ceil(n-a+r+(o?0:s)-c+l[1]);u.top=d}return u}({placement:x,targetTop:P,isPopupParentBody:M,popupOffsetParentHeight:w,popupOffsetParentTop:S,popupOffsetParentScrollTop:m.scrollTop||0,targetHeight:D,borderBottomWidth:y,offset:a});g=c(c({},g),_),"top"!==x&&"start"!==x||!s||(g=function(e){var t=e.target,n=e.targetTop,r=e.targetHeight,o=e.popupOffsetParentHeight,i=e.popupOffsetParent,a=e.offset,s=e.position,l=e.placement,u=v(t),d=c({},s);if(u){var f=u.getBoundingClientRect().top,p=n-f,h=u.scrollTop;if(p<0){var g=n+(h-f)+r+a[1]<h;"top"===l&&(d.bottom=g?o-(p+i.scrollTop+r):p+(d.bottom||0)),"start"===l&&(d.top=g?p+i.scrollTop+r:Math.abs(p)+(d.top||0)+a[1])}}return d}({target:r,targetTop:P,targetHeight:D,popupOffsetParentHeight:w,popupOffsetParent:m,popup:o,offset:a,position:g,placement:x})),"top"!==x&&"start"!==x&&s&&(g=function(e){var t=e.target,n=e.targetTop,r=e.targetHeight,o=e.popup,i=e.offset,a=e.position,s=v(t),l=c({},a);if(s){var u=n-s.getBoundingClientRect().top,d=r+u;if(s.clientHeight-d<=o.clientHeight+2*i[1]&&u<s.clientHeight){var f=d-s.clientHeight+2*i[1],p=l.top||0;p-=f+o.clientHeight,l.top=p}}return l}({target:r,targetTop:P,targetHeight:D,popup:o,offset:a,position:g}));var j=function(e){var t=e.placement,n=e.targetLeft,r=e.targetRight,o=e.targetWidth,i=e.isPopupParentBody,a=e.popupOffsetParentLeft,s=e.popupOffsetParentRight,c=e.popupOffsetParentScrollLeft,l=e.popupOffsetParentClientWidth,u=e.popupClientWidth,d=e.offset,f=e.allowOutOfBounds,p=void 0!==f&&f,g={};if("left"===t)g.left=Math.ceil(n-a+(i?0:c)+d[0]);else if("center"===t)g.left=Math.ceil(n-a+(i?0:c)+d[0]+o/2-u/2);else if("end"===t){var m=Math.ceil(r-a+(i?0:c)+d[0]);g.left=m}else g.right=Math.ceil(s-r-(i?0:c)+d[0]);return p||(void 0!==g.left&&(g.left=h(g.left,u,l)),void 0!==g.right&&(g.right=h(g.right,u,l))),g}({placement:k,targetLeft:A,targetRight:I,targetWidth:R,isPopupParentBody:M,popupOffsetParentLeft:T,popupOffsetParentRight:O,popupOffsetParentScrollLeft:m.scrollLeft||0,popupOffsetParentClientWidth:o.offsetParent.clientWidth,popupClientWidth:o.clientWidth||0,offset:a,allowOutOfBounds:f});return g=c(c({},g),j)}function m(e){return!(!e||!e.offsetParent)}function v(e){var t=e;if(!t)return!1;for(;t=t.parentElement;){var n=window.getComputedStyle(t);if("scroll"===n.overflow||"scroll"===n.overflowX||"scroll"===n.overflowY||t.classList.contains("fabric-editor-popup-scroll-parent"))return t}return!1}})),r.register("aJv1A",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("c6wVG");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function g(t){return function(n){e(c)(o,n);var r=h(o);function o(){var t;e(i)(this,o);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=r.call.apply(r,[this].concat(a)),e(d)(e(s)(t),"handleClick",(function(n){var r=e(p).findDOMNode(e(s)(t));(!r||n.target instanceof Node&&!r.contains(n.target))&&t.props.handleClickOutside&&t.props.handleClickOutside(n)})),e(d)(e(s)(t),"handleKeydown",(function(e){"Escape"===e.code&&t.props.handleEscapeKeydown&&t.props.handleEscapeKeydown(e)})),t}return e(a)(o,[{key:"componentDidMount",value:function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}},{key:"componentWillUnmount",value:function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}},{key:"render",value:function(){return e(f).createElement(t,this.props)}}]),o}(f.PureComponent)}})),r.register("isabZ",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("lhkMJ"),a=r("61szk"),s=r("7RIig"),c=r("SssiD");r("8iml0");var l,u=r("82cWi"),d=r("5eyFm"),f=r("bXS0g"),p=r("hEJjh"),h=r("7kimI"),g=r("8ntTw"),m=r("a8mog"),v=r("g15pd"),b=r("lhFqx"),y=c.default.div(l||(l=e(i)(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: flex;\n  font-size: ",";\n  margin: 10px 0;\n  min-height: 24px;\n  padding: 10px;\n  text-align: center;\n  vertical-align: text-bottom;\n  min-width: 120px;\n  align-items: center;\n  justify-content: center;\n"])),f.N30,f.N50,p.borderRadius(),u.relativeFontSizeToBase16(p.fontSize())),E=s.injectIntl((function(t){var n=t.node,r=t.intl,o=t.dispatchAnalyticsEvent,i=b.getUnsupportedContent(g.unsupportedContentMessages.unsupportedBlockContent,g.unsupportedContentMessages.unsupportedBlockContent.defaultMessage+":",n,r),s=r.formatMessage(g.unsupportedContentMessages.unsupportedContentTooltip),c=a.useRef({padding:"4px"}).current,l=null==n?void 0:n.attrs.originalValue.type,u=a.useCallback((function(){return o&&v.trackUnsupportedContentTooltipDisplayedFor(o,m.ACTION_SUBJECT_ID.ON_UNSUPPORTED_BLOCK,l)}),[o,l]);return e(a).createElement(y,null,i,e(a).createElement(h.default,{content:s,hideTooltipOnClick:!1,position:"bottom",onShow:u,strategy:"absolute"},e(a).createElement("span",{style:c},e(a).createElement(e(d),{label:"?",size:"small"}))))}))})),r.register("7kimI",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("61szk"),l=r("4JuWt"),u=r("gKQyD"),d=r("elgAx"),f=r("6arEb"),p=r("hk7TV"),h=r("djEoB"),g=r("bnitQ"),m=r("fAuEj"),v=r("ccNgL"),b=r("2B8of"),y=r("fNI63"),E=r("ph8Hm");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=m.layers.tooltip(),S={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.5.0"};function T(){}function O(t){var n=t.children,r=t.position,o=void 0===r?"bottom":r,s=t.mousePosition,m=void 0===s?"bottom":s,x=t.content,O=t.truncate,w=void 0!==O&&O,N=t.component,P=void 0===N?y.default:N,A=t.tag,I=void 0===A?"div":A,D=t.testId,R=t.delay,M=void 0===R?300:R,_=t.onShow,j=void 0===_?T:_,B=t.onHide,L=void 0===B?T:B,F=t.hideTooltipOnClick,z=void 0!==F&&F,W=t.hideTooltipOnMouseDown,U=void 0!==W&&W,H=t.analyticsContext,V=t.strategy,K=void 0===V?"fixed":V,G="mouse"===o?m:o,J=d.usePlatformLeafSyntheticEventHandler(k({fn:j,action:"displayed",analyticsData:H},S)),q=d.usePlatformLeafSyntheticEventHandler(k({fn:L,action:"hidden",analyticsData:H},S)),Y=c.useRef(null),Z=c.useState("hide"),X=e(a)(Z,2),Q=X[0],$=X[1],ee=c.useRef(null),te=c.useRef(null),ne=c.useCallback((function(e){e&&("function"==typeof n?ee.current=e:(te.current=e,ee.current=e.firstChild))}),[n]),re=c.useRef(Q),oe=c.useRef(M),ie=c.useRef({onShowHandler:J,onHideHandler:q}),ae=c.useRef(!1);c.useEffect((function(){re.current=Q,oe.current=M,ie.current={onShowHandler:J,onHideHandler:q}}),[M,q,J,Q]);var se=c.useCallback((function(e){Y.current=e,ae.current=!1}),[]),ce=c.useCallback((function(){Y.current&&(ae.current&&ie.current.onHideHandler(),Y.current=null,ae.current=!1,$("hide"))}),[]),le=c.useCallback((function(){Y.current&&(Y.current.abort(),ae.current&&ie.current.onHideHandler(),Y.current=null)}),[]);c.useEffect((function(){return function(){Y.current&&le()}}),[le]);var ue=c.useCallback((function(e){if(Y.current&&!Y.current.isActive()&&le(),Y.current&&Y.current.isActive())Y.current.keep();else{var t={source:e,delay:oe.current,show:function(e){var t=e.isImmediate;ae.current||(ae.current=!0,ie.current.onShowHandler()),$(t?"show-immediate":"show-fade-in")},hide:function(e){var t=e.isImmediate;$((function(e){return"hide"!==e?t?"hide":"fade-out":e}))},done:ce},n=v.show(t);se(n)}}),[le,ce,se]),de=c.useCallback((function(){var e;null===(e=Y.current)||void 0===e||e.requestHide({isImmediate:!0})}),[Y]);f.default({onClose:de,isDisabled:"hide"===Q||"fade-out"===Q}),c.useEffect((function(){return"hide"===Q?T:u.bind(window,{type:"scroll",listener:function(){Y.current&&Y.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})}),[Q]);var fe,pe,he=c.useCallback((function(){U&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[U]),ge=c.useCallback((function(){z&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[z]),me=c.useCallback((function(e){if(!(te.current&&e.target===te.current||e.defaultPrevented)){e.preventDefault();var t="mouse"===o?{type:"mouse",mouse:E.getMousePosition({left:e.clientX,top:e.clientY})}:{type:"keyboard"};ue(t)}}),[o,ue]),ve=c.useCallback((function(e){te.current&&e.target===te.current||e.defaultPrevented||(e.preventDefault(),Y.current&&Y.current.requestHide({isImmediate:!1}))}),[]),be=c.useCallback((function(){Y.current&&Y.current.isActive()&&Y.current.keep()}),[]),ye=c.useCallback((function(){ue({type:"keyboard"})}),[ue]),Ee=c.useCallback((function(){Y.current&&Y.current.requestHide({isImmediate:!1})}),[]),xe=c.useCallback((function(e){"exiting"===e&&"fade-out"===re.current&&Y.current&&Y.current.finishHideAnimation()}),[]),ke=I,Ce="hide"!==Q&&Boolean(x),Se="show-immediate"===Q||"show-fade-in"===Q,Te=b.default("tooltip",Ce),Oe={onMouseOver:me,onMouseOut:ve,onClick:ge,onMouseDown:he,onFocus:ye,onBlur:Ee,ref:ne,"aria-describedby":Te,"data-testid":D?"".concat(D,"--container"):void 0};return l.jsx(e(c).Fragment,null,"function"==typeof n?n(Oe):l.jsx(ke,e(i)({},Oe,{role:"presentation"}),n),Ce?l.jsx(g.default,{zIndex:C},l.jsx(h.Popper,{placement:G,referenceElement:(fe=Y.current,pe=fe?fe.getInitialMouse():null,"mouse"===o&&pe?pe:ee.current||void 0),strategy:K},(function(e){var t=e.ref,n=e.style,r=e.update;return l.jsx(p.ExitingPersistence,{appear:!0},Se&&l.jsx(p.FadeIn,{onFinish:xe,duration:"show-immediate"===Q?0:void 0},(function(e){var o=e.className;return l.jsx(P,{ref:t,className:"Tooltip ".concat(o),style:n,truncate:w,placement:G,testId:D,onMouseOut:ve,onMouseOver:be,id:Te},"function"==typeof x?x({update:r}):x)})))}))):null)}O.displayName="Tooltip";var w=O})),r.register("9GzoA",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("aKg7d"),c=r("9zhjA"),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=a.forwardRef((function(r,o){var l=c.usePatchedProps(t,r).patchedEventProps,u=s.useAnalyticsEvents().createAnalyticsEvent;return e(a).createElement(n,e(i)({},r,l,{createAnalyticsEvent:u,ref:o}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}}})),r.register("aKg7d",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("fY0sK"),a=r("9uimt");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("fY0sK",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("2kBnc").default)})),r.register("2kBnc",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("9uimt",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("9zhjA",(function(n,o){t(n.exports,"usePatchedProps",(function(){return d}));var i=r("l15hj"),a=r("EwJf3"),s=r("61szk"),c=r("aKg7d");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=c.useAnalyticsEvents(),o=r.createAnalyticsEvent,l=s.useRef({}),d=s.useMemo((function(){var r=l.current;return Object.keys(r).filter((function(e){return!(e in t)})).forEach((function(e){return delete r[e]})),Object.keys(t).reduce((function(s,c){var l=t[c];if(!["object","function"].includes(e(a)(l)))return s;var d=n[c];if(c in r&&r[c].eventCreator===l&&r[c].propValue===d)return u(u({},s),{},e(i)({},c,r[c].wrappedCallback));var f=function(){var e="function"==typeof l?l(o,n):o(l);if(d&&"function"==typeof d){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];d.apply(void 0,r.concat([e]))}};return r[c]={eventCreator:l,wrappedCallback:f,propValue:d},u(u({},s),{},e(i)({},c,f))}),{})}),[t,n,o,l]);return{patchedEventProps:d}}})),r.register("elgAx",(function(n,o){t(n.exports,"usePlatformLeafSyntheticEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("aKg7d"),c=r("jP1LM");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.packageName,d=t.packageVersion,f=t.analyticsData,p=s.useAnalyticsEvents().createAnalyticsEvent,h=c.useTrackedRef(f),g=c.useTrackedRef(n),m=a.useCallback((function(){var t=p({action:r,actionSubject:o,attributes:{componentName:o,packageName:u,packageVersion:d}}),n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:u,packageVersion:d},h.current);t.context.push(n);var a=t.clone();a&&a.fire("atlaskit"),g.current(t)}),[r,o,u,d,p,h,g]);return m}})),r.register("jP1LM",(function(e,n){t(e.exports,"useTrackedRef",(function(){return i}));var o=r("61szk"),i=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t}})),r.register("fAuEj",(function(e,n){t(e.exports,"CHANNEL",(function(){return o})),t(e.exports,"DEFAULT_THEME_MODE",(function(){return i})),t(e.exports,"THEME_MODES",(function(){return a})),t(e.exports,"borderRadius",(function(){return s})),t(e.exports,"layers",(function(){return c}));r("3skCZ"),r("gwtEq");var o="__ATLASKIT_THEME__",i="light",a=["light","dark"],s=function(){return 3},c={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}})),r.register("gwtEq",(function(e,n){t(e.exports,"B100",(function(){return c})),t(e.exports,"N0",(function(){return d})),t(e.exports,"N800",(function(){return p})),t(e.exports,"N30A",(function(){return h})),t(e.exports,"DN600",(function(){return g})),t(e.exports,"DN0",(function(){return b})),t(e.exports,"skeleton",(function(){return y}));var o=r("ifCMQ"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#4C9AFF",l="#2684FF",u="#0052CC",d="#FFFFFF",f="#6B778C",p="#172B4D",h="rgba(9, 30, 66, 0.08)",g="#B8C7E0",m="#8C9CB8",v="#283447",b="#0D1424",y=(o.default({light:d,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:d,dark:v}),o.default({light:"#091E42",dark:g}),o.default({light:p,dark:g}),o.default({light:u,dark:u}),o.default({light:f,dark:m}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:p,dark:g}),o.default({light:f,dark:m}),o.default({light:"#F4F5F7",dark:v}),o.default({light:u,dark:c}),o.default({light:"#0065FF",dark:l}),o.default({light:"#0747A6",dark:c}),o.default({light:c,dark:l}),o.default({light:u,dark:c}),o.default({light:u,dark:c}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("ifCMQ",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("e92Nu");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("e92Nu",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("fAuEj");function i(e){if(e&&e.theme){if(o.CHANNEL in e.theme)return e.theme[o.CHANNEL];if("mode"in e.theme&&o.THEME_MODES.includes(e.theme.mode))return e.theme}return{mode:o.DEFAULT_THEME_MODE}}})),r.register("ccNgL",(function(e,n){t(e.exports,"show",(function(){return a}));var o=r("aeXht"),i=null;function a(e){var t="waiting-to-show";function n(){return Boolean(i&&i.entry===e)}function r(){n()&&(o.clearScheduled(),i=null)}function a(){n()&&e.done(),t="done",r()}function s(){n()&&e.hide({isImmediate:!0}),a()}function c(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){var n=Boolean(i&&i.isVisible());function r(){t="shown",e.show({isImmediate:n})}i&&(o.clearScheduled(),i.entry.hide({isImmediate:!0}),i.entry.done(),i=null),i={entry:e,isVisible:c},n?r():(t="waiting-to-show",o.scheduleTimeout(r,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void o.clearScheduled()):"hide-animating"===t?(t="shown",o.clearScheduled(),void e.show({isImmediate:!1})):void 0},abort:r,isActive:n,requestHide:function(r){var i=r.isImmediate;n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(i?s():(t="waiting-to-hide",o.scheduleTimeout((function(){t="hide-animating",e.hide({isImmediate:!1})}),e.delay))):s())},finishHideAnimation:function(){n()&&"hide-animating"===t&&a()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}})),r.register("aeXht",(function(e,n){t(e.exports,"clearScheduled",(function(){return o})),t(e.exports,"scheduleTimeout",(function(){return i}));var r=null;function o(){null!=r&&(window.clearTimeout(r),r=null)}function i(e,t){o(),r=window.setTimeout((function(){r=null,e()}),t)}})),r.register("2B8of",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("48Unu");function i(e,t){var n=o.useUIDSeed();return t?"".concat(n(e)):void 0}})),r.register("fNI63",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("lhkMJ"),a=r("61szk"),s=r("4JuWt"),c=r("gwtEq");r("ayikm");var l,u,d,f=r("dF7ho"),p=r("fAuEj"),h=r("3skCZ"),g=r("3wxI0"),m=s.css(l||(l=e(i)(["\n  border-radius: ","px;\n  box-sizing: border-box;\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n"])),p.borderRadius()),v=s.css(u||(u=e(i)(["\n  max-width: 420px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),b=a.forwardRef((function(t,n){var r=t.style,o=t.className,a=t.children,l=t.truncate,u=t.placement,p=t.testId,b=t.onMouseOut,y=t.onMouseOver,E=t.id;return s.jsx(f.default.Consumer,null,(function(t){var f=t.mode;return s.jsx(g.default,{ref:n,style:r,className:o,placement:u,testId:p,id:E,onMouseOut:b,onMouseOver:y,css:[m,l?v:null,s.css(d||(d=e(i)(["\n                background-color: ",";\n                color: ",";\n              "])),"light"===f?h.default("color.background.boldNeutral.resting",c.N800):h.default("color.background.boldNeutral.resting",c.DN0),"light"===f?h.default("color.text.onBold",c.N0):h.default("color.text.onBold",c.DN600))]},a)}))}));b.displayName="TooltipContainer";var y=b})),r.register("ayikm",(function(e,n){t(e.exports,"default",(function(){return r("dF7ho").default}));r("dF7ho")})),r.register("dF7ho",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("9VgZ4").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("9VgZ4",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("3wxI0",(function(n,o){t(n.exports,"default",(function(){return f}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("4JuWt"),l=r("fAuEj"),u=c.css(i||(i=e(a)(["\n  z-index: ",";\n  cursor: default;\n"])),l.layers.tooltip()),d=s.forwardRef((function(e,t){var n=e.style,r=e.className,o=e.children,i=e.placement,a=e.testId,s=e.onMouseOut,l=e.onMouseOver,d=e.id;return c.jsx("div",{role:"tooltip",ref:t,style:n,className:r,onMouseOut:s,onMouseOver:l,css:u,"data-placement":i,"data-testid":a,id:d},o)}));d.displayName="TooltipPrimitive";var f=d})),r.register("ph8Hm",(function(e,n){function r(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}t(e.exports,"getMousePosition",(function(){return r}))})),r.register("8ntTw",(function(e,n){t(e.exports,"unsupportedContentMessages",(function(){return o}));var o=r("7RIig").defineMessages({unsupportedInlineContent:{id:"fabric.editor.unsupportedInlineContent",defaultMessage:"Unsupported content",description:"Unsupported content"},unsupportedBlockContent:{id:"fabric.editor.unsupportedBlockContent",defaultMessage:"This editor does not support displaying this content",description:"This editor does not support displaying this content"},unsupportedContentTooltip:{id:"fabric.editor.unsupportedContentTooltip",defaultMessage:"Content is not available in this editor, this will be preserved when you edit and save",description:"Content is not available in this editor, this will be preserved when you edit and save"}})})),r.register("lhFqx",(function(e,n){function r(e,t,n,r){var o=!0,i=r?r.locale:"en",a=e.defaultMessage;if(n&&i.startsWith("en")){var s=n.attrs.originalValue;s.text||s.attrs&&s.attrs.text?(a=s.text?s.text:s.attrs.text,o=!1):s.type&&(a="".concat(t," ").concat(s.type),o=!1)}return r&&o?r.formatMessage(e):a}t(e.exports,"getUnsupportedContent",(function(){return r}))})),r.register("lFBSu",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("lhkMJ"),a=r("61szk"),s=r("7RIig"),c=r("SssiD");r("8iml0");var l,u=r("82cWi"),d=r("5eyFm"),f=r("bXS0g"),p=r("hEJjh"),h=r("7kimI"),g=r("8ntTw"),m=r("a8mog"),v=r("g15pd"),b=r("lhFqx"),y=c.default.span(l||(l=e(i)(["\n  align-items: center;\n  background: ",";\n  border: 1px dashed ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ",";\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 10px;\n  vertical-align: middle;\n  white-space: nowrap;\n"])),f.N30,f.N50,p.borderRadius(),u.relativeFontSizeToBase16(p.fontSize())),E=s.injectIntl((function(t){var n=t.node,r=t.intl,o=t.dispatchAnalyticsEvent,i=b.getUnsupportedContent(g.unsupportedContentMessages.unsupportedInlineContent,"Unsupported",n,r),s=r.formatMessage(g.unsupportedContentMessages.unsupportedContentTooltip),c=a.useRef({padding:"4px"}).current,l=null==n?void 0:n.attrs.originalValue.type,u=a.useCallback((function(){return o&&v.trackUnsupportedContentTooltipDisplayedFor(o,m.ACTION_SUBJECT_ID.ON_UNSUPPORTED_INLINE,l)}),[o,l]);return e(a).createElement(y,null,i,e(a).createElement(h.default,{content:s,hideTooltipOnClick:!1,position:"bottom",onShow:u,strategy:"absolute"},e(a).createElement("span",{style:c},e(a).createElement(e(d),{label:"?",size:"small"}))))}))})),r.register("lL7z1",(function(n,o){t(n.exports,"WithCreateAnalyticsEvent",(function(){return f}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");function d(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var f=r("9GzoA").default()(function(t){e(s)(r,t);var n=d(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var e=this.props,t=e.render;return t(e.createAnalyticsEvent)}}]),r}(e(u).Component))})),r.register("iTrTE",(function(n,o){t(n.exports,"messages",(function(){return y})),t(n.exports,"ExpandIconWrapper",(function(){return S})),t(n.exports,"ExpandLayoutWrapper",(function(){return T})),t(n.exports,"sharedExpandStyles",(function(){return N}));var i=r("lhkMJ"),a=r("7RIig"),s=r("SssiD");r("8iml0");var c=r("82cWi"),l=r("bXS0g");r("g8xmM");var u,d,f,p,h,g,m,v=r("fztGn"),b=r("hEJjh"),y=a.defineMessages({collapseNode:{id:"fabric.editor.collapseNode",defaultMessage:"Collapse content",description:"Collapse the node"},expandDefaultTitle:{id:"fabric.editor.expandDefaultTitle",defaultMessage:"Click here to expand...",description:"Placeholder text for an expand node"},expandNode:{id:"fabric.editor.expandNode",defaultMessage:"Expand content",description:"Expand the node"},expandPlaceholderText:{id:"fabric.editor.expandPlaceholder",defaultMessage:"Give this expand a title...",description:"Placeholder text for an expand node title input field"}}),E=b.gridSize()/2,x=v.default({light:"rgba(255, 255, 255, 0.6)",dark:"rgba(9, 10, 11, 0.29)"}),k=l.B300,C=v.default({light:l.N40A,dark:l.DN50}),S=s.default.div(u||(u=e(i)(["\n  cursor: pointer;\n  display: flex;\n  color: ",";\n  border-radius: ","px;\n  width: 24px;\n  height: 24px;\n\n  &:hover {\n    background: ",";\n  }\n\n  svg {\n    ","\n    transition: transform 0.2s ",";\n  }\n"])),v.default({light:l.N90,dark:"#d9dde3"}),b.gridSize()/2,l.N30A,(function(e){return e.expanded?"transform: rotate(90deg);":""}),c.akEditorSwoopCubicBezier),T=s.default.div(d||(d=e(i)(["\n  width: ","px;\n  height: ","px;\n"])),3*b.gridSize(),3*b.gridSize()),O=s.css(f||(f=e(i)(["\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  border-radius: ","px;\n  min-height: 25px;\n  background: ",";\n  margin: ",";\n\n  transition: background 0.3s ",",\n    border-color 0.3s ",";\n  padding: ","px;\n\n  &:hover {\n    border: 1px solid ",";\n    background: ",";\n  }\n\n  td > &:first-child {\n    margin-top: 0;\n  }\n"])),(function(e){var t=e.expanded;return e.focused?k:t?C:"transparent"}),E,(function(e){return e.expanded?x:"transparent"}),(function(e){return"".concat(b.gridSize()/2/b.fontSize(),"rem ").concat("expand"===e["data-node-type"]?"-".concat(c.akLayoutGutterOffset,"px"):"0"," 0")}),c.akEditorSwoopCubicBezier,c.akEditorSwoopCubicBezier,b.gridSize,v.default({light:l.N50A,dark:l.DN50}),x),w=s.css(p||(p=e(i)(["\n  ",";\n"])),(function(t){var n=t.expanded;return s.css(h||(h=e(i)(["\n      padding-top: ","px;\n      padding-right: ","px;\n      padding-left: ","px;\n      display: table;\n      display: flow-root;\n\n      // The follow rules inside @supports block are added as a part of ED-8893\n      // The fix is targeting mobile bridge on iOS 12 or below,\n      // We should consider remove this fix when we no longer support iOS 12\n      @supports not (display: flow-root) {\n        width: 100%;\n        box-sizing: border-box;\n      }\n\n      ","\n    "])),n?b.gridSize():0,b.gridSize(),4*b.gridSize()-b.gridSize()/2,n?"":"\n        .expand-content-wrapper, .nestedExpand-content-wrapper {\n          /* We visually hide the content here to preserve the content during copy+paste */\n          width: 100%;\n          display: block;\n          height: 0;\n          overflow: hidden;\n          clip: rect(1px, 1px, 1px, 1px);\n          white-space: nowrap;\n          user-select: none;\n        }\n      ")})),N={TitleInputStyles:s.css(g||(g=e(i)(["\n  outline: none;\n  border: none;\n  font-size: ",";\n  line-height: ",";\n  font-weight: normal;\n  color: ",";\n  background: transparent;\n  display: flex;\n  flex: 1;\n  padding: 0 0 0 ","px;\n  width: 100%;\n\n  &::placeholder {\n    opacity: 0.6;\n    color: ",";\n  }\n"])),c.relativeFontSizeToBase16(b.fontSize()),c.akEditorLineHeight,v.default({light:l.N200A,dark:l.DN600}),b.gridSize()/2,v.default({light:l.N200A,dark:l.DN600})),TitleContainerStyles:s.css(m||(m=e(i)(["\n  padding: 0;\n  display: flex;\n  align-items: flex-start;\n  background: none;\n  border: none;\n  font-size: ",";\n  width: 100%;\n  color: ",";\n  overflow: hidden;\n  cursor: pointer;\n  // Prevent browser selection being inside the title container\n  user-select: none;\n\n  &:focus {\n    outline: 0;\n  }\n"])),c.relativeFontSizeToBase16(b.fontSize()),v.default({light:l.N300A,dark:l.DN600})),ContainerStyles:O,ContentStyles:w}})),r.register("bTfdG",(function(n,o){t(n.exports,"ErrorMessage",(function(){return v}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD"),c=(r("jq8di"),r("gj0w8")),l=r("bXS0g"),u=r("hEJjh");r("fEtwh");var d,f,p=r("exVvd"),h=r("it21B"),g=s.default.div(d||(d=e(i)(["\n  "," font-weight: normal;\n  color: ",";\n  margin-top: ","px;\n  display: flex;\n  justify-content: baseline;\n"])),h.h200,(function(e){return e.error?l.R400:e.valid?l.G400:l.N200}),p.multiply(u.gridSize,.5)),m=s.default.span(f||(f=e(i)(["\n  display: flex;\n  margin-right: 4px;\n"]))),v=function(t){var n=t.children;return e(a).createElement(g,{error:!0},e(a).createElement(m,null,e(a).createElement(e(c),{size:"small",label:"error","aria-label":"error"})),n)}})),r.register("fEtwh",(function(e,n){t(e.exports,"multiply",(function(){return r("exVvd").multiply}));r("exVvd")})),r.register("exVvd",(function(e,n){function r(e,t){return function(n){return e(n)*t}}t(e.exports,"multiply",(function(){return r}))})),r.register("1SpVy",(function(n,o){t(n.exports,"ClearNextSiblingMarginTop",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").default.div(i||(i=e(a)(["\n  & + * {\n    margin-top: 0 !important;\n  }\n"])))})),r.register("iVDdY",(function(e,n){t(e.exports,"validateADFEntity",(function(){return d}));var o=r("mWucW"),i=r("a8mog"),a=r("g15pd"),s="unsupportedNodeAttribute",c=function(e,t,n){return function(r,o,i){return l(r,o,i,e,t,n)}},l=function(e,t,n,r,o,i){if(e&&e.type===s)return e;if(n.isMark)return f(t.meta,"mark");if(n.isNodeAttribute){var a=e&&e.type?e.type:void 0;return{type:s,attrs:{type:{nodeType:a},unsupported:t.meta}}}if(!(e&&r.indexOf(e.type)>-1)){if("MISSING_PROPERTIES"===t.code&&"paragraph"===e.type)return{type:"paragraph",content:[]};if("INVALID_CONTENT_LENGTH"===t.code){if(t.meta&&n.allowUnsupportedBlock&&e.content)return function(e,t,n,r,o){var i=e.meta;"maximum"===i.type&&(t.content=t.content.filter((function(e){return!!e})).map((function(e,t){return t>=i.requiredLength&&"unsupportedBlock"!==e.type?f(e):n(e,c(r,n,o)).entity})));if("minimum"===i.type){if(0===t.content.length)return f(t);t.content=t.content.filter((function(e){return!!e})).map((function(e){return"unsupportedBlock"!==e.type?f(e):e}))}return t}(t,e,o,r,i);i&&u(i,t,e)}return n.allowUnsupportedBlock?f(e):n.allowUnsupportedInline?f(e,"inline"):(i&&u(i,t,e),e)}};function u(e,t,n){e&&a.fireUnsupportedEvent(e,i.ACTION_SUBJECT_ID.UNSUPPORTED_ERROR,n,t.code)}var d=function(e,t,n){var r=Object.keys(e.nodes),i=Object.keys(e.marks),a=o.validator(r,i,{allowPrivateAttributes:!0}),s=a(t,c(i,a,n)).entity;return void 0===s?{type:"doc",content:[]}:s};function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"block";switch(n){case"inline":t="unsupportedInline";break;case"mark":t="unsupportedMark";break;default:t="unsupportedBlock"}return{type:t,attrs:{originalValue:e}}}})),r.register("iNblZ",(function(e,n){t(e.exports,"ConnectedReactionsView",(function(){return r("8i650").default})),r("dsjTF");r("iYK7q");r("976Oj");r("8SlD0"),r("eQu9p"),r("eglfR");r("lVWTz");r("6rKRR"),r("8i650");r("7mohl");r("jTUWn"),r("1c7xx")})),r.register("dsjTF",(function(e,t){r("iYK7q")})),r.register("iYK7q",(function(e,t){var n=r("c8JbF"),o=r("9VyJv");!function(){function e(e,t){var r=this;this.requestService=function(e,t){return o.utils.requestService(r.serviceConfig,n.__assign(n.__assign({},t),{path:e}))},this.serviceConfig={url:e},this.sessionToken=t}e.prototype.getHeaders=function(e){void 0===e&&(e=!0);var t={Accept:"application/json"};return e&&(t["Content-Type"]="application/json"),this.sessionToken&&(t.Authorization=this.sessionToken),t},e.prototype.getReactions=function(e,t){return 0===t.length?Promise.resolve({}):this.requestService("reactions/view",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({containerAri:e,aris:t})}})},e.prototype.getDetailedReaction=function(e,t,n){var r=e+"|"+t+"|"+n,o=this.getHeaders(!1);return this.requestService("reactions",{queryParams:{reactionId:r},requestInit:{headers:o,method:"GET",credentials:"include"}})},e.prototype.addReaction=function(e,t,n){return this.requestService("reactions",{requestInit:{method:"POST",headers:this.getHeaders(),body:JSON.stringify({emojiId:n,ari:t,containerAri:e}),credentials:"include"}}).then((function(e){return e.reactions}))},e.prototype.deleteReaction=function(e,t,n){return this.requestService("reactions",{queryParams:{ari:t,emojiId:n,containerAri:e},requestInit:{method:"DELETE",headers:this.getHeaders(),credentials:"include"}}).then((function(e){return e.reactions}))}}()})),r.register("976Oj",(function(e,t){r("8SlD0"),r("eQu9p"),r("eglfR")})),r.register("8SlD0",(function(n,o){t(n.exports,"Reaction",(function(){return O}));var i=r("c8JbF"),a=r("izGl7");r("9l0JA");var s=r("javqS"),c=r("jjCk2"),l=r("gTWHp"),u=r("hdR0w"),d=r("61szk"),f=(d=r("61szk"),r("1NOtL")),p=r("iMoj8"),h=r("fXyIk"),g=r("hV6dK"),m=r("d9UZy"),v=r("k9uX1"),b=c.borderRadius()+"px",y=l.N30A,E=l.N400,x=f.style({transformOrigin:"center center 0",margin:"0 4px"}),k=f.style({outline:"none",display:"flex",flexDirection:"row",minWidth:"36px",height:"24px",lineHeight:"24px",background:"transparent",border:"0",borderRadius:b,color:E,cursor:"pointer",padding:0,margin:0,transition:"200ms ease-in-out",$nest:{"&:hover":{background:y}}}),C=f.style({display:"flex",flexDirection:"row",borderRadius:b}),S=f.style({padding:"0 4px 0 0"}),T=function(t){function n(e){var n=t.call(this,e)||this;return n.mounted=!1,n.handleMouseDown=function(e){if(e.preventDefault(),n.props.onClick&&v.isLeftClick(e)){var t=n.props,r=t.reaction,o=t.createAnalyticsEvent,i=r.reacted,a=r.emojiId;p.createAndFireSafe(o,p.createReactionClickedEvent,!i,a),n.props.onClick(n.props.reaction.emojiId,e)}},n.handleMouseOver=function(e){e.preventDefault();var t=n.props,r=t.onMouseOver,o=t.reaction;o.users&&o.users.length||(n.hoverStart=Date.now()),r&&r(n.props.reaction,e)},n.state={},n}return i.__extends(n,t),n.prototype.componentDidUpdate=function(e){!e.reaction.users&&this.props.reaction.users&&p.createAndFireSafe(this.props.createAnalyticsEvent,p.createReactionHoveredEvent,this.hoverStart)},n.prototype.componentDidMount=function(){var e=this;this.mounted=!0,this.props.emojiProvider.then((function(t){return t.findByEmojiId({shortName:"",id:e.props.reaction.emojiId})})).then((function(t){t&&e.mounted&&e.setState({emojiName:t.name})}))},n.prototype.componentWillUnmount=function(){this.mounted=!1},n.prototype.render=function(){var t=this.props,n=t.emojiProvider,r=t.reaction,o=t.className,i=t.flash,a=this.state.emojiName,c=e(u)(k,o),l={id:r.emojiId,shortName:""};return e(d).createElement("button",{className:c,onMouseUp:this.handleMouseDown,onMouseOver:this.handleMouseOver},e(d).createElement(m.ReactionTooltip,{emojiName:a,reaction:r},e(d).createElement(g.FlashAnimation,{flash:i,className:C},e(d).createElement("div",{className:x},e(d).createElement(s.default,{emojiProvider:n,emojiId:l,fitToHeight:16})),e(d).createElement(h.Counter,{className:S,value:r.count,highlight:r.reacted}))))},n.defaultProps={flash:!1,className:void 0,onMouseOver:void 0,flashOnMount:!1},n.displayName="Reaction",n}(d.PureComponent),O=a.withAnalyticsEvents()(T)})),r.register("jjCk2",(function(e,n){t(e.exports,"borderRadius",(function(){return o}));r("2CjMJ"),r("SssiD"),r("gTWHp");var o=function(){return 3}})),r.register("2CjMJ",(function(e,n){t(e.exports,"__makeTemplateObject",(function(){return r}));Object.create;function r(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create})),r.register("gTWHp",(function(e,n){t(e.exports,"B75",(function(){return c})),t(e.exports,"B100",(function(){return l})),t(e.exports,"B400",(function(){return d})),t(e.exports,"N0",(function(){return f})),t(e.exports,"N90",(function(){return p})),t(e.exports,"N400",(function(){return g})),t(e.exports,"N30A",(function(){return v})),t(e.exports,"N50A",(function(){return b})),t(e.exports,"N60A",(function(){return y})),t(e.exports,"skeleton",(function(){return C}));var o=r("339Y0"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#B3D4FF",l="#4C9AFF",u="#2684FF",d="#0052CC",f="#FFFFFF",p="#8993A4",h="#6B778C",g="#505F79",m="#172B4D",v="rgba(9, 30, 66, 0.08)",b="rgba(9, 30, 66, 0.25)",y="rgba(9, 30, 66, 0.31)",E="#B8C7E0",x="#8C9CB8",k="#283447",C=(o.default({light:f,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:c}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:f,dark:k}),o.default({light:"#091E42",dark:E}),o.default({light:m,dark:E}),o.default({light:d,dark:d}),o.default({light:h,dark:x}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:m,dark:E}),o.default({light:h,dark:x}),o.default({light:"#F4F5F7",dark:k}),o.default({light:d,dark:l}),o.default({light:"#0065FF",dark:u}),o.default({light:"#0747A6",dark:l}),o.default({light:l,dark:u}),o.default({light:d,dark:l}),o.default({light:d,dark:l}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("339Y0",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("bqqaQ");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("bqqaQ",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("iMoj8",(function(e,n){t(e.exports,"createAndFireSafe",(function(){return l})),t(e.exports,"createRestSucceededEvent",(function(){return p})),t(e.exports,"createRestFailedEvent",(function(){return h})),t(e.exports,"createReactionsRenderedEvent",(function(){return g})),t(e.exports,"createPickerButtonClickedEvent",(function(){return m})),t(e.exports,"createPickerCancelledEvent",(function(){return v})),t(e.exports,"createPickerMoreClickedEvent",(function(){return b})),t(e.exports,"createReactionSelectionEvent",(function(){return y})),t(e.exports,"createReactionHoveredEvent",(function(){return E})),t(e.exports,"createReactionClickedEvent",(function(){return x}));var o=r("c8JbF"),i=r("izGl7"),a=r("9aw7q"),s=r("euncS"),c=i.createAndFireEvent("fabric-elements"),l=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&c(t.apply(void 0,o.__spread(n)))(e)},u=function(e,t,n,r){return function(i){return{action:e,actionSubject:t,eventType:n,actionSubjectId:r,attributes:o.__assign(o.__assign({},i),{packageName:s.name,packageVersion:s.version})}}},d=function(e){return e?Date.now()-e:void 0},f=function(e){return e?e.reacted?"existingReacted":"existingNotReacted":"new"},p=function(e){return u("succeeded",e,a.OPERATIONAL_EVENT_TYPE)({})},h=function(e,t){return u("failed",e,a.OPERATIONAL_EVENT_TYPE)({errorCode:t})},g=function(e){return u("rendered","reactionView",a.OPERATIONAL_EVENT_TYPE)({duration:d(e)})},m=function(e){return u("clicked","reactionPickerButton",a.UI_EVENT_TYPE)({reactionEmojiCount:e})},v=function(e){return u("cancelled","reactionPicker",a.UI_EVENT_TYPE)({duration:d(e)})},b=function(e){return u("clicked","reactionPicker",a.UI_EVENT_TYPE,"more")({duration:d(e)})},y=function(e,t,n,r){return u("clicked","reactionPicker",a.UI_EVENT_TYPE,"emoji")({duration:d(r),source:e,previousState:f(n),emojiId:t})},E=function(e){return u("hovered","existingReaction",a.UI_EVENT_TYPE)({duration:d(e)})},x=function(e,t){return u("clicked","existingReaction",a.UI_EVENT_TYPE)({added:e,emojiId:t})}})),r.register("euncS",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/reactions","version":"18.0.1"}')})),r.register("fXyIk",(function(n,o){t(n.exports,"Counter",(function(){return b}));var i=r("c8JbF"),a=r("gTWHp"),s=r("hdR0w"),c=r("61szk"),l=r("7HLy8"),u=r("1NOtL"),d=u.style({fontSize:"12px",lineHeight:"24px",color:a.N90,overflow:"hidden",height:24,transition:"width 300ms ease-in-out"}),f=u.style({color:a.B400,fontWeight:600}),p=u.style({display:"flex",flexDirection:"column"}),h=function(e,t){return u.keyframes({"0%":{transform:"translateY("+e+"%)"},"100%":{transform:"translateY("+t+"%)"}})+" 300ms ease-in-out"},g=function(e,t){return u.style({animation:h(e,t)})},m=g(0,-50),v=g(-50,0),b=function(t){function n(n){var r=t.call(this,n)||this;return r.getLabel=function(e){var t=r.props.overLimitLabel;return r.hasReachedLimit(e)?t||"":e.toString()},r.hasReachedLimit=function(e){return r.props.limit&&e>=r.props.limit},r.renderPrevious=function(){var t,n=r.state.previous;if(void 0!==n){var o=e(s)(((t={})[f]=n.highlight,t));return e(c).createElement("div",{key:n.value,className:o},r.getLabel(n.value))}return null},r.clearPrevious=function(){r.setState({previous:void 0})},r.state={previous:void 0},r}return i.__extends(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){var t=this.props,n=t.value,r=t.highlight;void 0===n||n===e.value||this.hasReachedLimit(n)&&this.hasReachedLimit(e.value)||this.setState({previous:{value:n,highlight:r}})},n.prototype.render=function(){var t,n=this.props,r=n.value,o=n.highlight,i=n.className,a=this.state.previous,u=this.getLabel(r),h=void 0!==a&&a.value<r,g=void 0!==a&&a.value>r,b=h?m:g?v:void 0,y=e(s)(d,i),E=e(s)(((t={})[f]=o,t));return e(c).createElement("div",{className:y,style:{width:10*u.length}},e(c).createElement(l.CSSTransition,{classNames:{enter:b},timeout:300,in:h||g,onEntered:this.clearPrevious},e(c).createElement("div",{className:p},h?this.renderPrevious():null,e(c).createElement("div",{className:E,key:r},u),g?this.renderPrevious():null)))},n.defaultProps={highlight:!1,limit:100,overLimitLabel:"99+",className:void 0},n}(e(c).PureComponent)})),r.register("hV6dK",(function(n,o){t(n.exports,"FlashAnimation",(function(){return f}));var i=r("gTWHp"),a=r("hdR0w"),s=r("61szk"),c=r("1NOtL"),l=c.style({width:"100%",height:"100%"}),u=c.keyframes({"0%":{backgroundColor:"transparent"},"20%":{backgroundColor:i.B75},"75%":{backgroundColor:i.B75},"100%":{backgroundColor:"transparent"}}),d=c.style({animation:u+" 700ms ease-in-out"}),f=function(t){var n;return e(s).createElement("div",{className:e(a)(l,t.className,(n={},n[d]=t.flash,n))},t.children)}})),r.register("d9UZy",(function(n,o){t(n.exports,"ReactionTooltip",(function(){return d}));var i=r("4Rd8x"),a=r("61szk"),s=r("1NOtL"),c=s.style({maxWidth:"150px",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",$nest:{ul:{listStyle:"none",margin:0,padding:0,textAlign:"left"},li:{overflow:"hidden",textOverflow:"ellipsis",marginTop:0}}}),l=s.style({textTransform:"capitalize",marginBottom:5}),u=s.style({marginTop:5}),d=function(t){var n=t.emojiName,r=t.children,o=t.reaction.users;if(!o||0===o.length)return e(a).createElement(e(a).Fragment,null,e(a).Children.only(r));var s=e(a).createElement("div",{className:c},n?e(a).createElement("span",{className:l},n):null,e(a).createElement("ul",null,o.slice(0,5).map((function(t,n){return e(a).createElement("li",{key:n},t.displayName)}))),o.length>5?e(a).createElement("span",{className:u},"+",o.length-5,"..."):null);return e(a).createElement(i.default,{content:s,position:"bottom"},e(a).Children.only(r))}})),r.register("k9uX1",(function(e,n){t(e.exports,"isLeftClick",(function(){return r})),t(e.exports,"equalEmojiId",(function(){return o}));var r=function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},o=function(e,t){return i(e)&&i(t)?e===t||e&&t&&e.id===t.id&&e.shortName===t.shortName:e===t},i=function(e){return void 0!==e.id}})),r.register("eQu9p",(function(n,o){t(n.exports,"ReactionPicker",(function(){return C}));var i=r("c8JbF");r("3B5Zl");var a=r("fiDDj"),s=r("anrc8"),c=r("jjCk2"),l=r("gTWHp"),u=r("hdR0w"),d=r("61szk"),f=(d=r("61szk"),r("c6wVG")),p=r("1NOtL"),h=r("kfuu1"),g=r("lO59Y"),m=c.borderRadius()+"px",v=l.N0,b=l.N50A,y=l.N60A,E=p.style({verticalAlign:"middle",$nest:{"&.miniMode":{display:"inline-block",marginRight:"4px"}}}),x=p.style({display:"flex"}),k=p.style({background:v,borderRadius:m,boxShadow:"0 4px 8px -2px "+b+", 0 0 1px "+y,$nest:{"&> div":{boxShadow:void 0}}}),C=function(t){function n(n){var r=t.call(this,n)||this;return r.handleClickOutside=function(t){if(r.state.isOpen){var n=e(f).findDOMNode(r);(!n||t.target instanceof Node&&!n.contains(t.target))&&(r.props.onCancel&&r.props.onCancel(),r.close())}},r.showFullPicker=function(e){e.preventDefault();var t=r.props.onMore;t&&t(),r.setState({isOpen:!0,showFullPicker:!0})},r.onEmojiSelected=function(e){var t=r.props.onSelection;e.id&&(t(e.id,r.state.showFullPicker?"emojiPicker":"quickSelector"),r.close(e.id))},r.onTriggerClick=function(){r.props.onOpen&&r.props.onOpen(),r.setState({isOpen:!r.state.isOpen,showFullPicker:!1})},r.state={isOpen:!1,showFullPicker:!1},r}return i.__extends(n,t),n.prototype.componentDidMount=function(){document.addEventListener("click",this.handleClickOutside)},n.prototype.componentWillUnmount=function(){document.removeEventListener("click",this.handleClickOutside)},n.prototype.close=function(e){this.setState({isOpen:!1,showFullPicker:!1})},n.prototype.renderSelector=function(){var t=this.props,n=t.emojiProvider,r=t.allowAllEmojis;return e(d).createElement("div",{className:x},e(d).createElement(h.Selector,{emojiProvider:n,onSelection:this.onEmojiSelected,showMore:r,onMoreClick:this.showFullPicker}))},n.prototype.renderEmojiPicker=function(){return e(d).createElement(a.default,{emojiProvider:this.props.emojiProvider,onSelection:this.onEmojiSelected})},n.prototype.renderContent=function(){return this.state.showFullPicker?this.renderEmojiPicker():this.renderSelector()},n.prototype.renderPopup=function(){return this.state.isOpen?e(d).createElement("div",{className:k},this.renderContent()):null},n.prototype.renderTrigger=function(t){var n=this.props.miniMode;return e(d).createElement(s.default,{content:t,position:"bottom left",autoFlip:["top","bottom"],boundariesElement:"scrollParent"},e(d).createElement(g.Trigger,{onClick:this.onTriggerClick,miniMode:n,disabled:this.props.disabled}))},n.prototype.render=function(){var t=this.state.isOpen,n=this.props.miniMode,r=e(u)(E,{isOpen:t,miniMode:n},this.props.className);return e(d).createElement("div",{className:r},this.renderTrigger(this.renderPopup()))},n.defaultProps={disabled:!1},n}(d.PureComponent)})),r.register("3B5Zl",(function(e,n){t(e.exports,"EmojiPicker",(function(){return r("fiDDj").default}));r("fiDDj")})),r.register("kfuu1",(function(n,o){t(n.exports,"Selector",(function(){return b}));var i=r("c8JbF"),a=r("4Rd8x"),s=r("hdR0w"),c=r("61szk"),l=(c=r("61szk"),r("1NOtL")),u=r("kSkVT"),d=r("gccBd"),f=(r("k9uX1"),l.style({boxSizing:"border-box",display:"flex",padding:0})),p=l.style({display:"inline-block",opacity:0,$nest:{"&.selected":{transition:"transform 200ms ease-in-out  ",transform:"translateY(-48px) scale(2.667)"}}}),h=l.keyframes({"0%":{opacity:1,transform:"scale(0.5)"},"75%":{transform:"scale(1.25)"},"100%":{opacity:1,transform:"scale(1)"}}),g=l.style({animation:h+" 150ms ease-in-out forwards"}),m=function(e){return{animationDelay:50*e+"ms"}},v=[{id:"1f44d",shortName:":thumbsup:"},{id:"1f44e",shortName:":thumbsdown:"},{id:"1f525",shortName:":fire:"},{id:"1f60d",shortName:":heart_eyes:"},{id:"1f602",shortName:":joy:"},{id:"1f622",shortName:":cry:"}],b=(new Map(v.map((function(e){return[e.shortName,e]}))),function(t){function n(n){var r=t.call(this,n)||this;return r.onEmojiSelected=function(e,t,n){r.timeouts.push(window.setTimeout((function(){return r.props.onSelection(e,t,n)}),250)),r.setState({selection:e})},r.renderEmoji=function(t,n){var o=r.props.emojiProvider,i=t.id||t.shortName,l=e(s)(p,g,{selected:t===r.state.selection}),d=m(n);return e(c).createElement("div",{key:i,className:l,style:d},e(c).createElement(a.default,{content:t.shortName},e(c).createElement(u.EmojiButton,{emojiId:t,emojiProvider:o,onClick:r.onEmojiSelected})))},r.renderShowMore=function(){return e(c).createElement(d.ShowMore,{key:"more",className:{button:g},style:{button:m(v.length)},onClick:r.props.onMoreClick})},r.timeouts=[],r.state={selection:void 0},r}return i.__extends(n,t),n.prototype.componentWillUnmount=function(){this.timeouts.forEach(clearTimeout)},n.prototype.render=function(){var t=this.props.showMore;return e(c).createElement("div",{className:f},v.map(this.renderEmoji),t?this.renderShowMore():null)},n}(c.PureComponent))})),r.register("kSkVT",(function(n,o){t(n.exports,"EmojiButton",(function(){return d}));var i=r("c8JbF");r("9l0JA");var a=r("javqS"),s=r("61szk"),c=(s=r("61szk"),r("1NOtL")),l=r("k9uX1"),u=c.style({outline:"none",display:"flex",backgroundColor:"transparent",border:0,borderRadius:"5px",cursor:"pointer",margin:"0",padding:"10px 8px",$nest:{"&:hover > span":{transition:"transform cubic-bezier(0.23, 1, 0.32, 1) 200ms",transform:"scale(1.33)"}}}),d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleMouseDown=function(t){t.preventDefault(),e.props.onClick&&l.isLeftClick(t)&&e.props.onClick(e.props.emojiId,void 0,t)},e}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.emojiId,r=t.emojiProvider;return e(s).createElement("button",{onMouseUp:this.handleMouseDown,className:u},e(s).createElement(a.default,{emojiProvider:r,emojiId:n}))},n}(s.PureComponent)})),r.register("gccBd",(function(n,o){t(n.exports,"ShowMore",(function(){return b}));var i=r("c8JbF"),a=r("jWECT"),s=r("jjCk2"),c=r("gTWHp"),l=r("4Rd8x"),u=r("hdR0w"),d=r("61szk"),f=r("1NOtL"),p=r("chbxf"),h=r("7RIig"),g=f.style({display:"flex"}),m=f.style({opacity:0,outline:"none",backgroundColor:"transparent",border:0,borderRadius:s.borderRadius()+"px",cursor:"pointer",margin:"4px 4px 4px 0",padding:"4px",width:"38px",verticalAlign:"top",$nest:{"&:hover":{backgroundColor:c.N30A}}}),v=f.style({backgroundColor:c.N30A,margin:"8px 8px 8px 4px",width:"1px",height:"60%",display:"inline-block"}),b=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.style,r=t.onClick,o=t.className;return e(d).createElement("div",{className:e(u)(g,o.container),style:n.container},e(d).createElement("div",{className:v}),e(d).createElement(h.FormattedMessage,i.__assign({},p.messages.moreEmoji),(function(t){return e(d).createElement(l.default,{content:t},e(d).createElement("button",{className:e(u)(m,o.button),style:n.button,onMouseDown:r},e(d).createElement(e(a),{label:"More"})))})))},n.defaultProps={className:{},style:{}},n}(e(d).PureComponent)})),r.register("jWECT",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 14a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm-4.5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm9 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMoreIcon";var s=a;e.exports.default=s})),r.register("chbxf",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({loadingReactions:{id:"fabric.reactions.loading",defaultMessage:"Loading...",description:"Message while reactions are being loaded"},moreEmoji:{id:"fabric.reactions.more.emoji",defaultMessage:"More emoji",description:'Tooltip of the "show more" button in the quick reaction selector. The full emoji selector is displayed when the user clicks on it.'},unexpectedError:{id:"fabric.reactions.error.unexpected",defaultMessage:"Something went wrong",description:"Unexpected error message"}})})),r.register("lO59Y",(function(n,o){t(n.exports,"Trigger",(function(){return d}));var i=r("c8JbF"),a=r("7HEfz"),s=r("j3WhW"),c=r("hdR0w"),l=r("61szk"),u=(l=r("61szk"),r("1NOtL").style({width:"32px",height:"32px",display:"flex",justifyContent:"center",alignItems:"center",lineHeight:"16px",$nest:{"&.miniMode":{width:"24px",height:"24px"}}})),d=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.handleMouseDown=function(){e.props.onClick&&e.props.onClick()},e}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.miniMode,r=t.disabled,o=e(c)(u,{miniMode:n});return e(l).createElement(a.default,{className:o,appearance:"subtle",onClick:this.handleMouseDown,isDisabled:r,spacing:"none"},e(l).createElement(e(s),{size:"small",label:"Add reaction"}))},n.defaultProps={disabled:!1},n}(l.PureComponent)})),r.register("j3WhW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.049 14.197c-.166-.476.103-.991.602-1.15.5-.159 1.039.098 1.205.575.06.174.225.487.495.796.426.488.955.764 1.649.764.693 0 1.223-.276 1.65-.764.27-.31.433-.622.494-.796.166-.476.706-.734 1.204-.575.5.159.77.673.603 1.15-.13.371-.395.876-.839 1.385C14.348 16.458 13.306 17 12 17s-2.348-.542-3.112-1.418a4.382 4.382 0 01-.839-1.385zM9.5 11a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM19 5h1a1 1 0 010 2h-1v1a1 1 0 01-2 0V7h-1a1 1 0 010-2h1V4a1 1 0 012 0v1zm-5-1.777V5.29A7 7 0 1018.71 10h2.067A9 9 0 1114 3.223z" fill="currentColor"/></svg>'},e));a.displayName="EmojiAddIcon";var s=a;e.exports.default=s})),r.register("eglfR",(function(n,o){t(n.exports,"Reactions",(function(){return y}));var i=r("c8JbF"),a=r("izGl7"),s=r("4Rd8x"),c=r("61szk"),l=r("7RIig"),u=r("1NOtL"),d=r("iMoj8"),f=r("hLsan"),p=r("chbxf"),h=r("8SlD0"),g=r("eQu9p"),m=u.style({display:"inline-block",margin:"2px 4px 0 4px"}),v=u.style({display:"flex",flexWrap:"wrap",position:"relative",alignItems:"center",borderRadius:"15px",marginTop:"-2px",$nest:{"& > :first-child":{marginLeft:0}}}),b=function(t){function n(n){var r=t.call(this,n)||this;return r.componentDidUpdate=function(){r.props.status===f.ReactionStatus.ready&&r.renderTime&&(d.createAndFireSafe(r.props.createAnalyticsEvent,d.createReactionsRenderedEvent,r.renderTime),r.renderTime=void 0)},r.isDisabled=function(){return r.props.status!==f.ReactionStatus.ready},r.getTooltip=function(){var t=r.props,n=t.status,o=t.errorMessage;switch(n){case f.ReactionStatus.error:return o||e(c).createElement(l.FormattedMessage,i.__assign({},p.messages.unexpectedError));case f.ReactionStatus.loading:case f.ReactionStatus.notLoaded:return e(c).createElement(l.FormattedMessage,i.__assign({},p.messages.loadingReactions));default:return}},r.handleReactionMouseOver=function(e){r.props.onReactionHover&&r.props.onReactionHover(e.emojiId)},r.handlePickerOpen=function(){r.openTime=Date.now(),d.createAndFireSafe(r.props.createAnalyticsEvent,d.createPickerButtonClickedEvent,r.props.reactions.length)},r.handleOnCancel=function(){d.createAndFireSafe(r.props.createAnalyticsEvent,d.createPickerCancelledEvent,r.openTime),r.openTime=void 0},r.handleOnMore=function(){d.createAndFireSafe(r.props.createAnalyticsEvent,d.createPickerMoreClickedEvent,r.openTime)},r.handleOnSelection=function(e,t){d.createAndFireSafe(r.props.createAnalyticsEvent,d.createReactionSelectionEvent,t,e,r.props.reactions.find((function(t){return t.emojiId===e})),r.openTime),r.openTime=void 0,r.props.onSelection&&r.props.onSelection(e)},r.renderReaction=function(t){return e(c).createElement(h.Reaction,{key:t.emojiId,className:m,reaction:t,emojiProvider:r.props.emojiProvider,onClick:r.props.onReactionClick,onMouseOver:r.handleReactionMouseOver,flash:r.props.flash[t.emojiId]})},n.status!==f.ReactionStatus.ready&&(r.renderTime=Date.now()),r}return i.__extends(n,t),n.prototype.componentDidMount=function(){this.props.status===f.ReactionStatus.notLoaded&&this.props.loadReaction()},n.prototype.renderPicker=function(){var t=this.props,n=t.emojiProvider,r=t.boundariesElement,o=t.allowAllEmojis;return e(c).createElement(s.default,{content:this.getTooltip()},e(c).createElement(g.ReactionPicker,{className:m,emojiProvider:n,miniMode:!0,boundariesElement:r,allowAllEmojis:o,disabled:this.isDisabled(),onSelection:this.handleOnSelection,onOpen:this.handlePickerOpen,onCancel:this.handleOnCancel,onMore:this.handleOnMore}))},n.prototype.render=function(){return e(c).createElement("div",{className:v},this.props.reactions.map(this.renderReaction),this.renderPicker())},n.defaultProps={flash:{},reactions:[]},n.displayName="Reactions",n}(e(c).PureComponent),y=a.withAnalyticsEvents()(b)})),r.register("hLsan",(function(e,n){var r,o;t(e.exports,"ReactionStatus",(function(){return r})),(o=r||(r={})).ready="READY",o.loading="LOADING",o.error="ERROR",o.notLoaded="NOT_LOADED"})),r.register("lVWTz",(function(e,n){t(e.exports,"ConnectedReactionsView",(function(){return r("8i650").default}));r("6rKRR"),r("8i650")})),r.register("6rKRR",(function(t,n){var o=r("c8JbF"),i=r("61szk"),a=r("eQu9p"),s=r("1c7xx");!function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderChild=function(t){return e(i).createElement(a.ReactionPicker,o.__assign({},n.props,t))},n.actionsMapper=function(e){return{onSelection:function(t){e.addReaction(n.props.containerAri,n.props.ari,t)}}},n}o.__extends(n,t),n.prototype.render=function(){return e(i).createElement(s.ReactionConsumer,{store:this.props.store,actionsMapper:this.actionsMapper},this.renderChild)}}(e(i).PureComponent)})),r.register("1c7xx",(function(n,o){t(n.exports,"ReactionConsumer",(function(){return a}));var i=r("c8JbF"),a=function(e){function t(t){var n=e.call(this,t)||this;return n.getPropsFromActions=function(e){var t=n.props.actionsMapper;return t&&(n.previousActions&&n.propsFromActions&&n.previousActions===e||(n.propsFromActions=t(e))),n.previousActions=e,n.propsFromActions},n.getPropsFromState=function(e){var t=n.props.stateMapper;if(t)return t(e)},n.handleOnChange=function(){n.forceUpdate()},n.state={},n}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;Promise.resolve(this.props.store).then((function(t){e.setState({store:t}),t.onChange(e.handleOnChange)}))},t.prototype.componentWillUnmount=function(){this.state.store&&this.state.store.removeOnChangeListener(this.handleOnChange)},t.prototype.render=function(){return this.state.store?this.props.children(Object.assign({},this.getPropsFromState(this.state.store.getState()),this.getPropsFromActions(this.state.store))):null},t}(e(r("61szk")).PureComponent)})),r.register("8i650",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("c8JbF");r("fpMIp");var a=r("cQJrT"),s=r("izGl7"),c=r("61szk"),l=r("eglfR"),u=r("1c7xx"),d=r("hLsan"),f=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.renderChild=function(t){var r=n.props,o=r.containerAri,s=r.ari;return e(c).createElement(a.FabricElementsAnalyticsContext,{data:{containerAri:o,ari:s}},e(c).createElement(l.Reactions,i.__assign({key:n.props.containerAri+"|"+n.props.ari},n.props,t)))},n.stateMapper=function(e){var t=n.props,r=t.containerAri,o=t.ari,i=e&&e.reactions[r+"|"+o];return e&&i?i.status===d.ReactionStatus.ready?{reactions:i.reactions,status:i.status,flash:e.flash[r+"|"+o]}:{status:d.ReactionStatus.loading}:{status:d.ReactionStatus.notLoaded}},n.actionsMapper=function(e){return{loadReaction:function(){e.getReactions(n.props.containerAri,n.props.ari)},onReactionClick:function(t){e.toggleReaction(n.props.containerAri,n.props.ari,t)},onReactionHover:function(t){e.getDetailedReaction(n.props.containerAri,n.props.ari,t)},onSelection:function(t){e.addReaction(n.props.containerAri,n.props.ari,t)}}},n}return i.__extends(n,t),n.prototype.componentDidMount=function(){var e=this.props,t=e.createAnalyticsEvent,n=e.store;Promise.resolve(n).then((function(e){e.setCreateAnalyticsEvent&&t&&e.setCreateAnalyticsEvent(t)}))},n.prototype.render=function(){return e(c).createElement(u.ReactionConsumer,{store:this.props.store,actionsMapper:this.actionsMapper,stateMapper:this.stateMapper},this.renderChild)},n}(e(c).PureComponent),p=s.withAnalyticsEvents()(f)})),r.register("fpMIp",(function(e,n){t(e.exports,"FabricElementsAnalyticsContext",(function(){return r("cQJrT").FabricElementsAnalyticsContext}));r("cQJrT"),r("4AHJg"),r("dnIVV"),r("6aFlf"),r("idwc9")})),r.register("cQJrT",(function(e,n){t(e.exports,"FabricElementsAnalyticsContext",(function(){return o}));var o=r("bL43F").default("fabricElementsCtx","FabricElementsAnalyticsContext")})),r.register("bL43F",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk"),a=r("izGl7"),s=function(t,n){void 0===n&&(n="NamespacedContext");var r=function(n){var r,o=((r={})[t]=n.data,r);return e(i).createElement(a.AnalyticsContext,{data:o},e(i).Children.only(n.children))};return r.displayName=n,r}})),r.register("4AHJg",(function(e,t){r("bL43F").default("navigationCtx","NavigationAnalyticsContext")})),r.register("dnIVV",(function(e,t){var n,o,i=r("bL43F");(o=n||(n={})).FIXED_WIDTH="fixedWidth",o.FULL_WIDTH="fullWidth",o.COMMENT="comment",o.CHROMELESS="chromeless",o.MOBILE="mobile";i.default("fabricEditorCtx","FabricEditorAnalyticsContext")})),r.register("6aFlf",(function(e,t){r("bL43F").default("mediaCtx","MediaAnalyticsContext")})),r.register("idwc9",(function(e,t){r("bL43F").default("peopleTeamsCtx","PeopleTeamsAnalyticsContext")})),r.register("7mohl",(function(e,t){r("1c7xx"),r("jTUWn")})),r.register("jTUWn",(function(e,t){var n=r("c8JbF"),o=r("iMoj8");r("bKx5W");var i=r("hLsan"),a=r("aESJA"),s=r("gGEWx");!function(){function e(e,t){var r=this;void 0===t&&(t={reactions:{},flash:{}}),this.callbacks=[],this.setState=function(e){r.state=n.__assign(n.__assign({},r.state),e),r.triggerOnChange()},this.triggerOnChange=a.batch((function(){return r.callbacks.forEach((function(e){return e(r.state)}))})),this.setReactions=function(e,t,o){var i;r.setState({reactions:n.__assign(n.__assign({},r.state.reactions),(i={},i[e+"|"+t]=o,i))})},this.handleDetailedReactionResponse=function(e){var t=e.containerAri,o=e.ari,i=e.emojiId;r.withReaction((function(t){return n.__assign(n.__assign({},t),{users:e.users})}))(t,o,i)},this.flash=function(e){r.setFlash(e.containerAri,e.ari,e.emojiId,!0),window.setTimeout((function(){return r.setFlash(e.containerAri,e.ari,e.emojiId,!1)}),700)},this.optmisticUpdate=function(e,t,o){return function(i){r.withReadyReaction(e,t)((function(r){var a=!1,c=r.reactions.map((function(e){if(e.emojiId===o){a=!0;var t=i(e);if(t)return n.__assign(n.__assign({},t),{optimisticallyUpdated:!0})}return e}));if(!a){var l=i({containerAri:e,ari:t,emojiId:o,count:0,reacted:!1});l&&c.push(n.__assign(n.__assign({},l),{optimisticallyUpdated:!0}))}return s.readyState(c)}))}},this.doAddReaction=function(e){var t=e.containerAri,n=e.ari,i=e.emojiId;r.optmisticUpdate(t,n,i)(s.addOne),r.flash(e),r.client.addReaction(t,n,i).then((function(e){r.createAnalyticsEvent&&o.createAndFireSafe(r.createAnalyticsEvent,o.createRestSucceededEvent,"addReaction")})).catch((function(e){return r.createAnalyticsEvent&&o.createAndFireSafe(r.createAnalyticsEvent,o.createRestFailedEvent,"addReaction",e.code),Promise.reject(e)}))},this.doRemoveReaction=function(e){var t=e.containerAri,n=e.ari,o=e.emojiId;r.optmisticUpdate(t,n,o)(s.removeOne),r.client.deleteReaction(t,n,o)},this.setCreateAnalyticsEvent=function(e){r.createAnalyticsEvent=e},this.getReactions=a.batchByKey((function(e,t){r.client.getReactions(e,t.reduce(s.flattenAris)).then((function(t){Object.keys(t).map((function(n){var o=r.getReactionsState(e,n),a=o&&o.status===i.ReactionStatus.ready?o.reactions:void 0;r.setReactions(e,n,s.readyState(t[n].sort(s.getReactionsSortFunction(a))))}))})).then((function(){r.createAnalyticsEvent&&o.createAndFireSafe(r.createAnalyticsEvent,o.createRestSucceededEvent,"getReactions")})).catch((function(e){return r.createAnalyticsEvent&&o.createAndFireSafe(r.createAnalyticsEvent,o.createRestFailedEvent,"getReactions",e.code),Promise.reject(e)}))})),this.toggleReaction=this.withReaction(this.doRemoveReaction,this.doAddReaction),this.addReaction=this.withReaction(this.flash,this.doAddReaction),this.getDetailedReaction=function(e,t,n){r.client.getDetailedReaction(e,t,n).then(r.handleDetailedReactionResponse)},this.getState=function(){return r.state},this.onChange=function(e){r.callbacks.push(e)},this.removeOnChangeListener=function(e){r.callbacks=r.callbacks.filter((function(t){return t!==e}))},this.client=e,this.state=t}e.prototype.getReactionsState=function(e,t){return this.state.reactions[e+"|"+t]},e.prototype.setFlash=function(e,t,r,o){var i,a;this.setState({flash:n.__assign(n.__assign({},this.state.flash),(i={},i[e+"|"+t]=n.__assign(n.__assign({},this.state.flash[e+"|"+t]),(a={},a[r]=o,a)),i))})},e.prototype.withReadyReaction=function(e,t){var n=this;return function(r){var o=n.getReactionsState(e,t);if(o.status===i.ReactionStatus.ready){var a=r(o);a&&n.setReactions(e,t,a)}}},e.prototype.withReaction=function(e,t){var n=this;return function(r,o,i){n.withReadyReaction(r,o)((function(n){var a=n.reactions.find(s.byEmojiId(i))||{containerAri:r,ari:o,emojiId:i,count:0,reacted:!1},c=(a.reacted||!t?e:t)(a);if(c&&!(c instanceof Function))return s.readyState(n.reactions.map(s.updateByEmojiId(i,c)))}))}}}()})),r.register("bKx5W",(function(e,n){t(e.exports,"ReactionStatus",(function(){return r("hLsan").ReactionStatus}));r("hLsan")})),r.register("aESJA",(function(e,n){function r(e){var t=[];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];0===t.length&&(window.setTimeout((function(){e(t),t=[]})),t=[]),t.push(n)}}function o(e){var t={};return function(n){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];t[n]||(window.setTimeout((function(){e(n,t[n]),delete t[n]})),t[n]=[]),t[n].push(r)}}t(e.exports,"batch",(function(){return r})),t(e.exports,"batchByKey",(function(){return o}))})),r.register("gGEWx",(function(e,n){t(e.exports,"readyState",(function(){return s})),t(e.exports,"byEmojiId",(function(){return c})),t(e.exports,"addOne",(function(){return l})),t(e.exports,"removeOne",(function(){return u})),t(e.exports,"updateByEmojiId",(function(){return d})),t(e.exports,"getReactionsSortFunction",(function(){return f})),t(e.exports,"flattenAris",(function(){return p}));var o=r("c8JbF"),i=r("hLsan"),a=function(e,t){return e.count>t.count?-1:e.count<t.count?1:(n=e.emojiId,r=t.emojiId,n.localeCompare(r));var n,r},s=function(e){return{status:i.ReactionStatus.ready,reactions:e.filter((function(e){return e.count>0}))}},c=function(e){return function(t){return t.emojiId===e}},l=function(e){return o.__assign(o.__assign({},e),{count:e.count+1,reacted:!0})},u=function(e){return o.__assign(o.__assign({},e),{count:e.count-1,reacted:!1})},d=function(e,t){return function(n){return n.emojiId===e?t instanceof Function?t(n):t:n}},f=function(e){return e&&e.length?function(e){var t=e.reduce((function(e,t,n){return e[t.emojiId]=n,e}),{}),n=function(n){var r=n.emojiId;return void 0===t[r]?e.length:t[r]};return function(e,t){return n(e)-n(t)}}(e):a},p=function(e,t){return e.concat(t)}})),r.register("dFBo1",(function(e,n){t(e.exports,"ReactSerializer",(function(){return r("4iZpZ").default})),t(e.exports,"TextSerializer",(function(){return r("fY52l").default})),t(e.exports,"ReactRenderer",(function(){return r("1bpwT").default})),t(e.exports,"renderDocument",(function(){return r("biPg6").renderDocument}));r("4iZpZ"),r("fY52l"),r("1bpwT"),r("biPg6")})),r.register("4iZpZ",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("jgze0"),a=r("bRWI2"),s=r("fw3Q6"),c=r("go2dD"),l=r("4NDMl"),u=r("l15hj"),d=r("61szk"),f=r("jWbqG"),p=r("lXM2G"),h=r("8WhSr"),g=r("6DY28"),m=r("buSTH"),v=r("5Z2w4"),b=r("i2Bdo");r("igW5C");var y=r("f2gHX"),E=r("85bzS"),x=r("jAS4L"),k=r("iFBc4"),C=r("72R66");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?S(Object(r),!0).forEach((function(n){e(u)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function O(e){return e.reduce((function(e,t){var n=e.length&&e[e.length-1]||null;return t.type instanceof f.MarkType&&n&&n.type instanceof f.MarkType&&Array.isArray(n.content)&&y.isSameMark(n,t)?n.content=O(n.content.concat(t.content)):e.push(t),e}),[])}var w=function(){function t(n){var r=this;e(c)(this,t),e(u)(this,"headingIds",[]),e(u)(this,"expandHeadingIds",[]),e(u)(this,"allowCopyToClipboard",!1),e(u)(this,"allowPlaceholderText",!0),e(u)(this,"allowCustomPanels",!1),e(u)(this,"startPos",1),e(u)(this,"surroundTextNodesWithTextWrapper",!1),e(u)(this,"allowAnnotations",!1),e(u)(this,"serializeFragmentChild",(function(t,n){var o=n.index,i=n.parentInfo,a=r.startPos,c=i&&i.path||[],l="taskItem"===t.type.name&&"DONE"!==t.attrs.state,u="".concat(t.type.name,"__").concat(r.startPos),d=r.serializeFragment(t.content,r.getNodeProps(t,i),h.toReact(t,{allowSelectAllTrap:r.allowSelectAllTrap}),u,{parentIsIncompleteTask:l,path:[].concat(e(s)(c),[t]),pos:r.startPos});r.startPos=a+t.nodeSize;var f=t.marks?e(s)(t.marks):[],p="media"===t.type.name;return f.reverse().reduce((function(e,n){return function(e){return!0!==r.allowMediaLinking&&p&&"link"===e.type.name}(n)?e:r.renderMark(v.toReact(n),r.withMediaMarkProps(t,n,r.getMarkProps(n,[],t)),"".concat(n.type.name,"-").concat(o),e)}),d)})),e(u)(this,"withMediaMarkProps",(function(e,t,n){return"link"===t.type.name&&"media"===e.type.name?T(T({},n),{},{isMediaLink:!0}):n})),e(u)(this,"getUnsupportedContentProps",(function(e){return{node:e,dispatchAnalyticsEvent:r.fireAnalyticsEvent}})),e(u)(this,"getAnnotationMarkProps",(function(t,n){var o=(n||[]).reduce((function(t,n){return b.isAnnotationMark(n)?[].concat(e(s)(t),[n.attrs.id]):t}),[]);return{id:t.attrs.id,annotationType:t.attrs.annotationType,annotationParentIds:o,allowAnnotations:r.allowAnnotations,dataAttributes:{"data-renderer-mark":!0}}})),e(u)(this,"getMarkProps",(function(t,n,o){if(b.isAnnotationMark(t))return r.getAnnotationMarkProps(t,n);var i=t.attrs,s=i.key,c=e(a)(i,["key"]),l={isInline:null==o?void 0:o.isInline};return T(T(T({eventHandlers:r.eventHandlers,fireAnalyticsEvent:r.fireAnalyticsEvent,markKey:s},c),l),{},{dataAttributes:{"data-renderer-mark":!0}})})),this.providers=n.providers,this.eventHandlers=n.eventHandlers,this.extensionHandlers=n.extensionHandlers,this.portal=n.portal,this.rendererContext=n.objectContext,this.appearance=n.appearance,this.disableHeadingIDs=n.disableHeadingIDs,this.disableActions=n.disableActions,this.allowDynamicTextSizing=n.allowDynamicTextSizing,this.allowHeadingAnchorLinks=n.allowHeadingAnchorLinks,this.allowCopyToClipboard=n.allowCopyToClipboard,this.allowPlaceholderText=n.allowPlaceholderText,this.allowCustomPanels=n.allowCustomPanels,this.allowColumnSorting=n.allowColumnSorting,this.fireAnalyticsEvent=n.fireAnalyticsEvent,this.shouldOpenMediaViewer=n.shouldOpenMediaViewer,this.allowAltTextOnImages=n.allowAltTextOnImages,this.stickyHeaders=n.stickyHeaders,this.allowMediaLinking=n.allowMediaLinking,this.allowAnnotations=Boolean(n.allowAnnotations),this.surroundTextNodesWithTextWrapper=Boolean(n.surroundTextNodesWithTextWrapper),this.media=n.media,this.allowSelectAllTrap=n.allowSelectAllTrap}return e(l)(t,[{key:"resetState",value:function(){this.headingIds=[],this.expandHeadingIds=[],this.startPos=1}},{key:"getNodeProps",value:function(e,t){var n=t?t.path:void 0;switch(e.type.name){case"date":return this.getDateProps(e,t);case"hardBreak":return this.getHardBreakProps(e,n);case"heading":return this.getHeadingProps(e,n);case"media":return this.getMediaProps(e,n);case"mediaGroup":return this.getMediaGroupProps(e);case"mediaSingle":return this.getMediaSingleProps(e,n);case"table":return this.getTableProps(e,n);case"tableHeader":case"tableRow":return this.getTableChildrenProps(e);case"taskItem":return this.getTaskItemProps(e,n);case"embedCard":return this.getEmbedCardProps(e,n);case"expand":return this.getExpandProps(e,n);case"unsupportedBlock":case"unsupportedInline":return this.getUnsupportedContentProps(e);case"codeBlock":return this.getCodeBlockProps(e);case"panel":return this.getPanelProps(e);default:return this.getProps(e,n)}}},{key:"serializeFragment",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.allowSelectAllTrap?g.DocWithSelectAllTrap:g.default,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"root-0",a=arguments.length>4?arguments[4]:void 0;return"root-0"===i&&this.resetState(),this.renderNode(o,r,i,t.getChildNodes(e).map((function(e,t){return h.isTextWrapper(e)?n.serializeTextWrapper(e.content,{index:t,parentInfo:a}):n.serializeFragmentChild(e,{index:t,parentInfo:a})})))}},{key:"serializeTextWrapper",value:function(e,n){var r=this,o=(n.index,n.parentInfo),i=o&&o.path||[],a=o&&o.pos||1;return t.buildMarkStructure(e).map((function(e,t){return r.serializeMark({mark:e,parentNode:{path:i,pos:a},parentMark:{path:[e]}})}))}},{key:"serializeMark",value:function(t){var n=this,r=t.mark,o=t.parentNode,i=t.parentMark;if(!h.isTextNode(r)){var a=(r.content||[]).map((function(t,r){return n.serializeMark({mark:t,parentNode:o,parentMark:{path:[].concat(e(s)(i.path),[t])}})})),c="".concat(r.type.name,"-component__").concat(this.startPos,"__").concat(i.path.length);return this.renderMark(v.toReact(r),this.getMarkProps(r,i.path),c,a)}var l=this.startPos,u=l+r.nodeSize;if(this.startPos=u,this.surroundTextNodesWithTextWrapper){var f="text-wrapper_".concat(this.startPos),p=Math.max(o.path.length-1,0);return e(d).createElement(m.default,{key:f,startPos:l+p,endPos:u+p,text:r.text})}return r.text||""}},{key:"renderNode",value:function(t,n,r,o){return e(d).createElement(t,e(i)({key:r},n),o)}},{key:"renderMark",value:function(t,n,r,o){return e(d).createElement(t,e(i)({key:r},n),o)}},{key:"getTableChildrenProps",value:function(e){return T(T({},this.getProps(e)),{},{allowColumnSorting:this.allowColumnSorting})}},{key:"getTableProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=C.insideBreakoutLayout(t)?void 0:this.stickyHeaders;return T(T({},this.getProps(e)),{},{allowColumnSorting:this.allowColumnSorting,columnWidths:E.calcTableColumnWidths(e),tableNode:e,stickyHeaders:n})}},{key:"getDateProps",value:function(e,t){return{timestamp:e.attrs&&e.attrs.timestamp,parentIsIncompleteTask:t&&t.parentIsIncompleteTask}}},{key:"getMediaSingleProps",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.type.schema,o=r.nodes,i=o.expand,a=o.nestedExpand,s=o.layoutColumn,c=r.marks.link,l=[i,a,s].filter((function(e){return Boolean(e)})).map((function(e){return e.name})),u=n&&n.some((function(e){return e.type&&l.indexOf(e.type.name)>-1})),d=function(e){return e.type===c},f=e.firstChild&&e.firstChild.marks.filter((function(e){return d(e)||!0===t.allowMediaLinking})).length;return T(T({},this.getProps(e)),{},{isInsideOfBlockNode:u,childHasLink:f,featureFlags:this.media&&this.media.featureFlags})}},{key:"getMediaProps",value:function(e){var t=this,n=e.type.schema.marks.link,r=function(e){return e.type===n};return T(T({},this.getProps(e)),{},{marks:e.marks.filter((function(e){return!r(e)||!0===t.allowMediaLinking})),isLinkMark:r,allowAltTextOnImages:this.allowAltTextOnImages,featureFlags:this.media&&this.media.featureFlags,shouldOpenMediaViewer:this.shouldOpenMediaViewer})}},{key:"getEmbedCardProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.type.schema.nodes,r=n.expand,o=n.nestedExpand,i=n.layoutColumn,a=[r,o,i].filter((function(e){return Boolean(e)})).map((function(e){return e.name})),s=t&&t.some((function(e){return e.type&&a.indexOf(e.type.name)>-1}));return T(T({},this.getProps(e)),{},{isInsideOfBlockNode:s})}},{key:"getMediaGroupProps",value:function(e){return T(T({},this.getProps(e)),{},{shouldOpenMediaViewer:this.shouldOpenMediaViewer,allowAltTextOnImages:this.allowAltTextOnImages,featureFlags:this.media&&this.media.featureFlags})}},{key:"getTaskItemProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return T(T({},this.getProps(e,t)),{},{disabled:this.disableActions})}},{key:"getHardBreakProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=!1,r=t.length>0?t[t.length-1]:null;return r&&r.lastChild===e&&(n=!0),T(T({},this.getProps(e)),{},{forceNewLine:n})}},{key:"getCodeBlockProps",value:function(e){return T(T({},this.getProps(e)),{},{text:e.textContent})}},{key:"getPanelProps",value:function(e){return T(T({},this.getProps(e)),{},{allowCustomPanels:this.allowCustomPanels})}},{key:"getProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return T({text:e.text,providers:this.providers,eventHandlers:this.eventHandlers,extensionHandlers:this.extensionHandlers,portal:this.portal,rendererContext:this.rendererContext,serializer:this,content:e.content?e.content.toJSON():void 0,allowDynamicTextSizing:this.allowDynamicTextSizing,allowHeadingAnchorLinks:this.allowHeadingAnchorLinks,allowCopyToClipboard:this.allowCopyToClipboard,allowPlaceholderText:this.allowPlaceholderText,rendererAppearance:this.appearance,fireAnalyticsEvent:this.fireAnalyticsEvent,nodeType:e.type.name,marks:e.marks,dataAttributes:{"data-renderer-start-pos":this.startPos+t.length},path:t},e.attrs)}},{key:"headingAnchorSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=function(e,t){return e.length>0&&e[e.length-1].type.name===t};return p.isNestedHeaderLinksEnabled(this.allowHeadingAnchorLinks)||0===e.length||t(e,"layoutColumn")}},{key:"getHeadingProps",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return T(T({},this.getProps(e,t)),{},{content:e.content?e.content.toJSON():void 0,headingId:this.getHeadingId(e,this.headingIds),showAnchorLink:"comment"!==this.appearance&&this.allowHeadingAnchorLinks&&!this.disableHeadingIDs&&this.headingAnchorSupported(t)})}},{key:"getExpandProps",value:function(e){var t=this;if(!p.isNestedHeaderLinksEnabled(this.allowHeadingAnchorLinks))return this.getProps(e);var n=k.findChildrenByType(e,e.type.schema.nodes.heading).map((function(e){var n=e.node;return t.getHeadingId(n,t.expandHeadingIds)}));return T(T({},this.getProps(e)),{},{nestedHeaderIds:n})}},{key:"getHeadingId",value:function(e,t){if(!this.disableHeadingIDs&&e.content.size){var n=e.content.toJSON().reduce((function(e,t){return e.concat(x.getText(t)||"")}),"").trim().replace(/\s/g,"-");if(n)return this.getUniqueHeadingId(n,t)}}},{key:"getUniqueHeadingId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===n&&-1===t.indexOf(e))return t.push(e),e;if(0!==n){var r="".concat(e,".").concat(n);if(-1===t.indexOf(r))return t.push(r),r}return this.getUniqueHeadingId(e,t,++n)}}],[{key:"getChildNodes",value:function(e){var t=[];return e.forEach((function(e){t.push(e)})),h.mergeTextNodes(t)}},{key:"getMarks",value:function(e){return e.marks&&0!==e.marks.length?y.getMarksByOrder(e.marks):[]}},{key:"buildMarkStructure",value:function(e){var t=this;return O(e.map((function(e){var n=t.getMarks(e);return 0===n.length?e:n.reverse().reduce((function(e,t){var n=t.eq;return T(T({},t),{},{eq:n,content:[e]})}),e)})))}},{key:"fromSchema",value:function(e,n){return new t(n)}}]),t}()})),r.register("lXM2G",(function(e,n){function r(e){return!(!e||"boolean"==typeof e)&&!!e.allowNestedHeaderLinks}function o(e){if(r(e))return e.activeHeadingId}t(e.exports,"isNestedHeaderLinksEnabled",(function(){return r})),t(e.exports,"getActiveHeadingId",(function(){return o}))})),r.register("8WhSr",(function(n,o){t(n.exports,"toReact",(function(){return G})),t(n.exports,"mergeTextNodes",(function(){return J})),t(n.exports,"isTextWrapper",(function(){return Y})),t(n.exports,"isTextNode",(function(){return Z})),t(n.exports,"Doc",(function(){return r("6DY28").default})),t(n.exports,"DocWithSelectAllTrap",(function(){return r("6DY28").DocWithSelectAllTrap}));var i=r("emESy"),a=r("kA5eY"),s=r("8KHXA"),c=r("gUzqj"),l=r("6DY28"),u=r("1vsFn"),d=r("aGGvO"),f=r("4ie4r"),p=r("6wvJt"),h=r("hhB7K"),g=r("ljIJW"),m=r("keWLt"),v=r("b47he"),b=r("iIIKy"),y=r("fzLwb"),E=r("gT6qD"),x=r("8Y9eV"),k=r("47uiH"),C=r("hDgqh"),S=r("2rYlf"),T=r("5aS2H"),O=r("l0n0r"),w=r("1Ooqx"),N=r("2EPQe"),P=r("2l34k"),A=r("bTuwx");r("igW5C");var I=r("isabZ"),D=r("lFBSu"),R=e(P)({loader:function(){return r("bWndk").then((function(e){return e.default}))},loading:function(){return null}}),M=e(P)({loader:function(){return r("31r1v").then((function(e){return e.default}))},loading:function(){return null}}),_=e(P)({loader:function(){return r("6cui5").then((function(e){return e.default}))},loading:function(){return null}}),j=e(P)({loader:function(){return r("7bNWF").then((function(e){return e.default}))},loading:function(){return null}}),B=e(P)({loader:function(){return r("6Iuwe").then((function(e){return e.default}))},loading:function(){return null}}),L=e(P)({loader:function(){return Promise.resolve(r("jjPuC")).then((function(e){return e.default}))},loading:function(){return null}}),F=e(P)({loader:function(){return r("ar6wY").then((function(e){return e.default}))},loading:function(){return null}}),z=e(P)({loader:function(){return r("3gcLt").then((function(e){return e.default}))},loading:function(){return null}}),W=e(P)({loader:function(){return r("9AkiW").then((function(e){return e.default}))},loading:function(){return null}}),U=e(P)({loader:function(){return r("2APqH").then((function(e){return e.default}))},loading:function(){return null}}),H=e(P)({loader:function(){return r("Y5DWf").then((function(e){return e.default}))},loading:function(){return null}}),V=e(P)({loader:function(){return r("aS6ti").then((function(e){return e.default}))},loading:function(){return null}}),K={blockquote:i.default,bulletList:s.default,blockCard:z,caption:b.default,codeBlock:R,date:j,decisionItem:_,decisionList:c.default,doc:l.default,emoji:L,extension:u.default,bodiedExtension:a.default,hardBreak:d.default,heading:f.default,inlineCard:F,inlineExtension:p.default,layoutSection:h.default,layoutColumn:g.default,listItem:m.default,media:W,mediaGroup:U,mediaSingle:v.default,mention:H,orderedList:y.default,panel:E.default,paragraph:x.default,placeholder:k.default,rule:C.default,status:B,taskItem:M,taskList:S.default,table:T.default,tableCell:O.TableCell,tableHeader:O.TableHeader,tableRow:w.default,unknownBlock:N.default,unsupportedBlock:I.default,unsupportedInline:D.default,expand:V,nestedExpand:V,embedCard:A.default},G=function(e,t){return"doc"===e.type.name&&!0===(null==t?void 0:t.allowSelectAllTrap)?l.DocWithSelectAllTrap:K[e.type.name]},J=function(e){return e.reduce((function(e,t){if(!q(t.type.name))return e.push(t),e;if(e.length>0&&Y(e[e.length-1])){var n=e[e.length-1];n.content.push(t),n.nodeSize+=t.nodeSize}else e.push({type:{name:"textWrapper"},content:[t],nodeSize:t.nodeSize});return e}),[])},q=function(e){return"text"===e},Y=function(e){return"textWrapper"===e.type.name};function Z(e){return"text"===e.type.name}})),r.register("emESy",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("blockquote",null,t.children)}})),r.register("kA5eY",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("1vsFn"),c=r("1h0nM"),l=function(t){var n=t.children,r=t.layout,o=void 0===r?"default":r,l=t.path,u=void 0===l?[]:l,d=e(a).Children.toArray(n).map((function(e){return"table"===e.props.nodeType})).every(Boolean);return e(a).createElement(c.default,e(i)({},t,{type:"bodiedExtension"}),(function(t){var r=t.result;try{if(r&&e(a).isValidElement(r))return s.renderExtension(r,o,{isTopLevel:u.length<1},d)}catch(e){}return s.renderExtension(n,o,{isTopLevel:u.length<1},d)}))}})),r.register("1vsFn",(function(n,o){t(n.exports,"renderExtension",(function(){return f})),t(n.exports,"default",(function(){return p}));var i=r("jgze0"),a=r("61szk"),s=r("1h0nM");r("igW5C");var c=r("jZsbJ"),l=r("3cpVm"),u=r("bjJO8"),d=r("hcMY3"),f=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0,i=o?"":d.RendererCssClassName.EXTENSION_OVERFLOW_CONTAINER,s=r||{},u=s.isTopLevel,f=void 0===u||u,p=f&&["wide","full-width"].includes(n)?d.RendererCssClassName.EXTENSION_CENTER_ALIGN:"";return e(a).createElement(c.WidthConsumer,null,(function(o){var s=o.width;return e(a).createElement("div",{ref:r.handleRef,className:"".concat(d.RendererCssClassName.EXTENSION," ").concat(r.shadowClassNames," ").concat(p),style:{width:f?l.calcBreakoutWidth(n,s):"100%"},"data-layout":n},e(a).createElement("div",{className:i},t))}))},p=u.default((function(t){var n=t.text,r=t.layout,o=void 0===r?"default":r,c=t.handleRef,l=t.shadowClassNames,u=t.path,d=void 0===u?[]:u;return e(a).createElement(s.default,e(i)({},t,{type:"extension"}),(function(t){var r=t.result;try{if(r&&e(a).isValidElement(r))return f(r,o,{isTopLevel:d.length<1,handleRef:c,shadowClassNames:l})}catch(e){}return f(n||"extension",o,{isTopLevel:d.length<1,handleRef:c,shadowClassNames:l})}))}),{overflowSelector:".".concat(d.RendererCssClassName.EXTENSION_OVERFLOW_CONTAINER)})})),r.register("1h0nM",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("6gvxN");r("igW5C");var h=r("kn8yN"),g=r("k7U83"),m=r("MsgJD");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=function(t){e(c)(r,t);var n=v(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{extensionProvider:null}),e(d)(e(s)(t),"mounted",!1),e(d)(e(s)(t),"handleProvider",(function(n,r){r&&r.then((function(r){t.mounted&&t.setState(e(d)({},n,r))}))})),e(d)(e(s)(t),"getNodeRenderer",p.default(h.getNodeRenderer)),e(d)(e(s)(t),"renderExtensionNode",(function(n){var r=t.props,o=r.extensionHandlers,i=r.rendererContext,a=r.extensionType,s=r.extensionKey,c=r.parameters,l=r.content,u=r.text,d={type:r.type,extensionKey:s,extensionType:a,parameters:c,content:l||u},p=null;try{if(o&&o[a])p=g.getExtensionRenderer(o[a])(d,i.adDoc);if(!p&&n){var h=t.getNodeRenderer(n,a,s);p=e(f).createElement(h,{node:d})}}catch(e){}return t.props.children({result:p})})),e(d)(e(s)(t),"setupAndRenderExtensionNode",(function(e){var n=t.state.extensionProvider;return!n&&e.extensionProvider&&t.handleProvider("extensionProvider",e.extensionProvider),t.renderExtensionNode(n)})),t}return e(a)(r,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var t=this.props.providers;return t?e(f).createElement(m.WithProviders,{providers:["extensionProvider"],providerFactory:t,renderNode:this.setupAndRenderExtensionNode}):this.setupAndRenderExtensionNode({})}}]),r}(e(f).Component)})),r.register("hcMY3",(function(e,n){t(e.exports,"RendererCssClassName",(function(){return o}));var r="ak-renderer-",o={DOCUMENT:"".concat(r,"document"),EXTENSION:"".concat(r,"extension"),EXTENSION_CENTER_ALIGN:"".concat(r,"extension-center-align"),EXTENSION_OVERFLOW_CONTAINER:"".concat(r,"extension-overflow-container"),NUMBER_COLUMN:"".concat(r,"table-number-column"),SORTABLE_COLUMN:"".concat(r,"tableHeader-sortable-column"),SORTABLE_COLUMN_BUTTON:"".concat(r,"tableHeader-sortable-column__button"),SORTABLE_COLUMN_NOT_ALLOWED:"".concat(r,"tableHeader-sortable-column__not-allowed"),SORTABLE_COLUMN_ICON:"".concat(r,"tableHeader-sorting-icon"),SORTABLE_COLUMN_NO_ORDER:"".concat(r,"tableHeader-sorting-icon__no-order")}})),r.register("8KHXA",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("61szk"),a=r("ekJGA"),s=r("2lFqm");function c(t){return e(i).createElement("ul",{className:a.bulletListSelector.substr(1),"data-indent-level":t.path?s.getListIndentLevel(t.path):1},t.children)}})),r.register("2lFqm",(function(e,n){function r(e){var t=1;return e.forEach((function(e){"bulletList"!==e.type.name&&"orderedList"!==e.type.name||t++})),t}t(e.exports,"getListIndentLevel",(function(){return r}))})),r.register("gUzqj",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");u=r("61szk");r("hBSHB");var d=r("60zGq");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var p=function(t){e(s)(r,t);var n=f(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props.children;return 0===u.Children.count(t)?null:e(u).createElement(d.default,null,t)}}]),r}(u.PureComponent)})),r.register("hBSHB",(function(e,n){t(e.exports,"DecisionItem",(function(){return r("d7Msl").default})),t(e.exports,"DecisionList",(function(){return r("60zGq").default})),t(e.exports,"ResourcedTaskItem",(function(){return r("fuq3W").default})),t(e.exports,"TaskList",(function(){return r("gqytw").default}));r("d7Msl"),r("60zGq"),r("fuq3W"),r("gqytw")})),r.register("d7Msl",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("l15hj"),d=r("61szk"),f=(d=r("61szk"),r("d3BCx")),p=r("gkDqP"),h=r("1IoVJ");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var m=function(t){e(s)(r,t);var n=g(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.appearance,r=t.children,o=t.contentRef,i=t.placeholder,a=t.showPlaceholder,s=t.dataAttributes,c=e(d).createElement(p.EditorIconWrapper,{showPlaceholder:a},e(d).createElement(e(f),{label:"Decision",size:"large"}));return e(d).createElement(h.default,{appearance:n,contentRef:o,icon:c,placeholder:i,showPlaceholder:a,itemType:"DECISION",dataAttributes:s},r)}}]),r}(d.PureComponent);e(u)(m,"defaultProps",{appearance:"inline"})})),r.register("d3BCx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.414 8l3.293 3.293c.187.187.293.442.293.707v5a1 1 0 01-2 0v-4.586l-3-3V10.5a1 1 0 01-2 0V7a1 1 0 011-1h3.5a1 1 0 010 2H9.414zm8.293-1.707a.999.999 0 010 1.414l-2.5 2.5a.997.997 0 01-1.414 0 .999.999 0 010-1.414l2.5-2.5a.999.999 0 011.414 0z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorDecisionIcon";var s=a;e.exports.default=s})),r.register("gkDqP",(function(n,o){t(n.exports,"EditorIconWrapper",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("oyMoV");var s,c=r("eGqgS"),l=r("hwHuN"),u=r("iJtOf"),d=a.default.span(s||(s=e(i)(["\n  flex: 0 0 16px;\n  height: 16px;\n  width: 16px;\n  color: ",";\n  margin: 4px ","px 0 0;\n\n  > span {\n    margin: -8px;\n  }\n"])),(function(e){return e.showPlaceholder?u.N100:c.default({light:u.G300,dark:u.G200})}),1.5*l.gridSize())})),r.register("oyMoV",(function(e,n){t(e.exports,"themed",(function(){return r("eGqgS").default}));r("eGqgS")})),r.register("eGqgS",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("lVIB2");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("lVIB2",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("hwHuN",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i}));r("dwZEa"),r("iJtOf");var o=function(){return 3},i=function(){return 8}})),r.register("dwZEa",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("3ag5M");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("3ag5M",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("iJtOf",(function(e,n){t(e.exports,"G200",(function(){return s})),t(e.exports,"G300",(function(){return c})),t(e.exports,"B75",(function(){return l})),t(e.exports,"B100",(function(){return u})),t(e.exports,"N0",(function(){return p})),t(e.exports,"N30",(function(){return h})),t(e.exports,"N50",(function(){return g})),t(e.exports,"N80",(function(){return m})),t(e.exports,"N100",(function(){return v})),t(e.exports,"N20A",(function(){return E})),t(e.exports,"N30A",(function(){return x})),t(e.exports,"DN90",(function(){return S})),t(e.exports,"DN80",(function(){return T})),t(e.exports,"DN50",(function(){return O})),t(e.exports,"skeleton",(function(){return w}));var o=r("eGqgS"),i="#FF5630",a="#FFAB00",s="#57D9A3",c="#36B37E",l="#B3D4FF",u="#4C9AFF",d="#2684FF",f="#0052CC",p="#FFFFFF",h="#EBECF0",g="#C1C7D0",m="#97A0AF",v="#7A869A",b="#6B778C",y="#172B4D",E="rgba(9, 30, 66, 0.04)",x="rgba(9, 30, 66, 0.08)",k="#B8C7E0",C="#8C9CB8",S="#56637A",T="#455166",O="#283447",w=(o.default({light:p,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:l}),o.default({light:h,dark:"#3B475C"}),o.default({light:p,dark:O}),o.default({light:"#091E42",dark:k}),o.default({light:y,dark:k}),o.default({light:f,dark:f}),o.default({light:b,dark:C}),o.default({light:v,dark:"#7988A3"}),o.default({light:y,dark:k}),o.default({light:b,dark:C}),o.default({light:"#F4F5F7",dark:O}),o.default({light:f,dark:u}),o.default({light:"#0065FF",dark:d}),o.default({light:"#0747A6",dark:u}),o.default({light:u,dark:d}),o.default({light:f,dark:u}),o.default({light:f,dark:u}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:c,dark:c}),function(){return E})})),r.register("1IoVJ",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("hwHuN")),h=r("lpahG"),g=r("831y7");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"renderPlaceholder",value:function(){var t=this.props,n=t.children,r=t.placeholder,o=t.showPlaceholder,i=t.itemType;if(!o||!r||n)return null;var a=p.gridSize()*("TASK"===i?3:3.5);return e(f).createElement(g.Placeholder,{contentEditable:!1,offset:a},r)}},{key:"renderMessageAppearance",value:function(){var t=this.props,n=t.contentRef,r=t.children,o=t.icon,a=t.itemType,s=t.dataAttributes,c=t.checkBoxId;return"TASK"===a?e(f).createElement(h.TaskWrapper,{id:"".concat(c,"-wrapper")},o,this.renderPlaceholder(),e(f).createElement(h.ContentWrapper,e(i)({},s,{innerRef:n}),r)):"DECISION"===a?e(f).createElement(h.DecisionWrapper,{"data-decision-wrapper":"true"},o,this.renderPlaceholder(),e(f).createElement(h.ContentWrapper,e(i)({},s,{innerRef:n}),r)):null}},{key:"render",value:function(){return this.renderMessageAppearance()}}]),r}(f.PureComponent);e(d)(v,"defaultProps",{appearance:"inline"})})),r.register("lpahG",(function(n,o){t(n.exports,"ContentWrapper",(function(){return h})),t(n.exports,"TaskWrapper",(function(){return g})),t(n.exports,"DecisionWrapper",(function(){return m}));var i=r("lhkMJ"),a=r("SssiD");r("oyMoV");var s,c,l,u,d=r("eGqgS"),f=r("hwHuN"),p=r("iJtOf"),h=a.default.div(s||(s=e(i)(["\n  margin: 0;\n  word-wrap: break-word;\n  min-width: 0;\n  flex: 1 1 auto;\n"]))),g=a.default.div(c||(c=e(i)(["\n  display: flex;\n  flex-direction: row;\n  padding: 6px 3px;\n  position: relative;\n"]))),m=a.default.div(l||(l=e(i)(["\n  display: flex;\n  flex-direction: row;\n  margin: ","px 0 0 0;\n  padding: ","px;\n  padding-left: ","px;\n  border-radius: ","px;\n  background-color: ",";\n  position: relative;\n\n  .decision-item {\n    cursor: initial;\n  }\n"])),f.gridSize(),f.gridSize(),1.5*f.gridSize(),f.borderRadius(),d.default({light:p.N20A,dark:p.DN50}));a.default.div(u||(u=e(i)(["\n  margin: -2px 8px;\n"])))})),r.register("831y7",(function(n,o){t(n.exports,"Placeholder",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("iJtOf"),l=s.default.span(i||(i=e(a)(["\n  margin: ","\n  position: absolute;\n  color: ",";\n  pointer-events: none;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  max-width: calc(100% - 50px);\n"])),(function(e){return"0 0 0 ".concat(e.offset,"px;")}),c.N80)})),r.register("60zGq",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=(u=r("61szk"),r("i3id6"));function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var p=function(t){e(s)(r,t);var n=f(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props.children;return t?e(u).createElement(d.DecisionListWrapper,{"data-decision-list-local-id":"","data-node-type":"decisionList"},e(u).Children.map(t,(function(t,n){var r=t.props.localId;return e(u).createElement("li",{key:n,"data-decision-local-id":r||"","data-decision-state":"DECIDED"},t)}))):null}}]),r}(u.PureComponent)})),r.register("i3id6",(function(n,o){t(n.exports,"TaskListWrapper",(function(){return u})),t(n.exports,"DecisionListWrapper",(function(){return d}));var i,a,s=r("lhkMJ"),c=r("SssiD"),l="\n  /*\n    Increasing specificity with double ampersand to ensure these rules take\n    priority over the global styles applied to 'ol' elements.\n  */\n  && {\n    list-style-type: none;\n    padding-left: 0;\n  }\n",u=c.default.div(i||(i=e(s)(["\n  ","\n"])),l),d=c.default.ol(a||(a=e(s)(["\n  ","\n"])),l)})),r.register("fuq3W",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("58agN")),h=r("gpCn2");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=function(t){e(c)(r,t);var n=v(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"mounted",!1),e(d)(e(s)(o),"onUpdate",(function(e){o.setState({isDone:"DONE"===e})})),e(d)(e(s)(o),"handleOnChange",(function(e,t){var n=o.props,r=n.taskDecisionProvider,i=n.objectAri,a=n.onChange;o.setState({isDone:t}),r&&i?r.then((function(n){o.mounted&&(n.toggleTask({localId:e,objectAri:i},t?"DONE":"TODO"),a&&a(e,t))})):a&&a(e,t)})),o.state={isDone:t.isDone},o}return e(a)(r,[{key:"componentDidMount",value:function(){this.mounted=!0,this.subscribe(this.props.taskDecisionProvider,this.props.objectAri,this.props.isDone)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.isDone!==this.props.isDone&&this.onUpdate(e.isDone?"DONE":"TODO"),e.taskDecisionProvider===this.props.taskDecisionProvider&&e.objectAri===this.props.objectAri||(this.unsubscribe(),this.subscribe(e.taskDecisionProvider,e.objectAri,e.isDone))}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.mounted=!1}},{key:"subscribe",value:function(e,t,n){var r=this;e&&t&&e.then((function(e){if(r.mounted){var o=r.props.taskId,i=m(m({},{localId:o,objectAri:t}),{},{state:n?"DONE":"TODO",lastUpdateDate:new Date,type:"TASK"});e.subscribe({localId:o,objectAri:t},r.onUpdate,i)}}))}},{key:"unsubscribe",value:function(){var e=this,t=this.props,n=t.taskDecisionProvider,r=t.taskId,o=t.objectAri;n&&o&&n.then((function(t){t.unsubscribe({localId:r,objectAri:o},e.onUpdate)}))}},{key:"render",value:function(){var t=this.state.isDone,n=this.props,r=n.appearance,o=n.children,i=n.contentRef,a=n.objectAri,s=n.showPlaceholder,c=n.placeholder,l=n.taskId,u=n.disabled,d=n.dataAttributes;return e(f).createElement(h.FabricElementsAnalyticsContext,{data:{objectAri:a}},e(f).createElement(p.default,{isDone:t,taskId:l,onChange:this.handleOnChange,appearance:r,contentRef:i,showPlaceholder:s,placeholder:c,disabled:u,dataAttributes:d},o))}}]),r}(f.PureComponent);e(d)(b,"defaultProps",{appearance:"inline"})})),r.register("58agN",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("afzyJ")),h=r("1IoVJ"),g=r("4VYh9"),m=r("54h8M");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=0,y=function(e){return"".concat(e,"-").concat(b++)},E=function(t){e(c)(r,t);var n=v(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"handleOnChange",(function(e){var t=o.props,n=t.onChange,r=t.taskId,i=t.isDone,a=t.createAnalyticsEvent,s=!i;n&&n(r,s);var c=s?"checked":"unchecked";a&&m.createAndFireEventInElementsChannel({action:c,actionSubject:"action",eventType:"ui",attributes:{localId:r}})(a)})),o.checkBoxId=y(t.taskId),o}return e(a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.taskId!==this.props.taskId&&(this.checkBoxId=y(e.taskId))}},{key:"render",value:function(){var t=this.props,n=t.appearance,r=t.isDone,o=t.contentRef,i=t.children,a=t.placeholder,s=t.showPlaceholder,c=t.disabled,l=t.dataAttributes,u=e(f).createElement(p.CheckBoxWrapper,{contentEditable:!1},e(f).createElement("input",{id:this.checkBoxId,"aria-labelledby":"".concat(this.checkBoxId,"-wrapper"),name:this.checkBoxId,type:"checkbox",onChange:this.handleOnChange,checked:!!r,disabled:!!c,suppressHydrationWarning:!0}),e(f).createElement("label",{htmlFor:this.checkBoxId,suppressHydrationWarning:!0}));return e(f).createElement(h.default,{appearance:n,contentRef:o,icon:u,placeholder:a,showPlaceholder:s,itemType:"TASK",dataAttributes:l,checkBoxId:this.checkBoxId},i)}}]),r}(f.PureComponent);e(d)(E,"defaultProps",{appearance:"inline"});var x=g.default()(E)})),r.register("afzyJ",(function(n,o){t(n.exports,"CheckBoxWrapper",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("oyMoV");var s,c=r("eGqgS"),l=r("hwHuN"),u=r("iJtOf"),d=a.default.span(s||(s=e(i)(["\n  flex: 0 0 16px;\n  width: 16px;\n  height: 16px;\n  position: relative;\n  align-self: start;\n  margin: 4px ","px 0 0;\n\n  & > input[type='checkbox'] {\n    position: absolute;\n    outline: none;\n    margin: 0;\n    opacity: 0;\n    left: 0;\n    top: 50%;\n    transform: translateY(-50%);\n\n    + label {\n      box-sizing: border-box;\n      display: block;\n      position: relative;\n      width: 100%;\n      cursor: pointer;\n\n      &::after {\n        background: ","\n        background-size: 16px;\n        border-radius: 3px;\n        border-style: solid;\n        border-width: 1px;\n        border-color: ","\n        box-sizing: border-box;\n        content: '';\n        height: 16px;\n        left: 50%;\n        position: absolute;\n        transition: border-color 0.2s ease-in-out;\n        top: 8px;\n        width: 16px;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &:not([disabled]) + label:hover::after {\n      background: ","\n      transition: border 0.2s ease-in-out;\n    }\n    &[disabled] + label {\n      opacity: 0.5;\n      cursor: default;\n    }\n    &:checked {\n      + label::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDA1MkNDIj48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n        border: 0;\n        border-color: transparent;\n        border-radius: 0; /* FS-1392 */\n      }\n      &:not([disabled]) + label:hover::after {\n        background: url(data:image/svg+xml;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+DQo8c3ZnIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEyIDEyIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPg0KICA8cmVjdCB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIHJ4PSIyIiBmaWxsPSIjMDc0N0E2Ij48L3JlY3Q+DQogIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGQ9Ik05LjM3NCA0LjkxNEw1LjQ1NiA4LjgzMmEuNzY5Ljc2OSAwIDAgMS0xLjA4OCAwTDIuNjI2IDcuMDkxYS43NjkuNzY5IDAgMSAxIDEuMDg4LTEuMDg5TDQuOTEyIDcuMmwzLjM3NC0zLjM3NGEuNzY5Ljc2OSAwIDEgMSAxLjA4OCAxLjA4OCI+PC9wYXRoPg0KPC9zdmc+)\n          no-repeat 0 0;\n        background-size: 16px;\n      }\n    }\n  }\n"])),l.gridSize(),c.default({light:u.N0,dark:u.DN80}),c.default({light:u.N50,dark:u.DN90}),c.default({light:u.N30,dark:u.B75}))})),r.register("4VYh9",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("6jsaD"),c=r("4r8O4"),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=a.forwardRef((function(r,o){var l=c.usePatchedProps(t,r).patchedEventProps,u=s.useAnalyticsEvents().createAnalyticsEvent;return e(a).createElement(n,e(i)({},r,l,{createAnalyticsEvent:u,ref:o}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}}})),r.register("6jsaD",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("kzz63"),a=r("8xdwW");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("kzz63",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("cNeNS").default)})),r.register("cNeNS",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("8xdwW",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("4r8O4",(function(n,o){t(n.exports,"usePatchedProps",(function(){return d}));var i=r("l15hj"),a=r("EwJf3"),s=r("61szk"),c=r("6jsaD");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=c.useAnalyticsEvents(),o=r.createAnalyticsEvent,l=s.useRef({}),d=s.useMemo((function(){var r=l.current;return Object.keys(r).filter((function(e){return!(e in t)})).forEach((function(e){return delete r[e]})),Object.keys(t).reduce((function(s,c){var l=t[c];if(!["object","function"].includes(e(a)(l)))return s;var d=n[c];if(c in r&&r[c].eventCreator===l&&r[c].propValue===d)return u(u({},s),{},e(i)({},c,r[c].wrappedCallback));var f=function(){var e="function"==typeof l?l(o,n):o(l);if(d&&"function"==typeof d){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];d.apply(void 0,r.concat([e]))}};return r[c]={eventCreator:l,wrappedCallback:f,propValue:d},u(u({},s),{},e(i)({},c,f))}),{})}),[t,n,o,l]);return{patchedEventProps:d}}})),r.register("l45E4",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}}})),r.register("54h8M",(function(e,n){t(e.exports,"createAndFireEventInElementsChannel",(function(){return o}));var o=r("l45E4").default("fabric-elements")})),r.register("gqytw",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=(u=r("61szk"),r("i3id6")),f=r("gpCn2");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.listId,r=t.children,o=e(u).Children.count(r);return r?e(u).createElement(d.TaskListWrapper,{"data-task-list-local-id":""},e(u).Children.map(r,(function(t,r){var i=t.props.localId;return e(u).createElement(f.FabricElementsAnalyticsContext,{data:{listLocalId:n,listSize:o,position:r}},e(u).createElement("div",{key:r,"data-task-local-id":i||""},t))}))):null}}]),r}(u.PureComponent)})),r.register("6DY28",(function(n,o){t(n.exports,"default",(function(){return c})),t(n.exports,"DocWithSelectAllTrap",(function(){return l}));var i=r("61szk"),a=r("hcMY3"),s=r("1jav7");function c(t){return e(i).createElement("div",{className:a.RendererCssClassName.DOCUMENT},t.children)}function l(t){return e(i).createElement("div",{ref:s.useSelectAllTrap(),className:a.RendererCssClassName.DOCUMENT},t.children)}})),r.register("1jav7",(function(n,o){t(n.exports,"useSelectAllTrap",(function(){return l}));var i=r("61szk"),a=r("lMwqs"),s=r("aj9Rm"),c=r("auMbd"),l=function(){var t=e(i).useContext(a.default).fireAnalyticsEvent,n=e(i).useRef(null),r=e(i).useRef(!1),o=e(i).useRef(),l="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),u=e(i).useCallback((function(e){var i=n.current;if(i&&((l?e.metaKey:e.ctrlKey)&&"KeyA"===e.code)){var a=c.ElementSelection.fromWindow();a.eq(o.current)?t({eventType:s.EVENT_TYPE.TRACK,action:s.ACTION.SELECT_ALL_ESCAPED,actionSubject:s.ACTION_SUBJECT.RENDERER}):(a.inside(i)||"None"===a.type&&r.current)&&(t({eventType:s.EVENT_TYPE.TRACK,action:s.ACTION.SELECT_ALL_CAUGHT,actionSubject:s.ACTION_SUBJECT.RENDERER}),e.preventDefault(),o.current=a.select(i))}}),[l,n,t,r,o]),d=e(i).useCallback((function(e){var t,o;r.current=null!==(t=null===(o=n.current)||void 0===o?void 0:o.contains(e.target))&&void 0!==t&&t}),[n,r]);return e(i).useEffect((function(){return window.addEventListener("keydown",u),window.addEventListener("click",d),function(){window.removeEventListener("keydown",u),window.removeEventListener("click",d)}}),[u,d]),n}})),r.register("lMwqs",(function(n,o){t(n.exports,"default",(function(){return i}));var i=e(r("61szk")).createContext({fireAnalyticsEvent:function(e){return null}})})),r.register("aj9Rm",(function(e,n){var r,o,i,a,s,c,l,u;t(e.exports,"EVENT_TYPE",(function(){return r})),t(e.exports,"ACTION",(function(){return i})),t(e.exports,"ACTION_SUBJECT",(function(){return s})),t(e.exports,"ACTION_SUBJECT_ID",(function(){return l})),(o=r||(r={})).OPERATIONAL="operational",o.SCREEN="screen",o.TRACK="track",o.UI="ui",(a=i||(i={})).STARTED="started",a.RENDERED="rendered",a.CRASHED="unhandledErrorCaught",a.SELECT_ALL_CAUGHT="selectAllCaught",a.SELECT_ALL_ESCAPED="selectAllEscaped",a.CLICKED="clicked",a.VIEWED="viewed",a.VISITED="visited",a.SORT_COLUMN="sortedColumn",a.SORT_COLUMN_NOT_ALLOWED="sortColumnNotAllowed",a.TOGGLE_EXPAND="toggleExpand",a.INSERTED="inserted",a.OPENED="opened",a.CLOSED="closed",a.DELETED="deleted",a.EDITED="edited",a.RESOLVED="resolved",a.CREATE_NOT_ALLOWED="createNotAllowed",a.UNSUPPORTED_CONTENT_LEVELS_TRACKING_SUCCEEDED="unsupportedContentLevelsTrackingSucceeded",a.UNSUPPORTED_CONTENT_LEVELS_TRACKING_ERRORED="unsupportedContentLevelsTrackingErrored",(c=s||(s={})).RENDERER="renderer",c.BUTTON="button",c.ANCHOR_LINK="anchorLink",c.TABLE="table",c.EXPAND="expand",c.NESTED_EXPAND="nestedExpand",c.MEDIA_SINGLE="mediaSingle",c.LINK="link",c.ANNOTATION="annotation",c.MEDIA="media",(u=l||(l={})).HEADING_ANCHOR_LINK="headingAnchorLink",u.LINK="link",u.INLINE_COMMENT="inlineComment"})),r.register("auMbd",(function(n,o){t(n.exports,"ElementSelection",(function(){return s}));var i=r("go2dD"),a=r("4NDMl"),s=function(){function t(n){e(i)(this,t),this.type=n?n.type:"None",n&&"None"!==this.type&&(this.range=n.getRangeAt(0))}return e(a)(t,[{key:"eq",value:function(e){if(!e)return!1;if(this.range&&e.range){var t,n,r=0===(null===(t=this.range)||void 0===t?void 0:t.compareBoundaryPoints(Range.START_TO_START,e.range)),o=0===(null===(n=this.range)||void 0===n?void 0:n.compareBoundaryPoints(Range.END_TO_END,e.range));return r&&o}return"None"===this.type&&"None"===e.type}},{key:"inside",value:function(e){var t,n;return e.contains(null!==(t=null===(n=this.range)||void 0===n?void 0:n.commonAncestorContainer)&&void 0!==t?t:null)}},{key:"select",value:function(e){var n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();return r&&(r.removeAllRanges(),r.addRange(n)),t.fromWindow()}}],[{key:"fromWindow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;return new t(e.getSelection())}}]),t}()})),r.register("aGGvO",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk"),a=function(t){var n=t.forceNewLine;return void 0!==n&&n?e(i).createElement(e(i).Fragment,null,e(i).createElement("br",null),e(i).createElement("br",null)):e(i).createElement("br",null)}})),r.register("4ie4r",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("jgze0"),a=r("61szk"),s=r("yEgir"),c=r("cYROq"),l=r("aj9Rm"),u=r("lMwqs"),d=r("72PTQ");var f=function(t){var n,r=t.headingId,o=t.dataAttributes,f=t.allowHeadingAnchorLinks,p=t.marks,h="h".concat(t.level),g=!!t.showAnchorLink,m=function(e){return!(!e||!e.length)&&e.some((function(e){return"alignment"===e.type.name&&"end"===e.attrs.align}))}(p),v=f&&f.allowNestedHeaderLinks;return e(a).createElement(h,e(i)({id:r},o),e(a).createElement(e(a).Fragment,null,g&&m?(n=t.children,e(a).Children.map(n,(function(t){return"string"!=typeof t||/^\s*$/.test(t)?t:e(a).createElement("span",null,t)}))):t.children,g&&e(a).createElement(d.CopyTextConsumer,null,(function(n){var o=n.copyTextToClipboard;return r&&e(a).createElement(u.default.Consumer,null,(function(n){var i=n.fireAnalyticsEvent;return e(a).createElement(s.default,{enableNestedHeaderLinks:v,level:t.level,onCopyText:function(){return i({action:l.ACTION.CLICKED,actionSubject:l.ACTION_SUBJECT.BUTTON,actionSubjectId:l.ACTION_SUBJECT_ID.HEADING_ANCHOR_LINK,eventType:l.EVENT_TYPE.UI}),o(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=new(e(c))(window.location.href);return n.set("hash",encodeURIComponent(t)),n.href}(r))}})}))}))))}})),r.register("yEgir",(function(n,o){t(n.exports,"HeadingAnchorWrapperClassName",(function(){return O})),t(n.exports,"default",(function(){return A}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("lhkMJ"),g=r("jgze0"),m=r("bRWI2"),v=r("61szk"),b=r("SssiD"),y=r("dYdAT"),E=r("kDqoK");r("kXfSB");var x,k=r("hfwau"),C=r("7RIig"),S=r("ba8Dw");function T(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var O="heading-anchor-wrapper",w=e(v).forwardRef((function(t,n){var r=t.children,o=e(m)(t,["children"]);return e(v).createElement("span",e(g)({},o,{className:O,ref:n}),r)})),N=b.default.button(x||(x=e(h)(["\n  display: inline;\n  outline: none;\n  background-color: transparent;\n  border: none;\n  color: ",";\n  cursor: pointer;\n  right: 0;\n"])),y.N500),P=function(t){e(u)(r,t);var n=T(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=n.call.apply(n,[this].concat(c)),e(p)(e(l)(t),"state",{tooltipMessage:"",isClicked:!1}),e(p)(e(l)(t),"setTooltipState",(function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t.setState({tooltipMessage:t.props.intl.formatMessage(e),isClicked:n})})),e(p)(e(l)(t),"copyToClipboard",function(){var n=e(a)(e(i).mark((function n(r){var o,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=S.headingAnchorLinkMessages.copiedHeadingLinkToClipboard,a=S.headingAnchorLinkMessages.failedToCopyHeadingLink,r.stopPropagation(),e.prev=2,e.next=5,t.props.onCopyText();case 5:t.setTooltipState(o,!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),t.setTooltipState(a);case 11:case"end":return e.stop()}}),n,null,[[2,8]])})));return function(e){return n.apply(this,arguments)}}()),e(p)(e(l)(t),"resetMessage",(function(){t.setTooltipState(S.headingAnchorLinkMessages.copyHeadingLinkToClipboard)})),e(p)(e(l)(t),"renderAnchorButton",(function(){return e(v).createElement(N,{onMouseLeave:t.resetMessage,onClick:t.copyToClipboard},e(v).createElement(e(E),{label:"copy",size:t.props.level>3?"small":"medium",primaryColor:t.state.isClicked?y.B400:y.N200}))})),t}return e(c)(r,[{key:"componentDidMount",value:function(){this.resetMessage()}},{key:"render",value:function(){var t=this.state.tooltipMessage;return t?e(v).createElement(k.default,{tag:w,content:t,position:"top",delay:0,key:t},this.renderAnchorButton()):this.renderAnchorButton()}}]),r}(e(v).PureComponent),A=C.injectIntl(P)})),r.register("dYdAT",(function(e,n){t(e.exports,"R50",(function(){return i})),t(e.exports,"R100",(function(){return a})),t(e.exports,"R300",(function(){return s})),t(e.exports,"R400",(function(){return c})),t(e.exports,"R500",(function(){return l})),t(e.exports,"Y200",(function(){return u})),t(e.exports,"Y300",(function(){return d})),t(e.exports,"Y400",(function(){return f})),t(e.exports,"Y500",(function(){return p})),t(e.exports,"B50",(function(){return g})),t(e.exports,"B75",(function(){return m})),t(e.exports,"B100",(function(){return v})),t(e.exports,"B200",(function(){return b})),t(e.exports,"B300",(function(){return y})),t(e.exports,"B400",(function(){return E})),t(e.exports,"B500",(function(){return x})),t(e.exports,"N0",(function(){return k})),t(e.exports,"N20",(function(){return C})),t(e.exports,"N30",(function(){return S})),t(e.exports,"N70",(function(){return T})),t(e.exports,"N90",(function(){return O})),t(e.exports,"N200",(function(){return w})),t(e.exports,"N400",(function(){return N})),t(e.exports,"N500",(function(){return P})),t(e.exports,"N700",(function(){return A})),t(e.exports,"N800",(function(){return I})),t(e.exports,"N20A",(function(){return D})),t(e.exports,"N30A",(function(){return R})),t(e.exports,"N40A",(function(){return M})),t(e.exports,"DN600",(function(){return _})),t(e.exports,"DN400",(function(){return j})),t(e.exports,"DN300",(function(){return B})),t(e.exports,"DN100",(function(){return L})),t(e.exports,"DN70",(function(){return F})),t(e.exports,"DN60",(function(){return z})),t(e.exports,"DN50",(function(){return W})),t(e.exports,"DN30",(function(){return U})),t(e.exports,"DN0",(function(){return H})),t(e.exports,"placeholderText",(function(){return V})),t(e.exports,"heading",(function(){return K})),t(e.exports,"subtleHeading",(function(){return G})),t(e.exports,"skeleton",(function(){return J}));var o=r("f2alH"),i="#FFEBE6",a="#FF8F73",s="#FF5630",c="#DE350B",l="#BF2600",u="#FFC400",d="#FFAB00",f="#FF991F",p="#FF8B00",h="#36B37E",g="#DEEBFF",m="#B3D4FF",v="#4C9AFF",b="#2684FF",y="#0065FF",E="#0052CC",x="#0747A6",k="#FFFFFF",C="#F4F5F7",S="#EBECF0",T="#A5ADBA",O="#8993A4",w="#6B778C",N="#505F79",P="#42526E",A="#253858",I="#172B4D",D="rgba(9, 30, 66, 0.04)",R="rgba(9, 30, 66, 0.08)",M="rgba(9, 30, 66, 0.13)",_="#B8C7E0",j="#9FB0CC",B="#8C9CB8",L="#67758F",F="#3B475C",z="#313D52",W="#283447",U="#1B2638",H="#0D1424",V=(o.default({light:k,dark:U}),o.default({light:g,dark:m}),o.default({light:S,dark:F}),o.default({light:k,dark:W}),o.default({light:"#091E42",dark:_}),o.default({light:I,dark:_}),o.default({light:E,dark:E}),o.default({light:w,dark:B}),o.default({light:"#7A869A",dark:"#7988A3"})),K=o.default({light:I,dark:_}),G=o.default({light:w,dark:B}),J=(o.default({light:C,dark:W}),o.default({light:E,dark:v}),o.default({light:y,dark:b}),o.default({light:x,dark:v}),o.default({light:v,dark:b}),o.default({light:E,dark:v}),o.default({light:E,dark:v}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:s,dark:s}),o.default({light:d,dark:d}),o.default({light:h,dark:h}),function(){return D})})),r.register("f2alH",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("gJ6Gf");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("gJ6Gf",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("kXfSB",(function(e,n){t(e.exports,"default",(function(){return r("hfwau").default}));r("hfwau")})),r.register("hfwau",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("61szk"),l=r("4JuWt"),u=r("gKQyD");r("7f35s");var d=r("UI6ft"),f=r("6arEb"),p=r("hk7TV"),h=r("djEoB"),g=r("bnitQ"),m=r("4qLoL"),v=r("9VWtI"),b=r("4DSpD"),y=r("84lx5"),E=r("7Bgal");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=m.layers.tooltip(),S={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.5.0"};function T(){}function O(t){var n=t.children,r=t.position,o=void 0===r?"bottom":r,s=t.mousePosition,m=void 0===s?"bottom":s,x=t.content,O=t.truncate,w=void 0!==O&&O,N=t.component,P=void 0===N?y.default:N,A=t.tag,I=void 0===A?"div":A,D=t.testId,R=t.delay,M=void 0===R?300:R,_=t.onShow,j=void 0===_?T:_,B=t.onHide,L=void 0===B?T:B,F=t.hideTooltipOnClick,z=void 0!==F&&F,W=t.hideTooltipOnMouseDown,U=void 0!==W&&W,H=t.analyticsContext,V=t.strategy,K=void 0===V?"fixed":V,G="mouse"===o?m:o,J=d.usePlatformLeafSyntheticEventHandler(k({fn:j,action:"displayed",analyticsData:H},S)),q=d.usePlatformLeafSyntheticEventHandler(k({fn:L,action:"hidden",analyticsData:H},S)),Y=c.useRef(null),Z=c.useState("hide"),X=e(a)(Z,2),Q=X[0],$=X[1],ee=c.useRef(null),te=c.useRef(null),ne=c.useCallback((function(e){e&&("function"==typeof n?ee.current=e:(te.current=e,ee.current=e.firstChild))}),[n]),re=c.useRef(Q),oe=c.useRef(M),ie=c.useRef({onShowHandler:J,onHideHandler:q}),ae=c.useRef(!1);c.useEffect((function(){re.current=Q,oe.current=M,ie.current={onShowHandler:J,onHideHandler:q}}),[M,q,J,Q]);var se=c.useCallback((function(e){Y.current=e,ae.current=!1}),[]),ce=c.useCallback((function(){Y.current&&(ae.current&&ie.current.onHideHandler(),Y.current=null,ae.current=!1,$("hide"))}),[]),le=c.useCallback((function(){Y.current&&(Y.current.abort(),ae.current&&ie.current.onHideHandler(),Y.current=null)}),[]);c.useEffect((function(){return function(){Y.current&&le()}}),[le]);var ue=c.useCallback((function(e){if(Y.current&&!Y.current.isActive()&&le(),Y.current&&Y.current.isActive())Y.current.keep();else{var t={source:e,delay:oe.current,show:function(e){var t=e.isImmediate;ae.current||(ae.current=!0,ie.current.onShowHandler()),$(t?"show-immediate":"show-fade-in")},hide:function(e){var t=e.isImmediate;$((function(e){return"hide"!==e?t?"hide":"fade-out":e}))},done:ce},n=v.show(t);se(n)}}),[le,ce,se]),de=c.useCallback((function(){var e;null===(e=Y.current)||void 0===e||e.requestHide({isImmediate:!0})}),[Y]);f.default({onClose:de,isDisabled:"hide"===Q||"fade-out"===Q}),c.useEffect((function(){return"hide"===Q?T:u.bind(window,{type:"scroll",listener:function(){Y.current&&Y.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})}),[Q]);var fe,pe,he=c.useCallback((function(){U&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[U]),ge=c.useCallback((function(){z&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[z]),me=c.useCallback((function(e){if(!(te.current&&e.target===te.current||e.defaultPrevented)){e.preventDefault();var t="mouse"===o?{type:"mouse",mouse:E.getMousePosition({left:e.clientX,top:e.clientY})}:{type:"keyboard"};ue(t)}}),[o,ue]),ve=c.useCallback((function(e){te.current&&e.target===te.current||e.defaultPrevented||(e.preventDefault(),Y.current&&Y.current.requestHide({isImmediate:!1}))}),[]),be=c.useCallback((function(){Y.current&&Y.current.isActive()&&Y.current.keep()}),[]),ye=c.useCallback((function(){ue({type:"keyboard"})}),[ue]),Ee=c.useCallback((function(){Y.current&&Y.current.requestHide({isImmediate:!1})}),[]),xe=c.useCallback((function(e){"exiting"===e&&"fade-out"===re.current&&Y.current&&Y.current.finishHideAnimation()}),[]),ke=I,Ce="hide"!==Q&&Boolean(x),Se="show-immediate"===Q||"show-fade-in"===Q,Te=b.default("tooltip",Ce),Oe={onMouseOver:me,onMouseOut:ve,onClick:ge,onMouseDown:he,onFocus:ye,onBlur:Ee,ref:ne,"aria-describedby":Te,"data-testid":D?"".concat(D,"--container"):void 0};return l.jsx(e(c).Fragment,null,"function"==typeof n?n(Oe):l.jsx(ke,e(i)({},Oe,{role:"presentation"}),n),Ce?l.jsx(g.default,{zIndex:C},l.jsx(h.Popper,{placement:G,referenceElement:(fe=Y.current,pe=fe?fe.getInitialMouse():null,"mouse"===o&&pe?pe:ee.current||void 0),strategy:K},(function(e){var t=e.ref,n=e.style,r=e.update;return l.jsx(p.ExitingPersistence,{appear:!0},Se&&l.jsx(p.FadeIn,{onFinish:xe,duration:"show-immediate"===Q?0:void 0},(function(e){var o=e.className;return l.jsx(P,{ref:t,className:"Tooltip ".concat(o),style:n,truncate:w,placement:G,testId:D,onMouseOut:ve,onMouseOver:be,id:Te},"function"==typeof x?x({update:r}):x)})))}))):null)}O.displayName="Tooltip";var w=O})),r.register("7f35s",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return r("7QL1s").useAnalyticsEvents})),t(e.exports,"usePlatformLeafEventHandler",(function(){return r("kgiIO").usePlatformLeafEventHandler})),t(e.exports,"usePlatformLeafSyntheticEventHandler",(function(){return r("UI6ft").usePlatformLeafSyntheticEventHandler}));r("7QL1s"),r("kgiIO"),r("UI6ft")})),r.register("7QL1s",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("bOBFE"),a=r("cueOO");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("bOBFE",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("30uul").default)})),r.register("30uul",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("cueOO",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("kgiIO",(function(n,o){t(n.exports,"usePlatformLeafEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("7QL1s"),c=r("ffqb3");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.actionSubject,d=t.packageName,f=t.packageVersion,p=t.analyticsData,h=s.useAnalyticsEvents().createAnalyticsEvent,g=c.useTrackedRef(p),m=c.useTrackedRef(n),v=a.useCallback((function(t){var n=h({action:r,actionSubject:u||o,attributes:{componentName:o,packageName:d,packageVersion:f}}),a=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:d,packageVersion:f},g.current);n.context.push(a);var s=n.clone();s&&s.fire("atlaskit"),m.current(t,n)}),[r,o,u,d,f,h,g,m]);return v}})),r.register("ffqb3",(function(e,n){t(e.exports,"useTrackedRef",(function(){return i}));var o=r("61szk"),i=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t}})),r.register("UI6ft",(function(n,o){t(n.exports,"usePlatformLeafSyntheticEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("7QL1s"),c=r("ffqb3");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.packageName,d=t.packageVersion,f=t.analyticsData,p=s.useAnalyticsEvents().createAnalyticsEvent,h=c.useTrackedRef(f),g=c.useTrackedRef(n),m=a.useCallback((function(){var t=p({action:r,actionSubject:o,attributes:{componentName:o,packageName:u,packageVersion:d}}),n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:u,packageVersion:d},h.current);t.context.push(n);var a=t.clone();a&&a.fire("atlaskit"),g.current(t)}),[r,o,u,d,p,h,g]);return m}})),r.register("4qLoL",(function(e,n){t(e.exports,"CHANNEL",(function(){return o})),t(e.exports,"DEFAULT_THEME_MODE",(function(){return i})),t(e.exports,"THEME_MODES",(function(){return a})),t(e.exports,"borderRadius",(function(){return s})),t(e.exports,"layers",(function(){return c})),r("jwHt3");r("fxHXJ"),r("gorYO");var o="__ATLASKIT_THEME__",i="light",a=["light","dark"],s=function(){return 3},c={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}})),r.register("jwHt3",(function(e,n){t(e.exports,"token",(function(){return r("fxHXJ").default}));r("fxHXJ")})),r.register("fxHXJ",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("ldRyN");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("ldRyN",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("gorYO",(function(e,n){t(e.exports,"B100",(function(){return c})),t(e.exports,"N0",(function(){return d})),t(e.exports,"N800",(function(){return p})),t(e.exports,"N30A",(function(){return h})),t(e.exports,"DN600",(function(){return g})),t(e.exports,"DN0",(function(){return b})),t(e.exports,"skeleton",(function(){return y}));var o=r("iz3Kq"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#4C9AFF",l="#2684FF",u="#0052CC",d="#FFFFFF",f="#6B778C",p="#172B4D",h="rgba(9, 30, 66, 0.08)",g="#B8C7E0",m="#8C9CB8",v="#283447",b="#0D1424",y=(o.default({light:d,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:d,dark:v}),o.default({light:"#091E42",dark:g}),o.default({light:p,dark:g}),o.default({light:u,dark:u}),o.default({light:f,dark:m}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:p,dark:g}),o.default({light:f,dark:m}),o.default({light:"#F4F5F7",dark:v}),o.default({light:u,dark:c}),o.default({light:"#0065FF",dark:l}),o.default({light:"#0747A6",dark:c}),o.default({light:c,dark:l}),o.default({light:u,dark:c}),o.default({light:u,dark:c}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("iz3Kq",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1Ig5x");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("1Ig5x",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("4qLoL");function i(e){if(e&&e.theme){if(o.CHANNEL in e.theme)return e.theme[o.CHANNEL];if("mode"in e.theme&&o.THEME_MODES.includes(e.theme.mode))return e.theme}return{mode:o.DEFAULT_THEME_MODE}}})),r.register("9VWtI",(function(e,n){t(e.exports,"show",(function(){return a}));var o=r("2LH8B"),i=null;function a(e){var t="waiting-to-show";function n(){return Boolean(i&&i.entry===e)}function r(){n()&&(o.clearScheduled(),i=null)}function a(){n()&&e.done(),t="done",r()}function s(){n()&&e.hide({isImmediate:!0}),a()}function c(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){var n=Boolean(i&&i.isVisible());function r(){t="shown",e.show({isImmediate:n})}i&&(o.clearScheduled(),i.entry.hide({isImmediate:!0}),i.entry.done(),i=null),i={entry:e,isVisible:c},n?r():(t="waiting-to-show",o.scheduleTimeout(r,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void o.clearScheduled()):"hide-animating"===t?(t="shown",o.clearScheduled(),void e.show({isImmediate:!1})):void 0},abort:r,isActive:n,requestHide:function(r){var i=r.isImmediate;n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(i?s():(t="waiting-to-hide",o.scheduleTimeout((function(){t="hide-animating",e.hide({isImmediate:!1})}),e.delay))):s())},finishHideAnimation:function(){n()&&"hide-animating"===t&&a()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}})),r.register("2LH8B",(function(e,n){t(e.exports,"clearScheduled",(function(){return o})),t(e.exports,"scheduleTimeout",(function(){return i}));var r=null;function o(){null!=r&&(window.clearTimeout(r),r=null)}function i(e,t){o(),r=window.setTimeout((function(){r=null,e()}),t)}})),r.register("4DSpD",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("48Unu");function i(e,t){var n=o.useUIDSeed();return t?"".concat(n(e)):void 0}})),r.register("84lx5",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("lhkMJ"),a=r("61szk"),s=r("4JuWt"),c=r("gorYO");r("4jGxU");var l=r("bQJHJ"),u=r("4qLoL");r("jwHt3");var d,f,p,h=r("fxHXJ"),g=r("1hdel"),m=s.css(d||(d=e(i)(["\n  border-radius: ","px;\n  box-sizing: border-box;\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n"])),u.borderRadius()),v=s.css(f||(f=e(i)(["\n  max-width: 420px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),b=a.forwardRef((function(t,n){var r=t.style,o=t.className,a=t.children,u=t.truncate,d=t.placement,f=t.testId,b=t.onMouseOut,y=t.onMouseOver,E=t.id;return s.jsx(l.default.Consumer,null,(function(t){var l=t.mode;return s.jsx(g.default,{ref:n,style:r,className:o,placement:d,testId:f,id:E,onMouseOut:b,onMouseOver:y,css:[m,u?v:null,s.css(p||(p=e(i)(["\n                background-color: ",";\n                color: ",";\n              "])),"light"===l?h.default("color.background.boldNeutral.resting",c.N800):h.default("color.background.boldNeutral.resting",c.DN0),"light"===l?h.default("color.text.onBold",c.N0):h.default("color.text.onBold",c.DN600))]},a)}))}));b.displayName="TooltipContainer";var y=b})),r.register("4jGxU",(function(e,n){t(e.exports,"default",(function(){return r("bQJHJ").default}));r("bQJHJ")})),r.register("bQJHJ",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("6CJlj").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("6CJlj",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("1hdel",(function(n,o){t(n.exports,"default",(function(){return f}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("4JuWt"),l=r("4qLoL"),u=c.css(i||(i=e(a)(["\n  z-index: ",";\n  cursor: default;\n"])),l.layers.tooltip()),d=s.forwardRef((function(e,t){var n=e.style,r=e.className,o=e.children,i=e.placement,a=e.testId,s=e.onMouseOut,l=e.onMouseOver,d=e.id;return c.jsx("div",{role:"tooltip",ref:t,style:n,className:r,onMouseOut:s,onMouseOver:l,css:u,"data-placement":i,"data-testid":a,id:d},o)}));d.displayName="TooltipPrimitive";var f=d})),r.register("7Bgal",(function(e,n){function r(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}t(e.exports,"getMousePosition",(function(){return r}))})),r.register("ba8Dw",(function(e,n){t(e.exports,"headingAnchorLinkMessages",(function(){return i})),t(e.exports,"codeBlockCopyButtonMessages",(function(){return a}));var o=r("7RIig"),i=o.defineMessages({copyHeadingLinkToClipboard:{id:"fabric.editor.headingLink.copyAnchorLink",defaultMessage:"Copy link to heading",description:"Copy heading link to clipboard"},copiedHeadingLinkToClipboard:{id:"fabric.editor.headingLink.copied",defaultMessage:"Copied!",description:"Copied heading link to clipboard"},failedToCopyHeadingLink:{id:"fabric.editor.headingLink.failedToCopy",defaultMessage:"Copy failed",description:"failed to copy heading link to clipboard"}}),a=o.defineMessages({copyCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedCodeToClipboard:{id:"fabric.editor.codeBlockCopyButton.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}})})),r.register("72PTQ",(function(n,o){t(n.exports,"CopyTextConsumer",(function(){return S})),t(n.exports,"CopyTextProvider",(function(){return O}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("jgze0"),p=r("61szk");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(){return!!navigator.clipboard&&"function"==typeof navigator.clipboard.writeText},m=function(){return window.clipboardData&&"function"==typeof window.clipboardData.setData},v=g(),b=m(),y=function(e){return new Promise((function(t,n){m()?(window.clipboardData.setData("text",e),t()):n("IE clipboard api is not supported")}))},E=function(e,t){return new Promise((function(n,r){if(t){var o=document.createElement("textarea");o.readOnly=!0,o.defaultValue=e,t.appendChild(o),o.select();var i=document.execCommand("copy");t.removeChild(o),i?n():r("Failed to copy")}else r("Copy area reference is not defined")}))},x=function(e){return new Promise((function(t,n){g()?navigator.clipboard.writeText(e).then((function(){return t()}),(function(e){return n(e)})):n("Clipboard api is not supported")}))},k=e(p).createContext({copyTextToClipboard:function(){return new Promise((function(e,t){return t('"copyTextToClipboard" is not initialized')}))}}),C=k.Provider,S=k.Consumer,T=e(p).forwardRef((function(t,n){return e(p).createElement("div",e(f)({ref:n,style:{position:"absolute",left:"-9999px",width:"1px",height:"1px",overflow:"hidden"}},t))})),O=function(t){e(c)(r,t);var n=h(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"copyAreaRef",e(p).createRef()),e(d)(e(s)(t),"copyTextToClipboard",(function(e){return v?x(e):b?y(e):E(e,t.copyAreaRef.current)})),t}return e(a)(r,[{key:"render",value:function(){return e(p).createElement(e(p).Fragment,null,!v&&e(p).createElement(T,{ref:this.copyAreaRef}),e(p).createElement(C,{value:{copyTextToClipboard:this.copyTextToClipboard}},this.props.children))}}]),r}(e(p).Component)})),r.register("6wvJt",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("jgze0"),a=r("61szk"),s=r("1h0nM"),c=function(t){var n=t.text;return e(a).createElement(s.default,e(i)({},t,{type:"inlineExtension"}),(function(t){var r=t.result;try{if(r&&e(a).isValidElement(r))return e(a).createElement("span",null,r)}catch(e){}return e(a).createElement("span",null,n||"inlineExtension")}))}})),r.register("hhB7K",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("div",{"data-layout-section":!0},t.children)}})),r.register("ljIJW",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("61szk");r("igW5C");var a=r("jZsbJ"),s=r("1SpVy");function c(t){return e(i).createElement("div",{"data-layout-column":!0,"data-column-width":t.width,style:{flexBasis:"".concat(t.width,"%")}},e(i).createElement(a.WidthProvider,null,e(i).createElement(s.ClearNextSiblingMarginTop,null),t.children))}})),r.register("keWLt",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("li",null,t.children)}})),r.register("b47he",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("h67q9");r("igW5C");var p=r("jZsbJ"),h=r("5ZnAd");r("8iml0");var g=r("82cWi"),m=r("61szk"),v=r("7RIig"),b=r("jJ4vp"),y=r("hDb5c"),E=r("2qBZt");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var k=function(e){if(!e)return!1;var t=e.props||{},n=t.nodeType,r=t.type;return"media"===n||["external","file","link"].indexOf(r)>=0},C=function t(n){var r=e(m).Children.toArray(n),o=e(f)(r,1)[0];return o&&!k(o)&&o.props.children?t(o.props.children):o},S=function(t){e(c)(r,t);var n=x(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"onExternalImageLoaded",(function(e){var t=e.width,n=e.height;o.setState({width:t,height:n})})),e(d)(e(s)(o),"isCaptionsFlaggedOn",E.getMediaFeatureFlag("captions",o.props.featureFlags)),o.state={},o}return e(a)(r,[{key:"render",value:function(){var t,n=this,r=this.props,o=e(m).Children.toArray(r.children),i=e(f)(o,2),a=i[0],s=i[1];if(k(a))t=a;else{var c=C(a.props.children);if(!c)return a;t=c}var l=t.props,u=l.width,d=void 0===u?250:u,v=l.height,E=void 0===v?200:v;if("external"===l.type){var x=this.state,S=x.width,T=x.height;null===d&&(d=S||250),null===E&&(E=T||200)}null===d&&(d=250,E=200);var O=this.props,w=O.rendererAppearance,N=O.featureFlags,P="full-page"===w?2*b.FullPagePadding:0;return e(m).createElement(p.WidthConsumer,null,(function(o){var i,a,c=o.width,l=o.breakpoint,u=(i=c,a=r.layout,i||"full-width"===a||"wide"===a?i:g.akEditorDefaultLayoutWidth),f=n.props,p=f.isInsideOfBlockNode,v=f.allowDynamicTextSizing,b=E/d*u,x={width:"".concat(u,"px"),height:"".concat(b,"px")},k="full-width"===w,C=u;if(!p&&"comment"!==w){var S=u-P>=g.getAkEditorFullPageMaxWidth(v);C=S&&v?h.mapBreakpointToLayoutMaxWidth(l):S?g.getAkEditorFullPageMaxWidth(v):u-P}var T=k?Math.min(g.akEditorFullWidthLayoutWidth,u-P):C,O={height:E,width:d},A=e(m).cloneElement(t,{resizeMode:"stretchy-fit",cardDimensions:x,originalDimensions:O,onExternalImageLoaded:n.onExternalImageLoaded,disableOverlay:!0,featureFlags:N});return e(m).createElement(y.ExtendedUIMediaSingle,{layout:r.layout,width:d,height:E,lineLength:p?u:T,containerWidth:u,pctWidth:r.width,fullWidthMode:k},e(m).createElement(e(m).Fragment,null,A),n.isCaptionsFlaggedOn&&s)}))}}]),r}(m.Component),T=v.injectIntl(S)})),r.register("jJ4vp",(function(n,o){t(n.exports,"FullPagePadding",(function(){return M})),t(n.exports,"Wrapper",(function(){return L}));var i=r("lhkMJ"),a=r("SssiD");r("eERAN");var s=r("f2alH"),c=r("1bK8H"),l=r("dYdAT"),u=r("7FGmk");r("igW5C");var d=r("jPV1L"),f=r("i9jUF"),p=r("5JmTc"),h=r("cQf9L"),g=r("5AXQ3"),m=r("ddFg9"),v=r("l9pPY"),b=r("bUt3T"),y=r("gY7bO"),E=r("1CZPU"),x=r("f6SCn"),k=r("62D4f"),C=r("6zqMi"),S=r("1FVDX"),T=r("ixNv2"),O=r("kIH45"),w=r("bjJO8"),N=r("b9XJZ");r("8iml0");var P,A,I=r("82cWi"),D=r("hcMY3"),R=r("yEgir"),M=32,_=function(e){return u.headingSizes[e].lineHeight/u.headingSizes[e].size},j={h1:{lineHeight:_("h700")},h2:{lineHeight:_("h600")},h3:{lineHeight:_("h500")},h4:{lineHeight:_("h400")},h5:{lineHeight:_("h300")},h6:{lineHeight:_("h100")}},B=function(t){return a.css(P||(P=e(i)(["\n    /**\n     * The copy link button doesn't reserve space in the DOM so that\n     * the text alignment isn't impacted by the button/icon's space.\n     */\n    ."," {\n      position: absolute;\n      height: ","em;\n\n      margin-left: 6px;\n\n      button {\n        padding-left: 0;\n        padding-right: 0;\n      }\n    }\n\n    /**\n     * Applies hover effects to the heading anchor link button\n     * to fade in when the user rolls over the heading.\n     *\n     * The link is persistent on mobile, so we use feature detection\n     * to enable hover effects for systems that support it (desktop).\n     *\n     * @see https://caniuse.com/mdn-css_at-rules_media_hover\n     */\n    @media (hover: hover) and (pointer: fine) {\n      ."," {\n        > button {\n          opacity: 0;\n          transform: translate(-8px, 0px);\n          transition: opacity 0.2s ease 0s, transform 0.2s ease 0s;\n        }\n      }\n\n      &:hover {\n        ."," > button {\n          opacity: 1;\n          transform: none !important;\n        }\n      }\n    }\n  "])),R.HeadingAnchorWrapperClassName,j[t].lineHeight,R.HeadingAnchorWrapperClassName,R.HeadingAnchorWrapperClassName)},L=a.default.div(A||(A=e(i)(["\n  font-size: ","px;\n  line-height: 1.5rem;\n  color: ",";\n\n  ","\n  ","\n\n  & h1 {\n    ","\n  }\n\n  & h2 {\n    ","\n  }\n\n  & h3 {\n    ","\n  }\n\n  & h4 {\n    ","\n  }\n\n  & h5 {\n    ","\n  }\n\n  & h6 {\n    ","\n  }\n\n  & span.akActionMark {\n    color: ",";\n    text-decoration: none;\n\n    &:hover {\n      color: ",";\n      text-decoration: underline;\n    }\n  }\n\n  & span.akActionMark {\n    cursor: pointer;\n  }\n\n  & span[data-placeholder] {\n    color: ",";\n  }\n\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ",";\n  ","\n\n  & .UnknownBlock {\n    font-family: ",";\n    font-size: ",";\n    font-weight: 400;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n  }\n\n  & span.date-node {\n    background: ",";\n    border-radius: ","px;\n    color: ",";\n    padding: 2px 4px;\n    margin: 0 1px;\n    transition: background 0.3s;\n  }\n\n  & span.date-node-highlighted {\n    background: ",";\n    color: ",";\n  }\n\n  & .renderer-image {\n    max-width: 100%;\n    display: block;\n    margin: ","px 0;\n  }\n\n  .",".rich-media-wrapped + .",":not(.rich-media-wrapped) {\n    clear: both;\n  }\n\n  & .code-block,\n  & blockquote,\n  & hr,\n  & > div > div:not(.rich-media-wrapped),\n  .",".rich-media-wrapped + .rich-media-wrapped + *:not(.rich-media-wrapped),\n  .",".rich-media-wrapped + div:not(.rich-media-wrapped),\n  .",".image-align-start,\n  .",".image-center,\n  .",".image-align-end {\n    clear: both;\n  }\n\n  & .rich-media-wrapped {\n    & + h1,\n    & + h2,\n    & + h3,\n    & + h4,\n    & + h5,\n    & + h6 {\n      margin-top: 8px;\n    }\n  }\n\n  ","\n\n  "," &\n  div[class^='image-wrap-'] + div[class^='image-wrap-'] {\n    margin-left: 0;\n    margin-right: 0;\n  }\n\n  /* Breakout for tables and extensions */\n  ."," > {\n    * ."," {\n      width: 100% !important;\n      left: 0 !important;\n    }\n\n    * ."," {\n      overflow-x: auto;\n    }\n\n    & .",":first-child {\n      margin-top: 0;\n    }\n  }\n\n  ."," {\n    margin-top: ",";\n  }\n\n  ."," {\n      margin-left: 50%;\n      transform: translateX(-50%);\n  }\n\n  ."," {\n    overflow-x: auto;\n  }\n\n  ","\n\n  ."," {\n    z-index: 0;\n    transition: all 0.1s linear;\n    display: flex; /* needed to avoid position: fixed jumpiness in Chrome */\n\n    /** Shadow overrides */\n    &.","::after, &.","::before {\n      top: ","px;\n      height: calc(100% - ","px);\n      z-index: ",";\n    }\n\n    /**\n     * A hack for making all the <th /> heights equal in case some have shorter\n     * content than others.\n     *\n     * This is done to make sort buttons fill entire <th />.\n     */\n    table {\n      height: 1px; /* will be ignored */\n      ",";\n      margin-left: 0;\n      margin-right: 0;\n    }\n\n    table tr:first-child {\n      height: 100%;\n\n      td, th {\n        position: relative;\n      }\n    }\n\n    table[data-number-column='true'] {\n      ."," {\n        background-color: ",";\n        border-right: 1px solid ",";\n        width: ","px;\n        text-align: center;\n        color: ",";\n        font-size: ",";\n      }\n\n      .fixed ."," {\n        border-right: 0px none;\n      }\n    }\n  }\n\n  tr[data-header-row].fixed {\n    position: fixed !important;\n    display: flex;\n    overflow: hidden;\n    z-index: ",";\n\n    border-right: 1px solid ",";\n    border-bottom: 1px solid ",";\n\n    /* this is to compensate for the table border */\n    transform: translateX(-1px);\n  }\n\n  .sticky > th {\n    z-index: ",";\n    position: sticky !important;\n    top: 0;\n  }\n\n  /* Make the number column header sticky */\n  .sticky > td {\n    position: sticky !important;\n    top: 0;\n  }\n\n  /* add border for position: sticky\n     and work around background-clip: padding-box\n     bug for FF causing box-shadow bug in Chrome */\n  .sticky th, .sticky td {\n    box-shadow: 0px 1px ",", 0px -0.5px ",", inset -1px 0px ",", 0px -1px ",";\n  }\n\n   /* this will remove jumpiness caused in Chrome for sticky headers */\n  .fixed + tr {\n    min-height: 0px;\n  }\n\n  /*\n   * We wrap CodeBlock in a grid to prevent it from overflowing the container of the renderer.\n   * See ED-4159.\n   */\n  & .code-block {\n    max-width: 100%;\n    /* -ms- properties are necessary until MS supports the latest version of the grid spec */\n    /* stylelint-disable value-no-vendor-prefix, declaration-block-no-duplicate-properties */\n    display: -ms-grid;\n    display: grid;\n    -ms-grid-columns: auto 1fr;\n    /* stylelint-enable */\n\n    grid-template-columns: minmax(0, 1fr);\n    position: relative;\n    border-radius: ","px;\n\n    /*\n     * The overall renderer has word-wrap: break; which causes issues with\n     * code block line numbers in Safari / iOS.\n     */\n    word-wrap: normal;\n\n    & > span {\n      /* stylelint-disable value-no-vendor-prefix */\n      -ms-grid-row: 1;\n      -ms-grid-column: 2;\n      /* stylelint-enable */\n      grid-column: 1;\n    }\n  }\n\n  & .MediaGroup,\n  & .code-block {\n    margin-top: ",";\n\n    &:first-child {\n      margin-top: 0;\n    }\n\n    &:hover button.copy-to-clipboard{\n      opacity: 1;\n      position: absolute;\n      height: 32px;\n      width: 32px;\n      right: 6px;\n      top: 4px;\n      padding: 2px;\n    }\n  }\n\n  ",";\n  & [data-layout-section] {\n    margin-top: ","px;\n    & > div + div {\n      margin-left: ","px;\n    }\n\n    @media screen and (max-width: ","px) {\n      & > div + div {\n        margin-left: 0;\n      }\n    }\n  }\n"])),I.editorFontSize,s.default({light:l.N800,dark:"#B8C7E0"}),(function(e){var t=e.theme,n=e.appearance;return"full-page"!==n&&"mobile"!==n?"":"\n    max-width: ".concat(t&&t.layoutMaxWidth?"".concat(t.layoutMaxWidth,"px"):"none",";\n    margin: 0 auto;\n    padding: 0 ").concat("full-page"===n?M:0,"px;\n  ")}),(function(e){return"full-width"!==e.appearance?"":"\n  max-width: ".concat(I.akEditorFullWidthLayoutWidth,"px;\n  margin: 0 auto;\n\n  .fabric-editor-breakout-mark,\n  .pm-table-container,\n  .ak-renderer-extension {\n    width: 100% !important;\n  }\n  ")}),B("h1"),B("h2"),B("h3"),B("h4"),B("h5"),B("h6"),l.B400,l.B300,l.placeholderText,f.whitespaceSharedStyles,p.blockquoteSharedStyles,h.headingsSharedStyles,g.panelSharedStyles,m.ruleSharedStyles,v.paragraphSharedStyles,b.listsSharedStyles,y.indentationSharedStyles,E.blockMarksSharedStyles,x.codeMarkSharedStyles,k.shadowSharedStyle,C.dateSharedStyle,S.tasksAndDecisionsStyles,T.smartCardSharedStyles,c.fontFamily(),I.relativeFontSizeToBase16(c.fontSize()),s.default({light:l.N30A,dark:l.DN70}),c.borderRadius(),s.default({light:l.N800,dark:l.DN600}),l.R50,l.R500,3*c.gridSize(),O.richMediaClassName,O.richMediaClassName,O.richMediaClassName,O.richMediaClassName,O.richMediaClassName,O.richMediaClassName,O.richMediaClassName,(function(e){return e.allowNestedHeaderLinks?"\n    .fabric-editor-block-mark[data-align] > {\n      h1, h2, h3, h4, h5, h6 {\n        position: relative;\n      }\n    }\n\n    /**\n     * For right-alignment we flip the link to be before the heading\n     * text so that the text is flush up against the edge of the editor's\n     * container edge.\n     */\n    .fabric-editor-block-mark:not([data-align='center'])[data-align] {\n        > {\n          h1, h2, h3, h4, h5, h6 {\n            // Using right to left text to achieve the inverse effect\n            // of where the copy link button icon sits for left/center\n            // alignment.\n            // Although this is unorthodox it's the only approach which\n            // allows the button to sit flush against the left edge of\n            // bottom line of text.\n            direction: rtl;\n\n            // By default RTL will negatively impact the layout of special\n            // characters within the heading text, and potentially other\n            // nested inline nodes. To prevent this we insert pseudo elements\n            // containing HTML entities to retain LTR for all heading content\n            // except for the copy link button.\n            > *:not(.".concat(R.HeadingAnchorWrapperClassName,"):not(br) {\n              ::before {\n                // Open LTR: https://www.fileformat.info/info/unicode/char/202a/index.htm\n                content: '\u202a';\n              }\n              ::after {\n                // Close LTR: https://www.fileformat.info/info/unicode/char/202c/index.htm\n                content: '\u202c';\n              }\n            }\n          }\n        }\n        .").concat(R.HeadingAnchorWrapperClassName," {\n          margin: 0 6px 0 0;\n        }\n\n        @media (hover: hover) and (pointer: fine) {\n          .").concat(R.HeadingAnchorWrapperClassName," > button {\n            transform: translate(8px, 0px);\n          }\n        }\n      }\n    }\n  "):""}),O.mediaSingleSharedStyle,D.RendererCssClassName.DOCUMENT,d.TableSharedCssClassName.TABLE_CONTAINER,D.RendererCssClassName.EXTENSION_OVERFLOW_CONTAINER,D.RendererCssClassName.EXTENSION,D.RendererCssClassName.EXTENSION,I.blockNodesVerticalMargin,D.RendererCssClassName.EXTENSION_CENTER_ALIGN,d.TableSharedCssClassName.TABLE_NODE_WRAPPER,d.tableSharedStyle,d.TableSharedCssClassName.TABLE_CONTAINER,w.shadowClassNames.RIGHT_SHADOW,w.shadowClassNames.LEFT_SHADOW,d.tableMarginTop-1,d.tableMarginTop,I.akEditorStickyHeaderZIndex,(function(e){var t=e.allowColumnSorting,n=e.allowNestedHeaderLinks;if(!t)return"";var r="";return n&&(r="\n      /**\n       * When the sort button is enabled we want the heading's copy link button\n       * to reserve space so that it can prematurely wrap to avoid the button\n       * being displayed underneath the sort button (hidden or obscured).\n       *\n       * The two buttons fight each other since the sort button is displayed\n       * on hover of the <th /> and the copy link button is displayed on hover\n       * of the heading.\n       *\n       * Note that this can break the WYSIWYG experience in the case where\n       * a heading fills the width of the table cell and the only thing which\n       * wraps is the copy link button. This is hopefully a rare fringe case.\n       */\n      .".concat(R.HeadingAnchorWrapperClassName," {\n        position: unset;\n      }\n      > {\n        h1, h2, h3, h4, h5, h6 {\n          margin-right: 30px;\n        }\n      }\n    ")),"\n    .".concat(D.RendererCssClassName.SORTABLE_COLUMN," {\n      padding: 0;\n\n      .").concat(D.RendererCssClassName.SORTABLE_COLUMN_BUTTON," {\n        width: 100%;\n        height: 100%;\n        cursor: pointer;\n        padding: ").concat(d.tableCellPadding,"px;\n        border-width: 1.5px;\n        border-style: solid;\n        border-color: transparent;\n\n        > *:first-child {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor.-right:first-child + * {\n          margin-top: 0;\n        }\n\n        > .ProseMirror-gapcursor:first-child + span + * {\n          margin-top: 0;\n        }\n\n        @supports selector(:focus-visible) {\n          &:focus {\n            outline: unset;\n          }\n          &:focus-visible {\n            border-color: ").concat(l.B300,";\n          }\n        }\n\n        ").concat(r,"\n      }\n\n      &.").concat(D.RendererCssClassName.SORTABLE_COLUMN_NOT_ALLOWED," .").concat(D.RendererCssClassName.SORTABLE_COLUMN_BUTTON," {\n        cursor: default;\n      }\n\n      .").concat(D.RendererCssClassName.SORTABLE_COLUMN_ICON," {\n        margin: 0;\n        opacity: 1;\n        transition: opacity 0.2s ease-in-out;\n      }\n\n      .").concat(D.RendererCssClassName.SORTABLE_COLUMN_NO_ORDER," {\n        opacity: 0;\n      }\n\n      &:hover {\n        .").concat(D.RendererCssClassName.SORTABLE_COLUMN_NO_ORDER," {\n          opacity: 1;\n        }\n      }\n    }\n  ")}),D.RendererCssClassName.NUMBER_COLUMN,s.default({light:I.akEditorTableToolbar,dark:I.akEditorTableToolbarDark}),s.default({light:I.akEditorTableBorder,dark:I.akEditorTableBorderDark}),I.akEditorTableNumberColumnWidth,s.default({light:l.N200,dark:l.DN400}),I.relativeFontSizeToBase16(c.fontSize()),D.RendererCssClassName.NUMBER_COLUMN,I.akEditorStickyHeaderZIndex,s.default({light:I.akEditorTableBorder,dark:I.akEditorTableBorderDark}),s.default({light:I.akEditorTableBorder,dark:I.akEditorTableBorderDark}),I.akEditorStickyHeaderZIndex,s.default({light:I.akEditorTableBorder,dark:I.akEditorTableBorderDark}),s.default({light:I.akEditorTableBorder,dark:I.akEditorTableBorderDark}),s.default({light:I.akEditorTableToolbar,dark:I.akEditorTableToolbarDark}),s.default({light:I.akEditorTableToolbar,dark:I.akEditorTableToolbarDark}),c.borderRadius(),I.blockNodesVerticalMargin,N.columnLayoutSharedStyle,2.5*c.gridSize(),4*c.gridSize(),I.gridMediumMaxWidth)})),r.register("eERAN",(function(e,n){t(e.exports,"themed",(function(){return r("f2alH").default})),t(e.exports,"default",(function(){return r("4PuhP").default})),t(e.exports,"createTheme",(function(){return r("2RXtQ").createTheme}));r("f2alH"),r("4PuhP"),r("2RXtQ")})),r.register("4PuhP",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("2RXtQ").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("2RXtQ",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("1bK8H",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i})),t(e.exports,"fontSize",(function(){return a})),t(e.exports,"fontFamily",(function(){return s})),r("jwHt3");r("fxHXJ"),r("dYdAT");var o=function(){return 3},i=function(){return 8},a=function(){return 14},s=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"}})),r.register("7FGmk",(function(e,n){t(e.exports,"headingSizes",(function(){return o}));r("l15hj");r("jwHt3");r("fxHXJ"),r("dYdAT"),r("1bK8H");var o={h900:{size:35,lineHeight:40},h800:{size:29,lineHeight:32},h700:{size:24,lineHeight:28},h600:{size:20,lineHeight:24},h500:{size:16,lineHeight:20},h400:{size:14,lineHeight:16},h300:{size:12,lineHeight:16},h200:{size:12,lineHeight:16},h100:{size:11,lineHeight:16}}})),r.register("hDb5c",(function(n,o){t(n.exports,"ExtendedUIMediaSingle",(function(){return l}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s,c=r("5HbdK"),l=a.default(c.default)(s||(s=e(i)(["\n  "," transition: all 0.1s linear;\n"])),(function(e){var t=e.layout;return"full-width"===t||"wide"===t?"\n  margin-left: 50%;\n  transform: translateX(-50%);\n  ":""}))})),r.register("iIIKy",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk");r("igW5C");var a=r("cvuuR"),s=function(t){var n=t.children,r=t.dataAttributes;return e(i).createElement(a.default,{hasContent:!0,dataAttributes:r},n)}})),r.register("fzLwb",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("61szk"),a=r("ekJGA"),s=r("2lFqm");function c(t){return e(i).createElement("ol",{className:a.orderedListSelector.substr(1),"data-indent-level":t.path?s.getListIndentLevel(t.path):1,start:t.start},t.children)}})),r.register("gT6qD",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD"),c=r("fYY0c"),l=r("ltl1p"),u=r("jq8di"),d=r("lCbJB"),f=r("iR4LJ"),p=r("k8VDP"),h=r("ekJGA");r("igW5C");var g,m=r("5AXQ3"),v=r("ibWZV"),b=r("jjPuC"),y=r("f2alH"),E=s.default.div(g||(g=e(i)(["\n  ","\n"])),(function(e){if(e["data-panel-type"]!==h.PanelType.CUSTOM||!e.backgroundColor)return"";var t=y.default({light:"none",dark:"1px solid rgba(255, 255, 255, 0.4)"})(e);return"\n      &[data-panel-type=".concat(h.PanelType.CUSTOM,"] {\n        background-color: ").concat(e.backgroundColor,";\n        border: ").concat(t,";\n      }\n    ")})),x={info:e(c),success:e(u),note:e(f),tip:e(l),warning:e(p),error:e(d),custom:e(v)},k=function(t){var n=t.allowCustomPanels,r=t.panelType,o=t.panelColor,i=t.panelIcon,s=t.providers,c=t.children,l=n?r:r===h.PanelType.CUSTOM?h.PanelType.INFO:r;return e(a).createElement(E,{className:m.PanelSharedCssClassName.prefix,"data-panel-type":l,backgroundColor:o},function(){var t=function(){if(l===h.PanelType.CUSTOM)return i&&s?e(a).createElement(b.default,{shortName:i,providers:s}):null;var t=x[l];return e(a).createElement(t,{label:"Panel ".concat(l)})}();if(t)return e(a).createElement("span",{className:m.PanelSharedCssClassName.icon},t)}(),e(a).createElement("div",{className:m.PanelSharedCssClassName.content},c))}})),r.register("ltl1p",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M14 16h-4s0-.5-1-2-2.5-3-2.5-5S7 4 12 4s5.5 3 5.5 5-1.5 3.5-2.5 5-1 2-1 2zm-4 1h4v1l-1.5 2h-1L10 18v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorHintIcon";var s=a;e.exports.default=s})),r.register("lCbJB",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13.485 11.929l2.122-2.121a1 1 0 00-1.415-1.415l-2.12 2.122L9.95 8.393a1 1 0 00-1.414 1.415l2.12 2.12-2.12 2.122a1 1 0 001.414 1.414l2.121-2.12 2.121 2.12a1 1 0 101.415-1.414l-2.122-2.121zM12 20a8 8 0 110-16 8 8 0 010 16z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorErrorIcon";var s=a;e.exports.default=s})),r.register("iR4LJ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 4h8a2 2 0 012 2v12a2 2 0 01-2 2H8a2 2 0 01-2-2V6a2 2 0 012-2zm1.5 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h5a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-5zm0 4a.5.5 0 00-.5.5v1a.5.5 0 00.5.5h3a.5.5 0 00.5-.5v-1a.5.5 0 00-.5-.5h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorNoteIcon";var s=a;e.exports.default=s})),r.register("ibWZV",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12 5a7 7 0 110 14 7 7 0 010-14zm0 12.5c3.033 0 5.5-2.467 5.5-5.5S15.033 6.5 12 6.5A5.506 5.506 0 006.5 12c0 3.033 2.467 5.5 5.5 5.5zm-1.5-6a1 1 0 110-2 1 1 0 010 2zm3 0a1 1 0 110-2 1 1 0 010 2zm.27 1.583a.626.626 0 01.932.834A3.63 3.63 0 0112 15.125a3.63 3.63 0 01-2.698-1.204.625.625 0 01.93-.835c.901 1.003 2.639 1.003 3.538-.003z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorEmojiIcon";var s=a;e.exports.default=s})),r.register("jjPuC",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");u=r("61szk");r("igW5C");var d=r("9YWJg");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var p=function(t){e(s)(r,t);var n=f(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.id,r=t.providers,o=t.shortName,i=t.text,a=t.fitToHeight;return e(u).createElement(d.default,{allowTextFallback:!0,id:n,shortName:o,fallback:i,providers:r,fitToHeight:a})}}]),r}(u.PureComponent)})),r.register("8Y9eV",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk"),a=r("16LIk");function s(t){var n=t.children,r=t.dataAttributes;return e(i).createElement("p",r,e(i).createElement(a.default,null,n))}})),r.register("16LIk",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){var n=t.children;return e(i).Children.toArray(n).length?n:e(i).createElement(e(i).Fragment,null,"\xa0")}})),r.register("47uiH",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return t.allowPlaceholderText?e(i).createElement("span",{"data-placeholder":"".concat(t.text)},t.text):e(i).createElement("span",null)}})),r.register("hDgqh",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(){return e(i).createElement("hr",null)}})),r.register("2rYlf",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");u=r("61szk");r("hBSHB");var d=r("gqytw");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var p=function(t){e(s)(r,t);var n=f(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.localId;return 0===u.Children.count(n)?null:e(u).createElement(d.default,{listId:r},n)}}]),r}(u.PureComponent)})),r.register("5aS2H",(function(n,o){t(n.exports,"default",(function(){return W}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("SssiD");r("igW5C");var m,v=r("62p8w"),b=r("gAG1i"),y=r("85bzS"),E=r("jPV1L"),x=r("kTFTI"),k=r("bjJO8"),C=r("jZsbJ"),S=r("jJ4vp"),T=r("l0n0r"),O=r("ceP0a"),w=r("cZ17Z"),N=r("cSpBL"),P=r("7pAnM");function A(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var I=function(e,t,n,r){if(!r||r.order===v.SortOrder.NO_ORDER)return e;var o=r.order,i=r.columnIndex,a=b.createCompareNodes({getInlineCardTextFromStore:function(e){var t=e.url;return t&&n.get(t)||null}},o),s=y.convertProsemirrorTableNodeToArrayOfRows(t).map((function(t,n){return{rowNodes:t,rowReact:e[n]}})),c=s.shift(),l=s.sort((function(e,t){return a(e.rowNodes[i],t.rowNodes[i])}));return c&&l.unshift(c),l.map((function(e){return e.rowReact}))},D=function(e){return Math.round(e.getBoundingClientRect().top)},R=function(e,t,n,r){return t<=e&&!(n-r<=e)},M=function(e,t,n){return t-n<=e&&!(t<e)},_=function(t,n,r){return e(h).Children.map(t,(function(t,o){return 0===o?e(h).cloneElement(e(h).Children.only(t),{tableOrderStatus:n,onSorting:r}):t}))},j=function(e){if(!e.length)return!1;var t=e[0].props.children;return!!t.length&&(1===t.length?t[0].type===T.TableHeader:t.every((function(e){return e.type===T.TableHeader})))},B=g.default.div(m||(m=e(p)([""]))),L=function(t){e(l)(r,t);var n=A(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{stickyMode:"none"}),e(f)(e(c)(t),"tableRef",e(h).createRef()),e(f)(e(c)(t),"stickyHeaderRef",e(h).createRef()),e(f)(e(c)(t),"stickyWrapperRef",e(h).createRef()),e(f)(e(c)(t),"wrapperRef",e(h).createRef()),e(f)(e(c)(t),"overflowParent",null),e(f)(e(c)(t),"componentWillUnmount",(function(){t.overflowParent&&t.overflowParent.removeEventListener("scroll",t.onScroll),t.nextFrame&&cancelAnimationFrame(t.nextFrame)})),e(f)(e(c)(t),"getScrollTop",(function(){var e=t.props.stickyHeaders,n=e&&e.offsetTop||0;return(t.overflowParent?t.overflowParent.top:0)+n})),e(f)(e(c)(t),"updateSticky",(function(){var e=t.tableRef.current,n=t.stickyHeaderRef.current;if(e&&n){var r=t.getScrollTop()+N.tableStickyPadding,o=D(e),i=o+e.clientHeight,a=R(r,o,i,n.clientHeight),s="none";M(r,i,n.clientHeight)?s="pin-bottom":a&&(s="stick"),t.state.stickyMode!==s&&t.setState({stickyMode:s}),t.nextFrame=void 0}})),e(f)(e(c)(t),"onScroll",(function(){t.nextFrame||(t.nextFrame=requestAnimationFrame(t.updateSticky))})),e(f)(e(c)(t),"onWrapperScrolled",(function(){t.wrapperRef.current&&t.stickyWrapperRef.current&&(t.stickyWrapperRef.current.scrollLeft=t.wrapperRef.current.scrollLeft)})),e(f)(e(c)(t),"grabFirstRowRef",(function(n){return e(h).Children.map(n,(function(n,r){return 0===r&&e(h).isValidElement(n)?e(h).cloneElement(n,{innerRef:t.stickyHeaderRef}):n}))})),t}return e(s)(r,[{key:"componentDidMount",value:function(){this.props.stickyHeaders&&(this.overflowParent=N.OverflowParent.fromElement(this.tableRef.current),this.overflowParent.addEventListener("scroll",this.onScroll))}},{key:"componentDidUpdate",value:function(e,t){this.props.stickyHeaders&&!this.overflowParent?this.overflowParent=N.OverflowParent.fromElement(this.tableRef.current):!this.props.stickyHeaders&&this.overflowParent&&(this.overflowParent.removeEventListener("scroll",this.onScroll),this.overflowParent=null),this.props.stickyHeaders!==e.stickyHeaders&&this.updateSticky(),t.stickyMode!==this.state.stickyMode&&this.onWrapperScrolled()}},{key:"pinTop",get:function(){if(this.tableRef.current&&this.stickyHeaderRef.current)return this.tableRef.current.offsetHeight-this.stickyHeaderRef.current.offsetHeight+E.tableMarginTop-N.tableStickyPadding}},{key:"stickyTop",get:function(){switch(this.state.stickyMode){case"pin-bottom":return this.pinTop;case"stick":return this.props.stickyHeaders&&this.props.stickyHeaders.offsetTop;default:return}}},{key:"headerRowHeight",get:function(){return this.stickyHeaderRef.current?this.stickyHeaderRef.current.offsetHeight:0}},{key:"render",value:function(){var t,n,r=this.props,o=r.isNumberColumnEnabled,i=r.layout,a=r.renderWidth,s=r.allowDynamicTextSizing,c=r.columnWidths,l=r.stickyHeaders,u=r.tableNode,d=this.state.stickyMode,f=E.calcTableWidth(i,a,!1),p=w.calcLineLength(a,s);(n=this.props.rendererAppearance,"full-page"!==n&&"mobile"!==n||"inherit"===f)||(t=p/2-Number(f.substring(0,f.length-2))/2);var g=this.wrapperRef.current?this.wrapperRef.current.clientWidth:0,m=e(h).Children.toArray(this.props.children);return e(h).createElement(e(h).Fragment,null,l&&function(e,t){return j(t)&&e&&e.firstChild&&(n=e.firstChild,r=!1,n.forEach((function(e){return r=r||e.attrs.rowspan>1})),!r);var n,r}(u,m)&&e(h).createElement(N.StickyTable,{isNumberColumnEnabled:o,tableWidth:f,layout:i,renderWidth:a,handleRef:this.props.handleRef,shadowClassNames:this.props.shadowClassNames,top:this.stickyTop,left:t,mode:d,innerRef:this.stickyWrapperRef,wrapperWidth:g,columnWidths:c,rowHeight:this.headerRowHeight,allowDynamicTextSizing:s},[m&&m[0]]),e(h).createElement(B,{className:"".concat(E.TableSharedCssClassName.TABLE_CONTAINER," ").concat(this.props.shadowClassNames),"data-layout":i,innerRef:this.props.handleRef,style:{width:f,left:t&&t<0?t:void 0}},e(h).createElement("div",{className:E.TableSharedCssClassName.TABLE_NODE_WRAPPER,ref:this.wrapperRef,onScroll:this.props.stickyHeaders&&this.onWrapperScrolled},e(h).createElement(P.Table,{innerRef:this.tableRef,columnWidths:c,layout:i,isNumberColumnEnabled:o,renderWidth:a,allowDynamicTextSizing:s},this.grabFirstRowRef(m)))))}}]),r}(e(h).Component),F=function(t){e(l)(r,t);var n=A(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{tableOrderStatus:void 0}),e(f)(e(c)(t),"addSortableColumn",(function(e){var n=t.props,r=n.tableNode,o=n.allowColumnSorting,i=n.smartCardStorage,a=t.state.tableOrderStatus;return o&&j(e)&&r&&!y.hasMergedCell(r)?_(I(e,r,i,a),a,t.changeSortOrder):e})),e(f)(e(c)(t),"changeSortOrder",(function(e,n){t.setState({tableOrderStatus:{columnIndex:e,order:n}})})),e(f)(e(c)(t),"addNumberColumnIndexes",(function(n){var r=t.props.isNumberColumnEnabled,o=j(n);return e(h).Children.map(n,(function(t,n){return e(h).cloneElement(e(h).Children.only(t),{isNumberColumnEnabled:r,index:o?0===n?"":n:n+1})}))})),t}return e(s)(r,[{key:"render",value:function(){var t=this.props.children;if(!t)return null;var n=e(h).Children.toArray(t),r=x.compose(this.addNumberColumnIndexes,this.addSortableColumn)(n);return e(h).createElement(L,this.props,r)}}]),r}(e(h).Component),z=k.default(F,{overflowSelector:".".concat(E.TableSharedCssClassName.TABLE_NODE_WRAPPER)}),W=O.withSmartCardStorage((function(t){return e(h).createElement(C.WidthConsumer,null,(function(n){var r=n.width,o="full-page"===t.rendererAppearance?r-2*S.FullPagePadding:r;return e(h).createElement(z,e(i)({renderWidth:o},t))}))}))})),r.register("l0n0r",(function(n,o){t(n.exports,"TableHeader",(function(){return O})),t(n.exports,"TableCell",(function(){return w}));var i=r("47NZN"),a=r("l15hj"),s=r("jgze0"),c=r("go2dD"),l=r("4NDMl"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("61szk"),h=r("ekJGA");r("igW5C");var g=r("62p8w"),m=r("kTFTI"),v=r("hGGTb"),b=r("xZkvv"),y=r("aj9Rm"),E=r("hcMY3");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var k=["LABEL","INPUT"],C=function(e){switch(e){case g.SortOrder.NO_ORDER:return"none";case g.SortOrder.ASC:return"ascending";case g.SortOrder.DESC:return"descending";default:return"none"}},S=function(e,t,n){var r={};return e&&(r.backgroundColor=e),t&&(r.width=t,r.minWidth=t),void 0!==n&&(r.top=n),r},T=function(t){return function(n){e(u)(o,n);var r=x(o);function o(){return e(c)(this,o),r.apply(this,arguments)}return e(l)(o,[{key:"render",value:function(){var n=this.props,r=n.children,o=n.className,i=n.onClick,a=n.colwidth,c=n.colGroupWidth,l=n.rowspan,u=n.colspan,d=n.background,f=n.offsetTop,g=n.ariaSort,m=d?h.tableBackgroundColorPalette.get(d):"";return e(p).createElement(t,e(s)({rowSpan:l,colSpan:u,style:S(d,c,f),colorname:m,onClick:i,className:o},function(e){var t={};return e&&(t["data-colwidth"]=e.join(",")),t}(a),{"aria-sort":g}),r)}}]),o}(e(p).Component)},O=m.compose((function(t){return function(n){e(u)(o,n);var r=x(o);function o(t){var n;return e(c)(this,o),n=r.call(this,t),e(a)(e(i)(n),"onKeyPress",(function(e){[" ","Enter","Spacebar"].includes(e.key)&&(e.preventDefault(),n.onClick(e))})),e(a)(e(i)(n),"onClick",(function(e){var t=e.target.tagName;if(!k.includes(t)){var r=n.props,o=r.fireAnalyticsEvent,i=r.onSorting,a=r.columnIndex,s=r.sortOrdered;if(i&&null!=a){var c=function(e){switch(e){case g.SortOrder.NO_ORDER:return g.SortOrder.ASC;case g.SortOrder.ASC:return g.SortOrder.DESC;case g.SortOrder.DESC:return g.SortOrder.NO_ORDER}return g.SortOrder.NO_ORDER}(s);i(a,c),o&&o({action:y.ACTION.SORT_COLUMN,actionSubject:y.ACTION_SUBJECT.TABLE,attributes:{platform:b.PLATFORM.WEB,mode:b.MODE.RENDERER,columnIndex:a,sortOrder:c},eventType:y.EVENT_TYPE.TRACK})}else o&&o({action:y.ACTION.SORT_COLUMN_NOT_ALLOWED,actionSubject:y.ACTION_SUBJECT.TABLE,attributes:{platform:b.PLATFORM.WEB,mode:b.MODE.RENDERER},eventType:y.EVENT_TYPE.TRACK})}})),n}return e(l)(o,[{key:"render",value:function(){var n=this.props,r=n.allowColumnSorting,o=n.onSorting,i=n.children,a=n.sortOrdered,c=n.isHeaderRow,l=a===g.SortOrder.NO_ORDER?E.RendererCssClassName.SORTABLE_COLUMN_NO_ORDER:"";if(!r||!c)return e(p).createElement(t,this.props);var u=E.RendererCssClassName.SORTABLE_COLUMN;return o||(u="".concat(u," ").concat(E.RendererCssClassName.SORTABLE_COLUMN_NOT_ALLOWED)),e(p).createElement(t,e(s)({},this.props,{className:u,ariaSort:C(a)}),e(p).createElement("div",{className:E.RendererCssClassName.SORTABLE_COLUMN_BUTTON,role:"button",tabIndex:o?0:-1,onClick:this.onClick,onKeyDown:this.onKeyPress,"aria-disabled":!o},i,e(p).createElement("figure",{"aria-hidden":!0,className:"".concat(E.RendererCssClassName.SORTABLE_COLUMN_ICON," ").concat(l)},e(p).createElement(v.default,{isSortingAllowed:!!o,sortOrdered:a}))))}}]),o}(e(p).Component)}),T)("th"),w=T("td")})),r.register("hGGTb",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD");r("igW5C");var c=r("62p8w");r("kXfSB");var l,u,d,f,p=r("hfwau"),h=r("1bK8H"),g=r("dYdAT"),m="data:image/svg+xml;utf8,".concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M-8-6h24v24H-8z"></path><path d="M3 8.509V1c0-.552.449-1 1-1 .552 0 1 .448 1 1V8.51l1.217-1.206a1.05 1.05 0 011.477 0 1.03 1.03 0 01.004 1.463l-.003.002-2.956 2.93a1.053 1.053 0 01-1.478 0L.305 8.767a1.03 1.03 0 01.001-1.464 1.05 1.05 0 011.477 0L3 8.508z" fill="#42526E"></path></g></svg>')),v="table-sorting-icon";(f=d||(d={})).ASC="sorting-icon-svg__asc",f.DESC="sorting-icon-svg__desc",f.NO_ORDER="sorting-icon-svg__no_order",f.SORTING_NOT_ALLOWED="sorting-icon-svg__not-allowed";var b=s.default.figure(l||(l=e(i)(["\n  position: absolute;\n  display: flex;\n  height: 28px;\n  width: 28px;\n  margin: 6px;\n  right: 0;\n  top: 0;\n  border: 2px solid #fff;\n  border-radius: ","px;\n  background-color: ",";\n  justify-content: center;\n  align-items: center;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &."," {\n    cursor: not-allowed;\n  }\n"])),h.gridSize()/2,g.N20,g.N30,d.SORTING_NOT_ALLOWED),y=s.default.div(u||(u=e(i)(["\n  width: 8px;\n  height: 12px;\n  transition: transform 0.3s cubic-bezier(0.15, 1, 0.3, 1);\n  transform-origin: 50% 50%;\n  background-image: url(",");\n\n  &."," {\n    transform: rotate(-180deg);\n  }\n\n  &.","-inactive {\n    opacity: 0.5;\n  }\n"])),m,d.DESC,v),E=function(e){switch(e){case c.SortOrder.ASC:return d.ASC;case c.SortOrder.DESC:return d.DESC;default:return d.NO_ORDER}},x=function(t){var n=t.isSortingAllowed,r=t.sortOrdered,o=r!==c.SortOrder.NO_ORDER,i=n?"":d.SORTING_NOT_ALLOWED,s=n?function(e){switch(e){case c.SortOrder.NO_ORDER:return"Sort column A to Z";case c.SortOrder.ASC:return"Sort column Z to A";case c.SortOrder.DESC:return"Clear sorting"}return""}(r):"\u26a0\ufe0f  You can't sort a table with merged cell";return e(a).createElement(p.default,{delay:0,content:s,position:"top"},e(a).createElement(b,{className:i},e(a).createElement(y,{className:"".concat(E(r)," ").concat(v,"-").concat(o?"active":"inactive")})))}})),r.register("xZkvv",(function(e,n){var r,o,i,a,s,c;t(e.exports,"PLATFORM",(function(){return r})),t(e.exports,"MODE",(function(){return i})),(o=r||(r={})).NATIVE="mobileNative",o.HYBRID="mobileHybrid",o.WEB="web",(a=i||(i={})).RENDERER="renderer",a.EDITOR="editor",(c=s||(s={})).COMPONENT="component",c.CONSUMER="consumer",c.ORPHANED="orphaned"})),r.register("ceP0a",(function(n,o){t(n.exports,"Provider",(function(){return h})),t(n.exports,"withSmartCardStorage",(function(){return g}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("61szk");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var p=e(d).createContext(new Map),h=function(t){var n=t.children;return e(d).createElement(p.Provider,{value:new Map},n)},g=function(t){return function(n){e(c)(o,n);var r=f(o);function o(){return e(a)(this,o),r.apply(this,arguments)}return e(s)(o,[{key:"render",value:function(){var n=this;return e(d).createElement(p.Consumer,null,(function(r){return e(d).createElement(t,e(i)({},n.props,{smartCardStorage:r}))}))}}]),o}(e(d).Component)}})),r.register("cZ17Z",(function(n,o){t(n.exports,"BreakoutSSRInlineScript",(function(){return s})),t(n.exports,"calcLineLength",(function(){return u}));var i=r("61szk");r("igW5C");var a=r("3cpVm");function s(t){var n=t.allowDynamicTextSizing;if("undefined"!=typeof window&&!window.navigator.userAgent.includes("jsdom"))return null;var r=Math.floor(9999990001*Math.random())+9999,o=function(e,t){return"\n  (function(window){\n    ".concat(c,";\n    (").concat(l.toString(),')("').concat(e,'", ').concat(t,", breakoutConsts);\n  })(window);\n")}(r,n);return e(i).createElement("script",{"data-breakout-script-id":r,dangerouslySetInnerHTML:{__html:o}})}var c="\n  var breakoutConsts = ".concat(JSON.stringify(a.breakoutConsts),";\n  breakoutConsts.mapBreakpointToLayoutMaxWidth = ").concat(a.breakoutConsts.mapBreakpointToLayoutMaxWidth.toString(),";\n  breakoutConsts.getBreakpoint = ").concat(a.breakoutConsts.getBreakpoint.toString(),";\n  breakoutConsts.calcBreakoutWidth = ").concat(a.breakoutConsts.calcBreakoutWidth.toString(),";\n  breakoutConsts.calcLineLength = ").concat(a.breakoutConsts.calcLineLength.toString(),";\n  breakoutConsts.calcWideWidth = ").concat(a.breakoutConsts.calcWideWidth.toString(),";\n");function l(e,t,n){var r=function(e,t){if(e)for(;e.parentElement;){if(e.parentElement.classList.contains(t))return e.parentElement;e=e.parentElement}}(document.querySelector('[data-breakout-script-id="'+e+'"]'),"ak-renderer-wrapper");if(r){var o=new MutationObserver((function(e){e.forEach((function(e){e.target.nodeType===Node.ELEMENT_NODE&&e.target.classList.contains("ak-renderer-document")&&e.addedNodes.forEach((function(e){var o=e,i=o.dataset.mode||o.dataset.layout||"";if(i&&["full-width","wide"].includes(i)){var a=n.calcBreakoutWidth(i,r.offsetWidth);if(o.style.width!==a&&(o.style.width=a,o.classList.contains("pm-table-container"))){var s=n.calcLineLength(r.offsetWidth,t)/2-parseInt(a)/2;s<0&&(o.style.left=s+"px")}}}))}))}));o.observe(r,{childList:!0,subtree:!0});window.addEventListener("load",(function e(){o.disconnect(),window.removeEventListener("load",e)}))}}var u=a.breakoutConsts.calcLineLength})),r.register("cSpBL",(function(n,o){t(n.exports,"tableStickyPadding",(function(){return y})),t(n.exports,"StickyTable",(function(){return C})),t(n.exports,"OverflowParent",(function(){return S}));var i=r("go2dD"),a=r("4NDMl"),s=r("lhkMJ"),c=r("61szk"),l=r("SssiD");r("igW5C");var u=r("jPV1L");r("8iml0");var d,f,p,h=r("82cWi"),g=r("dYdAT"),m=r("jAS4L"),v=r("7pAnM"),b=g.N40A,y=8,E=l.default.div.attrs({style:function(e){var t=e.left;return{left:t&&t<0?t:void 0,top:e.top}}})(d||(d=e(s)(["\n  position: relative;\n"]))),x=l.default.div.attrs({style:function(e){return{top:e.top,width:e.wrapperWidth}}})(f||(f=e(s)(["\n  ",";\n  ",";\n  ",";\n\n  z-index: ",";\n\n  &\n    .",",\n    &\n    .","\n    > table {\n    margin-top: 0;\n    margin-bottom: 0;\n  }\n\n  border-top: ","px solid white;\n  background: white;\n  box-shadow: 0 6px 4px -4px ",";\n\n  div[data-expanded='false'] & {\n    display: none;\n  }\n\n  &\n    .",".right-shadow::after,\n    &\n    .",".left-shadow::before {\n    top: 0px;\n    height: 100%;\n  }\n"])),(function(e){return"stick"===e.mode?"position: fixed":""}),(function(e){return"pin-bottom"===e.mode?"position: absolute":""}),(function(e){return"none"===e.mode?"display: none":""}),h.akEditorStickyHeaderZIndex,u.TableSharedCssClassName.TABLE_CONTAINER,u.TableSharedCssClassName.TABLE_STICKY_WRAPPER,y,b,u.TableSharedCssClassName.TABLE_CONTAINER,u.TableSharedCssClassName.TABLE_CONTAINER),k=l.default.div(p||(p=e(s)([""]))),C=function(t){var n=t.top,r=t.left,o=t.mode,i=t.shadowClassNames,a=t.innerRef,s=t.wrapperWidth,l=t.tableWidth,d=t.isNumberColumnEnabled,f=t.layout,p=t.children,h=t.columnWidths,g=t.renderWidth,m=t.allowDynamicTextSizing,b=t.rowHeight;return e(c).createElement(E,{left:r,top:"pin-bottom"===o?n:void 0},e(c).createElement(x,{top:"stick"===o?n:void 0,mode:b>300?"none":o,wrapperWidth:s},e(c).createElement(k,{className:"".concat(u.TableSharedCssClassName.TABLE_CONTAINER," ").concat(i),"data-layout":f,style:{width:l}},e(c).createElement(k,{innerRef:a,className:"".concat(u.TableSharedCssClassName.TABLE_STICKY_WRAPPER),style:{overflow:"hidden"}},e(c).createElement(v.Table,{columnWidths:h,layout:f,isNumberColumnEnabled:d,renderWidth:g,allowDynamicTextSizing:m},p)))))},S=function(){function t(n){e(i)(this,t),this.ref=n,this.ref=n}return e(a)(t,[{key:"isElement",get:function(){return this.ref instanceof HTMLElement}},{key:"top",get:function(){return this.ref instanceof HTMLElement?this.ref.getBoundingClientRect().top:0}},{key:"addEventListener",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(n=this.ref).addEventListener.apply(n,[e,t].concat(o))}},{key:"removeEventListener",value:function(e,t){for(var n,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];(n=this.ref).removeEventListener.apply(n,[e,t].concat(o))}}],[{key:"fromElement",value:function(e){return new t(m.findHorizontalOverflowScrollParent(e)||window)}}]),t}()})),r.register("jAS4L",(function(e,n){t(e.exports,"getText",(function(){return o})),t(e.exports,"getEventHandler",(function(){return i})),t(e.exports,"findHorizontalOverflowScrollParent",(function(){return a})),t(e.exports,"getPlatform",(function(){return s})),t(e.exports,"findInTree",(function(){return c}));r("go2dD"),r("ekJGA"),r("cquxg");var o=function(e){return e.text||e.attrs&&(e.attrs.text||e.attrs.shortName)||"[".concat("string"==typeof e.type?e.type:e.type.name,"]")},i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"onClick";return e&&t&&e[t]&&e[t][n]};function a(e){var t=e;if(!t)return null;for(;t=t.parentElement;){var n=window.getComputedStyle(t);if("scroll"===n.overflow||"scroll"===n.overflowY)return t}return null}var s=function(e){return"mobile"===e?"mobile":"web"};function c(e,t,n){return e!==t&&(!!n(e)||!!e.parentElement&&c(e.parentElement,t,n))}})),r.register("7pAnM",(function(n,o){t(n.exports,"Table",(function(){return s}));var i=r("61szk"),a=r("cfkSh"),s=e(i).memo((function(t){var n=t.innerRef,r=t.isNumberColumnEnabled,o=t.columnWidths,s=t.layout,c=t.renderWidth,l=t.allowDynamicTextSizing,u=t.children;return e(i).createElement("table",{"data-number-column":r,ref:n},e(i).createElement(a.Colgroup,{columnWidths:o,layout:s,isNumberColumnEnabled:r,renderWidth:c,allowDynamicTextSizing:l}),e(i).createElement("tbody",null,u))}))})),r.register("cfkSh",(function(n,o){t(n.exports,"Colgroup",(function(){return l}));var i=r("61szk");r("igW5C");var a=r("jPV1L");r("8iml0");var s=r("82cWi"),c=r("cZ17Z"),l=function(t){var n=t.columnWidths,r=t.layout,o=t.isNumberColumnEnabled,l=t.renderWidth,u=t.allowDynamicTextSizing;if(!n||!function(e){return!!e.filter((function(e){return 0!==e})).length}(n))return null;var d=function(e,t){switch(e){case"full-width":return s.akEditorFullWidthLayoutWidth;case"wide":return s.akEditorWideLayoutWidth;default:var n=t||{},r=n.containerWidth,o=n.isDynamicTextSizingEnabled;return c.calcLineLength(r,o)}}(r,{isDynamicTextSizingEnabled:u,containerWidth:l}),f=l<d?l:d;"default"===r&&(l=Math.min(l,d));var p=o?s.akEditorTableNumberColumnWidth:0,h=p,g=0;n.forEach((function(e){e?p+=Math.ceil(e):g+=1,h+=Math.ceil(e)||s.akEditorTableLegacyCellMinWidth}));var m=0,v=0;if(g>0){if(h>f){var b=Math.ceil((f-p)/g);m=b<s.akEditorTableLegacyCellMinWidth?s.akEditorTableLegacyCellMinWidth:b}}else l<p&&(v=function(e){var t=e.renderWidth,n=e.tableWidth,r=e.maxScale,o=1-t/n;return o<r?o:r}({renderWidth:l,tableWidth:p,maxScale:.15}));return e(i).createElement("colgroup",null,o&&e(i).createElement("col",{style:{width:s.akEditorTableNumberColumnWidth}}),n.map((function(t,n){var r=function(e,t,n,r,o){return 0===e?e:0===r&&o?Math.floor((1-o)*e):Math.max(e-a.tableCellBorderWidth,r?s.akEditorTableLegacyCellMinWidth:a.tableCellMinWidth)}(t,0,0,g,v)||m,o=r?{width:"".concat(r,"px")}:{};return e(i).createElement("col",{key:n,style:o})})))}})),r.register("1Ooqx",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("igW5C");var p=r("62p8w"),h=r("kTFTI"),g=r("hcMY3");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{colGroupWidths:[]}),e(d)(e(s)(t),"addSortableColumn",(function(n){var r=t.props,o=r.allowColumnSorting,i=r.index;if(o){var a=!i;n=n.map((function(n,r){if(e(f).isValidElement(n)){var o=t.props.tableOrderStatus,i=p.SortOrder.NO_ORDER;return o&&(i=r===o.columnIndex?o.order:p.SortOrder.NO_ORDER),e(f).cloneElement(n,{columnIndex:r,onSorting:t.props.onSorting,sortOrdered:i,isHeaderRow:a})}}))}return n})),e(d)(e(s)(t),"addColGroupWidth",(function(n){return t.state.colGroupWidths&&(n=n.map((function(n,r){if(e(f).isValidElement(n))return e(f).cloneElement(n,{colGroupWidth:t.state.colGroupWidths[r]})}))),n})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.children,r=t.innerRef,o=e(f).Children.toArray(n);return e(f).createElement("tr",{ref:r},this.props.isNumberColumnEnabled&&e(f).createElement("td",{className:g.RendererCssClassName.NUMBER_COLUMN},this.props.index),h.compose(this.addSortableColumn,this.addColGroupWidth)(o))}}]),r}(e(f).Component)})),r.register("2EPQe",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("div",{className:"UnknownBlock"},t.children)}})),r.register("bTuwx",(function(n,o){t(n.exports,"default",(function(){return S}));var i=r("jgze0"),a=r("h67q9"),s=r("lhkMJ"),c=r("61szk"),l=r("9LzOV");r("igW5C");var u=r("5HbdK"),d=r("jZsbJ"),f=r("5ZnAd"),p=r("isabZ");r("8iml0");var h,g,m=r("82cWi"),v=r("jAS4L"),b=r("gAhdb"),y=r("SssiD"),E=r("jJ4vp"),x=r("7zdEj"),k=y.default.div(h||(h=e(s)(["\n  width: 100%;\n  height: 100%;\n\n  > div {\n    height: 100%;\n  }\n\n  .loader-wrapper {\n    height: 100%;\n  }\n\n  margin: 0 auto;\n"])));k.displayName="EmbedCardWrapper";var C=y.default(u.default)(g||(g=e(s)(["\n  ","\n"])),(function(e){var t=e.layout;return"full-width"===t||"wide"===t?"\n  margin-left: 50%;\n  transform: translateX(-50%);\n  ":""}));function S(t){var n=t.url,r=t.data,o=t.eventHandlers,s=t.portal,u=t.layout,h=t.width,g=t.isInsideOfBlockNode,y=t.allowDynamicTextSizing,S=t.rendererAppearance,T=c.useRef(null),O=x.getCardClickHandler(o,n),w=c.useMemo((function(){return v.getPlatform(S)}),[S]),N={url:n,data:r,onClick:O,container:s,platform:w,showActions:"web"===w},P=c.useState(null),A=e(a)(P,2),I=A[0],D=A[1],R=c.useState(),M=e(a)(R,2),_=M[0],j=M[1],B=I||t.originalHeight,L=m.DEFAULT_EMBED_CARD_HEIGHT,F=m.DEFAULT_EMBED_CARD_WIDTH;t.originalHeight&&t.originalWidth&&(L=t.originalHeight,F=t.originalWidth),_&&(L=1,F=_);var z=!(t.originalHeight&&t.originalWidth)||I;B&&z&&(L=B,F=void 0);var W="full-page"===S?2*E.FullPagePadding:0,U=c.useState(!0),H=e(a)(U,2),V=H[0],K=H[1],G=c.useContext(l.Context),J=function(e){var t=e.aspectRatio;!!(G&&n&&G.extractors.getPreview(n,w))||K(!1),j(t)};return e(c).createElement(d.WidthConsumer,null,(function(t){var o=t.width,a=t.breakpoint,s=o,d="full-width"===S;if(!g&&"comment"!==S){var v=o-W>=m.akEditorDefaultLayoutWidth;s=v&&y?f.mapBreakpointToLayoutMaxWidth(a):v?m.getAkEditorFullPageMaxWidth(y):o-W}var E=d?Math.min(m.akEditorFullWidthLayoutWidth,o-W):s;return e(c).createElement(b.CardErrorBoundary,e(i)({unsupportedComponent:p.default},N),e(c).createElement(l.IframelyResizeMessageListener,{embedIframeRef:T,onHeightUpdate:D},e(c).createElement(C,{layout:u,width:F,containerWidth:o,pctWidth:h,height:L,fullWidthMode:d,nodeType:"embedCard",lineLength:g?o:E,hasFallbackContainer:V},e(c).createElement(k,null,e(c).createElement("div",{className:"embedCardView-content-wrap","data-embed-card":!0,"data-layout":u,"data-width":h,"data-card-data":r?JSON.stringify(r):void 0,"data-card-url":n,"data-card-original-height":L},e(c).createElement(l.Card,e(i)({appearance:"embed"},N,{onResolve:J,inheritDimensions:!0,embedIframeRef:T})))))))}))}C.displayName="ExtendedEmbedCard"})),r.register("gAhdb",(function(n,o){t(n.exports,"CardErrorBoundary",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var h=function(t){e(c)(r,t);var n=p(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{isError:!1}),e(d)(e(s)(t),"onClickFallback",(function(e){var n=t.props,r=n.onClick,o=n.url;e.preventDefault(),r&&r(e,o)})),t}return e(a)(r,[{key:"render",value:function(){if(this.state.isError){var t=this.props.url;if(t)return e(f).createElement("a",{href:t,onClick:this.onClickFallback},t);var n=this.props.unsupportedComponent;return e(f).createElement(n,null)}return this.props.children}},{key:"componentDidCatch",value:function(e){this.setState({isError:!0})}}]),r}(e(f).PureComponent)})),r.register("7zdEj",(function(e,n){t(e.exports,"getCardClickHandler",(function(){return i}));var o=r("jAS4L"),i=function(e,t){var n=o.getEventHandler(e,"smartCard");return n?function(e){return n(e,t)}:void 0}})),r.register("bWndk",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5AM1n")).then((()=>r("liXom")))})),r.register("31r1v",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("7I4dg")).then((()=>r("f9PCN")))})),r.register("6cui5",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4Crs8")).then((()=>r("iChpt")))})),r.register("7bNWF",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("9v0yk")).then((()=>r("1jUdW")))})),r.register("6Iuwe",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4hvnO")).then((()=>r("fyNXj")))})),r.register("ar6wY",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("hSJRt")).then((()=>r("7RixD")))})),r.register("3gcLt",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("iB2Fh")).then((()=>r("6IICy")))})),r.register("9AkiW",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8mrVx")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8AGkR")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ax9kO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("6VgZk")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bosvO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5c9IN")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("61ZYY"))]).then((()=>r("9iFeJ")))})),r.register("2APqH",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8mrVx")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8AGkR")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ax9kO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("6VgZk")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bosvO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5c9IN")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("iH1FM"))]).then((()=>r("iUv8c")))})),r.register("Y5DWf",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("k5kER")).then((()=>r("amvGw")))})),r.register("aS6ti",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("3ccud")).then((()=>r("5M9Is")))})),r.register("buSTH",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk");r("7jSev");var a=r("2ssnc"),s=e(i).memo((function(t){var n=t.startPos,r=t.endPos,o=t.text;return o?e(i).createElement(a.TextWithAnnotationDraft,{text:o,startPos:n,endPos:r}):null}))})),r.register("7jSev",(function(n,o){t(n.exports,"AnnotationsWrapper",(function(){return h})),t(n.exports,"TextWithAnnotationDraft",(function(){return r("2ssnc").TextWithAnnotationDraft})),t(n.exports,"AnnotationMark",(function(){return r("8GBrw").MarkElement}));var i=r("61szk"),a=r("ekJGA"),s=r("83F8F"),c=r("gMKkU"),l=r("aP7lg"),u=r("cbZiF"),d=r("awk9h");r("7f35s");var f=r("7QL1s"),p=(r("2ssnc"),r("8GBrw"),e(i).memo((function(e){var t=e.adfDocument;return u.useLoadAnnotations({adfDocument:t}),null}))),h=function(t){var n=t.children,r=t.annotationProvider,o=t.rendererRef,u=t.adfDocument,h=r&&r.inlineComment&&r.inlineComment.updateSubscriber,g=d.useAnnotationStateByTypeEvent({type:a.AnnotationTypes.INLINE_COMMENT,updateSubscriber:h||null}),m=f.useAnalyticsEvents().createAnalyticsEvent;return e(i).createElement(l.ProvidersContext.Provider,{value:r},e(i).createElement(l.InlineCommentsStateContext.Provider,{value:g},e(i).createElement(c.Wrapper,{createAnalyticsEvent:m,rendererRef:o},e(i).createElement(p,{adfDocument:u}),e(i).createElement(s.AnnotationView,{createAnalyticsEvent:m}),n)))}})),r.register("83F8F",(function(n,o){t(n.exports,"AnnotationView",(function(){return l}));var i=r("61szk"),a=r("aP7lg"),s=r("awk9h"),c=r("8F8yW"),l=function(t){var n=i.useContext(a.ProvidersContext),r=i.useContext(c.RendererContext),o=n&&n.inlineComment,l=o&&o.updateSubscriber||null,u=s.useAnnotationClickEvent({updateSubscriber:l,createAnalyticsEvent:t.createAnalyticsEvent}),d=o&&o.viewComponent,f=i.useMemo((function(){return function(e){return r.deleteAnnotation(e.id,e.type)}}),[r]);if(d&&u){var p=u.annotations,h=u.clickElementTarget;return e(i).createElement(d,{annotations:p,clickElementTarget:h,deleteAnnotation:f})}return null}})),r.register("aP7lg",(function(n,o){t(n.exports,"AnnotationsDraftContext",(function(){return h})),t(n.exports,"ProvidersContext",(function(){return g})),t(n.exports,"InlineCommentsStateContext",(function(){return m})),t(n.exports,"AnnotationsDraftContextWrapper",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var h=f.createContext(null),g=f.createContext(null),m=f.createContext({}),v=function(t){e(c)(r,t);var n=p(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{position:null}),e(d)(e(s)(t),"applyAnnotationDraftAt",(function(e){t.state.position||t.setState({position:e})})),e(d)(e(s)(t),"clearAnnotationDraft",(function(){t.setState({position:null})})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props.children,n=this.state.position,r=this.applyAnnotationDraftAt,o=this.clearAnnotationDraft;return e(f).createElement(h.Provider,{value:n},t({applyAnnotationDraftAt:r,clearAnnotationDraft:o}))}}]),r}(e(f).Component)})),r.register("awk9h",(function(n,o){t(n.exports,"useAnnotationStateByTypeEvent",(function(){return h})),t(n.exports,"useHasFocusEvent",(function(){return g})),t(n.exports,"useAnnotationClickEvent",(function(){return m}));var i=r("l15hj"),a=r("h67q9"),s=r("61szk");r("igW5C");var c=r("57vEr"),l=r("ekJGA"),u=r("aj9Rm"),d=r("eFHDY");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=function(t){var n=t.type,r=t.updateSubscriber,o=s.useState({}),l=e(a)(o,2),u=l[0],d=l[1];return s.useLayoutEffect((function(){if(r){var t=function(t){if(t){var r=Object.values(t).reduce((function(t,r){return r.annotationType===n?p(p({},t),{},e(i)({},r.id,r.state)):t}),{});d(p(p({},u),r))}};return r.on(c.AnnotationUpdateEvent.SET_ANNOTATION_STATE,t),function(){r.off(c.AnnotationUpdateEvent.SET_ANNOTATION_STATE,t)}}}),[u,n,r]),u},g=function(t){var n=t.id,r=t.updateSubscriber,o=s.useState(!1),i=e(a)(o,2),l=i[0],u=i[1];return s.useLayoutEffect((function(){if(r){var e=function(e){u(e&&e.annotationId===n)},t=function(){u(!1)};return r.on(c.AnnotationUpdateEvent.SET_ANNOTATION_FOCUS,e),r.on(c.AnnotationUpdateEvent.REMOVE_ANNOTATION_FOCUS,t),function(){r.off(c.AnnotationUpdateEvent.SET_ANNOTATION_FOCUS,e),r.off(c.AnnotationUpdateEvent.REMOVE_ANNOTATION_FOCUS,t)}}}),[n,r]),l},m=function(t){var n=s.useState(null),r=e(a)(n,2),o=r[0],i=r[1],f=t.updateSubscriber,p=t.createAnalyticsEvent;return s.useLayoutEffect((function(){if(f){var e=function(e){var t=e.annotationIds,n=e.eventTarget,r=t.map((function(e){return{id:e,type:l.AnnotationTypes.INLINE_COMMENT}}));p&&p({action:u.ACTION.VIEWED,actionSubject:u.ACTION_SUBJECT.ANNOTATION,actionSubjectId:u.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:u.EVENT_TYPE.TRACK,attributes:{overlap:r.length||0}}).fire(d.FabricChannel.editor),i({annotations:r,clickElementTarget:n})};return f.on(c.AnnotationUpdateEvent.ON_ANNOTATION_CLICK,e),function(){f.off(c.AnnotationUpdateEvent.ON_ANNOTATION_CLICK,e)}}}),[f,p]),o}})),r.register("hSsDQ",(function(n,o){t(n.exports,"useInlineCommentsFilter",(function(){return c}));var i=r("fw3Q6"),a=r("61szk"),s=r("aP7lg"),c=function(t){var n=t.annotationIds,r=t.filter.state,o=a.useContext(s.InlineCommentsStateContext);return a.useMemo((function(){return n.reduce((function(t,n){return o&&o[n]===r?[].concat(e(i)(t),[n]):t}),[])}),[n,o,r])}})),r.register("e2IUU",(function(e,n){t(e.exports,"useInlineCommentSubscriberContext",(function(){return a}));var o=r("61szk"),i=r("aP7lg"),a=function(){var e=o.useContext(i.ProvidersContext);return e&&e.inlineComment.updateSubscriber||null}})),r.register("8F8yW",(function(n,o){t(n.exports,"RendererContext",(function(){return s})),t(n.exports,"RendererActionsContext",(function(){return c}));var i=r("61szk"),a=r("3zw2N"),s=e(i).createContext(new a.default);function c(t){var n=t.children,r=t.context,o=i.useMemo((function(){return new a.default(!0)}),[]);return e(i).createElement(s.Provider,{value:r||o},e(i).Children.only(n))}s.Consumer})),r.register("3zw2N",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj"),l=r("cquxg");r("igW5C");var u=r("2PqpS"),d=r("ekJGA"),f=r("6sW8E"),p=r("7M7ey"),h=r("aj9Rm"),g=r("9GgI7"),m=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e(a)(this,t),e(c)(this,"initFromContext",!1),this.initFromContext=n,this.transformer=new l.JSONTransformer}return e(s)(t,[{key:"_privateRegisterRenderer",value:function(e,t,n,r){if(this.initFromContext){if(this.ref){if(this.ref!==e)throw new Error("Renderer has already been registered! It's not allowed to re-register with another new Renderer instance.")}else this.ref=e;this.doc=t,this.schema=n,this.onAnalyticsEvent=r}}},{key:"_privateUnregisterRenderer",value:function(){this.doc=void 0,this.ref=void 0,this.schema=void 0}},{key:"_privateValidatePositionsForAnnotation",value:function(e,t){return!(!this.doc||!this.schema)&&u.canApplyAnnotationOnRange({from:e,to:t},this.doc,this.schema)}},{key:"deleteAnnotation",value:function(e,t){if(!this.doc||!this.schema||!this.schema.marks.annotation)return!1;var n,r,o=this.schema.marks.annotation.create({id:e,annotationType:t});if(this.doc.descendants((function(e,t){var i=o.isInSet(e.marks);return i&&!n?(n=t,r=t+e.nodeSize):i&&n&&(r=t+e.nodeSize),!0})),void 0===n||void 0===r)return!1;var i=new f.RemoveMarkStep(n,r,o),a=i.apply(this.doc),s=a.doc,c=a.failed;if(this.onAnalyticsEvent){var l={action:h.ACTION.DELETED,actionSubject:h.ACTION_SUBJECT.ANNOTATION,actionSubjectId:h.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:h.EVENT_TYPE.TRACK};this.onAnalyticsEvent(l)}return!(c||!s)&&{step:i,doc:this.transformer.encode(s)}}},{key:"annotate",value:function(e,t,n){if(!this.doc||!this.schema||!this.schema.marks.annotation)return!1;var r=p.getPosFromRange(e);if(!r)return!1;var o=r.from,i=r.to;return!!this._privateValidatePositionsForAnnotation(o,i)&&this.applyAnnotation(r,{annotationId:t,annotationType:d.AnnotationTypes.INLINE_COMMENT})}},{key:"isValidAnnotationRange",value:function(e){var t=p.getPosFromRange(e);return!(!t||!this.doc)&&this._privateValidatePositionsForAnnotation(t.from,t.to)}},{key:"isValidAnnotationPosition",value:function(e){return!(!e||!this.doc)&&this._privateValidatePositionsForAnnotation(e.from,e.to)}},{key:"getPositionFromRange",value:function(e){return!(!this.doc||!this.schema)&&p.getPosFromRange(e)}},{key:"getAnnotationMarks",value:function(){var t=this.schema,n=this.doc;if(!t||!n)return[];var r=t.marks.annotation;if(!r)return[];var o=[];n.descendants((function(t){var n=t.marks.filter((function(e){return e.type===r}));return!n||!n.length||(o.push.apply(o,e(i)(n)),!1)}));var a=new Map;return o.forEach((function(e){a.set(e.attrs.id,e)})),Array.from(a.values())}},{key:"getAnnotationsByPosition",value:function(e){if(!this.doc||!this.schema)return[];var t=p.getPosFromRange(e);return t&&this.doc?u.getAnnotationIdsFromRange(t,this.doc,this.schema):[]}},{key:"applyAnnotation",value:function(e,t){if(!this.doc||!e||!this.schema)return!1;var n=e.from,r=e.to,o=t.annotationId,i=t.annotationType,a=p.createAnnotationStep(n,r,{annotationId:o,annotationType:i,schema:this.schema}),s=a.apply(this.doc),c=s.doc;if(s.failed||!c)return!1;var l=c.textBetween(n,r),u=g.getIndexMatch(this.doc,this.schema,l,n),d=u.numMatches,f=u.matchIndex;return{step:a,doc:this.transformer.encode(c),originalSelection:l,numMatches:d,matchIndex:f}}},{key:"generateAnnotationIndexMatch",value:function(e){if(!this.doc||!e||!this.schema)return!1;var t=e.from,n=e.to,r=this.doc.textBetween(t,n),o=g.getIndexMatch(this.doc,this.schema,r,t);return{originalSelection:r,numMatches:o.numMatches,matchIndex:o.matchIndex}}}]),t}()})),r.register("6sW8E",(function(e,n){t(e.exports,"StepMap",(function(){return c})),t(e.exports,"Mapping",(function(){return l})),t(e.exports,"Transform",(function(){return d})),t(e.exports,"Step",(function(){return g})),t(e.exports,"StepResult",(function(){return m})),t(e.exports,"ReplaceStep",(function(){return v})),t(e.exports,"ReplaceAroundStep",(function(){return b})),t(e.exports,"liftTarget",(function(){return x})),t(e.exports,"findWrapping",(function(){return k})),t(e.exports,"canSplit",(function(){return S})),t(e.exports,"canJoin",(function(){return T})),t(e.exports,"joinPoint",(function(){return w})),t(e.exports,"insertPoint",(function(){return N})),t(e.exports,"dropPoint",(function(){return P})),t(e.exports,"AddMarkStep",(function(){return I})),t(e.exports,"RemoveMarkStep",(function(){return D}));var o=r("jWbqG"),i=Math.pow(2,16);function a(e){return 65535&e}var s=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=null),this.pos=e,this.deleted=t,this.recover=n},c=function(e,t){void 0===t&&(t=!1),this.ranges=e,this.inverted=t};c.prototype.recover=function(e){var t=0,n=a(e);if(!this.inverted)for(var r=0;r<n;r++)t+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+t+function(e){return(e-(65535&e))/i}(e)},c.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},c.prototype.map=function(e,t){return void 0===t&&(t=1),this._map(e,t,!0)},c.prototype._map=function(e,t,n){for(var r=0,o=this.inverted?2:1,a=this.inverted?1:2,c=0;c<this.ranges.length;c+=3){var l=this.ranges[c]-(this.inverted?r:0);if(l>e)break;var u=this.ranges[c+o],d=this.ranges[c+a],f=l+u;if(e<=f){var p=l+r+((u?e==l?-1:e==f?1:t:t)<0?0:d);if(n)return p;var h=e==(t<0?l:f)?null:c/3+(e-l)*i;return new s(p,t<0?e!=l:e!=f,h)}r+=d-u}return n?e+r:new s(e+r)},c.prototype.touches=function(e,t){for(var n=0,r=a(t),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var c=this.ranges[s]-(this.inverted?n:0);if(c>e)break;var l=this.ranges[s+o];if(e<=c+l&&s==3*r)return!0;n+=this.ranges[s+i]-l}return!1},c.prototype.forEach=function(e){for(var t=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],a=i-(this.inverted?o:0),s=i+(this.inverted?0:o),c=this.ranges[r+t],l=this.ranges[r+n];e(a,a+c,s,s+l),o+=l-c}},c.prototype.invert=function(){return new c(this.ranges,!this.inverted)},c.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},c.offset=function(e){return 0==e?c.empty:new c(e<0?[0,-e,0]:[0,0,e])},c.empty=new c([]);var l=function(e,t,n,r){this.maps=e||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=t};function u(e){var t=Error.call(this,e);return t.__proto__=u.prototype,t}l.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.maps.length),new l(this.maps,this.mirror,e,t)},l.prototype.copy=function(){return new l(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},l.prototype.appendMap=function(e,t){this.to=this.maps.push(e),null!=t&&this.setMirror(this.maps.length-1,t)},l.prototype.appendMapping=function(e){for(var t=0,n=this.maps.length;t<e.maps.length;t++){var r=e.getMirror(t);this.appendMap(e.maps[t],null!=r&&r<t?n+r:null)}},l.prototype.getMirror=function(e){if(this.mirror)for(var t=0;t<this.mirror.length;t++)if(this.mirror[t]==e)return this.mirror[t+(t%2?-1:1)]},l.prototype.setMirror=function(e,t){this.mirror||(this.mirror=[]),this.mirror.push(e,t)},l.prototype.appendMappingInverted=function(e){for(var t=e.maps.length-1,n=this.maps.length+e.maps.length;t>=0;t--){var r=e.getMirror(t);this.appendMap(e.maps[t].invert(),null!=r&&r>t?n-r-1:null)}},l.prototype.invert=function(){var e=new l;return e.appendMappingInverted(this),e},l.prototype.map=function(e,t){if(void 0===t&&(t=1),this.mirror)return this._map(e,t,!0);for(var n=this.from;n<this.to;n++)e=this.maps[n].map(e,t);return e},l.prototype.mapResult=function(e,t){return void 0===t&&(t=1),this._map(e,t,!1)},l.prototype._map=function(e,t,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(e,t);if(null!=i.recover){var a=this.getMirror(o);if(null!=a&&a>o&&a<this.to){o=a,e=this.maps[a].recover(i.recover);continue}}i.deleted&&(r=!0),e=i.pos}return n?e:new s(e,r)},u.prototype=Object.create(Error.prototype),u.prototype.constructor=u,u.prototype.name="TransformError";var d=function(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new l},f={before:{configurable:!0},docChanged:{configurable:!0}};function p(){throw new Error("Override me")}f.before.get=function(){return this.docs.length?this.docs[0]:this.doc},d.prototype.step=function(e){var t=this.maybeStep(e);if(t.failed)throw new u(t.failed);return this},d.prototype.maybeStep=function(e){var t=e.apply(this.doc);return t.failed||this.addStep(e,t.doc),t},f.docChanged.get=function(){return this.steps.length>0},d.prototype.addStep=function(e,t){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=t},Object.defineProperties(d.prototype,f);var h=Object.create(null),g=function(){};g.prototype.apply=function(e){return p()},g.prototype.getMap=function(){return c.empty},g.prototype.invert=function(e){return p()},g.prototype.map=function(e){return p()},g.prototype.merge=function(e){return null},g.prototype.toJSON=function(){return p()},g.fromJSON=function(e,t){if(!t||!t.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=h[t.stepType];if(!n)throw new RangeError("No step type "+t.stepType+" defined");return n.fromJSON(e,t)},g.jsonID=function(e,t){if(e in h)throw new RangeError("Duplicate use of step JSON ID "+e);return h[e]=t,t.prototype.jsonID=e,t};var m=function(e,t){this.doc=e,this.failed=t};m.ok=function(e){return new m(e,null)},m.fail=function(e){return new m(null,e)},m.fromReplace=function(e,t,n,r){try{return m.ok(e.replace(t,n,r))}catch(e){if(e instanceof o.ReplaceError)return m.fail(e.message);throw e}};var v=function(e){function t(t,n,r,o){e.call(this),this.from=t,this.to=n,this.slice=r,this.structure=!!o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){return this.structure&&y(e,this.from,this.to)?m.fail("Structure replace would overwrite content"):m.fromReplace(e,this.from,this.to,this.slice)},t.prototype.getMap=function(){return new c([this.from,this.to-this.from,this.slice.size])},t.prototype.invert=function(e){return new t(this.from,this.from+this.slice.size,e.slice(this.from,this.to))},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new t(n.pos,Math.max(n.pos,r.pos),this.slice)},t.prototype.merge=function(e){if(!(e instanceof t)||e.structure!=this.structure)return null;if(this.from+this.slice.size!=e.from||this.slice.openEnd||e.slice.openStart){if(e.to!=this.from||this.slice.openStart||e.slice.openEnd)return null;var n=this.slice.size+e.slice.size==0?o.Slice.empty:new o.Slice(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new t(e.from,this.to,n,this.structure)}var r=this.slice.size+e.slice.size==0?o.Slice.empty:new o.Slice(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new t(this.from,this.to+(e.to-e.from),r,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new t(n.from,n.to,o.Slice.fromJSON(e,n.slice),!!n.structure)},t}(g);g.jsonID("replace",v);var b=function(e){function t(t,n,r,o,i,a,s){e.call(this),this.from=t,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=a,this.structure=!!s}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){if(this.structure&&(y(e,this.from,this.gapFrom)||y(e,this.gapTo,this.to)))return m.fail("Structure gap-replace would overwrite content");var t=e.slice(this.gapFrom,this.gapTo);if(t.openStart||t.openEnd)return m.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,t.content);return n?m.fromReplace(e,this.from,this.to,n):m.fail("Content does not fit in gap")},t.prototype.getMap=function(){return new c([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},t.prototype.invert=function(e){var n=this.gapTo-this.gapFrom;return new t(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),o=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new t(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},t.prototype.toJSON=function(){var e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new t(n.from,n.to,n.gapFrom,n.gapTo,o.Slice.fromJSON(e,n.slice),n.insert,!!n.structure)},t}(g);function y(e,t,n){for(var r=e.resolve(t),o=n-t,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var a=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!a||a.isLeaf)return!0;a=a.firstChild,o--}return!1}function E(e,t,n){return(0==t||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function x(e){for(var t=e.parent.content.cutByIndex(e.startIndex,e.endIndex),n=e.depth;;--n){var r=e.$from.node(n),o=e.$from.index(n),i=e.$to.indexAfter(n);if(n<e.depth&&r.canReplace(o,i,t))return n;if(0==n||r.type.spec.isolating||!E(r,o,i))break}}function k(e,t,n,r){void 0===r&&(r=e);var o=function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.contentMatchAt(r).findWrapping(t);if(!i)return null;var a=i.length?i[0]:t;return n.canReplaceWith(r,o,a)?i:null}(e,t),i=o&&function(e,t){var n=e.parent,r=e.startIndex,o=e.endIndex,i=n.child(r),a=t.contentMatch.findWrapping(i.type);if(!a)return null;for(var s=(a.length?a[a.length-1]:t).contentMatch,c=r;s&&c<o;c++)s=s.matchType(n.child(c).type);return s&&s.validEnd?a:null}(r,t);return i?o.map(C).concat({type:t,attrs:n}).concat(i.map(C)):null}function C(e){return{type:e,attrs:null}}function S(e,t,n,r){void 0===n&&(n=1);var o=e.resolve(t),i=o.depth-n,a=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!a.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var s=o.depth-1,c=n-2;s>i;s--,c--){var l=o.node(s),u=o.index(s);if(l.type.spec.isolating)return!1;var d=l.content.cutByIndex(u,l.childCount),f=r&&r[c]||l;if(f!=l&&(d=d.replaceChild(0,f.type.create(f.attrs))),!l.canReplace(u+1,l.childCount)||!f.type.validContent(d))return!1}var p=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(p,p,h?h.type:o.node(i+1).type)}function T(e,t){var n=e.resolve(t),r=n.index();return O(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function O(e,t){return e&&t&&!e.isLeaf&&e.canAppend(t)}function w(e,t,n){void 0===n&&(n=-1);for(var r=e.resolve(t),o=r.depth;;o--){var i=void 0,a=void 0,s=r.index(o);if(o==r.depth?(i=r.nodeBefore,a=r.nodeAfter):n>0?(i=r.node(o+1),s++,a=r.node(o).maybeChild(s)):(i=r.node(o).maybeChild(s-1),a=r.node(o+1)),i&&!i.isTextblock&&O(i,a)&&r.node(o).canReplace(s,s+1))return t;if(0==o)break;t=n<0?r.before(o):r.after(o)}}function N(e,t,n){var r=e.resolve(t);if(r.parent.canReplaceWith(r.index(),r.index(),n))return t;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var a=r.depth-1;a>=0;a--){var s=r.indexAfter(a);if(r.node(a).canReplaceWith(s,s,n))return r.after(a+1);if(s<r.node(a).childCount)return null}}function P(e,t,n){var r=e.resolve(t);if(!n.content.size)return t;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var a=1;a<=(0==n.openStart&&n.size?2:1);a++)for(var s=r.depth;s>=0;s--){var c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(c>0?1:0);if(1==a?r.node(s).canReplace(l,l,o):r.node(s).contentMatchAt(l).findWrapping(o.firstChild.type))return 0==c?r.pos:c<0?r.before(s+1):r.after(s+1)}return null}function A(e,t,n){for(var r=[],i=0;i<e.childCount;i++){var a=e.child(i);a.content.size&&(a=a.copy(A(a.content,t,a))),a.isInline&&(a=t(a,n,i)),r.push(a)}return o.Fragment.fromArray(r)}g.jsonID("replaceAround",b),d.prototype.lift=function(e,t){for(var n=e.$from,r=e.$to,i=e.depth,a=n.before(i+1),s=r.after(i+1),c=a,l=s,u=o.Fragment.empty,d=0,f=i,p=!1;f>t;f--)p||n.index(f)>0?(p=!0,u=o.Fragment.from(n.node(f).copy(u)),d++):c--;for(var h=o.Fragment.empty,g=0,m=i,v=!1;m>t;m--)v||r.after(m+1)<r.end(m)?(v=!0,h=o.Fragment.from(r.node(m).copy(h)),g++):l++;return this.step(new b(c,l,a,s,new o.Slice(u.append(h),d,g),u.size-d,!0))},d.prototype.wrap=function(e,t){for(var n=o.Fragment.empty,r=t.length-1;r>=0;r--)n=o.Fragment.from(t[r].type.create(t[r].attrs,n));var i=e.start,a=e.end;return this.step(new b(i,a,i,a,new o.Slice(n,0,0),t.length,!0))},d.prototype.setBlockType=function(e,t,n,r){var i=this;if(void 0===t&&(t=e),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var a=this.steps.length;return this.doc.nodesBetween(e,t,(function(e,t){if(e.isTextblock&&!e.hasMarkup(n,r)&&function(e,t,n){var r=e.resolve(t),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(i.doc,i.mapping.slice(a).map(t),n)){i.clearIncompatible(i.mapping.slice(a).map(t,1),n);var s=i.mapping.slice(a),c=s.map(t,1),l=s.map(t+e.nodeSize,1);return i.step(new b(c,l,c+1,l-1,new o.Slice(o.Fragment.from(n.create(r,null,e.marks)),0,0),1,!0)),!1}})),this},d.prototype.setNodeMarkup=function(e,t,n,r){var i=this.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");t||(t=i.type);var a=t.create(n,null,r||i.marks);if(i.isLeaf)return this.replaceWith(e,e+i.nodeSize,a);if(!t.validContent(i.content))throw new RangeError("Invalid content for node type "+t.name);return this.step(new b(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new o.Slice(o.Fragment.from(a),0,0),1,!0))},d.prototype.split=function(e,t,n){void 0===t&&(t=1);for(var r=this.doc.resolve(e),i=o.Fragment.empty,a=o.Fragment.empty,s=r.depth,c=r.depth-t,l=t-1;s>c;s--,l--){i=o.Fragment.from(r.node(s).copy(i));var u=n&&n[l];a=o.Fragment.from(u?u.type.create(u.attrs,a):r.node(s).copy(a))}return this.step(new v(e,e,new o.Slice(i.append(a),t,t),!0))},d.prototype.join=function(e,t){void 0===t&&(t=1);var n=new v(e-t,e+t,o.Slice.empty,!0);return this.step(n)};var I=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),a=new o.Slice(A(n.content,(function(e,n){return n.type.allowsMarkType(t.mark.type)?e.mark(t.mark.addToSet(e.marks)):e}),i),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,a)},t.prototype.invert=function(){return new D(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(g);g.jsonID("addMark",I);var D=function(e){function t(t,n,r){e.call(this),this.from=t,this.to=n,this.mark=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.apply=function(e){var t=this,n=e.slice(this.from,this.to),r=new o.Slice(A(n.content,(function(e){return e.mark(t.mark.removeFromSet(e.marks))})),n.openStart,n.openEnd);return m.fromReplace(e,this.from,this.to,r)},t.prototype.invert=function(){return new I(this.from,this.to,this.mark)},t.prototype.map=function(e){var n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new t(n.pos,r.pos,this.mark)},t.prototype.merge=function(e){if(e instanceof t&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from)return new t(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark)},t.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},t.fromJSON=function(e,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new t(n.from,n.to,e.markFromJSON(n.mark))},t}(g);function R(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}g.jsonID("removeMark",D),d.prototype.addMark=function(e,t,n){var r=this,o=[],i=[],a=null,s=null;return this.doc.nodesBetween(e,t,(function(r,c,l){if(r.isInline){var u=r.marks;if(!n.isInSet(u)&&l.type.allowsMarkType(n.type)){for(var d=Math.max(c,e),f=Math.min(c+r.nodeSize,t),p=n.addToSet(u),h=0;h<u.length;h++)u[h].isInSet(p)||(a&&a.to==d&&a.mark.eq(u[h])?a.to=f:o.push(a=new D(d,f,u[h])));s&&s.to==d?s.to=f:i.push(s=new I(d,f,n))}}})),o.forEach((function(e){return r.step(e)})),i.forEach((function(e){return r.step(e)})),this},d.prototype.removeMark=function(e,t,n){var r=this;void 0===n&&(n=null);var i=[],a=0;return this.doc.nodesBetween(e,t,(function(r,s){if(r.isInline){a++;var c=null;if(n instanceof o.MarkType){var l=n.isInSet(r.marks);l&&(c=[l])}else n?n.isInSet(r.marks)&&(c=[n]):c=r.marks;if(c&&c.length)for(var u=Math.min(s+r.nodeSize,t),d=0;d<c.length;d++){for(var f=c[d],p=void 0,h=0;h<i.length;h++){var g=i[h];g.step==a-1&&f.eq(i[h].style)&&(p=g)}p?(p.to=u,p.step=a):i.push({style:f,from:Math.max(s,e),to:u,step:a})}}})),i.forEach((function(e){return r.step(new D(e.from,e.to,e.style))})),this},d.prototype.clearIncompatible=function(e,t,n){void 0===n&&(n=t.contentMatch);for(var r=this.doc.nodeAt(e),i=[],a=e+1,s=0;s<r.childCount;s++){var c=r.child(s),l=a+c.nodeSize,u=n.matchType(c.type,c.attrs);if(u){n=u;for(var d=0;d<c.marks.length;d++)t.allowsMarkType(c.marks[d].type)||this.step(new D(a,l,c.marks[d]))}else i.push(new v(a,l,o.Slice.empty));a=l}if(!n.validEnd){var f=n.fillBefore(o.Fragment.empty,!0);this.replace(a,a,new o.Slice(f,0,0))}for(var p=i.length-1;p>=0;p--)this.step(i[p]);return this},d.prototype.replace=function(e,t,n){void 0===t&&(t=e),void 0===n&&(n=o.Slice.empty);var r=function(e,t,n,r){if(void 0===n&&(n=t),void 0===r&&(r=o.Slice.empty),t==n&&!r.size)return null;var i=e.resolve(t),a=e.resolve(n);return R(i,a,r)?new v(t,n,r):new M(i,a,r).fit()}(this.doc,e,t,n);return r&&this.step(r),this},d.prototype.replaceWith=function(e,t,n){return this.replace(e,t,new o.Slice(o.Fragment.from(n),0,0))},d.prototype.delete=function(e,t){return this.replace(e,t,o.Slice.empty)},d.prototype.insert=function(e,t){return this.replaceWith(e,e,t)};var M=function(e,t,n){this.$to=t,this.$from=e,this.unplaced=n,this.frontier=[];for(var r=0;r<=e.depth;r++){var i=e.node(r);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(r))})}this.placed=o.Fragment.empty;for(var a=e.depth;a>0;a--)this.placed=o.Fragment.from(e.node(a).copy(this.placed))},_={depth:{configurable:!0}};function j(e,t,n){return 0==t?e.cutByIndex(n):e.replaceChild(0,e.firstChild.copy(j(e.firstChild.content,t-1,n)))}function B(e,t,n){return 0==t?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(B(e.lastChild.content,t-1,n)))}function L(e,t){for(var n=0;n<t;n++)e=e.firstChild.content;return e}function F(e,t,n){if(t<=0)return e;var r=e.content;return t>1&&(r=r.replaceChild(0,F(r.firstChild,t-1,1==r.childCount?n-1:0))),t>0&&(r=e.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(e.type.contentMatch.matchFragment(r).fillBefore(o.Fragment.empty,!0)))),e.copy(r)}function z(e,t,n,r,o){var i=e.node(t),a=o?e.indexAfter(t):e.index(t);if(a==i.childCount&&!n.compatibleContent(i.type))return null;var s=r.fillBefore(i.content,!0,a);return s&&!function(e,t,n){for(var r=n;r<t.childCount;r++)if(!e.allowsMarks(t.child(r).marks))return!0;return!1}(n,i.content,a)?s:null}function W(e,t,n,r,i){if(t<n){var a=e.firstChild;e=e.replaceChild(0,a.copy(W(a.content,t+1,n,r,a)))}if(t>r){var s=i.contentMatchAt(0),c=s.fillBefore(e).append(e);e=c.append(s.matchFragment(c).fillBefore(o.Fragment.empty,!0))}return e}function U(e,t){for(var n=[],r=Math.min(e.depth,t.depth);r>=0;r--){var o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;o==t.start(r)&&n.push(r)}return n}_.depth.get=function(){return this.frontier.length-1},M.prototype.fit=function(){for(;this.unplaced.size;){var e=this.findFittable();e?this.placeNodes(e):this.openMore()||this.dropNode()}var t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(t<0?this.$to:r.doc.resolve(t));if(!i)return null;for(var a=this.placed,s=r.depth,c=i.depth;s&&c&&1==a.childCount;)a=a.firstChild.content,s--,c--;var l=new o.Slice(a,s,c);return t>-1?new b(r.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new v(r.pos,i.pos,l):void 0},M.prototype.findFittable=function(){for(var e=1;e<=2;e++)for(var t=this.unplaced.openStart;t>=0;t--)for(var n=void 0,r=(t?(n=L(this.unplaced.content,t-1).firstChild).content:this.unplaced.content).firstChild,i=this.depth;i>=0;i--){var a=this.frontier[i],s=a.type,c=a.match,l=void 0,u=void 0;if(1==e&&(r?c.matchType(r.type)||(u=c.fillBefore(o.Fragment.from(r),!1)):s.compatibleContent(n.type)))return{sliceDepth:t,frontierDepth:i,parent:n,inject:u};if(2==e&&r&&(l=c.findWrapping(r.type)))return{sliceDepth:t,frontierDepth:i,parent:n,wrap:l};if(n&&c.matchType(n.type))break}},M.prototype.openMore=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=L(t,n);return!(!i.childCount||i.firstChild.isLeaf)&&(this.unplaced=new o.Slice(t,n+1,Math.max(r,i.size+n>=t.size-r?n+1:0)),!0)},M.prototype.dropNode=function(){var e=this.unplaced,t=e.content,n=e.openStart,r=e.openEnd,i=L(t,n);if(i.childCount<=1&&n>0){var a=t.size-n<=n+i.size;this.unplaced=new o.Slice(j(t,n-1,1),n-1,a?n-1:r)}else this.unplaced=new o.Slice(j(t,n,1),n,r)},M.prototype.placeNodes=function(e){for(var t=e.sliceDepth,n=e.frontierDepth,r=e.parent,i=e.inject,a=e.wrap;this.depth>n;)this.closeFrontierNode();if(a)for(var s=0;s<a.length;s++)this.openFrontierNode(a[s]);var c=this.unplaced,l=r?r.content:c.content,u=c.openStart-t,d=0,f=[],p=this.frontier[n],h=p.match,g=p.type;if(i){for(var m=0;m<i.childCount;m++)f.push(i.child(m));h=h.matchFragment(i)}for(var v=l.size+t-(c.content.size-c.openEnd);d<l.childCount;){var b=l.child(d),y=h.matchType(b.type);if(!y)break;(++d>1||0==u||b.content.size)&&(h=y,f.push(F(b.mark(g.allowedMarks(b.marks)),1==d?u:0,d==l.childCount?v:-1)))}var E=d==l.childCount;E||(v=-1),this.placed=B(this.placed,n,o.Fragment.from(f)),this.frontier[n].match=h,E&&v<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var x=0,k=l;x<v;x++){var C=k.lastChild;this.frontier.push({type:C.type,match:C.contentMatchAt(C.childCount)}),k=C.content}this.unplaced=E?0==t?o.Slice.empty:new o.Slice(j(c.content,t-1,1),t-1,v<0?c.openEnd:t-1):new o.Slice(j(c.content,t,d),c.openStart,c.openEnd)},M.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var e,t=this.frontier[this.depth];if(!t.type.isTextblock||!z(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(e=this.findCloseLevel(this.$to))&&e.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},M.prototype.findCloseLevel=function(e){e:for(var t=Math.min(this.depth,e.depth);t>=0;t--){var n=this.frontier[t],r=n.match,o=n.type,i=t<e.depth&&e.end(t+1)==e.pos+(e.depth-(t+1)),a=z(e,t,o,r,i);if(a){for(var s=t-1;s>=0;s--){var c=this.frontier[s],l=c.match,u=z(e,s,c.type,l,!0);if(!u||u.childCount)continue e}return{depth:t,fit:a,move:i?e.doc.resolve(e.after(t+1)):e}}}},M.prototype.close=function(e){var t=this.findCloseLevel(e);if(!t)return null;for(;this.depth>t.depth;)this.closeFrontierNode();t.fit.childCount&&(this.placed=B(this.placed,t.depth,t.fit)),e=t.move;for(var n=t.depth+1;n<=e.depth;n++){var r=e.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,e.index(n));this.openFrontierNode(r.type,r.attrs,o)}return e},M.prototype.openFrontierNode=function(e,t,n){var r=this.frontier[this.depth];r.match=r.match.matchType(e),this.placed=B(this.placed,this.depth,o.Fragment.from(e.create(t,n))),this.frontier.push({type:e,match:e.contentMatch})},M.prototype.closeFrontierNode=function(){var e=this.frontier.pop().match.fillBefore(o.Fragment.empty,!0);e.childCount&&(this.placed=B(this.placed,this.frontier.length,e))},Object.defineProperties(M.prototype,_),d.prototype.replaceRange=function(e,t,n){if(!n.size)return this.deleteRange(e,t);var r=this.doc.resolve(e),i=this.doc.resolve(t);if(R(r,i,n))return this.step(new v(e,t,n));var a=U(r,this.doc.resolve(t));0==a[a.length-1]&&a.pop();var s=-(r.depth+1);a.unshift(s);for(var c=r.depth,l=r.pos-1;c>0;c--,l--){var u=r.node(c).type.spec;if(u.defining||u.isolating)break;a.indexOf(c)>-1?s=c:r.before(c)==l&&a.splice(1,0,-c)}for(var d=a.indexOf(s),f=[],p=n.openStart,h=n.content,g=0;;g++){var m=h.firstChild;if(f.push(m),g==n.openStart)break;h=m.content}p>0&&f[p-1].type.spec.defining&&r.node(d).type!=f[p-1].type?p-=1:p>=2&&f[p-1].isTextblock&&f[p-2].type.spec.defining&&r.node(d).type!=f[p-2].type&&(p-=2);for(var b=n.openStart;b>=0;b--){var y=(b+p+1)%(n.openStart+1),E=f[y];if(E)for(var x=0;x<a.length;x++){var k=a[(x+d)%a.length],C=!0;k<0&&(C=!1,k=-k);var S=r.node(k-1),T=r.index(k-1);if(S.canReplaceWith(T,T,E.type,E.marks))return this.replace(r.before(k),C?i.after(k):t,new o.Slice(W(n.content,0,n.openStart,y),y,n.openEnd))}}for(var O=this.steps.length,w=a.length-1;w>=0&&(this.replace(e,t,n),!(this.steps.length>O));w--){var N=a[w];w<0||(e=r.before(N),t=i.after(N))}return this},d.prototype.replaceRangeWith=function(e,t,n){if(!n.isInline&&e==t&&this.doc.resolve(e).parent.content.size){var r=N(this.doc,e,n.type);null!=r&&(e=t=r)}return this.replaceRange(e,t,new o.Slice(o.Fragment.from(n),0,0))},d.prototype.deleteRange=function(e,t){for(var n=this.doc.resolve(e),r=this.doc.resolve(t),o=U(n,r),i=0;i<o.length;i++){var a=o[i],s=i==o.length-1;if(s&&0==a||n.node(a).type.contentMatch.validEnd)return this.delete(n.start(a),r.end(a));if(a>0&&(s||n.node(a-1).canReplace(n.index(a-1),r.indexAfter(a-1))))return this.delete(n.before(a),r.after(a))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(e-n.start(c)==n.depth-c&&t>n.end(c)&&r.end(c)-t!=r.depth-c)return this.delete(n.before(c),t);return this.delete(e,t)}})),r.register("7M7ey",(function(e,n){t(e.exports,"getPosFromRange",(function(){return h})),t(e.exports,"createAnnotationStep",(function(){return g}));var o=r("6sW8E");function i(e){return parseInt(e.dataset.rendererStartPos||"-1",10)}function a(e){return i(e)>-1}function s(e){var t=e.parentElement;return!t||f(t)?null:a(t)?t:s(t)}function c(e){var t=e.parentElement;return f(t)||!t?null:a(t)?e:c(t)}function l(e){return e.nodeType===Node.TEXT_NODE}function u(e){return function(e){return e.nodeType===Node.ELEMENT_NODE}(e)&&Boolean(e.dataset.rendererMark)}function d(e){for(var t=0,n=e.previousSibling;n;)n&&l(n)?t+=(n.textContent||"").length:n&&(u(n)&&n.textContent?t+=n.textContent.length:t+=1),n=n.previousSibling;return t}function f(e){return!!e&&e.classList.contains("ak-renderer-document")}function p(e,t){if(!e)return!1;if(e instanceof HTMLElement&&a(e))return i(e)+t;var n=s(e);if(!n)return!1;var r,o=i(n),l=e;if(l.parentElement&&l.parentElement!==n){var u=c(l.parentElement);for((r=u)&&Boolean(r.dataset.rendererMark)||(l=l.parentElement,t=0),o+=d(l);l&&l.parentElement!==n;)(l=l.parentNode)&&(o+=d(l))}else o+=d(l);return o+t}function h(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset,i=p(t,n),a=p(r,o);return!1!==i&&!1!==a&&{from:i,to:a}}function g(e,t,n){return new o.AddMarkStep(Math.min(e,t),Math.max(e,t),n.schema.marks.annotation.create({id:n.annotationId,annotationType:n.annotationType}))}})),r.register("9GgI7",(function(e,n){function r(e,t,n,r){var i="",a=0;return e.descendants((function(s,c){if(s.isText||!s.type.allowsMarkType(t.marks.annotation))return!0;var l=c,u=l+s.nodeSize;return r>=l&&r<=u?(i+=e.textBetween(l,r-1),a=o(i,n),i+=e.textBetween(r,u)):i+=s.textContent,!0})),{numMatches:o(i,n),matchIndex:a,textContent:i}}function o(e,t){if(""===e||""===t)return 0;var n=new RegExp(t.replace(/(?=[.\\+*?[^\]$(){}\|])/g,"\\"),"g");return(e.match(n)||[]).length}t(e.exports,"getIndexMatch",(function(){return r}))})),r.register("gMKkU",(function(n,o){t(n.exports,"Wrapper",(function(){return c}));var i=r("61szk"),a=r("aP7lg"),s=r("l1ZCq"),c=function(t){var n=i.useContext(a.ProvidersContext),r=t.rendererRef,o=t.createAnalyticsEvent,c=t.children,l=n&&n.inlineComment,u=l&&l.selectionComponent,d=i.useCallback((function(t){var n=t.applyAnnotationDraftAt,a=t.clearAnnotationDraft;return e(i).createElement(e(i).Fragment,null,c,e(i).createElement(s.SelectionRangeValidator,{createAnalyticsEvent:o,rendererRef:r,selectionComponent:u,applyAnnotationDraftAt:n,clearAnnotationDraft:a}))}),[u,c,r,o]);return u?e(i).createElement(a.AnnotationsDraftContextWrapper,null,d):e(i).createElement(e(i).Fragment,null,c)}})),r.register("l1ZCq",(function(n,o){t(n.exports,"SelectionRangeValidator",(function(){return u}));var i=r("h67q9"),a=r("61szk"),s=r("2A0pZ"),c=r("cHeta"),l=r("8F8yW"),u=function(t){var n=t.selectionComponent,r=t.rendererRef,o=t.applyAnnotationDraftAt,u=t.clearAnnotationDraft,d=t.createAnalyticsEvent,f=a.useContext(l.RendererContext),p=s.useUserSelectionRange({rendererRef:r}),h=e(i)(p,2),g=h[0],m=h[1];if(!g)return null;var v=f.getPositionFromRange(g),b=v&&f.isValidAnnotationPosition(v);return e(a).createElement(c.SelectionInlineCommentMounter,{range:g,wrapperDOM:r,component:n,onClose:m,documentPosition:v,isAnnotationAllowed:b,applyAnnotation:f.applyAnnotation.bind(f),applyAnnotationDraftAt:o,generateIndexMatch:f.generateAnnotationIndexMatch.bind(f),clearAnnotationDraft:u,createAnalyticsEvent:d})}})),r.register("2A0pZ",(function(n,o){t(n.exports,"useUserSelectionRange",(function(){return l}));var i=r("h67q9"),a=r("61szk"),s=r("aP7lg"),c=r("ecAIK"),l=function(t){var n=t.rendererRef,r=a.useState(null),o=e(i)(r,2),l=o[0],u=o[1],d=!!a.useContext(s.AnnotationsDraftContext);return a.useEffect((function(){var e=n.current;if(document&&e){var t=function(t){var n=document.getSelection();if(n&&"Range"===n.type&&1===n.rangeCount&&!d){var r=n.getRangeAt(0);c.isRangeInsideOfRendererContainer(e,r)&&u(r.cloneRange())}};return document.addEventListener("selectionchange",t),function(){document.removeEventListener("selectionchange",t)}}}),[n,l,d]),[l,a.useCallback((function(){u(null)}),[])]}})),r.register("ecAIK",(function(e,n){t(e.exports,"isRangeInsideOfRendererContainer",(function(){return r}));var r=function(e,t){var n=document.createRange();n.selectNode(e);var r=1===t.compareBoundaryPoints(Range.START_TO_START,n),o=1===t.compareBoundaryPoints(Range.START_TO_END,n),i=1===t.compareBoundaryPoints(Range.END_TO_END,n);return r&&o&&!i}})),r.register("cHeta",(function(n,o){t(n.exports,"SelectionInlineCommentMounter",(function(){return f}));var i=r("h67q9"),a=r("61szk"),s=r("ekJGA"),c=r("fjq7n"),l=r("eFHDY"),u=r("aj9Rm"),d=r("8F8yW"),f=e(a).memo((function(t){var n=t.component,r=t.range,o=t.isAnnotationAllowed,f=t.wrapperDOM,p=t.onClose,h=t.clearAnnotationDraft,g=t.applyAnnotationDraftAt,m=t.documentPosition,v=t.applyAnnotation,b=t.createAnalyticsEvent,y=t.generateIndexMatch,E=a.useState(),x=e(i)(E,2),k=x[0],C=x[1],S=a.useContext(d.RendererContext),T=a.useCallback((function(e){if(!o||!m||!v)return!1;var t={annotationId:e,annotationType:s.AnnotationTypes.INLINE_COMMENT};return b&&b({action:u.ACTION.INSERTED,actionSubject:u.ACTION_SUBJECT.ANNOTATION,actionSubjectId:u.ACTION_SUBJECT_ID.INLINE_COMMENT,attributes:{},eventType:u.EVENT_TYPE.TRACK}).fire(l.FabricChannel.editor),v(k||m,t)}),[o,m,v,k,b]),O=a.useCallback((function(){if(!m||!y)return!1;var e=y(m);return e||!1}),[m,y]),w=a.useCallback((function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(m&&o){if(C(m),g(m),b){var t=S.getAnnotationsByPosition(r);b({action:u.ACTION.OPENED,actionSubject:u.ACTION_SUBJECT.ANNOTATION,actionSubjectId:u.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:u.EVENT_TYPE.TRACK,attributes:{overlap:t.length}}).fire(l.FabricChannel.editor)}window.requestAnimationFrame((function(){if(e)c.updateWindowSelectionAroundDraft(m);else{var t=window.getSelection();t&&t.removeAllRanges()}}))}else b&&b({action:u.ACTION.CREATE_NOT_ALLOWED,actionSubject:u.ACTION_SUBJECT.ANNOTATION,actionSubjectId:u.ACTION_SUBJECT_ID.INLINE_COMMENT,attributes:{},eventType:u.EVENT_TYPE.TRACK}).fire(l.FabricChannel.editor)}),[m,o,g,b,S,r]),N=a.useCallback((function(){h(),C(null);var e=window.getSelection();e&&e.removeAllRanges()}),[h]),P=a.useCallback((function(){b&&b({action:u.ACTION.CLOSED,actionSubject:u.ACTION_SUBJECT.ANNOTATION,actionSubjectId:u.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:u.EVENT_TYPE.TRACK,attributes:{}}).fire(l.FabricChannel.editor),N(),p()}),[p,N,b]);return e(a).createElement(n,{range:r,wrapperDOM:f.current,isAnnotationAllowed:o,onClose:P,onCreate:T,getAnnotationIndexMatch:O,applyDraftMode:w,removeDraftMode:N})}))})),r.register("fjq7n",(function(n,o){t(n.exports,"dataAttributes",(function(){return s})),t(n.exports,"updateWindowSelectionAroundDraft",(function(){return c}));var i=r("h67q9"),a=r("l15hj"),s=function(t){var n,r=t.from,o=t.to;return n={},e(a)(n,"data-annotation-draft-mark",!0),e(a)(n,"data-draft-start-at",r),e(a)(n,"data-draft-end-at",o),n},c=function(t){var n=window.getSelection();if(!n)return!1;var r=document.querySelectorAll(function(t){var n=s(t);return Object.entries(n).map((function(t){var n=e(i)(t,2),r=n[0],o=n[1];return"[".concat(r,'="').concat(o,'"]')})).join("")}(t));if(!r||0===r.length)return!1;n.removeAllRanges();var o=document.createRange();return o.setStart(r[0],0),o.setEndAfter(r[r.length-1]),n.addRange(o),!0}})),r.register("2ssnc",(function(n,o){t(n.exports,"TextWithAnnotationDraft",(function(){return y}));var i=r("jgze0"),a=r("lhkMJ"),s=r("61szk"),c=r("kaEKk"),l=r("aP7lg"),u=r("6F2je"),d=r("dYyM7"),f=r("fjq7n"),p=r("SssiD");r("igW5C");var h,g=r("kDGkE"),m=p.default.mark(h||(h=e(a)(["\n  color: inherit;\n  background-color: unset;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n  ",";\n"])),g.AnnotationSharedCSSByState.focus),v=function(t){var n=t.draftPosition,r=t.children;return e(s).createElement(m,e(i)({"data-renderer-mark":!0},f.dataAttributes(n)),r)},b=function(t){var n,r,o=t.texts,i=t.shouldApplyAnnotationAt,a=t.draftPosition,l=(n=i,r=o.length,n===c.InsertDraftPosition.START?0:n===c.InsertDraftPosition.END?r-1:n===c.InsertDraftPosition.INSIDE&&3===r?1:-1);return o.map((function(t,n){return l===n?e(s).createElement(v,{key:n,draftPosition:a},t):e(s).createElement(e(s).Fragment,{key:n},t)}))},y=function(t){var n=t.startPos,r=t.endPos,o=t.text,i=e(s).useMemo((function(){return{start:n,end:r}}),[r,n]),a=e(s).useContext(l.AnnotationsDraftContext),f=e(s).useMemo((function(){return!!a&&d.calcInsertDraftPositionOnText(i,a)}),[a,i]);if(!1===f||!a)return e(s).createElement(e(s).Fragment,null,o);if(f===c.InsertDraftPosition.AROUND_TEXT)return e(s).createElement(v,{key:0,draftPosition:a},o);var p=u.calcTextSplitOffset(a,i,o),h=u.splitText(o,p);if(!h)return e(s).createElement(e(s).Fragment,null,o);var g=b({texts:h,shouldApplyAnnotationAt:f,draftPosition:a});return e(s).createElement(e(s).Fragment,null,g)}})),r.register("kaEKk",(function(e,n){var r,o;t(e.exports,"InsertDraftPosition",(function(){return r})),(o=r||(r={})).AROUND_TEXT="AROUND_TEXT",o.START="START",o.END="END",o.INSIDE="INSIDE"})),r.register("6F2je",(function(e,n){t(e.exports,"splitText",(function(){return r})),t(e.exports,"calcTextSplitOffset",(function(){return o}));var r=function(e,t){var n=t.startOffset,r=t.endOffset;return r>e.length||r-n<=0?null:[e.slice(0,n),e.slice(n,r),e.slice(r)].filter(Boolean)},o=function(e,t,n){var r=t.start,o=t.end;return{startOffset:Math.max(e.from-r,0),endOffset:Math.min(Math.abs(o-e.to-n.length),n.length)}}})),r.register("dYyM7",(function(e,n){t(e.exports,"calcInsertDraftPositionOnText",(function(){return i}));var o=r("kaEKk"),i=function(e,t){var n=e.start,r=e.end;return t.from<=n&&t.to>=r?o.InsertDraftPosition.AROUND_TEXT:t.from>n&&t.from<r&&t.to<r&&t.to>n?o.InsertDraftPosition.INSIDE:t.from>=n&&t.from<=r&&t.to>=r?o.InsertDraftPosition.END:!!(t.from<=n&&t.to>=n&&t.to<=r)&&o.InsertDraftPosition.START}})),r.register("cbZiF",(function(n,o){t(n.exports,"useLoadAnnotations",(function(){return f}));var i=r("l15hj"),a=r("61szk");r("igW5C");var s=r("57vEr"),c=r("aP7lg"),l=r("8F8yW");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){var n=t.adfDocument,r=a.useContext(l.RendererContext),o=a.useContext(c.ProvidersContext);a.useEffect((function(){if(o){var t=o.inlineComment,n=t.getState,a=t.updateSubscriber,c=r.getAnnotationMarks();if(c.length){n(c.map((function(e){return e.attrs.id}))).then((function(t){if(a){var n=t.reduce((function(t,n){return d(d({},t),{},e(i)({},n.id,n))}),{});a.emit(s.AnnotationUpdateEvent.SET_ANNOTATION_STATE,n)}}))}}}),[r,o,n])}})),r.register("8GBrw",(function(n,o){t(n.exports,"MarkElement",(function(){return p}));var i=r("61szk"),a=r("ekJGA"),s=r("5Ux1b"),c=r("e2IUU"),l=r("awk9h"),u=r("hSsDQ"),d=r("aP7lg");r("igW5C");var f=r("57vEr"),p=function(t){var n=t.annotationParentIds,r=t.children,o=t.dataAttributes,p=t.id,h=c.useInlineCommentSubscriberContext(),g=i.useContext(d.InlineCommentsStateContext),m=l.useHasFocusEvent({id:p,updateSubscriber:h}),v=i.useMemo((function(){return o}),[o]),b=i.useCallback((function(e){if(h){var t=e.eventTarget,n=e.annotationIds;h.emit(f.AnnotationUpdateEvent.ON_ANNOTATION_CLICK,{annotationIds:n,eventTarget:t})}}),[h]),y=u.useInlineCommentsFilter({annotationIds:n,filter:{state:a.AnnotationMarkStates.ACTIVE}});return e(i).createElement(s.MarkComponent,{id:p,dataAttributes:v,annotationParentIds:y,onClick:b,hasFocus:m,state:g[p]},r)}})),r.register("5Ux1b",(function(n,o){t(n.exports,"MarkComponent",(function(){return m}));var i=r("jgze0"),a=r("l15hj"),s=r("fw3Q6"),c=r("lhkMJ"),l=r("61szk");r("igW5C");var u,d=r("kDGkE"),f=r("ekJGA");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=r("SssiD").default.mark(u||(u=e(c)(["\n  color: inherit;\n  background-color: unset;\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n\n  &[data-mark-annotation-state='","'] {\n    ",";\n\n    &:focus,\n    &[data-has-focus='true'] {\n      ",";\n    }\n  }\n"])),f.AnnotationMarkStates.ACTIVE,d.AnnotationSharedCSSByState.blur,d.AnnotationSharedCSSByState.focus),m=function(t){var n=t.annotationParentIds,r=t.children,o=t.dataAttributes,a=t.id,c=t.state,u=t.hasFocus,d=t.onClick,p=l.useMemo((function(){return e(s)(new Set([].concat(e(s)(n),[a])))}),[a,n]),m=l.useCallback((function(e){e.defaultPrevented||c!==f.AnnotationMarkStates.ACTIVE||(e.preventDefault(),d({eventTarget:e.target,annotationIds:p}))}),[p,d,c]),v=c?h(h({},o),{},{"data-mark-annotation-state":c,"data-has-focus":u}):o,b=c!==f.AnnotationMarkStates.ACTIVE?{"aria-disabled":!0}:{"aria-details":p.join(", ")};return e(l).createElement(g,e(i)({id:a,onClick:m},b,v),r)}})),r.register("5Z2w4",(function(e,n){t(e.exports,"toReact",(function(){return x})),t(e.exports,"isAnnotationMark",(function(){return r("i2Bdo").isAnnotationMark}));var o=r("7XRyd"),i=r("fCPaa"),a=r("4BBuc"),s=r("ajCXo"),c=r("3EV8s"),l=r("ed56K"),u=r("clTtc"),d=r("cJZkA"),f=r("75o8S"),p=r("1WB8C"),h=r("8FJoW"),g=r("gdv5O"),m=r("lxA7p"),v=r("EgNQs"),b=r("i2Bdo"),y=r("amWJy"),E={code:o.default,em:i.default,link:a.default,strike:s.default,strong:c.default,subsup:l.default,textColor:u.default,underline:d.default,annotation:b.default,confluenceInlineComment:y.default,breakout:f.default,alignment:p.default,indentation:h.default,unsupportedMark:g.default,unsupportedNodeAttribute:m.default,dataConsumer:v.default},x=function(e){return E[e.type.name]}})),r.register("7XRyd",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig");r("kN7Fi");var c=r("jWgTb");r("8gPA0");var l=r("3wDH5"),u=r("fLvVE"),d=s.injectIntl((function(t){var n=u.useFeatureFlags(),r=t.intl.formatMessage(l.codeBidiWarningMessages.label);return e(a).createElement(c.default,e(i)({className:"code",codeBidiWarnings:null==n?void 0:n.codeBidiWarnings,codeBidiWarningLabel:r},t.dataAttributes),t.children)}))})),r.register("8gPA0",(function(e,n){t(e.exports,"codeBidiWarningMessages",(function(){return r("3wDH5").codeBidiWarningMessages})),t(e.exports,"linkMessages",(function(){return r("kjcUu").linkMessages}));r("3wDH5"),r("kjcUu")})),r.register("3wDH5",(function(e,n){t(e.exports,"codeBidiWarningMessages",(function(){return o}));var o=r("7RIig").defineMessages({label:{id:"fabric.editor.codeBidiWarningLabel",defaultMessage:"Bidirectional characters change the order that text is rendered. This could be used to obscure malicious code.",description:"Tooltip message to present to users when a bidirectional character is encountered in code."}})})),r.register("kjcUu",(function(e,n){t(e.exports,"linkMessages",(function(){return o}));var o=r("7RIig").defineMessages({openLink:{id:"fabric.editor.openLink",defaultMessage:"Open link in a new tab",description:"Opens the link in a new tab"}})})),r.register("fLvVE",(function(e,n){t(e.exports,"useFeatureFlags",(function(){return i}));var o=r("l0cYL"),i=function(){var e;return null===(e=o.useRendererContext())||void 0===e?void 0:e.featureFlags}})),r.register("l0cYL",(function(n,o){t(n.exports,"useRendererContext",(function(){return s})),t(n.exports,"RendererContextProvider",(function(){return c}));var i=r("61szk"),a=e(i).createContext({}),s=function(){return e(i).useContext(a)},c=a.Provider})),r.register("fCPaa",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("em",t.dataAttributes,t.children)}})),r.register("4BBuc",(function(n,o){t(n.exports,"default",(function(){return g}));var i,a=r("jgze0"),s=r("lhkMJ"),c=r("61szk"),l=r("dYdAT"),u=r("SssiD"),d=r("jAS4L"),f=r("xZkvv"),p=r("aj9Rm"),h=u.default.a(i||(i=e(s)(["\n  color: ",";\n\n  &:hover {\n    color: ",";\n    text-decoration: underline;\n  }\n"])),l.B400,l.B300);function g(t){var n=t.href,r=t.target,o=t.eventHandlers,i=t.fireAnalyticsEvent,s=t.isMediaLink,l=t.dataAttributes,u={href:n,target:r,title:n};"_blank"===r&&(u.rel="noreferrer noopener");var g=d.getEventHandler(o,"link");return s?e(c).createElement(e(c).Fragment,null,t.children):e(c).createElement(h,e(a)({onClick:function(e){i&&i({action:p.ACTION.VISITED,actionSubject:p.ACTION_SUBJECT.LINK,eventType:p.EVENT_TYPE.TRACK,attributes:{platform:f.PLATFORM.WEB,mode:f.MODE.RENDERER}}),g&&g(e,n)}},u,l),t.children)}})),r.register("ajCXo",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("jgze0"),a=r("61szk");function s(t){return e(a).createElement("span",e(i)({},t.dataAttributes,{style:{textDecoration:"line-through"}}),t.children)}})),r.register("3EV8s",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("strong",t.dataAttributes,t.children)}})),r.register("ed56K",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return"sub"===t.type?e(i).createElement("sub",t.dataAttributes,t.children):e(i).createElement("sup",t.dataAttributes,t.children)}})),r.register("clTtc",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("jgze0"),a=r("61szk");function s(t){return e(a).createElement("span",e(i)({},t.dataAttributes,{style:{color:t.color}}),t.children)}})),r.register("cJZkA",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("u",t.dataAttributes,t.children)}})),r.register("75o8S",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD");r("igW5C");var c=r("jZsbJ"),l=r("3cpVm");r("8iml0");var u,d=r("82cWi"),f=s.default.div(u||(u=e(i)(["\n  margin: "," 0;\n  margin-left: 50%;\n  transform: translateX(-50%);\n"])),d.blockNodesVerticalMargin);function p(t){return e(a).createElement(c.WidthConsumer,null,(function(n){var r=n.width;return e(a).createElement(f,{"data-mode":t.mode,style:{width:l.calcBreakoutWidth(t.mode,r)},className:"fabric-editor-breakout-mark fabric-editor-block-mark"},t.children)}))}})),r.register("1WB8C",(function(n,o){t(n.exports,"default",(function(){return f}));var i,a,s=r("lhkMJ"),c=r("61szk"),l=r("SssiD"),u=r("ekJGA"),d=l.default.div(i||(i=e(s)(["\n  ",";\n"])),(function(t){return t["data-align"]&&l.css(a||(a=e(s)(["\n      text-align: ",";\n    "])),u.alignmentPositionMap[t["data-align"]])}));function f(t){return e(c).createElement(d,{className:"fabric-editor-block-mark","data-align":t.align},t.children)}})),r.register("8FJoW",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("div",{className:"fabric-editor-block-mark fabric-editor-indentation-mark","data-level":t.level},t.children)}})),r.register("gdv5O",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("span",t.dataAttributes,t.children)}})),r.register("lxA7p",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(t){return e(i).createElement("span",t.dataAttributes,t.children)}})),r.register("EgNQs",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("jgze0"),a=r("61szk");function s(t){var n=t.isInline?"span":"div";return e(a).createElement(n,e(i)({"data-source":t.sources?JSON.stringify(t.sources):void 0,"data-mark-type":"dataConsumer"},t.dataAttributes),t.children)}})),r.register("i2Bdo",(function(n,o){t(n.exports,"isAnnotationMark",(function(){return f})),t(n.exports,"default",(function(){return p}));var i=r("jgze0"),a=r("l15hj"),s=r("61szk"),c=r("ekJGA");r("7jSev");var l=r("8GBrw");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(e){return e&&e.type&&"annotation"===e.type.name},p=function(t){var n=t.id,r=t.annotationType,o=t.children,a=t.dataAttributes,u=t.annotationParentIds,f=void 0===u?[]:u,p=t.allowAnnotations,h=d(d({},a),c.buildAnnotationMarkDataAttributes({id:n,annotationType:r}));return p?e(s).createElement(l.MarkElement,{id:n,dataAttributes:h,annotationParentIds:f,annotationType:r},o):e(s).createElement("span",e(i)({id:n},h),o)}})),r.register("amWJy",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");function d(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var f=function(t){e(s)(r,t);var n=d(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.reference,r=t.children;return e(u).createElement("span",{"data-mark-type":"confluenceInlineComment","data-reference":n},r)}}]),r}((u=r("61szk")).Component)})),r.register("iFBc4",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("eBSbE"),o=r("jWbqG"),i=function(e,t){return function(n){Array.isArray(e)||(e=[e]);for(var r=0,o=e.length;r<o;r++){var i=k(e[r])(n.selection);if(i){var a=p(i.pos,t)(n);if(a!==n)return a}}return n}},a=function(e){return function(t){if(u(t.selection)){var r=t.selection,i=r.$from,a=r.$to;if(e instanceof o.Fragment&&i.parent.canReplace(i.index(),i.indexAfter(),e)||i.parent.canReplaceWith(i.index(),i.indexAfter(),e.type))return f(t.replaceWith(i.pos,a.pos,e).setSelection(new n.NodeSelection(t.doc.resolve(i.pos))))}return t}},s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(r){var o=n.Selection.findFrom(r.doc.resolve(e),t,!0);return o?r.setSelection(o):r}},c=function(e){return e.type&&e.type.spec.selectable},l=function(e,t,r){return function(e){return c(e)&&e.type.isLeaf}(e)?r.setSelection(new n.NodeSelection(r.doc.resolve(t))):s(t)(r)},u=function(e){return e instanceof n.NodeSelection},d=function(e,t){return Array.isArray(e)&&e.indexOf(t.type)>-1||t.type===e},f=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())},p=function(e,t){return function(n){var r=n.doc.nodeAt(e),o=n.doc.resolve(e);if(h(o,t)){var i=(n=n.replaceWith(e,e+r.nodeSize,t)).selection.$from.pos-1;return n=s(Math.max(i,0),-1)(n),n=s(n.selection.$from.start())(n),f(n)}return n}},h=function(e,t){var n=e.node(e.depth);return n&&n.type.validContent(t instanceof o.Fragment?t:o.Fragment.from(t))},g=function(e){return function(t){var n=t.doc.nodeAt(e);return f(t.delete(e,e+n.nodeSize))}},m=function(e,t){var n=e.index();return t instanceof o.Fragment?e.parent.canReplace(n,n,t):t instanceof o.Node&&e.parent.canReplaceWith(n,n,t.type)},v=function(e){return!e||"paragraph"===e.type.name&&2===e.nodeSize},b=function(e){return function(t){var n=t.$from;return y(n,e)}},y=function(e,t){for(var n=e.depth;n>0;n--){var r=e.node(n);if(t(r))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:r}}},E=function(e,t){return function(n){var r=b(e)(n);if(r)return S(r.pos,t)}},x=function(e){return function(t){return!!b(e)(t)}},k=function(e){return function(t){return b((function(t){return d(e,t)}))(t)}},C=function(e){var t=e.$from.nodeBefore,r=n.Selection.findFrom(e.$from,-1);if(r&&t){var o=k(t.type)(r);return o?o.pos:r.$from.pos}},S=function(e,t){var n=t(e),r=n.node.childNodes[n.offset];return n.node.nodeType===Node.TEXT_NODE?n.node.parentNode:r&&r.nodeType!==Node.TEXT_NODE?r:n.node},T=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)throw new Error('Invalid "node" parameter');var n=[];return e.descendants((function(e,r){if(n.push({node:e,pos:r}),!t)return!1})),n},O=function(e,t,n){if(!e)throw new Error('Invalid "node" parameter');if(!t)throw new Error('Invalid "predicate" parameter');return T(e,n).filter((function(e){return t(e.node)}))},w=function(e,t,n){return O(e,(function(e){return e.type===t}),n)};e.exports.isNodeSelection=u,e.exports.canInsert=m,e.exports.findParentNode=b,e.exports.findParentNodeClosestToPos=y,e.exports.findParentDomRef=E,e.exports.hasParentNode=x,e.exports.findParentNodeOfType=k,e.exports.findParentNodeOfTypeClosestToPos=function(e,t){return y(e,(function(e){return d(t,e)}))},e.exports.hasParentNodeOfType=function(e){return function(t){return x((function(t){return d(e,t)}))(t)}},e.exports.findParentDomRefOfType=function(e,t){return function(n){return E((function(t){return d(e,t)}),t)(n)}},e.exports.findSelectedNodeOfType=function(e){return function(t){if(u(t)){var n=t.node,r=t.$from;if(d(e,n))return{node:n,pos:r.pos,depth:r.depth}}}},e.exports.findPositionOfNodeBefore=C,e.exports.findDomRefAtPos=S,e.exports.flatten=T,e.exports.findChildren=O,e.exports.findTextNodes=function(e,t){return O(e,(function(e){return e.isText}),t)},e.exports.findInlineNodes=function(e,t){return O(e,(function(e){return e.isInline}),t)},e.exports.findBlockNodes=function(e,t){return O(e,(function(e){return e.isBlock}),t)},e.exports.findChildrenByAttr=function(e,t,n){return O(e,(function(e){return!!t(e.attrs)}),n)},e.exports.findChildrenByType=w,e.exports.findChildrenByMark=function(e,t,n){return O(e,(function(e){return t.isInSet(e.marks)}),n)},e.exports.contains=function(e,t){return!!w(e,t).length},e.exports.removeParentNodeOfType=function(e){return function(t){var n=k(e)(t.selection);return n?g(n.pos)(t):t}},e.exports.replaceParentNodeOfType=i,e.exports.removeSelectedNode=function(e){if(u(e.selection)){var t=e.selection.$from.pos,n=e.selection.$to.pos;return f(e.delete(t,n))}return e},e.exports.replaceSelectedNode=a,e.exports.setTextSelection=s,e.exports.safeInsert=function(e,t,n){return function(r){var o="number"==typeof t,s=r.selection.$from,d=o?r.doc.resolve(t):u(r.selection)?r.doc.resolve(s.pos+1):s,p=d.parent;if(u(r.selection)&&n&&r!==(r=a(e)(r)))return r;if(v(p)&&r!==(r=i(p.type,e)(r))){var h=c(e)?d.before(d.depth):d.pos;return l(e,h,r)}if(m(d,e)){r.insert(d.pos,e);var g=o?d.pos:c(e)?r.selection.$anchor.pos-1:r.selection.$anchor.pos;return f(l(e,g,r))}for(var b=d.depth;b>0;b--){var y=d.after(b),E=r.doc.resolve(y);if(m(E,e))return r.insert(y,e),f(l(e,y,r))}return r}},e.exports.setParentNodeMarkup=function(e,t,n,r){return function(o){var i=k(e)(o.selection);return i?f(o.setNodeMarkup(i.pos,t,Object.assign({},i.node.attrs,n),r)):o}},e.exports.selectParentNodeOfType=function(e){return function(t){if(!u(t.selection)){var r=k(e)(t.selection);if(r)return f(t.setSelection(n.NodeSelection.create(t.doc,r.pos)))}return t}},e.exports.removeNodeBefore=function(e){var t=C(e.selection);return"number"==typeof t?g(t)(e):e}})),r.register("eBSbE",(function(e,n){t(e.exports,"Selection",(function(){return s})),t(e.exports,"SelectionRange",(function(){return l})),t(e.exports,"TextSelection",(function(){return u})),t(e.exports,"AllSelection",(function(){return h})),t(e.exports,"NodeSelection",(function(){return f})),t(e.exports,"EditorState",(function(){return C})),t(e.exports,"Plugin",(function(){return w})),t(e.exports,"PluginKey",(function(){return A}));var o=r("jWbqG"),i=r("6sW8E"),a=Object.create(null),s=function(e,t,n){this.ranges=n||[new l(e.min(t),e.max(t))],this.$anchor=e,this.$head=t},c={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};c.anchor.get=function(){return this.$anchor.pos},c.head.get=function(){return this.$head.pos},c.from.get=function(){return this.$from.pos},c.to.get=function(){return this.$to.pos},c.$from.get=function(){return this.ranges[0].$from},c.$to.get=function(){return this.ranges[0].$to},c.empty.get=function(){for(var e=this.ranges,t=0;t<e.length;t++)if(e[t].$from.pos!=e[t].$to.pos)return!1;return!0},s.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},s.prototype.replace=function(e,t){void 0===t&&(t=o.Slice.empty);for(var n=t.content.lastChild,r=null,i=0;i<t.openEnd;i++)r=n,n=n.lastChild;for(var a=e.steps.length,s=this.ranges,c=0;c<s.length;c++){var l=s[c],u=l.$from,d=l.$to,f=e.mapping.slice(a);e.replaceRange(f.map(u.pos),f.map(d.pos),c?o.Slice.empty:t),0==c&&v(e,a,(n?n.isInline:r&&r.isTextblock)?-1:1)}},s.prototype.replaceWith=function(e,t){for(var n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,c=e.mapping.slice(n),l=c.map(a.pos),u=c.map(s.pos);o?e.deleteRange(l,u):(e.replaceRangeWith(l,u,t),v(e,n,t.isInline?-1:1))}},s.findFrom=function(e,t,n){var r=e.parent.inlineContent?new u(e):m(e.node(0),e.parent,e.pos,e.index(),t,n);if(r)return r;for(var o=e.depth-1;o>=0;o--){var i=t<0?m(e.node(0),e.node(o),e.before(o+1),e.index(o),t,n):m(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,t,n);if(i)return i}},s.near=function(e,t){return void 0===t&&(t=1),this.findFrom(e,t)||this.findFrom(e,-t)||new h(e.node(0))},s.atStart=function(e){return m(e,e,0,0,1)||new h(e)},s.atEnd=function(e){return m(e,e,e.content.size,e.childCount,-1)||new h(e)},s.fromJSON=function(e,t){if(!t||!t.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=a[t.type];if(!n)throw new RangeError("No selection type "+t.type+" defined");return n.fromJSON(e,t)},s.jsonID=function(e,t){if(e in a)throw new RangeError("Duplicate use of selection JSON ID "+e);return a[e]=t,t.prototype.jsonID=e,t},s.prototype.getBookmark=function(){return u.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(s.prototype,c),s.prototype.visible=!0;var l=function(e,t){this.$from=e,this.$to=t},u=function(e){function t(t,n){void 0===n&&(n=t),e.call(this,t,n)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},t.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return e.near(o);var i=n.resolve(r.map(this.anchor));return new t(i.parent.inlineContent?i:o,o)},t.prototype.replace=function(t,n){if(void 0===n&&(n=o.Slice.empty),e.prototype.replace.call(this,t,n),n==o.Slice.empty){var r=this.$from.marksAcross(this.$to);r&&t.ensureMarks(r)}},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor&&e.head==this.head},t.prototype.getBookmark=function(){return new d(this.anchor,this.head)},t.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},t.fromJSON=function(e,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new t(e.resolve(n.anchor),e.resolve(n.head))},t.create=function(e,t,n){void 0===n&&(n=t);var r=e.resolve(t);return new this(r,n==t?r:e.resolve(n))},t.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var a=e.findFrom(r,o,!0)||e.findFrom(r,-o,!0);if(!a)return e.near(r,o);r=a.$head}return n.parent.inlineContent||(0==i||(n=(e.findFrom(n,-o,!0)||e.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new t(n,r)},Object.defineProperties(t.prototype,n),t}(s);s.jsonID("text",u);var d=function(e,t){this.anchor=e,this.head=t};d.prototype.map=function(e){return new d(e.map(this.anchor),e.map(this.head))},d.prototype.resolve=function(e){return u.between(e.resolve(this.anchor),e.resolve(this.head))};var f=function(e){function t(t){var n=t.nodeAfter,r=t.node(0).resolve(t.pos+n.nodeSize);e.call(this,t,r),this.node=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,a=o.pos,s=n.resolve(a);return i?e.near(s):new t(s)},t.prototype.content=function(){return new o.Slice(o.Fragment.from(this.node),0,0)},t.prototype.eq=function(e){return e instanceof t&&e.anchor==this.anchor},t.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},t.prototype.getBookmark=function(){return new p(this.anchor)},t.fromJSON=function(e,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new t(e.resolve(n.anchor))},t.create=function(e,t){return new this(e.resolve(t))},t.isSelectable=function(e){return!e.isText&&!1!==e.type.spec.selectable},t}(s);f.prototype.visible=!1,s.jsonID("node",f);var p=function(e){this.anchor=e};p.prototype.map=function(e){var t=e.mapResult(this.anchor),n=t.deleted,r=t.pos;return n?new d(r,r):new p(r)},p.prototype.resolve=function(e){var t=e.resolve(this.anchor),n=t.nodeAfter;return n&&f.isSelectable(n)?new f(t):s.near(t)};var h=function(e){function t(t){e.call(this,t.resolve(0),t.resolve(t.content.size))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.replace=function(t,n){if(void 0===n&&(n=o.Slice.empty),n==o.Slice.empty){t.delete(0,t.doc.content.size);var r=e.atStart(t.doc);r.eq(t.selection)||t.setSelection(r)}else e.prototype.replace.call(this,t,n)},t.prototype.toJSON=function(){return{type:"all"}},t.fromJSON=function(e){return new t(e)},t.prototype.map=function(e){return new t(e)},t.prototype.eq=function(e){return e instanceof t},t.prototype.getBookmark=function(){return g},t}(s);s.jsonID("all",h);var g={map:function(){return this},resolve:function(e){return new h(e)}};function m(e,t,n,r,o,i){if(t.inlineContent)return u.create(e,n);for(var a=r-(o>0?0:1);o>0?a<t.childCount:a>=0;a+=o){var s=t.child(a);if(s.isAtom){if(!i&&f.isSelectable(s))return f.create(e,n-(o<0?s.nodeSize:0))}else{var c=m(e,s,n+o,o<0?s.childCount:0,o,i);if(c)return c}n+=s.nodeSize*o}}function v(e,t,n){var r=e.steps.length-1;if(!(r<t)){var o,a=e.steps[r];if(a instanceof i.ReplaceStep||a instanceof i.ReplaceAroundStep)e.mapping.maps[r].forEach((function(e,t,n,r){null==o&&(o=r)})),e.setSelection(s.near(e.doc.resolve(o),n))}}var b=function(e){function t(t){e.call(this,t.doc),this.time=Date.now(),this.curSelection=t.selection,this.curSelectionFor=0,this.storedMarks=t.storedMarks,this.updated=0,this.meta=Object.create(null)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},t.prototype.setSelection=function(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},t.prototype.setStoredMarks=function(e){return this.storedMarks=e,this.updated|=2,this},t.prototype.ensureMarks=function(e){return o.Mark.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this},t.prototype.addStoredMark=function(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))},t.prototype.removeStoredMark=function(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},t.prototype.addStep=function(t,n){e.prototype.addStep.call(this,t,n),this.updated=-3&this.updated,this.storedMarks=null},t.prototype.setTime=function(e){return this.time=e,this},t.prototype.replaceSelection=function(e){return this.selection.replace(this,e),this},t.prototype.replaceSelectionWith=function(e,t){var n=this.selection;return!1!==t&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||o.Mark.none))),n.replaceWith(this,e),this},t.prototype.deleteSelection=function(){return this.selection.replace(this),this},t.prototype.insertText=function(e,t,n){void 0===n&&(n=t);var r=this.doc.type.schema;if(null==t)return e?this.replaceSelectionWith(r.text(e),!0):this.deleteSelection();if(!e)return this.deleteRange(t,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(t);o=n==t?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(t,n,r.text(e,o)),this.selection.empty||this.setSelection(s.near(this.selection.$to)),this},t.prototype.setMeta=function(e,t){return this.meta["string"==typeof e?e:e.key]=t,this},t.prototype.getMeta=function(e){return this.meta["string"==typeof e?e:e.key]},n.isGeneric.get=function(){for(var e in this.meta)return!1;return!0},t.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(t.prototype,n),t}(i.Transform);function y(e,t){return t&&e?e.bind(t):e}var E=function(e,t,n){this.name=e,this.init=y(t.init,n),this.apply=y(t.apply,n)},x=[new E("doc",{init:function(e){return e.doc||e.schema.topNodeType.createAndFill()},apply:function(e){return e.doc}}),new E("selection",{init:function(e,t){return e.selection||s.atStart(t.doc)},apply:function(e){return e.selection}}),new E("storedMarks",{init:function(e){return e.storedMarks||null},apply:function(e,t,n,r){return r.selection.$cursor?e.storedMarks:null}}),new E("scrollToSelection",{init:function(){return 0},apply:function(e,t){return e.scrolledIntoView?t+1:t}})],k=function(e,t){var n=this;this.schema=e,this.fields=x.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),t&&t.forEach((function(e){if(n.pluginsByKey[e.key])throw new RangeError("Adding different instances of a keyed plugin ("+e.key+")");n.plugins.push(e),n.pluginsByKey[e.key]=e,e.spec.state&&n.fields.push(new E(e.key,e.spec.state,e))}))},C=function(e){this.config=e},S={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};S.schema.get=function(){return this.config.schema},S.plugins.get=function(){return this.config.plugins},C.prototype.apply=function(e){return this.applyTransaction(e).state},C.prototype.filterTransaction=function(e,t){void 0===t&&(t=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=t){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,e,this))return!1}return!0},C.prototype.applyTransaction=function(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};for(var t=[e],n=this.applyInner(e),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var a=this.config.plugins[i];if(a.spec.appendTransaction){var s=r?r[i].n:0,c=r?r[i].state:this,l=s<t.length&&a.spec.appendTransaction.call(a,s?t.slice(s):t,c,n);if(l&&n.filterTransaction(l,i)){if(l.setMeta("appendedTransaction",e),!r){r=[];for(var u=0;u<this.config.plugins.length;u++)r.push(u<i?{state:n,n:t.length}:{state:this,n:0})}t.push(l),n=n.applyInner(l),o=!0}r&&(r[i]={state:n,n:t.length})}}if(!o)return{state:n,transactions:t}}},C.prototype.applyInner=function(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var t=new C(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];t[o.name]=o.apply(e,this[o.name],this,t)}for(var i=0;i<T.length;i++)T[i](this,e,t);return t},S.tr.get=function(){return new b(this)},C.create=function(e){for(var t=new k(e.schema||e.doc.type.schema,e.plugins),n=new C(t),r=0;r<t.fields.length;r++)n[t.fields[r].name]=t.fields[r].init(e,n);return n},C.prototype.reconfigure=function(e){for(var t=new k(e.schema||this.schema,e.plugins),n=t.fields,r=new C(t),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(e,r)}return r},C.prototype.toJSON=function(e){var t={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(t.storedMarks=this.storedMarks.map((function(e){return e.toJSON()}))),e&&"object"==typeof e)for(var n in e){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=e[n],o=r.spec.state;o&&o.toJSON&&(t[n]=o.toJSON.call(r,this[r.key]))}return t},C.fromJSON=function(e,t,n){if(!t)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");var r=new k(e.schema,e.plugins),i=new C(r);return r.fields.forEach((function(r){if("doc"==r.name)i.doc=o.Node.fromJSON(e.schema,t.doc);else if("selection"==r.name)i.selection=s.fromJSON(i.doc,t.selection);else if("storedMarks"==r.name)t.storedMarks&&(i.storedMarks=t.storedMarks.map(e.schema.markFromJSON));else{if(n)for(var a in n){var c=n[a],l=c.spec.state;if(c.key==r.name&&l&&l.fromJSON&&Object.prototype.hasOwnProperty.call(t,a))return void(i[r.name]=l.fromJSON.call(c,e,t[a],i))}i[r.name]=r.init(e,i)}})),i},C.addApplyListener=function(e){T.push(e)},C.removeApplyListener=function(e){var t=T.indexOf(e);t>-1&&T.splice(t,1)},Object.defineProperties(C.prototype,S);var T=[];function O(e,t,n){for(var r in e){var o=e[r];o instanceof Function?o=o.bind(t):"handleDOMEvents"==r&&(o=O(o,t,{})),n[r]=o}return n}var w=function(e){this.props={},e.props&&O(e.props,this,this.props),this.spec=e,this.key=e.key?e.key.key:P("plugin")};w.prototype.getState=function(e){return e[this.key]};var N=Object.create(null);function P(e){return e in N?e+"$"+ ++N[e]:(N[e]=0,e+"$")}var A=function(e){void 0===e&&(e="key"),this.key=P(e)};A.prototype.get=function(e){return e.config.pluginsByKey[this.key]},A.prototype.getState=function(e){return e[this.key]}})),r.register("72R66",(function(e,n){t(e.exports,"insideBreakoutLayout",(function(){return r}));var r=function(e){return e.some((function(e){return"layoutSection"===e.type.name&&function(e){return e.marks.some((function(e){return"breakout"===e.type.name}))}(e)}))}})),r.register("fY52l",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("ekJGA"),c=r("1jf5p"),l=function(){function t(n){e(i)(this,t),this.schema=n,this.schema=n}return e(a)(t,[{key:"serializeFragment",value:function(e){var t=this,n=[];return e.forEach((function(e){n.push(c.reduce(e,t.schema))})),n.join("\n").replace(/\n+/g,"\n")}}],[{key:"fromSchema",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.defaultSchema;return new t(e)}}]),t}()})),r.register("1jf5p",(function(e,n){t(e.exports,"reduce",(function(){return k}));var o=r("dlNyd"),i=r("g9RH1"),a=r("bcqMN"),s=r("1QGDs"),c=r("axMJz"),l=r("jnAHN"),u=r("8wcXt"),d=r("hPcfY"),f=r("eW2zZ"),p=r("jfpDF"),h=r("bDaC8"),g=r("ki01o"),m=r("1QTXe"),v=r("S7I4H"),b=r("cavrU"),y=r("52ueN"),E=r("c3eoK"),x=r("arrV8"),k=function(e,t){return(C[e.type.name]||C.unknown)(e,t)},C={blockquote:o.default,bulletList:i.default,date:a.default,decisionItem:s.default,hardBreak:c.default,heading:l.default,inlineCard:u.default,listItem:d.default,mediaGroup:f.default,mention:p.default,orderedList:h.default,panel:g.default,paragraph:m.default,rule:v.default,status:b.default,table:y.default,taskItem:E.default,unknown:x.default}})),r.register("dlNyd",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.content.forEach((function(e){n.push(o.reduce(e,t))})),"> ".concat(n.join(""))}})),r.register("g9RH1",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.forEach((function(e){n.push("* ".concat(o.reduce(e,t)))})),n.join("\n")}})),r.register("bcqMN",(function(e,n){t(e.exports,"default",(function(){return a})),r("igW5C");var o=r("fPzQr"),i=r("jAS4L"),a=function(e,t){return e.attrs.timestamp?o.timestampToIsoFormat(e.attrs.timestamp):i.getText(e)}})),r.register("1QGDs",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[],r="";return e.forEach((function(e){var i=o.reduce(e,t);"mention"!==r||i.startsWith(" ")?n.push(i):n.push(" ".concat(i)),r=e.type.name})),"<> ".concat(n.join("").trim())}})),r.register("axMJz",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(){return"\n"}})),r.register("jnAHN",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.forEach((function(e){n.push(o.reduce(e,t))})),n.join("")}})),r.register("8wcXt",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("jAS4L"),i=function(e,t){var n;return e.attrs.url||(null===(n=e.attrs.data)||void 0===n?void 0:n.url)||o.getText(e)}})),r.register("hPcfY",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.forEach((function(e){n.push(o.reduce(e,t))})),n.join("\n")}})),r.register("eW2zZ",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e){var t=0;if(e.content.forEach((function(e){"file"===e.attrs.type&&(t+=1)})),t){var n=t>1?"Files":"File";return"\ud83d\udcce ".concat(t," ").concat(n)}return""}})),r.register("jfpDF",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e,t){return-1!==["all","here"].indexOf(e.attrs.id)?"@".concat(e.attrs.id):"".concat(e.attrs.text||"@unknown")}})),r.register("bDaC8",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.forEach((function(e,r,i){n.push("".concat(i+1,". ").concat(o.reduce(e,t)))})),n.join("\n")}})),r.register("ki01o",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.forEach((function(e){n.push(o.reduce(e,t))})),n.join("\n")}})),r.register("1QTXe",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[],r="";return e.forEach((function(e){var i=o.reduce(e,t);"mention"!==r||i.startsWith(" ")?n.push(i):n.push(" ".concat(i)),r=e.type.name})),n.join("").trim()}})),r.register("S7I4H",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(){return""}})),r.register("cavrU",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("jAS4L"),i=function(e,t){return e.attrs.text?"[ ".concat(e.attrs.text.toUpperCase()," ]"):o.getText(e)}})),r.register("52ueN",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("1jf5p"),i=function(e,t){var n=[];return e.forEach((function(e){n.push(a(e,t))})),"".concat("|").concat(n.join("".concat("|"))).concat("|")},a=function(e,t){var n=[];return e.forEach((function(e){n.push(o.reduce(e,t))})),n.join("\n")},s=function(e,t){var n=[];return e.forEach((function(e){n.push(i(e,t))})),n.join("\n")}})),r.register("c3eoK",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1jf5p"),i=function(e,t){var n=[],r="",i="DONE"===e.attrs.state?"[x]":"[]";return e.forEach((function(e){var i=o.reduce(e,t);"mention"!==r||i.startsWith(" ")?n.push(i):n.push(" ".concat(i)),r=e.type.name})),"".concat(i," ").concat(n.join("").trim())}})),r.register("arrV8",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("jAS4L"),i=r("1jf5p"),a=function(e,t){var n=[];return e.forEach((function(e){n.push(i.reduce(e,t))})),n.length>0?n.join(""):o.getText(e)}})),r.register("1bpwT",(function(n,o){t(n.exports,"default",(function(){return ae}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=(p=r("61szk"),r("7RIig")),g=r("ekJGA");r("2V4Fn");var m=r("hx6oL");r("igW5C");var v=r("g4Rxo"),b=r("6qQ9w"),y=r("brEbx"),E=r("a8mog"),x=r("4cO4S"),k=r("isabZ"),C=r("lL7z1"),S=r("jZsbJ"),T=r("5ZnAd"),O=r("h1Mq5");r("8iml0");var w=r("82cWi"),N=r("bgvam"),P=r("eFHDY"),A=r("gpCn2"),I=r("4tbIQ");r("dFBo1");var D=r("4iZpZ"),R=r("biPg6"),M=r("jJ4vp"),_=r("38M2n"),j=r("aj9Rm"),B=r("xZkvv"),L=r("lMwqs"),F=r("72PTQ"),z=r("ceP0a"),W=r("fBPuF"),U=r("cZ17Z"),H=r("8F8yW"),V=r("eAOaH"),K=r("7jSev"),G=r("lXM2G"),J=r("jAS4L"),q=r("hrQRi"),Y=r("l0cYL"),Z=r("6gvxN"),X=r("op5aK");function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ee(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var te=function(t){e(l)(r,t);var n=ee(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"featureFlags",Z.default((function(e){return{featureFlags:O.normalizeFeatureFlags(e)}}))),e(f)(e(c)(o),"fireAnalyticsEvent",(function(e){var t=o.props.createAnalyticsEvent;if(t){var n=P.FabricChannel.editor;t(e).fire(n)}})),e(f)(e(c)(o),"getSchema",(function(){var e=o.props,t=e.schema,n=e.adfStage;return t||g.getSchemaBasedOnStage(n)})),e(f)(e(c)(o),"onMouseDownEditView",(function(){var e=window.getSelection();o.mouseDownSelection=null!==e?e.toString():void 0})),o.providerFactory=t.dataProviders||new v.default,o.serializer=new D.default(o.deriveSerializerProps(t)),o.editorRef=t.innerRef||e(p).createRef(),o.id=e(I)(),b.startMeasure("Renderer Render Time: ".concat(o.id)),o}return e(s)(r,[{key:"anchorLinkAnalytics",value:function(){var e=window.location.hash&&decodeURIComponent(window.location.hash.slice(1));if(!this.props.disableHeadingIDs&&e&&this.editorRef&&this.editorRef.current instanceof HTMLElement){var t=document.getElementById(e);t&&this.editorRef.current.contains(t)&&this.fireAnalyticsEvent({action:j.ACTION.VIEWED,actionSubject:j.ACTION_SUBJECT.ANCHOR_LINK,attributes:{platform:B.PLATFORM.WEB,mode:B.MODE.RENDERER},eventType:j.EVENT_TYPE.UI})}}},{key:"componentDidMount",value:function(){var e=this;this.fireAnalyticsEvent({action:j.ACTION.STARTED,actionSubject:j.ACTION_SUBJECT.RENDERER,attributes:{platform:B.PLATFORM.WEB},eventType:j.EVENT_TYPE.UI}),this.rafID=requestAnimationFrame((function(){b.stopMeasure("Renderer Render Time: ".concat(e.id),(function(t){var n,r,o=e.props.analyticsEventSeverityTracking,i=void 0===o&&y.shouldForceTracking()||null!=o&&o.enabled?E.getAnalyticsEventSeverity(t,null!==(n=null==o?void 0:o.severityNormalThreshold)&&void 0!==n?n:2e3,null!==(r=null==o?void 0:o.severityDegradedThreshold)&&void 0!==r?r:3e3):void 0;e.fireAnalyticsEvent({action:j.ACTION.RENDERED,actionSubject:j.ACTION_SUBJECT.RENDERER,attributes:{platform:B.PLATFORM.WEB,duration:t,ttfb:x.getResponseEndTime(),nodes:m.reduce(e.props.document,(function(e,t){return e[t.type]=(e[t.type]||0)+1,e}),{}),severity:i},eventType:j.EVENT_TYPE.OPERATIONAL})})),e.anchorLinkAnalytics()}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.media||{},n=this.props.media||{};e.portal===this.props.portal&&e.appearance===this.props.appearance&&e.stickyHeaders===this.props.stickyHeaders&&e.disableActions===this.props.disableActions&&e.allowHeadingAnchorLinks===this.props.allowHeadingAnchorLinks&&t.allowLinking===n.allowLinking||(this.serializer=new D.default(this.deriveSerializerProps(e)))}},{key:"deriveSerializerProps",value:function(e){var t=e.stickyHeaders?!0===e.stickyHeaders?{}:e.stickyHeaders:void 0,n=e.annotationProvider,r=Boolean(n&&n.inlineComment&&n.inlineComment.allowDraftMode);return{providers:this.providerFactory,eventHandlers:e.eventHandlers,extensionHandlers:e.extensionHandlers,portal:e.portal,objectContext:$({adDoc:e.document,schema:e.schema},e.rendererContext),appearance:e.appearance,disableHeadingIDs:e.disableHeadingIDs,disableActions:e.disableActions,allowDynamicTextSizing:e.allowDynamicTextSizing,allowHeadingAnchorLinks:e.allowHeadingAnchorLinks,allowColumnSorting:e.allowColumnSorting,fireAnalyticsEvent:this.fireAnalyticsEvent,shouldOpenMediaViewer:e.shouldOpenMediaViewer,allowAltTextOnImages:e.allowAltTextOnImages,stickyHeaders:t,allowMediaLinking:e.media&&e.media.allowLinking,surroundTextNodesWithTextWrapper:r,media:e.media,allowCopyToClipboard:e.allowCopyToClipboard,allowCustomPanels:e.UNSAFE_allowCustomPanels,allowAnnotations:e.allowAnnotations,allowSelectAllTrap:e.allowSelectAllTrap,allowPlaceholderText:e.allowPlaceholderText}}},{key:"render",value:function(){var t=this,n=this.props,r=n.document,o=n.onComplete,i=n.onError,a=n.appearance,s=n.adfStage,c=n.allowDynamicTextSizing,l=n.truncated,u=n.maxHeight,d=n.fadeOutHeight,f=n.enableSsrInlineScripts,g=n.allowHeadingAnchorLinks,m=n.allowPlaceholderText,v=n.allowColumnSorting,b=n.allowCopyToClipboard,y=n.UNSAFE_allowCustomPanels,E=G.isNestedHeaderLinksEnabled(g),x=function(e){var n;if(null!==(n=t.props.eventHandlers)&&void 0!==n&&n.onUnhandledClick){var r=e.target;if(r instanceof window.Element){var o=e.currentTarget;if(!J.findInTree(r,o,q.isInteractiveElement)){var i=window.getSelection(),a=null!==i?i.toString():void 0,s=a&&0!==a.length,c=t.mouseDownSelection&&0!==t.mouseDownSelection.length;!s&&!c&&t.props.eventHandlers.onUnhandledClick(e)}}}};try{var C=this.getSchema(),S=R.renderDocument(r,this.serializer,C,s,this.props.useSpecBasedValidator,this.id,this.fireAnalyticsEvent,this.props.unsupportedContentLevelsTracking,this.props.appearance),T=S.result,O=S.stat,w=S.pmDoc;o&&o(O);var N=e(p).createElement(Y.RendererContextProvider,{value:this.featureFlags(this.props.featureFlags)},e(p).createElement(F.CopyTextProvider,null,e(p).createElement(V.ActiveHeaderIdProvider,{value:G.getActiveHeadingId(g)},e(p).createElement(h.IntlProvider,null,e(p).createElement(L.default.Provider,{value:{fireAnalyticsEvent:function(e){return t.fireAnalyticsEvent(e)}}},e(p).createElement(z.Provider,null,e(p).createElement(oe,{appearance:a,dynamicTextSizing:!!c,allowNestedHeaderLinks:E,allowColumnSorting:v,allowCopyToClipboard:b,allowCustomPanels:y,allowPlaceholderText:m,innerRef:this.editorRef,onClick:x,onMouseDown:this.onMouseDownEditView},f?e(p).createElement(U.BreakoutSSRInlineScript,{allowDynamicTextSizing:!!c}):null,e(p).createElement(ie,{doc:w,schema:C,onAnalyticsEvent:this.fireAnalyticsEvent},T))))))));return l?e(p).createElement(_.TruncatedWrapper,{height:u,fadeHeight:d},N):N}catch(t){return i&&i(t),e(p).createElement(oe,{appearance:a,dynamicTextSizing:!!c,allowCopyToClipboard:b,allowPlaceholderText:m,allowColumnSorting:v,allowNestedHeaderLinks:E,onClick:x},e(p).createElement(k.default,null))}}},{key:"componentWillUnmount",value:function(){var e=this.props.dataProviders;this.rafID&&window.cancelAnimationFrame(this.rafID),e||this.providerFactory.destroy()}}]),r}(p.PureComponent),ne=e(p).memo((function(t){return e(p).createElement(A.FabricEditorAnalyticsContext,{data:{appearance:E.getAnalyticsAppearance(t.appearance),packageName:W.name,packageVersion:W.version,componentName:"renderer",editorSessionId:e(I)()}},e(p).createElement(C.WithCreateAnalyticsEvent,{render:function(n){return e(p).createElement(X.ErrorBoundary,{component:j.ACTION_SUBJECT.RENDERER,rethrowError:!0,fallbackComponent:null,createAnalyticsEvent:n},e(p).createElement(te,e(i)({},t,{createAnalyticsEvent:n})))}}))})),re=e(p).memo((function(t){var n=t.allowColumnSorting,r=t.dynamicTextSizing,o=t.allowNestedHeaderLinks,i=t.innerRef,a=t.appearance,s=t.children,c=t.subscribe,l=t.onClick,u=t.onMouseDown,d=e(p).createElement(S.WidthProvider,{className:"ak-renderer-wrapper"},e(p).createElement(T.BaseTheme,{dynamicTextSizing:r,baseFontSize:!r&&a&&"comment"!==a?w.akEditorFullPageDefaultFontSize:void 0},e(p).createElement(M.Wrapper,{innerRef:i,appearance:a,allowNestedHeaderLinks:o,allowColumnSorting:!!n,onClick:l,onMouseDown:u},s)));return c?d:e(p).createElement(N.IframeWidthObserverFallbackWrapper,null,d)}));function oe(t){return e(p).createElement(N.IframeWrapperConsumer,null,(function(n){var r=n.subscribe;return e(p).createElement(re,e(i)({},t,{subscribe:r}))}))}function ie(e){var t=e.children,n=e.doc,r=e.schema,o=e.onAnalyticsEvent,i=p.useContext(H.RendererContext),a=p.useRef(null);return p.useLayoutEffect((function(){return n?i._privateRegisterRenderer(a,n,r,o):i._privateUnregisterRenderer(),function(){return i._privateUnregisterRenderer()}}),[i,r,n,o]),t}var ae=function(t){var n=t.allowAnnotations,r=t.document,o=e(p).useRef(null),a=t.innerRef||o;return n?e(p).createElement(H.RendererActionsContext,null,e(p).createElement(K.AnnotationsWrapper,{rendererRef:a,adfDocument:r,annotationProvider:t.annotationProvider},e(p).createElement(ne,e(i)({innerRef:a},t)))):e(p).createElement(ne,e(i)({innerRef:a},t))}})),r.register("2V4Fn",(function(e,n){t(e.exports,"filter",(function(){return r("l9LBo").filter})),t(e.exports,"reduce",(function(){return r("hx6oL").reduce}));r("l9LBo"),r("hx6oL")})),r.register("hx6oL",(function(e,n){t(e.exports,"reduce",(function(){return i}));var o=r("4kepx");function i(e,t,n){var r=n;return o.traverse(e,{any:function(e){r=t(r,e)}}),r}})),r.register("4kepx",(function(n,o){t(n.exports,"traverse",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(e,t){return l(e,{node:void 0},t,0,0)}function l(e,t,n,r,o){var i=n[e.type]||n.any,a=s({},e);if(i){var c=i(s({},a),t,r,o);if(!1===c)return!1;a=c||e}return a.content&&(a.content=a.content.reduce((function(e,r,i){if(!r)return e;var s=l(r,{node:a,parent:t},n,i,o+1);return!1!==s&&e.push(s),e}),[])),a}})),r.register("l9LBo",(function(e,n){t(e.exports,"filter",(function(){return i}));var o=r("4kepx");function i(e,t){var n=[];return o.traverse(e,{any:function(e){t(e)&&n.push(e)}}),n}})),r.register("h1Mq5",(function(n,o){t(n.exports,"normalizeFeatureFlags",(function(){return l}));var i=r("h67q9"),a=r("ezhT8"),s=r("6MBTH"),c={};function l(t){return t?Object.entries(t).filter((function(e){return"boolean"==typeof e[1]})).filter((function(t){var n=e(i)(t,1)[0];return e(s)(n)===n})).map((function(t){var n=e(i)(t,2),r=n[0],o=n[1];return[e(a)(r),o]})).reduce((function(t,n){var r=e(i)(n,2),o=r[0],a=r[1];return t[o]=a,t}),{}):c}})),r.register("ezhT8",(function(e,t){var n=r("lyYGv"),o=r("a7KwL")((function(e,t,r){return t=t.toLowerCase(),e+(r?n(t):t)}));e.exports=o})),r.register("lyYGv",(function(e,t){var n=r("9tVEL"),o=r("4qCmG");e.exports=function(e){return o(n(e).toLowerCase())}})),r.register("4qCmG",(function(e,t){var n=r("b6R2X")("toUpperCase");e.exports=n})),r.register("b6R2X",(function(e,t){var n=r("6mTW1"),o=r("2Gub1"),i=r("dPd0I"),a=r("9tVEL");e.exports=function(e){return function(t){t=a(t);var r=o(t)?i(t):void 0,s=r?r[0]:t.charAt(0),c=r?n(r,1).join(""):t.slice(1);return s[e]()+c}}})),r.register("a7KwL",(function(e,t){var n=r("fnjto"),o=r("5gRD4"),i=r("f86dz"),a=RegExp("['\u2019]","g");e.exports=function(e){return function(t){return n(i(o(t).replace(a,"")),e,"")}}})),r.register("fnjto",(function(e,t){e.exports=function(e,t,n,r){var o=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}})),r.register("5gRD4",(function(e,t){var n=r("haEwH"),o=r("9tVEL"),i=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,a=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=o(e))&&e.replace(i,n).replace(a,"")}})),r.register("haEwH",(function(e,t){var n=r("bsAUT")({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});e.exports=n})),r.register("bsAUT",(function(e,t){e.exports=function(e){return function(t){return null==e?void 0:e[t]}}})),r.register("f86dz",(function(e,t){var n=r("knbdm"),o=r("hu2WN"),i=r("9tVEL"),a=r("9CLWL");e.exports=function(e,t,r){return e=i(e),void 0===(t=r?void 0:t)?o(e)?a(e):n(e):e.match(t)||[]}})),r.register("knbdm",(function(e,t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(n)||[]}})),r.register("hu2WN",(function(e,t){var n=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return n.test(e)}})),r.register("9CLWL",(function(e,t){var n="\\u2700-\\u27bf",r="a-z\\xdf-\\xf6\\xf8-\\xff",o="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",i="["+o+"]",a="\\d+",s="[\\u2700-\\u27bf]",c="[^\\ud800-\\udfff"+o+a+n+r+"A-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",d="[A-Z\\xc0-\\xd6\\xd8-\\xde]",f="(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|"+c+")",p="(?:"+d+"|"+c+")",h="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",g="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",m="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?",b=v+m+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,u].join("|")+")"+v+m+")*"),y="(?:"+[s,l,u].join("|")+")"+b,E=RegExp([d+"?"+"[a-z\\xdf-\\xf6\\xf8-\\xff]+"+"(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[i,d,"$"].join("|")+")",p+"+"+"(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[i,d+f,"$"].join("|")+")",d+"?"+f+"+"+h,d+"+"+g,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",a,y].join("|"),"g");e.exports=function(e){return e.match(E)||[]}})),r.register("6MBTH",(function(e,t){var n=r("a7KwL")((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}));e.exports=n})),r.register("38M2n",(function(n,o){t(n.exports,"TruncatedWrapper",(function(){return g}));var i,a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("lhkMJ"),f=r("61szk");f=r("61szk");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var h=r("SssiD").default.div(i||(i=e(d)(["\n  position: relative;\n  overflow-y: hidden;\n  max-height: ","px;\n  &::after {\n    content: '';\n    position: absolute;\n    top: ","px;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    /* Using 'rgba(255, 255, 255, 0)' because 'transparent' breaks the gradient in Safari 11 */\n    background-image: ",";\n  }\n"])),(function(e){return e.height}),(function(e){return e.height-e.fadeHeight}),(function(e){var t=e.backgroundColor;return"linear-gradient(rgba(255, 255, 255, 0),  ".concat(t,")")})),g=function(t){e(c)(r,t);var n=p(r);function r(t){return e(a)(this,r),n.call(this,t)}return e(s)(r,[{key:"render",value:function(){var t=this.props,n=t.height,r=void 0===n?95:n,o=t.fadeHeight,i=void 0===o?24:o,a=t.backgroundColor,s=void 0===a?"white":a,c=t.children;return e(f).createElement(h,{height:r,fadeHeight:i,backgroundColor:s},c)}}]),r}(f.Component)})),r.register("fBPuF",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/renderer","version":"79.0.1","sideEffects":false}')})),r.register("eAOaH",(function(n,o){t(n.exports,"ActiveHeaderIdProvider",(function(){return c})),t(n.exports,"ActiveHeaderIdConsumer",(function(){return u}));var i=r("h67q9"),a=r("61szk"),s=e(a).createContext(void 0),c=s.Provider,l=s.Consumer,u=function(t){var n=t.nestedHeaderIds,r=t.onNestedHeaderIdMatch,o=a.useState(),s=e(i)(o,2),c=s[0],u=s[1];return e(a).createElement(l,null,(function(e){return e&&n.includes(e)?e!==c&&n.includes(e)&&(u(e),r()):u(void 0),null}))}})),r.register("hrQRi",(function(e,n){t(e.exports,"isInteractiveElement",(function(){return a}));var o=r("kw77Z"),i=r("9Zjlh");function a(e){return"href"in e&&null!=e.href||(!!e.classList.contains(i.mediaViewerPopupClass)||!!e.classList.contains(o.fileCardImageViewSelector))}})),r.register("9Zjlh",(function(e,n){t(e.exports,"mediaViewerPopupClass",(function(){return r}));var r="media-viewer-popup"})),r.register("op5aK",(function(n,o){t(n.exports,"ErrorBoundary",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("xZkvv"),h=r("aj9Rm"),g=r("eFHDY");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{errorCaptured:!1}),t}return e(a)(r,[{key:"fireAnalyticsEvent",value:function(e){var t=this.props.createAnalyticsEvent;if(t){var n=g.FabricChannel.editor;t(e).fire(n)}}},{key:"hasFallback",value:function(){return void 0!==this.props.fallbackComponent}},{key:"shouldRecover",value:function(){return this.hasFallback()&&this.state.errorCaptured}},{key:"componentDidCatch",value:function(e,t){var n=this;this.fireAnalyticsEvent({action:h.ACTION.CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:h.EVENT_TYPE.OPERATIONAL,attributes:{platform:p.PLATFORM.WEB,errorMessage:null==e?void 0:e.message,errorStack:null==e?void 0:e.stack,componentStack:null==t?void 0:t.componentStack,errorRethrown:Boolean(this.props.rethrowError)}}),this.hasFallback()&&this.setState({errorCaptured:!0},(function(){if(n.props.rethrowError)throw e}))}},{key:"render",value:function(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}]),r}(e(f).Component)})),r.register("biPg6",(function(e,n){t(e.exports,"renderDocument",(function(){return d}));var o=r("ekJGA");r("7QdJW");var i=r("f2gHX");r("igW5C");var a=r("iVDdY"),s=r("g15pd"),c=r("3HMC9"),l=!(!window.performance||!performance.now),u=function(e){var t=l?performance.now():Date.now();return{output:e(),time:(l?performance.now():Date.now())-t}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o.defaultSchema,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"final",l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],d=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"noid",f=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0,h=arguments.length>8?arguments[8]:void 0,g={sanitizeTime:0},m=u((function(){return l?a.validateADFEntity(n,e,f):i.getValidDocument(e,n,r)})),v=m.output,b=m.time;if(g.sanitizeTime=b,!v)return{stat:g,result:null};"doc"===v.type&&l&&(Array.isArray(v.content)&&0===v.content.length&&v.content.push({type:"paragraph",content:[]}),v.version||(v.version=1));var y=u((function(){var e=n.nodeFromJSON(v);return e.check(),e})),E=y.output,x=y.time;g.buildTreeTime=x;var k=u((function(){return t.serializeFragment(E.content)})),C=k.output,S=k.time;if(g.serializeTime=S,f&&l&&(s.findAndTrackUnsupportedContentNodes(E,n,f),null!=p&&p.enabled)){var T={doc:v,appearance:h,rendererId:d};c.trackUnsupportedContentLevels(T,p,f)}return{result:C,stat:g,pmDoc:E}}})),r.register("7QdJW",(function(e,n){t(e.exports,"getValidDocument",(function(){return r("f2gHX").getValidDocument}));r("f2gHX")})),r.register("3HMC9",(function(e,n){t(e.exports,"trackUnsupportedContentLevels",(function(){return l})),r("igW5C");var o=r("d4LwY"),i=r("a8mog"),a=r("aj9Rm"),s=r("xZkvv"),c={},l=function(e,t,n){var r,l=t.thresholds,u=t.samplingRates,d=null!==(r=e.appearance)&&void 0!==r?r:"unknown";if(c[d]||(c[d]=new Set),!c[d].has(e.rendererId)){c[d].add(e.rendererId);var f,p=u&&u[d]||100;1===c[d].size&&(f=function(){return function(e,t,n){try{var r=o.getUnsupportedContentLevelData(e.doc,t),c=r.severity,l=r.percentage,u=r.counts,d=u.supportedNodes,f=u.unsupportedNodes;n({action:a.ACTION.UNSUPPORTED_CONTENT_LEVELS_TRACKING_SUCCEEDED,actionSubject:a.ACTION_SUBJECT.RENDERER,attributes:{appearance:i.getAnalyticsAppearance(e.appearance),platform:s.PLATFORM.WEB,unsupportedContentLevelSeverity:c,unsupportedContentLevelPercentage:l,unsupportedNodesCount:f,supportedNodesCount:d},eventType:a.EVENT_TYPE.OPERATIONAL})}catch(e){n({action:a.ACTION.UNSUPPORTED_CONTENT_LEVELS_TRACKING_ERRORED,actionSubject:a.ACTION_SUBJECT.RENDERER,attributes:{platform:s.PLATFORM.WEB,error:null==e?void 0:e.toString()},eventType:a.EVENT_TYPE.OPERATIONAL})}}(e,l,n)},"function"==typeof window.requestIdleCallback?window.requestIdleCallback(f):setTimeout(f,0)),c[d].size%p==0&&(c[d]=new Set)}}})),r.register("eS2uA",(function(e,n){t(e.exports,"trackEventActions",(function(){return r})),t(e.exports,"actionSubjectIds",(function(){return i})),t(e.exports,"eventTypes",(function(){return s})),t(e.exports,"fireEvent",(function(){return l}));var r,o,i,a,s,c;function l(e,t){e.update({...t,eventType:t.eventType||s.UI,attributes:{...e,...t.attributes}}),e.fire("editor")}(o=r||(r={})).created="created",o.updated="updated",o.deleted="deleted",(a=i||(i={})).createCommentButton="createCommentButton",a.createCommentInput="createCommentInput",a.editButton="editButton",a.cancelFailedRequestButton="cancelFailedRequestButton",a.retryFailedRequestButton="retryFailedRequestButton",a.deleteButton="deleteButton",a.saveButton="saveButton",a.cancelButton="cancelButton",a.replyButton="replyButton",(c=s||(s={})).UI="ui",c.TRACK="track"})),r.register("bpOs3",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("eQkAL"),a=r("61szk"),s=r("lc0H5"),c=r("aYKWM"),l=r("5f4Cw"),u=r("092a2"),d=r("jpSzX"),f=r("cdksp"),p=r("3lNGs"),h=r("lhaLi"),g=r("gOYzf"),m=r("k8zc2");function v(e){const t="You have an unsaved comment. Are you sure you want to leave without saving?";return e.returnValue=t,t}const b=i.default("div",{target:"e9tl7yw0"})({name:"1oer94",styles:"display:-ms-grid;display:grid;-ms-grid-columns:auto 1fr;grid-template:'avatar-area editor-area' / auto 1fr;padding-top:16px;position:relative;&:first-child,&:first-of-type{padding-top:0;}"}),y=i.default("div",{target:"e9tl7yw1"})({name:"mdx98q",styles:"-ms-grid-row:1;-ms-grid-column:1;grid-area:avatar-area;margin-right:8px;"}),E=i.default("div",{target:"e9tl7yw2"})({name:"11e6cp7",styles:"-ms-grid-row:1;-ms-grid-column:2;grid-area:editor-area;min-width:0;"});class x extends e(a).Component{componentDidMount(){this.state.isExpanded&&this.props.onOpen&&this.props.onOpen()}UNSAFE_componentWillUpdate(e,t){t.isExpanded&&!this.state.isExpanded&&this.props.onOpen?this.props.onOpen():!t.isExpanded&&this.state.isExpanded&&this.props.onClose&&this.props.onClose()}componentDidUpdate(e){const{showBeforeUnloadWarning:t}=this.props;t||e.showBeforeUnloadWarning===t||this.removeBeforeUnloadListener()}componentWillUnmount(){this.removeBeforeUnloadListener(),this.props.onClose&&this.props.onClose()}removeBeforeUnloadListener(){this.props.showBeforeUnloadWarning&&window.removeEventListener("beforeunload",this.beforeUnloadHandler)}renderAvatar(){const{isEditing:t}=this.state,{user:n}=this.props;return t?null:e(a).createElement(y,null,e(a).createElement(c.default,{src:n&&n.avatarUrl}))}render(){return e(a).createElement(l.default,null,e(a).createElement(b,null,this.renderAvatar(),e(a).createElement(E,null,e(a).createElement(u.default,{render:e=>this.renderEditor(e)}))))}constructor(t){super(t),this.onFocus=()=>this.setState((e=>({isExpanded:!e.isExpanded}))),this.onCancel=()=>{this.props.onCancel&&(this.props.onCancel(),this.removeBeforeUnloadListener()),this.setState({isExpanded:!1,isEditing:!1})},this.onSave=async e=>{if(this.props.onSave){const t=await e.getValue();if(!t||!t.content.some((e=>e.content&&e.content.length)))return void this.onCancel();this.props.onSave(t),e.clear(),this.removeBeforeUnloadListener()}this.props.draftLocalStorageKey&&m.default.remove(this.props.draftLocalStorageKey),this.setState({isExpanded:!1,isEditing:!1})},this.isEditorValueEmpty=e=>!(null!=e&&e.content)||0===e.content.length||1===e.content.length&&0===e.content[0].content.length,this.onChange=async e=>{const t=await e.getValue();if(this.isEditorValueEmpty(t)?this.removeBeforeUnloadListener():this.props.showBeforeUnloadWarning&&window.addEventListener("beforeunload",this.beforeUnloadHandler),this.props.onChange&&this.props.onChange(t),this.props.draftLocalStorageKey){const e=(new Date).getTime()+1728e5;m.default.set(this.props.draftLocalStorageKey,t,e)}},this.renderEditor=t=>{const{dataProviders:n,renderEditor:r,defaultValue:o,placeholder:i,allowFeedbackAndHelpButtons:c,draftLocalStorageKey:l}=this.props,u={};n&&n.providers.forEach(((e,t)=>{u[t]=e}));const v={appearance:"comment",shouldFocus:!0,onSave:()=>this.onSave(t),onCancel:this.onCancel,onChange:s.default((()=>this.onChange(t)),250),defaultValue:m.default.get(l)||o,allowHelpDialog:c,feedbackInfo:c?{packageVersion:d.version,packageName:d.name}:void 0,primaryToolbarComponents:c?[e(a).createElement(f.default,{key:"feedback"}),e(a).createElement(p.default,{key:"help"})]:void 0,...u};return e(a).createElement("div",null,e(a).createElement(h.default,{placeholder:i,isExpanded:this.state.isExpanded,onFocus:this.onFocus},r?r(g.default,v):e(a).createElement(g.default,v)))},this.state={isExpanded:t.isExpanded,isEditing:t.isEditing},this.beforeUnloadHandler=v.bind({})}}})),r.register("jpSzX",(function(e,n){t(e.exports,"name",(function(){return r})),t(e.exports,"version",(function(){return o})),t(e.exports,"nextMajorVersion",(function(){return i}));var r="@atlaskit/editor-core",o="147.0.1",i=function(){return[Number(o.split(".")[0])+1,0,0].join(".")}})),r.register("gOYzf",(function(n,o){t(n.exports,"default",(function(){return Z}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("lhkMJ"),g=r("61szk"),m=r("hm2s2"),v=r("SssiD"),b=r("7RIig"),y=r("6gvxN"),E=r("4tbIQ"),x=r("jpSzX");r("igW5C");var k=r("jZsbJ"),C=r("9MsCq"),S=r("g4Rxo"),T=r("6qQ9w"),O=r("aIzHR"),w=r("a8mog"),N=r("lL7z1"),P=r("5ZnAd");r("8iml0");var A=r("82cWi"),I=r("gpCn2"),D=r("fBhB1"),R=r("8X54Z"),M=r("7FBL9"),_=(D=r("fBhB1"),R=r("8X54Z"),r("5f4Cw")),j=r("9LP3P"),B=(x=r("jpSzX"),r("4jK8N")),L=r("lKo0v"),F=r("1jAiP");r("cTu5S");var z,W=r("4bO6W"),U=r("9V1f8"),H=r("fYn37"),V=r("6Oaav"),K=r("3tyDm");function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function J(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?G(Object(r),!0).forEach((function(n){e(p)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function q(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var Y=v.default(k.WidthProvider)(z||(z=e(h)(["\n  height: 100%;\n"]))),Z=function(t){e(u)(r,t);var n=q(r);function r(t,o){var i;e(s)(this,r),i=n.call(this,t),e(p)(e(l)(i),"prepareExtensionProvider",y.default((function(e){if(e)return"function"==typeof e?C.default(e(i.editorActions)):C.default(e)}))),e(p)(e(l)(i),"prepareQuickInsertProvider",(function(e,t){var n=t&&"boolean"!=typeof t&&t.provider,r=e&&F.extensionProviderToQuickInsertProvider(e,i.editorActions,i.createAnalyticsEvent);return n&&r?F.combineQuickInsertProviders([n,r]):n||r})),e(p)(e(l)(i),"handleSave",(function(e){if(i.props.onSave)return i.props.onSave(e)})),e(p)(e(l)(i),"handleAnalyticsEvent",(function(e){return W.fireAnalyticsEvent(i.createAnalyticsEvent)(e)})),i.providerFactory=new S.default,i.deprecationWarnings(t),i.onEditorCreated=i.onEditorCreated.bind(e(l)(i)),i.onEditorDestroyed=i.onEditorDestroyed.bind(e(l)(i)),i.editorActions=(o||{}).editorActions||new M.default,i.trackEditorActions(i.editorActions,t),i.editorSessionId=e(E)(),T.startMeasure(L.default.EDITOR_MOUNTED),t.performanceTracking&&t.performanceTracking.ttiTracking&&t.performanceTracking.ttiTracking.enabled&&O.measureTTI((function(e,n,r){if(i.createAnalyticsEvent){var o,a={payload:{action:U.ACTION.EDITOR_TTI,actionSubject:U.ACTION_SUBJECT.EDITOR,attributes:{tti:e,ttiFromInvocation:n,canceled:r},eventType:U.EVENT_TYPE.OPERATIONAL}};if(null!==(o=t.performanceTracking.ttiTracking)&&void 0!==o&&o.trackSeverity){var s=t.performanceTracking.ttiTracking,c=s.ttiSeverityNormalThreshold,l=s.ttiSeverityDegradedThreshold,u=s.ttiFromInvocationSeverityNormalThreshold,d=s.ttiFromInvocationSeverityDegradedThreshold,f=O.getTTISeverity(e,n,c,l,u,d),p=f.ttiSeverity,h=f.ttiFromInvocationSeverity;a.payload.attributes.ttiSeverity=p,a.payload.attributes.ttiFromInvocationSeverity=h}W.fireAnalyticsEvent(i.createAnalyticsEvent)(a)}}),t.performanceTracking.ttiTracking.ttiIdleThreshold,t.performanceTracking.ttiTracking.ttiCancelTimeout);var a=i.prepareExtensionProvider(t.extensionProviders),c=i.prepareQuickInsertProvider(a,t.quickInsert);return i.state={extensionProvider:a,quickInsertProvider:c},i}return e(c)(r,[{key:"componentDidMount",value:function(){T.stopMeasure(L.default.EDITOR_MOUNTED,this.sendDurationAnalytics(U.ACTION.EDITOR_MOUNTED)),this.handleProviders(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this,n=this.props,r=n.extensionProviders,o=n.quickInsert;if(r&&r!==e.extensionProviders||o&&o!==e.quickInsert){var i=this.prepareExtensionProvider(r),a=this.prepareQuickInsertProvider(i,o);this.setState({extensionProvider:i,quickInsertProvider:a},(function(){return t.handleProviders(t.props)}))}else this.handleProviders(this.props)}},{key:"componentWillUnmount",value:function(){var e,t,n;this.unregisterEditorFromActions(),this.providerFactory.destroy(),T.clearMeasure(L.default.EDITOR_MOUNTED),(null===(e=this.props)||void 0===e||null===(t=e.performanceTracking)||void 0===t||null===(n=t.onEditorReadyCallbackTracking)||void 0===n?void 0:n.enabled)&&T.clearMeasure(L.default.ON_EDITOR_READY_CALLBACK)}},{key:"trackEditorActions",value:function(t,n){var r,o,s=this;if(null!=n&&null!==(r=n.performanceTracking)&&void 0!==r&&null!==(o=r.contentRetrievalTracking)&&void 0!==o&&o.enabled){var c=t.getValue.bind(t);t._contentRetrievalTracking||(t._contentRetrievalTracking={samplingCounters:{success:1,failure:1},getValueTracked:!1});var l=t._contentRetrievalTracking,u=l.samplingCounters;if(!l.getValueTracked){var d=function(){var t=e(a)(e(i).mark((function t(){var r,o,a,l,d,f,p,h,g;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c();case 3:return l=e.sent,u.success===(null!==(r=null==n||null===(o=n.performanceTracking)||void 0===o||null===(a=o.contentRetrievalTracking)||void 0===a?void 0:a.successSamplingRate)&&void 0!==r?r:100)&&(s.handleAnalyticsEvent({payload:{action:U.ACTION.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:U.ACTION_SUBJECT.EDITOR,attributes:{success:!0},eventType:U.EVENT_TYPE.OPERATIONAL}}),u.success=0),u.success++,e.abrupt("return",l);case 9:throw e.prev=9,e.t0=e.catch(0),u.failure===(null!==(d=null==n||null===(f=n.performanceTracking)||void 0===f||null===(p=f.contentRetrievalTracking)||void 0===p?void 0:p.failureSamplingRate)&&void 0!==d?d:100)&&(s.handleAnalyticsEvent({payload:{action:U.ACTION.EDITOR_CONTENT_RETRIEVAL_PERFORMED,actionSubject:U.ACTION_SUBJECT.EDITOR,attributes:{success:!1,errorInfo:e.t0.toString(),errorStack:null!=n&&null!==(h=n.performanceTracking)&&void 0!==h&&null!==(g=h.contentRetrievalTracking)&&void 0!==g&&g.reportErrorStack?e.t0.stack:void 0},eventType:U.EVENT_TYPE.OPERATIONAL}}),u.failure=0),u.failure++,e.t0;case 14:case"end":return e.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}();t.getValue=d,t._contentRetrievalTracking.getValueTracked=!0}}return t}},{key:"onEditorCreated",value:function(e){var t,n,r,o,i,a;(this.registerEditorForActions(e.view,e.eventDispatcher,e.transformer),this.props.onEditorReady)&&((null===(t=this.props)||void 0===t||null===(n=t.performanceTracking)||void 0===n||null===(r=n.onEditorReadyCallbackTracking)||void 0===r?void 0:r.enabled)&&T.startMeasure(L.default.ON_EDITOR_READY_CALLBACK),this.props.onEditorReady(this.editorActions),(null===(o=this.props)||void 0===o||null===(i=o.performanceTracking)||void 0===i||null===(a=i.onEditorReadyCallbackTracking)||void 0===a?void 0:a.enabled)&&T.stopMeasure(L.default.ON_EDITOR_READY_CALLBACK,this.sendDurationAnalytics(U.ACTION.ON_EDITOR_READY_CALLBACK)))}},{key:"sendDurationAnalytics",value:function(e){var t=this;return function(n,r){if(t.createAnalyticsEvent){var o=function(o){W.fireAnalyticsEvent(t.createAnalyticsEvent)({payload:{action:e,actionSubject:U.ACTION_SUBJECT.EDITOR,attributes:{duration:n,startTime:r,objectId:o},eventType:U.EVENT_TYPE.OPERATIONAL}})};Promise.resolve(t.props.contextIdentifierProvider).then((function(e){o(null==e?void 0:e.objectId)}),o)}}}},{key:"deprecationWarnings",value:function(e){var t=x.nextMajorVersion(),n={allowTasksAndDecisions:{message:"To allow tasks and decisions use taskDecisionProvider \u2013 <Editor taskDecisionProvider={{ provider }} />",type:"removed"},allowConfluenceInlineComment:{message:"To integrate inline comments use experimental annotationProvider \u2013 <Editor annotationProviders={{ provider }} />",type:"removed"}};Object.keys(n).forEach((function(r){if(e.hasOwnProperty(r)){var o=n[r],i=o.type||"enabled by default";console.warn("".concat(r," property is deprecated. ").concat(o.message||""," [Will be ").concat(i," in editor-core@").concat(t,"]"))}})),!e.hasOwnProperty("allowTables")||"boolean"==typeof e.allowTables||e.allowTables&&e.allowTables.advanced||console.warn("Advanced table options are deprecated (except isHeaderRowRequired) to continue using advanced table features use - <Editor allowTables={{ advanced: true }} /> [Will be changed in editor-core@".concat(t,"]"))}},{key:"onEditorDestroyed",value:function(e){this.unregisterEditorFromActions(),this.props.onDestroy&&this.props.onDestroy()}},{key:"registerEditorForActions",value:function(e,t,n){this.editorActions._privateRegisterEditor(e,t,n)}},{key:"unregisterEditorFromActions",value:function(){this.editorActions&&this.editorActions._privateUnregisterEditor()}},{key:"handleProviders",value:function(e){var t=e.emojiProvider,n=e.mentionProvider,r=e.taskDecisionProvider,o=e.contextIdentifierProvider,i=e.collabEditProvider,a=e.activityProvider,s=e.presenceProvider,c=e.macroProvider,l=e.legacyImageUploadProvider,u=e.media,d=e.collabEdit,f=e.autoformattingProvider,p=e.searchProvider,h=e.UNSAFE_cards,g=e.smartLinks,m=this.state,v=m.extensionProvider,b=m.quickInsertProvider;this.providerFactory.setProvider("emojiProvider",t),this.providerFactory.setProvider("mentionProvider",n),this.providerFactory.setProvider("taskDecisionProvider",r),this.providerFactory.setProvider("contextIdentifierProvider",o),this.providerFactory.setProvider("mediaProvider",u&&u.provider),this.providerFactory.setProvider("imageUploadProvider",l),this.providerFactory.setProvider("collabEditProvider",d&&d.provider?d.provider:i),this.providerFactory.setProvider("activityProvider",a),this.providerFactory.setProvider("searchProvider",p),this.providerFactory.setProvider("presenceProvider",s),this.providerFactory.setProvider("macroProvider",c);var y=g&&g.provider||h&&h.provider;y&&this.providerFactory.setProvider("cardProvider",y),this.providerFactory.setProvider("autoformattingProvider",f),v&&this.providerFactory.setProvider("extensionProvider",Promise.resolve(v)),b&&this.providerFactory.setProvider("quickInsertProvider",b)}},{key:"getBaseFontSize",value:function(){return this.props.allowDynamicTextSizing||["comment","chromeless","mobile"].includes(this.props.appearance)?void 0:A.akEditorFullPageDefaultFontSize}},{key:"render",value:function(){var t,n,r=this,o=D.default(this.props.appearance),i=J(J({},this.props),{},{onSave:this.props.onSave?this.handleSave:void 0,analyticsHandler:void 0}),a=V.createFeatureFlagsFromProps(this.props),s=null===(t=this.props.performanceTracking)||void 0===t||null===(n=t.renderTracking)||void 0===n?void 0:n.editor,c=null==s?void 0:s.enabled,l=null==s?void 0:s.useShallow,u=e(g).createElement(I.FabricEditorAnalyticsContext,{data:{packageName:x.name,packageVersion:x.version,componentName:"editorCore",appearance:w.getAnalyticsAppearance(this.props.appearance),editorSessionId:this.editorSessionId}},e(g).createElement(N.WithCreateAnalyticsEvent,{render:function(t){return(r.createAnalyticsEvent=t)&&e(g).createElement(e(g).Fragment,null,c&&e(g).createElement(K.RenderTracking,{componentProps:r.props,action:U.ACTION.RE_RENDERED,actionSubject:U.ACTION_SUBJECT.EDITOR,handleAnalyticsEvent:r.handleAnalyticsEvent,propsToIgnore:["defaultValue"],useShallow:l}),e(g).createElement(H.default,{createAnalyticsEvent:t,contextIdentifierProvider:r.props.contextIdentifierProvider},e(g).createElement(Y,null,e(g).createElement(_.default,{editorActions:r.editorActions},e(g).createElement(B.ContextAdapter,null,e(g).createElement(j.PortalProvider,{onAnalyticsEvent:r.handleAnalyticsEvent,useAnalyticsContext:r.props.UNSAFE_useAnalyticsContext,render:function(n){return e(g).createElement(e(g).Fragment,null,e(g).createElement(R.default,{editorProps:i,createAnalyticsEvent:t,portalProviderAPI:n,providerFactory:r.providerFactory,onEditorCreated:r.onEditorCreated,onEditorDestroyed:r.onEditorDestroyed,allowAnalyticsGASV3:r.props.allowAnalyticsGASV3,disabled:r.props.disabled,render:function(t){var n,i,s=t.editor,c=t.view,l=t.eventDispatcher,u=t.config,d=t.dispatchAnalyticsEvent;return e(g).createElement(P.BaseTheme,{dynamicTextSizing:r.props.allowDynamicTextSizing&&"full-width"!==r.props.appearance,baseFontSize:r.getBaseFontSize()},e(g).createElement(o,{appearance:r.props.appearance,disabled:r.props.disabled,editorActions:r.editorActions,editorDOMElement:s,editorView:c,providerFactory:r.providerFactory,eventDispatcher:l,dispatchAnalyticsEvent:d,maxHeight:r.props.maxHeight,onSave:r.props.onSave?r.handleSave:void 0,onCancel:r.props.onCancel,popupsMountPoint:r.props.popupsMountPoint,popupsBoundariesElement:r.props.popupsBoundariesElement,popupsScrollableElement:r.props.popupsScrollableElement,contentComponents:u.contentComponents,primaryToolbarComponents:u.primaryToolbarComponents,primaryToolbarIconBefore:r.props.primaryToolbarIconBefore,secondaryToolbarComponents:u.secondaryToolbarComponents,insertMenuItems:r.props.insertMenuItems,customContentComponents:r.props.contentComponents,customPrimaryToolbarComponents:r.props.primaryToolbarComponents,customSecondaryToolbarComponents:r.props.secondaryToolbarComponents,contextPanel:r.props.contextPanel,collabEdit:r.props.collabEdit,allowAnnotation:!!r.props.annotationProviders,persistScrollGutter:r.props.persistScrollGutter,enableToolbarMinWidth:null!=(null===(n=r.props.featureFlags)||void 0===n?void 0:n.toolbarMinWidthOverflow)?!(null===(i=r.props.featureFlags)||void 0===i||!i.toolbarMinWidthOverflow):r.props.UNSAFE_allowUndoRedoButtons,useStickyToolbar:r.props.useStickyToolbar,featureFlags:a}))}}),e(g).createElement(j.PortalRenderer,{portalProviderAPI:n}))}}))))))}}));return this.context.intl?u:e(g).createElement(b.IntlProvider,{locale:"en"},u)}}]),r}(e(g).Component);e(p)(Z,"defaultProps",{appearance:"comment",disabled:!1,extensionHandlers:{},allowHelpDialog:!0,allowNewInsertionBehaviour:!0,quickInsert:!0}),e(p)(Z,"contextTypes",{editorActions:e(m).object,intl:b.intlShape})})),r.register("8X54Z",(function(n,o){t(n.exports,"default",(function(){return Q}));var i=r("fw3Q6"),a=r("EwJf3"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("hm2s2"),m=r("eBSbE"),v=r("9MUi0"),b=r("7RIig");r("igW5C");var y=r("6qQ9w"),E=r("f7OFS"),x=r("brEbx"),k=r("a8mog"),C=r("4cO4S"),S=r("4W5Y2"),T=r("8PQwY");r("9J8af");var O=r("l9fpM"),w=r("3tyDm"),N=r("lGsoF"),P=r("cUUp5");r("cTu5S");var A=r("9V1f8"),I=r("hHCgI"),D=r("4bO6W"),R=r("hNVBR"),M=r("6Oaav"),_=r("OtLXQ"),j=r("8MERi"),B=r("3pogS"),L=r("4Ty4K"),F=r("lKo0v");O=r("l9fpM");r("igW5C");y=r("6qQ9w"),E=r("f7OFS"),x=r("brEbx"),k=r("a8mog"),C=r("4cO4S"),S=r("4W5Y2");var z=r("bEtus"),W=r("iH2WU"),U=r("hyqM3"),H=r("fL7Qr"),V=r("5dnlo"),K=(V=r("5dnlo"),r("jNgqd")),G=r("5SXlo");function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?J(Object(r),!0).forEach((function(n){e(p)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}function Z(e){if(!e.hasFocus())return window.setTimeout((function(){e.focus()}),0)}var X=[];var Q=function(t){e(u)(r,t);var n=Y(r);function r(t,o){var i;e(s)(this,r),i=n.call(this,t,o),e(p)(e(l)(i),"canDispatchTransactions",!0),e(p)(e(l)(i),"onPluginObservation",(function(e,t){i.dispatchAnalyticsEvent({action:A.ACTION.TRANSACTION_DISPATCHED,actionSubject:A.ACTION_SUBJECT.EDITOR,eventType:A.EVENT_TYPE.OPERATIONAL,attributes:{report:e,participants:U.getParticipantsCount(t)}})})),e(p)(e(l)(i),"formatFullWidthAppearance",(function(e){return"full-width"===e?I.FULL_WIDTH_MODE.FULL_WIDTH:I.FULL_WIDTH_MODE.FIXED_WIDTH})),e(p)(e(l)(i),"reconfigureState",(function(e){if(i.view){i.view.dom instanceof HTMLElement&&i.view.hasFocus()&&i.view.dom.blur(),i.config=j.processPluginsList(i.getPlugins(e.editorProps,i.props.editorProps,i.props.createAnalyticsEvent));var t=i.editorState,n=j.createPMPlugins({schema:t.schema,dispatch:i.dispatch,errorReporter:i.errorReporter,editorConfig:i.config,eventDispatcher:i.eventDispatcher,providerFactory:e.providerFactory,portalProviderAPI:e.portalProviderAPI,reactContext:function(){return i.context},dispatchAnalyticsEvent:i.dispatchAnalyticsEvent,performanceTracking:e.editorProps.performanceTracking,transactionTracker:i.transactionTracker,featureFlags:M.createFeatureFlagsFromProps(e.editorProps)}),r=t.reconfigure({plugins:n});return i.view.updateState(r),i.view.update(q(q({},i.view.props),{},{state:r}))}})),e(p)(e(l)(i),"handleAnalyticsEvent",(function(e){i.props.allowAnalyticsGASV3&&D.fireAnalyticsEvent(i.props.createAnalyticsEvent)(e)})),e(p)(e(l)(i),"createEditorState",(function(e){if(i.view)return console.warn("The editor does not support changing the schema dynamically."),i.editorState;i.config=j.processPluginsList(i.getPlugins(e.props.editorProps,void 0,e.props.createAnalyticsEvent));var t,n,r=z.createSchema(i.config),o=e.props.editorProps,a=o.contentTransformerProvider,s=o.defaultValue,c=j.createPMPlugins({schema:r,dispatch:i.dispatch,errorReporter:i.errorReporter,editorConfig:i.config,eventDispatcher:i.eventDispatcher,providerFactory:e.props.providerFactory,portalProviderAPI:i.props.portalProviderAPI,reactContext:function(){return e.context},dispatchAnalyticsEvent:i.dispatchAnalyticsEvent,performanceTracking:i.props.editorProps.performanceTracking,transactionTracker:i.transactionTracker,featureFlags:i.featureFlags});i.contentTransformer=a?a(r):void 0,e.replaceDoc&&(t=O.processRawValue(r,s,e.props.providerFactory,e.props.editorProps.sanitizePrivateContent,i.contentTransformer,i.dispatchAnalyticsEvent)),t&&(n=L.isFullPage(e.props.editorProps.appearance)?m.Selection.atStart(t):m.Selection.atEnd(t));var l=n&&m.Selection.findFrom(n.$head,-1,!0)||void 0;return m.EditorState.create({schema:r,plugins:c,doc:t,selection:l})})),e(p)(e(l)(i),"onEditorViewStateUpdated",(function(e){var t=e.originalTransaction,n=e.transactions,r=e.oldEditorState,o=e.newEditorState,a=i.transactionTracking.enabled;i.config.onEditorViewStateUpdatedCallbacks.forEach((function(e){a&&y.startMeasure("\ud83e\udd89 ".concat(e.pluginName,"::onEditorViewStateUpdated")),e.callback({originalTransaction:t,transactions:n,oldEditorState:r,newEditorState:o}),a&&y.stopMeasure("\ud83e\udd89 ".concat(e.pluginName,"::onEditorViewStateUpdated"))}))})),e(p)(e(l)(i),"trackValidTransactions",(function(){var t=i.props.editorProps;if(null!=t&&t.trackValidTransactions){i.validTransactionCount++;var n="object"===e(a)(t.trackValidTransactions)&&t.trackValidTransactions.samplingRate||K.DEFAULT_SAMPLING_RATE_VALID_TRANSACTIONS;i.validTransactionCount>=n&&(i.dispatchAnalyticsEvent({action:A.ACTION.DISPATCHED_VALID_TRANSACTION,actionSubject:A.ACTION_SUBJECT.EDITOR,eventType:A.EVENT_TYPE.OPERATIONAL}),i.validTransactionCount=0)}})),e(p)(e(l)(i),"dispatchTransaction",(function(e){if(i.view){i.transactionTracker.bumpDispatchCounter(i.transactionTracking);var t=i.transactionTracker.getMeasureHelpers(i.transactionTracking),n=t.startMeasure,r=t.stopMeasure;n(V.EVENT_NAME_DISPATCH_TRANSACTION);var o=N.findChangedNodesFromTransaction(e);if(N.validateNodes(o)){var a=i.view.state;n(V.EVENT_NAME_STATE_APPLY);var s=i.view.state.applyTransaction(e),c=s.state,l=s.transactions;if(r(V.EVENT_NAME_STATE_APPLY),i.trackValidTransactions(),c===a)return;if(n(V.EVENT_NAME_UPDATE_STATE),i.view.updateState(c),r(V.EVENT_NAME_UPDATE_STATE),n(V.EVENT_NAME_VIEW_STATE_UPDATED),i.onEditorViewStateUpdated({originalTransaction:e,transactions:l,oldEditorState:a,newEditorState:c}),r(V.EVENT_NAME_VIEW_STATE_UPDATED),i.props.editorProps.onChange&&e.docChanged){var u=e.getMeta("isRemote")?"remote":"local";n(V.EVENT_NAME_ON_CHANGE),i.props.editorProps.onChange(i.view,{source:u}),r(V.EVENT_NAME_ON_CHANGE,(function(e,t){var n,r;!0===(null===(n=i.props.editorProps.performanceTracking)||void 0===n||null===(r=n.onChangeCallbackTracking)||void 0===r?void 0:r.enabled)&&i.dispatchAnalyticsEvent({action:A.ACTION.ON_CHANGE_CALLBACK,actionSubject:A.ACTION_SUBJECT.EDITOR,eventType:A.EVENT_TYPE.OPERATIONAL,attributes:{duration:e,startTime:t}})}))}i.editorState=c}else{var d=o.filter((function(e){return!N.validNode(e)})).map((function(e){return B.getDocStructure(e,{compact:!0})}));i.dispatchAnalyticsEvent({action:A.ACTION.DISPATCHED_INVALID_TRANSACTION,actionSubject:A.ACTION_SUBJECT.EDITOR,eventType:A.EVENT_TYPE.OPERATIONAL,attributes:{analyticsEventPayloads:R.getAnalyticsEventsFromTransaction(e),invalidNodes:d}})}r(V.EVENT_NAME_DISPATCH_TRANSACTION)}})),e(p)(e(l)(i),"getDirectEditorProps",(function(e){return{state:e||i.editorState,dispatchTransaction:function(e){i.canDispatchTransactions&&i.dispatchTransaction(e)},editable:function(e){return!i.props.editorProps.disabled},attributes:{"data-gramm":"false"}}})),e(p)(e(l)(i),"createEditorView",(function(e){E.measureRender(F.default.PROSEMIRROR_RENDERED,(function(e,t){var n,r,o,a,s,c=null===(n=i.props.editorProps)||void 0===n||null===(r=n.performanceTracking)||void 0===r?void 0:r.proseMirrorRenderedTracking,l=void 0===c&&x.shouldForceTracking();(i.proseMirrorRenderedSeverity=l||null!=c&&c.trackSeverity?k.getAnalyticsEventSeverity(e,null!==(o=null==c?void 0:c.severityNormalThreshold)&&void 0!==o?o:K.PROSEMIRROR_RENDERED_NORMAL_SEVERITY_THRESHOLD,null!==(a=null==c?void 0:c.severityDegradedThreshold)&&void 0!==a?a:K.PROSEMIRROR_RENDERED_DEGRADED_SEVERITY_THRESHOLD):void 0,i.view)&&i.dispatchAnalyticsEvent({action:A.ACTION.PROSEMIRROR_RENDERED,actionSubject:A.ACTION_SUBJECT.EDITOR,attributes:{duration:e,startTime:t,nodes:O.getNodesCount(i.view.state.doc),ttfb:C.getResponseEndTime(),severity:i.proseMirrorRenderedSeverity,objectId:null===(s=G.getContextIdentifier(i.editorState))||void 0===s?void 0:s.objectId},eventType:A.EVENT_TYPE.OPERATIONAL})})),i.view=new v.EditorView({mount:e},i.getDirectEditorProps())})),e(p)(e(l)(i),"handleEditorViewRef",(function(e){if(!i.view&&e){i.createEditorView(e);var t=i.view;i.props.onEditorCreated({view:t,config:i.config,eventDispatcher:i.eventDispatcher,transformer:i.contentTransformer}),i.props.editorProps.shouldFocus&&t.props.editable&&t.props.editable(t.state)&&(i.focusTimeoutId=Z(t)),i.forceUpdate()}else i.view&&!e&&(i.props.onEditorDestroyed({view:i.view,config:i.config,eventDispatcher:i.eventDispatcher,transformer:i.contentTransformer}),i.view.destroy(),i.view=void 0)})),e(p)(e(l)(i),"dispatchAnalyticsEvent",(function(e){i.props.allowAnalyticsGASV3&&i.eventDispatcher&&T.createDispatch(i.eventDispatcher)(k.analyticsEventKey,{payload:e})})),e(p)(e(l)(i),"editor",e(h).createElement("div",{className:$(),key:"ProseMirror",ref:i.handleEditorViewRef,"aria-label":"Main content area",role:"textbox"})),i.eventDispatcher=new T.EventDispatcher,i.dispatch=T.createDispatch(i.eventDispatcher),i.errorReporter=j.createErrorReporter(t.editorProps.errorReporterHandler),i.transactionTracker=new V.TransactionTracker,i.pluginPerformanceObserver=new W.PluginPerformanceObserver((function(e){return i.onPluginObservation(e,i.editorState)})).withPlugins((function(){return i.getPluginNames()})).withNodeCounts((function(){return i.countNodes()})).withOptions((function(){return i.transactionTracking})).withTransactionTracker((function(){return i.transactionTracker})),i.validTransactionCount=0,i.featureFlags=M.createFeatureFlagsFromProps(i.props.editorProps);var c=i.featureFlags?_.getEnabledFeatureFlagKeys(i.featureFlags):[];return i.props.createAnalyticsEvent&&(i.props.createAnalyticsEvent.__queueAnalytics=i.featureFlags.queueAnalytics),i.eventDispatcher.on(k.analyticsEventKey,i.handleAnalyticsEvent),i.editorState=i.createEditorState({props:t,context:o,replaceDoc:!0}),i.dispatchAnalyticsEvent({action:A.ACTION.STARTED,actionSubject:A.ACTION_SUBJECT.EDITOR,attributes:{platform:I.PLATFORMS.WEB,featureFlags:c},eventType:A.EVENT_TYPE.UI}),i}return e(c)(r,[{key:"transactionTracking",get:function(){var e,t;return null!==(e=null===(t=this.props.editorProps.performanceTracking)||void 0===t?void 0:t.transactionTracking)&&void 0!==e?e:{enabled:!1}}},{key:"getPluginNames",value:function(){return this.editorState.plugins.map((function(e){return e.key}))}},{key:"countNodes",value:function(){return H.countNodes(this.editorState)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.createAnalyticsEvent&&e.createAnalyticsEvent!==this.props.createAnalyticsEvent){var t=M.createFeatureFlagsFromProps(e.editorProps);e.createAnalyticsEvent.__queueAnalytics=t.queueAnalytics}this.view&&this.props.editorProps.disabled!==e.editorProps.disabled&&(this.view.setProps({editable:function(t){return!e.editorProps.disabled}}),!e.editorProps.disabled&&e.editorProps.shouldFocus&&(this.focusTimeoutId=Z(this.view)));var n=this.props.editorProps.appearance,r=e.editorProps.appearance;(function(e,t){var n,r,o,i,a=null!==(n=null===(r=e.dangerouslyAppendPlugins)||void 0===r?void 0:r.__plugins)&&void 0!==n?n:X,s=null!==(o=null===(i=t.dangerouslyAppendPlugins)||void 0===i?void 0:i.__plugins)&&void 0!==o?o:X;if(s.length!==a.length||a.some((function(e){return s.some((function(t){return t.name===e.name&&t!==e}))})))return!0;var c="mobile"===e.appearance?["featureFlags","quickInsert"]:[];return["appearance","persistScrollGutter","UNSAFE_allowUndoRedoButtons","placeholder"].concat(c).reduce((function(n,r){return n||e[r]!==t[r]}),!1)})(this.props.editorProps,e.editorProps)&&this.reconfigureState(e),r!==n&&("full-width"!==r&&"full-width"!==n||this.dispatchAnalyticsEvent({action:A.ACTION.CHANGED_FULL_WIDTH_MODE,actionSubject:A.ACTION_SUBJECT.EDITOR,eventType:A.EVENT_TYPE.TRACK,attributes:{previousMode:this.formatFullWidthAppearance(n),newMode:this.formatFullWidthAppearance(r)}})),this.transactionTracking.enabled||this.pluginPerformanceObserver.disconnect()}},{key:"componentDidMount",value:function(){this.canDispatchTransactions=!0,this.transactionTracking.enabled&&this.pluginPerformanceObserver.observe()}},{key:"componentWillUnmount",value:function(){if(this.canDispatchTransactions=!1,this.eventDispatcher.destroy(),clearTimeout(this.focusTimeoutId),this.pluginPerformanceObserver.disconnect(),this.view){var e=this.view.state;e.plugins.forEach((function(t){var n=t.getState(e);n&&n.destroy&&n.destroy()}))}this.eventDispatcher.off(k.analyticsEventKey,this.handleAnalyticsEvent)}},{key:"getPlugins",value:function(t,n,r){var o,a,s=null!==(o=null===(a=t.dangerouslyAppendPlugins)||void 0===a?void 0:a.__plugins)&&void 0!==o?o:[],c=P.default(t,n,r);return s&&s.length>0&&c.push.apply(c,e(i)(s)),c}},{key:"render",value:function(){var t,n,r=null===(t=this.props.editorProps.performanceTracking)||void 0===t||null===(n=t.renderTracking)||void 0===n?void 0:n.reactEditorView,o=null==r?void 0:r.enabled,i=null==r?void 0:r.useShallow;return e(h).createElement(e(h).Fragment,null,o&&e(h).createElement(w.RenderTracking,{componentProps:this.props,action:A.ACTION.RE_RENDERED,actionSubject:A.ACTION_SUBJECT.REACT_EDITOR_VIEW,handleAnalyticsEvent:this.handleAnalyticsEvent,useShallow:i}),this.props.render?this.props.render({editor:this.editor,view:this.view,config:this.config,eventDispatcher:this.eventDispatcher,transformer:this.contentTransformer,dispatchAnalyticsEvent:this.dispatchAnalyticsEvent}):this.editor)}}]),r}(e(h).Component);function $(){return S.default.chrome?"ua-chrome":S.default.ie?"ua-ie":S.default.gecko?"ua-firefox":""}e(p)(Q,"contextTypes",{getAtlaskitAnalyticsEventHandlers:e(g).func,intl:b.intlShape})})),r.register("9MUi0",(function(e,n){t(e.exports,"Decoration",(function(){return wt})),t(e.exports,"DecorationSet",(function(){return It})),t(e.exports,"EditorView",(function(){return Ut}));var o=r("eBSbE"),i=r("jWbqG"),a=r("6sW8E"),s={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var c=/Edge\/(\d+)/.exec(navigator.userAgent),l=/MSIE \d/.test(navigator.userAgent),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);s.mac=/Mac/.test(navigator.platform);var d=s.ie=!!(l||u||c);s.ie_version=l?document.documentMode||6:u?+u[1]:c?+c[1]:null,s.gecko=!d&&/gecko\/(\d+)/i.test(navigator.userAgent),s.gecko_version=s.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var f=!d&&/Chrome\/(\d+)/.exec(navigator.userAgent);s.chrome=!!f,s.chrome_version=f&&+f[1],s.ios=!d&&/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),s.android=/Android \d/.test(navigator.userAgent),s.webkit="webkitFontSmoothing"in document.documentElement.style,s.safari=/Apple Computer/.test(navigator.vendor),s.webkit_version=s.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var p=function(e){for(var t=0;;t++)if(!(e=e.previousSibling))return t},h=function(e){var t=e.parentNode;return t&&11==t.nodeType?t.host:t},g=function(e,t,n){var r=document.createRange();return r.setEnd(e,null==n?e.nodeValue.length:n),r.setStart(e,t||0),r},m=function(e,t,n,r){return n&&(b(e,t,n,r,-1)||b(e,t,n,r,1))},v=/^(img|br|input|textarea|hr)$/i;function b(e,t,n,r,o){for(;;){if(e==n&&t==r)return!0;if(t==(o<0?0:y(e))){var i=e.parentNode;if(1!=i.nodeType||E(e)||v.test(e.nodeName)||"false"==e.contentEditable)return!1;t=p(e)+(o<0?0:1),e=i}else{if(1!=e.nodeType)return!1;if("false"==(e=e.childNodes[t+(o<0?-1:0)]).contentEditable)return!1;t=o<0?y(e):0}}}function y(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function E(e){for(var t,n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}var x=function(e){var t=e.isCollapsed;return t&&s.chrome&&e.rangeCount&&!e.getRangeAt(0).collapsed&&(t=!1),t};function k(e,t){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function C(e){return{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function S(e,t){return"number"==typeof e?e:e[t]}function T(e){var t=e.getBoundingClientRect();return{left:t.left,right:t.left+e.clientWidth,top:t.top,bottom:t.top+e.clientHeight}}function O(e,t,n){for(var r=e.someProp("scrollThreshold")||0,o=e.someProp("scrollMargin")||5,i=e.dom.ownerDocument,a=n||e.dom;a;a=h(a))if(1==a.nodeType){var s=a==i.body||1!=a.nodeType,c=s?C(i):T(a),l=0,u=0;if(t.top<c.top+S(r,"top")?u=-(c.top-t.top+S(o,"top")):t.bottom>c.bottom-S(r,"bottom")&&(u=t.bottom-c.bottom+S(o,"bottom")),t.left<c.left+S(r,"left")?l=-(c.left-t.left+S(o,"left")):t.right>c.right-S(r,"right")&&(l=t.right-c.right+S(o,"right")),l||u)if(s)i.defaultView.scrollBy(l,u);else{var d=a.scrollLeft,f=a.scrollTop;u&&(a.scrollTop+=u),l&&(a.scrollLeft+=l);var p=a.scrollLeft-d,g=a.scrollTop-f;t={left:t.left-p,top:t.top-g,right:t.right-p,bottom:t.bottom-g}}if(s)break}}function w(e){for(var t=[],n=e.ownerDocument;e&&(t.push({dom:e,top:e.scrollTop,left:e.scrollLeft}),e!=n);e=h(e));return t}function N(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=r.dom,i=r.top,a=r.left;o.scrollTop!=i+t&&(o.scrollTop=i+t),o.scrollLeft!=a&&(o.scrollLeft=a)}}var P=null;function A(e,t){for(var n,r,o=2e8,i=0,a=t.top,s=t.top,c=e.firstChild,l=0;c;c=c.nextSibling,l++){var u=void 0;if(1==c.nodeType)u=c.getClientRects();else{if(3!=c.nodeType)continue;u=g(c).getClientRects()}for(var d=0;d<u.length;d++){var f=u[d];if(f.top<=a&&f.bottom>=s){a=Math.max(f.bottom,a),s=Math.min(f.top,s);var p=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(p<o){n=c,o=p,r=p&&3==n.nodeType?{left:f.right<t.left?f.right:f.left,top:t.top}:t,1==c.nodeType&&p&&(i=l+(t.left>=(f.left+f.right)/2?1:0));continue}}!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(i=l+1)}}return n&&3==n.nodeType?function(e,t){for(var n=e.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(e,o+1),r.setStart(e,o);var i=M(r,1);if(i.top!=i.bottom&&I(t,i))return{node:e,offset:o+(t.left>=(i.left+i.right)/2?1:0)}}return{node:e,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:e,offset:i}:A(n,r)}function I(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function D(e,t,n){var r=e.childNodes.length;if(r&&n.top<n.bottom)for(var o=Math.max(0,Math.min(r-1,Math.floor(r*(t.top-n.top)/(n.bottom-n.top))-2)),i=o;;){var a=e.childNodes[i];if(1==a.nodeType)for(var s=a.getClientRects(),c=0;c<s.length;c++){var l=s[c];if(I(t,l))return D(a,t,l)}if((i=(i+1)%r)==o)break}return e}function R(e,t){var n,r,o,i,a=e.root;if(a.caretPositionFromPoint)try{var c=a.caretPositionFromPoint(t.left,t.top);c&&(o=(n=c).offsetNode,i=n.offset)}catch(e){}if(!o&&a.caretRangeFromPoint){var l=a.caretRangeFromPoint(t.left,t.top);l&&(o=(r=l).startContainer,i=r.startOffset)}var u,d=a.elementFromPoint(t.left,t.top+1);if(!d||!e.dom.contains(1!=d.nodeType?d.parentNode:d)){var f=e.dom.getBoundingClientRect();if(!I(t,f))return null;if(!(d=D(e.dom,t,f)))return null}if(s.safari&&d.draggable&&(o=i=null),d=function(e,t){var n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}(d,t),o){if(s.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var p,h=o.childNodes[i];"IMG"==h.nodeName&&(p=h.getBoundingClientRect()).right<=t.left&&p.bottom>t.top&&i++}o==e.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&t.top>o.lastChild.getBoundingClientRect().bottom?u=e.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(u=function(e,t,n,r){for(var o=-1,i=t;i!=e.dom;){var a=e.docView.nearestDesc(i,!0);if(!a)return null;if(a.node.isBlock&&a.parent){var s=a.dom.getBoundingClientRect();if(s.left>r.left||s.top>r.top)o=a.posBefore;else{if(!(s.right<r.left||s.bottom<r.top))break;o=a.posAfter}}i=a.dom.parentNode}return o>-1?o:e.docView.posFromDOM(t,n)}(e,o,i,t))}null==u&&(u=function(e,t,n){var r=A(t,n),o=r.node,i=r.offset,a=-1;if(1==o.nodeType&&!o.firstChild){var s=o.getBoundingClientRect();a=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(o,i,a)}(e,d,t));var g=e.docView.nearestDesc(d,!0);return{pos:u,inside:g?g.posAtStart-g.border:-1}}function M(e,t){var n=e.getClientRects();return n.length?n[t<0?0:n.length-1]:e.getBoundingClientRect()}function _(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset;if(3==r.nodeType&&(s.webkit||s.gecko)){var i=M(g(r,o,o),0);if(s.gecko&&o&&/\s/.test(r.nodeValue[o-1])&&o<r.nodeValue.length){var a=M(g(r,o-1,o-1),-1);if(a.top==i.top){var c=M(g(r,o,o+1),-1);if(c.top!=i.top)return j(c,c.left<a.left)}}return i}if(1==r.nodeType&&!e.state.doc.resolve(t).parent.inlineContent){var l,u=!0;if(o<r.childNodes.length){var d=r.childNodes[o];1==d.nodeType&&(l=d.getBoundingClientRect())}if(!l&&o){var f=r.childNodes[o-1];1==f.nodeType&&(l=f.getBoundingClientRect(),u=!1)}return function(e,t){if(0==e.height)return e;var n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}(l||r.getBoundingClientRect(),u)}for(var p=-1;p<2;p+=2)if(p<0&&o){var h=void 0,m=3==r.nodeType?g(r,o-1,o):3==(h=r.childNodes[o-1]).nodeType?g(h):1==h.nodeType&&"BR"!=h.nodeName?h:null;if(m){var v=M(m,1);if(v.top<v.bottom)return j(v,!1)}}else if(p>0&&o<y(r)){var b=void 0,E=3==r.nodeType?g(r,o,o+1):3==(b=r.childNodes[o]).nodeType?g(b):1==b.nodeType?b:null;if(E){var x=M(E,-1);if(x.top<x.bottom)return j(x,!0)}}return j(M(3==r.nodeType?g(r):r,0),!1)}function j(e,t){if(0==e.width)return e;var n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function B(e,t,n){var r=e.state,o=e.root.activeElement;r!=t&&e.updateState(t),o!=e.dom&&e.focus();try{return n()}finally{r!=t&&e.updateState(r),o!=e.dom&&o&&o.focus()}}var L=/[\u0590-\u08ac]/;var F=null,z=null,W=!1;function U(e,t,n){return F==t&&z==n?W:(F=t,z=n,W="up"==n||"down"==n?function(e,t,n){var r=t.selection,o="up"==n?r.$anchor.min(r.$head):r.$anchor.max(r.$head);return B(e,t,(function(){for(var t=e.docView.domFromPos(o.pos).node;;){var r=e.docView.nearestDesc(t,!0);if(!r)break;if(r.node.isBlock){t=r.dom;break}t=r.dom.parentNode}for(var i=_(e,o.pos),a=t.firstChild;a;a=a.nextSibling){var s=void 0;if(1==a.nodeType)s=a.getClientRects();else{if(3!=a.nodeType)continue;s=g(a,0,a.nodeValue.length).getClientRects()}for(var c=0;c<s.length;c++){var l=s[c];if(l.bottom>l.top&&("up"==n?l.bottom<i.top+1:l.top>i.bottom-1))return!1}}return!0}))}(e,t,n):function(e,t,n){var r=t.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,a=o==r.parent.content.size,s=getSelection();return L.test(r.parent.textContent)&&s.modify?B(e,t,(function(){var t=s.getRangeAt(0),o=s.focusNode,i=s.focusOffset,a=s.caretBidiLevel;s.modify("move",n,"character");var c=!(r.depth?e.docView.domAfterPos(r.before()):e.dom).contains(1==s.focusNode.nodeType?s.focusNode:s.focusNode.parentNode)||o==s.focusNode&&i==s.focusOffset;return s.removeAllRanges(),s.addRange(t),null!=a&&(s.caretBidiLevel=a),c})):"left"==n||"backward"==n?i:a}(e,t,n))}var H=function(e,t,n,r){this.parent=e,this.children=t,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},V={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0}};H.prototype.matchesWidget=function(){return!1},H.prototype.matchesMark=function(){return!1},H.prototype.matchesNode=function(){return!1},H.prototype.matchesHack=function(){return!1},V.beforePosition.get=function(){return!1},H.prototype.parseRule=function(){return null},H.prototype.stopEvent=function(){return!1},V.size.get=function(){for(var e=0,t=0;t<this.children.length;t++)e+=this.children[t].size;return e},V.border.get=function(){return 0},H.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var e=0;e<this.children.length;e++)this.children[e].destroy()},H.prototype.posBeforeChild=function(e){for(var t=0,n=this.posAtStart;t<this.children.length;t++){var r=this.children[t];if(r==e)return n;n+=r.size}},V.posBefore.get=function(){return this.parent.posBeforeChild(this)},V.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},V.posAfter.get=function(){return this.posBefore+this.size},V.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},H.prototype.localPosFromDOM=function(e,t,n){if(this.contentDOM&&this.contentDOM.contains(1==e.nodeType?e:e.parentNode)){if(n<0){var r,o;if(e==this.contentDOM)r=e.childNodes[t-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;r=e.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,a;if(e==this.contentDOM)i=e.childNodes[t];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&(!(a=i.pmViewDesc)||a.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(a):this.posAtEnd}var s;if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=2&e.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==t)for(var c=e;;c=c.parentNode){if(c==this.dom){s=!1;break}if(c.parentNode.firstChild!=c)break}if(null==s&&t==e.childNodes.length)for(var l=e;;l=l.parentNode){if(l==this.dom){s=!0;break}if(l.parentNode.lastChild!=l)break}}return(null==s?n>0:s)?this.posAtEnd:this.posAtStart},H.prototype.nearestDesc=function(e,t){for(var n=!0,r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!t||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==e.nodeType?e:e.parentNode):o.nodeDOM==e))return o;n=!1}}},H.prototype.getDesc=function(e){for(var t=e.pmViewDesc,n=t;n;n=n.parent)if(n==this)return t},H.prototype.posFromDOM=function(e,t,n){for(var r=e;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(e,t,n)}return-1},H.prototype.descAt=function(e){for(var t=0,n=0;t<this.children.length;t++){var r=this.children[t],o=n+r.size;if(n==e&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(e<o)return r.descAt(e-n-r.border);n=o}},H.prototype.domFromPos=function(e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var t=0,n=0;;n++){if(t==e){for(;n<this.children.length&&(this.children[n].beforePosition||this.children[n].dom.parentNode!=this.contentDOM);)n++;return{node:this.contentDOM,offset:n==this.children.length?this.contentDOM.childNodes.length:p(this.children[n].dom)}}if(n==this.children.length)throw new Error("Invalid position "+e);var r=this.children[n],o=t+r.size;if(e<o)return r.domFromPos(e-t-r.border);t=o}},H.prototype.parseRange=function(e,t,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:e,to:t,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,a=0;;a++){var s=this.children[a],c=i+s.size;if(-1==r&&e<=c){var l=i+s.border;if(e>=l&&t<=c-s.border&&s.node&&s.contentDOM&&this.contentDOM.contains(s.contentDOM))return s.parseRange(e,t,l);e=i;for(var u=a;u>0;u--){var d=this.children[u-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){r=p(d.dom)+1;break}e-=d.size}-1==r&&(r=0)}if(r>-1&&(c>t||a==this.children.length-1)){t=c;for(var f=a+1;f<this.children.length;f++){var h=this.children[f];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(-1)){o=p(h.dom);break}t+=h.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:e,to:t,fromOffset:r,toOffset:o}},H.prototype.emptyChildAt=function(e){if(this.border||!this.contentDOM||!this.children.length)return!1;var t=this.children[e<0?0:this.children.length-1];return 0==t.size||t.emptyChildAt(e)},H.prototype.domAfterPos=function(e){var t=this.domFromPos(e),n=t.node,r=t.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]},H.prototype.setSelection=function(e,t,n,r){for(var o=Math.min(e,t),i=Math.max(e,t),a=0,c=0;a<this.children.length;a++){var l=this.children[a],u=c+l.size;if(o>c&&i<u)return l.setSelection(e-c-l.border,t-c-l.border,n,r);c=u}var d=this.domFromPos(e),f=this.domFromPos(t),p=n.getSelection();if(r||!m(d.node,d.offset,p.anchorNode,p.anchorOffset)||!m(f.node,f.offset,p.focusNode,p.focusOffset)){var h=!1;if(s.gecko&&e==t){var g=d.node.childNodes[d.offset-1];g&&"BR"==g.nodeName&&(h=!0)}var v=!1;if((p.extend||e==t)&&!h){p.collapse(d.node,d.offset);try{e!=t&&p.extend(f.node,f.offset),v=!0}catch(e){if(!(e instanceof DOMException))throw e}}if(!v){if(e>t){var b=d;d=f,f=b}var y=document.createRange();y.setEnd(f.node,f.offset),y.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(y)}}},H.prototype.ignoreMutation=function(e){return!this.contentDOM&&"selection"!=e.type},V.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},H.prototype.markDirty=function(e,t){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?e<=i&&t>=n:e<i&&t>n){var a=n+o.border,s=i-o.border;if(e>=a&&t<=s)return this.dirty=e==n||t==i?2:1,void(e!=a||t!=s||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(e-a,t-a):o.dirty=3);o.dirty=3}n=i}this.dirty=2},H.prototype.markParentsDirty=function(){for(var e=1,t=this.parent;t;t=t.parent,e++){var n=1==e?2:1;t.dirty<n&&(t.dirty=n)}},Object.defineProperties(H.prototype,V);var K=[],G=function(e){function t(t,n,r,o){var i,a=n.type.toDOM;if("function"==typeof a&&(a=a(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=a.nodeType){var s=document.createElement("span");s.appendChild(a),a=s}a.contentEditable=!1,a.classList.add("ProseMirror-widget")}e.call(this,t,K,a,null),this.widget=n,i=this}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={beforePosition:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},t.prototype.matchesWidget=function(e){return 0==this.dirty&&e.type.eq(this.widget.type)},t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.stopEvent=function(e){var t=this.widget.spec.stopEvent;return!!t&&t(e)},t.prototype.ignoreMutation=function(e){return"selection"!=e.type||this.widget.spec.ignoreSelection},Object.defineProperties(t.prototype,n),t}(H),J=function(e){function t(t,n,r,o){e.call(this,t,K,n,null),this.textDOM=r,this.text=o}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},t.prototype.localPosFromDOM=function(e,t){return e!=this.textDOM?this.posAtStart+(t?this.size:0):this.posAtStart+t},t.prototype.domFromPos=function(e){return{node:this.textDOM,offset:e}},t.prototype.ignoreMutation=function(e){return"characterData"===e.type&&e.target.nodeValue==e.oldValue},Object.defineProperties(t.prototype,n),t}(H),q=function(e){function t(t,n,r,o){e.call(this,t,[],r,o),this.mark=n}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.create=function(e,n,r,o){var a=o.nodeViews[n.type.name],s=a&&a(n,o,r);return s&&s.dom||(s=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n,r))),new t(e,n,s.dom,s.contentDOM||s.dom)},t.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},t.prototype.matchesMark=function(e){return 3!=this.dirty&&this.mark.eq(e)},t.prototype.markDirty=function(t,n){if(e.prototype.markDirty.call(this,t,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},t.prototype.slice=function(e,n,r){var o=t.create(this.parent,this.mark,!0,r),i=this.children,a=this.size;n<a&&(i=de(i,n,a,r)),e>0&&(i=de(i,0,e,r));for(var s=0;s<i.length;s++)i[s].parent=o;return o.children=i,o},t}(H),Y=function(e){function t(t,n,r,o,i,a,s,c,l){e.call(this,t,n.isLeaf?K:[],i,a),this.nodeDOM=s,this.node=n,this.outerDeco=r,this.innerDeco=o,a&&this.updateChildren(c,l)}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={size:{configurable:!0},border:{configurable:!0}};return t.create=function(e,n,r,o,a,s){var c,l,u=a.nodeViews[n.type.name],d=u&&u(n,a,(function(){return l?l.parent?l.parent.posBeforeChild(l):void 0:s}),r),f=d&&d.dom,p=d&&d.contentDOM;if(n.isText)if(f){if(3!=f.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else f=document.createTextNode(n.text);else f||(f=(c=i.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n))).dom,p=c.contentDOM);p||n.isText||"BR"==f.nodeName||(f.hasAttribute("contenteditable")||(f.contentEditable=!1),n.type.spec.draggable&&(f.draggable=!0));var h=f;return f=ae(f,r,n),d?l=new $(e,n,r,o,f,p,h,d,a,s+1):n.isText?new X(e,n,r,o,f,h,a):new t(e,n,r,o,f,p,h,a,s+1)},t.prototype.parseRule=function(){var e=this;if(this.node.type.spec.reparseInView)return null;var t={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(t.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?t.contentElement=this.contentDOM:t.getContent=function(){return e.contentDOM?i.Fragment.empty:e.node.content},t},t.prototype.matchesNode=function(e,t,n){return 0==this.dirty&&e.eq(this.node)&&se(t,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},t.prototype.updateChildren=function(e,t){var n=this,r=this.node.inlineContent,o=t,a=r&&e.composing&&this.localCompositionNode(e,t),c=new le(this,a&&a.node);!function(e,t,n,r){var o=t.locals(e),i=0;if(0==o.length){for(var a=0;a<e.childCount;a++){var s=e.child(a);r(s,o,t.forChild(i,s),a),i+=s.nodeSize}return}for(var c=0,l=[],u=null,d=0;;){if(c<o.length&&o[c].to==i){for(var f=o[c++],p=void 0;c<o.length&&o[c].to==i;)(p||(p=[f])).push(o[c++]);if(p){p.sort(ue);for(var h=0;h<p.length;h++)n(p[h],d,!!u)}else n(f,d,!!u)}var g=void 0,m=void 0;if(u)m=-1,g=u,u=null;else{if(!(d<e.childCount))break;m=d,g=e.child(d++)}for(var v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;c<o.length&&o[c].from<=i&&o[c].to>i;)l.push(o[c++]);var b=i+g.nodeSize;if(g.isText){var y=b;c<o.length&&o[c].from<y&&(y=o[c].from);for(var E=0;E<l.length;E++)l[E].to<y&&(y=l[E].to);y<b&&(u=g.cut(y-i),g=g.cut(0,y-i),b=y,m=-1)}r(g,l.length?g.isInline&&!g.isLeaf?l.filter((function(e){return!e.inline})):l.slice():K,t.forChild(i,g),m),i=b}}(this.node,this.innerDeco,(function(t,a,s){t.spec.marks?c.syncToMarks(t.spec.marks,r,e):t.type.side>=0&&!s&&c.syncToMarks(a==n.node.childCount?i.Mark.none:n.node.child(a).marks,r,e),c.placeWidget(t,e,o)}),(function(t,n,i,a){c.syncToMarks(t.marks,r,e),c.findNodeMatch(t,n,i,a)||c.updateNextNode(t,n,i,e,a)||c.addNode(t,n,i,e,o),o+=t.nodeSize})),c.syncToMarks(K,r,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(a&&this.protectLocalComposition(e,a),ee(this.contentDOM,this.children,e),s.ios&&function(e){if("UL"==e.nodeName||"OL"==e.nodeName){var t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}(this.dom))},t.prototype.localCompositionNode=function(e,t){var n=e.state.selection,r=n.from,i=n.to;if(!(!(e.state.selection instanceof o.TextSelection)||r<t||i>t+this.node.content.size)){var a=e.root.getSelection(),s=function(e,t){for(;;){if(3==e.nodeType)return e;if(1==e.nodeType&&t>0){if(e.childNodes.length>t&&3==e.childNodes[t].nodeType)return e.childNodes[t];t=y(e=e.childNodes[t-1])}else{if(!(1==e.nodeType&&t<e.childNodes.length))return null;e=e.childNodes[t],t=0}}}(a.focusNode,a.focusOffset);if(s&&this.dom.contains(s.parentNode)){var c=s.nodeValue,l=function(e,t,n,r){for(var o=0,i=0;o<e.childCount&&i<=r;){var a=e.child(o++),s=i;if(i+=a.nodeSize,a.isText){for(var c=a.text;o<e.childCount;){var l=e.child(o++);if(i+=l.nodeSize,!l.isText)break;c+=l.text}if(i>=n){var u=c.lastIndexOf(t,r-s);if(u>=0&&u+t.length+s>=n)return s+u}}}return-1}(this.node.content,c,r-t,i-t);return l<0?null:{node:s,pos:l,text:c}}}},t.prototype.protectLocalComposition=function(e,t){var n=t.node,r=t.pos,o=t.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var a=new J(this,i,n,o);e.compositionNodes.push(a),this.children=de(this.children,r,r+o.length,e,a)}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||!e.sameMarkup(this.node))&&(this.updateInner(e,t,n,r),!0)},t.prototype.updateInner=function(e,t,n,r){this.updateOuterDeco(t),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},t.prototype.updateOuterDeco=function(e){if(!se(e,this.outerDeco)){var t=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=oe(this.dom,this.nodeDOM,re(this.outerDeco,this.node,t),re(e,this.node,t)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=e}},t.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},t.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},Object.defineProperties(t.prototype,n),t}(H);function Z(e,t,n,r,o){return ae(r,t,e),new Y(null,e,t,n,r,r,r,o,0)}var X=function(e){function t(t,n,r,o,i,a,s){e.call(this,t,n,r,o,i,null,a,s)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){for(var e=this.nodeDOM.parentNode;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}},t.prototype.update=function(e,t,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!e.sameMarkup(this.node))&&(this.updateOuterDeco(t),0==this.dirty&&e.text==this.node.text||e.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=e.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=e,this.dirty=0,!0)},t.prototype.inParent=function(){for(var e=this.parent.contentDOM,t=this.nodeDOM;t;t=t.parentNode)if(t==e)return!0;return!1},t.prototype.domFromPos=function(e){return{node:this.nodeDOM,offset:e}},t.prototype.localPosFromDOM=function(t,n,r){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):e.prototype.localPosFromDOM.call(this,t,n,r)},t.prototype.ignoreMutation=function(e){return"characterData"!=e.type&&"selection"!=e.type},t.prototype.slice=function(e,n,r){var o=this.node.cut(e,n),i=document.createTextNode(o.text);return new t(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},t}(Y),Q=function(e){function t(){e.apply(this,arguments)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.parseRule=function(){return{ignore:!0}},t.prototype.matchesHack=function(){return 0==this.dirty},t}(H),$=function(e){function t(t,n,r,o,i,a,s,c,l,u){e.call(this,t,n,r,o,i,a,s,l,u),this.spec=c}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.update=function(t,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(t,n);return i&&this.updateInner(t,n,r,o),i}return!(!this.contentDOM&&!t.isLeaf)&&e.prototype.update.call(this,t,n,r,o)},t.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():e.prototype.selectNode.call(this)},t.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():e.prototype.deselectNode.call(this)},t.prototype.setSelection=function(t,n,r,o){this.spec.setSelection?this.spec.setSelection(t,n,r):e.prototype.setSelection.call(this,t,n,r,o)},t.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),e.prototype.destroy.call(this)},t.prototype.stopEvent=function(e){return!!this.spec.stopEvent&&this.spec.stopEvent(e)},t.prototype.ignoreMutation=function(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):e.prototype.ignoreMutation.call(this,t)},t}(Y);function ee(e,t,n){for(var r=e.firstChild,o=!1,i=0;i<t.length;i++){var a=t[i],s=a.dom;if(s.parentNode==e){for(;s!=r;)r=ce(r),o=!0;r=r.nextSibling}else o=!0,e.insertBefore(s,r);if(a instanceof q){var c=r?r.previousSibling:e.lastChild;ee(a.contentDOM,a.children,n),r=c?c.nextSibling:e.firstChild}}for(;r;)r=ce(r),o=!0;o&&n.trackWrites==e&&(n.trackWrites=null)}function te(e){e&&(this.nodeName=e)}te.prototype=Object.create(null);var ne=[new te];function re(e,t,n){if(0==e.length)return ne;for(var r=n?ne[0]:new te,o=[r],i=0;i<e.length;i++){var a=e[i].type.attrs,s=r;if(a)for(var c in a.nodeName&&o.push(s=new te(a.nodeName)),a){var l=a[c];null!=l&&(n&&1==o.length&&o.push(s=r=new te(t.isInline?"span":"div")),"class"==c?s.class=(s.class?s.class+" ":"")+l:"style"==c?s.style=(s.style?s.style+";":"")+l:"nodeName"!=c&&(s[c]=l))}}return o}function oe(e,t,n,r){if(n==ne&&r==ne)return t;for(var o=t,i=0;i<r.length;i++){var a=r[i],s=n[i];if(i){var c=void 0;s&&s.nodeName==a.nodeName&&o!=e&&(c=o.parentNode)&&c.tagName.toLowerCase()==a.nodeName||((c=document.createElement(a.nodeName)).pmIsDeco=!0,c.appendChild(o),s=ne[0]),o=c}ie(o,s||ne[0],a)}return o}function ie(e,t,n){for(var r in t)"class"==r||"style"==r||"nodeName"==r||r in n||e.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=t[o]&&e.setAttribute(o,n[o]);if(t.class!=n.class){for(var i=t.class?t.class.split(" "):K,a=n.class?n.class.split(" "):K,s=0;s<i.length;s++)-1==a.indexOf(i[s])&&e.classList.remove(i[s]);for(var c=0;c<a.length;c++)-1==i.indexOf(a[c])&&e.classList.add(a[c])}if(t.style!=n.style){if(t.style)for(var l,u=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;l=u.exec(t.style);)e.style.removeProperty(l[1]);n.style&&(e.style.cssText+=n.style)}}function ae(e,t,n){return oe(e,e,ne,re(t,n,1!=e.nodeType))}function se(e,t){if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function ce(e){var t=e.nextSibling;return e.parentNode.removeChild(e),t}var le=function(e,t){this.top=e,this.lock=t,this.index=0,this.stack=[],this.changed=!1;var n=function(e,t){for(var n=[],r=e.childCount,o=t.length-1;r>0&&o>=0;o--){var i=t[o],a=i.node;if(a){if(a!=e.child(r-1))break;n.push(i),--r}}return{nodes:n.reverse(),offset:r}}(e.node.content,e.children);this.preMatched=n.nodes,this.preMatchOffset=n.offset};function ue(e,t){return e.type.side-t.type.side}function de(e,t,n,r,o){for(var i=[],a=0,s=0;a<e.length;a++){var c=e[a],l=s,u=s+=c.size;l>=n||u<=t?i.push(c):(l<t&&i.push(c.slice(0,t-l,r)),o&&(i.push(o),o=null),u>n&&i.push(c.slice(n-l,c.size,r)))}return i}function fe(e,t){var n=e.selection,r=n.$anchor,i=n.$head,a=t>0?r.max(i):r.min(i),s=a.parent.inlineContent?a.depth?e.doc.resolve(t>0?a.after():a.before()):null:a;return s&&o.Selection.findFrom(s,t)}function pe(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function he(e,t,n){var r=e.state.selection;if(!(r instanceof o.TextSelection)){if(r instanceof o.NodeSelection&&r.node.isInline)return pe(e,new o.TextSelection(t>0?r.$to:r.$from));var i=fe(e.state,t);return!!i&&pe(e,i)}if(!r.empty||n.indexOf("s")>-1)return!1;if(e.endOfTextblock(t>0?"right":"left")){var a=fe(e.state,t);return!!(a&&a instanceof o.NodeSelection)&&pe(e,a)}if(!(s.mac&&n.indexOf("m")>-1)){var c,l=r.$head,u=l.textOffset?null:t<0?l.nodeBefore:l.nodeAfter;if(!u||u.isText)return!1;var d=t<0?l.pos-u.nodeSize:l.pos;return!!(u.isAtom||(c=e.docView.descAt(d))&&!c.contentDOM)&&(o.NodeSelection.isSelectable(u)?pe(e,new o.NodeSelection(t<0?e.state.doc.resolve(l.pos-u.nodeSize):l)):!!s.webkit&&pe(e,new o.TextSelection(e.state.doc.resolve(t<0?d:d+u.nodeSize))))}}function ge(e){return 3==e.nodeType?e.nodeValue.length:e.childNodes.length}function me(e){var t=e.pmViewDesc;return t&&0==t.size&&(e.nextSibling||"BR"!=e.nodeName)}function ve(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){var o,i,a=!1;for(s.gecko&&1==n.nodeType&&r<ge(n)&&me(n.childNodes[r])&&(a=!0);;)if(r>0){if(1!=n.nodeType)break;var c=n.childNodes[r-1];if(me(c))o=n,i=--r;else{if(3!=c.nodeType)break;r=(n=c).nodeValue.length}}else{if(ye(n))break;for(var l=n.previousSibling;l&&me(l);)o=n.parentNode,i=p(l),l=l.previousSibling;if(l)r=ge(n=l);else{if((n=n.parentNode)==e.dom)break;r=0}}a?Ee(e,t,n,r):o&&Ee(e,t,o,i)}}function be(e){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n){for(var o,i,a=ge(n);;)if(r<a){if(1!=n.nodeType)break;if(!me(n.childNodes[r]))break;o=n,i=++r}else{if(ye(n))break;for(var s=n.nextSibling;s&&me(s);)o=s.parentNode,i=p(s)+1,s=s.nextSibling;if(s)r=0,a=ge(n=s);else{if((n=n.parentNode)==e.dom)break;r=a=0}}o&&Ee(e,t,o,i)}}function ye(e){var t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function Ee(e,t,n,r){if(x(t)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),t.removeAllRanges(),t.addRange(o)}else t.extend&&t.extend(n,r);e.domObserver.setCurSelection()}function xe(e,t,n){var r=e.state.selection;if(r instanceof o.TextSelection&&!r.empty||n.indexOf("s")>-1)return!1;if(s.mac&&n.indexOf("m")>-1)return!1;var i=r.$from,a=r.$to;if(!i.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){var c=fe(e.state,t);if(c&&c instanceof o.NodeSelection)return pe(e,c)}if(!i.parent.inlineContent){var l=o.Selection.findFrom(t<0?i:a,t);return!l||pe(e,l)}return!1}function ke(e,t){if(!(e.state.selection instanceof o.TextSelection))return!0;var n=e.state.selection,r=n.$head,i=n.$anchor,a=n.empty;if(!r.sameParent(i))return!0;if(!a)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;var s=!r.textOffset&&(t<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var c=e.state.tr;return t<0?c.delete(r.pos-s.nodeSize,r.pos):c.delete(r.pos,r.pos+s.nodeSize),e.dispatch(c),!0}return!1}function Ce(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function Se(e,t){var n=t.keyCode,r=function(e){var t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}(t);return 8==n||s.mac&&72==n&&"c"==r?ke(e,-1)||ve(e):46==n||s.mac&&68==n&&"c"==r?ke(e,1)||be(e):13==n||27==n||(37==n?he(e,-1,r)||ve(e):39==n?he(e,1,r)||be(e):38==n?xe(e,-1,r)||ve(e):40==n?function(e){if(s.chrome&&!(e.state.selection.$head.parentOffset>0)){var t=e.root.getSelection(),n=t.focusNode,r=t.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Ce(e,o,!0),setTimeout((function(){return Ce(e,o,!1)}),20)}}}(e)||xe(e,1,r)||be(e):r==(s.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Te(e,t){var n=e.root.getSelection(),r=e.state.doc;if(!n.focusNode)return null;var i=e.docView.nearestDesc(n.focusNode),a=i&&0==i.size,s=e.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var c,l,u=r.resolve(s);if(x(n)){for(c=u;i&&!i.node;)i=i.parent;if(i&&i.node.isAtom&&o.NodeSelection.isSelectable(i.node)&&i.parent&&(!i.node.isInline||!function(e,t,n){for(var r=0==t,o=t==y(e);r||o;){if(e==n)return!0;var i=p(e);if(!(e=e.parentNode))return!1;r=r&&0==i,o=o&&i==y(e)}}(n.focusNode,n.focusOffset,i.dom))){var d=i.posBefore;l=new o.NodeSelection(s==d?u:r.resolve(d))}}else{var f=e.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(f<0)return null;c=r.resolve(f)}l||(l=Re(e,c,u,"pointer"==t||e.state.selection.head<u.pos&&!a?1:-1));return l}function Oe(e,t){var n=e.state.selection;if(Ie(e,n),e.editable?e.hasFocus():Me(e)&&document.activeElement&&document.activeElement.contains(e.dom)){if(e.domObserver.disconnectSelection(),e.cursorWrapper)!function(e){var t=e.root.getSelection(),n=document.createRange(),r=e.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,p(r)+1):n.setEnd(r,0);n.collapse(!1),t.removeAllRanges(),t.addRange(n),!o&&!e.state.selection.visible&&s.ie&&s.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(e);else{var r,i,a=n.anchor,c=n.head;!we||n instanceof o.TextSelection||(n.$from.parent.inlineContent||(r=Ne(e,n.from)),n.empty||n.$from.parent.inlineContent||(i=Ne(e,n.to))),e.docView.setSelection(a,c,e.root,t),we&&(r&&Ae(r),i&&Ae(i)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(e){var t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.hideSelectionGuard);var n=e.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;t.addEventListener("selectionchange",e.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(t.removeEventListener("selectionchange",e.hideSelectionGuard),e.dom.classList.remove("ProseMirror-hideselection"))})}(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}le.prototype.getPreMatch=function(e){return e>=this.preMatchOffset?this.preMatched[e-this.preMatchOffset]:null},le.prototype.destroyBetween=function(e,t){if(e!=t){for(var n=e;n<t;n++)this.top.children[n].destroy();this.top.children.splice(e,t-e),this.changed=!0}},le.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},le.prototype.syncToMarks=function(e,t,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,e.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(e[r])&&!1!==e[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);for(var a=-1,s=this.index;s<Math.min(this.index+3,this.top.children.length);s++)if(this.top.children[s].matchesMark(e[o])){a=s;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{var c=q.create(this.top,e[o],t,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},le.prototype.findNodeMatch=function(e,t,n,r){var o=-1,i=r<0?void 0:this.getPreMatch(r),a=this.top.children;if(i&&i.matchesNode(e,t,n))o=a.indexOf(i);else for(var s=this.index,c=Math.min(a.length,s+5);s<c;s++){var l=a[s];if(l.matchesNode(e,t,n)&&this.preMatched.indexOf(l)<0){o=s;break}}return!(o<0)&&(this.destroyBetween(this.index,o),this.index++,!0)},le.prototype.updateNextNode=function(e,t,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var a=this.top.children[i];if(a instanceof Y){var s=this.preMatched.indexOf(a);if(s>-1&&s+this.preMatchOffset!=o)return!1;var c=a.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&3!=a.dirty&&se(t,a.outerDeco)))&&a.update(e,t,n,r))return this.destroyBetween(this.index,i),a.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},le.prototype.addNode=function(e,t,n,r,o){this.top.children.splice(this.index++,0,Y.create(this.top,e,t,n,r,o)),this.changed=!0},le.prototype.placeWidget=function(e,t,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(e)||e!=r.widget&&r.widget.type.toDOM.parentNode){var o=new G(this.top,e,t,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},le.prototype.addTextblockHacks=function(){for(var e=this.top.children[this.index-1];e instanceof q;)e=e.children[e.children.length-1];if(!e||!(e instanceof X)||/\n$/.test(e.node.text))if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack())this.index++;else{var t=document.createElement("br");this.top.children.splice(this.index++,0,new Q(this.top,K,t,null)),this.changed=!0}};var we=s.safari||s.chrome&&s.chrome_version<63;function Ne(e,t){var n=e.docView.domFromPos(t),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,a=o?r.childNodes[o-1]:null;if(s.safari&&i&&"false"==i.contentEditable)return Pe(i);if(!(i&&"false"!=i.contentEditable||a&&"false"!=a.contentEditable)){if(i)return Pe(i);if(a)return Pe(a)}}function Pe(e){return e.contentEditable="true",s.safari&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function Ae(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function Ie(e,t){if(t instanceof o.NodeSelection){var n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(De(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else De(e)}function De(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=null)}function Re(e,t,n,r){return e.someProp("createSelectionBetween",(function(r){return r(e,t,n)}))||o.TextSelection.between(t,n,r)}function Me(e){var t=e.root.getSelection();if(!t.anchorNode)return!1;try{return e.dom.contains(3==t.anchorNode.nodeType?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(3==t.focusNode.nodeType?t.focusNode.parentNode:t.focusNode))}catch(e){return!1}}function _e(e){var t=e.pmViewDesc;if(t)return t.parseRule();if("BR"==e.nodeName&&e.parentNode){if(s.safari&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(e.parentNode.lastChild==e||s.safari&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if("IMG"==e.nodeName&&e.getAttribute("mark-placeholder"))return{ignore:!0}}function je(e,t,n,r,a){if(t<0){var c=e.lastSelectionTime>Date.now()-50?e.lastSelectionOrigin:null,l=Te(e,c);if(l&&!e.state.selection.eq(l)){var u=e.state.tr.setSelection(l);"pointer"==c?u.setMeta("pointer",!0):"key"==c&&u.scrollIntoView(),e.dispatch(u)}}else{var d=e.state.doc.resolve(t),f=d.sharedDepth(n);t=d.before(f+1),n=e.state.doc.resolve(n).after(f+1);var p,h,g=e.state.selection,m=function(e,t,n){var r=e.docView.parseRange(t,n),o=r.node,a=r.fromOffset,c=r.toOffset,l=r.from,u=r.to,d=e.root.getSelection(),f=null,p=d.anchorNode;if(p&&e.dom.contains(1==p.nodeType?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],x(d)||f.push({node:d.focusNode,offset:d.focusOffset})),s.chrome&&8===e.lastKeyCode)for(var h=c;h>a;h--){var g=o.childNodes[h-1],m=g.pmViewDesc;if("BR"==g.nodeType&&!m){c=h;break}if(!m||m.size)break}var v=e.state.doc,b=e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema),y=v.resolve(l),E=null,k=b.parse(o,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:a,to:c,preserveWhitespace:!y.parent.type.spec.code||"full",editableContent:!0,findPositions:f,ruleFromNode:_e,context:y});if(f&&null!=f[0].pos){var C=f[0].pos,S=f[1]&&f[1].pos;null==S&&(S=C),E={anchor:C+l,head:S+l}}return{doc:k,sel:E,from:l,to:u}}(e,t,n),v=e.state.doc,b=v.slice(m.from,m.to);8===e.lastKeyCode&&Date.now()-100<e.lastKeyCodeTime?(p=e.state.selection.to,h="end"):(p=e.state.selection.from,h="start"),e.lastKeyCode=null;var y=function(e,t,n,r,o){var i=e.findDiffStart(t,n);if(null==i)return null;var a=e.findDiffEnd(t,n+e.size,n+t.size),s=a.a,c=a.b;if("end"==o){r-=s+Math.max(0,i-Math.min(s,c))-i}if(s<i&&e.size<t.size){c=(i-=r<=i&&r>=s?i-r:0)+(c-s),s=i}else if(c<i){s=(i-=r<=i&&r>=c?i-r:0)+(s-c),c=i}return{start:i,endA:s,endB:c}}(b.content,m.doc.content,m.from,p,h);if(!y){if(!(r&&g instanceof o.TextSelection&&!g.empty&&g.$head.sameParent(g.$anchor))||e.composing||m.sel&&m.sel.anchor!=m.sel.head){if(m.sel){var E=Be(e,e.state.doc,m.sel);E&&!E.eq(e.state.selection)&&e.dispatch(e.state.tr.setSelection(E))}return}y={start:g.from,endA:g.to,endB:g.to}}e.domChangeCount++,e.state.selection.from<e.state.selection.to&&y.start==y.endB&&e.state.selection instanceof o.TextSelection&&(y.start>e.state.selection.from&&y.start<=e.state.selection.from+2?y.start=e.state.selection.from:y.endA<e.state.selection.to&&y.endA>=e.state.selection.to-2&&(y.endB+=e.state.selection.to-y.endA,y.endA=e.state.selection.to)),s.ie&&s.ie_version<=11&&y.endB==y.start+1&&y.endA==y.start&&y.start>m.from&&" \xa0"==m.doc.textBetween(y.start-m.from-1,y.start-m.from+1)&&(y.start--,y.endA--,y.endB--);var C,S=m.doc.resolveNoCache(y.start-m.from),T=m.doc.resolveNoCache(y.endB-m.from),O=S.sameParent(T)&&S.parent.inlineContent;if((s.ios&&e.lastIOSEnter>Date.now()-225&&(!O||a.some((function(e){return"DIV"==e.nodeName||"P"==e.nodeName})))||!O&&S.pos<m.doc.content.size&&(C=o.Selection.findFrom(m.doc.resolve(S.pos+1),1,!0))&&C.head==T.pos)&&e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})))e.lastIOSEnter=0;else if(e.state.selection.anchor>y.start&&function(e,t,n,r,o){if(!r.parent.isTextblock||n-t<=o.pos-r.pos||Le(r,!0,!1)<o.pos)return!1;var i=e.resolve(t);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var a=e.resolve(Le(i,!0,!0));return!(!a.parent.isTextblock||a.pos>n||Le(a,!0,!1)<n)&&r.parent.content.cut(r.parentOffset).eq(a.parent.content)}(v,y.start,y.endA,S,T)&&e.someProp("handleKeyDown",(function(t){return t(e,k(8,"Backspace"))})))s.android&&s.chrome&&e.domObserver.suppressSelectionUpdates();else{s.android&&!O&&S.start()!=T.start()&&0==T.parentOffset&&S.depth==T.depth&&m.sel&&m.sel.anchor==m.sel.head&&m.sel.head==y.endA&&(y.endB-=2,T=m.doc.resolveNoCache(y.endB-m.from),setTimeout((function(){e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))}))}),20));var w,N,P,A,I=y.start,D=y.endA;if(O)if(S.pos==T.pos)s.ie&&s.ie_version<=11&&0==S.parentOffset&&(e.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Oe(e)}),20)),w=e.state.tr.delete(I,D),N=v.resolve(y.start).marksAcross(v.resolve(y.endA));else if(y.endA==y.endB&&(A=v.resolve(y.start))&&(P=function(e,t){for(var n,r,o,a=e.firstChild.marks,s=t.firstChild.marks,c=a,l=s,u=0;u<s.length;u++)c=s[u].removeFromSet(c);for(var d=0;d<a.length;d++)l=a[d].removeFromSet(l);if(1==c.length&&0==l.length)r=c[0],n="add",o=function(e){return e.mark(r.addToSet(e.marks))};else{if(0!=c.length||1!=l.length)return null;r=l[0],n="remove",o=function(e){return e.mark(r.removeFromSet(e.marks))}}for(var f=[],p=0;p<t.childCount;p++)f.push(o(t.child(p)));if(i.Fragment.from(f).eq(e))return{mark:r,type:n}}(S.parent.content.cut(S.parentOffset,T.parentOffset),A.parent.content.cut(A.parentOffset,y.endA-A.start()))))w=e.state.tr,"add"==P.type?w.addMark(I,D,P.mark):w.removeMark(I,D,P.mark);else if(S.parent.child(S.index()).isText&&S.index()==T.index()-(T.textOffset?0:1)){var R=S.parent.textBetween(S.parentOffset,T.parentOffset);if(e.someProp("handleTextInput",(function(t){return t(e,I,D,R)})))return;w=e.state.tr.insertText(R,I,D)}if(w||(w=e.state.tr.replace(I,D,m.doc.slice(y.start-m.from,y.endB-m.from))),m.sel){var M=Be(e,w.doc,m.sel);M&&!(s.chrome&&s.android&&e.composing&&M.empty&&(M.head==I||M.head==w.mapping.map(D)-1)||s.ie&&M.empty&&M.head==I)&&w.setSelection(M)}N&&w.ensureMarks(N),e.dispatch(w.scrollIntoView())}}}function Be(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Re(e,t.resolve(n.anchor),t.resolve(n.head))}function Le(e,t,n){for(var r=e.depth,o=t?e.end():e.pos;r>0&&(t||e.indexAfter(r)==e.node(r).childCount);)r--,o++,t=!1;if(n)for(var i=e.node(r).maybeChild(e.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function Fe(e,t){for(var n=[],r=t.content,o=t.openStart,a=t.openEnd;o>1&&a>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,a--;var s=r.firstChild;n.push(s.type.name,s.type.hasRequiredAttrs()?s.attrs:null),r=s.content}var c=e.someProp("clipboardSerializer")||i.DOMSerializer.fromSchema(e.state.schema),l=Je(),u=l.createElement("div");u.appendChild(c.serializeFragment(r,{document:l}));for(var d,f=u.firstChild;f&&1==f.nodeType&&(d=Ke[f.nodeName.toLowerCase()]);){for(var p=d.length-1;p>=0;p--){for(var h=l.createElement(d[p]);u.firstChild;)h.appendChild(u.firstChild);u.appendChild(h)}f=u.firstChild}return f&&1==f.nodeType&&f.setAttribute("data-pm-slice",o+" "+a+" "+JSON.stringify(n)),{dom:u,text:e.someProp("clipboardTextSerializer",(function(e){return e(t)}))||t.content.textBetween(0,t.content.size,"\n\n")}}function ze(e,t,n,r,o){var a,s,c=o.parent.type.spec.code;if(!n&&!t)return null;var l=t&&(r||c||!n);if(l){if(e.someProp("transformPastedText",(function(e){t=e(t,c||r)})),c)return new i.Slice(i.Fragment.from(e.state.schema.text(t)),0,0);var u=e.someProp("clipboardTextParser",(function(e){return e(t,o,r)}));u?s=u:(a=document.createElement("div"),t.trim().split(/(?:\r\n?|\n)+/).forEach((function(e){a.appendChild(document.createElement("p")).textContent=e})))}else e.someProp("transformPastedHTML",(function(e){n=e(n)})),a=function(e){var t=/(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));var n,r=Je().createElement("div"),o=/(?:<meta [^>]*>)*<([a-z][^>\s]+)/i.exec(e),i=0;(n=o&&Ke[o[1].toLowerCase()])&&(e=n.map((function(e){return"<"+e+">"})).join("")+e+n.map((function(e){return"</"+e+">"})).reverse().join(""),i=n.length);r.innerHTML=e;for(var a=0;a<i;a++)r=r.firstChild;return r}(n);var d=a&&a.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+) (.*)/.exec(d.getAttribute("data-pm-slice"));if(!s){var p=e.someProp("clipboardParser")||e.someProp("domParser")||i.DOMParser.fromSchema(e.state.schema);s=p.parseSlice(a,{preserveWhitespace:!(!l&&!f),context:o})}return s=f?function(e,t){if(!e.size)return e;var n,r=e.content.firstChild.type.schema;try{n=JSON.parse(t)}catch(t){return e}for(var o=e.content,a=e.openStart,s=e.openEnd,c=n.length-2;c>=0;c-=2){var l=r.nodes[n[c]];if(!l||l.hasRequiredAttrs())break;o=i.Fragment.from(l.create(n[c+1],o)),a++,s++}return new i.Slice(o,a,s)}(function(e,t,n){t<e.openStart&&(e=new i.Slice(Ve(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd));n<e.openEnd&&(e=new i.Slice(Ve(e.content,1,n,e.openEnd,0,0),e.openStart,n));return e}(s,+f[1],+f[2]),f[3]):i.Slice.maxOpen(function(e,t){if(e.childCount<2)return e;for(var n=function(n){var r=t.node(n).contentMatchAt(t.index(n)),o=void 0,a=[];if(e.forEach((function(e){if(a){var t,n=r.findWrapping(e.type);if(!n)return a=null;if(t=a.length&&o.length&&Ue(n,o,e,a[a.length-1],0))a[a.length-1]=t;else{a.length&&(a[a.length-1]=He(a[a.length-1],o.length));var i=We(e,n);a.push(i),r=r.matchType(i.type,i.attrs),o=n}}})),a)return{v:i.Fragment.from(a)}},r=t.depth;r>=0;r--){var o=n(r);if(o)return o.v}return e}(s.content,o),!1),e.someProp("transformPasted",(function(e){s=e(s)})),s}function We(e,t,n){void 0===n&&(n=0);for(var r=t.length-1;r>=n;r--)e=t[r].create(null,i.Fragment.from(e));return e}function Ue(e,t,n,r,o){if(o<e.length&&o<t.length&&e[o]==t[o]){var a=Ue(e,t,n,r.lastChild,o+1);if(a)return r.copy(r.content.replaceChild(r.childCount-1,a));if(r.contentMatchAt(r.childCount).matchType(o==e.length-1?n.type:e[o+1]))return r.copy(r.content.append(i.Fragment.from(We(n,e,o+1))))}}function He(e,t){if(0==t)return e;var n=e.content.replaceChild(e.childCount-1,He(e.lastChild,t-1)),r=e.contentMatchAt(e.childCount).fillBefore(i.Fragment.empty,!0);return e.copy(n.append(r))}function Ve(e,t,n,r,o,a){var s=t<0?e.firstChild:e.lastChild,c=s.content;return o<r-1&&(c=Ve(c,t,n,r,o+1,a)),o>=n&&(c=t<0?s.contentMatchAt(0).fillBefore(c,e.childCount>1||a<=o).append(c):c.append(s.contentMatchAt(s.childCount).fillBefore(i.Fragment.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(c))}var Ke={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},Ge=null;function Je(){return Ge||(Ge=document.implementation.createHTMLDocument("title"))}var qe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Ye=s.ie&&s.ie_version<=11,Ze=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};Ze.prototype.set=function(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset},Ze.prototype.eq=function(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset};var Xe=function(e,t){var n=this;this.view=e,this.handleDOMChange=t,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(e){for(var t=0;t<e.length;t++)n.queue.push(e[t]);s.ie&&s.ie_version<=11&&e.some((function(e){return"childList"==e.type&&e.removedNodes.length||"characterData"==e.type&&e.oldValue.length>e.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new Ze,Ye&&(this.onCharData=function(e){n.queue.push({target:e.target,type:"characterData",oldValue:e.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};Xe.prototype.flushSoon=function(){var e=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){e.flushingSoon=-1,e.flush()}),20))},Xe.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},Xe.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,qe),Ye&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},Xe.prototype.stop=function(){var e=this;if(this.observer){var t=this.observer.takeRecords();if(t.length){for(var n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout((function(){return e.flush()}),20)}this.observer.disconnect()}Ye&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},Xe.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},Xe.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},Xe.prototype.suppressSelectionUpdates=function(){var e=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return e.suppressingSelectionUpdates=!1}),50)},Xe.prototype.onSelectionChange=function(){if((!(e=this.view).editable||e.root.activeElement==e.dom)&&Me(e)){var e;if(this.suppressingSelectionUpdates)return Oe(this.view);if(s.ie&&s.ie_version<=11&&!this.view.state.selection.empty){var t=this.view.root.getSelection();if(t.focusNode&&m(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}},Xe.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},Xe.prototype.ignoreSelectionChange=function(e){if(0==e.rangeCount)return!0;var t=e.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(t);return n&&n.ignoreMutation({type:"selection",target:3==t.nodeType?t.parentNode:t})?(this.setCurSelection(),!0):void 0},Xe.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var e=this.observer?this.observer.takeRecords():[];this.queue.length&&(e=this.queue.concat(e),this.queue.length=0);var t=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(t)&&Me(this.view)&&!this.ignoreSelectionChange(t),r=-1,o=-1,i=!1,a=[];if(this.view.editable)for(var c=0;c<e.length;c++){var l=this.registerMutation(e[c],a);l&&(r=r<0?l.from:Math.min(l.from,r),o=o<0?l.to:Math.max(l.to,o),l.typeOver&&(i=!0))}if(s.gecko&&a.length>1){var u=a.filter((function(e){return"BR"==e.nodeName}));if(2==u.length){var d=u[0],f=u[1];d.parentNode&&d.parentNode.parentNode==f.parentNode?f.remove():d.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(e){if(Qe)return;Qe=!0,"normal"==getComputedStyle(e.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,a),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(t)||Oe(this.view))}},Xe.prototype.registerMutation=function(e,t){if(t.indexOf(e.target)>-1)return null;var n=this.view.docView.nearestDesc(e.target);if("attributes"==e.type&&(n==this.view.docView||"contenteditable"==e.attributeName||"style"==e.attributeName&&!e.oldValue&&!e.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(e))return null;if("childList"==e.type){var r=e.previousSibling,o=e.nextSibling;if(s.ie&&s.ie_version<=11&&e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){var a=e.addedNodes[i],c=a.previousSibling,l=a.nextSibling;(!c||Array.prototype.indexOf.call(e.addedNodes,c)<0)&&(r=c),(!l||Array.prototype.indexOf.call(e.addedNodes,l)<0)&&(o=l)}for(var u=r&&r.parentNode==e.target?p(r)+1:0,d=n.localPosFromDOM(e.target,u,-1),f=o&&o.parentNode==e.target?p(o):e.target.childNodes.length,h=0;h<e.addedNodes.length;h++)t.push(e.addedNodes[h]);return{from:d,to:n.localPosFromDOM(e.target,f,1)}}return"attributes"==e.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}};var Qe=!1;var $e={},et={};function tt(e,t){e.lastSelectionOrigin=t,e.lastSelectionTime=Date.now()}function nt(e){e.someProp("handleDOMEvents",(function(t){for(var n in t)e.eventHandlers[n]||e.dom.addEventListener(n,e.eventHandlers[n]=function(t){return rt(e,t)})}))}function rt(e,t){return e.someProp("handleDOMEvents",(function(n){var r=n[t.type];return!!r&&(r(e,t)||t.defaultPrevented)}))}function ot(e){return{left:e.clientX,top:e.clientY}}function it(e,t,n,r,o){if(-1==r)return!1;for(var i=e.state.doc.resolve(r),a=function(r){if(e.someProp(t,(function(t){return r>i.depth?t(e,n,i.nodeAfter,i.before(r),o,!0):t(e,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},s=i.depth+1;s>0;s--){var c=a(s);if(c)return c.v}return!1}function at(e,t,n){e.focused||e.focus();var r=e.state.tr.setSelection(t);"pointer"==n&&r.setMeta("pointer",!0),e.dispatch(r)}function st(e,t,n,r,i){return it(e,"handleClickOn",t,n,r)||e.someProp("handleClick",(function(n){return n(e,t,r)}))||(i?function(e,t){if(-1==t)return!1;var n,r,i=e.state.selection;i instanceof o.NodeSelection&&(n=i.node);for(var a=e.state.doc.resolve(t),s=a.depth+1;s>0;s--){var c=s>a.depth?a.nodeAfter:a.node(s);if(o.NodeSelection.isSelectable(c)){r=n&&i.$from.depth>0&&s>=i.$from.depth&&a.before(i.$from.depth+1)==i.$from.pos?a.before(i.$from.depth):a.before(s);break}}return null!=r&&(at(e,o.NodeSelection.create(e.state.doc,r),"pointer"),!0)}(e,n):function(e,t){if(-1==t)return!1;var n=e.state.doc.resolve(t),r=n.nodeAfter;return!!(r&&r.isAtom&&o.NodeSelection.isSelectable(r))&&(at(e,new o.NodeSelection(n),"pointer"),!0)}(e,n))}function ct(e,t,n,r){return it(e,"handleDoubleClickOn",t,n,r)||e.someProp("handleDoubleClick",(function(n){return n(e,t,r)}))}function lt(e,t,n,r){return it(e,"handleTripleClickOn",t,n,r)||e.someProp("handleTripleClick",(function(n){return n(e,t,r)}))||function(e,t){var n=e.state.doc;if(-1==t)return!!n.inlineContent&&(at(e,o.TextSelection.create(n,0,n.content.size),"pointer"),!0);for(var r=n.resolve(t),i=r.depth+1;i>0;i--){var a=i>r.depth?r.nodeAfter:r.node(i),s=r.before(i);if(a.inlineContent)at(e,o.TextSelection.create(n,s+1,s+1+a.content.size),"pointer");else{if(!o.NodeSelection.isSelectable(a))continue;at(e,o.NodeSelection.create(n,s),"pointer")}return!0}}(e,n)}function ut(e){return vt(e)}et.keydown=function(e,t){if(e.shiftKey=16==t.keyCode||t.shiftKey,!pt(e,t))if(e.domObserver.forceFlush(),e.lastKeyCode=t.keyCode,e.lastKeyCodeTime=Date.now(),!s.ios||13!=t.keyCode||t.ctrlKey||t.altKey||t.metaKey)e.someProp("handleKeyDown",(function(n){return n(e,t)}))||Se(e,t)?t.preventDefault():tt(e,"key");else{var n=Date.now();e.lastIOSEnter=n,e.lastIOSEnterFallbackTimeout=setTimeout((function(){e.lastIOSEnter==n&&(e.someProp("handleKeyDown",(function(t){return t(e,k(13,"Enter"))})),e.lastIOSEnter=0)}),200)}},et.keyup=function(e,t){16==t.keyCode&&(e.shiftKey=!1)},et.keypress=function(e,t){if(!(pt(e,t)||!t.charCode||t.ctrlKey&&!t.altKey||s.mac&&t.metaKey))if(e.someProp("handleKeyPress",(function(n){return n(e,t)})))t.preventDefault();else{var n=e.state.selection;if(!(n instanceof o.TextSelection&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(t.charCode);e.someProp("handleTextInput",(function(t){return t(e,n.$from.pos,n.$to.pos,r)}))||e.dispatch(e.state.tr.insertText(r).scrollIntoView()),t.preventDefault()}}};var dt=s.mac?"metaKey":"ctrlKey";$e.mousedown=function(e,t){e.shiftKey=t.shiftKey;var n=ut(e),r=Date.now(),o="singleClick";r-e.lastClick.time<500&&function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100}(t,e.lastClick)&&!t[dt]&&("singleClick"==e.lastClick.type?o="doubleClick":"doubleClick"==e.lastClick.type&&(o="tripleClick")),e.lastClick={time:r,x:t.clientX,y:t.clientY,type:o};var i=e.posAtCoords(ot(t));i&&("singleClick"==o?e.mouseDown=new ft(e,i,t,n):("doubleClick"==o?ct:lt)(e,i.pos,i.inside,t)?t.preventDefault():tt(e,"pointer"))};var ft=function(e,t,n,r){var i,a,c=this;if(this.view=e,this.startDoc=e.state.doc,this.pos=t,this.event=n,this.flushed=r,this.selectNode=n[dt],this.allowDefault=n.shiftKey,t.inside>-1)i=e.state.doc.nodeAt(t.inside),a=t.inside;else{var l=e.state.doc.resolve(t.pos);i=l.parent,a=l.depth?l.before():0}this.mightDrag=null;var u=r?null:n.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null,(i.type.spec.draggable&&!1!==i.type.spec.selectable||e.state.selection instanceof o.NodeSelection&&a==e.state.selection.from)&&(this.mightDrag={node:i,pos:a,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&s.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){return c.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),tt(e,"pointer")};function pt(e,t){return!!e.composing||!!(s.safari&&Math.abs(t.timeStamp-e.compositionEndedAt)<500)&&(e.compositionEndedAt=-2e8,!0)}ft.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},ft.prototype.up=function(e){if(this.done(),this.view.dom.contains(3==e.target.nodeType?e.target.parentNode:e.target)){var t=this.pos;this.view.state.doc!=this.startDoc&&(t=this.view.posAtCoords(ot(e))),this.allowDefault||!t?tt(this.view,"pointer"):st(this.view,t.pos,t.inside,e,this.selectNode)?e.preventDefault():this.flushed||s.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||s.chrome&&!(this.view.state.selection instanceof o.TextSelection)&&(t.pos==this.view.state.selection.from||t.pos==this.view.state.selection.to)?(at(this.view,o.Selection.near(this.view.state.doc.resolve(t.pos)),"pointer"),e.preventDefault()):tt(this.view,"pointer")}},ft.prototype.move=function(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0),tt(this.view,"pointer")},$e.touchdown=function(e){ut(e),tt(e,"pointer")},$e.contextmenu=function(e){return ut(e)};var ht=s.android?5e3:-1;function gt(e,t){clearTimeout(e.composingTimeout),t>-1&&(e.composingTimeout=setTimeout((function(){return vt(e)}),t))}function mt(e){for(e.composing=!1;e.compositionNodes.length>0;)e.compositionNodes.pop().markParentsDirty()}function vt(e,t){if(e.domObserver.forceFlush(),mt(e),t||e.docView.dirty){var n=Te(e);return n&&!n.eq(e.state.selection)?e.dispatch(e.state.tr.setSelection(n)):e.updateState(e.state),!0}return!1}et.compositionstart=et.compositionupdate=function(e){if(!e.composing){e.domObserver.flush();var t=e.state,n=t.selection.$from;if(t.selection.empty&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(e){return!1===e.type.spec.inclusive}))))e.markCursor=e.state.storedMarks||n.marks(),vt(e,!0),e.markCursor=null;else if(vt(e),s.gecko&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=e.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var a=i<0?o.lastChild:o.childNodes[i-1];if(!a)break;if(3==a.nodeType){r.collapse(a,a.nodeValue.length);break}o=a,i=-1}e.composing=!0}gt(e,ht)},et.compositionend=function(e,t){e.composing&&(e.composing=!1,e.compositionEndedAt=t.timeStamp,gt(e,20))};var bt=s.ie&&s.ie_version<15||s.ios&&s.webkit_version<604;function yt(e,t,n,r){var o=ze(e,t,n,e.shiftKey,e.state.selection.$from);if(!e.someProp("handlePaste",(function(t){return t(e,r,o||i.Slice.empty)}))&&o){var a=function(e){return 0==e.openStart&&0==e.openEnd&&1==e.content.childCount?e.content.firstChild:null}(o),s=a?e.state.tr.replaceSelectionWith(a,e.shiftKey):e.state.tr.replaceSelection(o);e.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste"))}}$e.copy=et.cut=function(e,t){var n=e.state.selection,r="cut"==t.type;if(!n.empty){var o=bt?null:t.clipboardData,i=Fe(e,n.content()),a=i.dom,s=i.text;o?(t.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",s)):function(e,t){if(e.dom.parentNode){var n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(t),e.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),e.focus()}),50)}}(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},et.paste=function(e,t){var n=bt?null:t.clipboardData,r=n&&n.getData("text/html"),o=n&&n.getData("text/plain");n&&(r||o||n.files.length)?(yt(e,o,r,t),t.preventDefault()):function(e,t){if(e.dom.parentNode){var n=e.shiftKey||e.state.selection.$from.parent.type.spec.code,r=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){e.focus(),r.parentNode&&r.parentNode.removeChild(r),n?yt(e,r.value,null,t):yt(e,r.textContent,r.innerHTML,t)}),50)}}(e,t)};var Et=function(e,t){this.slice=e,this.move=t},xt=s.mac?"altKey":"ctrlKey";for(var kt in $e.dragstart=function(e,t){var n=e.mouseDown;if(n&&n.done(),t.dataTransfer){var r=e.state.selection,i=r.empty?null:e.posAtCoords(ot(t));if(i&&i.pos>=r.from&&i.pos<=(r instanceof o.NodeSelection?r.to-1:r.to));else if(n&&n.mightDrag)e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,n.mightDrag.pos)));else if(t.target&&1==t.target.nodeType){var a=e.docView.nearestDesc(t.target,!0);if(!a||!a.node.type.spec.draggable||a==e.docView)return;e.dispatch(e.state.tr.setSelection(o.NodeSelection.create(e.state.doc,a.posBefore)))}var s=e.state.selection.content(),c=Fe(e,s),l=c.dom,u=c.text;t.dataTransfer.clearData(),t.dataTransfer.setData(bt?"Text":"text/html",l.innerHTML),bt||t.dataTransfer.setData("text/plain",u),e.dragging=new Et(s,!t[xt])}},$e.dragend=function(e){window.setTimeout((function(){return e.dragging=null}),50)},et.dragover=et.dragenter=function(e,t){return t.preventDefault()},et.drop=function(e,t){var n=e.dragging;if(e.dragging=null,t.dataTransfer){var r=e.posAtCoords(ot(t));if(r){var s=e.state.doc.resolve(r.pos);if(s){var c=n&&n.slice||ze(e,t.dataTransfer.getData(bt?"Text":"text/plain"),bt?null:t.dataTransfer.getData("text/html"),!1,s);if(e.someProp("handleDrop",(function(r){return r(e,t,c||i.Slice.empty,n&&n.move)})))t.preventDefault();else if(c){t.preventDefault();var l=c?a.dropPoint(e.state.doc,s.pos,c):s.pos;null==l&&(l=s.pos);var u=e.state.tr;n&&n.move&&u.deleteSelection();var d=u.mapping.map(l),f=0==c.openStart&&0==c.openEnd&&1==c.content.childCount,p=u.doc;if(f?u.replaceRangeWith(d,d,c.content.firstChild):u.replaceRange(d,d,c),!u.doc.eq(p)){var h=u.doc.resolve(d);f&&o.NodeSelection.isSelectable(c.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(c.content.firstChild)?u.setSelection(new o.NodeSelection(h)):u.setSelection(Re(e,h,u.doc.resolve(u.mapping.map(l)))),e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))}}}}}},$e.focus=function(e){e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout((function(){e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.root.getSelection())&&Oe(e)}),20))},$e.blur=function(e){e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),e.domObserver.currentSelection.set({}),e.focused=!1)},$e.beforeinput=function(e,t){if(s.chrome&&s.android&&"deleteContentBackward"==t.inputType){var n=e.domChangeCount;setTimeout((function(){if(e.domChangeCount==n&&(e.dom.blur(),e.focus(),!e.someProp("handleKeyDown",(function(t){return t(e,k(8,"Backspace"))})))){var t=e.state.selection.$cursor;t&&t.pos>0&&e.dispatch(e.state.tr.delete(t.pos-1,t.pos).scrollIntoView())}}),50)}},et)$e[kt]=et[kt];function Ct(e,t){if(e==t)return!0;for(var n in e)if(e[n]!==t[n])return!1;for(var r in t)if(!(r in e))return!1;return!0}var St=function(e,t){this.spec=t||At,this.side=this.spec.side||0,this.toDOM=e};St.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new wt(i-n,i-n,this)},St.prototype.valid=function(){return!0},St.prototype.eq=function(e){return this==e||e instanceof St&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ct(this.spec,e.spec))};var Tt=function(e,t){this.spec=t||At,this.attrs=e};Tt.prototype.map=function(e,t,n,r){var o=e.map(t.from+r,this.spec.inclusiveStart?-1:1)-n,i=e.map(t.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new wt(o,i,this)},Tt.prototype.valid=function(e,t){return t.from<t.to},Tt.prototype.eq=function(e){return this==e||e instanceof Tt&&Ct(this.attrs,e.attrs)&&Ct(this.spec,e.spec)},Tt.is=function(e){return e.type instanceof Tt};var Ot=function(e,t){this.spec=t||At,this.attrs=e};Ot.prototype.map=function(e,t,n,r){var o=e.mapResult(t.from+r,1);if(o.deleted)return null;var i=e.mapResult(t.to+r,-1);return i.deleted||i.pos<=o.pos?null:new wt(o.pos-n,i.pos-n,this)},Ot.prototype.valid=function(e,t){var n=e.content.findIndex(t.from),r=n.index,o=n.offset;return o==t.from&&o+e.child(r).nodeSize==t.to},Ot.prototype.eq=function(e){return this==e||e instanceof Ot&&Ct(this.attrs,e.attrs)&&Ct(this.spec,e.spec)};var wt=function(e,t,n){this.from=e,this.to=t,this.type=n},Nt={spec:{configurable:!0},inline:{configurable:!0}};wt.prototype.copy=function(e,t){return new wt(e,t,this.type)},wt.prototype.eq=function(e,t){return void 0===t&&(t=0),this.type.eq(e.type)&&this.from+t==e.from&&this.to+t==e.to},wt.prototype.map=function(e,t,n){return this.type.map(e,this,t,n)},wt.widget=function(e,t,n){return new wt(e,e,new St(t,n))},wt.inline=function(e,t,n,r){return new wt(e,t,new Tt(n,r))},wt.node=function(e,t,n,r){return new wt(e,t,new Ot(n,r))},Nt.spec.get=function(){return this.type.spec},Nt.inline.get=function(){return this.type instanceof Tt},Object.defineProperties(wt.prototype,Nt);var Pt=[],At={},It=function(e,t){this.local=e&&e.length?e:Pt,this.children=t&&t.length?t:Pt};It.create=function(e,t){return t.length?Bt(t,e,0,At):Dt},It.prototype.find=function(e,t,n){var r=[];return this.findInner(null==e?0:e,null==t?1e9:t,r,0,n),r},It.prototype.findInner=function(e,t,n,r,o){for(var i=0;i<this.local.length;i++){var a=this.local[i];a.from<=t&&a.to>=e&&(!o||o(a.spec))&&n.push(a.copy(a.from+r,a.to+r))}for(var s=0;s<this.children.length;s+=3)if(this.children[s]<t&&this.children[s+1]>e){var c=this.children[s]+1;this.children[s+2].findInner(e-c,t-c,n,r+c,o)}},It.prototype.map=function(e,t,n){return this==Dt||0==e.maps.length?this:this.mapInner(e,t,0,0,n||At)},It.prototype.mapInner=function(e,t,n,r,o){for(var i,a=0;a<this.local.length;a++){var s=this.local[a].map(e,n,r);s&&s.type.valid(t,s)?(i||(i=[])).push(s):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?function(e,t,n,r,o,i,a){for(var s=e.slice(),c=function(e,t,n,r){for(var a=0;a<s.length;a+=3){var c=s[a+1],l=void 0;-1==c||e>c+i||(t>=s[a]+i?s[a+1]=-1:n>=o&&(l=r-n-(t-e))&&(s[a]+=l,s[a+1]+=l))}},l=0;l<n.maps.length;l++)n.maps[l].forEach(c);for(var u=!1,d=0;d<s.length;d+=3)if(-1==s[d+1]){var f=n.map(s[d]+i),p=f-o;if(p<0||p>=r.content.size){u=!0;continue}var h=n.map(e[d+1]+i,-1)-o,g=r.content.findIndex(p),m=g.index,v=g.offset,b=r.maybeChild(m);if(b&&v==p&&v+b.nodeSize==h){var y=s[d+2].mapInner(n,b,f+1,s[d]+i+1,a);y!=Dt?(s[d]=p,s[d+1]=h,s[d+2]=y):(s[d+1]=-2,u=!0)}else u=!0}if(u){var E=function(e,t,n,r,o,i,a){function s(e,t){for(var i=0;i<e.local.length;i++){var c=e.local[i].map(r,o,t);c?n.push(c):a.onRemove&&a.onRemove(e.local[i].spec)}for(var l=0;l<e.children.length;l+=3)s(e.children[l+2],e.children[l]+t+1)}for(var c=0;c<e.length;c+=3)-1==e[c+1]&&s(e[c+2],t[c]+i+1);return n}(s,e,t||[],n,o,i,a),x=Bt(E,r,0,a);t=x.local;for(var k=0;k<s.length;k+=3)s[k+1]<0&&(s.splice(k,3),k-=3);for(var C=0,S=0;C<x.children.length;C+=3){for(var T=x.children[C];S<s.length&&s[S]<T;)S+=3;s.splice(S,0,x.children[C],x.children[C+1],x.children[C+2])}}return new It(t&&t.sort(Lt),s)}(this.children,i,e,t,n,r,o):i?new It(i.sort(Lt)):Dt},It.prototype.add=function(e,t){return t.length?this==Dt?It.create(e,t):this.addInner(e,t,0):this},It.prototype.addInner=function(e,t,n){var r,o=this,i=0;e.forEach((function(e,a){var s,c=a+n;if(s=_t(t,e,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<a;)i+=3;r[i]==a?r[i+2]=r[i+2].addInner(e,s,c+1):r.splice(i,0,a,a+e.nodeSize,Bt(s,e,c+1,At)),i+=3}}));var a=Mt(i?jt(t):t,-n);return new It(a.length?this.local.concat(a).sort(Lt):this.local,r||this.children)},It.prototype.remove=function(e){return 0==e.length||this==Dt?this:this.removeInner(e,0)},It.prototype.removeInner=function(e,t){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,a=n[o]+t,s=n[o+1]+t,c=0,l=void 0;c<e.length;c++)(l=e[c])&&l.from>a&&l.to<s&&(e[c]=null,(i||(i=[])).push(l));if(i){n==this.children&&(n=this.children.slice());var u=n[o+2].removeInner(i,a+1);u!=Dt?n[o+2]=u:(n.splice(o,3),o-=3)}}if(r.length)for(var d=0,f=void 0;d<e.length;d++)if(f=e[d])for(var p=0;p<r.length;p++)r[p].eq(f,t)&&(r==this.local&&(r=this.local.slice()),r.splice(p--,1));return n==this.children&&r==this.local?this:r.length||n.length?new It(r,n):Dt},It.prototype.forChild=function(e,t){if(this==Dt)return this;if(t.isLeaf)return It.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=e){this.children[o]==e&&(n=this.children[o+2]);break}for(var i=e+1,a=i+t.content.size,s=0;s<this.local.length;s++){var c=this.local[s];if(c.from<a&&c.to>i&&c.type instanceof Tt){var l=Math.max(i,c.from)-i,u=Math.min(a,c.to)-i;l<u&&(r||(r=[])).push(c.copy(l,u))}}if(r){var d=new It(r.sort(Lt));return n?new Rt([d,n]):d}return n||Dt},It.prototype.eq=function(e){if(this==e)return!0;if(!(e instanceof It)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(var t=0;t<this.local.length;t++)if(!this.local[t].eq(e.local[t]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0},It.prototype.locals=function(e){return Ft(this.localsInner(e))},It.prototype.localsInner=function(e){if(this==Dt)return Pt;if(e.inlineContent||!this.local.some(Tt.is))return this.local;for(var t=[],n=0;n<this.local.length;n++)this.local[n].type instanceof Tt||t.push(this.local[n]);return t};var Dt=new It;It.empty=Dt,It.removeOverlap=Ft;var Rt=function(e){this.members=e};function Mt(e,t){if(!t||!e.length)return e;for(var n=[],r=0;r<e.length;r++){var o=e[r];n.push(new wt(o.from+t,o.to+t,o.type))}return n}function _t(e,t,n){if(t.isLeaf)return null;for(var r=n+t.nodeSize,o=null,i=0,a=void 0;i<e.length;i++)(a=e[i])&&a.from>n&&a.to<r&&((o||(o=[])).push(a),e[i]=null);return o}function jt(e){for(var t=[],n=0;n<e.length;n++)null!=e[n]&&t.push(e[n]);return t}function Bt(e,t,n,r){var o=[],i=!1;t.forEach((function(t,a){var s=_t(e,t,a+n);if(s){i=!0;var c=Bt(s,t,n+a+1,r);c!=Dt&&o.push(a,a+t.nodeSize,c)}}));for(var a=Mt(i?jt(e):e,-n).sort(Lt),s=0;s<a.length;s++)a[s].type.valid(t,a[s])||(r.onRemove&&r.onRemove(a[s].spec),a.splice(s--,1));return a.length||o.length?new It(a,o):Dt}function Lt(e,t){return e.from-t.from||e.to-t.to}function Ft(e){for(var t=e,n=0;n<t.length-1;n++){var r=t[n];if(r.from!=r.to)for(var o=n+1;o<t.length;o++){var i=t[o];if(i.from!=r.from){i.from<r.to&&(t==e&&(t=e.slice()),t[n]=r.copy(r.from,i.from),zt(t,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(t==e&&(t=e.slice()),t[o]=i.copy(i.from,r.to),zt(t,o+1,i.copy(r.to,i.to)))}}return t}function zt(e,t,n){for(;t<e.length&&Lt(n,e[t])>0;)t++;e.splice(t,0,n)}function Wt(e){var t=[];return e.someProp("decorations",(function(n){var r=n(e.state);r&&r!=Dt&&t.push(r)})),e.cursorWrapper&&t.push(It.create(e.state.doc,[e.cursorWrapper.deco])),Rt.from(t)}Rt.prototype.forChild=function(e,t){if(t.isLeaf)return It.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(e,t);o!=Dt&&(o instanceof Rt?n=n.concat(o.members):n.push(o))}return Rt.from(n)},Rt.prototype.eq=function(e){if(!(e instanceof Rt)||e.members.length!=this.members.length)return!1;for(var t=0;t<this.members.length;t++)if(!this.members[t].eq(e.members[t]))return!1;return!0},Rt.prototype.locals=function(e){for(var t,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(e);if(o.length)if(t){n&&(t=t.slice(),n=!1);for(var i=0;i<o.length;i++)t.push(o[i])}else t=o}return t?Ft(n?t:t.sort(Lt)):Pt},Rt.from=function(e){switch(e.length){case 0:return Dt;case 1:return e[0];default:return new Rt(e)}};var Ut=function(e,t){this._props=t,this.state=t.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):e.apply?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Gt(this),this.markCursor=null,this.cursorWrapper=null,Kt(this),this.nodeViews=Jt(this),this.docView=Z(this.state.doc,Vt(this),Wt(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(e){e.shiftKey=!1,e.mouseDown=null,e.lastKeyCode=null,e.lastKeyCodeTime=0,e.lastClick={time:0,x:0,y:0,type:""},e.lastSelectionOrigin=null,e.lastSelectionTime=0,e.lastIOSEnter=0,e.lastIOSEnterFallbackTimeout=null,e.composing=!1,e.composingTimeout=null,e.compositionNodes=[],e.compositionEndedAt=-2e8,e.domObserver=new Xe(e,(function(t,n,r,o){return je(e,t,n,r,o)})),e.domObserver.start(),e.domChangeCount=0,e.eventHandlers=Object.create(null);var t=function(t){var n=$e[t];e.dom.addEventListener(t,e.eventHandlers[t]=function(t){!function(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(var n=t.target;n!=e.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}(e,t)||rt(e,t)||!e.editable&&t.type in et||n(e,t)})};for(var n in $e)t(n);s.safari&&e.dom.addEventListener("input",(function(){return null})),nt(e)}(this),this.pluginViews=[],this.updatePluginViews()},Ht={props:{configurable:!0},root:{configurable:!0}};function Vt(e){var t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(e.state)),n)for(var r in n)"class"==r?t.class+=" "+n[r]:t[r]||"contenteditable"==r||"nodeName"==r||(t[r]=String(n[r]))})),[wt.node(0,e.state.doc.content.size,t)]}function Kt(e){if(e.markCursor){var t=document.createElement("img");t.setAttribute("mark-placeholder","true"),e.cursorWrapper={dom:t,deco:wt.widget(e.state.selection.head,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function Gt(e){return!e.someProp("editable",(function(t){return!1===t(e.state)}))}function Jt(e){var t={};return e.someProp("nodeViews",(function(e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n])})),t}Ht.props.get=function(){if(this._props.state!=this.state){var e=this._props;for(var t in this._props={},e)this._props[t]=e[t];this._props.state=this.state}return this._props},Ut.prototype.update=function(e){e.handleDOMEvents!=this._props.handleDOMEvents&&nt(this),this._props=e,this.updateStateInner(e.state,!0)},Ut.prototype.setProps=function(e){var t={};for(var n in this._props)t[n]=this._props[n];for(var r in t.state=this.state,e)t[r]=e[r];this.update(t)},Ut.prototype.updateState=function(e){this.updateStateInner(e,this.state.plugins!=e.plugins)},Ut.prototype.updateStateInner=function(e,t){var n=this,r=this.state,i=!1,a=!1;if(e.storedMarks&&this.composing&&(mt(this),a=!0),this.state=e,t){var c=Jt(this);(function(e,t){var n=0,r=0;for(var o in e){if(e[o]!=t[o])return!0;n++}for(var i in t)r++;return n!=r})(c,this.nodeViews)&&(this.nodeViews=c,i=!0),nt(this)}this.editable=Gt(this),Kt(this);var l=Wt(this),u=Vt(this),d=t?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",f=i||!this.docView.matchesNode(e.doc,u,l);!f&&e.selection.eq(r.selection)||(a=!0);var p,h,g,v,b,y,E,x,k,C,S,T="preserve"==d&&a&&null==this.dom.style.overflowAnchor&&function(e){for(var t,n,r=e.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,a=o+1;a<Math.min(innerHeight,r.bottom);a+=5){var s=e.root.elementFromPoint(i,a);if(s!=e.dom&&e.dom.contains(s)){var c=s.getBoundingClientRect();if(c.top>=o-20){t=s,n=c.top;break}}}return{refDOM:t,refTop:n,stack:w(e.dom)}}(this);if(a){this.domObserver.stop();var P=f&&(s.ie||s.chrome)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&(v=r.selection,b=e.selection,y=Math.min(v.$anchor.sharedDepth(v.head),b.$anchor.sharedDepth(b.head)),v.$anchor.start(y)!=b.$anchor.start(y));if(f){var A=s.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!i&&this.docView.update(e.doc,u,l,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Z(e.doc,u,l,this.dom,this)),A&&!this.trackWrites&&(P=!0)}P||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(p=this,h=p.docView.domFromPos(p.state.selection.anchor),g=p.root.getSelection(),m(h.node,h.offset,g.anchorNode,g.anchorOffset)))?Oe(this,P):(Ie(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==d)this.dom.scrollTop=0;else if("to selection"==d){var I=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(e){return e(n)}))||(e.selection instanceof o.NodeSelection?O(this,this.docView.domAfterPos(e.selection.from).getBoundingClientRect(),I):O(this,this.coordsAtPos(e.selection.head),I))}else T&&(x=(E=T).refDOM,k=E.refTop,C=E.stack,S=x?x.getBoundingClientRect().top:0,N(C,0==S?0:S-k))},Ut.prototype.destroyPluginViews=function(){for(var e;e=this.pluginViews.pop();)e.destroy&&e.destroy()},Ut.prototype.updatePluginViews=function(e){if(e&&e.plugins==this.state.plugins)for(var t=0;t<this.pluginViews.length;t++){var n=this.pluginViews[t];n.update&&n.update(this,e)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},Ut.prototype.someProp=function(e,t){var n,r=this._props&&this._props[e];if(null!=r&&(n=t?t(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var a=o[i].props[e];if(null!=a&&(n=t?t(a):a))return n}},Ut.prototype.hasFocus=function(){return this.root.activeElement==this.dom},Ut.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(e){if(e.setActive)return e.setActive();if(P)return e.focus(P);var t=w(e);e.focus(null==P?{get preventScroll(){return P={preventScroll:!0},!0}}:void 0),P||(P=!1,N(t,0))}(this.dom),Oe(this),this.domObserver.start()},Ht.root.get=function(){var e=this._root;if(null==e)for(var t=this.dom.parentNode;t;t=t.parentNode)if(9==t.nodeType||11==t.nodeType&&t.host)return t.getSelection||(Object.getPrototypeOf(t).getSelection=function(){return document.getSelection()}),this._root=t;return e||document},Ut.prototype.posAtCoords=function(e){return R(this,e)},Ut.prototype.coordsAtPos=function(e){return _(this,e)},Ut.prototype.domAtPos=function(e){return this.docView.domFromPos(e)},Ut.prototype.nodeDOM=function(e){var t=this.docView.descAt(e);return t?t.nodeDOM:null},Ut.prototype.posAtDOM=function(e,t,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(e,t,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},Ut.prototype.endOfTextblock=function(e,t){return U(this,t||this.state,e)},Ut.prototype.destroy=function(){this.docView&&(!function(e){for(var t in e.domObserver.stop(),e.eventHandlers)e.dom.removeEventListener(t,e.eventHandlers[t]);clearTimeout(e.composingTimeout),clearTimeout(e.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Wt(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},Ut.prototype.dispatchEvent=function(e){return function(e,t){rt(e,t)||!$e[t.type]||!e.editable&&t.type in et||$e[t.type](e,t)}(this,e)},Ut.prototype.dispatch=function(e){var t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))},Object.defineProperties(Ut.prototype,Ht)})),r.register("8PQwY",(function(n,o){t(n.exports,"EventDispatcher",(function(){return c})),t(n.exports,"createDispatch",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=function(){function t(){e(i)(this,t),e(s)(this,"listeners",{})}return e(a)(t,[{key:"on",value:function(e,t){this.listeners[e]||(this.listeners[e]=new Set),this.listeners[e].add(t)}},{key:"off",value:function(e,t){this.listeners[e]&&this.listeners[e].has(t)&&this.listeners[e].delete(t)}},{key:"emit",value:function(e,t){this.listeners[e]&&this.listeners[e].forEach((function(e){return e(t)}))}},{key:"destroy",value:function(){this.listeners={}}}]),t}();function l(e){return function(t,n){if(!t)throw new Error("event name is required!");var r="string"==typeof t?t:t.key;e.emit(r,n)}}})),r.register("9J8af",(function(e,n){t(e.exports,"canMoveUp",(function(){return f})),t(e.exports,"canMoveDown",(function(){return p})),t(e.exports,"isSelectionInsideLastNodeInDocument",(function(){return h})),t(e.exports,"getCursor",(function(){return g})),t(e.exports,"isMarkTypeAllowedInCurrentSelection",(function(){return m})),t(e.exports,"checkNodeDown",(function(){return v})),t(e.exports,"toJSON",(function(){return E})),t(e.exports,"nodeToJSON",(function(){return x})),t(e.exports,"whichTransitionEvent",(function(){return k})),t(e.exports,"areBlockTypesDisabled",(function(){return C})),t(e.exports,"isTemporary",(function(){return S})),t(e.exports,"isEmptyNode",(function(){return T})),t(e.exports,"insideTable",(function(){return O})),t(e.exports,"insideTableCell",(function(){return w})),t(e.exports,"isElementInTableCell",(function(){return N})),t(e.exports,"isLastItemMediaGroup",(function(){return P})),t(e.exports,"isInLayoutColumn",(function(){return A})),t(e.exports,"isInListItem",(function(){return I})),t(e.exports,"filterChildrenBetween",(function(){return D})),t(e.exports,"dedupe",(function(){return R})),t(e.exports,"isTextSelection",(function(){return M})),t(e.exports,"compose",(function(){return _})),t(e.exports,"pipe",(function(){return j})),t(e.exports,"shallowEqual",(function(){return B})),t(e.exports,"sum",(function(){return L})),t(e.exports,"nonNullable",(function(){return F})),t(e.exports,"isEmptyParagraph",(function(){return r("l9fpM").isEmptyParagraph})),t(e.exports,"isNodeEmpty",(function(){return r("l9fpM").isNodeEmpty})),t(e.exports,"isEmptyDocument",(function(){return r("l9fpM").isEmptyDocument})),t(e.exports,"processRawValue",(function(){return r("l9fpM").processRawValue})),t(e.exports,"getStepRange",(function(){return r("l9fpM").getStepRange})),t(e.exports,"findFarthestParentNode",(function(){return r("l9fpM").findFarthestParentNode})),t(e.exports,"isSelectionEndOfParagraph",(function(){return r("l9fpM").isSelectionEndOfParagraph})),t(e.exports,"nodesBetweenChanged",(function(){return r("l9fpM").nodesBetweenChanged})),t(e.exports,"getNodesCount",(function(){return r("l9fpM").getNodesCount})),t(e.exports,"sanitiseMarksInSelection",(function(){return r("4MrvE").sanitiseMarksInSelection})),t(e.exports,"isParagraph",(function(){return r("lGsoF").isParagraph})),t(e.exports,"isText",(function(){return r("lGsoF").isText})),t(e.exports,"isLinkMark",(function(){return r("lGsoF").isLinkMark})),t(e.exports,"normaliseNestedLayout",(function(){return r("eXD27").normaliseNestedLayout})),t(e.exports,"setNodeSelection",(function(){return r("eXD27").setNodeSelection})),t(e.exports,"setTextSelection",(function(){return r("eXD27").setTextSelection})),t(e.exports,"isValidPosition",(function(){return r("eXD27").isValidPosition})),t(e.exports,"containsClassName",(function(){return r("eNOQT").containsClassName})),t(e.exports,"measurements",(function(){return r("lKo0v").default}));var o=r("l5dFf"),i=(r("jWbqG"),r("eBSbE")),a=(r("6sW8E"),r("cquxg")),s=r("kVscW"),c=r("iFBc4"),l=r("l9fpM"),u=r("69fBK"),d=r("eNOQT");l=r("l9fpM"),r("4MrvE"),r("lGsoF"),r("eXD27"),d=r("eNOQT"),r("lKo0v");r("ksxA8");r("dOLSc");function f(e){var t=e.selection,n=e.doc;if(t instanceof i.NodeSelection){if("media"===t.node.type.name){var r=n.nodeAt(t.anchor-3);return!(!r||"paragraph"!==r.type.name)}if("mediaGroup"===t.node.type.name){var o=t.$anchor.nodeBefore;return!(!o||"paragraph"!==o.type.name)}}return t instanceof i.TextSelection&&!t.empty||!u.atTheBeginningOfDoc(e)}function p(e){var t=e.selection,n=e.doc;if(t instanceof i.NodeSelection){if("media"===t.node.type.name){var r=n.nodeAt(t.$head.after());return!(!r||"paragraph"!==r.type.name)}if("mediaGroup"===t.node.type.name)return!(t.$head.parentOffset===t.$anchor.parent.content.size)}return t instanceof i.TextSelection&&!t.empty||!u.atTheEndOfDoc(e)}function h(e){var t=e.$anchor.node(0),n=e.$anchor.node(1);return t.lastChild===n}function g(e){return e.$cursor||void 0}function m(e,t){if(t.selection instanceof s.FakeTextCursorSelection)return!0;if(!function(e,t){return o.toggleMark(e)(t)}(e,t))return!1;var n=t.selection,r=n.empty,i=n.$cursor,a=n.ranges;if(r&&!i)return!1;var c=function(t){return function(e,t){return!t.type.excludes(e)&&!e.excludes(t.type)}(e,t)};return!(t.tr.storedMarks&&!t.tr.storedMarks.every(c))&&(i?i.marks().every(c):a.every((function(e){var n=e.$from,r=e.$to,o=0!==n.depth||t.doc.marks.every(c);return t.doc.nodesBetween(n.pos,r.pos,(function(e){o=o&&e.marks.every(c)})),o})))}function v(e,t,n){var r=b(t,e.$to).depth;if(0===r)return!1;var o=t.resolve(e.$to.after(r));return!!o.nodeAfter&&n(o.nodeAfter)}function b(e,t){var n=["blockquote","bulletList","orderedList"];if(1===t.depth)return t;for(var r=t.node(t.depth),o=t;t.depth>=1;)(r=(t=e.resolve(t.before(t.depth))).node(t.depth))&&-1!==n.indexOf(r.type.name)&&(o=t);return o}var y=new a.JSONTransformer;function E(e){return y.encode(e)}function x(e){return y.encodeNode(e)}function k(){var e=document.createElement("fakeelement"),t={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd"};for(var n in t)if(void 0!==e.style[n])return t[n]}function C(e){var t=function(e){var t=[];if(e.selection){var n=e.selection,r=n.$from,o=n.$to,i=e.schema.nodes,a=i.blockquote,s=i.panel,c=i.orderedList,l=i.bulletList,u=i.listItem,d=i.codeBlock,f=i.decisionItem,p=i.decisionList,h=i.taskItem,g=i.taskList;e.doc.nodesBetween(r.pos,o.pos,(function(e){e.isBlock&&[a,s,c,l,u,d,f,p,h,g].indexOf(e.type)>=0&&t.push(e.type)}))}return t}(e),n=e.schema.nodes.panel;return t.filter((function(e){return e!==n})).length>0}var S=function(e){return 0===e.indexOf("temporary:")},T=function(e){var t=e.nodes,n=t.doc,r=t.paragraph,o=t.codeBlock,i=t.blockquote,a=t.panel,s=t.heading,c=t.listItem,u=t.bulletList,d=t.orderedList,f=t.taskList,p=t.taskItem,h=t.decisionList,g=t.decisionItem,m=t.media,v=t.mediaGroup,b=t.mediaSingle;return function e(t){switch(t.type){case m:case v:case b:return!1;case r:case o:case s:case p:case g:return 0===t.content.size;case i:case a:case c:case f:case h:return 2===t.content.size&&e(t.content.firstChild);case u:case d:return 4===t.content.size&&e(t.content.firstChild);case n:var y=!0;return t.content.forEach((function(t){y=y&&e(t)})),y;default:return l.isNodeEmpty(t)}}},O=function(e){var t=e.schema.nodes,n=t.table,r=t.tableCell;return c.hasParentNodeOfType([n,r])(e.selection)},w=function(e){var t=e.schema.nodes,n=t.tableCell,r=t.tableHeader;return c.hasParentNodeOfType([n,r])(e.selection)},N=function(e){return d.closest(e,"td")||d.closest(e,"th")},P=function(e){var t=e.content;return!!t.lastChild&&"mediaGroup"===t.lastChild.type.name},A=function(e){return c.hasParentNodeOfType(e.schema.nodes.layoutSection)(e.selection)},I=function(e){return c.hasParentNodeOfType(e.schema.nodes.listItem)(e.selection)};function D(e,t,n,r){var o=[];return e.nodesBetween(t,n,(function(e,t,n){r(e,t,n)&&o.push({node:e,pos:t})})),o}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e},n=new Set;return e.forEach((function(e){return n.add(t(e))})),e.filter((function(e){var r=t(e);return!!n.has(r)&&(n.delete(r),!0)}))}var M=function(e){return e instanceof i.TextSelection};function _(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=[e].concat(n);return function(e){return o.reduceRight((function(e,t){return t(e)}),e)}}function j(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return t(e.apply(void 0,arguments))}}))}function B(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.reduce((function(n,r){return n&&e[r]===t[r]}),!0)}function L(e,t){return e.reduce((function(e,n){return e+t(n)}),0)}function F(e){return null!=e}})),r.register("l5dFf",(function(e,n){t(e.exports,"deleteSelection",(function(){return s})),t(e.exports,"selectNodeBackward",(function(){return l})),t(e.exports,"createParagraphNear",(function(){return p})),t(e.exports,"splitBlock",(function(){return h})),t(e.exports,"toggleMark",(function(){return m})),t(e.exports,"autoJoin",(function(){return v})),t(e.exports,"chainCommands",(function(){return b})),t(e.exports,"baseKeymap",(function(){return S}));var o=r("6sW8E"),i=r("jWbqG"),a=r("eBSbE");function s(e,t){return!e.selection.empty&&(t&&t(e.tr.deleteSelection().scrollIntoView()),!0)}function c(e,t,n){for(;e;e="start"==t?e.firstChild:e.lastChild){if(e.isTextblock)return!0;if(n&&1!=e.childCount)return!1}return!1}function l(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):o.parentOffset>0)return!1;i=u(o)}var s=i&&i.nodeBefore;return!(!s||!a.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)}function u(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function d(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){var n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}function f(e){for(var t=0;t<e.edgeCount;t++){var n=e.edge(t).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function p(e,t){var n=e.selection,r=n.$from,o=n.$to;if(n instanceof a.AllSelection||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=f(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(t){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,c=e.tr.insert(s,i.createAndFill());c.setSelection(a.TextSelection.create(c.doc,s+1)),t(c.scrollIntoView())}return!0}function h(e,t){var n=e.selection,r=n.$from,i=n.$to;if(e.selection instanceof a.NodeSelection&&e.selection.node.isBlock)return!(!r.parentOffset||!o.canSplit(e.doc,r.pos))&&(t&&t(e.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(t){var s=i.parentOffset==i.parent.content.size,c=e.tr;(e.selection instanceof a.TextSelection||e.selection instanceof a.AllSelection)&&c.deleteSelection();var l=0==r.depth?null:f(r.node(-1).contentMatchAt(r.indexAfter(-1))),u=s&&l?[{type:l}]:null,d=o.canSplit(c.doc,c.mapping.map(r.pos),1,u);if(u||d||!o.canSplit(c.doc,c.mapping.map(r.pos),1,l&&[{type:l}])||(u=[{type:l}],d=!0),d&&(c.split(c.mapping.map(r.pos),1,u),!s&&!r.parentOffset&&r.parent.type!=l)){var p=c.mapping.map(r.before()),h=c.doc.resolve(p);r.node(-1).canReplaceWith(h.index(),h.index()+1,l)&&c.setNodeMarkup(c.mapping.map(r.before()),l)}t(c.scrollIntoView())}return!0}function g(e,t,n){var r,s,l=t.nodeBefore,u=t.nodeAfter;if(l.type.spec.isolating||u.type.spec.isolating)return!1;if(function(e,t,n){var r=t.nodeBefore,i=t.nodeAfter,a=t.index();return!(!(r&&i&&r.type.compatibleContent(i.type))||(!r.content.size&&t.parent.canReplace(a-1,a)?(n&&n(e.tr.delete(t.pos-r.nodeSize,t.pos).scrollIntoView()),0):!t.parent.canReplace(a,a+1)||!i.isTextblock&&!o.canJoin(e.doc,t.pos)||(n&&n(e.tr.clearIncompatible(t.pos,r.type,r.contentMatchAt(r.childCount)).join(t.pos).scrollIntoView()),0)))}(e,t,n))return!0;var d=t.parent.canReplace(t.index(),t.index()+1);if(d&&(r=(s=l.contentMatchAt(l.childCount)).findWrapping(u.type))&&s.matchType(r[0]||u.type).validEnd){if(n){for(var f=t.pos+u.nodeSize,p=i.Fragment.empty,h=r.length-1;h>=0;h--)p=i.Fragment.from(r[h].create(null,p));p=i.Fragment.from(l.copy(p));var g=e.tr.step(new o.ReplaceAroundStep(t.pos-1,f,t.pos,f,new i.Slice(p,1,0),r.length,!0)),m=f+2*r.length;o.canJoin(g.doc,m)&&g.join(m),n(g.scrollIntoView())}return!0}var v=a.Selection.findFrom(t,1),b=v&&v.$from.blockRange(v.$to),y=b&&o.liftTarget(b);if(null!=y&&y>=t.depth)return n&&n(e.tr.lift(b,y).scrollIntoView()),!0;if(d&&c(u,"start",!0)&&c(l,"end")){for(var E=l,x=[];x.push(E),!E.isTextblock;)E=E.lastChild;for(var k=u,C=1;!k.isTextblock;k=k.firstChild)C++;if(E.canReplace(E.childCount,E.childCount,k.content)){if(n){for(var S=i.Fragment.empty,T=x.length-1;T>=0;T--)S=i.Fragment.from(x[T].copy(S));n(e.tr.step(new o.ReplaceAroundStep(t.pos-x.length,t.pos+u.nodeSize,t.pos+C,t.pos+u.nodeSize-C,new i.Slice(S,x.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function m(e,t){return function(n,r){var o=n.selection,i=o.empty,a=o.$cursor,s=o.ranges;if(i&&!a||!function(e,t,n){for(var r=function(r){var o=t[r],i=o.$from,a=o.$to,s=0==i.depth&&e.type.allowsMarkType(n);if(e.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(n)})),s)return{v:!0}},o=0;o<t.length;o++){var i=r(o);if(i)return i.v}return!1}(n.doc,s,e))return!1;if(r)if(a)e.isInSet(n.storedMarks||a.marks())?r(n.tr.removeStoredMark(e)):r(n.tr.addStoredMark(e.create(t)));else{for(var c=!1,l=n.tr,u=0;!c&&u<s.length;u++){var d=s[u],f=d.$from,p=d.$to;c=n.doc.rangeHasMark(f.pos,p.pos,e)}for(var h=0;h<s.length;h++){var g=s[h],m=g.$from,v=g.$to;if(c)l.removeMark(m.pos,v.pos,e);else{var b=m.pos,y=v.pos,E=m.nodeAfter,x=v.nodeBefore,k=E&&E.isText?/^\s*/.exec(E.text)[0].length:0,C=x&&x.isText?/\s*$/.exec(x.text)[0].length:0;b+k<y&&(b+=k,y-=C),l.addMark(b,y,e.create(t))}}r(l.scrollIntoView())}return!0}}function v(e,t){if(Array.isArray(t)){var n=t;t=function(e){return n.indexOf(e.type.name)>-1}}return function(n,r){return e(n,r&&function(e,t){return function(n){if(!n.isGeneric)return e(n);for(var r=[],i=0;i<n.mapping.maps.length;i++){for(var a=n.mapping.maps[i],s=0;s<r.length;s++)r[s]=a.map(r[s]);a.forEach((function(e,t,n,o){return r.push(n,o)}))}for(var c=[],l=0;l<r.length;l+=2)for(var u=r[l],d=r[l+1],f=n.doc.resolve(u),p=f.sharedDepth(d),h=f.node(p),g=f.indexAfter(p),m=f.after(p+1);m<=d;++g){var v=h.maybeChild(g);if(!v)break;if(g&&-1==c.indexOf(m)){var b=h.child(g-1);b.type==v.type&&t(b,v)&&c.push(m)}m+=v.nodeSize}c.sort((function(e,t){return e-t}));for(var y=c.length-1;y>=0;y--)o.canJoin(n.doc,c[y])&&n.join(c[y]);e(n)}}(r,t))}}function b(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return function(t,n,r){for(var o=0;o<e.length;o++)if(e[o](t,n,r))return!0;return!1}}var y=b(s,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",e):r.parentOffset>0))return!1;var i=u(r);if(!i){var s=r.blockRange(),l=s&&o.liftTarget(s);return null!=l&&(t&&t(e.tr.lift(s,l).scrollIntoView()),!0)}var d=i.nodeBefore;if(!d.type.spec.isolating&&g(e,i,t))return!0;if(0==r.parent.content.size&&(c(d,"end")||a.NodeSelection.isSelectable(d))){if(t){var f=e.tr.deleteRange(r.before(),r.after());f.setSelection(c(d,"end")?a.Selection.findFrom(f.doc.resolve(f.mapping.map(i.pos,-1)),-1):a.NodeSelection.create(f.doc,i.pos-d.nodeSize)),t(f.scrollIntoView())}return!0}return!(!d.isAtom||i.depth!=r.depth-1)&&(t&&t(e.tr.delete(i.pos-d.nodeSize,i.pos).scrollIntoView()),!0)}),l),E=b(s,(function(e,t,n){var r=e.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",e):r.parentOffset<r.parent.content.size))return!1;var o=d(r);if(!o)return!1;var i=o.nodeAfter;if(g(e,o,t))return!0;if(0==r.parent.content.size&&(c(i,"start")||a.NodeSelection.isSelectable(i))){if(t){var s=e.tr.deleteRange(r.before(),r.after());s.setSelection(c(i,"start")?a.Selection.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):a.NodeSelection.create(s.doc,s.mapping.map(o.pos))),t(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(t&&t(e.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}),(function(e,t,n){var r=e.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):o.parentOffset<o.parent.content.size)return!1;i=d(o)}var s=i&&i.nodeAfter;return!(!s||!a.NodeSelection.isSelectable(s))&&(t&&t(e.tr.setSelection(a.NodeSelection.create(e.doc,i.pos)).scrollIntoView()),!0)})),x={Enter:b((function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(t&&t(e.tr.insertText("\n").scrollIntoView()),!0)}),p,(function(e,t){var n=e.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(o.canSplit(e.doc,r))return t&&t(e.tr.split(r).scrollIntoView()),!0}var i=n.blockRange(),a=i&&o.liftTarget(i);return null!=a&&(t&&t(e.tr.lift(i,a).scrollIntoView()),!0)}),h),"Mod-Enter":function(e,t){var n=e.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),c=f(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,c))return!1;if(t){var l=r.after(),u=e.tr.replaceWith(l,l,c.createAndFill());u.setSelection(a.Selection.near(u.doc.resolve(l),1)),t(u.scrollIntoView())}return!0},Backspace:y,"Mod-Backspace":y,Delete:E,"Mod-Delete":E,"Mod-a":function(e,t){return t&&t(e.tr.setSelection(new a.AllSelection(e.doc))),!0}},k={"Ctrl-h":x.Backspace,"Alt-Backspace":x["Mod-Backspace"],"Ctrl-d":x.Delete,"Ctrl-Alt-Backspace":x["Mod-Delete"],"Alt-Delete":x["Mod-Delete"],"Alt-d":x["Mod-Delete"]};for(var C in x)k[C]=x[C];var S=("undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&"darwin"==os.platform())?k:x})),r.register("kVscW",(function(n,o){t(n.exports,"FakeTextCursorSelection",(function(){return m})),t(n.exports,"drawFakeTextCursor",(function(){return v}));var i=r("9OLyr"),a=r("89Kz4"),s=r("eP3fJ"),c=r("go2dD"),l=r("4NDMl"),u=r("l15hj"),d=r("eBSbE"),f=r("9MUi0"),p=r("jWbqG");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(s)(t);if(n){var i=e(s)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(a)(this,r)}}var g=function(){function t(n){e(c)(this,t),e(u)(this,"pos",void 0),e(u)(this,"visible",!1),this.pos=n}return e(l)(t,[{key:"map",value:function(e){return new t(e.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return d.Selection.near(t)}}]),t}(),m=function(t){e(i)(r,t);var n=h(r);function r(t){return e(c)(this,r),n.call(this,t,t)}return e(l)(r,[{key:"map",value:function(e,t){return new r(e.resolve(t.map(this.$head.pos)))}},{key:"eq",value:function(e){return e instanceof r&&e.head===this.head}},{key:"toJSON",value:function(){return{type:"Cursor",pos:this.head}}},{key:"getBookmark",value:function(){return new g(this.anchor)}}],[{key:"content",value:function(){return p.Slice.empty}},{key:"fromJSON",value:function(e,t){return new r(e.resolve(t.pos))}}]),r}(d.Selection);d.Selection.jsonID("fake-text-cursor",m);var v=function(e){if(!(e.selection instanceof m))return null;var t=document.createElement("div");return t.className="ProseMirror-fake-text-cursor",f.DecorationSet.create(e.doc,[f.Decoration.widget(e.selection.head,t,{key:"Cursor"})])}})),r.register("l9fpM",(function(n,o){t(n.exports,"isEmptyParagraph",(function(){return d})),t(n.exports,"hasVisibleContent",(function(){return f})),t(n.exports,"isNodeEmpty",(function(){return p})),t(n.exports,"isEmptyDocument",(function(){return h})),t(n.exports,"isInEmptyLine",(function(){return m})),t(n.exports,"bracketTyped",(function(){return v})),t(n.exports,"processRawValue",(function(){return b})),t(n.exports,"getStepRange",(function(){return E})),t(n.exports,"findFarthestParentNode",(function(){return x})),t(n.exports,"isSelectionEndOfParagraph",(function(){return k})),t(n.exports,"nodesBetweenChanged",(function(){return C})),t(n.exports,"getNodesCount",(function(){return S})),t(n.exports,"getChildBreakoutModes",(function(){return T}));var i=r("fw3Q6"),a=r("jWbqG"),s=r("7iICt");r("igW5C");var c=r("iVDdY"),l=r("g15pd"),u=r("dbjVR");function d(e){return!!e&&"paragraph"===e.type.name&&!e.childCount}function f(e){var t;if(e.isInline)return(t=e).isText?!!t.textContent.trim():"hardBreak"!==t.type.name;if(e.isBlock&&(e.isLeaf||e.isAtom))return!0;if(!e.childCount)return!1;for(var n=0;n<e.childCount;n++){if(f(e.child(n)))return!0}return!1}function p(e){if(e&&e.textContent)return!1;if(!e||!e.childCount||1===e.childCount&&d(e.firstChild))return!0;var t=[],n=[];return e.forEach((function(e){e.isInline?n.push(e):t.push(e)})),!n.length&&!t.filter((function(e){return!!e.childCount&&!(1===e.childCount&&d(e.firstChild))||e.isAtom})).length}function h(e){var t=e.content.firstChild;return!(1!==e.childCount||!t)&&d(t)}function g(e){return 1===e.depth}function m(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.node();return!!o&&(d(o)&&g(r))}function v(e){var t=e.selection,n=t.$cursor,r=t.$anchor;if(!n)return!1;var o=n.nodeBefore;return!!o&&("text"===o.type.name&&"{"===o.text&&(0===r.node().marks.length&&g(r)))}function b(e,t,n,r,o,i){if(t){var s;if("string"==typeof t)try{if(o)s=o.parse(t).toJSON();else s=JSON.parse(t)}catch(e){return void console.error("Error processing value: ".concat(t," isn't a valid JSON"))}else s=t;if(Array.isArray(s))console.error("Error processing value: ".concat(s," is an array, but it must be an object."));else try{if("doc"===s.type&&(Array.isArray(s.content)&&0===s.content.length&&s.content.push({type:"paragraph",content:[]}),s.version||(s.version=1)),o)return a.Node.fromJSON(e,s);var u=c.validateADFEntity(e,s,i),d=y(u,n,r),f=a.Node.fromJSON(e,d);return f.check(),i&&l.findAndTrackUnsupportedContentNodes(f,e,i),f}catch(e){return void console.error("Error processing document:\n".concat(e.message,"\n\n"),JSON.stringify(s))}}}var y=function(e,t,n){return n&&t?s.sanitizeNodeForPrivacy(e,t):e},E=function(e){var t=-1,n=-1;return e.steps.forEach((function(e){e.getMap().forEach((function(e,r,o,i){t=o<t||-1===t?o:t,n=i<n||-1===n?i:n}))})),-1!==t?{from:t,to:n}:null},x=function(e){return function(t){for(var n=null,r=t.depth;r>0;r--){var o=t.node(r);e(o)&&(n={pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:o})}return n}},k=function(e){return e.selection.$to.parent.type===e.schema.nodes.paragraph&&e.selection.$to.pos===e.doc.resolve(e.selection.$to.pos).end()};function C(e,t,n){var r=E(e);r&&e.doc.nodesBetween(r.from,r.to,t,n)}function S(e){var t={};return e.nodesBetween(0,e.nodeSize-2,(function(e){t[e.type.name]=(t[e.type.name]||0)+1})),t}function T(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["wide","full-width"],o=new Set;if("doc"===t.type.name&&t.childCount)for(var a=0;a<t.childCount&&o.size!==r.length;++a){var s=u.getBreakoutMode(t.child(a),n.marks.breakout);s&&r.includes(s)&&o.add(s)}return e(i)(o)}})),r.register("7iICt",(function(n,o){t(n.exports,"sanitizeNodeForPrivacy",(function(){return u}));var i=r("l15hj"),a=r("2zpj2");r("g8A1U");var s=r("tpWeJ");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(e,t){var n=new Map,r=!1,o=a.traverse(e,{mention:function(e){if(e.attrs&&e.attrs.text){r=!0;var t=e.attrs.text,o=t.startsWith("@")?t.slice(1):t;n.set(e.attrs.id,o)}return l(l({},e),{},{attrs:l(l({},e.attrs),{},{text:""})})}});if(r&&t){t.subscribe("mentionProvider",(function e(r,o){o&&o.then((function(r){s.isResolvingMentionProvider(r)&&(n.forEach((function(e,t){r.cacheMentionName(t,e)})),n.clear(),t.unsubscribe("mentionProvider",e))}))}))}return o}})),r.register("2zpj2",(function(n,o){t(n.exports,"traverse",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(e,t){return l(e,{node:void 0},t,0,0)}function l(e,t,n,r,o){var i=n[e.type]||n.any,a=s({},e);if(i){var c=i(s({},a),t,r,o);if(!1===c)return!1;a=c||e}return a.content&&(a.content=a.content.reduce((function(e,r,i){if(!r)return e;var s=l(r,{node:a,parent:t},n,i,o+1);return!1!==s&&e.push(s),e}),[])),a}})),r.register("g8A1U",(function(e,n){t(e.exports,"isSpecialMention",(function(){return r("5bcCK").isSpecialMention})),t(e.exports,"isResolvingMentionProvider",(function(){return r("tpWeJ").isResolvingMentionProvider})),t(e.exports,"ELEMENTS_CHANNEL",(function(){return r("gQbt4").ELEMENTS_CHANNEL})),t(e.exports,"SLI_EVENT_TYPE",(function(){return r("1OvM8").SLI_EVENT_TYPE})),t(e.exports,"SMART_EVENT_TYPE",(function(){return r("1OvM8").SMART_EVENT_TYPE})),t(e.exports,"buildSliPayload",(function(){return r("1OvM8").buildSliPayload}));r("tpWeJ"),r("5bcCK"),r("gQbt4"),r("1OvM8")})),r.register("dbjVR",(function(e,n){t(e.exports,"getParentNodeWidth",(function(){return l})),t(e.exports,"getBreakoutMode",(function(){return f}));var o=r("iFBc4");r("igW5C");var i=r("3cpVm");r("8iml0");var a=r("82cWi"),s=r("eXeuK"),c=r("ga167"),l=function(e,t,n,r){if(e){var i=u(e,t);if(i){var l=i.attrs.layout||"default",f=t.schema,p=f.marks.breakout&&f.marks.breakout.isInSet(i.marks);p&&p.attrs.mode&&(l=p.attrs.mode);var h=d(l,n,r);if(i.type===f.nodes.layoutSection&&(h+=2*a.akLayoutGutterOffset,n.width>a.gridMediumMaxWidth)){h-=(s.LAYOUT_SECTION_MARGIN+2)*(i.childCount-1);var g=t.doc.resolve(e),m=o.findParentNodeOfTypeClosestToPos(g,[t.schema.nodes.layoutColumn]);m&&m.node&&!isNaN(m.node.attrs.width)&&(h=Math.round(h*m.node.attrs.width*.01))}return i.type===f.nodes.layoutSection?h-=2*s.LAYOUT_COLUMN_PADDING:i.type===f.nodes.bodiedExtension&&(h-=2*c.BODIED_EXT_PADDING),h-=2}}},u=function(e,t){if(void 0===e)return null;var n=t.doc.resolve(e),r=o.findParentNodeOfTypeClosestToPos(n,[t.schema.nodes.bodiedExtension,t.schema.nodes.layoutSection,t.schema.nodes.expand]);return r?r.node:null},d=function(e,t,n){return n?Math.min(t.lineLength,a.akEditorFullWidthLayoutWidth):i.absoluteBreakoutWidth(e,t.width)},f=function(e,t){var n=t&&t.isInSet(e.marks);return n?n.attrs.mode:e.attrs.layout}})),r.register("eXeuK",(function(n,o){t(n.exports,"LAYOUT_SECTION_MARGIN",(function(){return g})),t(n.exports,"LAYOUT_COLUMN_PADDING",(function(){return m})),t(n.exports,"layoutStyles",(function(){return v}));var i=r("lhkMJ"),a=r("SssiD"),s=r("kFKbx"),c=r("cufhv");r("igW5C");var l=r("b9XJZ");r("8iml0");var u,d=r("82cWi"),f=r("4PSyH"),p=r("a3gyn"),h=r("c7WcO"),g=s.gridSize(),m=1.5*s.gridSize(),v=a.css(u||(u=e(i)(["\n  .ProseMirror {\n    "," [data-layout-section] {\n      margin: ","px -","px 0;\n      transition: border-color 0.3s ",";\n      cursor: pointer;\n\n      /* Inner cursor located 26px from left */\n      [data-layout-column] {\n        flex: 1;\n        min-width: 0;\n        border: ","px solid ",";\n        border-radius: 4px;\n        padding: ","px;\n        box-sizing: border-box;\n\n        > div {\n          > *:first-child {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child + * {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child + span + * {\n            margin-top: 0;\n          }\n\n          > .mediaSingleView-content-wrap:first-child .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor.-right:first-child\n            + .mediaSingleView-content-wrap\n            .rich-media-item {\n            margin-top: 0;\n          }\n\n          > .ProseMirror-gapcursor:first-child\n            + span\n            + .mediaSingleView-content-wrap\n            .rich-media-item {\n            margin-top: 0;\n          }\n\n          /* Prevent first DecisionWrapper's margin-top: 8px from shifting decisions down\n             and shrinking layout's node selectable area (leniency margin) */\n          > [data-node-type='decisionList'] {\n            li:first-of-type [data-decision-wrapper] {\n              margin-top: 0;\n            }\n          }\n        }\n\n        /* Make the 'content' fill the entire height of the layout column to allow click\n           handler of layout section nodeview to target only data-layout-column */\n        [data-layout-content] {\n          height: 100%;\n          cursor: text;\n        }\n      }\n\n      [data-layout-column] + [data-layout-column] {\n        margin-left: ","px;\n      }\n\n      @media screen and (max-width: ","px) {\n        [data-layout-column] + [data-layout-column] {\n          margin-left: 0;\n        }\n      }\n\n      /* Shows the border when cursor is inside a layout */\n      &.selected [data-layout-column],\n      &:hover [data-layout-column] {\n        border-color: ",";\n      }\n\n      &.selected.danger > [data-layout-column] {\n        background-color: ",";\n        border-color: ",";\n      }\n\n      &.",":not(.danger) {\n        [data-layout-column] {\n          ","\n        }\n      }\n    }\n  }\n\n  .fabric-editor--full-width-mode .ProseMirror {\n    [data-layout-section] {\n      ."," {\n        margin: 0 ","px;\n      }\n    }\n  }\n"])),l.columnLayoutSharedStyle,s.gridSize()-1,d.akLayoutGutterOffset,d.akEditorSwoopCubicBezier,d.akEditorSelectedBorderSize,c.N40A,m,g,d.gridMediumMaxWidth,c.N50A,d.akEditorDeleteBackground,d.akEditorDeleteBorder,d.akEditorSelectedNodeClassName,f.getSelectionStyles([f.SelectionStyle.Border,f.SelectionStyle.Blanket]),p.TableCssClassName.TABLE_CONTAINER,h.tableMarginFullWidthMode)})),r.register("kFKbx",(function(e,n){t(e.exports,"CHANNEL",(function(){return o})),t(e.exports,"DEFAULT_THEME_MODE",(function(){return i})),t(e.exports,"borderRadius",(function(){return a})),t(e.exports,"gridSize",(function(){return s})),t(e.exports,"fontSize",(function(){return c})),t(e.exports,"fontSizeSmall",(function(){return l})),t(e.exports,"fontFamily",(function(){return u})),t(e.exports,"codeFontFamily",(function(){return d})),r("aAFiG");r("lBYhg"),r("cufhv");var o="__ATLASKIT_THEME__",i="light",a=function(){return 3},s=function(){return 8},c=function(){return 14},l=function(){return 11},u=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},d=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"}})),r.register("aAFiG",(function(e,n){t(e.exports,"token",(function(){return r("lBYhg").default}));r("lBYhg")})),r.register("lBYhg",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("6fAoZ");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("6fAoZ",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("cufhv",(function(e,n){t(e.exports,"R50",(function(){return i})),t(e.exports,"R75",(function(){return a})),t(e.exports,"R100",(function(){return s})),t(e.exports,"R200",(function(){return c})),t(e.exports,"R300",(function(){return l})),t(e.exports,"R400",(function(){return u})),t(e.exports,"R500",(function(){return d})),t(e.exports,"Y50",(function(){return f})),t(e.exports,"Y75",(function(){return p})),t(e.exports,"Y100",(function(){return h})),t(e.exports,"Y200",(function(){return g})),t(e.exports,"Y300",(function(){return m})),t(e.exports,"Y400",(function(){return v})),t(e.exports,"Y500",(function(){return b})),t(e.exports,"G50",(function(){return y})),t(e.exports,"G75",(function(){return E})),t(e.exports,"G100",(function(){return x})),t(e.exports,"G200",(function(){return k})),t(e.exports,"G300",(function(){return C})),t(e.exports,"G400",(function(){return S})),t(e.exports,"G500",(function(){return T})),t(e.exports,"B50",(function(){return O})),t(e.exports,"B75",(function(){return w})),t(e.exports,"B100",(function(){return N})),t(e.exports,"B200",(function(){return P})),t(e.exports,"B300",(function(){return A})),t(e.exports,"B400",(function(){return I})),t(e.exports,"B500",(function(){return D})),t(e.exports,"P50",(function(){return R})),t(e.exports,"P75",(function(){return M})),t(e.exports,"P100",(function(){return _})),t(e.exports,"P200",(function(){return j})),t(e.exports,"P300",(function(){return B})),t(e.exports,"P400",(function(){return L})),t(e.exports,"P500",(function(){return F})),t(e.exports,"T50",(function(){return z})),t(e.exports,"T75",(function(){return W})),t(e.exports,"T100",(function(){return U})),t(e.exports,"T200",(function(){return H})),t(e.exports,"T300",(function(){return V})),t(e.exports,"T400",(function(){return K})),t(e.exports,"T500",(function(){return G})),t(e.exports,"N0",(function(){return J})),t(e.exports,"N10",(function(){return q})),t(e.exports,"N20",(function(){return Y})),t(e.exports,"N30",(function(){return Z})),t(e.exports,"N40",(function(){return X})),t(e.exports,"N50",(function(){return Q})),t(e.exports,"N60",(function(){return $})),t(e.exports,"N70",(function(){return ee})),t(e.exports,"N80",(function(){return te})),t(e.exports,"N90",(function(){return ne})),t(e.exports,"N100",(function(){return re})),t(e.exports,"N200",(function(){return oe})),t(e.exports,"N300",(function(){return ie})),t(e.exports,"N400",(function(){return ae})),t(e.exports,"N500",(function(){return se})),t(e.exports,"N600",(function(){return ce})),t(e.exports,"N700",(function(){return le})),t(e.exports,"N800",(function(){return ue})),t(e.exports,"N900",(function(){return de})),t(e.exports,"N10A",(function(){return fe})),t(e.exports,"N20A",(function(){return pe})),t(e.exports,"N30A",(function(){return he})),t(e.exports,"N40A",(function(){return ge})),t(e.exports,"N50A",(function(){return me})),t(e.exports,"N60A",(function(){return ve})),t(e.exports,"N70A",(function(){return be})),t(e.exports,"N80A",(function(){return ye})),t(e.exports,"N90A",(function(){return Ee})),t(e.exports,"N100A",(function(){return xe})),t(e.exports,"N200A",(function(){return ke})),t(e.exports,"N300A",(function(){return Ce})),t(e.exports,"N400A",(function(){return Se})),t(e.exports,"N500A",(function(){return Te})),t(e.exports,"N600A",(function(){return Oe})),t(e.exports,"N700A",(function(){return we})),t(e.exports,"N800A",(function(){return Ne})),t(e.exports,"DN900",(function(){return Pe})),t(e.exports,"DN800",(function(){return Ae})),t(e.exports,"DN700",(function(){return Ie})),t(e.exports,"DN600",(function(){return De})),t(e.exports,"DN500",(function(){return Re})),t(e.exports,"DN400",(function(){return Me})),t(e.exports,"DN300",(function(){return _e})),t(e.exports,"DN200",(function(){return je})),t(e.exports,"DN100",(function(){return Be})),t(e.exports,"DN90",(function(){return Le})),t(e.exports,"DN80",(function(){return Fe})),t(e.exports,"DN70",(function(){return ze})),t(e.exports,"DN60",(function(){return We})),t(e.exports,"DN50",(function(){return Ue})),t(e.exports,"DN40",(function(){return He})),t(e.exports,"DN30",(function(){return Ve})),t(e.exports,"DN20",(function(){return Ke})),t(e.exports,"DN10",(function(){return Ge})),t(e.exports,"DN0",(function(){return Je})),t(e.exports,"DN800A",(function(){return qe})),t(e.exports,"DN700A",(function(){return Ye})),t(e.exports,"DN600A",(function(){return Ze})),t(e.exports,"DN500A",(function(){return Xe})),t(e.exports,"DN400A",(function(){return Qe})),t(e.exports,"DN300A",(function(){return $e})),t(e.exports,"DN200A",(function(){return et})),t(e.exports,"DN100A",(function(){return tt})),t(e.exports,"DN90A",(function(){return nt})),t(e.exports,"DN80A",(function(){return rt})),t(e.exports,"DN70A",(function(){return ot})),t(e.exports,"DN60A",(function(){return it})),t(e.exports,"DN50A",(function(){return at})),t(e.exports,"DN40A",(function(){return st})),t(e.exports,"DN30A",(function(){return ct})),t(e.exports,"DN20A",(function(){return lt})),t(e.exports,"DN10A",(function(){return ut})),t(e.exports,"background",(function(){return dt})),t(e.exports,"backgroundActive",(function(){return ft})),t(e.exports,"backgroundHover",(function(){return pt})),t(e.exports,"backgroundOnLayer",(function(){return ht})),t(e.exports,"text",(function(){return gt})),t(e.exports,"textHover",(function(){return mt})),t(e.exports,"textActive",(function(){return vt})),t(e.exports,"subtleText",(function(){return bt})),t(e.exports,"placeholderText",(function(){return yt})),t(e.exports,"heading",(function(){return Et})),t(e.exports,"subtleHeading",(function(){return xt})),t(e.exports,"codeBlock",(function(){return kt})),t(e.exports,"link",(function(){return Ct})),t(e.exports,"linkHover",(function(){return St})),t(e.exports,"linkActive",(function(){return Tt})),t(e.exports,"linkOutline",(function(){return Ot})),t(e.exports,"primary",(function(){return wt})),t(e.exports,"blue",(function(){return Nt})),t(e.exports,"teal",(function(){return Pt})),t(e.exports,"purple",(function(){return At})),t(e.exports,"red",(function(){return It})),t(e.exports,"yellow",(function(){return Dt})),t(e.exports,"green",(function(){return Rt})),t(e.exports,"skeleton",(function(){return Mt}));var o=r("4Slod"),i="#FFEBE6",a="#FFBDAD",s="#FF8F73",c="#FF7452",l="#FF5630",u="#DE350B",d="#BF2600",f="#FFFAE6",p="#FFF0B3",h="#FFE380",g="#FFC400",m="#FFAB00",v="#FF991F",b="#FF8B00",y="#E3FCEF",E="#ABF5D1",x="#79F2C0",k="#57D9A3",C="#36B37E",S="#00875A",T="#006644",O="#DEEBFF",w="#B3D4FF",N="#4C9AFF",P="#2684FF",A="#0065FF",I="#0052CC",D="#0747A6",R="#EAE6FF",M="#C0B6F2",_="#998DD9",j="#8777D9",B="#6554C0",L="#5243AA",F="#403294",z="#E6FCFF",W="#B3F5FF",U="#79E2F2",H="#00C7E6",V="#00B8D9",K="#00A3BF",G="#008DA6",J="#FFFFFF",q="#FAFBFC",Y="#F4F5F7",Z="#EBECF0",X="#DFE1E6",Q="#C1C7D0",$="#B3BAC5",ee="#A5ADBA",te="#97A0AF",ne="#8993A4",re="#7A869A",oe="#6B778C",ie="#5E6C84",ae="#505F79",se="#42526E",ce="#344563",le="#253858",ue="#172B4D",de="#091E42",fe="rgba(9, 30, 66, 0.02)",pe="rgba(9, 30, 66, 0.04)",he="rgba(9, 30, 66, 0.08)",ge="rgba(9, 30, 66, 0.13)",me="rgba(9, 30, 66, 0.25)",ve="rgba(9, 30, 66, 0.31)",be="rgba(9, 30, 66, 0.36)",ye="rgba(9, 30, 66, 0.42)",Ee="rgba(9, 30, 66, 0.48)",xe="rgba(9, 30, 66, 0.54)",ke="rgba(9, 30, 66, 0.60)",Ce="rgba(9, 30, 66, 0.66)",Se="rgba(9, 30, 66, 0.71)",Te="rgba(9, 30, 66, 0.77)",Oe="rgba(9, 30, 66, 0.82)",we="rgba(9, 30, 66, 0.89)",Ne="rgba(9, 30, 66, 0.95)",Pe="#E6EDFA",Ae="#DCE5F5",Ie="#CED9EB",De="#B8C7E0",Re="#ABBBD6",Me="#9FB0CC",_e="#8C9CB8",je="#7988A3",Be="#67758F",Le="#56637A",Fe="#455166",ze="#3B475C",We="#313D52",Ue="#283447",He="#202B3D",Ve="#1B2638",Ke="#121A29",Ge="#0E1624",Je="#0D1424",qe="rgba(13, 20, 36, 0.06)",Ye="rgba(13, 20, 36, 0.14)",Ze="rgba(13, 20, 36, 0.18)",Xe="rgba(13, 20, 36, 0.29)",Qe="rgba(13, 20, 36, 0.36)",$e="rgba(13, 20, 36, 0.40)",et="rgba(13, 20, 36, 0.47)",tt="rgba(13, 20, 36, 0.53)",nt="rgba(13, 20, 36, 0.63)",rt="rgba(13, 20, 36, 0.73)",ot="rgba(13, 20, 36, 0.78)",it="rgba(13, 20, 36, 0.81)",at="rgba(13, 20, 36, 0.85)",st="rgba(13, 20, 36, 0.89)",ct="rgba(13, 20, 36, 0.92)",lt="rgba(13, 20, 36, 0.95)",ut="rgba(13, 20, 36, 0.97)",dt=o.default({light:J,dark:Ve}),ft=o.default({light:O,dark:w}),pt=o.default({light:Z,dark:ze}),ht=o.default({light:J,dark:Ue}),gt=o.default({light:de,dark:De}),mt=o.default({light:ue,dark:De}),vt=o.default({light:I,dark:I}),bt=o.default({light:oe,dark:_e}),yt=o.default({light:re,dark:je}),Et=o.default({light:ue,dark:De}),xt=o.default({light:oe,dark:_e}),kt=o.default({light:Y,dark:Ue}),Ct=o.default({light:I,dark:N}),St=o.default({light:A,dark:P}),Tt=o.default({light:D,dark:N}),Ot=o.default({light:N,dark:P}),wt=o.default({light:I,dark:N}),Nt=o.default({light:I,dark:N}),Pt=o.default({light:V,dark:H}),At=o.default({light:B,dark:_}),It=o.default({light:l,dark:l}),Dt=o.default({light:m,dark:m}),Rt=o.default({light:C,dark:C}),Mt=function(){return pe}})),r.register("4Slod",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1qGHX");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("1qGHX",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("a3gyn",(function(n,o){t(n.exports,"RESIZE_HANDLE_AREA_DECORATION_GAP",(function(){return f})),t(n.exports,"TableDecorations",(function(){return u})),t(n.exports,"TableCssClassName",(function(){return g})),t(n.exports,"ShadowEvent",(function(){return p}));var i=r("l15hj"),a=r("ekJGA");r("igW5C");var s=r("jPV1L");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u,d,f=30;(d=u||(u={})).ALL_CONTROLS_HOVER="CONTROLS_HOVER",d.ROW_CONTROLS_HOVER="ROW_CONTROLS_HOVER",d.COLUMN_CONTROLS_HOVER="COLUMN_CONTROLS_HOVER",d.TABLE_CONTROLS_HOVER="TABLE_CONTROLS_HOVER",d.CELL_CONTROLS_HOVER="CELL_CONTROLS_HOVER",d.COLUMN_CONTROLS_DECORATIONS="COLUMN_CONTROLS_DECORATIONS",d.COLUMN_SELECTED="COLUMN_SELECTED",d.COLUMN_RESIZING_HANDLE="COLUMN_RESIZING_HANDLE",d.COLUMN_RESIZING_HANDLE_LINE="COLUMN_RESIZING_HANDLE_LINE",d.LAST_CELL_ELEMENT="LAST_CELL_ELEMENT";var p,h,g=l(l({},s.TableSharedCssClassName),{},{COLUMN_CONTROLS:"".concat(a.tablePrefixSelector,"-column-controls"),COLUMN_CONTROLS_DECORATIONS:"".concat(a.tablePrefixSelector,"-column-controls-decoration"),COLUMN_SELECTED:"".concat(a.tablePrefixSelector,"-column__selected"),ROW_CONTROLS_WRAPPER:"".concat(a.tablePrefixSelector,"-row-controls-wrapper"),ROW_CONTROLS:"".concat(a.tablePrefixSelector,"-row-controls"),ROW_CONTROLS_INNER:"".concat(a.tablePrefixSelector,"-row-controls__inner"),ROW_CONTROLS_BUTTON_WRAP:"".concat(a.tablePrefixSelector,"-row-controls__button-wrap"),ROW_CONTROLS_BUTTON:"".concat(a.tablePrefixSelector,"-row-controls__button"),CONTROLS_BUTTON:"".concat(a.tablePrefixSelector,"-controls__button"),CONTROLS_BUTTON_ICON:"".concat(a.tablePrefixSelector,"-controls__button-icon"),CONTROLS_INSERT_BUTTON:"".concat(a.tablePrefixSelector,"-controls__insert-button"),CONTROLS_INSERT_BUTTON_INNER:"".concat(a.tablePrefixSelector,"-controls__insert-button-inner"),CONTROLS_INSERT_BUTTON_WRAP:"".concat(a.tablePrefixSelector,"-controls__insert-button-wrap"),CONTROLS_INSERT_LINE:"".concat(a.tablePrefixSelector,"-controls__insert-line"),CONTROLS_BUTTON_OVERLAY:"".concat(a.tablePrefixSelector,"-controls__button-overlay"),LAYOUT_BUTTON:"".concat(a.tablePrefixSelector,"-layout-button"),CONTROLS_INSERT_MARKER:"".concat(a.tablePrefixSelector,"-controls__insert-marker"),CONTROLS_INSERT_COLUMN:"".concat(a.tablePrefixSelector,"-controls__insert-column"),CONTROLS_INSERT_ROW:"".concat(a.tablePrefixSelector,"-controls__insert-row"),CONTROLS_DELETE_BUTTON_WRAP:"".concat(a.tablePrefixSelector,"-controls__delete-button-wrap"),CONTROLS_DELETE_BUTTON:"".concat(a.tablePrefixSelector,"-controls__delete-button"),CONTROLS_FLOATING_BUTTON_COLUMN:"".concat(a.tablePrefixSelector,"-controls-floating__button-column"),CONTROLS_FLOATING_BUTTON_ROW:"".concat(a.tablePrefixSelector,"-controls-floating__button-row"),CORNER_CONTROLS:"".concat(a.tablePrefixSelector,"-corner-controls"),CORNER_CONTROLS_INSERT_ROW_MARKER:"".concat(a.tablePrefixSelector,"-corner-controls__insert-row-marker"),CORNER_CONTROLS_INSERT_COLUMN_MARKER:"".concat(a.tablePrefixSelector,"-corner-controls__insert-column-marker"),CONTROLS_CORNER_BUTTON:"".concat(a.tablePrefixSelector,"-corner-button"),NUMBERED_COLUMN:"".concat(a.tablePrefixSelector,"-numbered-column"),NUMBERED_COLUMN_BUTTON:"".concat(a.tablePrefixSelector,"-numbered-column__button"),HOVERED_COLUMN:"".concat(a.tablePrefixSelector,"-hovered-column"),HOVERED_ROW:"".concat(a.tablePrefixSelector,"-hovered-row"),HOVERED_TABLE:"".concat(a.tablePrefixSelector,"-hovered-table"),HOVERED_CELL:"".concat(a.tablePrefixSelector,"-hovered-cell"),HOVERED_CELL_IN_DANGER:"danger",HOVERED_CELL_ACTIVE:"active",HOVERED_CELL_WARNING:"".concat(a.tablePrefixSelector,"-hovered-cell__warning"),HOVERED_DELETE_BUTTON:"".concat(a.tablePrefixSelector,"-hovered-delete-button"),WITH_CONTROLS:"".concat(a.tablePrefixSelector,"-with-controls"),RESIZING_PLUGIN:"".concat(a.tablePrefixSelector,"-resizing-plugin"),RESIZE_CURSOR:"".concat(a.tablePrefixSelector,"-resize-cursor"),IS_RESIZING:"".concat(a.tablePrefixSelector,"-is-resizing"),RESIZE_HANDLE:"".concat(a.tablePrefixSelector,"-resize-handle"),RESIZE_HANDLE_DECORATION:"".concat(a.tablePrefixSelector,"-resize-decoration"),CONTEXTUAL_SUBMENU:"".concat(a.tablePrefixSelector,"-contextual-submenu"),CONTEXTUAL_MENU_BUTTON_WRAP:"".concat(a.tablePrefixSelector,"-contextual-menu-button-wrap"),CONTEXTUAL_MENU_BUTTON:"".concat(a.tablePrefixSelector,"-contextual-menu-button"),CONTEXTUAL_MENU_ICON:"".concat(a.tablePrefixSelector,"-contextual-submenu-icon"),SELECTED_CELL:"selectedCell",NODEVIEW_WRAPPER:"tableView-content-wrap",TABLE_SELECTED:"".concat(a.tablePrefixSelector,"-table__selected"),TABLE_CELL:a.tableCellSelector,TABLE_HEADER_CELL:a.tableHeaderSelector,TABLE_STICKY:"".concat(a.tablePrefixSelector,"-sticky"),TOP_LEFT_CELL:"table > tbody > tr:nth-child(2) > td:nth-child(1)",LAST_ITEM_IN_CELL:"".concat(a.tablePrefixSelector,"-last-item-in-cell"),WITH_RESIZE_LINE:"".concat(a.tablePrefixSelector,"-column-resize-line")});(h=p||(p={})).SHOW_BEFORE_SHADOW="showBeforeShadow",h.SHOW_AFTER_SHADOW="showAfterShadow"})),r.register("c7WcO",(function(e,n){t(e.exports,"tableCellBackgroundColor",(function(){return l})),t(e.exports,"tableToolbarColor",(function(){return u})),t(e.exports,"tableTextColor",(function(){return d})),t(e.exports,"tableBorderColor",(function(){return f})),t(e.exports,"tableCellSelectedColor",(function(){return p})),t(e.exports,"tableToolbarSelectedColor",(function(){return h})),t(e.exports,"tableBorderSelectedColor",(function(){return g})),t(e.exports,"tableCellDeleteColor",(function(){return m})),t(e.exports,"tableBorderDeleteColor",(function(){return v})),t(e.exports,"tableToolbarDeleteColor",(function(){return b})),t(e.exports,"tableBorderRadiusSize",(function(){return y})),t(e.exports,"tablePadding",(function(){return E})),t(e.exports,"tableScrollbarOffset",(function(){return x})),t(e.exports,"tableMarginFullWidthMode",(function(){return k})),t(e.exports,"tableInsertColumnButtonSize",(function(){return C})),t(e.exports,"tableDeleteButtonSize",(function(){return S})),t(e.exports,"tableDeleteButtonOffset",(function(){return T})),t(e.exports,"tableToolbarSize",(function(){return O})),t(e.exports,"tableControlsSpacing",(function(){return w})),t(e.exports,"tableInsertColumnButtonOffset",(function(){return N})),t(e.exports,"lineMarkerOffsetFromColumnControls",(function(){return P})),t(e.exports,"lineMarkerSize",(function(){return A})),t(e.exports,"columnControlsDecorationHeight",(function(){return I})),t(e.exports,"columnControlsZIndex",(function(){return D})),t(e.exports,"columnControlsSelectedZIndex",(function(){return R})),t(e.exports,"resizeHandlerAreaWidth",(function(){return M})),t(e.exports,"resizeLineWidth",(function(){return _})),t(e.exports,"resizeHandlerZIndex",(function(){return j})),t(e.exports,"contextualMenuTriggerSize",(function(){return B})),t(e.exports,"contextualMenuDropdownWidth",(function(){return L})),t(e.exports,"stickyRowZIndex",(function(){return F})),t(e.exports,"stickyRowOffsetTop",(function(){return z})),t(e.exports,"stickyHeaderBorderBottomWidth",(function(){return W}));var o=r("cufhv");r("igW5C");var i=r("jPV1L");r("8iml0");var a=r("82cWi"),s=r("a3gyn");r("cPjBT");var c=r("4Slod"),l=c.default({light:o.N0,dark:o.DN30}),u=c.default({light:a.akEditorTableToolbar,dark:a.akEditorTableToolbarDark}),d=c.default({light:o.N200,dark:o.DN400}),f=c.default({light:a.akEditorTableBorder,dark:a.akEditorTableBorderDark}),p=(o.N20,o.B75),h=o.B100,g=o.B300,m=o.R50,v=o.R300,b=o.R75,y=3,E=8,x=15,k=2,C=20,S=16,T=6,O=a.akEditorTableToolbarSize,w=i.tableMarginTop+E-i.tableCellBorderWidth,N=3,P=13,A=4,I=25,D=10*a.akEditorUnitZIndex,R=D+1,M=s.RESIZE_HANDLE_AREA_DECORATION_GAP/3,_=2,j=D+a.akRichMediaResizeZIndex,B=16,L=180,F=j+2,z=8,W=1})),r.register("cPjBT",(function(e,n){t(e.exports,"themed",(function(){return r("4Slod").default})),t(e.exports,"default",(function(){return r("7d0Hx").default})),t(e.exports,"useGlobalTheme",(function(){return r("7d0Hx").useGlobalTheme})),t(e.exports,"createTheme",(function(){return r("foG8Z").createTheme}));r("4Slod"),r("7d0Hx"),r("foG8Z")})),r.register("7d0Hx",(function(e,n){t(e.exports,"useGlobalTheme",(function(){return c})),t(e.exports,"default",(function(){return l}));var o=r("foG8Z").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=o.useTheme,c=function(){return s()},l={Provider:i,Consumer:a}})),r.register("foG8Z",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("ga167",(function(n,o){t(n.exports,"padding",(function(){return m})),t(n.exports,"BODIED_EXT_PADDING",(function(){return v})),t(n.exports,"Wrapper",(function(){return b})),t(n.exports,"Overlay",(function(){return y})),t(n.exports,"PlaceholderFallback",(function(){return E})),t(n.exports,"PlaceholderFallbackParams",(function(){return x})),t(n.exports,"StyledImage",(function(){return k}));var i=r("lhkMJ"),a=r("SssiD"),s=r("kFKbx");r("cPjBT");var c=r("4Slod"),l=(s=r("kFKbx"),r("cufhv"));r("8iml0");var u,d,f,p,h,g=r("82cWi"),m=s.gridSize(),v=2*m,b=a.default.div(u||(u=e(i)(["\n  background: ",";\n  border-radius: ","px;\n  color: ",";\n  position: relative;\n  vertical-align: middle;\n  font-size: ",";\n\n  .ProseMirror-selectednode > span > & > .extension-overlay {\n    box-shadow: inset 0px 0px 0px 2px ",";\n    opacity: 1;\n  }\n\n  &.with-overlay {\n    .extension-overlay {\n      background: ",";\n      color: transparent;\n    }\n\n    &:hover .extension-overlay {\n      opacity: 1;\n    }\n  }\n"])),c.default({light:l.N20,dark:l.DN50}),s.borderRadius(),c.default({dark:l.DN700}),g.relativeFontSizeToBase16(s.fontSize()),l.B200,l.N20A),y=a.default.div(d||(d=e(i)(["\n  border-radius: ","px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  opacity: 0;\n  pointer-events: none;\n  transition: opacity 0.3s;\n"])),s.borderRadius()),E=a.default.div(f||(f=e(i)(["\n  display: inline-flex;\n  align-items: center;\n\n  & > img {\n    margin: 0 4px;\n  }\n"]))),x=a.default.span(p||(p=e(i)(["\n  display: inline-block;\n  max-width: 200px;\n  margin-left: 5px;\n  color: ",";\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  overflow: hidden;\n"])),l.N70),k=a.default.img(h||(h=e(i)(["\n  max-height: 16px;\n  max-width: 16px;\n"])))})),r.register("69fBK",(function(e,n){t(e.exports,"atTheEndOfDoc",(function(){return a})),t(e.exports,"atTheBeginningOfDoc",(function(){return s})),t(e.exports,"atTheEndOfBlock",(function(){return c})),t(e.exports,"endPositionOfParent",(function(){return d})),t(e.exports,"atTheBeginningOfBlock",(function(){return l})),t(e.exports,"startPositionOfParent",(function(){return u}));var o=r("eBSbE"),i=r("1wUBP");function a(e){var t=e.selection;return e.doc.nodeSize-t.$to.pos-2===t.$to.depth}function s(e){var t=e.selection;return t.$from.pos===t.$from.depth}function c(e){var t=e.selection,n=t.$to;return!(t instanceof i.GapCursorSelection)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||d(n)===n.pos+1)}function l(e){var t=e.selection,n=t.$from;return!(t instanceof i.GapCursorSelection)&&(!!(t instanceof o.NodeSelection&&t.node.isBlock)||u(n)===n.pos)}function u(e){return e.start(e.depth)}function d(e){return e.end(e.depth)+1}})),r.register("1wUBP",(function(n,o){t(n.exports,"Side",(function(){return i})),t(n.exports,"JSON_ID",(function(){return b})),t(n.exports,"GapCursorSelection",(function(){return y}));var i,a,s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("eBSbE"),g=r("jWbqG"),m=r("6n9Wo");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}(a=i||(i={})).LEFT="left",a.RIGHT="right";var b="gapcursor",y=function(t){e(u)(r,t);var n=v(r);function r(t){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.LEFT;return e(s)(this,r),o=n.call(this,t,t),e(p)(e(l)(o),"visible",!1),o.side=a,o}return e(c)(r,[{key:"map",value:function(e,t){var n=e.resolve(t.map(this.head));return r.valid(n)?new r(n,this.side):h.Selection.near(n)}},{key:"eq",value:function(e){return e instanceof r&&e.head===this.head}},{key:"content",value:function(){return g.Slice.empty}},{key:"getBookmark",value:function(){return new E(this.anchor)}},{key:"toJSON",value:function(){return{pos:this.head,type:b,side:this.side}}}],[{key:"valid",value:function(e){var t=e.parent,n=e.nodeBefore,r=e.nodeAfter;if(!(m.isValidTargetNode(n)?n:m.isValidTargetNode(r)?r:null)||t.isTextblock)return!1;var o=t.contentMatchAt(e.index()).defaultType;return o&&o.isTextblock}},{key:"findFrom",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=1===t?i.RIGHT:i.LEFT;if(!n&&r.valid(e))return new r(e,o);for(var a=e.pos,s=null,c=e.depth;;c--){var l=e.node(c);if(o===i.RIGHT?e.indexAfter(c)<l.childCount:e.index(c)>0){s=l.maybeChild(o===i.RIGHT?e.indexAfter(c):e.index(c)-1);break}if(0===c)return null;a+=t;var u=e.doc.resolve(a);if(r.valid(u))return new r(u,o)}for(;null!==(s=o===i.RIGHT?s.firstChild:s.lastChild);){a+=t;var d=e.doc.resolve(a);if(r.valid(d))return new r(d,o)}return null}},{key:"fromJSON",value:function(e,t){return new r(e.resolve(t.pos),t.side)}}]),r}(h.Selection);h.Selection.jsonID(b,y);var E=function(){function t(n){e(s)(this,t),this.pos=n}return e(c)(t,[{key:"map",value:function(e){return new t(e.map(this.pos))}},{key:"resolve",value:function(e){var t=e.resolve(this.pos);return y.valid(t)?new y(t):h.Selection.near(t)}}]),t}()})),r.register("6n9Wo",(function(e,n){t(e.exports,"isValidTargetNode",(function(){return i}));var o=r("l3YLZ"),i=function(e){return!!e&&!o.isIgnored(e)}})),r.register("l3YLZ",(function(e,n){t(e.exports,"isIgnored",(function(){return o}));var r=["paragraph","bulletList","orderedList","listItem","taskItem","decisionItem","heading","blockquote","layoutColumn","caption","media"],o=function(e){return!!e&&-1!==r.indexOf(e.type.name)}})),r.register("eNOQT",(function(e,n){function r(e,t){for(var n=e;n&&n.parentElement&&!t(n);)n=n.parentElement;return n}function o(e,t){var n=document.createDocumentFragment();Array.from(t.children).forEach((function(e){n.appendChild(e)})),e.replaceChild(n,t)}function i(e){for(;e.parentElement&&0===e.childElementCount&&""===e.textContent;){var t=e.parentElement;t.removeChild(e),e=t}}t(e.exports,"walkUpTreeUntil",(function(){return r})),t(e.exports,"unwrap",(function(){return o})),t(e.exports,"removeNestedEmptyEls",(function(){return i})),t(e.exports,"containsClassName",(function(){return a})),t(e.exports,"closest",(function(){return s})),t(e.exports,"closestElement",(function(){return c})),t(e.exports,"parsePx",(function(){return l})),t(e.exports,"maphElem",(function(){return u}));var a=function(e,t){return!!e&&(e.classList&&e.classList.contains?e.classList.contains(t):!!e.className&&-1!==("string"==typeof e.className.baseVal?e.className.baseVal:e.className).split(" ").indexOf(t))};function s(e,t){if(!e)return null;var n=e;if(!document.documentElement||!document.documentElement.contains(n))return null;if(n.closest)return n.closest(t);do{var r=n.matches?n.matches:n.msMatchesSelector;if(r&&r.call(n,t))return n;n=n.parentElement||n.parentNode}while(null!==n&&1===n.nodeType);return null}function c(e,t){return s(e,t)}function l(e){if(e.endsWith("px")){var t=parseInt(e,10);return Number.isNaN(t)?void 0:t}}function u(e,t){return function(e,t){for(var n=[],r=0;r<e.childElementCount;r++)n.push(t(e.children[r],r,e));return n}(e,t)}})),r.register("4MrvE",(function(n,o){t(n.exports,"isMarkAllowedInRange",(function(){return a})),t(n.exports,"isMarkExcluded",(function(){return s})),t(n.exports,"removeBlockMarks",(function(){return c})),t(n.exports,"sanitiseMarksInSelection",(function(){return l}));var i=r("EwJf3"),a=function(t,n,r){for(var o=function(e){var o=n[e],i=o.$from,a=o.$to,s=0===i.depth&&t.type.allowsMarkType(r);if(t.nodesBetween(i.pos,a.pos,(function(e){if(s)return!1;s=e.inlineContent&&e.type.allowsMarkType(r)})),s)return{v:s}},a=0;a<n.length;a++){var s=o(a);if("object"===e(i)(s))return s.v}return!1},s=function(e,t){return!!t&&t.some((function(t){return t.type!==e&&t.type.excludes(e)}))},c=function(e,t){var n=e.selection,r=e.schema,o=e.tr,i=t.filter(Boolean);if(0!==i.length){var a=!1,s=function(e){return i.indexOf(e.type)>-1};return e.doc.nodesBetween(n.from,n.to,(function(t,n){if(t.type===r.nodes.paragraph&&t.marks.some(s)){a=!0;var i=e.doc.resolve(n),c=t.marks.filter((l=s,function(e){return!l(e)}));o=o.setNodeMarkup(i.pos,void 0,t.attrs,c)}var l})),a?o:void 0}},l=function(e,t){var n=e.selection,r=n.from,o=n.to,i=[];return e.doc.nodesBetween(r,o,(function(n,a,s){return!n.isText&&(!(!["expand","layoutSection"].includes(n.type.name)||!(a<r||a>o))||void n.marks.forEach((function(r){if(!s.type.allowsMarkType(r.type)||t&&!t.allowsMarkType(r.type)){var o=n.marks.filter((function(e){return e.type!==r.type})),c=a>0?a:0,l=n.marks.filter((function(e){return e.type===r.type}));i.push({node:n,marksRemoved:l}),e.setNodeMarkup(c,void 0,n.attrs,o)}})))})),i}})),r.register("lGsoF",(function(e,n){t(e.exports,"findChangedNodesFromTransaction",(function(){return i})),t(e.exports,"validNode",(function(){return a})),t(e.exports,"validateNodes",(function(){return s})),t(e.exports,"isParagraph",(function(){return l})),t(e.exports,"isText",(function(){return u})),t(e.exports,"isLinkMark",(function(){return d})),t(e.exports,"SelectedState",(function(){return r})),t(e.exports,"isNodeSelectedOrInRange",(function(){return f})),t(e.exports,"isSupportedInParent",(function(){return p}));var r,o,i=function(e){var t=[];return(e.steps||[]).forEach((function(n){for(var r=n.to,o=n.from,i=n.slice,a=i&&i.content?i.content.size:0,s=o;s<=r+a;s++)s<=e.doc.content.size&&function(){var n=e.doc.resolve(s).node(1);n&&!t.find((function(e){return e===n}))&&t.push(n)}()})),t},a=function(e){try{e.check()}catch(e){return!1}return!0},s=function(e){return e.every(a)},c=function(e,t){return t&&e&&e.type===t},l=function(e,t){return c(e,t.nodes.paragraph)},u=function(e,t){return c(e,t.nodes.text)},d=function(e,t){return c(e,t.marks.link)};(o=r||(r={}))[o.selectedInRange=0]="selectedInRange",o[o.selectedInside=1]="selectedInside";var f=function(e,t,n,o){var i=Math.min(e,t),a=Math.max(e,t),s=n,c=n+o;return e===t?null:i<=s&&c<a||i<s&&c<=a?r.selectedInRange:s<=e&&t<=c?r.selectedInside:null},p=function(e,t,n){var r="embed"===n||"block"===n?void 0:-1,o=e.selection.$from.node(r);return o&&o.type.validContent(t)}})),r.register("eXD27",(function(n,o){t(n.exports,"setNodeSelection",(function(){return f})),t(n.exports,"setTextSelection",(function(){return p})),t(n.exports,"normaliseNestedLayout",(function(){return h})),t(n.exports,"isChromeWithSelectionBug",(function(){return g})),t(n.exports,"isSelectionAtStartOfNode",(function(){return m})),t(n.exports,"isSelectionAtEndOfNode",(function(){return v})),t(n.exports,"isValidPosition",(function(){return b})),t(n.exports,"duplicateSelection",(function(){return y}));var i=r("l15hj"),a=r("bKnyF"),s=r("eBSbE");r("igW5C");var c=r("4W5Y2"),l=r("1wUBP");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(e,t){var n=e.state,r=e.dispatch;isFinite(t)&&r(n.tr.setSelection(s.NodeSelection.create(n.doc,t)))};function p(e,t,n){var r=e.state;(0,e.dispatch)(r.tr.setSelection(s.TextSelection.create(r.doc,t,n)))}var h=function(e,t){if(e.selection.$from.depth>1){if(t.attrs.layout&&"default"!==t.attrs.layout)return t.type.createChecked(d(d({},t.attrs),{},{layout:"default"}),t.content,t.marks);var n=e.schema.marks.breakout;if(n&&n.isInSet(t.marks)){var r=n.removeFromSet(t.marks);return t.type.createChecked(t.attrs,t.content,r)}}return t},g=c.default.chrome&&!c.default.android&&c.default.chrome_version>=58,m=function(e,t){if(!t)return!1;for(var n=e.depth+1;n>0;n--){var r=e.node(n);if(r&&r.eq(t.node))break;if(n>1&&e.before(n)!==e.before(n-1)+1)return!1}return!0},v=function(e,t){if(!t)return!1;for(var n=e.depth+1;n>0;n--){var r=e.node(n);if(r&&r.eq(t.node))break;if(n>1&&e.after(n)!==e.after(n-1)-1)return!1}return!0},b=function(e,t){return e>=0&&e<=t.doc.resolve(0).end()},y=function(e,t){return e instanceof s.NodeSelection?s.NodeSelection.create(t,e.from):e instanceof s.TextSelection?s.TextSelection.create(t,e.from,e.to):e instanceof l.GapCursorSelection?new l.GapCursorSelection(t.resolve(e.from),e.side):e instanceof a.CellSelection?new a.CellSelection(t.resolve(e.$anchorCell.pos),t.resolve(e.$headCell.pos)):void 0}})),r.register("bKnyF",(function(n,o){t(n.exports,"CellSelection",(function(){return k}));var i=r("l15hj"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("jWbqG"),f=r("eBSbE"),p=r("1s4sf"),h=r("jBp4v"),g=r("cCjod"),m=r("6tqno"),v=r("dRsk7"),b=r("1Xz8Z");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var k=function(t){e(c)(r,t);var n=x(r);function r(t){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;e(a)(this,r);var s=v.getCellSelectionRanges(t,i);return(o=n.call(this,s[0].$from,s[0].$to,s)).$anchorCell=t,o.$headCell=i,o.visible=!1,o}return e(s)(r,[{key:"map",value:function(e,t){var n=e.resolve(t.map(this.$anchorCell.pos)),o=e.resolve(t.map(this.$headCell.pos));if(g.pointsAtCell(n)&&g.pointsAtCell(o)&&b.inSameTable(n,o)){var i=this.$anchorCell.node(-1)!==n.node(-1);return i&&this.isRowSelection()?r.rowSelection(n,o):i&&this.isColSelection()?r.colSelection(n,o):new r(n,o)}return f.TextSelection.between(n,o)}},{key:"content",value:function(){for(var e=this.$anchorCell.node(-1),t=h.TableMap.get(e),n=this.$anchorCell.start(-1),r=t.rectBetween(this.$anchorCell.pos-n,this.$headCell.pos-n),o={},i=[],a=r.top;a<r.bottom;a++){for(var s=[],c=a*t.width+r.left,l=r.left;l<r.right;l++,c++){var u=t.map[c];if(!o[u]){o[u]=!0;var f=t.findCell(u),p=e.nodeAt(u);if(null==p)throw new Error("No cell at position ".concat(u));var g=r.left-f.left,v=f.right-r.right;if(g>0||v>0){var b=p.attrs;if(!b)throw new Error("No cell at position ".concat(u));g>0&&(b=m.removeColSpan(b,0,g)),v>0&&(b=m.removeColSpan(b,b.colspan-v,v)),p=f.left<r.left?p.type.createAndFill(b):p.type.create(b,p.content)}if(null==p)throw new Error("No cell at position after create/createAndFill");if(f.top<r.top||f.bottom>r.bottom){var y=E(E({},p.attrs),{},{rowspan:Math.min(f.bottom,r.bottom)-Math.max(f.top,r.top)});p=f.top<r.top?p.type.createAndFill(y):p.type.create(y,p.content)}if(null==p)throw new Error("No cell at position before rowContent.push");s.push(p)}}i.push(e.child(a).copy(d.Fragment.from(s)))}var x=this.isColSelection()&&this.isRowSelection()?e:i;return new d.Slice(d.Fragment.from(x),1,1)}},{key:"replace",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Slice.empty,n=e.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],a=i.$from,s=i.$to,c=e.mapping.slice(n);e.replace(c.map(a.pos),c.map(s.pos),o?d.Slice.empty:t)}var l=f.Selection.findFrom(e.doc.resolve(e.mapping.slice(n).map(this.to)),-1);l&&e.setSelection(l)}},{key:"replaceWith",value:function(e,t){this.replace(e,new d.Slice(d.Fragment.from(t),0,0))}},{key:"forEachCell",value:function(e){for(var t=this.$anchorCell.node(-1),n=h.TableMap.get(t),r=this.$anchorCell.start(-1),o=n.cellsInRect(n.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r)),i=0;i<o.length;i++){var a=t.nodeAt(o[i]);if(null==a)throw new Error("undefined cell at pos ".concat(o[i]));e(a,r+o[i])}}},{key:"isColSelection",value:function(){if(!this.$anchorCell||!this.$headCell)throw new Error("invalid $anchorCell or $headCell");var e=this.$anchorCell.index(-1),t=this.$headCell.index(-1);if(Math.min(e,t)>0)return!1;var n=e+this.$anchorCell.nodeAfter.attrs.rowspan,r=t+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(n,r)===this.$headCell.node(-1).childCount}},{key:"isRowSelection",value:function(){if(!this.$anchorCell||!this.$headCell)return!1;var e=h.TableMap.get(this.$anchorCell.node(-1)),t=this.$anchorCell.start(-1),n=e.colCount(this.$anchorCell.pos-t),r=e.colCount(this.$headCell.pos-t);if(Math.min(n,r)>0)return!1;var o=n+this.$anchorCell.nodeAfter.attrs.colspan,i=r+this.$headCell.nodeAfter.attrs.colspan;return Math.max(o,i)===e.width}},{key:"eq",value:function(e){return e instanceof r&&e.$anchorCell.pos===this.$anchorCell.pos&&e.$headCell.pos===this.$headCell.pos}},{key:"toJSON",value:function(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}},{key:"getBookmark",value:function(){return new p.CellBookmark(this.$anchorCell.pos,this.$headCell.pos)}}],[{key:"colSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e,o=t,i=h.TableMap.get(n.node(-1)),a=n.start(-1),s=i.findCell(n.pos-a),c=i.findCell(o.pos-a),l=n.node(0);return s.top<=c.top?(s.top>0&&(n=l.resolve(a+i.map[s.left])),c.bottom<i.height&&(o=l.resolve(a+i.map[i.width*(i.height-1)+c.right-1]))):(c.top>0&&(o=l.resolve(a+i.map[c.left])),s.bottom<i.height&&(n=l.resolve(a+i.map[i.width*(i.height-1)+s.right-1]))),new r(n,o)}},{key:"rowSelection",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,n=e,o=t,i=h.TableMap.get(n.node(-1)),a=n.start(-1),s=i.findCell(n.pos-a),c=i.findCell(o.pos-a),l=n.node(0);return s.left<=c.left?(s.left>0&&(n=l.resolve(a+i.map[s.top*i.width])),c.right<i.width&&(o=l.resolve(a+i.map[i.width*(c.top+1)-1]))):(c.left>0&&(o=l.resolve(a+i.map[c.top*i.width])),s.right<i.width&&(n=l.resolve(a+i.map[i.width*(s.top+1)-1]))),new r(n,o)}},{key:"fromJSON",value:function(e,t){return new r(e.resolve(t.anchor),e.resolve(t.head))}},{key:"create",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;return new r(e.resolve(t),e.resolve(n))}}]),r}(f.Selection);f.Selection.jsonID("cell",k)})),r.register("1s4sf",(function(n,o){t(n.exports,"CellBookmark",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("eBSbE"),c=r("1Xz8Z"),l=function(){function t(n,r){e(i)(this,t),this.anchor=n,this.head=r}return e(a)(t,[{key:"map",value:function(e){return new t(e.map(this.anchor),e.map(this.head))}},{key:"resolve",value:function(e){var t=e.resolve(this.anchor),n=e.resolve(this.head);if("row"===t.parent.type.spec.tableRole&&"row"===n.parent.type.spec.tableRole&&t.index()<t.parent.childCount&&n.index()<n.parent.childCount&&c.inSameTable(t,n)){var r={type:"cell",anchor:t.pos,head:n.pos};return s.Selection.fromJSON(e,r)}return s.Selection.near(n,1)}}]),t}()})),r.register("1Xz8Z",(function(e,n){function r(e){for(var t=e.selection.$head,n=t.depth;n>0;n--)if("row"===t.node(n).type.spec.tableRole)return!0;return!1}function o(e,t){return e.depth===t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}t(e.exports,"isInTable",(function(){return r})),t(e.exports,"inSameTable",(function(){return o}))})),r.register("jBp4v",(function(n,o){t(n.exports,"Rect",(function(){return h})),t(n.exports,"TableProblemTypes",(function(){return f})),t(n.exports,"TableMap",(function(){return g}));var i,a,s=r("4NDMl"),c=r("go2dD");if("undefined"!=typeof WeakMap){var l=new WeakMap;i=function(e){return l.get(e)},a=function(e,t){return l.set(e,t),t}}else{var u=[],d=0;i=function(e){for(var t=0;t<u.length;t+=2)if(u[t]===e)return u[t+1]},a=function(e,t){return 10===d&&(d=0),u[d++]=e,u[d++]=t}}var f,p,h=function t(n,r,o,i){e(c)(this,t),this.left=n,this.top=r,this.right=o,this.bottom=i};(p=f||(f={})).COLLISION="collision",p.OVERLONG_ROWSPAN="overlong_rowspan",p.MISSING="missing",p.COLWIDTH_MISMATCH="colwidth mismatch";var g=function(){function t(n,r,o,i){e(c)(this,t),this.width=n,this.height=r,this.map=o,this.problems=i}return e(s)(t,[{key:"findCell",value:function(e){for(var t=0;t<this.map.length;t++){var n=this.map[t];if(n===e){for(var r=t%this.width,o=t/this.width|0,i=r+1,a=o+1,s=1;i<this.width&&this.map[t+s]===n;s++)i++;for(var c=1;a<this.height&&this.map[t+this.width*c]===n;c++)a++;return new h(r,o,i,a)}}throw new RangeError("No cell with offset "+e+" found")}},{key:"colCount",value:function(e){for(var t=0;t<this.map.length;t++)if(this.map[t]===e)return t%this.width;throw new RangeError("No cell with offset "+e+" found")}},{key:"nextCell",value:function(e,t,n){var r=this.findCell(e),o=r.left,i=r.right,a=r.top,s=r.bottom;return"horiz"===t?(n<0?0===o:i===this.width)?null:this.map[a*this.width+(n<0?o-1:i)]:(n<0?0===a:s===this.height)?null:this.map[o+this.width*(n<0?a-1:s)]}},{key:"rectBetween",value:function(e,t){var n=this.findCell(e),r=n.left,o=n.right,i=n.top,a=n.bottom,s=this.findCell(t),c=s.left,l=s.right,u=s.top,d=s.bottom;return new h(Math.min(r,c),Math.min(i,u),Math.max(o,l),Math.max(a,d))}},{key:"cellsInRect",value:function(e){for(var t=[],n={},r=e.top;r<e.bottom;r++)for(var o=e.left;o<e.right;o++){var i=r*this.width+o,a=this.map[i];n[a]||(n[a]=!0,o===e.left&&o&&this.map[i-1]===a||r===e.top&&r&&this.map[i-this.width]===a||t.push(a))}return t}},{key:"positionAt",value:function(e,t,n){for(var r=0,o=0;;r++){var i=o+n.child(r).nodeSize;if(r===e){for(var a=t+e*this.width,s=(e+1)*this.width;a<s&&this.map[a]<o;)a++;return a===s?i-1:this.map[a]}o=i}}}],[{key:"get",value:function(e){return i(e)||a(e,function(e){if("table"!==e.type.spec.tableRole)throw new RangeError("Not a table node: "+e.type.name);for(var t=function(e){for(var t=-1,n=!1,r=0;r<e.childCount;r++){var o=e.child(r),i=0;if(n)for(var a=0;a<r;a++)for(var s=e.child(a),c=0;c<s.childCount;c++){var l=s.child(c);a+l.attrs.rowspan>r&&(i+=l.attrs.colspan)}for(var u=0;u<o.childCount;u++){var d=o.child(u);i+=d.attrs.colspan,d.attrs.rowspan>1&&(n=!0)}-1===t?t=i:t!==i&&(t=Math.max(t,i))}return t}(e),n=e.childCount,r=[],o=0,i=null,a=[],s=0,c=t*n;s<c;s++)r[s]=0;for(var l=0,u=0;l<n;l++){var d=e.child(l);u++;for(var p=0;;p++){for(;o<r.length&&0!==r[o];)o++;if(p===d.childCount)break;for(var h=d.child(p),v=h.attrs,b=v.colspan,y=v.rowspan,E=v.colwidth,x=0;x<y;x++){if(x+l>=n){(i||(i=[])).push({type:f.OVERLONG_ROWSPAN,pos:u,n:y-x});break}for(var k=o+x*t,C=0;C<b;C++){0===r[k+C]?r[k+C]=u:(i||(i=[])).push({type:f.COLLISION,row:l,pos:u,n:b-C});var S=E&&E[C];if(S){var T=(k+C)%t*2,O=a[T];null==O||O!==S&&1===a[T+1]?(a[T]=S,a[T+1]=1):O===S&&a[T+1]++}}}o+=b,u+=h.nodeSize}for(var w=(l+1)*t,N=0;o<w;)0===r[o++]&&N++;N&&(i||(i=[])).push({type:f.MISSING,row:l,n:N}),u++}for(var P=new g(t,n,r,i),A=!1,I=0;!A&&I<a.length;I+=2)null!=a[I]&&a[I+1]<n&&(A=!0);A&&function(e,t,n){e.problems||(e.problems=[]);for(var r={},o=0;o<e.map.length;o++){var i=e.map[o];if(!r[i]){r[i]=!0;for(var a=n.nodeAt(i),s=null,c=0;c<a.attrs.colspan;c++){var l=t[2*((o+c)%e.width)];null==l||a.attrs.colwidth&&a.attrs.colwidth[c]===l||((s||(s=m(a.attrs)))[c]=l)}s&&e.problems.unshift({type:f.COLWIDTH_MISMATCH,pos:i,colwidth:s})}}}(P,a,e);return P}(e))}}]),t}();function m(e){if(e.colwidth)return e.colwidth.slice();for(var t=[],n=0;n<e.colspan;n++)t.push(0);return t}})),r.register("cCjod",(function(e,n){t(e.exports,"pointsAtCell",(function(){return i})),t(e.exports,"cellNear",(function(){return a})),t(e.exports,"cellAround",(function(){return s})),t(e.exports,"nextCell",(function(){return c}));var o=r("jBp4v");function i(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function a(e){for(var t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){var r=t.type.spec.tableRole;if("cell"===r||"header_cell"===r)return e.doc.resolve(n)}for(var o=e.nodeBefore,i=e.pos;o;o=o.lastChild,i--){var a=o.type.spec.tableRole;if("cell"===a||"header_cell"===a)return e.doc.resolve(i-o.nodeSize)}return null}function s(e){for(var t=e.depth-1;t>0;t--)if("row"===e.node(t).type.spec.tableRole)return e.node(0).resolve(e.before(t+1));return null}function c(e,t,n){var r=e.start(-1),i=o.TableMap.get(e.node(-1)).nextCell(e.pos-r,t,n);return null==i?null:e.node(0).resolve(r+i)}})),r.register("6tqno",(function(n,o){t(n.exports,"removeColSpan",(function(){return c})),t(n.exports,"assertColspan",(function(){return l})),t(n.exports,"addColSpan",(function(){return u}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!e.colspan)throw new Error("removeColSpan(): attrs.colspan not defined");var r=s(s({},e),{},{colspan:e.colspan-n});return r.colwidth&&(r.colwidth=r.colwidth.slice(),r.colwidth.splice(t,n),r.colwidth.some((function(e){return e>0}))||(r.colwidth=void 0)),r}function l(e){if(void 0===e.colspan)throw new Error("addColSpan: attrs.colspan is not defined");if("number"!=typeof e.colspan||Number.isNaN(e.colspan)||e.colspan<1)throw new Error("addColSpan: attrs.colspan must be number >= 1, received: ".concat(e.colspan))}function u(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;l(e);var r=s(s({},e),{},{colspan:e.colspan+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}})),r.register("dRsk7",(function(e,n){t(e.exports,"getCellSelectionRanges",(function(){return a}));var o=r("eBSbE"),i=r("jBp4v");function a(e,t){var n=e.node(-1),r=i.TableMap.get(n),a=e.start(-1),s=r.rectBetween(e.pos-a,t.pos-a),c=e.node(0),l=r.cellsInRect(s).filter((function(e){return e!==t.pos-a}));return l.unshift(t.pos-a),l.map((function(e){var t=n.nodeAt(e);if(null===t)throw new Error("No cell at position ".concat(e));var r=e+a+1;return new o.SelectionRange(c.resolve(r),c.resolve(r+t.content.size))}))}})),r.register("lKo0v",(function(e,n){t(e.exports,"default",(function(){return r}));var r={EDITOR_MOUNTED:"Editor Component Mount Time",PROSEMIRROR_RENDERED:"ProseMirror Render Time",PROSEMIRROR_CONTENT_RENDERED:"ProseMirror Content Render Time",ON_EDITOR_READY_CALLBACK:"onEditorReady Callback Duration",PASTE:"Editor Paste Plugin Paste Duration"}})),r.register("ksxA8",(function(e,n){t(e.exports,"TableSortOrder",(function(){return r("lb3qx").SortOrder})),t(e.exports,"TableSortStep",(function(){return r("g4Rq3").TableSortStep})),t(e.exports,"AddColumnStep",(function(){return r("f3dkA").AddColumnStep})),t(e.exports,"SetAttrsStep",(function(){return r("dOLSc").SetAttrsStep})),t(e.exports,"AnalyticsStep",(function(){return r("6xsO7").AnalyticsStep}));r("lb3qx"),r("g4Rq3"),r("f3dkA"),r("dOLSc"),r("6xsO7")})),r.register("lb3qx",(function(e,n){var r,o;t(e.exports,"SortOrder",(function(){return r})),(o=r||(r={})).ASC="asc",o.DESC="desc"})),r.register("g4Rq3",(function(n,o){t(n.exports,"TableSortStep",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("jWbqG"),d=r("6sW8E");function f(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var p="atlaskit-table-sorting-ordering",h=function(t){e(s)(r,t);var n=f(r);function r(t,o,a){var s;return e(i)(this,r),(s=n.call(this)).prev=o,s.next=a,s.pos=t,s}return e(a)(r,[{key:"invert",value:function(){return new r(this.pos,this.next,this.prev)}},{key:"apply",value:function(e){return d.StepResult.ok(e)}},{key:"map",value:function(){return null}},{key:"getMap",value:function(){return new d.StepMap([0,0,0])}},{key:"toJSON",value:function(){return{stepType:p}}}],[{key:"fromJSON",value:function(){return new d.ReplaceStep(0,0,u.Slice.empty)}}]),r}(d.Step);d.Step.jsonID(p,h)})),r.register("f3dkA",(function(n,o){t(n.exports,"AddColumnStep",(function(){return O}));var i=r("fw3Q6"),a=r("l15hj"),s=r("go2dD"),c=r("4NDMl"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("6sW8E"),p=r("kgyY6"),h=r("1flNG"),g=r("4g0Mn"),m=r("dKySh"),v=r("6GJnC"),b=r("6gvxN");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}function k(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S="ak-add-column";function T(e){return new Map(e.map((function(e){return[e.from,e]})))}var O=function(t){e(l)(r,t);var n=x(r);function r(t,o){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e(s)(this,r),(i=n.call(this)).tablePos=t,i.isDelete=a,i.sideEffectsHandler=new v.SideEffectsHandler(o.sideEffects),i.columnInfo=T(o.cells),i}return e(c)(r,[{key:"apply",value:function(e){var t,n=this.tablePos,r=new f.Transform(e);if(this.sideEffectsHandler.table.handleAddTable(r,this.isDelete))return f.StepResult.ok(r.doc);try{t=g.getTableRectFromDoc(e,n)}catch(e){return f.StepResult.fail(e.message)}var o=h.findColumn(this.columnInfo,t);return null===o?f.StepResult.fail('No column for this cells "'.concat(function(e){var t,n=[],r=k(e.values());try{for(r.s();!(t=r.n()).done;){var o=t.value;n.push(o.from)}}catch(e){r.e(e)}finally{r.f()}return"[".concat(n.join(","),"]")}(this.columnInfo),'" in table at position "').concat(n,'".')):(this.sideEffectsHandler.table.handleRemoveTable(r,this.tablePos,t,o,this.isDelete)||(this.columnInfo=this.applyCellSteps(r,t,o,this.isDelete)),f.StepResult.ok(r.doc))}},{key:"map",value:function(e){var t=e.mapResult(this.tablePos);if(t.deleted)return null;var n,o=[],i=k(this.columnInfo.values());try{for(i.s();!(n=i.n()).done;){var a=n.value,s=e.mapResult(a.from),c=e.mapResult(a.to);if(!s.deleted||!c.deleted){var l=E(E({},a),{},{from:s.pos,to:c.pos});void 0!==a.mergeWith&&(l.mergeWith=e.map(a.mergeWith)),o.push(l)}}}catch(e){i.e(e)}finally{i.f()}if(0===o.length)return null;var u=this.sideEffectsHandler.map(e);return new r(t.pos,{cells:o,sideEffects:u},this.isDelete)}},{key:"invert",value:function(e){var t,n,o,i=this,a=this.getMap(),s=(t=e,n=this.tablePos,o=this.columnInfo,b.default((function(){var e=g.getTableRectFromDoc(t,n),r=h.findColumn(o,e);if(null===r)throw new Error("no column");return{rect:e,column:r}}))),c=Array.from(this.columnInfo.values(),(function(t){return m.invertCellStep(e,s,t,i.isDelete,a)})),l=this.sideEffectsHandler.invert(e,this.isDelete,a);return new r(this.tablePos,{cells:c,sideEffects:l},!this.isDelete)}},{key:"getMap",value:function(){var t=this.sideEffectsHandler.getTableMap(this.isDelete);if(t)return t;var n,r=[],o=k(this.columnInfo.values());try{for(o.s();!(n=o.n()).done;){var a,s=n.value;(a=r).push.apply(a,e(i)(m.getMapFromCellStep(s,this.isDelete)))}}catch(e){o.e(e)}finally{o.f()}return r=this.sideEffectsHandler.rows.addRowRanges(r,this.isDelete),new f.StepMap(r)}},{key:"merge",value:function(e){return null}},{key:"toJSON",value:function(){var e={stepType:S,tablePos:this.tablePos,cells:Array.from(this.columnInfo.values(),(function(e){var t={from:e.from,to:e.to};return void 0!==e.mergeWith&&(t.mergeWith=e.mergeWith),void 0!==e.newCell&&(t.newCell=e.newCell.toJSON()),t})),isDelete:this.isDelete},t=this.sideEffectsHandler.toJSON();return t&&(e.sideEffects=t),e}},{key:"applyCellSteps",value:function(e,t,n,r){for(var o=new Map,i=this.sideEffectsHandler.rows.start(this.isDelete),a=p.cellsAtColumn(t,n),s=a.next();!s.done;){var c=s.value,l=this.columnInfo.get(c.from),u=m.createCellStep(c,n,r,l),d=i.handle(e,t,c.row,n,c);if(d.handled)s=a.next(d.skipRows);else{var f=m.applyCellStep(e,t,c,u,r,n),h=f.skipRows,g=f.cellStep;o.set(u.from,g),s=a.next(h)}}return i.end(e,t,n),o}}],[{key:"fromJSON",value:function(e,t){var n,o=t.cells.map((function(t){return E(E({},t),{},{newCell:t.newCell?e.nodeFromJSON(t.newCell):void 0})}));return t.sideEffects&&(n=v.SideEffectsHandler.fromJSON(e,t.sideEffects)),new r(t.tablePos,{cells:o,sideEffects:n},t.isDelete)}},{key:"create",value:function(e,t,n){for(var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=g.getTableRectFromDoc(e,t),a=[],s=p.cellsAtColumn(i,n),c=s.next();!c.done;){var l=c.value;a.push(m.createCellStep(l,n,o));var u=0;l.attrs&&l.attrs.rowspan&&(u=l.attrs.rowspan-1),c=s.next(u)}return new r(t,{cells:a},o)}}]),r}(f.Step);f.Step.jsonID(S,O)})),r.register("kgyY6",(function(n,o){t(n.exports,"cellsAtColumn",(function(){return u}));var i=r("9ePZF"),a=r("jcHEw"),s=r("dNs23"),c=r("lojnh"),l=e(i).mark(u);function u(t,n){var r,o,u,d,f,p,h,g,m,v,b,y;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.map,o=t.tableStart,u=t.table,d=n>0?-1:0,a.columnIsHeader(r,u,n+d)&&(d=0===n||n===r.width?null:0),f=0;case 4:if(!(f<r.height)){e.next=20;break}return p=c.getCellIndex(t.map,f,n),h=r.map[p],g=c.hasMergedColumns(t.map,f,n)&&c.isRootRow(t.map,f,n),m=null==d?s.tableNodeTypes(u.type.schema).cell:u.nodeAt(r.map[p+d]).type,g||(h=r.positionAt(f,n,u)),v=u.nodeAt(h),b={from:o+h,to:o+h,row:f,col:g?r.colCount(h):n,type:m,hasMergedCells:g},v&&(b.attrs=v.attrs,b.to=o+h+v.nodeSize),e.next=15,b;case 15:(y=e.sent)&&y>0&&(f+=y);case 17:f++,e.next=4;break;case 20:case"end":return e.stop()}}),l)}})),r.register("dQmzW",(function(e,n){t(e.exports,"addColumnAt",(function(){return c}));var o=r("jBp4v"),i=r("jcHEw"),a=r("biPQJ"),s=r("eK4uv"),c=function(e){return function(t){var n=s.findTable(t.selection);if(n){var r=o.TableMap.get(n.node);if(e>=0&&e<=r.width)return a.cloneTr(i.addColumn(t,{map:r,tableStart:n.start,table:n.node},e))}return t}}})),r.register("jcHEw",(function(e,n){t(e.exports,"columnIsHeader",(function(){return a})),t(e.exports,"addColumn",(function(){return s}));var o=r("6tqno"),i=r("dNs23");function a(e,t,n){for(var r=i.tableNodeTypes(t.type.schema).header_cell,o=0;o<e.height;o++){var a=t.nodeAt(e.map[n+o*e.width]);if(a&&a.type!==r)return!1}return!0}function s(e,t,n){var r=t.map,s=t.tableStart,c=t.table,l=n>0?-1:0;a(r,c,n+l)&&(l=0===n||n===r.width?null:0);for(var u=0;u<r.height;u++){var d=u*r.width+n;if(n>0&&n<r.width&&r.map[d-1]===r.map[d]){var f=r.map[d],p=c.nodeAt(f);if(!p)throw new Error("addColumn: invalid cell for pos ".concat(f));var h=p.attrs;o.assertColspan(h),e.setNodeMarkup(e.mapping.map(s+f),void 0,o.addColSpan(h,n-r.colCount(f))),u+=h.rowspan-1}else{var g=void 0;if(null===l)g=i.tableNodeTypes(c.type.schema).cell;else{var m=r.map[d+l],v=c.nodeAt(m);if(!v)throw new Error("addColumn: invalid node at mapped pos ".concat(m));g=v.type}var b=r.positionAt(u,n,c);e.insert(e.mapping.map(s+b),g.createAndFill())}}return e}}));r.register("dNs23",(function(e,n){function r(e){var t=e.cached.tableNodeTypes;if(!t)for(var n in t={},e.cached.tableNodeTypes=t,e.nodes){var r=e.nodes[n],o=r.spec.tableRole;o&&(t[o]=r)}return t}t(e.exports,"tableNodeTypes",(function(){return r}))})),r.register("biPQJ",(function(e,n){t(e.exports,"cloneTr",(function(){return r}));var r=function(e){return Object.assign(Object.create(e),e).setTime(Date.now())}})),r.register("eK4uv",(function(e,n){t(e.exports,"findTable",(function(){return a})),t(e.exports,"findCellClosestToPos",(function(){return s})),t(e.exports,"findCellRectClosestToPos",(function(){return c}));var o=r("iFBc4"),i=r("jBp4v"),a=function(e){return o.findParentNode((function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))(e)},s=function(e){return o.findParentNodeClosestToPos(e,(function(e){return e.type.spec.tableRole&&/cell/i.test(e.type.spec.tableRole)}))},c=function(e){var t=s(e);if(t){var n=function(e){return o.findParentNodeClosestToPos(e,(function(e){return e.type.spec.tableRole&&"table"===e.type.spec.tableRole}))}(e);if(n){var r=i.TableMap.get(n.node),a=t.pos-n.start;return r.rectBetween(a,a)}}}})),r.register("5qHKJ",(function(n,o){t(n.exports,"addRowAt",(function(){return g}));var i=r("fw3Q6"),a=r("iFBc4"),s=r("jBp4v"),c=r("7uDdL"),l=r("biPQJ"),u=r("eK4uv"),d=r("PPI7U"),f=r("eZw3l"),p=r("dNs23"),h=function(t){return function(n){var r=u.findTable(n.selection);if(r){var o=s.TableMap.get(r.node);if(t>=0&&t<=o.height){for(var c=r.node,l=p.tableNodeTypes(c.type.schema),h=r.start,g=0;g<t+1;g++)h+=c.child(g).nodeSize;var m=c.child(t),v=[],b=0;if(m.forEach((function(e){if(1===e.attrs.rowspan){b+=e.attrs.colspan;var t=l[e.type.spec.tableRole].createAndFill(e.attrs,[],e.marks);t&&v.push(t)}})),b<o.width){for(var y=[],E=function(r){var o=function(e,t){return function(n){var r=[],o=d.getCellsInRow(e)(n.selection);if(o)for(var i=o.length-1;i>=0;i--)t(o[i],n)&&r.push(o[i]);return r}}(r,(function(e,n){var o=e.node.attrs.rowspan;return o>1&&r+o>t}))(n);y.push.apply(y,e(i)(o))},x=t;x>=0;x--)E(x);y.length&&y.forEach((function(e){n=f.setCellAttrs(e,{rowspan:e.node.attrs.rowspan+1})(n)}))}return a.safeInsert(l.row.create(m.attrs,v),h)(n)}}return n}},g=function(e,t){return function(n){var r=u.findTable(n.selection);if(r){var o=s.TableMap.get(r.node),i=e-1;if(t&&i>=0)return l.cloneTr(h(i)(n));if(e>=0&&e<=o.height)return l.cloneTr(c.addRow(n,{map:o,tableStart:r.start,table:r.node},e))}return n}}})),r.register("7uDdL",(function(n,o){t(n.exports,"addRow",(function(){return l}));var i=r("l15hj"),a=r("dNs23");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(e,t,n){for(var r=t.map,o=t.tableStart,i=t.table,s=o,l=0;l<n;l++)s+=i.child(l).nodeSize;var u=[],d=n>0?-1:0;(function(e,t,n){for(var r=a.tableNodeTypes(t.type.schema).header_cell,o=0;o<e.width;o++){var i=t.nodeAt(e.map[o+n*e.width]);if(i&&i.type!==r)return!1}return!0})(r,i,n+d)&&(d=0===n||n===r.height?null:0);for(var f=0,p=r.width*n;f<r.width;f++,p++)if(n>0&&n<r.height&&r.map[p]===r.map[p-r.width]){var h=r.map[p],g=i.nodeAt(h);if(!g)throw new Error("addRow: node not found at pos ".concat(h));var m=g.attrs;e.setNodeMarkup(o+h,void 0,c(c({},m),{},{rowspan:m.rowspan+1})),f+=m.colspan-1}else{var v=void 0;if(null==d)v=a.tableNodeTypes(i.type.schema).cell;else{var b=r.map[p+d*r.width],y=i.nodeAt(b);if(!y)throw new Error("addRow: invalid node at mapped pos ".concat(b));v=y.type}u.push(v.createAndFill())}var E=a.tableNodeTypes(i.type.schema).row.create(null,u);return e.insert(s,E),e}})),r.register("PPI7U",(function(e,n){t(e.exports,"getCellsInRow",(function(){return a}));var o=r("jBp4v"),i=r("eK4uv"),a=function(e){return function(t){var n=i.findTable(t);if(n){var r=o.TableMap.get(n.node);return(Array.isArray(e)?e:[e]).filter((function(e){return e>=0&&e<=r.height-1})).reduce((function(e,t){var o=r.cellsInRect({left:0,right:r.width,top:t,bottom:t+1});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t,depth:n.depth+2}})))}),[])}}}})),r.register("eZw3l",(function(e,n){t(e.exports,"setCellAttrs",(function(){return i}));var o=r("biPQJ"),i=function(e,t){return function(n){return e?(n.setNodeMarkup(e.pos,void 0,Object.assign({},e.node.attrs,t)),o.cloneTr(n)):n}}})),r.register("kEb1F",(function(e,n){t(e.exports,"createTable",(function(){return s}));var o=r("dNs23"),i=r("gC4FM"),a=function(e,t){return t?e.createChecked(null,t):e.createAndFill()},s=function(e){for(var t=e.schema,n=e.rowsCount,r=void 0===n?3:n,s=e.colsCount,c=void 0===s?3:s,l=e.withHeaderRow,u=void 0===l||l,d=e.cellContent,f=e.allowLocalId,p=void 0!==f&&f,h=o.tableNodeTypes(t),g=h.cell,m=h.header_cell,v=h.row,b=h.table,y=[],E=[],x=0;x<c;x++){var k=a(g,d);if(k&&y.push(k),u){var C=a(m,d);C&&E.push(C)}}for(var S=[],T=0;T<r;T++)S.push(v.createChecked(null,u&&0===T?E:y));var O=p?{localId:i.uuid.generate()}:null;return b.createChecked(O,S)}})),r.register("gC4FM",(function(e,n){t(e.exports,"uuid",(function(){return o}));var r=!1,o={setStatic:function(e){r=e},generate:function(){return r||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}}})),r.register("eQkfb",(function(e,n){t(e.exports,"emptyCell",(function(){return a}));var o=r("biPQJ"),i=r("dNs23"),a=function(e,t){return function(n){if(e){var r=i.tableNodeTypes(t).cell.createAndFill();if(r&&!e.node.content.eq(r.content))return n.replaceWith(e.pos+1,e.pos+e.node.nodeSize,r.content),o.cloneTr(n)}return n}}})),r.register("4K3Qg",(function(e,n){t(e.exports,"getCellsInColumn",(function(){return a}));var o=r("jBp4v"),i=r("eK4uv"),a=function(e){return function(t){var n=i.findTable(t);if(n){var r=o.TableMap.get(n.node);return(Array.isArray(e)?e:[e]).filter((function(e){return e>=0&&e<=r.width-1})).reduce((function(e,t){var o=r.cellsInRect({left:t,right:t+1,top:0,bottom:r.height});return e.concat(o.map((function(e){var t=n.node.nodeAt(e),r=e+n.start;return{pos:r,start:r+1,node:t,depth:n.depth+2}})))}),[])}}}})),r.register("3uH2t",(function(e,n){t(e.exports,"getSelectionRangeInColumn",(function(){return a}));var o=r("4K3Qg"),i=r("PPI7U"),a=function(e){return function(t){for(var n=e,r=e,a=function(e){var i=o.getCellsInColumn(e)(t.selection);i&&i.forEach((function(t){var o=t.node.attrs.colspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},s=e;s>=0;s--)a(s);for(var c=function(e){var n=o.getCellsInColumn(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.colspan+e-1;t.node.attrs.colspan>1&&n>r&&(r=n)}))},l=e;l<=r;l++)c(l);for(var u=[],d=n;d<=r;d++){var f=o.getCellsInColumn(d)(t.selection);f&&f.length&&u.push(d)}n=u[0],r=u[u.length-1];var p=o.getCellsInColumn(n)(t.selection),h=i.getCellsInRow(0)(t.selection);if(p&&h){for(var g,m=t.doc.resolve(p[p.length-1].pos),v=r;v>=n;v--){var b=o.getCellsInColumn(v)(t.selection);if(b&&b.length){for(var y=h.length-1;y>=0;y--)if(h[y].pos===b[0].pos){g=b[0];break}if(g)break}}if(g)return{$anchor:m,$head:t.doc.resolve(g.pos),indexes:u}}}}})),r.register("4vxaA",(function(e,n){t(e.exports,"getSelectionRangeInRow",(function(){return a}));var o=r("4K3Qg"),i=r("PPI7U"),a=function(e){return function(t){for(var n=e,r=e,a=function(e){var o=i.getCellsInRow(e)(t.selection);o&&o.forEach((function(t){var o=t.node.attrs.rowspan+e-1;o>=n&&(n=e),o>r&&(r=o)}))},s=e;s>=0;s--)a(s);for(var c=function(e){var n=i.getCellsInRow(e)(t.selection);n&&n.forEach((function(t){var n=t.node.attrs.rowspan+e-1;t.node.attrs.rowspan>1&&n>r&&(r=n)}))},l=e;l<=r;l++)c(l);for(var u=[],d=n;d<=r;d++){var f=i.getCellsInRow(d)(t.selection);f&&f.length&&u.push(d)}n=u[0],r=u[u.length-1];var p=i.getCellsInRow(n)(t.selection),h=o.getCellsInColumn(0)(t.selection);if(p&&h){for(var g,m=t.doc.resolve(p[p.length-1].pos),v=r;v>=n;v--){var b=i.getCellsInRow(v)(t.selection);if(b&&b.length){for(var y=h.length-1;y>=0;y--)if(h[y].pos===b[0].pos){g=b[0];break}if(g)break}}if(g)return{$anchor:m,$head:t.doc.resolve(g.pos),indexes:u}}}}})),r.register("kB6gF",(function(e,n){t(e.exports,"getSelectionRect",(function(){return a}));var o=r("jBp4v"),i=r("1RK3w"),a=function(e){if(i.isSelectionType(e,"cell")){var t=e.$anchorCell.start(-1);return o.TableMap.get(e.$anchorCell.node(-1)).rectBetween(e.$anchorCell.pos-t,e.$headCell.pos-t)}}})),r.register("1RK3w",(function(e,n){function r(e,t){return!!e&&e.toJSON().type===t}t(e.exports,"isSelectionType",(function(){return r}))})),r.register("iQlYK",(function(e,n){t(e.exports,"goToNextCell",(function(){return s}));var o=r("eBSbE"),i=r("epkfV"),a=r("1Xz8Z");function s(e){return function(t,n){if(!a.isInTable(t))return!1;var r=i.selectionCell(t.selection);if(!r)return!1;var s,c,l=function(e,t){if(-1===t){var n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(var r=e.index(-1)-1,o=e.before();r>=0;r--){var i=e.node(-1).child(r);if(i.childCount&&i.lastChild)return o-1-i.lastChild.nodeSize;o-=i.nodeSize}}else{if(e.index()<e.parent.childCount-1&&e.nodeAfter)return e.pos+e.nodeAfter.nodeSize;for(var a=e.node(-1),s=e.indexAfter(-1),c=e.after();s<a.childCount;s++){var l=a.child(s);if(l.childCount)return c+1;c+=l.nodeSize}}}(r,e);if(void 0===l)return!1;if(n){var u=t.doc.resolve(l);n(t.tr.setSelection(o.TextSelection.between(u,(s=u,c=s.nodeAfter?s.nodeAfter.nodeSize:0,s.node(0).resolve(s.pos+c)))).scrollIntoView())}return!0}}})),r.register("epkfV",(function(e,n){t(e.exports,"selectionCell",(function(){return a}));var o=r("cCjod"),i=r("1RK3w");function a(e){return i.isSelectionType(e,"cell")?e.$anchorCell.pos>e.$headCell.pos?e.$anchorCell:e.$headCell:i.isSelectionType(e,"node")&&"cell"===e.node.type.spec.tableRole?e.$anchor:o.cellAround(e.$head)||o.cellNear(e.$head)}})),r.register("kN6Qk",(function(e,n){t(e.exports,"isColumnSelected",(function(){return s})),t(e.exports,"isRowSelected",(function(){return c})),t(e.exports,"isTableSelected",(function(){return l}));var o=r("jBp4v"),i=r("1RK3w"),a=function(e){return function(t){if(!i.isSelectionType(t,"cell"))return!1;for(var n=o.TableMap.get(t.$anchorCell.node(-1)),r=t.$anchorCell.start(-1),a=n.cellsInRect(e),s=n.cellsInRect(n.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r)),c=0,l=a.length;c<l;c++)if(-1===s.indexOf(a[c]))return!1;return!0}},s=function(e){return function(t){if(i.isSelectionType(t,"cell")){var n=o.TableMap.get(t.$anchorCell.node(-1));return a({left:e,right:e+1,top:0,bottom:n.height})(t)}return!1}},c=function(e){return function(t){if(i.isSelectionType(t,"cell")){var n=o.TableMap.get(t.$anchorCell.node(-1));return a({left:0,right:n.width,top:e,bottom:e+1})(t)}return!1}},l=function(e){if(i.isSelectionType(e,"cell")){var t=o.TableMap.get(e.$anchorCell.node(-1));return a({left:0,right:t.width,top:0,bottom:t.height})(e)}return!1}})),r.register("i7mvx",(function(e,n){t(e.exports,"removeTable",(function(){return i}));var o=r("biPQJ"),i=function(e){for(var t=e.selection.$from,n=t.depth;n>0;n--){if("table"===t.node(n).type.spec.tableRole)return o.cloneTr(e.delete(t.before(n),t.after(n)))}return e}})),r.register("5n8GX",(function(e,n){t(e.exports,"selectColumn",(function(){return l})),t(e.exports,"selectRow",(function(){return u})),t(e.exports,"selectTable",(function(){return d}));var o=r("bKnyF"),i=r("jBp4v"),a=r("biPQJ"),s=r("eK4uv"),c=function(e){return function(t,n){return function(r){var c=s.findTable(r.selection),l="row"===e;if(c){var u=i.TableMap.get(c.node);if(t>=0&&t<(l?u.height:u.width)){var d=l?0:t,f=l?t:0,p=l?u.width:t+1,h=l?t+1:u.height;if(n){var g=s.findCellClosestToPos(r.selection.$from);if(!g)return r;var m=u.findCell(g.pos-c.start);l?(f=Math.min(f,m.top),h=Math.max(h,m.bottom)):(d=Math.min(d,m.left),p=Math.max(p,m.right))}var v=u.cellsInRect({left:d,top:f,right:l?p:d+1,bottom:l?f+1:h}),b=h-f==1?v:u.cellsInRect({left:l?d:p-1,top:l?h-1:f,right:p,bottom:h}),y=c.start+v[0],E=c.start+b[b.length-1],x=r.doc.resolve(y),k=r.doc.resolve(E);return a.cloneTr(r.setSelection(new o.CellSelection(k,x)))}}return r}}},l=c("column"),u=c("row"),d=function(e){var t=s.findTable(e.selection);if(t){var n=i.TableMap.get(t.node).map;if(n&&n.length){var r=t.start+n[0],c=t.start+n[n.length-1],l=e.doc.resolve(r),u=e.doc.resolve(c);return a.cloneTr(e.setSelection(new o.CellSelection(u,l)))}}return e}})),r.register("7Cbfw",(function(e,n){t(e.exports,"selectedRect",(function(){return s}));var o=r("bKnyF"),i=r("jBp4v"),a=r("epkfV");function s(e){var t=e.selection,n=a.selectionCell(t);if(!n)throw new Error("selectedRect: invalid $pos for selection");var r,s=n.node(-1),c=n.start(-1),l=i.TableMap.get(s);return(r=t instanceof o.CellSelection?l.rectBetween(t.$anchorCell.pos-c,t.$headCell.pos-c):l.findCell(n.pos-c)).tableStart=c,r.map=l,r.table=s,r}})),r.register("7qvim",(function(n,o){t(n.exports,"splitCellWithType",(function(){return f}));var i=r("l15hj"),a=r("jWbqG"),s=r("bKnyF"),c=r("cCjod"),l=r("7Cbfw");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(e){return function(t,n){var r,o,i=t.selection;if(i instanceof s.CellSelection){if(i.$anchorCell.pos!==i.$headCell.pos)return!1;r=i.$anchorCell.nodeAfter,o=i.$anchorCell.pos}else{if(!(r=function(e){for(var t=e.depth;t>0;t--){var n=e.node(t).type.spec.tableRole;if("cell"===n||"header_cell"===n)return e.node(t)}return null}(i.$from)))return!1;var u=c.cellAround(i.$from);o=u&&u.pos}if(r&&1===r.attrs.colspan&&1===r.attrs.rowspan)return!1;if(r&&n){var f=r.attrs,p=[],h=f.colwidth;f.rowspan&&f.rowspan>1&&(f=d(d({},f),{},{rowspan:1})),f.colspan&&f.colspan>1&&(f=d(d({},f),{},{colspan:1}));for(var g=l.selectedRect(t),m=t.tr,v=0;v<g.right-g.left;v++)p.push(h?d(d({},f),{},{colwidth:h&&h[v]?[h[v]]:null}):f);for(var b=null,y=g.top;y<g.bottom;y++){var E=g.map.positionAt(y,g.left,g.table);y===g.top&&(E+=r.nodeSize);for(var x=g.left,k=0;x<g.right;x++,k++)if(x!==g.left||y!==g.top){var C=e({node:r,row:y,col:x}).createAndFill(p[k]);C&&m.insert(b=m.mapping.map(E+g.tableStart,1),C)}}"number"==typeof o&&m.setNodeMarkup(o,e({node:r,row:g.top,col:g.left}),p[0]);var S=b&&m.doc.resolve(b);i instanceof s.CellSelection&&S instanceof a.ResolvedPos&&m.setSelection(new s.CellSelection(m.doc.resolve(i.$anchorCell.pos),S)),n(m)}return!0}}})),r.register("7QEXs",(function(e,n){t(e.exports,"splitCell",(function(){return a}));var o=r("7qvim"),i=r("dNs23"),a=function(e,t){var n=i.tableNodeTypes(e.schema);return o.splitCellWithType((function(e){var t=e.node;return n[t.type.spec.tableRole]}))(e,t)}})),r.register("6yzy2",(function(e,n){t(e.exports,"toggleHeader",(function(){return l}));var o=r("jBp4v"),i=r("7Cbfw"),a=r("dNs23"),s=r("1Xz8Z");function c(e,t,n){for(var r=t.map.cellsInRect({left:0,top:0,right:"row"===e?t.map.width:1,bottom:"column"===e?t.map.height:1}),o=0;o<r.length;o++){var i=t.table.nodeAt(r[o]);if(i&&i.type!==n.header_cell)return!1}return!0}function l(e){return function(t,n){if(!s.isInTable(t))return!1;if(n){var r,l=a.tableNodeTypes(t.schema),u=i.selectedRect(t),d=t.tr,f=c("row",u,l),p=c("column",u,l),h=("column"===e?f:"row"===e&&p)?1:0,g="column"===e?new o.Rect(0,h,1,u.map.height):"row"===e?new o.Rect(h,0,u.map.width,1):u;r="column"===e?p?l.cell:l.header_cell:"row"===e?f?l.cell:l.header_cell:l.cell,u.map.cellsInRect(g).forEach((function(e){var t=e+u.tableStart,n=d.doc.nodeAt(t);n&&d.setNodeMarkup(t,r,n.attrs)})),n(d)}return!0}}})),r.register("9Y4M9",(function(e,n){t(e.exports,"convertArrayOfRowsToTableNode",(function(){return i})),t(e.exports,"convertTableNodeToArrayOfRows",(function(){return a}));var o=r("jBp4v"),i=function(e,t){for(var n=[],r=o.TableMap.get(e),i=0;i<r.height;i++){for(var a=e.child(i),s=[],c=0;c<r.width;c++)if(t[i][c]){var l=r.map[i*r.width+c],u=t[i][c],d=e.nodeAt(l);if(u&&d){var f=d.type.createChecked(Object.assign({},u.attrs),u.content,u.marks);s.push(f)}}n.push(a.type.createChecked(a.attrs,s,a.marks))}return e.type.createChecked(e.attrs,n,e.marks)},a=function(e){for(var t=o.TableMap.get(e),n=[],r=0;r<t.height;r++){for(var i=[],a={},s=0;s<t.width;s++){var c=t.map[r*t.width+s],l=e.nodeAt(c),u=t.findCell(c);l&&!a[c]&&u.top===r?(a[c]=!0,i.push(l)):i.push(null)}n.push(i)}return n}})),r.register("67bLC",(function(e,n){t(e.exports,"handlePaste",(function(){return d}));var o=r("jWbqG"),i=r("bKnyF"),a=r("jBp4v"),s=r("epkfV"),c=r("dNs23"),l=r("1Xz8Z"),u=r("5Shse");function d(e,t,n){if(!l.isInTable(e.state))return!1;var r=u.pastedCells(n),d=e.state.selection;if(d instanceof i.CellSelection){r||(r={width:1,height:1,rows:[o.Fragment.from(u.fitSlice(c.tableNodeTypes(e.state.schema).cell,n))]});var f=d.$anchorCell.node(-1),p=d.$anchorCell.start(-1),h=a.TableMap.get(f).rectBetween(d.$anchorCell.pos-p,d.$headCell.pos-p);return r=u.clipCells(r,h.right-h.left,h.bottom-h.top),u.insertCells(e.state,e.dispatch,p,h,r),!0}if(r){var g=s.selectionCell(d);if(!g)throw new Error("handlePaste: no cell found");var m=g.start(-1);return u.insertCells(e.state,e.dispatch,m,a.TableMap.get(g.node(-1)).findCell(g.pos-m),r),!0}return!1}})),r.register("5Shse",(function(n,o){t(n.exports,"pastedCells",(function(){return h})),t(n.exports,"fitSlice",(function(){return g})),t(n.exports,"clipCells",(function(){return m})),t(n.exports,"insertCells",(function(){return y}));var i=r("l15hj"),a=r("jWbqG"),s=r("6sW8E"),c=r("bKnyF"),l=r("jBp4v"),u=r("6tqno"),d=r("dNs23");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(e){if(!e.size)return null;var t=e.content,n=e.openStart,r=e.openEnd;if(!t.firstChild)throw new Error("pastedCells: no firstChild defined for content");for(;1===t.childCount&&(n>0&&r>0||"table"===t.firstChild.type.spec.tableRole);)if(n--,r--,!(t=t.firstChild.content).firstChild)throw new Error("pastedCells: no firstChild defined for content");var o=t.firstChild,i=o.type.spec.tableRole,s=o.type.schema,c=[];if("row"===i)for(var l=0;l<t.childCount;l++){var u=t.child(l).content,f=l?0:Math.max(0,n-1),p=l<t.childCount-1?0:Math.max(0,r-1);(f||p)&&(u=g(d.tableNodeTypes(s).row,new a.Slice(u,f,p)).content),c.push(u)}else{if("cell"!==i&&"header_cell"!==i)return null;c.push(n||r?g(d.tableNodeTypes(s).row,new a.Slice(t,n,r)).content:t)}return function(e,t){for(var n=t,r=[],o=0;o<n.length;o++)for(var i=n[o],s=i.childCount-1;s>=0;s--)for(var c=i.child(s).attrs,l=c.rowspan,u=c.colspan,f=o;f<o+l;f++)r[f]=(r[f]||0)+u;for(var p=0,h=0;h<r.length;h++)p=Math.max(p,r[h]);for(var g=0;g<r.length;g++)if(g>=n.length&&n.push(a.Fragment.empty),r[g]<p){for(var m=d.tableNodeTypes(e).cell.createAndFill(),v=[],b=r[g];b<p;b++)v.push(m);n[g]=n[g].append(a.Fragment.from(v))}return{height:n.length,width:p,rows:n}}(s,c)}function g(e,t){var n=e.createAndFill();if(!n)throw new Error("fitSlice: unable to create node");return new s.Transform(n).replace(0,n.content.size,t).doc}function m(e,t,n){var r=e.width,o=e.height,i=e.rows,s=r,c=o;if(s!==t){for(var l=[],d=[],f=0;f<i.length;f++){for(var h=i[f],g=[],m=l[f]||0,v=0;m<t;v++){var b=h.child(v%h.childCount);m+b.attrs.colspan>t&&(b=b.type.create(u.removeColSpan(b.attrs,b.attrs.colspan,m+b.attrs.colspan-t),b.content)),g.push(b),m+=b.attrs.colspan;for(var y=1;y<b.attrs.rowspan;y++)l[f+y]=(l[f+y]||0)+b.attrs.colspan}d.push(a.Fragment.from(g))}i=d,s=t}if(c!==n){for(var E=[],x=0,k=0;x<n;x++,k++){for(var C=[],S=i[k%c],T=0;T<S.childCount;T++){var O=S.child(T);x+O.attrs.rowspan>n&&(O=O.type.create(p(p({},O.attrs),{},{rowspan:Math.max(1,n-O.attrs.rowspan)}),O.content)),C.push(O)}E.push(a.Fragment.from(C))}i=E,c=n}return{width:s,height:c,rows:i}}function v(e,t,n,r,o,i,a,s){if(0===a||a===t.height)return!1;for(var c=!1,l=o;l<i;l++){var u=a*t.width+l,d=t.map[u];if(t.map[u-t.width]===d){c=!0;var f=n.nodeAt(d);if(!f)throw new Error("isolateHorizontal: no cell found at pos ".concat(d));var h=t.findCell(d),g=h.top,m=h.left;e.setNodeMarkup(e.mapping.slice(s).map(d+r),void 0,p(p({},f.attrs),{},{rowspan:a-g}));var v=f.type.createAndFill(p(p({},f.attrs),{},{rowspan:g+f.attrs.rowspan-a}));if(!v)throw new Error("isolateHorizontal: failed to create cell");e.insert(e.mapping.slice(s).map(t.positionAt(a,m,n)),v),l+=f.attrs.colspan-1}}return c}function b(e,t,n,r,o,i,a,s){if(0===a||a===t.width)return!1;for(var c=!1,l=o;l<i;l++){var d=l*t.width+a,f=t.map[d];if(t.map[d-1]===f){c=!0;var p=n.nodeAt(f);if(!p)throw new Error("isolateVertical: could not find cell at pos ".concat(f));var h=t.colCount(f),g=e.mapping.slice(s).map(f+r);e.setNodeMarkup(g,void 0,u.removeColSpan(p.attrs,a-h,p.attrs.colspan-(a-h)));var m=p.type.createAndFill(u.removeColSpan(p.attrs,0,a-h));if(!m)throw new Error("isolateVertical: failed to create cell");e.insert(g+p.nodeSize,m),l+=p.attrs.rowspan-1}}return c}function y(e,t,n,r,o){var i=e.doc;if(n&&!(i=e.doc.nodeAt(n-1)))throw new Error("insertCells: could not find table at pos ".concat(n-1));var s=l.TableMap.get(i),u=r.top,f=r.left,p=f+o.width,h=u+o.height,g=e.tr,m=0;function y(){i=n?g.doc.nodeAt(n-1):g.doc,s=l.TableMap.get(i),m=g.mapping.maps.length}(function(e,t,n,r,o,i,s){var c,l,u=e.doc.type.schema,f=d.tableNodeTypes(u);if(o>t.width)for(var p=0,h=0;p<t.height;p++){var g=n.child(p);h+=g.nodeSize;var m=[],v=void 0;v=null==g.lastChild||g.lastChild.type===f.cell?c||(c=f.cell.createAndFill()):l||(l=f.header_cell.createAndFill());for(var b=t.width;b<o;b++)m.push(v);e.insert(e.mapping.slice(s).map(h-1+r),m)}if(i>t.height){for(var y=[],E=0,x=(t.height-1)*t.width;E<Math.max(t.width,o);E++){var k=void 0;if(E>=t.width)k=!1;else{var C=t.map[x+E],S=n.nodeAt(C);if(!S)throw new Error("growTable: no node found at pos ".concat(C));k=S.type===f.header_cell}y.push(k?l||(l=f.header_cell.createAndFill()):c||(c=f.cell.createAndFill()))}for(var T=f.row.create(null,a.Fragment.from(y)),O=[],w=t.height;w<i;w++)O.push(T);e.insert(e.mapping.slice(s).map(r+n.nodeSize-2),O)}return!(!c&&!l)})(g,s,i,n,p,h,m)&&y(),v(g,s,i,n,f,p,u,m)&&y(),v(g,s,i,n,f,p,h,m)&&y(),b(g,s,i,n,u,h,f,m)&&y(),b(g,s,i,n,u,h,p,m)&&y();for(var E=u;E<h;E++){var x=s.positionAt(E,f,i),k=s.positionAt(E,p,i);g.replace(g.mapping.slice(m).map(x+n),g.mapping.slice(m).map(k+n),new a.Slice(o.rows[E-u],0,0))}y(),g.setSelection(new c.CellSelection(g.doc.resolve(n+s.positionAt(u,f,i)),g.doc.resolve(n+s.positionAt(h-1,p-1,i)))),t(g)}})),r.register("lojnh",(function(e,n){t(e.exports,"getCellIndex",(function(){return r})),t(e.exports,"hasMergedColumns",(function(){return o})),t(e.exports,"isRootRow",(function(){return i}));var r=function(e,t,n){return t*e.width+n};function o(e,t,n){var o=r(e,t,n);return n>0&&e.map[o-1]===e.map[o]||n<e.width-1&&e.map[o+1]===e.map[o]}function i(e,t,n){var o=r(e,t,n);return!(t>0)||e.map[o-e.width]!==e.map[o]}})),r.register("1flNG",(function(e,n){function r(e,t){for(var n=0,r=t.map.width-1,o=e.values(),i=o.next(),a=0;a<t.map.height&&!i.done;a++)for(var s=n;s<=r;s++){var c=a*t.map.width+s,l=t.map.map[c],u=i.value.from-t.tableStart;if(l===u){for(var d=r-(n=s)+c,f=c;f<=d&&t.map.map[f]===l;f++)r=n+f-c;if(n===r)return n;i=o.next();break}if(s===t.map.width-1)if(l+t.table.nodeAt(l).nodeSize===u)return t.map.width}return null}t(e.exports,"findColumn",(function(){return r}))})),r.register("4g0Mn",(function(e,n){t(e.exports,"getTableRectFromDoc",(function(){return i}));var o=r("jBp4v");function i(e,t){var n=e.nodeAt(t);if(!n||"table"!==n.type.name)throw new Error('No table at position "'.concat(t,'".'));var r=o.TableMap.get(n),i=e.resolve(t);return{map:r,table:n,tableStart:i.start(i.depth+1),bottom:0,left:0,right:0,top:0}}})),r.register("dKySh",(function(n,o){t(n.exports,"applyCellStep",(function(){return d})),t(n.exports,"getMapFromCellStep",(function(){return f})),t(n.exports,"invertCellStep",(function(){return p})),t(n.exports,"createCellStep",(function(){return h}));var i=r("l15hj"),a=r("h67q9"),s=r("6tqno");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(e){return e&&e.rowspan?e.rowspan-1:0}function d(e,t,n,r,o,i){if(void 0!==r.mergeWith){var a=e.doc.nodeAt(e.mapping.map(r.mergeWith)),c=i-t.map.colCount(r.mergeWith-t.tableStart),l=o?s.removeColSpan(a.attrs,c):s.addColSpan(a.attrs,c);if(l.colspan>0)return e.setNodeMarkup(e.mapping.map(r.mergeWith),void 0,l),{tr:e,skipRows:u(l),cellStep:r};r.from=r.mergeWith,r.to=r.from+a.nodeSize,r.mergeWith=void 0}var d=0;o?(d=u(e.doc.nodeAt(e.mapping.map(r.from)).attrs),e.delete(e.mapping.map(r.from),e.mapping.map(r.to))):r.newCell?(e.insert(e.mapping.map(r.from),r.newCell),d=u(r.newCell.attrs)):e.insert(e.mapping.map(r.from),n.type.createAndFill());return{tr:e,skipRows:d,cellStep:r}}function f(e,t){return void 0!==e.mergeWith?[e.mergeWith,1,1]:t?[e.from,e.to-e.from,0]:e.newCell?[e.from,0,e.newCell.nodeSize]:[e.from,0,4]}function p(t,n,r,o,i){var s=function(t,n,r){if(r)return t.map(n.from)-n.from;var o=f(n,r),i=e(a)(o,3),s=i[1],c=i[2];return t.map(n.from)-n.from-(c-s)}(i,r,o),c=l(l({},r),{},{from:r.from+s,to:r.to+s});if(void 0!==r.mergeWith&&(c.mergeWith=r.mergeWith+s),o){var u=t.nodeAt(r.from);c.newCell=u.copy(u.content);var d=n(),p=d.column,h=d.rect;if(p<h.map.width){var g=h.map.colCount(r.from-h.tableStart)+u.attrs.colspan-1===p;void 0!==r.mergeWith&&g&&(c.mergeWith=c.from,c.from=c.to)}}return c}function h(e,t,n,r){var o={from:e.from,to:e.to};return e.hasMergedCells&&(t!==e.col||n)&&(o.mergeWith=e.from),r&&(void 0!==r.mergeWith&&(o.mergeWith=r.mergeWith),r.newCell&&(o.newCell=r.newCell)),o}})),r.register("6GJnC",(function(n,o){t(n.exports,"SideEffectsHandler",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("chX2n"),c=r("irEVC"),l=function(){function t(n){e(i)(this,t),this.table=new s.TableSideEffectHandler(n&&n.table),this.rows=new c.RowsSideEffectHandler(n&&n.rows)}return e(a)(t,[{key:"getTableMap",value:function(e){return this.table.getTableMap(e)}},{key:"map",value:function(e){var t={},n=this.table.map(e),r=this.rows.map(e);return n&&(t.table=n),r&&(t.rows=r),t}},{key:"invert",value:function(e,t,n){var r={},o=this.table.invert(e);o&&(r.table=o);var i=this.rows.invert(e,t,n);return i&&(r.rows=i),r}},{key:"toJSON",value:function(){var e=this.table.toJSON(),t=this.rows.toJSON();if(e||t){var n={};return e&&(n.table=e),t&&(n.rows=t),n}}}],[{key:"fromJSON",value:function(e,t){var n={};return t.table&&(n.table=s.TableSideEffectHandler.fromJSON(e,t.table)),t.rows&&(n.rows=c.RowsSideEffectHandler.fromJSON(e,t.rows)),n}}]),t}()})),r.register("chX2n",(function(n,o){t(n.exports,"TableSideEffectHandler",(function(){return c}));var i=r("go2dD"),a=r("4NDMl"),s=r("6sW8E"),c=function(){function t(n){e(i)(this,t),n&&(this.table=n)}return e(a)(t,[{key:"addTableSideEffect",value:function(e,t,n){this.table={from:e,to:t,node:n}}},{key:"handleAddTable",value:function(e,t){return!(t||!this.table)&&(e.insert(this.table.from,this.table.node),!0)}},{key:"handleRemoveTable",value:function(e,t,n,r,o){return!(!o||1!==n.map.width||0!==r)&&(this.addTableSideEffect(t,t+n.table.nodeSize,n.table.copy(n.table.content)),e.delete(t,t+n.table.nodeSize),!0)}},{key:"getTableMap",value:function(e){if(this.table){var t=this.table,n=t.from,r=t.to;return e?new s.StepMap([n,r-n,0]):new s.StepMap([n,0,r-n])}}},{key:"map",value:function(e){if(this.table)return{from:e.map(this.table.from),to:e.map(this.table.to),node:this.table.node}}},{key:"invert",value:function(e){if(this.table){var t=e.nodeAt(this.table.from);return{from:this.table.from,to:this.table.from+t.nodeSize,node:t.copy(t.content)}}}},{key:"toJSON",value:function(){if(this.table)return{from:this.table.from,to:this.table.to,node:this.table.node.toJSON()}}}],[{key:"fromJSON",value:function(e,t){return{from:t.from,to:t.to,node:e.nodeFromJSON(t.node)}}}]),t}()})),r.register("irEVC",(function(n,o){t(n.exports,"RowsSideEffectHandler",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("fw3Q6"),l=r("lojnh");function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function h(e,t,n,r){for(var o=t.tableStart,i=0;i<n;i++)o+=t.table.child(i).nodeSize;var a=t.table.child(n),s=o+a.nodeSize;e.delete(e.mapping.map(o),e.mapping.map(s));var c=function(e,t,n,r){for(var o=0,i=t.map,a=t.table,s=t.tableStart,c=0;c<i.width;c++){var l=n*i.width+c,u=i.map[l];if(n>0&&u===i.map[l-i.width]){var d=e.mapping.map(u+s),f=e.doc.nodeAt(d).attrs;e.setNodeMarkup(d,void 0,p(p({},f),{},{rowspan:f.rowspan-1})),c+=f.colspan-1}else c===r&&(o=a.nodeAt(u).attrs.rowspan-1)}return o}(e,t,n,r);return{skipRows:c,row:{from:o,to:s,rowNode:a.copy(a.content)}}}function g(e,t,n,r){var o=r.rowNode.child(0);return e.insert(e.mapping.map(r.from),r.rowNode),function(e,t,n){for(var r=t.map,o=t.tableStart,i=0;i<r.width;i++){var a=n*r.width+i,s=r.map[a],c=e.mapping.map(s+o),l=e.doc.nodeAt(c).attrs;e.setNodeMarkup(c,void 0,p(p({},l),{},{rowspan:l.rowspan+1})),i+=l.colspan-1}}(e,t,n),o.attrs.rowspan-1}var m=function(){function t(n){var r=this;e(i)(this,t),e(s)(this,"deleteHandler",(function(){var e=[];return{handle:function(t,n,r,o,i){if(!function(e,t,n){var r=e.table.child(t);return!!r&&1===r.childCount&&!l.hasMergedColumns(e.map,t,n)}(n,r,o))return{handled:!1};var a=h(t,n,r,o),s=a.row,c=a.skipRows;return e.push(s),{handled:!0,skipRows:c}},end:function(){e.length>0?r.rows=e:r.rows=void 0}}})),e(s)(this,"addHandler",(function(){var e=0,t=0;return{handle:function(n,o,i,a,s){if(!r.rows||t>=r.rows.length)return{handled:!1};for(var c,l;(l=r.rows[t])&&l.from>e&&l.from<s.from;)c=g(n,o,i-1,l),t++;return e=s.from,c&&0!==c?{handled:!0,skipRows:c-1}:{handled:!1}},end:function(e,n,o){if(r.rows&&!(t>=r.rows.length))for(var i;i=r.rows[t];)g(e,n,n.map.height-1,i),t++}}})),this.rows=n}return e(a)(t,[{key:"start",value:function(e){return e?this.deleteHandler():this.addHandler()}},{key:"addRowRanges",value:function(t,n){if(!this.rows)return t;var r,o=[],i=u(this.rows);try{for(i.s();!(r=i.n()).done;){var a=r.value,s=a.from,l=a.to;n?o.push(s,l-s,0):o.push(s,0,l-s)}}catch(e){i.e(e)}finally{i.f()}return function(t,n){for(var r=[],o=t.length,i=n.length,a=0,s=0;a<o&&s<i;)t[a]<n[s]?(r.push(t[a],t[a+1],t[a+2]),a+=3):(r.push(n[s],n[s+1],n[s+2]),s+=3);return a<o&&r.push.apply(r,e(c)(t.slice(a))),s<i&&r.push.apply(r,e(c)(n.slice(a))),r}(t,o)}},{key:"map",value:function(e){return[]}},{key:"invert",value:function(e,t,n){if(this.rows){var r,o=[],i=u(this.rows);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(t){var s=n.map(a.from)-a.from;o.push(p(p({},a),{},{from:a.from+s,to:a.from+s}))}}}catch(e){i.e(e)}finally{i.f()}return o}}},{key:"toJSON",value:function(){if(this.rows){var e,t=[],n=u(this.rows);try{for(n.s();!(e=n.n()).done;){var r=e.value;t.push({from:r.from,to:r.to,rowNode:r.rowNode.toJSON()})}}catch(e){n.e(e)}finally{n.f()}return t}}}],[{key:"fromJSON",value:function(e,t){var n,r=[],o=u(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;r.push({from:i.from,to:i.to,rowNode:e.nodeFromJSON(i.rowNode)})}}catch(e){o.e(e)}finally{o.f()}return r}}]),t}()})),r.register("dOLSc",(function(n,o){t(n.exports,"SetAttrsStep",(function(){return v}));var i=r("EwJf3"),a=r("l15hj"),s=r("go2dD"),c=r("4NDMl"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("6sW8E"),p=r("jWbqG");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var v=function(t){e(l)(r,t);var n=m(r);function r(t,o){var i;return e(s)(this,r),(i=n.call(this)).pos=t,i.attrs=o,i}return e(c)(r,[{key:"apply",value:function(e){var t=e.nodeAt(this.pos);if(!t)return f.StepResult.fail("No node at given position");var n=g(g({},t.attrs||{}),this.attrs||{}),r=t.type.create(n,p.Fragment.empty,t.marks),o=new p.Slice(p.Fragment.from(r),0,t.isLeaf?0:1);return f.StepResult.fromReplace(e,this.pos,this.pos+1,o)}},{key:"invert",value:function(e){var t=e.nodeAt(this.pos);return new r(this.pos,t?t.attrs:{})}},{key:"map",value:function(e){var t=e.mapResult(this.pos,1);return t.deleted?null:new r(t.pos,this.attrs)}},{key:"toJSON",value:function(){return{stepType:"setAttrs",pos:this.pos,attrs:this.attrs}}}],[{key:"fromJSON",value:function(t,n){if("number"!=typeof n.pos||null!==n.attrs&&"object"!==e(i)(n.attrs))throw new RangeError("Invalid input for SetAttrsStep.fromJSON");return new r(n.pos,n.attrs)}}]),r}(f.Step);f.Step.jsonID("setAttrs",v)})),r.register("6xsO7",(function(n,o){t(n.exports,"AnalyticsStep",(function(){return x}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("6sW8E"),h=r("jWbqG");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b,y,E="atlaskit-analytics";(y=b||(b={})).UNDID="undid",y.REDID="redid";var x=function(t){e(l)(r,t);var n=g(r);function r(t){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0;return e(a)(this,r),o=n.call(this),e(f)(e(c)(o),"analyticsEvents",[]),e(f)(e(c)(o),"actionsToIgnore",[]),o.analyticsEvents=t,o.actionsToIgnore=i,o.pos=s,o}return e(s)(r,[{key:"invert",value:function(){var e=this;return new r(this.analyticsEvents.filter((function(t){return-1===e.actionsToIgnore.indexOf(t.payload.action)})).map((function(e){return(t=e).payload.action===b.UNDID||t.payload.action===b.REDID?function(e){return v(v({},e),{},{payload:v(v({},e.payload),{},{action:e.payload.action===b.UNDID?b.REDID:b.UNDID})})}(e):function(e){var t;return v(v({},e),{},{payload:{action:b.UNDID,actionSubject:e.payload.actionSubject,actionSubjectId:e.payload.action,attributes:v(v({},e.payload.attributes),{},{actionSubjectId:e.payload.actionSubjectId,inputMethod:(null===(t=e.payload.attributes)||void 0===t?void 0:t.inputMethod)||""}),eventType:"track"}})}(e);var t})),[])}},{key:"apply",value:function(e){return p.StepResult.ok(e)}},{key:"map",value:function(e){var t=this.pos;return"number"==typeof t&&(t=e.map(t)),new r(this.analyticsEvents,this.actionsToIgnore,t)}},{key:"getMap",value:function(){return"number"==typeof this.pos?new p.StepMap([this.pos,0,0]):new p.StepMap([])}},{key:"merge",value:function(t){if(t instanceof r){var n=t.analyticsEvents;return new r([].concat(e(i)(n),e(i)(this.analyticsEvents)))}return null}},{key:"toJSON",value:function(){return{stepType:E}}}],[{key:"fromJSON",value:function(){return new p.ReplaceStep(0,0,h.Slice.empty)}}]),r}(p.Step);p.Step.jsonID(E,x)})),r.register("3tyDm",(function(e,n){t(e.exports,"RenderTracking",(function(){return s}));var o=r("61szk"),i=r("fDkDb");r("cTu5S");var a=r("9V1f8");function s(e){return function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],c=arguments.length>5?arguments[5]:void 0,l=o.useRef(),u=o.useRef(0);o.useEffect((function(){var o=l.current,d=u.current;if(o){var f=c?i.getShallowPropsDifference(o,e):i.getPropsDifference(o,e,0,2,s);r({payload:{action:t,actionSubject:n,attributes:{propsDifference:f,count:d},eventType:a.EVENT_TYPE.OPERATIONAL}})}l.current=e,u.current=u.current+1}))}(e.componentProps,e.action,e.actionSubject,e.handleAnalyticsEvent,e.propsToIgnore,e.useShallow),null}})),r.register("fDkDb",(function(n,o){t(n.exports,"getPropsDifference",(function(){return u})),t(n.exports,"getShallowPropsDifference",(function(){return d}));var i=r("EwJf3"),a=r("61szk"),s=Object.keys,c=function(e,t){var n=null!==e?s(e):[],r=null!==t?s(t):[],o=n.filter((function(e){return!r.includes(e)}));return{added:r.filter((function(e){return!n.includes(e)})),common:n.filter((function(e){return r.includes(e)})),removed:o}},l=function(t){var n=e(i)(t);return null===t?"null":void 0===t?"undefined":"string"===n||"number"===n?t:"symbol"===n?t.toString():"function"===n?"function:".concat(t.name):"object"===n?{type:"object",keys:Object.keys(t)}:void 0},u=function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],d=c(n,r),f=d.added,p=d.common,h=d.removed,g=[];return p.forEach((function(c){var d=n[c],f=r[c],p=e(i)(d),h=e(i)(f);if(d!==f&&-1===u.indexOf(c))if(e(a).isValidElement(d)||e(a).isValidElement(f))g.push({key:c,reactElementChanged:!0});else if("object"===p&&"object"===h)if(o<=s){var m=t(d,f,o+1,s);g.push({key:c,difference:m})}else g.push({key:c,maxDepthReached:!0});else g.push({key:c,oldValue:l(d),newValue:l(f)})})),{added:f,changed:g,removed:h}},d=function(e,t){var n=c(e,t),r=n.added,o=n.common,i=n.removed;return{added:r,changed:o.filter((function(n){return e[n]!==t[n]})),removed:i}}})),r.register("cTu5S",(function(e,n){t(e.exports,"analyticsPluginKey",(function(){return a})),t(e.exports,"default",(function(){return s})),t(e.exports,"ACTION_SUBJECT_ID",(function(){return r("9V1f8").ACTION_SUBJECT_ID})),t(e.exports,"ACTION_SUBJECT",(function(){return r("9V1f8").ACTION_SUBJECT})),t(e.exports,"ACTION",(function(){return r("9V1f8").ACTION})),t(e.exports,"BROWSER_FREEZE_INTERACTION_TYPE",(function(){return r("hHCgI").BROWSER_FREEZE_INTERACTION_TYPE})),t(e.exports,"EVENT_TYPE",(function(){return r("9V1f8").EVENT_TYPE})),t(e.exports,"FULL_WIDTH_MODE",(function(){return r("hHCgI").FULL_WIDTH_MODE})),t(e.exports,"INDENT_DIRECTION",(function(){return r("3HJS8").INDENT_DIRECTION})),t(e.exports,"INDENT_TYPE",(function(){return r("3HJS8").INDENT_TYPE})),t(e.exports,"INPUT_METHOD",(function(){return r("9V1f8").INPUT_METHOD})),t(e.exports,"MODE",(function(){return r("hHCgI").MODE})),t(e.exports,"PasteContents",(function(){return r("lqz6P").PasteContents})),t(e.exports,"PasteTypes",(function(){return r("lqz6P").PasteTypes})),t(e.exports,"PLATFORMS",(function(){return r("hHCgI").PLATFORMS})),t(e.exports,"PUNC",(function(){return r("iNKox").PUNC})),t(e.exports,"SYMBOL",(function(){return r("iNKox").SYMBOL})),t(e.exports,"TABLE_ACTION",(function(){return r("lMXcr").TABLE_ACTION})),t(e.exports,"TABLE_BREAKOUT",(function(){return r("lMXcr").TABLE_BREAKOUT})),t(e.exports,"TRIGGER_METHOD",(function(){return r("9V1f8").TRIGGER_METHOD})),t(e.exports,"USER_CONTEXT",(function(){return r("hWlcJ").USER_CONTEXT})),t(e.exports,"DELETE_DIRECTION",(function(){return r("362X0").DELETE_DIRECTION})),t(e.exports,"LIST_TEXT_SCENARIOS",(function(){return r("362X0").LIST_TEXT_SCENARIOS})),t(e.exports,"withAnalytics",(function(){return r("hNVBR").withAnalytics})),t(e.exports,"addAnalytics",(function(){return r("hNVBR").addAnalytics})),t(e.exports,"getAnalyticsEventsFromTransaction",(function(){return r("hNVBR").getAnalyticsEventsFromTransaction})),t(e.exports,"fireAnalyticsEvent",(function(){return r("4bO6W").fireAnalyticsEvent}));var o=r("g1dZG"),i=r("caisQ");r("kH7oN");r("9V1f8"),r("hHCgI"),r("3HJS8"),r("hWlcJ"),r("lqz6P"),r("iNKox"),r("lMXcr"),r("362X0"),r("hNVBR"),r("4bO6W");var a=i.analyticsPluginKey,s=o.default})),r.register("g1dZG",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("l15hj"),a=r("fw3Q6"),s=r("eBSbE");r("igW5C");var c=r("iJTyt"),l=r("f7OFS");r("kH7oN");var u=r("9V1f8"),d=r("hNVBR"),f=r("caisQ"),p=r("4bO6W"),h=r("lWHVr");r("ksxA8");var g=r("6xsO7"),m=r("htuWa");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){return b(b({},e),{},{attributes:b(b({},e.attributes),{},{duration:t}),eventType:u.EVENT_TYPE.OPERATIONAL})}var k=function(t){return{name:"analytics",pmPlugins:function(){return[{name:"analyticsPlugin",plugin:function(){return function(e){if(e&&e.createAnalyticsEvent){var t=c.isPerformanceAPIAvailable();return new s.Plugin({key:f.analyticsPluginKey,state:{init:function(){return e},apply:function(e,n,r,o){var i;if(null!==(i=h.getFeatureFlags(o))&&void 0!==i&&i.catchAllTracking){var a=d.getAnalyticsEventsFromTransaction(e);if(a.length>0){var s,c=y(a);try{var f=function(){var r=s.value,o=r.payload,i=r.channel;if(t&&e.docChanged&&o.action!==u.ACTION.INSERTED&&o.action!==u.ACTION.DELETED){var a="".concat(o.actionSubject,":").concat(o.action,":").concat(o.actionSubjectId);l.measureRender(a,(function(e){p.fireAnalyticsEvent(n.createAnalyticsEvent)({payload:x(o,e),channel:i})}))}};for(c.s();!(s=c.n()).done;)f()}catch(e){c.e(e)}finally{c.f()}}}return n}}})}}(t)}}]},onEditorViewStateUpdated:function(t){var n=t.originalTransaction,r=t.transactions,o=t.newEditorState,i=f.analyticsPluginKey.getState(o);if(i&&i.createAnalyticsEvent){var s=r.reduce((function(t,n){var r=n.steps.filter((function(e){return e instanceof g.AnalyticsStep})).map((function(e){return e.analyticsEvents})).reduce((function(e,t){return e.concat(t)}),[]);return t.push.apply(t,e(a)(r)),t}),[]);if(0!==s.length){var c=i.createAnalyticsEvent,l=m.generateUndoRedoInputSoucePayload(n);s.forEach((function(e){var t=e.payload,n=e.channel,r=l(t);p.fireAnalyticsEvent(c)({payload:r,channel:n})}))}}}}}})),r.register("kH7oN",(function(e,n){t(e.exports,"ACTION",(function(){return r("9V1f8").ACTION})),t(e.exports,"ACTION_SUBJECT",(function(){return r("9V1f8").ACTION_SUBJECT})),t(e.exports,"ACTION_SUBJECT_ID",(function(){return r("9V1f8").ACTION_SUBJECT_ID})),t(e.exports,"EVENT_TYPE",(function(){return r("9V1f8").EVENT_TYPE})),t(e.exports,"INPUT_METHOD",(function(){return r("9V1f8").INPUT_METHOD})),t(e.exports,"TRIGGER_METHOD",(function(){return r("9V1f8").TRIGGER_METHOD})),t(e.exports,"CONTENT_COMPONENT",(function(){return r("9V1f8").CONTENT_COMPONENT})),t(e.exports,"INDENT_DIRECTION",(function(){return r("3HJS8").INDENT_DIRECTION})),t(e.exports,"INDENT_TYPE",(function(){return r("3HJS8").INDENT_TYPE})),t(e.exports,"PUNC",(function(){return r("iNKox").PUNC})),t(e.exports,"SYMBOL",(function(){return r("iNKox").SYMBOL})),t(e.exports,"BROWSER_FREEZE_INTERACTION_TYPE",(function(){return r("hHCgI").BROWSER_FREEZE_INTERACTION_TYPE})),t(e.exports,"FULL_WIDTH_MODE",(function(){return r("hHCgI").FULL_WIDTH_MODE})),t(e.exports,"MODE",(function(){return r("hHCgI").MODE})),t(e.exports,"PLATFORMS",(function(){return r("hHCgI").PLATFORMS})),t(e.exports,"USER_CONTEXT",(function(){return r("hWlcJ").USER_CONTEXT})),t(e.exports,"TABLE_ACTION",(function(){return r("lMXcr").TABLE_ACTION})),t(e.exports,"TABLE_BREAKOUT",(function(){return r("lMXcr").TABLE_BREAKOUT})),t(e.exports,"PasteContents",(function(){return r("lqz6P").PasteContents})),t(e.exports,"PasteTypes",(function(){return r("lqz6P").PasteTypes})),t(e.exports,"DELETE_DIRECTION",(function(){return r("362X0").DELETE_DIRECTION})),t(e.exports,"LIST_TEXT_SCENARIOS",(function(){return r("362X0").LIST_TEXT_SCENARIOS}));r("9V1f8"),r("3HJS8"),r("iNKox"),r("hHCgI"),r("hWlcJ"),r("lMXcr"),r("lqz6P"),r("362X0")})),r.register("9V1f8",(function(e,n){var r,o,i,a,s,c,l,u,d,f,p,h,g,m,v,b;t(e.exports,"EVENT_TYPE",(function(){return r})),t(e.exports,"ACTION",(function(){return i})),t(e.exports,"INPUT_METHOD",(function(){return s})),t(e.exports,"TRIGGER_METHOD",(function(){return l})),t(e.exports,"ACTION_SUBJECT",(function(){return d})),t(e.exports,"ACTION_SUBJECT_ID",(function(){return p})),t(e.exports,"CONTENT_COMPONENT",(function(){return v})),(o=r||(r={})).OPERATIONAL="operational",o.SCREEN="screen",o.TRACK="track",o.UI="ui",(a=i||(i={})).ACTIVATED="activated",a.ADDED="added",a.BROWSER_FREEZE="browserFreeze",a.CHANGED_FULL_WIDTH_MODE="changedFullWidthMode",a.CHANGED_LAYOUT="changedLayout",a.CHANGED_REPLACEMENT_TEXT="changedReplacementText",a.CHANGED_TYPE="changedType",a.CHANGED_URL="changedUrl",a.CLEARED="cleared",a.CLICKED="clicked",a.CLOSED="closed",a.COMMITTED="committed",a.CONVERTED="converted",a.COPIED="copied",a.CUT="cut",a.DEACTIVATED="deactivated",a.DECREMENTED="decremented",a.DELETED="deleted",a.DISCARDED_INVALID_STEPS_FROM_TRANSACTION="discardedInvalidStepsFromTransaction",a.DISMISSED="dismissed",a.DISPATCHED_INVALID_TRANSACTION="dispatchedInvalidTransaction",a.DISPATCHED_VALID_TRANSACTION="dispatchedValidTransaction",a.EDITED="edited",a.EDITOR_CRASHED="unhandledErrorCaught",a.EDITOR_CRASHED_ADDITIONAL_INFORMATION="unhandledErrorCaughtAdditionalInfo",a.EDITOR_MOUNTED="mounted",a.EDITOR_TTI="tti",a.EDITOR_CONTENT_RETRIEVAL_PERFORMED="contentRetrievalPerformed",a.RE_RENDERED="reRendered",a.ENTERED="entered",a.ERRORED="errored",a.FAILED_TO_UNMOUNT="failedToUnmount",a.FIND_NEXT_PERFORMED="findNextPerformed",a.FIND_PERFORMED="findPerformed",a.FIND_PREV_PERFORMED="findPrevPerformed",a.FORMATTED="formatted",a.HELP_OPENED="helpOpened",a.HIGHLIGHTED="highlighted",a.INCREMENTED="incremented",a.INDENTED="indented",a.INITIALISED="initialised",a.INPUT_PERF_SAMPLING="inputPerfSampling",a.INSERTED="inserted",a.INVOKED="invoked",a.LANGUAGE_SELECTED="languageSelected",a.LIST_ITEM_JOINED="listItemJoined",a.NODE_CONTENT_SANITIZED="nodeContentSanitized",a.OPENED="opened",a.OUTDENTED="outdented",a.PASTED="pasted",a.PASTED_AS_PLAIN="pastedAsPlain",a.PASTED_TIMED="pastedTimed",a.PROSEMIRROR_RENDERED="proseMirrorRendered",a.REACT_NODEVIEW_RENDERED="reactNodeViewRendered",a.REPLACED_ALL="replacedAll",a.REPLACED_ONE="replacedOne",a.RESOLVED="resolved",a.SELECTED="selected",a.SHOWN="shown",a.SLOW_INPUT="slowInput",a.STARTED="started",a.STOPPED="stopped",a.SUBSTITUTED="autoSubstituted",a.SYNCHRONY_DISCONNECTED="synchronyDisconnected",a.SYNCHRONY_ENTITY_ERROR="synchronyEntityError",a.SYNCHRONY_ERROR="synchronyError",a.TOGGLE_EXPAND="toggleExpand",a.TRANSACTION_DISPATCHED="transactionDispatched",a.TYPING_FINISHED="typingFinished",a.TYPING_STARTED="typingStarted",a.UNLINK="unlinked",a.UNSUPPORTED_CONTENT_ENCOUNTERED="unsupportedContentEncountered",a.UPDATED="updated",a.UPLOAD_EXTERNAL_FAIL="uploadExternalFailed",a.VIEWED="viewed",a.VISITED="visited",a.WITH_PLUGIN_STATE_CALLED="withPluginStateCalled",a.FIXED="fixed",a.RENDERED="rendered",a.ON_EDITOR_READY_CALLBACK="onEditorReadyCallback",a.ON_CHANGE_CALLBACK="onChangeCalled",(c=s||(s={})).ASCII="ascii",c.AUTO="auto",c.AUTO_DETECT="autoDetect",c.BUTTON="button",c.BLUR="blur",c.CARD="card",c.CLIPBOARD="clipboard",c.CONFIG_PANEL="configPanel",c.CONTEXT_MENU="contextMenu",c.DRAG_AND_DROP="dragAndDrop",c.EXTERNAL="external",c.EXTENSION_API="extensionApi",c.FLOATING_TB="floatingToolbar",c.FORMATTING="autoformatting",c.INSERT_MENU="insertMenu",c.KEYBOARD="keyboard",c.MACRO_BROWSER="macroBrowser",c.MANUAL="manual",c.PICKER="picker",c.PICKER_CLOUD="cloudPicker",c.PREFILL="prefill",c.QUICK_INSERT="quickInsert",c.SHORTCUT="shortcut",c.TOOLBAR="toolbar",c.TYPEAHEAD="typeAhead",(u=l||(l={})).BUTTON="button",u.KEYBOARD="keyboard",u.SHORTCUT="shortcut",u.TOOLBAR="toolbar",(f=d||(d={})).TOOLBAR_BUTTON="toolbarButton",f.BUTTON="button",f.CONFIG_PANEL="configPanel",f.CONTENT_COMPONENT="contentComponent",f.DATE="date",f.DATE_SEGMENT="dateSegment",f.DOCUMENT="document",f.EDITOR="editor",f.ELEMENT_BROWSER="elementBrowser",f.EMBEDS="embeds",f.EXPAND="expand",f.EXTENSION="extension",f.FEEDBACK_DIALOG="feedbackDialog",f.FIND_REPLACE_DIALOG="findReplaceDialog",f.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",f.FLOATING_TOOLBAR_PLUGIN="floatingToolbarPlugin",f.HELP="help",f.LAYOUT="layout",f.LIST="list",f.MEDIA="media",f.MEDIA_SINGLE="mediaSingle",f.NESTED_EXPAND="nestedExpand",f.PANEL="panel",f.PICKER="picker",f.PLUS_MENU="plusMenu",f.PLUGIN_SLOT="pluginSlot",f.REACT_NODE_VIEW="reactNodeView",f.SMART_LINK="smartLink",f.TABLE="table",f.TABLES_PLUGIN="tablesPlugin",f.TEXT="text",f.TOOLBAR="toolbar",f.TYPEAHEAD="typeAhead",f.TYPEAHEAD_ITEM="typeAheadItem",f.ANNOTATION="annotation",f.SEARCH_RESULT="searchResult",f.CREATE_LINK_INLINE_DIALOG="createLinkInlineDialog",f.CODE_BLOCK="codeBlock",f.REACT_EDITOR_VIEW="reactEditorView",(h=p||(p={})).ACTION="action",h.ALL="all",h.ALT_TEXT="altText",h.ANNOTATE_BUTTON="annotateButton",h.AVATAR_GROUP_PLUGIN="AvatarGroupInPlugin",h.BLOCK_QUOTE="blockQuote",h.BUTTON_FEEDBACK="feedbackButton",h.BUTTON_HELP="helpButton",h.BUTTON_CATEGORY="categoryButton",h.CANCEL="cancel",h.CARD_BLOCK="blockCard",h.CAPTION="caption",h.CARD_INLINE="inlineCard",h.CELL="cell",h.CODE_BLOCK="codeBlock",h.DATE="date",h.DATE_DAY="day",h.DATE_MONTH="month",h.DATE_YEAR="year",h.DECISION="decision",h.DIVIDER="divider",h.EMOJI="emoji",h.EXPAND="expand",h.EXTENSION="extension",h.EXTENSION_API="extensionApi",h.EXTENSION_BLOCK="extension",h.EXTENSION_BODIED="bodiedExtension",h.EXTENSION_INLINE="inlineExtension",h.FORMAT_BLOCK_QUOTE="blockQuote",h.FORMAT_CLEAR="clearFormatting",h.FORMAT_CODE="code",h.FORMAT_COLOR="color",h.FORMAT_HEADING="heading",h.FORMAT_INDENT="indentation",h.FORMAT_ITALIC="italic",h.FORMAT_LIST_BULLET="bulletedList",h.FORMAT_LIST_NUMBER="numberedList",h.FORMAT_STRIKE="strike",h.FORMAT_STRONG="strong",h.FORMAT_SUB="subscript",h.FORMAT_SUPER="superscript",h.FORMAT_UNDERLINE="underline",h.HELP_QUICK_INSERT="helpQuickInsert",h.INLINE_COMMENT="inlineComment",h.LAYOUT="layout",h.RICH_MEDIA_LAYOUT="richMediaLayout",h.LINE_BREAK="lineBreak",h.LINK="link",h.LINK_PREVIEW="linkPreview",h.MEDIA="media",h.MEDIA_SINGLE="mediaSingle",h.MEDIA_GROUP="mediaGroup",h.MEDIA_LINK="mediaLink",h.MENTION="mention",h.NESTED_EXPAND="nestedExpand",h.NODE="node",h.PANEL="panel",h.PASTE_BLOCK_CARD="blockCard",h.PASTE_BLOCKQUOTE="blockQuote",h.PASTE_BODIED_EXTENSION="bodiedExtension",h.PASTE_BULLET_LIST="bulletList",h.PASTE_CODE_BLOCK="codeBlock",h.PASTE_DECISION_LIST="decisionList",h.PASTE_EXPAND="expand",h.PASTE_EXTENSION="extension",h.PASTE_HEADING="heading",h.PASTE_MEDIA_GROUP="mediaGroup",h.PASTE_MEDIA_SINGLE="mediaSingle",h.PASTE_NESTED_EXPAND="nestedExpand",h.PASTE_ORDERED_LIST="orderedList",h.PASTE_PANEL="panel",h.PASTE_PARAGRAPH="paragraph",h.PASTE_RULE="rule",h.PASTE_TABLE="table",h.PASTE_TABLE_CELL="tableCell",h.PASTE_TABLE_HEADER="tableHeader",h.PASTE_TABLE_ROW="tableRow",h.PASTE_TASK_LIST="taskList",h.PICKER_COLOR="colorPicker",h.PICKER_CLOUD="cloudPicker",h.PICKER_EMOJI="emojiPicker",h.PRODUCT_NAME="productName",h.PLACEHOLDER_TEXT="placeholderText",h.PUNC="punctuation",h.RANGE="range",h.REACT_NODE_VIEW="reactNodeView",h.RESIZED="resized",h.SAVE="save",h.SECTION="section",h.SMART_LINK="smartLink",h.STATUS="status",h.SYMBOL="symbol",h.TABLE="table",h.TEXT="text",h.TYPEAHEAD_EMOJI="emojiTypeAhead",h.TYPEAHEAD_LINK="linkTypeAhead",h.TYPEAHEAD_MENTION="mentionTypeAhead",h.TYPEAHEAD_QUICK_INSERT="quickInsertTypeAhead",h.UNSUPPORTED_BLOCK="unsupportedBlock",h.UNSUPPORTED_INLINE="unsupportedInline",h.UNSUPPORTED_MARK="unsupportedMark",h.UNKNOWN_NODE="unknownNode",h.RECENT_ACTIVITIES="recentActivities",h.QUICK_SEARCH="quickSearch",h.LINK_SEARCH_INPUT="linkSearchInput",h.PRE_QUERY_SEARCH_RESULTS="preQuerySearchResults",h.POST_QUERY_SEARCH_RESULTS="postQuerySearchResults",(m=g||(g={})).CODE_BLOCK="codeBlockFloatingControls",m.EXTENSION="extensionFloatingControls",m.HYPERLINK="hyperlinkFloatingControls",m.MEDIA="mediaFloatingControls",m.PANEL="panelFloatingControls",m.TABLE="tableFloatingControls",m.EXPAND="expandToolbar",(b=v||(v={})).INLINE_COMMENT="inlineComment",b.FLOATING_CONTEXTUAL_BUTTON="floatingContextualButton",b.FLOATING_INSERT_BUTTON="floatingInsertButton",b.FLOATING_TOOLBAR="floatingToolbar"})),r.register("3HJS8",(function(e,n){var r,o,i,a;t(e.exports,"INDENT_DIRECTION",(function(){return r})),t(e.exports,"INDENT_TYPE",(function(){return i})),(o=r||(r={})).INDENT="indent",o.OUTDENT="outdent",(a=i||(i={})).PARAGRAPH="paragraph",a.LIST="list",a.HEADING="heading",a.CODE_BLOCK="codeBlock",a.TASK_LIST="taskList"})),r.register("iNKox",(function(e,n){var r,o,i,a;t(e.exports,"SYMBOL",(function(){return r})),t(e.exports,"PUNC",(function(){return i})),(o=r||(r={})).ARROW_RIGHT="rightArrow",o.ARROW_LEFT="leftArrow",o.ARROW_DOUBLE="doubleArrow",(a=i||(i={})).DASH="emDash",a.ELLIPSIS="ellipsis",a.QUOTE_SINGLE="singleQuote",a.QUOTE_DOUBLE="doubleQuote"})),r.register("hHCgI",(function(e,n){var r,o,i,a,s,c,l,u;t(e.exports,"PLATFORMS",(function(){return r})),t(e.exports,"MODE",(function(){return i})),t(e.exports,"FULL_WIDTH_MODE",(function(){return s})),t(e.exports,"BROWSER_FREEZE_INTERACTION_TYPE",(function(){return l})),(o=r||(r={})).NATIVE="mobileNative",o.HYBRID="mobileHybrid",o.WEB="web",(a=i||(i={})).RENDERER="renderer",a.EDITOR="editor",(c=s||(s={})).FIXED_WIDTH="fixedWidth",c.FULL_WIDTH="fullWidth",(u=l||(l={})).LOADING="loading",u.TYPING="typing",u.CLICKING="clicking",u.PASTING="pasting"})),r.register("hWlcJ",(function(e,n){var r,o,i,a,s,c,l,u;t(e.exports,"USER_CONTEXT",(function(){return r})),(o=r||(r={})).EDIT="edit",o.NEW="new",(a=i||(i={})).RESOLVED="resolved",a.UNRESOLVED="unresolved",(c=s||(s={})).TEXT="text",c.INLINE_CARD="inlineCard",c.BLOCK_CARD="blockCard",c.EMBED="embed",(u=l||(l={})).JIRA="jiraIssue",u.CONFLUENCE="confluencePage",u.BITBUCKET_PR="bitbucketPR",u.BITBUCKET_REPO="bitbucketRepo",u.TRELLO_CARD="trelloCard",u.TRELLO_BOARD="trelloBoard",u.STATUS_PAGE="statusPage",u.BOX="boxFile",u.DROPBOX="dropboxFile",u.OFFICE="office",u.DRIVE="drive",u.YOUTUBE="youtubeVideo",u.TWITTER="twitterTweet",u.OTHER="other"})),r.register("lMXcr",(function(e,n){var r,o,i,a;t(e.exports,"TABLE_ACTION",(function(){return r})),t(e.exports,"TABLE_BREAKOUT",(function(){return i})),(o=r||(r={})).DELETED="deleted",o.CLEARED="cleared",o.MERGED="merged",o.SPLIT="split",o.COLORED="colored",o.TOGGLED_HEADER_COLUMN="toggledHeaderColumn",o.TOGGLED_HEADER_ROW="toggledHeaderRow",o.TOGGLED_NUMBER_COLUMN="toggledNumberColumn",o.CHANGED_BREAKOUT_MODE="changedBreakoutMode",o.CUT="cut",o.COPIED="copied",o.ADDED_ROW="addedRow",o.ADDED_COLUMN="addedColumn",o.DELETED_ROW="deletedRow",o.DELETED_COLUMN="deletedColumn",o.SORTED_COLUMN="sortedColumn",o.REPLACED="replaced",o.ATTEMPTED_TABLE_WIDTH_CHANGE="attemptedTableWidthChange",o.DISTRIBUTED_COLUMNS_WIDTHS="distributedColumnsWidths",(a=i||(i={})).WIDE="wide",a.FULL_WIDTH="fullWidth",a.NORMAL="normal"})),r.register("lqz6P",(function(e,n){t(e.exports,"PasteTypes",(function(){return r})),t(e.exports,"PasteContents",(function(){return o}));var r={richText:"richText",plain:"plain",markdown:"markdown",binary:"binary"},o={text:"text",url:"url",code:"code",mediaSingle:"mediaSingle",mediaCard:"mediaCard",mediaGroup:"mediaGroup",tableCells:"tableCells",table:"table",expand:"expand",nestedExpand:"nestedExpand",mixed:"mixed",blockquote:"blockquote",blockCard:"blockCard",bodiedExtension:"bodiedExtension",bulletList:"bulletList",codeBlock:"codeBlock",decisionList:"decisionList",decisionItem:"decisionItem",extension:"extension",heading:"heading",layoutSection:"layoutSection",orderedList:"orderedList",panel:"panel",rule:"rule",tableHeader:"tableHeader",tableRow:"tableRow",taskItem:"taskItem",uncategorized:"uncategorized"}})),r.register("362X0",(function(e,n){var r,o,i,a;t(e.exports,"DELETE_DIRECTION",(function(){return r})),t(e.exports,"LIST_TEXT_SCENARIOS",(function(){return i})),(o=r||(r={})).BACKWARD="backward",o.FORWARD="forward",(a=i||(i={})).JOIN_SIBLINGS="joinSiblings",a.JOIN_DESCENDANT_TO_PARENT="joinDescendantToParent",a.JOIN_TO_SIBLING_DESCENDANT="joinToSiblingDescendant",a.JOIN_PARAGRAPH_WITH_LIST="joinParagraphWithList",a.JOIN_PARENT_SIBLING_TO_PARENT_CHILD="joinParentSiblingToParentChild",a.JOIN_LIST_ITEM_WITH_PARAGRAPH="joinListItemWithParagraph"})),r.register("hNVBR",(function(n,o){t(n.exports,"addAnalytics",(function(){return k})),t(n.exports,"withAnalytics",(function(){return C})),t(n.exports,"getAnalyticsEventsFromTransaction",(function(){return S}));var i=r("fw3Q6"),a=r("l15hj"),s=r("iFBc4"),c=r("bKnyF"),l=r("eBSbE"),u=r("1wUBP");r("ksxA8");var d=r("6xsO7"),f=r("46vX8");r("kH7oN");var p=r("9V1f8"),h=r("b2rFa"),g=r("caisQ");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(e){var t;return null===(t=g.analyticsPluginKey.getState(e))||void 0===t?void 0:t.createAnalyticsEvent}function y(e,t){if(!t.attributes)return t;var n=function(e){var t,n,r=e.selection;if(r instanceof u.GapCursorSelection)t=h.SELECTION_TYPE.GAP_CURSOR,n=r.side===u.Side.LEFT?h.SELECTION_POSITION.LEFT:h.SELECTION_POSITION.RIGHT;else if(r instanceof c.CellSelection)t=h.SELECTION_TYPE.CELL;else if(r instanceof l.NodeSelection)t=h.SELECTION_TYPE.NODE;else if(r.from!==r.to)t=h.SELECTION_TYPE.RANGED;else{t=h.SELECTION_TYPE.CURSOR;var o=r.from,i=r.$from;n=o===i.start()?h.SELECTION_POSITION.START:o===i.end()?h.SELECTION_POSITION.END:h.SELECTION_POSITION.MIDDLE}return{type:t,position:n}}(e),r=n.type,o=n.position;t.attributes.selectionType=r,o&&(t.attributes.selectionPosition=o);var i=function(e){var t=e.selection;if(t instanceof l.NodeSelection)return t.node.type.name;if(t instanceof c.CellSelection)return e.schema.nodes.table.name;var n=s.findParentNode((function(t){return t.type!==e.schema.nodes.paragraph}))(e.selection);return n?n.node.type.name:e.doc.type.name}(e);return t.action===p.ACTION.INSERTED&&t.actionSubject===p.ACTION_SUBJECT.DOCUMENT&&t.attributes?t.attributes.insertLocation=i:t.attributes.nodeLocation=i,t}function E(e){var t=e.action===p.ACTION.INSERTED&&e.actionSubject===p.ACTION_SUBJECT.DOCUMENT,n=e.action===p.ACTION.FORMATTED&&e.actionSubject===p.ACTION_SUBJECT.TEXT;return!!e.actionSubjectId&&(t||n)&&(e.attributes=v(v({},e.attributes),{},{actionSubjectId:e.actionSubjectId})),e}var x=[p.ACTION.INVOKED,p.ACTION.OPENED];function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:f.editorAnalyticsChannel,o=b(e);if(n=E(n=y(e,n)),o){var i=t.storedMarks;t.step(new d.AnalyticsStep([{payload:n,channel:r}],x,t.selection.$from.pos)),i&&t.setStoredMarks(i)}return t}function C(e,t){return function(n){return function(r,o,i){return n(r,(function(n){if(o)if(e instanceof Function){var i=e(r);i&&o(k(r,n,i,t))}else o(k(r,n,e,t))}),i)}}}function S(t){return t.steps.filter((function(e){return e instanceof d.AnalyticsStep})).reduce((function(t,n){return[].concat(e(i)(t),e(i)(n.analyticsEvents))}),[])}})),r.register("46vX8",(function(e,n){t(e.exports,"analyticsEventKey",(function(){return i})),t(e.exports,"editorAnalyticsChannel",(function(){return a}));var o=r("eFHDY");r("igW5C");var i=r("a8mog").analyticsEventKey,a=o.FabricChannel.editor})),r.register("b2rFa",(function(e,n){var r,o,i,a;t(e.exports,"SELECTION_TYPE",(function(){return r})),t(e.exports,"SELECTION_POSITION",(function(){return i})),(o=r||(r={})).CURSOR="cursor",o.RANGED="ranged",o.GAP_CURSOR="gapCursor",o.NODE="node",o.CELL="cell",(a=i||(i={})).START="start",a.MIDDLE="middle",a.END="end",a.LEFT="left",a.RIGHT="right"})),r.register("caisQ",(function(e,n){t(e.exports,"analyticsPluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("analyticsPlugin")})),r.register("4bO6W",(function(e,n){t(e.exports,"fireAnalyticsEvent",(function(){return a}));var o=r("46vX8"),i=r("1nChg"),a=function(e){return function(t){var n,r=t.payload,a=t.channel,s=void 0===a?o.editorAnalyticsChannel:a;e&&(Boolean(e.__queueAnalytics)?i.AnalyticsQueue.get().schedule((function(){var t;return null===(t=e(r))||void 0===t?void 0:t.fire(s)})):null===(n=e(r))||void 0===n||n.fire(s))}}})),r.register("1nChg",(function(n,o){t(n.exports,"AnalyticsQueue",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("6gvxN"),l=function(){function t(){e(i)(this,t),e(s)(this,"tasks",[]),e(s)(this,"running",!1)}return e(a)(t,[{key:"request",value:function(e){if(window.requestIdleCallback)window.requestIdleCallback(e);else{var t=performance.now();setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(performance.now()-t))}})}),0)}}},{key:"pending",value:function(){var e,t,n,r;return"function"==typeof(null===(e=window.navigator)||void 0===e||null===(t=e.scheduling)||void 0===t?void 0:t.isInputPending)&&!0===(null===(n=window.navigator)||void 0===n||null===(r=n.scheduling)||void 0===r?void 0:r.isInputPending())}},{key:"process",value:function(){var e=this;this.running||(this.running=!0,this.request((function(t){for(;t.timeRemaining()>0&&e.tasks.length>0&&!e.pending();){var n=e.tasks.shift();n&&n()}e.running=!1,e.tasks.length>0&&e.process()})))}},{key:"schedule",value:function(e){this.tasks.push(e),this.process()}}]),t}();e(s)(l,"get",c.default((function(){return new l})))})),r.register("lWHVr",(function(n,o){t(n.exports,"getFeatureFlags",(function(){return d})),t(n.exports,"useFeatureFlags",(function(){return f})),t(n.exports,"default",(function(){return p}));var i=r("l15hj"),a=r("eBSbE"),s=r("5f4Cw");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=new a.PluginKey("featureFlagsContextPlugin"),d=function(e){return u.getState(e)},f=function(){var e=s.useEditorContext().editorActions,t=null==e?void 0:e._privateGetEditorView();return null!=t&&t.state?u.getState(t.state):void 0},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"featureFlagsContext",pmPlugins:function(){return[{name:"featureFlagsContext",plugin:function(){return new a.Plugin({key:u,state:{init:function(){return l({},e)},apply:function(e,t){return t}}})}}]}}}})),r.register("5f4Cw",(function(n,o){t(n.exports,"useEditorContext",(function(){return m})),t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("l15hj"),d=r("61szk"),f=r("hm2s2"),p=r("7FBL9");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var g=e(d).createContext({}),m=function(){return e(d).useContext(g)},v=function(t){e(s)(r,t);var n=h(r);function r(t){var o;return e(i)(this,r),(o=n.call(this,t)).editorActions=t.editorActions||new p.default,o}return e(a)(r,[{key:"getChildContext",value:function(){return{editorActions:this.editorActions}}},{key:"render",value:function(){return e(d).createElement(g.Provider,{value:this.getChildContext()},this.props.children)}}]),r}(e(d).Component);e(u)(v,"childContextTypes",{editorActions:e(f).object})})),r.register("7FBL9",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("l15hj"),u=r("jWbqG"),d=r("eBSbE"),f=r("9J8af"),p=r("l9fpM"),h=r("1NNGa"),g=r("8PQwY"),m=r("iFBc4");r("igW5C");var v=r("a8mog"),b=r("cZcDC"),y=function(){function t(){var n=this;e(s)(this,t),e(l)(this,"listeners",[]),e(l)(this,"dispatchAnalyticsEvent",(function(e){n.eventDispatcher&&g.createDispatch(n.eventDispatcher)(v.analyticsEventKey,{payload:e})}))}var n,r;return e(c)(t,[{key:"_privateGetEditorView",value:function(){return this.editorView}},{key:"_privateGetEventDispatcher",value:function(){return this.eventDispatcher}},{key:"_privateRegisterEditor",value:function(e,t,n){if(this.contentTransformer=n,this.eventDispatcher=t,!this.editorView&&e)this.editorView=e,this.listeners.forEach((function(n){return n(e,t)}));else if(this.editorView!==e)throw new Error("Editor has already been registered! It's not allowed to re-register editor with the new Editor instance.");this.contentTransformer&&(this.contentEncode=this.contentTransformer.encode.bind(this.contentTransformer))}},{key:"_privateUnregisterEditor",value:function(){this.editorView=void 0,this.contentTransformer=void 0,this.contentEncode=void 0,this.eventDispatcher=void 0}},{key:"_privateSubscribe",value:function(e){this.editorView&&this.eventDispatcher&&e(this.editorView,this.eventDispatcher),this.listeners.push(e)}},{key:"_privateUnsubscribe",value:function(e){this.listeners=this.listeners.filter((function(t){return t!==e}))}},{key:"focus",value:function(){return!(!this.editorView||this.editorView.hasFocus())&&(this.editorView.focus(),this.editorView.dispatch(this.editorView.state.tr.scrollIntoView()),!0)}},{key:"blur",value:function(){return!(!this.editorView||!this.editorView.hasFocus())&&(this.editorView.dom.blur(),!0)}},{key:"clear",value:function(){if(!this.editorView)return!1;var e=this.editorView,t=e.state,n=e.state.tr.setSelection(d.TextSelection.create(t.doc,0,t.doc.nodeSize-2)).deleteSelection();return e.dispatch(n),!0}},{key:"__temporaryFixForConfigPanel",value:(r=e(a)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.editorView){e.next=3;break}return e.abrupt("return");case 3:h.__temporaryFixForConfigPanel(n);case 4:case"end":return e.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"getValue",value:(n=e(a)(e(i).mark((function t(){var n,r,o,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.editorView){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,h.getEditorValueWithMedia(n);case 5:if(r=e.sent,o=f.toJSON(r),this.contentEncode){e.next=9;break}return e.abrupt("return",o);case 9:return a=u.Node.fromJSON(this.editorView.state.schema,o),e.abrupt("return",this.contentEncode(a));case 11:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getNodeByLocalId",value:function(e){var t,n,r;if(null!==(t=this.editorView)&&void 0!==t&&t.state)return null===(n=b.findNodePosWithLocalId(null===(r=this.editorView)||void 0===r?void 0:r.state,e))||void 0===n?void 0:n.node}},{key:"isDocumentEmpty",value:function(){return!this.editorView||p.isEmptyDocument(this.editorView.state.doc)}},{key:"replaceDocument",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.editorView||null==e)return!1;var r=this.editorView.state,o=r.schema,i=p.processRawValue(o,e,void 0,void 0,this.contentTransformer,this.dispatchAnalyticsEvent);if(!i)return!1;var a=r.tr.replaceWith(0,r.doc.nodeSize-2,i.content);return t||a.selectionSet||a.setSelection(d.Selection.atStart(a.doc)),t&&(a=a.scrollIntoView()),n||a.setMeta("addToHistory",!1),this.editorView.dispatch(a),!0}},{key:"replaceSelection",value:function(e,t){if(!this.editorView)return!1;var n=this.editorView.state;if(!e){var r=n.tr.deleteSelection().scrollIntoView();return this.editorView.dispatch(r),!0}var o=n.schema,i=p.processRawValue(o,e);return!!i&&(this.editorView.dispatch(m.safeInsert(i,void 0,t)(n.tr).scrollIntoView()),!0)}},{key:"appendText",value:function(e){if(!this.editorView||!e)return!1;var t=this.editorView.state,n=t.doc.lastChild;if(n&&n.type!==t.schema.nodes.paragraph)return!1;var r=t.tr.insertText(e).scrollIntoView();return this.editorView.dispatch(r),!0}}],[{key:"from",value:function(e,n,r){var o=new t;return o._privateRegisterEditor(e,n,r),o}}]),t}()})),r.register("1NNGa",(function(n,o){t(n.exports,"__temporaryFixForConfigPanel",(function(){return d})),t(n.exports,"getEditorValueWithMedia",(function(){return p})),t(n.exports,"cascadeCommands",(function(){return g}));var i=r("9ePZF"),a=r("cNgp7"),s=r("eBSbE"),c=r("gOGfy"),l=r("e3yG9"),u=r("bjJNi");function d(e){return f.apply(this,arguments)}function f(){return(f=e(a)(e(i).mark((function t(n){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.state&&c.pluginKey.getState(n.state))||!r.showContextPanel){e.next=4;break}return e.next=4,new Promise((function(e){l.forceAutoSave(e)(n.state,n.dispatch)}));case 4:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function p(e){return h.apply(this,arguments)}function h(){return(h=e(a)(e(i).mark((function t(n){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=n.state&&u.stateKey.getState(n.state))||!r.waitForMediaUpload){e.next=4;break}return e.next=4,r.waitForPendingTasks();case 4:return e.abrupt("return",n.state.doc);case 5:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function g(e){return function(t,n){var r=t.tr,o=!1,i=function(e){var t=e.selection.toJSON();r.setSelection(s.Selection.fromJSON(r.doc,t)),e.steps.forEach((function(e){r.step(e)})),o=!0};return e.forEach((function(e){return e(t,i)})),!(!n||!o)&&(n(r),!0)}}})),r.register("gOGfy",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("extensionPlugin")})),r.register("e3yG9",(function(n,o){t(n.exports,"updateState",(function(){return f})),t(n.exports,"setEditingContextToContextPanel",(function(){return p})),t(n.exports,"clearEditingContext",(function(){return h})),t(n.exports,"forceAutoSave",(function(){return g})),t(n.exports,"updateExtensionLayout",(function(){return m})),t(n.exports,"removeExtension",(function(){return v}));var i=r("l15hj"),a=r("iFBc4"),s=r("2f4Gc"),c=r("9NzCT"),l=r("cZcDC");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(e){return c.createCommand({type:"UPDATE_STATE",data:e})}function p(e,t){return c.createCommand({type:"UPDATE_STATE",data:{showContextPanel:!0,processParametersBefore:e,processParametersAfter:t}},s.applyChange)}var h=c.createCommand({type:"UPDATE_STATE",data:{showContextPanel:!1,processParametersBefore:void 0,processParametersAfter:void 0}},s.applyChange),g=function(e){return c.createCommand({type:"UPDATE_STATE",data:{autoSaveResolve:e}},s.applyChange)},m=(c.createCommand({type:"UPDATE_STATE",data:{showContextPanel:!0}},s.applyChange),function(e){return c.createCommand({type:"UPDATE_STATE",data:{layout:e}},(function(t,n){var r=l.getSelectedExtension(n,!0);return r?t.setNodeMarkup(r.pos,void 0,d(d({},r.node.attrs),{},{layout:e})):t}))}),v=function(){return c.createCommand({type:"UPDATE_STATE",data:{element:void 0}},(function(e,t){return l.getSelectedExtension(t)?a.removeSelectedNode(e):a.removeParentNodeOfType(t.schema.nodes.bodiedExtension)(e)}))}})),r.register("2f4Gc",(function(e,n){t(e.exports,"applyChange",(function(){return i}));var o=r("kgqXi"),i=function(e){return e.setMeta(o.pluginKey,{changed:!0})}})),r.register("kgqXi",(function(n,o){t(n.exports,"pluginKey",(function(){return l})),t(n.exports,"default",(function(){return d}));var i=r("l15hj"),a=r("eBSbE");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=new a.PluginKey("contextPanelPluginKey");function u(e,t){return new a.Plugin({key:l,state:{init:function(t,n){return{handlers:e,contents:e.map((function(e){return e(n)}))}},apply:function(e,n,r,o){var i=n,a=e.getMeta(l);if(e.docChanged||e.selectionSet||a&&a.changed){var s=n.handlers.map((function(e){return e(o)}));(s.length!==i.contents.length||s.some((function(e){return i.contents.indexOf(e)<0})))&&(i=c(c({},i),{},{contents:s}))}return i!==n&&t(l,i),i}}})}var d=function(){return{name:"contextPanel",pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"contextPanel",plugin:function(t){var n=t.dispatch;return u(e.filter(Boolean),n)}}]}}}})),r.register("9NzCT",(function(n,o){t(n.exports,"createPluginState",(function(){return f})),t(n.exports,"createCommand",(function(){return p})),t(n.exports,"getPluginState",(function(){return h}));var i=r("l15hj"),a=r("27k6c"),s=r("9ZsKm"),c=r("gOGfy");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=a.pluginFactory(c.pluginKey,s.default,{mapping:function(e,t){var n=t.positions;if(!n)return t;var r=u({},n);for(var o in r)r[o]=e.mapping.map(r[o]);return u(u({},t),{},{positions:r})}}),f=d.createPluginState,p=d.createCommand,h=d.getPluginState})),r.register("27k6c",(function(e,n){function r(e){return"function"==typeof e}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.mapping,i=n.onDocChanged,a=n.onSelectionChanged;return{createPluginState:function(n,s){return{init:function(e,t){return r(s)?s(t):s},apply:function(r,s){var c=o?o(r,s):s,l=c,u=r.getMeta(e);return u&&(l=t(c,u)),i&&r.docChanged?l=i(r,l):a&&r.selectionSet&&(l=a(r,l)),l!==c&&n(e,l),l}}},createCommand:function(t,n){return function(o,i){if(i){var a=n?n(o.tr,o):o.tr,s=r(t)?t(o):t;if(!a||!s)return!1;i(a.setMeta(e,s))}return!0}},getPluginState:function(t){return e.getState(t)}}}t(e.exports,"pluginFactory",(function(){return o}))})),r.register("9ZsKm",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function c(e,t){return"UPDATE_STATE"===t.type?s(s({},e),t.data):e}})),r.register("cZcDC",(function(e,n){t(e.exports,"getSelectedExtension",(function(){return s})),t(e.exports,"findExtensionWithLocalId",(function(){return c})),t(e.exports,"getSelectedDomElement",(function(){return l})),t(e.exports,"getDataConsumerMark",(function(){return u})),t(e.exports,"getNodeTypesReferenced",(function(){return d})),t(e.exports,"findNodePosWithLocalId",(function(){return f}));var o=r("iFBc4"),i=r("eNOQT"),a=r("bw07A"),s=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.schema.nodes,r=n.inlineExtension,i=n.extension,a=n.bodiedExtension,s=[i,a,r];return o.findSelectedNodeOfType(s)(e.selection)||t&&o.findParentNodeOfType(s)(e.selection)||void 0},c=function(e,t){var n=s(e,!0);if(!t)return n;if(n&&n.node.attrs.localId===t)return n;var r,o=e.schema.nodes,i=o.inlineExtension,a=[o.extension,o.bodiedExtension,i];return e.doc.descendants((function(e,n){a.includes(e.type)&&e.attrs.localId===t&&(r={node:e,pos:n})})),r},l=function(e,t,n){var r=o.findDomRefAtPos(n.pos,t);return(n.node.type!==e.nodes.bodiedExtension?r.querySelector(".extension-container"):i.closestElement(r,".extension-container")||r.querySelector(".extension-container"))||r},u=function(e){var t;return null===(t=e.marks)||void 0===t?void 0:t.find((function(e){return"dataConsumer"===e.type.name}))},d=function(e,t){return a.findNodePosByLocalIds(t,e,{includeDocNode:!0}).map((function(e){return e.node.type.name}))},f=function(e,t){var n=a.findNodePosByLocalIds(e,[t]);return n.length>=1?n[0]:void 0}})),r.register("bw07A",(function(e,n){t(e.exports,"findNodePosByLocalIds",(function(){return r}));var r=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[];if(0===t.length)return[];var i=new Set(t);return r.includeDocNode&&i.has(null===(n=e.doc.attrs)||void 0===n?void 0:n.localId)&&o.push({node:e.doc,pos:0}),e.doc.descendants((function(e,t){var n;return i.has(null===(n=e.attrs)||void 0===n?void 0:n.localId)&&o.push({node:e,pos:t}),i.size!==o.length})),o}})),r.register("bjJNi",(function(e,n){t(e.exports,"stateKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("mediaPlugin")})),r.register("htuWa",(function(n,o){t(n.exports,"generateUndoRedoInputSoucePayload",(function(){return l}));var i=r("l15hj"),a=r("hRsXM");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e){var t=function(e){return e.getMeta(a.pluginKey)||null}(e);return function(e){return t&&["undid","redid"].includes(e.action)?c(c({},e),{},{attributes:c(c({},e.attributes),{},{historyTriggerMethod:t})}):e}}})),r.register("hRsXM",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("undoRedoPlugin")})),r.register("cUUp5",(function(n,o){t(n.exports,"default",(function(){return oe}));var i=r("EwJf3"),a=r("l15hj"),s=r("cTu5S"),c=r("beWlT"),l=r("klHCz"),u=r("iEBY6"),d=r("j6ytT"),f=r("2DBnX"),p=r("4qElB"),h=r("2PyWs"),g=r("anYE1"),m=r("7qM92"),v=r("8etVI"),b=r("cZ8wF"),y=r("j57Oe"),E=r("aA4KS"),x=r("GGUau"),k=r("7Rd80"),C=r("3c2T5"),S=r("chuDv"),T=r("68pEp"),O=r("ab8eR"),w=r("406gC"),N=r("eodZh"),P=r("9SLsk"),A=r("fDqqy"),I=r("5cZja"),D=r("7jCsY"),R=r("3B4Nb"),M=r("1heP2"),_=r("lmGgt"),j=r("5cOWK"),B=r("EY0qU"),L=r("f5ZB1"),F=r("4BQuA"),z=r("kgqXi"),W=r("dxzo9"),U=r("jWTGF"),H=r("6jQdx"),V=r("fq1GI"),K=r("iiCbN"),G=r("kYmAs"),J=r("h7KVa"),q=r("ilAl4"),Y=r("4Ty4K"),Z=r("2I9mb"),X=r("6Oaav"),Q=r("2qBZt"),$=r("4ZGJ8");r("igW5C");var ee=r("brEbx");function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?te(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function re(e){var t=e.appearance,n=e.persistScrollGutter;return Y.isFullPage(t)?{getScrollElement:function(){return document.querySelector(".fabric-editor-popup-scroll-parent")}}:"mobile"===t?{getScrollElement:function(){return document.body},allowCustomScrollHandler:!1,persistScrollGutter:n,gutterSize:Z.GUTTER_SIZE_MOBILE_IN_PX}:void 0}function oe(t,n,r){var o,a,Z,te,oe=t.appearance,ie="mobile"===oe,ae="comment"===oe,se=Y.isFullPage(oe),ce=$.createDefaultPreset(function(e,t){var n,r,o,i=e.appearance,a="mobile"===i,s=null===(n=e.performanceTracking)||void 0===n?void 0:n.inputTracking;return{createAnalyticsEvent:t,featureFlags:X.createFeatureFlagsFromProps(e),paste:{cardOptions:e.smartLinks||e.UNSAFE_cards,sanitizePrivateContent:e.sanitizePrivateContent},base:{allowInlineCursorTarget:!a,allowScrollGutter:re(e),inputTracking:s,browserFreezeTracking:null===(r=e.performanceTracking)||void 0===r?void 0:r.bFreezeTracking},blockType:{lastNodeMustBeParagraph:"comment"===i||"chromeless"===i,allowBlockType:e.allowBlockType,isUndoRedoButtonsEnabled:e.UNSAFE_allowUndoRedoButtons},placeholder:{placeholder:e.placeholder,placeholderHints:e.placeholderHints,placeholderBracketHint:e.placeholderBracketHint},textFormatting:ne(ne({},e.textFormatting||{}),{},{responsiveToolbarMenu:null!=(null===(o=e.textFormatting)||void 0===o?void 0:o.responsiveToolbarMenu)?e.textFormatting.responsiveToolbarMenu:e.UNSAFE_allowUndoRedoButtons}),annotationProviders:e.annotationProviders,submitEditor:e.onSave,quickInsert:{enableElementBrowser:e.elementBrowser&&e.elementBrowser.showModal,elementBrowserHelpUrl:e.elementBrowser&&e.elementBrowser.helpUrl,disableDefaultItems:a,headless:a},selection:{useLongPressSelection:!1},cardOptions:e.smartLinks||e.UNSAFE_cards,codeBlock:ne(ne({},e.codeBlock),{},{useLongPressSelection:!1})}}(t,r)),le=X.createFeatureFlagsFromProps(t),ue=le.localIdGenerationOnTables;if(t.allowAnalyticsGASV3){var de=t.performanceTracking;ce.add([s.default,{createAnalyticsEvent:r,performanceTracking:de}])}if(t.allowBreakout&&se&&ce.add([c.default,{allowBreakoutButton:"full-page"===t.appearance}]),t.allowTextAlignment&&ce.add(l.default),le.dataConsumerMark&&ce.add([u.default,{allowDataConsumerMarks:!0}]),t.allowTextColor&&ce.add([d.default,t.allowTextColor]),ce.add(f.default),t.allowRule&&ce.add(p.default),t.allowExpand&&ce.add([h.default,{allowInsertion:h.isExpandInsertionEnabled(t),useLongPressSelection:!1}]),t.media){ce.add([g.default,{shouldCalcBreakoutGridLines:se}]);var fe=void 0!==t.media.alignLeftOnInsert?t.media.alignLeftOnInsert:ae,pe=void 0!==t.media.allowAdvancedToolBarOptions?t.media.allowAdvancedToolBarOptions:se||ae;ce.add([m.default,ne(ne({},t.media),{},{allowLazyLoading:!ie,allowBreakoutSnapPoints:se,allowAdvancedToolBarOptions:pe,allowDropzoneDropLine:se,allowMediaSingleEditable:!ie,allowRemoteDimensionsFetch:!ie,allowMarkingUploadsAsIncomplete:ie,fullWidthEnabled:"full-width"===t.appearance,uploadErrorHandler:t.uploadErrorHandler,waitForMediaUpload:t.waitForMediaUpload,isCopyPasteEnabled:!ie,alignLeftOnInsert:fe})]),Q.getMediaFeatureFlag("captions",t.media.featureFlags)&&ce.add(v.default)}t.mentionProvider&&ce.add([b.default,{createAnalyticsEvent:r,sanitizePrivateContent:t.sanitizePrivateContent,insertDisplayName:null!==(a=null===(Z=t.mention)||void 0===Z?void 0:Z.insertDisplayName)&&void 0!==a?a:t.mentionInsertDisplayName,useInlineWrapper:ie,allowZeroWidthSpaceAfter:!ie,HighlightComponent:null===(te=t.mention)||void 0===te?void 0:te.HighlightComponent}]);if(t.emojiProvider&&ce.add([y.default,{createAnalyticsEvent:r,useInlineWrapper:ie,allowZeroWidthSpaceAfter:!ie}]),t.allowTables){var he=t.allowTables&&"boolean"!=typeof t.allowTables?t.allowTables:{};ce.add([E.default,{tableOptions:he,breakoutEnabled:"full-page"===t.appearance,allowContextualMenu:!ie,fullWidthEnabled:"full-width"===t.appearance,wasFullWidthEnabled:n&&"full-width"===n.appearance,dynamicSizingEnabled:t.allowDynamicTextSizing,allowLocalIdGeneration:ue}])}if((t.allowTasksAndDecisions||t.taskDecisionProvider)&&ce.add([x.default,{allowNestedTasks:t.allowNestedTasks,consumeTabs:se,useLongPressSelection:!1}]),t.feedbackInfo&&ce.add([k.default,t.feedbackInfo]),t.allowHelpDialog&&ce.add([C.default,t.legacyImageUploadProvider]),t.saveOnEnter&&ce.add([S.default,t.onSave]),t.legacyImageUploadProvider&&(ce.add(T.default),t.media||ce.add([m.default,{allowMediaSingle:{disableLayout:!0},allowMediaGroup:!1,isCopyPasteEnabled:!0}])),t.collabEdit||t.collabEditProvider){var ge,me={sanitizePrivateContent:t.sanitizePrivateContent};t.collabEdit&&(me=ne(ne({},t.collabEdit),me)),ce.add([O.default,ne(ne({},me),{},{EXPERIMENTAL_allowInternalErrorAnalytics:null!==(ge=me.EXPERIMENTAL_allowInternalErrorAnalytics)&&void 0!==ge?ge:ee.shouldForceTracking()})])}if(t.maxContentSize&&ce.add([w.default,t.maxContentSize]),t.allowJiraIssue&&ce.add(N.default),t.allowPanel&&ce.add([P.default,{useLongPressSelection:!1,UNSAFE_allowCustomPanel:t.allowPanel.UNSAFE_allowCustomPanel}]),t.allowExtension){var ve="object"===e(i)(t.allowExtension)?t.allowExtension:{};ce.add([A.default,{breakoutEnabled:"full-page"===t.appearance&&!1!==ve.allowBreakout,stickToolbarToBottom:ve.stickToolbarToBottom,allowAutoSave:ve.allowAutoSave,extensionHandlers:t.extensionHandlers,useLongPressSelection:!1,appearance:oe}])}if(t.macroProvider&&ce.add(I.default),!t.annotationProviders&&t.allowConfluenceInlineComment&&ce.add(D.default),t.allowDate&&ce.add(R.default),t.allowTemplatePlaceholders){var be=!0!==t.allowTemplatePlaceholders?t.allowTemplatePlaceholders:{};ce.add([M.default,be])}if(t.allowLayouts&&ce.add([_.default,ne(ne({},"boolean"==typeof t.allowLayouts?{}:t.allowLayouts),{},{useLongPressSelection:!1})]),t.smartLinks||t.UNSAFE_cards){var ye="full-width"===t.appearance;ce.add([j.default,ne(ne(ne({},t.UNSAFE_cards),t.smartLinks),{},{platform:ie?"mobile":"web",fullWidthMode:ye})])}t.autoformattingProvider&&ce.add(B.default);var Ee,xe=!0;(t.allowStatus&&(xe="object"===e(i)(t.allowStatus)&&t.allowStatus.menuDisabled,ce.add([L.default,{menuDisabled:xe,useInlineWrapper:ie,allowZeroWidthSpaceAfter:!ie}])),t.allowIndentation&&ce.add(F.default),se&&ce.add(z.default),!1!==t.autoScrollIntoView&&ce.add(W.default),(ie||t.UNSAFE_allowUndoRedoButtons)&&ce.add(U.default),ie&&(ce.add(H.default),ce.add(V.mobileSelectionPlugin)),ce.add([K.default,{allowTables:!!t.allowTables,allowExpand:h.isExpandInsertionEnabled(t),insertMenuItems:t.insertMenuItems,horizontalRuleEnabled:t.allowRule,nativeStatusSupported:!xe,showElementBrowserLink:t.elementBrowser&&t.elementBrowser.showModal||!1,replacePlusMenuWithElementBrowser:t.elementBrowser&&t.elementBrowser.replacePlusMenu||!1,allowLocalIdGenerationOnTables:ue}]),!0===(null===(o=t.featureFlags)||void 0===o?void 0:o.showAvatarGroupAsPlugin)&&ce.add([G.default,{collabEdit:t.collabEdit}]),t.allowFindReplace)&&ce.add([J.default,{takeFullWidth:!1==!(null===(Ee=t.featureFlags)||void 0===Ee||!Ee.showAvatarGroupAsPlugin)}]);le.codeBidiWarnings&&ce.add(q.default);var ke=new Set;return function(e){return-1===(e&&e.allowBlockType&&e.allowBlockType.exclude?e.allowBlockType.exclude:[]).indexOf("codeBlock")}({allowBlockType:t.allowBlockType})||ke.add("codeBlock"),ce.getEditorPlugins(ke)}})),r.register("ab8eR",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("fw3Q6"),a=r("9ePZF"),s=r("cNgp7"),c=r("l0BQM"),l=r("7ayR4"),u=(r("7AegD"),r("4rTmw")),d=r("eHgdo"),f=function(t){var n=function(){},r=function(t){return function(){var n=e(s)(e(a).mark((function n(r,o){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:if(!(i=e.sent)){e.next=6;break}return e.abrupt("return",r(i));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o?o(e.t0):console.error(e.t0);case 11:case"end":return e.stop()}}),n,null,[[0,8]])})));return function(e,t){return n.apply(this,arguments)}}()}(new Promise((function(e){n=e})));return{name:"collabEdit",pmPlugins:function(){var o=t||{},a=o.useNativePlugin,s=void 0!==a&&a,u=o.userId,d=void 0===u?null:u;return[].concat(e(i)(s?[{name:"pmCollab",plugin:function(){return c.collab({clientID:d})}}]:[]),[{name:"collab",plugin:function(e){var o=e.dispatch,i=e.providerFactory;return i&&i.subscribe("collabEditProvider",(function(e,t){t&&t.then((function(e){return n(e)}))})),l.createPlugin(o,i,r,t)}}])},onEditorViewStateUpdated:function(e){var n=d.addSynchronyErrorAnalytics(e.newEditorState,e.newEditorState.tr);r(u.sendTransaction({originalTransaction:e.originalTransaction,transactions:e.transactions,oldEditorState:e.oldEditorState,newEditorState:e.newEditorState,useNativePlugin:t&&t.useNativePlugin}),n)}}}})),r.register("l0BQM",(function(e,n){t(e.exports,"collab",(function(){return c})),t(e.exports,"receiveTransaction",(function(){return l}));var o=r("eBSbE"),i=function(e,t,n){this.step=e,this.inverted=t,this.origin=n};var a=function(e,t){this.version=e,this.unconfirmed=t};var s=new o.PluginKey("collab");function c(e){return void 0===e&&(e={}),e={version:e.version||0,clientID:null==e.clientID?Math.floor(4294967295*Math.random()):e.clientID},new o.Plugin({key:s,state:{init:function(){return new a(e.version,[])},apply:function(e,t){var n=e.getMeta(s);return n||(e.docChanged?new a(t.version,t.unconfirmed.concat(function(e){for(var t=[],n=0;n<e.steps.length;n++)t.push(new i(e.steps[n],e.steps[n].invert(e.docs[n]),e));return t}(e))):t)}},config:e,historyPreserveItems:!0})}function l(e,t,n,r){for(var c=s.getState(e),l=c.version+t.length,u=s.get(e).spec.config.clientID,d=0;d<n.length&&n[d]==u;)++d;var f=c.unconfirmed.slice(d);if(!(t=d?t.slice(d):t).length)return e.tr.setMeta(s,new a(l,f));var p=f.length,h=e.tr;if(p)f=function(e,t,n){for(var r=e.length-1;r>=0;r--)n.step(e[r].inverted);for(var o=0;o<t.length;o++)n.step(t[o]);for(var a=[],s=0,c=e.length;s<e.length;s++){var l=e[s].step.map(n.mapping.slice(c));c--,l&&!n.maybeStep(l).failed&&(n.mapping.setMirror(c,n.steps.length-1),a.push(new i(l,l.invert(n.docs[n.docs.length-1]),e[s].origin)))}return a}(f,t,h);else{for(var g=0;g<t.length;g++)h.step(t[g]);f=[]}var m=new a(l,f);return r&&r.mapSelectionBackward&&e.selection instanceof o.TextSelection&&(h.setSelection(o.TextSelection.between(h.doc.resolve(h.mapping.map(e.selection.anchor,-1)),h.doc.resolve(h.mapping.map(e.selection.head,-1)),-1)),h.updated&=-2),h.setMeta("rebased",p).setMeta("addToHistory",!1).setMeta(s,m)}})),r.register("7ayR4",(function(e,n){t(e.exports,"createPlugin",(function(){return l})),t(e.exports,"pluginKey",(function(){return r("7AegD").pluginKey}));var o=r("eBSbE"),i=r("kNTAC"),a=r("lJHy3"),s=r("7AegD"),c=r("eHgdo"),l=function(e,t,n,r){return new o.Plugin({key:s.pluginKey,state:{init:function(e){return a.PluginState.init(e)},apply:function(t,n,r,o){var i=n.apply(t);return e(s.pluginKey,i),i}},props:{decorations:function(e){return this.getState(e).decorations}},filterTransaction:function(e,t){var n=s.pluginKey.getState(t);return!!e.getMeta("collabInitialised")||!(!n.isReady&&e.docChanged)},view:function(e){var o=c.addSynchronyErrorAnalytics(e.state,e.state.tr),a=n(i.initialize({view:e,options:r,providerFactory:t}),o);return{destroy:function(){t.unsubscribeAll("collabEditProvider"),a&&a.then((function(e){e&&e()}))}}}})}})),r.register("kNTAC",(function(e,n){t(e.exports,"initialize",(function(){return l}));var o=r("6sW8E"),i=r("6gvxN"),a=r("iieBQ"),s=r("7AegD"),c=i.default((function(e,t){e.initialize((function(){return t.state}),(function(e){return o.Step.fromJSON(t.state.schema,e)}))})),l=function(e){var t=e.options,n=e.providerFactory,r=e.view;return function(e){var o;return s.pluginKey.getState(r.state).isReady&&o&&o(),o=a.subscribe(r,e,t,n),c(e,r),o}}})),r.register("iieBQ",(function(e,n){t(e.exports,"subscribe",(function(){return u}));var o,i,a,s,c=r("7GcIS"),l=r("eHgdo"),u=(o=function(e,t,n,r){var o,i=function(){l.addSynchronyEntityAnalytics(e.state,e.state.tr)("disconnected")},a=function(){l.addSynchronyEntityAnalytics(e.state,e.state.tr)("error")},s=function(){o&&(o.off("disconnected",i),o.off("error",a))},u=function(t){e.dispatch(e.state.tr.setMeta("collabInitialised",!0)),c.handleInit(t,e,n)},d=function(t){return c.handleConnection(t,e)},f=function(t){return c.applyRemoteData(t,e,n)},p=function(t){return c.handlePresence(t,e)},h=function(t){return c.handleTelePointer(t,e)},g=function(t){var n=t.steps,r=e.state.tr;n.forEach((function(e){return r.step(e)})),e.dispatch(r)},m=function(t){l.addSynchronyErrorAnalytics(e.state,e.state.tr)(t)},v=function(e){var t=e.entity;s(),n.EXPERIMENTAL_allowInternalErrorAnalytics&&(t.on("disconnected",i),t.on("error",a),o=t)};return t.on("init",u).on("connected",d).on("data",f).on("presence",p).on("telepointer",h).on("local-steps",g).on("error",m).on("entity",v),function(){s(),t.off("init",u).off("connected",d).off("data",f).off("presence",p).off("telepointer",h).off("local-steps",g).off("error",m).off("entity",v)}},i=function(e,t){return t&&t.every((function(t,n){return t===e[n]}))},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return s&&i(a,t)||(s=o.apply(void 0,t),a=t),s})})),r.register("7GcIS",(function(n,o){t(n.exports,"handleInit",(function(){return u})),t(n.exports,"handleConnection",(function(){return d})),t(n.exports,"handlePresence",(function(){return f})),t(n.exports,"applyRemoteData",(function(){return p})),t(n.exports,"handleTelePointer",(function(){return g})),t(n.exports,"getSendableSelection",(function(){return b}));var i=r("h67q9"),a=r("l0BQM"),s=r("6sW8E"),c=r("eBSbE"),l=r("bZAC6"),u=function(e,t,n){var r=e.doc,o=e.json,i=e.version,a=e.reserveCursor;if(r){var s=t.state,c=l.replaceDocument(r,s,i,n,a);c.setMeta("isRemote",!0),t.dispatch(c)}else o&&h(o,void 0,t)},d=function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("sessionId",e))},f=function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("presence",e))},p=function(e,t,n){var r=e.json,o=e.userIds;r&&h(r,void 0===o?[]:o,t,n)},h=function(t,n,r,o){if(t&&t.length){var c,l=r.state,u=r.state.schema,d=t.map((function(e){return s.Step.fromJSON(u,e)}));if(o&&o.useNativePlugin&&n?c=a.receiveTransaction(l,d,n):(c=l.tr,d.forEach((function(e){return c.step(e)}))),c){c.setMeta("addToHistory",!1),c.setMeta("isRemote",!0);var f=l.selection,p=f.from,h=f.to,g=e(i)(t,1)[0];p===g.from&&h===g.to&&c.setSelection(l.selection.map(c.doc,c.mapping)),r.dispatch(c)}}},g=function(e,t){var n=t.state.tr;t.dispatch(n.setMeta("telepointer",e))};function m(e){return e instanceof c.AllSelection}function v(e){return e instanceof c.NodeSelection}var b=function(e){return{type:"textSelection",anchor:e.anchor,head:m(e)||v(e)?e.head-1:e.head}}})),r.register("bZAC6",(function(n,o){t(n.exports,"colors",(function(){return d})),t(n.exports,"getAvatarColor",(function(){return f})),t(n.exports,"findPointers",(function(){return p})),t(n.exports,"createTelepointers",(function(){return h})),t(n.exports,"replaceDocument",(function(){return g}));var i=r("EwJf3"),a=r("eBSbE"),s=r("9MUi0"),c=r("cufhv"),l=r("ekJGA");r("igW5C");var u=r("b6rQF"),d=[c.R100,c.R300,c.R500,c.Y100,c.Y300,c.Y500,c.G100,c.G300,c.G500,c.T100,c.T300,c.T500,c.B100,c.B300,c.B500,c.P100,c.P300,c.P500,c.N70,c.N200,c.N800].map((function(e){return{solid:e,selection:l.hexToRgba(e,.2)}})),f=function(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;var r=Math.abs(t)%d.length;return{index:r,color:d[r]}},p=function(e,t){return t.find().reduce((function(t,n){return n.spec.pointer.sessionId===e?t.concat(n):t}),[])};var h=function(e,t,n,r,o){var i=[],a=f(n),c=a.index.toString();if(r){var l="telepointer color-".concat(c," telepointer-selection");i.push(s.Decoration.inline(e,t,{class:l,"data-initial":o},{pointer:{sessionId:n}}))}var d=document.createElement("span");return d.textContent=u.ZERO_WIDTH_SPACE,d.className="telepointer color-".concat(c," telepointer-selection-badge"),d.style.cssText="".concat(function(e){var t=e&&e.color||"black";return"border-left: 1px solid ".concat(t,"; border-right: 1px solid ").concat(t,"; margin-right: -2px;")}({color:a.color.solid}),";"),d.setAttribute("data-initial",o),i.concat(s.Decoration.widget(t,d,{pointer:{sessionId:n},key:"telepointer-".concat(n)}))},g=function(t,n,r,o,s){var c=n.schema,l=n.tr,u=(t.content||[]).map((function(e){return c.nodeFromJSON(e)}));if(!!u.length){l.setMeta("addToHistory",!1),l.replaceWith(0,n.doc.nodeSize-2,u);var d=n.selection;if(s){if(d.to<l.doc.content.size-2){var f=l.doc.resolve(d.from),p=l.doc.resolve(d.to),h=new a.TextSelection(f,p);l.setSelection(h)}}else l.setSelection(a.Selection.atStart(l.doc));if(l.setMeta("replaceDocument",!0),void 0!==e(i)(r)&&o&&o.useNativePlugin){var g={version:r,unconfirmed:[]};l.setMeta("collab$",g)}}return l}})),r.register("eHgdo",(function(e,n){t(e.exports,"addSynchronyErrorAnalytics",(function(){return l})),t(e.exports,"addSynchronyEntityAnalytics",(function(){return u})),r("cTu5S");var o=r("9V1f8"),i=r("hNVBR"),a=r("lWHVr"),s=r("3pogS");r("igW5C");var c=r("4XiPG"),l=function(e,t){return function(n){var r=c.sniffUserBrowserExtensions({extensions:["grammarly"]}),l={action:o.ACTION.SYNCHRONY_ERROR,actionSubject:o.ACTION_SUBJECT.EDITOR,eventType:o.EVENT_TYPE.OPERATIONAL,attributes:{error:n,browserExtensions:r}};return a.getFeatureFlags(e).synchronyErrorDocStructure&&(l.attributes.docStructure=s.getDocStructure(e.doc,{compact:!0})),i.addAnalytics(e,t,l)}},u=function(e,t){return function(n){return i.addAnalytics(e,t,{action:"error"===n?o.ACTION.SYNCHRONY_ENTITY_ERROR:o.ACTION.SYNCHRONY_DISCONNECTED,actionSubject:o.ACTION_SUBJECT.EDITOR,eventType:o.EVENT_TYPE.OPERATIONAL,attributes:{onLine:navigator.onLine,visibilityState:document.visibilityState}})}}})),r.register("3pogS",(function(e,n){t(e.exports,"getDocStructure",(function(){return a}));var r={nodes:{doc:"doc",paragraph:"p",text:"t",bulletList:"ul",orderedList:"ol",listItem:"li",heading:"h",blockquote:"blockq",codeBlock:"codebl",panel:"pnl",rule:"rl",hardBreak:"br",mention:"ment",emoji:"emj",image:"img",caption:"cap",media:"media",mediaGroup:"mediag",mediaSingle:"medias",plain:"pln",table:"table",tableCell:"td",tableHeader:"th",tableRow:"tr",decisionList:"dl",decisionItem:"di",taskList:"tl",taskItem:"ti",extension:"ext",inlineExtension:"exti",bodiedExtension:"extb",status:"sts",placeholder:"plh",inlineCard:"cardi",blockCard:"cardb",embedCard:"carde",expand:"exp",nestedExpand:"expn",unsupportedBlock:"unsupb",unsupportedInline:"unsupi",unknownBlock:"unkb",date:"date"},marks:{em:"em",strong:"strong",code:"code",strike:"strike",underline:"undline",link:"lnk",subsup:"subsup",textColor:"txtclr",unsupportedMark:"unsupmrk",unsupportedNodeAttribute:"unsupnattr",annotation:"anno"}};function o(e,t){var n=r[t?"marks":"nodes"][e];return n||e}function i(e){var t,n,r,a=!e.content,s="text"===(null==e?void 0:e.type),c=null===(t=e.marks)||void 0===t?void 0:t.length,l=Array.isArray(e.content);return s?n=String(e.nodeSize):a?n="":l&&(n=e.content.map((function(e){return i(e)})).join(",")),r="".concat(o(e.type,!1),"(").concat(n,")"),c?e.marks.reduce((function(e,t){return"".concat(o(t,!0),"(").concat(e,")")}),r):r}var a=function(e,t){try{var n=s(e,0);return null!=t&&t.compact?i(n):n}catch(e){return"Error logging document structure: ".concat(e)}},s=function(e,t){var n={type:e.type.name,pos:t,nodeSize:e.nodeSize},r=c(e.content,t);r.length>0&&(n.content=r);var o=u(e);return o.length>0&&(n.marks=o),n},c=function(e,t){if(!e||!e.content||!e.content.length)return[];var n=[],r=e.content;if(r[0].isBlock){var o;n=r.map((function(e){return t+=o?o.nodeSize:1,o=e,s(e,t)}))}else{var i=l(r,t);n=i.inlineNodes,t=i.pos}return n},l=function(e,t){return{inlineNodes:e.map((function(e){var n=e.nodeSize,r={type:e.type.name,pos:t,nodeSize:n},o=u(e);return o.length>0&&(r.marks=o),t+=n,r})),pos:t}},u=function(e){return e.marks.map((function(e){return e.type.name}))}})),r.register("7AegD",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("collabEditPlugin")})),r.register("lJHy3",(function(n,o){t(n.exports,"TELEPOINTER_DIM_CLASS",(function(){return h})),t(n.exports,"PluginState",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("eBSbE"),l=r("9MUi0"),u=r("6sW8E"),d=r("0459e"),f=r("bZAC6"),p=function(e){return e instanceof u.ReplaceStep},h="telepointer-dim",g=function(e,t){var n=e.doc.resolve(t),r=c.Selection.findFrom(n,-1,!0),o=c.Selection.findFrom(n,1,!0);return r?r.from:o?o.from:t},m=function(){function t(n,r,o){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=arguments.length>4?arguments[4]:void 0;e(i)(this,t),e(s)(this,"onError",(function(e){return console.error(e)})),this.decorationSet=n,this.participants=r,this.sid=o,this.isReady=a,this.onError=c||this.onError}return e(a)(t,[{key:"decorations",get:function(){return this.decorationSet}},{key:"activeParticipants",get:function(){return this.participants}},{key:"sessionId",get:function(){return this.sid}},{key:"getInitial",value:function(e){var t=this.participants.get(e);return t?t.name.substring(0,1).toUpperCase():"X"}},{key:"apply",value:function(e){var n=this,r=this.participants,o=this.sid,i=this.isReady,a=e.getMeta("presence"),s=e.getMeta("telepointer"),c=e.getMeta("sessionId"),l=e.getMeta("collabInitialised");"boolean"!=typeof l&&(l=i),c&&(o=c.sid);var u=[],d=[];if(a){var m=a.joined,v=void 0===m?[]:m,b=a.left,y=void 0===b?[]:b;r=(r=r.remove(y.map((function(e){return e.sessionId})))).add(v),y.forEach((function(e){var t=f.findPointers(e.sessionId,n.decorationSet);t&&(d=d.concat(t))}))}if(s){var E=s.sessionId;if(r.get(E)&&E!==o){var x=f.findPointers(s.sessionId,this.decorationSet);x&&(d=d.concat(x));var k=s.selection,C=k.anchor,S=k.head,T=C<S?C:S,O=C>=S?C:S,w=O-T>0,N=1,P=1;try{N=g(e,w?Math.max(T-1,0):T),P=w?g(e,O):N}catch(e){this.onError(e)}u=u.concat(f.createTelepointers(N,P,E,w,this.getInitial(E)))}}if(e.docChanged){try{this.decorationSet=this.decorationSet.map(e.mapping,e.doc,{onRemove:function(t){if(t.pointer&&t.pointer.sessionId){var r=e.steps.filter(p)[0];if(r){var o=t.pointer.sessionId,i=r,a=i.slice.content.size,s=i.from,c=g(e,a?Math.min(s+a,e.doc.nodeSize-3):Math.max(s,1));u=u.concat(f.createTelepointers(c,c,o,!1,n.getInitial(o)))}}}})}catch(e){this.onError(e)}e.steps.filter(p).forEach((function(e){var t=e,r=t.from,o=t.to;n.decorationSet.find(r,o).forEach((function(e){e.from!==e.to&&d.push(e)}))}))}var A=e.selection;this.decorationSet.find().forEach((function(e){if(e.type.toDOM){var t=e.type.toDOM.classList.contains(h);e.from===A.from&&e.to===A.to?(t||e.type.toDOM.classList.add(h),e.type.side=-1):(t&&e.type.toDOM.classList.remove(h),e.type.side=0)}})),d.length&&(this.decorationSet=this.decorationSet.remove(d)),u.length&&(this.decorationSet=this.decorationSet.add(e.doc,u));var I=new t(this.decorationSet,r,o,l);return t.eq(I,this)?this:I}}],[{key:"eq",value:function(e,t){return e.participants===t.participants&&e.sessionId===t.sessionId&&e.isReady===t.isReady}},{key:"init",value:function(e){var n=e.doc,r=e.onError;return new t(l.DecorationSet.create(n,[]),new d.Participants,void 0,void 0,r)}}]),t}()})),r.register("0459e",(function(n,o){t(n.exports,"Participants",(function(){return u}));var i=r("l15hj"),a=r("go2dD"),s=r("4NDMl");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map;e(a)(this,t),this.participants=n}return e(s)(t,[{key:"add",value:function(e){var n=new Map(this.participants);return e.forEach((function(e){n.set(e.sessionId,e)})),new t(n)}},{key:"remove",value:function(e){var n=new Map(this.participants);return e.forEach((function(e){n.delete(e)})),new t(n)}},{key:"update",value:function(e,n){var r=new Map(this.participants),o=r.get(e);return o?(r.set(e,l(l({},o),{},{lastActive:n})),new t(r)):this}},{key:"toArray",value:function(){return Array.from(this.participants.values())}},{key:"get",value:function(e){return this.participants.get(e)}},{key:"size",value:function(){return this.participants.size}},{key:"eq",value:function(e){return this.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")===e.toArray().map((function(e){return e.sessionId})).sort((function(e,t){return e>t?-1:1})).join("")}}]),t}()})),r.register("4rTmw",(function(e,n){t(e.exports,"sendTransaction",(function(){return a}));var o=r("7GcIS"),i=r("7AegD"),a=function(e){var t=e.originalTransaction,n=e.transactions,r=e.oldEditorState,a=e.newEditorState,s=e.useNativePlugin;return function(e){var c=n.find((function(e){return e.docChanged})),l=i.pluginKey.getState(a);if(l.isReady){var u=!t.getMeta("isRemote")&&!t.getMeta("scaleTable")&&c;(s||u)&&e.send(c,r,a);var d=i.pluginKey.getState(r).activeParticipants,f=l.activeParticipants,p=l.sessionId,h=!r.selection.eq(a.selection),g=!d.eq(f);if(p&&h&&!c||p&&g){var m={type:"telepointer",selection:o.getSendableSelection(a.selection),sessionId:p};e.sendMessage(m)}}}}})),r.register("3B4Nb",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("61szk"),a=r("iFBc4"),s=r("2l34k"),c=r("ekJGA"),l=r("4s4wW"),u=r("gCMLJ"),d=r("h2Hyh"),f=r("jj4NG"),p=r("lWHVr"),h=r("6CSp2"),g=r("iIrvw");r("cTu5S");var m=r("hNVBR"),v=r("9V1f8"),b=r("6UBHG"),y=r("6dEHa"),E=e(s)({loader:function(){return r("3hm1O").then((function(e){return e.default}))},loading:function(){return null}}),x=function(){return{name:"date",nodes:function(){return[{name:"date",node:c.date}]},pmPlugins:function(){return[{name:"date",plugin:function(e){return E.preload(),d.default(e)}},{name:"dateKeymap",plugin:function(){return E.preload(),f.default()}}]},contentComponent:function(t){var n=t.editorView,r=t.dispatchAnalyticsEvent,o=t.popupsMountPoint,s=t.popupsBoundariesElement,c=t.popupsScrollableElement,d=n.state,f=n.dispatch,g=n.domAtPos.bind(n);return e(i).createElement(l.default,{plugins:{datePlugin:y.pluginKey,editorDisabledPlugin:h.pluginKey},render:function(t){var l=t.editorDisabledPlugin,h=t.datePlugin;if(null==h||!h.showDatePickerAt||null!=l&&l.editorDisabled)return null;var m=h.showDatePickerAt,v=h.isNew,b=h.focusDateInput,y=a.findDomRefAtPos(m,g),x=p.getFeatureFlags(d).keyboardAccessibleDatepicker;return e(i).createElement(E,{mountTo:o,boundariesElement:s,scrollableElement:c,key:m,showTextField:x,element:y,isNew:v,autoFocus:b,onDelete:function(){u.deleteDate()(n.state,f),n.focus()},onSelect:function(e,t){null!=e&&(u.insertDate(e,void 0,t)(n.state,f),n.focus())},onTextChanged:function(e){u.insertDate(e,void 0,void 0,!1)(n.state,f)},closeDatePicker:function(){u.closeDatePicker()(n.state,f),n.focus()},closeDatePickerWithAnalytics:function(e){var t=e.date;u.closeDatePickerWithAnalytics({date:t})(n.state,f),n.focus()},dispatchAnalyticsEvent:r})}})},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"date",title:n(b.messages.date),description:n(b.messages.dateDescription),priority:800,keywords:["calendar","day","time","today","/"],keyshortcut:"//",icon:function(){return e(i).createElement(g.IconDate,null)},action:function(e,t){var n=u.createDate()(e,t);return m.addAnalytics(t,n,{action:v.ACTION.INSERTED,actionSubject:v.ACTION_SUBJECT.DOCUMENT,actionSubjectId:v.ACTION_SUBJECT_ID.DATE,eventType:v.EVENT_TYPE.TRACK,attributes:{inputMethod:v.INPUT_METHOD.QUICK_INSERT}}),n}}]}}}}})),r.register("4s4wW",(function(n,o){t(n.exports,"default",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hm2s2");r("igW5C");var h=r("6qQ9w"),g=r("8PQwY");r("cTu5S");var m=r("9V1f8"),v=r("46vX8"),b=r("caisQ"),y=r("hyqM3");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?E(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var C=function(t){e(c)(r,t);var n=k(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"listeners",{}),e(d)(e(s)(t),"debounce",null),e(d)(e(s)(t),"notAppliedState",{}),e(d)(e(s)(t),"isSubscribed",!1),e(d)(e(s)(t),"callsCount",0),e(d)(e(s)(t),"state",t.getPluginsStates(t.props.plugins,t.getEditorView(t.props,t.context))),e(d)(e(s)(t),"handlePluginStateChange",(function(n,r,o,i){return function(a){(t.state[n]!==a||i)&&t.updateState({stateSubset:e(d)({},n,a),pluginName:r,performanceOptions:o})}})),e(d)(e(s)(t),"updateState",(function(e){var n=e.stateSubset,r=e.pluginName,o=e.performanceOptions;t.notAppliedState=x(x({},t.notAppliedState),n),t.debounce&&window.clearTimeout(t.debounce);var i=!1!==t.props.debounce?function(e){return window.setTimeout(e,0)}:function(e){return e()};t.debounce=i((function(){var e="\ud83e\udd89".concat(r,"::WithPluginState");o.trackingEnabled&&h.startMeasure(e),t.setState(t.notAppliedState,(function(){o.trackingEnabled&&h.stopMeasure(e,(function(e){if(++t.callsCount%o.samplingRate==0&&e>o.slowThreshold){var n=t.getEditorView();t.dispatchAnalyticsEvent({action:m.ACTION.WITH_PLUGIN_STATE_CALLED,actionSubject:m.ACTION_SUBJECT.EDITOR,eventType:m.EVENT_TYPE.OPERATIONAL,attributes:{plugin:r,duration:e,participants:y.getParticipantsCount(n&&n.state)}})}}))})),t.debounce=null,t.notAppliedState={}}))})),e(d)(e(s)(t),"dispatchAnalyticsEvent",(function(e){var n=t.getEventDispatcher();n&&g.createDispatch(n)(v.analyticsEventKey,{payload:e})})),e(d)(e(s)(t),"onContextUpdate",(function(){t.subscribe(t.props)})),t}return e(a)(r,[{key:"getEditorView",value:function(e,t){var n=e||this.props,r=t||this.context;return n.editorView||r&&r.editorActions&&r.editorActions._privateGetEditorView()||r&&r.editorSharedConfig&&r.editorSharedConfig.editorView}},{key:"getEventDispatcher",value:function(e){return(e||this.props).eventDispatcher||this.context&&this.context.editorActions&&this.context.editorActions._privateGetEventDispatcher()||this.context&&this.context.editorSharedConfig&&this.context.editorSharedConfig.eventDispatcher}},{key:"getPluginsStates",value:function(e,t){return t&&e?Object.keys(e).reduce((function(n,r){var o=e[r];return o?(n[r]=o.getState(t.state),n):n}),{}):{}}},{key:"subscribe",value:function(e){var t=this,n=e.plugins,r=this.getEventDispatcher(e),o=this.getEditorView(e);if(r&&o&&!this.isSubscribed){var i=b.analyticsPluginKey.getState(o.state),a=i&&i.performanceTracking&&i.performanceTracking.uiTracking||{},s=!0===a.enabled,c=a.samplingRate||100,l=a.slowThreshold||4;this.isSubscribed=!0;var u=this.getPluginsStates(n,o);this.setState(u),Object.keys(n).forEach((function(e){var o=n[e];if(o){var i=o.key,a=u[e],d=a&&a.subscribe,f=t.handlePluginStateChange(e,i,{samplingRate:c,slowThreshold:l,trackingEnabled:s},d);d?a.subscribe(f):r.on(o.key,f),t.listeners[o.key]={handler:f,pluginKey:o}}}))}}},{key:"unsubscribe",value:function(){var e=this,t=this.getEventDispatcher(),n=this.getEditorView();t&&n&&this.isSubscribed&&(Object.keys(this.listeners).forEach((function(r){var o=e.listeners[r].pluginKey.getState(n.state);o&&o.unsubscribe?o.unsubscribe(e.listeners[r].handler):t.off(r,e.listeners[r].handler)})),this.listeners=[])}},{key:"subscribeToContextUpdates",value:function(e){e&&e.editorActions&&e.editorActions._privateSubscribe(this.onContextUpdate)}},{key:"unsubscribeFromContextUpdates",value:function(e){e&&e.editorActions&&e.editorActions._privateUnsubscribe(this.onContextUpdate)}},{key:"componentDidMount",value:function(){this.subscribe(this.props),this.subscribeToContextUpdates(this.context)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.isSubscribed||this.subscribe(e)}},{key:"componentWillUnmount",value:function(){this.debounce&&window.clearTimeout(this.debounce),this.unsubscribeFromContextUpdates(this.context),this.unsubscribe()}},{key:"render",value:function(){var e=this.props.render;return e(this.state)}}]),r}(e(f).Component);e(d)(C,"displayName","WithPluginState"),e(d)(C,"contextTypes",{editorActions:e(p).object,editorSharedConfig:e(p).object})})),r.register("hyqM3",(function(e,n){t(e.exports,"getParticipantsCount",(function(){return i}));var o=r("7AegD");function i(e){if(!e)return 1;var t=o.pluginKey.getState(e);return t&&t.participants?t.participants.size():1}})),r.register("gCMLJ",(function(e,n){t(e.exports,"createDate",(function(){return f})),t(e.exports,"deleteDate",(function(){return p})),t(e.exports,"focusDateInput",(function(){return h})),t(e.exports,"insertDate",(function(){return g})),t(e.exports,"setDatePickerAt",(function(){return m})),t(e.exports,"closeDatePicker",(function(){return v})),t(e.exports,"closeDatePickerWithAnalytics",(function(){return b})),t(e.exports,"openDatePicker",(function(){return y}));var o=r("eBSbE"),i=r("jWbqG");r("igW5C");var a=r("fPzQr"),s=r("6dEHa");r("cTu5S");var c=r("hNVBR"),l=r("9V1f8"),u=r("cR7KH"),d=r("iFBc4"),f=function(){return function(e,t){var n=e(t.schema.nodes.date.createChecked({timestamp:a.todayTimestampInUTC()}),{selectInlineNode:!0}),r={showDatePickerAt:n.selection.from,isNew:!0,isDateEmpty:!1,focusDateInput:!1};return n.setMeta(s.pluginKey,r)}},p=function(){return function(e,t){var n=s.pluginKey.getState(e).showDatePickerAt;return null!==n&&(t(e.tr.delete(n,n+1).setMeta(s.pluginKey,{showDatePickerAt:null,isNew:!1})),!0)}},h=function(){return function(e,t){return null!==s.pluginKey.getState(e).showDatePickerAt&&(!!t&&(t(e.tr.setMeta(s.pluginKey,{focusDateInput:!0})),!0))}},g=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(f,p){var h,g=f.schema;h=e?Date.UTC(e.year,e.month-1,e.day).toString():a.todayTimestampInUTC();var m=f.tr;t&&c.addAnalytics(f,m,{action:l.ACTION.INSERTED,actionSubject:l.ACTION_SUBJECT.DOCUMENT,actionSubjectId:l.ACTION_SUBJECT_ID.DATE,eventType:l.EVENT_TYPE.TRACK,attributes:{inputMethod:t}}),n&&c.addAnalytics(f,m,{eventType:l.EVENT_TYPE.TRACK,action:l.ACTION.COMMITTED,actionSubject:l.ACTION_SUBJECT.DATE,attributes:{commitMethod:n,isValid:void 0!==e,isToday:u.isToday(e)}});var v=s.pluginKey.getState(f).showDatePickerAt;if(!v){var b=g.nodes.date.createChecked({timestamp:h}),y=f.schema.text(" "),E=i.Fragment.fromArray([b,y]),x=f.selection,k=x.from,C=x.to;if(d.canInsert(m.selection.$from,E))m.replaceWith(k,C,E).setSelection(o.NodeSelection.create(m.doc,k));else{var S=o.NodeSelection.create(m.doc,m.selection.from-m.selection.$anchor.parentOffset-1);m.insert(S.to,E).setSelection(o.NodeSelection.create(m.doc,S.to+1))}return p&&p(m.scrollIntoView().setMeta(s.pluginKey,{isNew:!0})),!0}return!!f.doc.nodeAt(v)&&(r&&(m=m.setSelection(o.Selection.near(m.doc.resolve(v+2)))),m=m.setNodeMarkup(v,g.nodes.date,{timestamp:h}).setMeta(s.pluginKey,{isNew:!1}).scrollIntoView(),p&&p(m),!0)}},m=function(e){return function(t,n){return n(t.tr.setMeta(s.pluginKey,{showDatePickerAt:e})),!0}},v=function(){return function(e,t){var n=s.pluginKey.getState(e).showDatePickerAt;return!!t&&(t(n?e.tr.setMeta(s.pluginKey,{showDatePickerAt:null,isNew:!1}).setSelection(o.Selection.near(e.tr.doc.resolve(n+2))):e.tr.setMeta(s.pluginKey,{isNew:!1})),!1)}},b=function(e){var t=e.date;return c.withAnalytics({eventType:l.EVENT_TYPE.TRACK,action:l.ACTION.COMMITTED,actionSubject:l.ACTION_SUBJECT.DATE,attributes:{commitMethod:l.INPUT_METHOD.BLUR,isValid:void 0!==t,isToday:u.isToday(t)}})(v())},y=function(){return function(e,t){var n=e.selection.$from,r=e.doc.nodeAt(n.pos);if(r&&r.type.name===e.schema.nodes.date.name){var i=n.pos;t&&t(e.tr.setMeta(s.pluginKey,{showDatePickerAt:i}).setSelection(o.NodeSelection.create(e.doc,i)))}return!1}}})),r.register("6dEHa",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("datePlugin")})),r.register("cR7KH",(function(e,n){t(e.exports,"isDatePossiblyValid",(function(){return d})),t(e.exports,"findDateSegmentByPosition",(function(){return f})),t(e.exports,"adjustDate",(function(){return p})),t(e.exports,"isToday",(function(){return h}));var o=r("1ArEI"),i=r("1XEkr"),a=r("iBbUP"),s=r("7Z2P9");function c(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return void 0!==e&&(e>="0"&&e<="9")}function d(e){var t,n=c(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r>="0"&&r<="9",i=-1!==". ,/".indexOf(r);if(!o&&!i)return!1}}catch(e){n.e(e)}finally{n.f()}return!0}function f(e,t,n){if(!(e>t.length)){var r=function(e){var t={day:7,month:1,year:1992};return o.formatDateType(t,e).replace(/\d+/g,(function(e){if(!e)return"";switch(parseInt(e)%100){case 92:return e.replace(/.{1}/g,"y");case 1:return 1===e.length?"m":"mm";case 7:return 1===e.length?"d":"dd"}return""}))}(n);if(r){var i=r.replace(/[^ymd]+$/g,""),a={d:"day",m:"month",y:"year"},s=a[i[0]],c=a[i[i.length-1]],l=["day","month","year"].filter((function(e){return e!==s&&e!==c}))[0];return function(e,t){for(var n=e-1,r=!0,o=t.replace(/[^0-9]+$/g,"");n>=0&&r;)u(o[n])||(r=!1),n-=1;return r}(e,t)?s:function(e,t){for(var n=e,r=!0,o=t.replace(/[^0-9]+$/g,"");n<o.length&&r;)u(o[n])||(r=!1),n+=1;return r}(e,t)?c:l}}}function p(e,t,n){var r=o.dateTypeToDate(e),c="day"===t?i.default(r,n):"month"===t?a.default(r,n):s.default(r,n);return o.dateToDateType(c)}function h(e){var t=new Date;return void 0!==e&&t.getDate()===e.day&&e.month===t.getMonth()+1&&e.year===t.getFullYear()}})),r.register("1ArEI",(function(e,n){t(e.exports,"parseDateType",(function(){return i})),t(e.exports,"formatDateType",(function(){return a})),t(e.exports,"dateTypeToDate",(function(){return s})),t(e.exports,"dateToDateType",(function(){return c}));var o=r("l3RP8");function i(e,t){try{var n=o.createLocalizationProvider(t).parseDate(e);if(isNaN(n.getTime()))return null;var r=n.getFullYear();return r<1e3||r>9999?null:{day:n.getDate(),month:n.getMonth()+1,year:r}}catch(e){return null}}function a(e,t){var n=e.day,r=e.month,i=e.year,a=o.createLocalizationProvider(t),s=new Date(i,r-1,n);return a.formatDate(s)}function s(e){var t=e.day,n=e.month,r=e.year;return new Date(r,n-1,t)}function c(e){return{day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}}})),r.register("1XEkr",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3bSAp"),i=r("lqblV"),a=r("hSLvD");function s(e,t){a.default(2,arguments);var n=i.default(e),r=o.default(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}})),r.register("3bSAp",(function(e,n){function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}t(e.exports,"default",(function(){return r}))})),r.register("lqblV",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("hSLvD");function i(e){o.default(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}})),r.register("hSLvD",(function(e,n){function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}t(e.exports,"default",(function(){return r}))})),r.register("iBbUP",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3bSAp"),i=r("lqblV"),a=r("hSLvD");function s(e,t){a.default(2,arguments);var n=i.default(e),r=o.default(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),c=new Date(n.getTime());c.setMonth(n.getMonth()+r+1,0);var l=c.getDate();return s>=l?c:(n.setFullYear(c.getFullYear(),c.getMonth(),s),n)}})),r.register("7Z2P9",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3bSAp"),i=r("iBbUP"),a=r("hSLvD");function s(e,t){a.default(2,arguments);var n=o.default(t);return i.default(e,12*n)}})),r.register("h2Hyh",(function(e,n){t(e.exports,"getPluginState",(function(){return f})),t(e.exports,"default",(function(){return p}));var o=r("eBSbE"),i=r("jP9Tj"),a=r("22Hec"),s=r("27k6c"),c=r("lOkHk"),l=r("6dEHa"),u=s.pluginFactory(l.pluginKey,c.reducer,{mapping:c.mapping,onSelectionChanged:c.onSelectionChanged}),d=u.createPluginState,f=u.getPluginState,p=function(e){var t=e.dispatch,n=e.portalProviderAPI,r=e.eventDispatcher;return new o.Plugin({state:d(t,{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}),key:l.pluginKey,props:{nodeViews:{date:a.default.fromComponent(i.default,n,r)}}})}})),r.register("jP9Tj",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig");r("igW5C");var h=r("fPzQr"),g=r("6zqMi");r("bNr5D");var m=r("1jJ86"),v=r("gCMLJ");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleClick",(function(e){e.nativeEvent.stopImmediatePropagation();var n=t.props.view,r=n.state,o=n.dispatch;v.setDatePickerAt(r.selection.from)(r,o)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.node.attrs.timestamp,r=t.view.state,o=r.doc,i=r.schema,a=r.selection,s=t.intl,c=t.getPos,l=("function"==typeof c?o.resolve(c()):a.$from).parent,u=l.type===i.nodes.taskItem&&"DONE"!==l.attrs.state,d=u&&h.isPastDate(n)?"red":void 0;return e(f).createElement("span",{className:g.DateSharedCssClassName.DATE_WRAPPER,onClick:this.handleClick},e(f).createElement(m.Date,{color:d,value:n},u?h.timestampToTaskContext(n,s):h.timestampToString(n,s)))}}]),r}(e(f).Component),E=p.injectIntl(y)})),r.register("bNr5D",(function(e,n){t(e.exports,"Date",(function(){return r("1jJ86").Date}));r("1jJ86"),r("hqjyl")})),r.register("1jJ86",(function(n,o){t(n.exports,"Date",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("hqjyl"),p=r("61szk"),h=r("f2AZo");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var m=function(e){return!!e.onClick},v=function(t){e(c)(r,t);var n=g(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleOnClick",(function(e){m(t.props)&&t.props.onClick(t.props.value,e)})),e(d)(e(s)(t),"renderContent",(function(){return t.props.children?"function"==typeof t.props.children?t.props.children(t.props):t.props.children:e(h)(t.props.value,t.props.format)})),t}return e(a)(r,[{key:"render",value:function(){return e(p).createElement(f.DateLozenge,{className:this.props.className,onClick:m(this.props)?this.handleOnClick:void 0,color:this.props.color},this.renderContent())}}]),r}(e(p).Component);e(d)(v,"displayName","Date"),e(d)(v,"defaultProps",{format:"DD/MM/YYYY",color:"grey"})})),r.register("hqjyl",(function(n,o){t(n.exports,"DateLozenge",(function(){return f}));var i=r("h67q9"),a=r("lhkMJ");r("kC7RK");var s=r("45GRS"),c=r("iQ1H0"),l=r("4BrS8"),u=r("SssiD");function d(){var t=e(a)(["\n  border-radius: ","px;\n  padding: 2px 4px;\n  margin: 0 1px;\n  position: relative;\n  transition: background 0.3s;\n  white-space: nowrap;\n  cursor: ",";\n\n  ",";\n"]);return d=function(){return t},t}var f=u.default.span(d(),c.borderRadius(),(function(e){return e.onClick?"pointer":"unset"}),(function(t){var n=s.default(function(e){if(!e||"grey"===e)return{light:[l.N30A,l.N800,l.N40],dark:[l.DN70,l.DN800,l.DN60]};var t=l,n=e.toUpperCase().charAt(0),r=[t["".concat(n,"50")],t["".concat(n,"500")],t["".concat(n,"75")]];return{light:r,dark:r}}(t.color))(t);""===n&&(n=["","",""]);var r=n,o=e(i)(r,3),a=o[0],c=o[1],u=o[2];return"\n      background: ".concat(a,";\n      color: ").concat(c,";\n      &:hover {\n        background: ").concat(u,";\n      }\n    ")}))})),r.register("kC7RK",(function(e,n){t(e.exports,"themed",(function(){return r("45GRS").default}));r("45GRS")})),r.register("45GRS",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("huaYp");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("huaYp",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("iQ1H0",(function(e,n){t(e.exports,"borderRadius",(function(){return o}));r("lbu1p"),r("4BrS8");var o=function(){return 3}})),r.register("lbu1p",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("1iENf");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("1iENf",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("4BrS8",(function(e,n){t(e.exports,"R50",(function(){return i})),t(e.exports,"R75",(function(){return a})),t(e.exports,"R100",(function(){return s})),t(e.exports,"R200",(function(){return c})),t(e.exports,"R300",(function(){return l})),t(e.exports,"R400",(function(){return u})),t(e.exports,"R500",(function(){return d})),t(e.exports,"Y50",(function(){return f})),t(e.exports,"Y75",(function(){return p})),t(e.exports,"Y100",(function(){return h})),t(e.exports,"Y200",(function(){return g})),t(e.exports,"Y300",(function(){return m})),t(e.exports,"Y400",(function(){return v})),t(e.exports,"Y500",(function(){return b})),t(e.exports,"G50",(function(){return y})),t(e.exports,"G75",(function(){return E})),t(e.exports,"G100",(function(){return x})),t(e.exports,"G200",(function(){return k})),t(e.exports,"G300",(function(){return C})),t(e.exports,"G400",(function(){return S})),t(e.exports,"G500",(function(){return T})),t(e.exports,"B50",(function(){return O})),t(e.exports,"B75",(function(){return w})),t(e.exports,"B100",(function(){return N})),t(e.exports,"B200",(function(){return P})),t(e.exports,"B300",(function(){return A})),t(e.exports,"B400",(function(){return I})),t(e.exports,"B500",(function(){return D})),t(e.exports,"P50",(function(){return R})),t(e.exports,"P75",(function(){return M})),t(e.exports,"P100",(function(){return _})),t(e.exports,"P200",(function(){return j})),t(e.exports,"P300",(function(){return B})),t(e.exports,"P400",(function(){return L})),t(e.exports,"P500",(function(){return F})),t(e.exports,"T50",(function(){return z})),t(e.exports,"T75",(function(){return W})),t(e.exports,"T100",(function(){return U})),t(e.exports,"T200",(function(){return H})),t(e.exports,"T300",(function(){return V})),t(e.exports,"T400",(function(){return K})),t(e.exports,"T500",(function(){return G})),t(e.exports,"N0",(function(){return J})),t(e.exports,"N10",(function(){return q})),t(e.exports,"N20",(function(){return Y})),t(e.exports,"N30",(function(){return Z})),t(e.exports,"N40",(function(){return X})),t(e.exports,"N50",(function(){return Q})),t(e.exports,"N60",(function(){return $})),t(e.exports,"N70",(function(){return ee})),t(e.exports,"N80",(function(){return te})),t(e.exports,"N90",(function(){return ne})),t(e.exports,"N100",(function(){return re})),t(e.exports,"N200",(function(){return oe})),t(e.exports,"N300",(function(){return ie})),t(e.exports,"N400",(function(){return ae})),t(e.exports,"N500",(function(){return se})),t(e.exports,"N600",(function(){return ce})),t(e.exports,"N700",(function(){return le})),t(e.exports,"N800",(function(){return ue})),t(e.exports,"N900",(function(){return de})),t(e.exports,"N10A",(function(){return fe})),t(e.exports,"N20A",(function(){return pe})),t(e.exports,"N30A",(function(){return he})),t(e.exports,"N40A",(function(){return ge})),t(e.exports,"N50A",(function(){return me})),t(e.exports,"N60A",(function(){return ve})),t(e.exports,"N70A",(function(){return be})),t(e.exports,"N80A",(function(){return ye})),t(e.exports,"N90A",(function(){return Ee})),t(e.exports,"N100A",(function(){return xe})),t(e.exports,"N200A",(function(){return ke})),t(e.exports,"N300A",(function(){return Ce})),t(e.exports,"N400A",(function(){return Se})),t(e.exports,"N500A",(function(){return Te})),t(e.exports,"N600A",(function(){return Oe})),t(e.exports,"N700A",(function(){return we})),t(e.exports,"N800A",(function(){return Ne})),t(e.exports,"DN900",(function(){return Pe})),t(e.exports,"DN800",(function(){return Ae})),t(e.exports,"DN700",(function(){return Ie})),t(e.exports,"DN600",(function(){return De})),t(e.exports,"DN500",(function(){return Re})),t(e.exports,"DN400",(function(){return Me})),t(e.exports,"DN300",(function(){return _e})),t(e.exports,"DN200",(function(){return je})),t(e.exports,"DN100",(function(){return Be})),t(e.exports,"DN90",(function(){return Le})),t(e.exports,"DN80",(function(){return Fe})),t(e.exports,"DN70",(function(){return ze})),t(e.exports,"DN60",(function(){return We})),t(e.exports,"DN50",(function(){return Ue})),t(e.exports,"DN40",(function(){return He})),t(e.exports,"DN30",(function(){return Ve})),t(e.exports,"DN20",(function(){return Ke})),t(e.exports,"DN10",(function(){return Ge})),t(e.exports,"DN0",(function(){return Je})),t(e.exports,"DN800A",(function(){return qe})),t(e.exports,"DN700A",(function(){return Ye})),t(e.exports,"DN600A",(function(){return Ze})),t(e.exports,"DN500A",(function(){return Xe})),t(e.exports,"DN400A",(function(){return Qe})),t(e.exports,"DN300A",(function(){return $e})),t(e.exports,"DN200A",(function(){return et})),t(e.exports,"DN100A",(function(){return tt})),t(e.exports,"DN90A",(function(){return nt})),t(e.exports,"DN80A",(function(){return rt})),t(e.exports,"DN70A",(function(){return ot})),t(e.exports,"DN60A",(function(){return it})),t(e.exports,"DN50A",(function(){return at})),t(e.exports,"DN40A",(function(){return st})),t(e.exports,"DN30A",(function(){return ct})),t(e.exports,"DN20A",(function(){return lt})),t(e.exports,"DN10A",(function(){return ut})),t(e.exports,"background",(function(){return dt})),t(e.exports,"backgroundActive",(function(){return ft})),t(e.exports,"backgroundHover",(function(){return pt})),t(e.exports,"backgroundOnLayer",(function(){return ht})),t(e.exports,"text",(function(){return gt})),t(e.exports,"textHover",(function(){return mt})),t(e.exports,"textActive",(function(){return vt})),t(e.exports,"subtleText",(function(){return bt})),t(e.exports,"placeholderText",(function(){return yt})),t(e.exports,"heading",(function(){return Et})),t(e.exports,"subtleHeading",(function(){return xt})),t(e.exports,"codeBlock",(function(){return kt})),t(e.exports,"link",(function(){return Ct})),t(e.exports,"linkHover",(function(){return St})),t(e.exports,"linkActive",(function(){return Tt})),t(e.exports,"linkOutline",(function(){return Ot})),t(e.exports,"primary",(function(){return wt})),t(e.exports,"blue",(function(){return Nt})),t(e.exports,"teal",(function(){return Pt})),t(e.exports,"purple",(function(){return At})),t(e.exports,"red",(function(){return It})),t(e.exports,"yellow",(function(){return Dt})),t(e.exports,"green",(function(){return Rt})),t(e.exports,"skeleton",(function(){return Mt}));var o=r("45GRS"),i="#FFEBE6",a="#FFBDAD",s="#FF8F73",c="#FF7452",l="#FF5630",u="#DE350B",d="#BF2600",f="#FFFAE6",p="#FFF0B3",h="#FFE380",g="#FFC400",m="#FFAB00",v="#FF991F",b="#FF8B00",y="#E3FCEF",E="#ABF5D1",x="#79F2C0",k="#57D9A3",C="#36B37E",S="#00875A",T="#006644",O="#DEEBFF",w="#B3D4FF",N="#4C9AFF",P="#2684FF",A="#0065FF",I="#0052CC",D="#0747A6",R="#EAE6FF",M="#C0B6F2",_="#998DD9",j="#8777D9",B="#6554C0",L="#5243AA",F="#403294",z="#E6FCFF",W="#B3F5FF",U="#79E2F2",H="#00C7E6",V="#00B8D9",K="#00A3BF",G="#008DA6",J="#FFFFFF",q="#FAFBFC",Y="#F4F5F7",Z="#EBECF0",X="#DFE1E6",Q="#C1C7D0",$="#B3BAC5",ee="#A5ADBA",te="#97A0AF",ne="#8993A4",re="#7A869A",oe="#6B778C",ie="#5E6C84",ae="#505F79",se="#42526E",ce="#344563",le="#253858",ue="#172B4D",de="#091E42",fe="rgba(9, 30, 66, 0.02)",pe="rgba(9, 30, 66, 0.04)",he="rgba(9, 30, 66, 0.08)",ge="rgba(9, 30, 66, 0.13)",me="rgba(9, 30, 66, 0.25)",ve="rgba(9, 30, 66, 0.31)",be="rgba(9, 30, 66, 0.36)",ye="rgba(9, 30, 66, 0.42)",Ee="rgba(9, 30, 66, 0.48)",xe="rgba(9, 30, 66, 0.54)",ke="rgba(9, 30, 66, 0.60)",Ce="rgba(9, 30, 66, 0.66)",Se="rgba(9, 30, 66, 0.71)",Te="rgba(9, 30, 66, 0.77)",Oe="rgba(9, 30, 66, 0.82)",we="rgba(9, 30, 66, 0.89)",Ne="rgba(9, 30, 66, 0.95)",Pe="#E6EDFA",Ae="#DCE5F5",Ie="#CED9EB",De="#B8C7E0",Re="#ABBBD6",Me="#9FB0CC",_e="#8C9CB8",je="#7988A3",Be="#67758F",Le="#56637A",Fe="#455166",ze="#3B475C",We="#313D52",Ue="#283447",He="#202B3D",Ve="#1B2638",Ke="#121A29",Ge="#0E1624",Je="#0D1424",qe="rgba(13, 20, 36, 0.06)",Ye="rgba(13, 20, 36, 0.14)",Ze="rgba(13, 20, 36, 0.18)",Xe="rgba(13, 20, 36, 0.29)",Qe="rgba(13, 20, 36, 0.36)",$e="rgba(13, 20, 36, 0.40)",et="rgba(13, 20, 36, 0.47)",tt="rgba(13, 20, 36, 0.53)",nt="rgba(13, 20, 36, 0.63)",rt="rgba(13, 20, 36, 0.73)",ot="rgba(13, 20, 36, 0.78)",it="rgba(13, 20, 36, 0.81)",at="rgba(13, 20, 36, 0.85)",st="rgba(13, 20, 36, 0.89)",ct="rgba(13, 20, 36, 0.92)",lt="rgba(13, 20, 36, 0.95)",ut="rgba(13, 20, 36, 0.97)",dt=o.default({light:J,dark:Ve}),ft=o.default({light:O,dark:w}),pt=o.default({light:Z,dark:ze}),ht=o.default({light:J,dark:Ue}),gt=o.default({light:de,dark:De}),mt=o.default({light:ue,dark:De}),vt=o.default({light:I,dark:I}),bt=o.default({light:oe,dark:_e}),yt=o.default({light:re,dark:je}),Et=o.default({light:ue,dark:De}),xt=o.default({light:oe,dark:_e}),kt=o.default({light:Y,dark:Ue}),Ct=o.default({light:I,dark:N}),St=o.default({light:A,dark:P}),Tt=o.default({light:D,dark:N}),Ot=o.default({light:N,dark:P}),wt=o.default({light:I,dark:N}),Nt=o.default({light:I,dark:N}),Pt=o.default({light:V,dark:H}),At=o.default({light:B,dark:_}),It=o.default({light:l,dark:l}),Dt=o.default({light:m,dark:m}),Rt=o.default({light:C,dark:C}),Mt=function(){return pe}})),r.register("f2AZo",(function(e,t){var n=r("17pAJ"),o=r("dnoE9"),i=r("hRwTV"),a=r("iAakF"),s=r("ezJB2"),c=r("b9iR2");var l={M:function(e){return e.getMonth()+1},MM:function(e){return f(e.getMonth()+1,2)},Q:function(e){return Math.ceil((e.getMonth()+1)/3)},D:function(e){return e.getDate()},DD:function(e){return f(e.getDate(),2)},DDD:function(e){return n(e)},DDDD:function(e){return f(n(e),3)},d:function(e){return e.getDay()},E:function(e){return e.getDay()||7},W:function(e){return o(e)},WW:function(e){return f(o(e),2)},YY:function(e){return f(e.getFullYear(),4).substr(2)},YYYY:function(e){return f(e.getFullYear(),4)},GG:function(e){return String(i(e)).substr(2)},GGGG:function(e){return i(e)},H:function(e){return e.getHours()},HH:function(e){return f(e.getHours(),2)},h:function(e){var t=e.getHours();return 0===t?12:t>12?t%12:t},hh:function(e){return f(l.h(e),2)},m:function(e){return e.getMinutes()},mm:function(e){return f(e.getMinutes(),2)},s:function(e){return e.getSeconds()},ss:function(e){return f(e.getSeconds(),2)},S:function(e){return Math.floor(e.getMilliseconds()/100)},SS:function(e){return f(Math.floor(e.getMilliseconds()/10),2)},SSS:function(e){return f(e.getMilliseconds(),3)},Z:function(e){return d(e.getTimezoneOffset(),":")},ZZ:function(e){return d(e.getTimezoneOffset())},X:function(e){return Math.floor(e.getTime()/1e3)},x:function(e){return e.getTime()}};function u(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|]$/g,""):e.replace(/\\/g,"")}function d(e,t){t=t||"";var n=e>0?"-":"+",r=Math.abs(e),o=r%60;return n+f(Math.floor(r/60),2)+t+f(o,2)}function f(e,t){for(var n=Math.abs(e).toString();n.length<t;)n="0"+n;return n}e.exports=function(e,t,n){var r=t?String(t):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,i=c.format.formatters,d=c.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(i=o.format.formatters,o.format.formattingTokensRegExp&&(d=o.format.formattingTokensRegExp));var f=a(e);if(!s(f))return"Invalid Date";var p=function(e,t,n){var r,o,i=e.match(n),a=i.length;for(r=0;r<a;r++)o=t[i[r]]||l[i[r]],i[r]=o||u(i[r]);return function(e){for(var t="",n=0;n<a;n++)i[n]instanceof Function?t+=i[n](e,l):t+=i[n];return t}}(r,i,d);return p(f)}})),r.register("17pAJ",(function(e,t){var n=r("iAakF"),o=r("gLUxL"),i=r("5QMPw");e.exports=function(e){var t=n(e);return i(t,o(t))+1}})),r.register("gLUxL",(function(e,t){var n=r("iAakF");e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}})),r.register("dnoE9",(function(e,t){var n=r("iAakF"),o=r("hUBIW"),i=r("5axCB");e.exports=function(e){var t=n(e),r=o(t).getTime()-i(t).getTime();return Math.round(r/6048e5)+1}})),r.register("hUBIW",(function(e,t){var n=r("aDuCV");e.exports=function(e){return n(e,{weekStartsOn:1})}})),r.register("5axCB",(function(e,t){var n=r("hRwTV"),o=r("hUBIW");e.exports=function(e){var t=n(e),r=new Date(0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),o(r)}})),r.register("hRwTV",(function(e,t){var n=r("iAakF"),o=r("hUBIW");e.exports=function(e){var t=n(e),r=t.getFullYear(),i=new Date(0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);var a=o(i),s=new Date(0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);var c=o(s);return t.getTime()>=a.getTime()?r+1:t.getTime()>=c.getTime()?r:r-1}})),r.register("b9iR2",(function(e,t){var n=r("dQ5S9"),o=r("8FBun");e.exports={distanceInWords:n(),format:o()}})),r.register("dQ5S9",(function(e,t){e.exports=function(){var e={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(t,n,r){var o;return r=r||{},o="string"==typeof e[t]?e[t]:1===n?e[t].one:e[t].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}})),r.register("8FBun",(function(e,t){var n=r("6RccF");e.exports=function(){var e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],t=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],a=["AM","PM"],s=["am","pm"],c=["a.m.","p.m."],l={MMM:function(t){return e[t.getMonth()]},MMMM:function(e){return t[e.getMonth()]},dd:function(e){return r[e.getDay()]},ddd:function(e){return o[e.getDay()]},dddd:function(e){return i[e.getDay()]},A:function(e){return e.getHours()/12>=1?a[1]:a[0]},a:function(e){return e.getHours()/12>=1?s[1]:s[0]},aa:function(e){return e.getHours()/12>=1?c[1]:c[0]}};return["M","D","DDD","d","Q","W"].forEach((function(e){l[e+"o"]=function(t,n){return function(e){var t=e%100;if(t>20||t<10)switch(t%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"}(n[e](t))}})),{formatters:l,formattingTokensRegExp:n(l)}}})),r.register("6RccF",(function(e,t){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];e.exports=function(e){var t=[];for(var r in e)e.hasOwnProperty(r)&&t.push(r);var o=n.concat(t).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}})),r.register("22Hec",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj"),l=r("61szk");r("igW5C");var u=r("6qQ9w"),d=r("caisQ"),f=r("8PQwY");r("cTu5S");var p=r("9V1f8"),h=r("46vX8"),g=r("hyqM3"),m=r("lWHVr"),v=r("aitud"),b=0,y=function(){function t(n,r,o,i,s,l,u){var d=this,p=arguments.length>7&&void 0!==arguments[7]&&arguments[7],g=arguments.length>8?arguments[8]:void 0;e(a)(this,t),e(c)(this,"handleRef",(function(e){return d._handleRef(e)})),e(c)(this,"dispatchAnalyticsEvent",(function(e){d.eventDispatcher&&f.createDispatch(d.eventDispatcher)(h.analyticsEventKey,{payload:e})})),this.node=n,this.view=r,this.getPos=o,this.portalProviderAPI=i,this.reactComponentProps=l||{},this.reactComponent=u,this.hasContext=p,this._viewShouldUpdate=g,this.eventDispatcher=s}return e(s)(t,[{key:"init",value:function(){var e=this;this.domRef=this.createDomRef(),this.setDomAttrs(this.node,this.domRef);var t=this.getContentDOM()||{dom:void 0,contentDOM:void 0},n=t.dom,r=t.contentDOM;this.domRef&&n&&(this.domRef.appendChild(n),this.contentDOM=r||n,this.contentDOMWrapper=n||r),this.domRef.classList.add("".concat(this.node.type.name,"View-content-wrap"));var o=this.performanceOptions,i=o.samplingRate,a=o.slowThreshold,s=o.enabled;return s&&u.startMeasure("\ud83e\udd89".concat(this.node.type.name,"::ReactNodeView")),this.renderReactComponent((function(){return e.render(e.reactComponentProps,e.handleRef)})),s&&u.stopMeasure("\ud83e\udd89".concat(this.node.type.name,"::ReactNodeView"),(function(t){++b%i==0&&t>a&&e.dispatchAnalyticsEvent({action:p.ACTION.REACT_NODEVIEW_RENDERED,actionSubject:p.ACTION_SUBJECT.EDITOR,eventType:p.EVENT_TYPE.OPERATIONAL,attributes:{node:e.node.type.name,duration:t,participants:g.getParticipantsCount(e.view.state)}})})),this}},{key:"renderReactComponent",value:function(t){var n=this;if(this.domRef&&t){this.portalProviderAPI.render((function(){var r,o,i;return e(l).createElement(v.ErrorBoundary,{component:p.ACTION_SUBJECT.REACT_NODE_VIEW,componentId:null!==(r=null==n||null===(o=n.node)||void 0===o||null===(i=o.type)||void 0===i?void 0:i.name)&&void 0!==r?r:p.ACTION_SUBJECT_ID.UNKNOWN_NODE,dispatchAnalyticsEvent:n.dispatchAnalyticsEvent},t())}),this.domRef,this.hasContext)}}},{key:"createDomRef",value:function(e){if(!this.node.isInline)return document.createElement("div");var t=document.createElement("span"),n=this.view.state,r=m.getFeatureFlags(n);return r&&r.displayInlineBlockForInlineNodes&&!1!==(null==e?void 0:e.displayInlineBlockForInlineNodes)&&(t.style.display="inline-block",t.style.userSelect="all"),t}},{key:"getContentDOM",value:function(){}},{key:"_handleRef",value:function(e){var t=this.contentDOMWrapper||this.contentDOM;e&&t&&!e.contains(t)&&e.appendChild(t)}},{key:"render",value:function(t,n){return this.reactComponent?e(l).createElement(this.reactComponent,e(i)({view:this.view,getPos:this.getPos,node:this.node,forwardRef:n},t)):null}},{key:"update",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0},o=this.node.type===e.type&&r(this.node,e);return!!o&&(this.domRef&&!this.node.sameMarkup(e)&&this.setDomAttrs(e,this.domRef),this.viewShouldUpdate(e)?(this.node=e,this.renderReactComponent((function(){return n.render(n.reactComponentProps,n.handleRef)})),!0):(this.node=e,!0))}},{key:"viewShouldUpdate",value:function(e){return!this._viewShouldUpdate||this._viewShouldUpdate(e)}},{key:"setDomAttrs",value:function(e,t){Object.keys(e.attrs||{}).forEach((function(n){t.setAttribute(n,e.attrs[n])}))}},{key:"dom",get:function(){return this.domRef}},{key:"destroy",value:function(){this.domRef&&(this.portalProviderAPI.remove(this.domRef),this.domRef=void 0,this.contentDOM=void 0)}},{key:"performanceOptions",get:function(){var e=d.analyticsPluginKey.getState(this.view.state),t=e&&e.performanceTracking&&e.performanceTracking.nodeViewTracking||{},n=t.samplingRate||100,r=t.slowThreshold||7;return{enabled:!!t.enabled,samplingRate:n,slowThreshold:r}}}],[{key:"fromComponent",value:function(e,n,r,o,i){return function(a,s,c){return new t(a,s,c,n,r,o,e,!1,i).init()}}}]),t}()})),r.register("aitud",(function(n,o){t(n.exports,"ErrorBoundary",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("cTu5S");var p=r("9V1f8");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{errorCaptured:!1}),t}return e(a)(r,[{key:"hasFallback",value:function(){return void 0!==this.props.fallbackComponent}},{key:"shouldRecover",value:function(){return this.hasFallback()&&this.state.errorCaptured}},{key:"componentDidCatch",value:function(e,t){this.props.dispatchAnalyticsEvent&&this.props.dispatchAnalyticsEvent({action:p.ACTION.EDITOR_CRASHED,actionSubject:this.props.component,actionSubjectId:this.props.componentId,eventType:p.EVENT_TYPE.OPERATIONAL,attributes:{error:e,errorInfo:t,errorRethrown:!this.hasFallback()}}),this.hasFallback()&&this.setState({errorCaptured:!0})}},{key:"render",value:function(){return this.shouldRecover()?this.props.fallbackComponent:this.props.children}}]),r}(e(f).Component)})),r.register("lgqyB",(function(n,o){t(n.exports,"SelectionBasedNodeView",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("auQQv"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("eBSbE"),h=r("hHskd");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var m=function(t){e(l)(r,t);var n=g(r);function r(t,o,a,c,l,u,d){var g,m=arguments.length>7&&void 0!==arguments[7]&&arguments[7],v=arguments.length>8?arguments[8]:void 0;return e(i)(this,r),g=n.call(this,t,o,a,c,l,u,d,m,v),e(f)(e(s)(g),"isNodeInsideSelection",(function(e,t,n,r){var o=g.getPositionsWithDefault(n,r);return n=o.pos,r=o.posEnd,"number"==typeof n&&"number"==typeof r&&(e<=n&&t>=r)})),e(f)(e(s)(g),"isSelectionInsideNode",(function(e,t,n,r){var o=g.getPositionsWithDefault(n,r);return n=o.pos,r=o.posEnd,"number"==typeof n&&"number"==typeof r&&(n<e&&t<r)})),e(f)(e(s)(g),"isSelectedNode",(function(e){if(e instanceof p.NodeSelection){var t=g.view.state.selection,n=t.from,r=t.to;return e.node===g.node||g.pos===n&&g.posEnd===r&&e.node.eq(g.node)}return!1})),e(f)(e(s)(g),"insideSelection",(function(){var e=g.view.state.selection,t=e.from,n=e.to;return g.isSelectedNode(g.view.state.selection)||g.isSelectionInsideNode(t,n)})),e(f)(e(s)(g),"onSelectionChange",(function(){g.update(g.node,[])})),g.updatePos(),g.oldSelection=o.state.selection,g.selectionChangeState=h.stateKey.getState(g.view.state),g.selectionChangeState.subscribe(g.onSelectionChange),g}return e(a)(r,[{key:"updatePos",value:function(){"boolean"!=typeof this.getPos&&(this.pos=this.getPos(),this.posEnd=this.pos+this.node.nodeSize)}},{key:"getPositionsWithDefault",value:function(e,t){return{pos:"number"!=typeof e?this.pos:e,posEnd:"number"!=typeof t?this.posEnd:t}}},{key:"viewShouldUpdate",value:function(e){var t=this.view.state.selection,n=this.oldSelection;this.oldSelection=t;var r=this.pos,o=this.posEnd;this.updatePos();var i=t.from,a=t.to,s=n.from,c=n.to;if(this.node.type.spec.selectable){var l=t instanceof p.NodeSelection&&t.from===this.pos,u=n instanceof p.NodeSelection&&n.from===this.pos;if(l&&!u||u&&!l)return!0}var d=this.isNodeInsideSelection(i,a)&&!this.isNodeInsideSelection(s,c),f=!this.isNodeInsideSelection(i,a)&&this.isNodeInsideSelection(s,c),h=this.isNodeInsideSelection(i,a,r,o)&&!this.isNodeInsideSelection(i,a);return!!(d||f||h)}},{key:"destroy",value:function(){this.selectionChangeState.unsubscribe(this.onSelectionChange),e(c)(e(d)(r.prototype),"destroy",this).call(this)}}]),r}(r("22Hec").default)})),r.register("hHskd",(function(n,o){t(n.exports,"stateKey",(function(){return u})),t(n.exports,"plugin",(function(){return d}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("eBSbE"),l=function(){function t(){e(i)(this,t),e(s)(this,"changeHandlers",[]),this.changeHandlers=[]}return e(a)(t,[{key:"subscribe",value:function(e){this.changeHandlers.push(e)}},{key:"unsubscribe",value:function(e){this.changeHandlers=this.changeHandlers.filter((function(t){return t!==e}))}},{key:"notifyNewSelection",value:function(e,t){this.changeHandlers.forEach((function(n){return n(e,t)}))}}]),t}(),u=new c.PluginKey("reactNodeView"),d=new c.Plugin({state:{init:function(){return new l},apply:function(e,t){return t}},key:u,view:function(e){var t=u.getState(e.state);return{update:function(e){var n=e.state.selection,r=n.from,o=n.to;t.notifyNewSelection(r,o)}}}})})),r.register("lOkHk",(function(n,o){t(n.exports,"reducer",(function(){return l})),t(n.exports,"mapping",(function(){return u})),t(n.exports,"onSelectionChanged",(function(){return d}));var i=r("l15hj"),a=r("eBSbE");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(e,t){if(t.showDatePickerAt===e.showDatePickerAt)return c(c({},e),{},{showDatePickerAt:null});var n=e.showDatePickerAt,r=e.isNew,o=t.showDatePickerAt;return n&&o&&n!==o&&r?c(c(c({},e),t),{},{isNew:!1}):c(c({},e),t)}function u(e,t){return t.showDatePickerAt?{showDatePickerAt:e.mapping.mapResult(t.showDatePickerAt).pos,isNew:t.isNew,isDateEmpty:t.isDateEmpty,focusDateInput:t.focusDateInput}:t}function d(e,t){return f(e.selection)?c({},t):t.showDatePickerAt?{showDatePickerAt:null,isNew:!1,isDateEmpty:!1,focusDateInput:!1}:t}var f=function(e){return e instanceof a.NodeSelection&&"date"===e.node.type.name}})),r.register("jj4NG",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("6mFHM"),i=r("eBSbE"),a=r("gCMLJ"),s=r("7uC1r"),c=r("h2Hyh");var l=function(){var e={};return s.bindKeymapWithCommand(s.enter.common,(function(e,t){var n=c.getPluginState(e);return e.selection instanceof i.NodeSelection&&e.selection.node.type===e.schema.nodes.date&&(n.showDatePickerAt?(a.closeDatePicker()(e,t),!0):(a.openDatePicker()(e,t),!0))}),e),s.bindKeymapWithCommand(s.tab.common,(function(e,t){var n=c.getPluginState(e);return!!(e.selection instanceof i.NodeSelection&&e.selection.node.type===e.schema.nodes.date)&&(!!n.showDatePickerAt&&(a.focusDateInput()(e,t),!0))}),e),o.keymap(e)}})),r.register("6mFHM",(function(e,n){t(e.exports,"keymap",(function(){return l})),t(e.exports,"keydownHandler",(function(){return u}));var o=r("gC0In"),i=r("eBSbE"),a="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function s(e){var t,n,r,o,i=e.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var c=0;c<i.length-1;c++){var l=i[c];if(/^(cmd|meta|m)$/i.test(l))o=!0;else if(/^a(lt)?$/i.test(l))t=!0;else if(/^(c|ctrl|control)$/i.test(l))n=!0;else if(/^s(hift)?$/i.test(l))r=!0;else{if(!/^mod$/i.test(l))throw new Error("Unrecognized modifier name: "+l);a?o=!0:n=!0}}return t&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function c(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}function l(e){return new i.Plugin({props:{handleKeyDown:u(e)}})}function u(e){var t=function(e){var t=Object.create(null);for(var n in e)t[s(n)]=e[n];return t}(e);return function(e,n){var r,i=o.keyName(n),a=1==i.length&&" "!=i,s=t[c(i,n,!a)];if(s&&s(e.state,e.dispatch,e))return!0;if(a&&(n.shiftKey||n.altKey||n.metaKey||i.charCodeAt(0)>127)&&(r=o.base[n.keyCode])&&r!=i){var l=t[c(r,n,!0)];if(l&&l(e.state,e.dispatch,e))return!0}else if(a&&n.shiftKey){var u=t[c(i,n,!0)];if(u&&u(e.state,e.dispatch,e))return!0}return!1}}})),r.register("gC0In",(function(e,n){t(e.exports,"base",(function(){return r})),t(e.exports,"keyName",(function(){return p}));for(var r={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},o={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},i="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),a="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),s="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),c="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),l="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),u=i&&(c||+i[1]<57)||s&&c,d=0;d<10;d++)r[48+d]=r[96+d]=String(d);for(d=1;d<=24;d++)r[d+111]="F"+d;for(d=65;d<=90;d++)r[d]=String.fromCharCode(d+32),o[d]=String.fromCharCode(d);for(var f in r)o.hasOwnProperty(f)||(o[f]=r[f]);function p(e){var t=!(u&&(e.ctrlKey||e.altKey||e.metaKey)||(a||l)&&e.shiftKey&&e.key&&1==e.key.length)&&e.key||(e.shiftKey?o:r)[e.keyCode]||e.key||"Unidentified";return"Esc"==t&&(t="Escape"),"Del"==t&&(t="Delete"),"Left"==t&&(t="ArrowLeft"),"Up"==t&&(t="ArrowUp"),"Right"==t&&(t="ArrowRight"),"Down"==t&&(t="ArrowDown"),t}})),r.register("7uC1r",(function(n,o){t(n.exports,"addAltText",(function(){return d})),t(n.exports,"makeKeyMapWithCommon",(function(){return Oe})),t(n.exports,"toggleBold",(function(){return f})),t(n.exports,"toggleItalic",(function(){return p})),t(n.exports,"toggleUnderline",(function(){return h})),t(n.exports,"toggleStrikethrough",(function(){return g})),t(n.exports,"toggleCode",(function(){return m})),t(n.exports,"pastePlainText",(function(){return v})),t(n.exports,"clearFormatting",(function(){return b})),t(n.exports,"setNormalText",(function(){return y})),t(n.exports,"toggleHeading1",(function(){return E})),t(n.exports,"toggleHeading2",(function(){return x})),t(n.exports,"toggleHeading3",(function(){return k})),t(n.exports,"toggleHeading4",(function(){return C})),t(n.exports,"toggleHeading5",(function(){return S})),t(n.exports,"toggleHeading6",(function(){return T})),t(n.exports,"toggleOrderedList",(function(){return O})),t(n.exports,"ctrlBackSpace",(function(){return w})),t(n.exports,"toggleBulletList",(function(){return N})),t(n.exports,"toggleBlockQuote",(function(){return P})),t(n.exports,"makeKeymap",(function(){return Te})),t(n.exports,"insertNewLine",(function(){return A})),t(n.exports,"shiftBackspace",(function(){return I})),t(n.exports,"splitCodeBlock",(function(){return D})),t(n.exports,"splitListItem",(function(){return R})),t(n.exports,"insertRule",(function(){return M})),t(n.exports,"undo",(function(){return _})),t(n.exports,"moveUp",(function(){return j})),t(n.exports,"moveDown",(function(){return B})),t(n.exports,"moveLeft",(function(){return L})),t(n.exports,"moveRight",(function(){return F})),t(n.exports,"indentList",(function(){return z})),t(n.exports,"outdentList",(function(){return W})),t(n.exports,"redo",(function(){return U})),t(n.exports,"openHelp",(function(){return H})),t(n.exports,"addLink",(function(){return V})),t(n.exports,"addInlineComment",(function(){return K})),t(n.exports,"submit",(function(){return G})),t(n.exports,"enter",(function(){return J})),t(n.exports,"shiftEnter",(function(){return q})),t(n.exports,"tab",(function(){return Y})),t(n.exports,"indent",(function(){return Z})),t(n.exports,"outdent",(function(){return X})),t(n.exports,"backspace",(function(){return Q})),t(n.exports,"deleteKey",(function(){return $})),t(n.exports,"forwardDelete",(function(){return ee})),t(n.exports,"space",(function(){return te})),t(n.exports,"escape",(function(){return ne})),t(n.exports,"nextCell",(function(){return re})),t(n.exports,"previousCell",(function(){return oe})),t(n.exports,"shiftTab",(function(){return ie})),t(n.exports,"toggleTable",(function(){return ae})),t(n.exports,"addRowBefore",(function(){return se})),t(n.exports,"addRowAfter",(function(){return ce})),t(n.exports,"addColumnAfter",(function(){return le})),t(n.exports,"addColumnBefore",(function(){return ue})),t(n.exports,"cut",(function(){return de})),t(n.exports,"copy",(function(){return fe})),t(n.exports,"paste",(function(){return pe})),t(n.exports,"altPaste",(function(){return he})),t(n.exports,"find",(function(){return ge})),t(n.exports,"TooltipShortcut",(function(){return ve})),t(n.exports,"tooltip",(function(){return ye})),t(n.exports,"ToolTipContent",(function(){return Ee})),t(n.exports,"findKeymapByDescription",(function(){return xe})),t(n.exports,"findShortcutByDescription",(function(){return ke})),t(n.exports,"findShortcutByKeymap",(function(){return Ce})),t(n.exports,"bindKeymapWithCommand",(function(){return we})),t(n.exports,"findKeyMapForBrowser",(function(){return Ne})),t(n.exports,"DOWN",(function(){return r("jrrKO").DOWN})),t(n.exports,"HEADING_KEYS",(function(){return r("jrrKO").HEADING_KEYS})),t(n.exports,"KEY_0",(function(){return r("jrrKO").KEY_0})),t(n.exports,"KEY_1",(function(){return r("jrrKO").KEY_1})),t(n.exports,"KEY_2",(function(){return r("jrrKO").KEY_2})),t(n.exports,"KEY_3",(function(){return r("jrrKO").KEY_3})),t(n.exports,"KEY_4",(function(){return r("jrrKO").KEY_4})),t(n.exports,"KEY_5",(function(){return r("jrrKO").KEY_5})),t(n.exports,"KEY_6",(function(){return r("jrrKO").KEY_6})),t(n.exports,"LEFT",(function(){return r("jrrKO").LEFT})),t(n.exports,"RIGHT",(function(){return r("jrrKO").RIGHT})),t(n.exports,"UP",(function(){return r("jrrKO").UP}));var i=r("lhkMJ"),a=r("61szk");r("igW5C");var s,c=r("4W5Y2"),l=r("SssiD"),u=r("cufhv"),d=(r("jrrKO"),Oe("Add Alt Text","Mod-Alt-y")),f=Oe("Bold","Mod-b"),p=Oe("Italic","Mod-i"),h=Oe("Underline","Mod-u"),g=Oe("Strikethrough","Mod-Shift-s"),m=Oe("Code","Mod-Shift-m"),v=Oe("Paste Plain Text","Mod-Shift-v"),b=Oe("Clear formatting","Mod-\\"),y=Oe("Normal text","Mod-Alt-0"),E=Oe("Heading 1","Mod-Alt-1"),x=Oe("Heading 2","Mod-Alt-2"),k=Oe("Heading 3","Mod-Alt-3"),C=Oe("Heading 4","Mod-Alt-4"),S=Oe("Heading 5","Mod-Alt-5"),T=Oe("Heading 6","Mod-Alt-6"),O=Oe("Numbered list","Mod-Shift-7"),w=Oe("Cmd + Backspace","Mod-Backspace"),N=Oe("Bullet list","Mod-Shift-8"),P=Te("Quote","","Cmd-Alt-9"),A=Oe("Insert new line","Shift-Enter"),I=Oe("Shift Backspace","Shift-Backspace"),D=Oe("Split code block","Enter"),R=Oe("Split list item","Enter"),M=Oe("Insert horizontal rule","Mod-Shift--"),_=Oe("Undo","Mod-z"),j=Oe("Move up","ArrowUp"),B=Oe("Move down","ArrowDown"),L=Oe("Move left","ArrowLeft"),F=Oe("Move right","ArrowRight"),z=Oe("Indent List","Tab"),W=Oe("Outdent List","Shift-Tab"),U=Te("Redo","Ctrl-y","Mod-Shift-z"),H=Oe("Open Help","Mod-/"),V=Oe("Link","Mod-k"),K=Oe("Annotate","Mod-Alt-c"),G=Oe("Submit Content","Mod-Enter"),J=Oe("Enter","Enter"),q=Oe("Shift Enter","Shift-Enter"),Y=Oe("Tab","Tab"),Z=Oe("Indent","Tab"),X=Oe("Outdent","Shift-Tab"),Q=Oe("Backspace","Backspace"),$=Oe("Delete","Delete"),ee=Te("Forward Delete","","Ctrl-d"),te=Oe("Space","Space"),ne=Oe("Escape","Escape"),re=Oe("Next cell","Tab"),oe=Oe("Previous cell","Shift-Tab"),ie=Oe("Shift Tab","Shift-Tab"),ae=Oe("Table","Shift-Alt-t"),se=Oe("Add Row Above","Ctrl-Alt-ArrowUp"),ce=Oe("Add Row Below","Ctrl-Alt-ArrowDown"),le=Oe("Add Column After","Ctrl-Alt-ArrowRight"),ue=Oe("Add Column Before","Ctrl-Alt-ArrowLeft"),de=Oe("Cut","Mod-x"),fe=Oe("Copy","Mod-c"),pe=Oe("Paste","Mod-v"),he=Oe("Paste","Mod-Shift-v"),ge=Oe("Find","Mod-f"),me={ARROWLEFT:"\u2190",ARROWRIGHT:"\u2192",ARROWUP:"\u2191",ARROWDOWN:"\u2193"},ve=l.default.span(s||(s=e(i)(["\n  border-radius: 2px;\n  background-color: ",";\n  padding: 0 2px;\n"])),u.N400);function be(e){var t=(c.default.mac?e.mac.replace(/Cmd/i,"\u2318").replace(/Shift/i,"\u21e7").replace(/Ctrl/i,"\u2303").replace(/Alt/i,"\u2325").replace(/Backspace/i,"\u232b").replace(/Enter/i,"\u23ce"):e.windows.replace(/Backspace/i,"\u232b")).split("-"),n=t[t.length-1];return 1===n.length&&(n=n.toUpperCase()),t[t.length-1]=me[n.toUpperCase()]||n,t.join(c.default.mac?"":"+")}function ye(e,t){if(e){var n=be(e);return t?"".concat(t," ").concat(n):n}}var Ee=e(a).memo((function(t){var n=t.description,r=t.shortcutOverride,o=t.keymap,i=r||o&&be(o);return i||n?e(a).createElement(e(a).Fragment,null,n,i&&n&&"\xa0",i&&e(a).createElement(ve,null,i)):null}));function xe(e){return Se.filter((function(t){return t.description.toUpperCase()===e.toUpperCase()}))[0]}function ke(e){var t=xe(e);if(t)return Ce(t)}function Ce(e){return c.default.mac?e.mac:e.windows}var Se=[O,N,f,p,h,g,m,y,E,x,k,C,S,T,P,A,M,D,R,U,_,ge,ne,J,q];function Te(e,t,n,r){return{description:e,windows:t.replace(/Mod/i,"Ctrl"),mac:n.replace(/Mod/i,"Cmd"),common:r}}function Oe(e,t){return Te(e,t.replace(/Mod/i,"Ctrl"),t.replace(/Mod/i,"Cmd"),t)}function we(e,t,n){var r=n[e],o=t;n[e]&&(o=function(e,n,o){return r(e,n)||t(e,n,o)}),n[e]=o}function Ne(e){if(e)return c.default.mac?e.mac:e.windows}})),r.register("jrrKO",(function(e,n){t(e.exports,"LEFT",(function(){return r})),t(e.exports,"RIGHT",(function(){return o})),t(e.exports,"UP",(function(){return i})),t(e.exports,"DOWN",(function(){return a})),t(e.exports,"KEY_0",(function(){return s})),t(e.exports,"KEY_1",(function(){return c})),t(e.exports,"KEY_2",(function(){return l})),t(e.exports,"KEY_3",(function(){return u})),t(e.exports,"KEY_4",(function(){return d})),t(e.exports,"KEY_5",(function(){return f})),t(e.exports,"KEY_6",(function(){return p})),t(e.exports,"HEADING_KEYS",(function(){return h}));var r=37,o=39,i=38,a=40,s=48,c=49,l=50,u=51,d=52,f=53,p=54,h=[s,c,l,u,d,f,p]})),r.register("6CSp2",(function(e,n){t(e.exports,"pluginKey",(function(){return a})),t(e.exports,"default",(function(){return u}));var o=r("eBSbE"),i=r("27k6c"),a=new o.PluginKey("editorDisabledPlugin");var s=i.pluginFactory(a,(function(e,t){return t})),c=s.createPluginState,l=s.getPluginState;var u=function(){return{name:"editorDisabled",pmPlugins:function(){return[{name:"editorDisabled",plugin:function(e){return function(e){return new o.Plugin({key:a,state:c(e,{editorDisabled:!1}),view:function(){return{update:function(e){if(l(e.state).editorDisabled!==!e.editable){var t=e.state.tr.setMeta(a,{editorDisabled:!e.editable});t.setMeta("isLocal",!0),e.dispatch(t)}}}}})}(e.dispatch)}}]}}}})),r.register("iIrvw",(function(n,o){t(n.exports,"IconAction",(function(){return c})),t(n.exports,"IconCode",(function(){return l})),t(n.exports,"IconDate",(function(){return u})),t(n.exports,"IconDecision",(function(){return d})),t(n.exports,"IconDivider",(function(){return f})),t(n.exports,"IconEmoji",(function(){return p})),t(n.exports,"IconImages",(function(){return h})),t(n.exports,"IconLayout",(function(){return g})),t(n.exports,"IconLink",(function(){return m})),t(n.exports,"IconListNumber",(function(){return v})),t(n.exports,"IconList",(function(){return b})),t(n.exports,"IconMention",(function(){return y})),t(n.exports,"IconPanelError",(function(){return E})),t(n.exports,"IconPanelNote",(function(){return x})),t(n.exports,"IconPanelSuccess",(function(){return k})),t(n.exports,"IconPanelWarning",(function(){return C})),t(n.exports,"IconPanel",(function(){return S})),t(n.exports,"IconQuote",(function(){return T})),t(n.exports,"IconStatus",(function(){return O})),t(n.exports,"IconTable",(function(){return w})),t(n.exports,"IconHeading",(function(){return N})),t(n.exports,"IconFeedback",(function(){return P})),t(n.exports,"IconExpand",(function(){return A}));var i=r("bRWI2"),a=r("61szk"),s=r("2l34k"),c=e(s)({loader:function(){return r("7xzrT").then((function(e){return e.default}))},loading:function(){return null}}),l=e(s)({loader:function(){return r("lieKT").then((function(e){return e.default}))},loading:function(){return null}}),u=e(s)({loader:function(){return r("5cbYV").then((function(e){return e.default}))},loading:function(){return null}}),d=e(s)({loader:function(){return r("aYQtX").then((function(e){return e.default}))},loading:function(){return null}}),f=e(s)({loader:function(){return r("1XL22").then((function(e){return e.default}))},loading:function(){return null}}),p=e(s)({loader:function(){return r("7QJhH").then((function(e){return e.default}))},loading:function(){return null}}),h=e(s)({loader:function(){return r("6lGKV").then((function(e){return e.default}))},loading:function(){return null}}),g=e(s)({loader:function(){return r("aEJyf").then((function(e){return e.default}))},loading:function(){return null}}),m=e(s)({loader:function(){return r("l1k3v").then((function(e){return e.default}))},loading:function(){return null}}),v=e(s)({loader:function(){return r("gAati").then((function(e){return e.default}))},loading:function(){return null}}),b=e(s)({loader:function(){return r("hW8UK").then((function(e){return e.default}))},loading:function(){return null}}),y=e(s)({loader:function(){return r("fK737").then((function(e){return e.default}))},loading:function(){return null}}),E=e(s)({loader:function(){return r("9ZCOM").then((function(e){return e.default}))},loading:function(){return null}}),x=e(s)({loader:function(){return r("gqut8").then((function(e){return e.default}))},loading:function(){return null}}),k=e(s)({loader:function(){return r("9ze4G").then((function(e){return e.default}))},loading:function(){return null}}),C=e(s)({loader:function(){return r("5vHpZ").then((function(e){return e.default}))},loading:function(){return null}}),S=e(s)({loader:function(){return r("b0tx5").then((function(e){return e.default}))},loading:function(){return null}}),T=e(s)({loader:function(){return r("5PdYW").then((function(e){return e.default}))},loading:function(){return null}}),O=e(s)({loader:function(){return r("7WNem").then((function(e){return e.default}))},loading:function(){return null}}),w=e(s)({loader:function(){return r("iF5Vw").then((function(e){return e.default}))},loading:function(){return null}});e(s)({loader:function(){return Promise.resolve(r("9Lz2h")).then((function(e){return e.default}))},loading:function(){return null}});var N=function(t){var n=t.level,o=e(i)(t,["level"]),c=e(s)({loader:function(){return function(e){switch(e){case 1:return r("kJcDk");case 2:return r("fY1Bp");case 3:return r("3lHMX");case 4:return r("dyAve");case 5:return r("4rCsd");default:return r("03xKR")}}(n).then((function(e){return e.default}))},loading:function(){return null}});return e(a).createElement(c,o)},P=e(s)({loader:function(){return r("cr1dM").then((function(e){return e.default}))},loading:function(){return null}}),A=e(s)({loader:function(){return r("gLWIJ").then((function(e){return e.default}))},loading:function(){return null}})})),r.register("7xzrT",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("efRWV")).then((()=>r("24Lfw")))})),r.register("lieKT",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("7OzNu")).then((()=>r("27s7O")))})),r.register("5cbYV",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("6NJHu")).then((()=>r("erlL2")))})),r.register("aYQtX",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("d9O6X")).then((()=>r("hHcqY")))})),r.register("1XL22",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4ordg")).then((()=>r("644NY")))})),r.register("7QJhH",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bfaqR")).then((()=>r("i9x96")))})),r.register("6lGKV",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("chPnj")).then((()=>r("2m8RK")))})),r.register("aEJyf",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4D3Bo")).then((()=>r("fHNDp")))})),r.register("l1k3v",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5OJq2")).then((()=>r("jyf72")))})),r.register("gAati",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5tRnZ")).then((()=>r("31POc")))})),r.register("hW8UK",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("9Ixch")).then((()=>r("bKvwd")))})),r.register("fK737",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("guUs7")).then((()=>r("lB0DR")))})),r.register("9ZCOM",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("juzI1")).then((()=>r("6yQJe")))})),r.register("gqut8",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("dzjgN")).then((()=>r("g8xy5")))})),r.register("9ze4G",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ddHjt")).then((()=>r("lV4Hk")))})),r.register("5vHpZ",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("b4m0H")).then((()=>r("hXxq2")))})),r.register("b0tx5",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("3aspP")).then((()=>r("3zNYU")))})),r.register("5PdYW",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("k8Gkn")).then((()=>r("90qGT")))})),r.register("7WNem",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("2TjPg")).then((()=>r("l02mJ")))})),r.register("iF5Vw",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("12SaO")).then((()=>r("jfU15")))})),r.register("9Lz2h",(function(n,o){t(n.exports,"default",(function(){return a}));var i=r("61szk");function a(){return e(i).createElement("svg",{focusable:"false","aria-hidden":!0,width:40,height:40},e(i).createElement("defs",null,e(i).createElement("linearGradient",{x1:"-26.046%",y1:"100%",x2:"62.626%",y2:"0%",id:"fallback-a"},e(i).createElement("stop",{stopColor:"#B3BAC5",offset:"0%"}),e(i).createElement("stop",{stopColor:"#A5ADBA",offset:"100%"}))),e(i).createElement("g",{fill:"none",fillRule:"evenodd"},e(i).createElement("path",{fill:"#FFF",d:"M0 0h40v40H0z"}),e(i).createElement("path",{fill:"#DFE1E6",d:"M20 16h12v12H20z"}),e(i).createElement("path",{fill:"url(#fallback-a)",d:"M8 16h12v12H8z"}),e(i).createElement("path",{d:"M20 16c-4 .5-6.029 2.5-6.086 6-.057 3.5-2.028 5.5-5.914 6h12V16z",fill:"#A5ADBA"}),e(i).createElement("path",{fill:"#B3BAC5",d:"M17.5 13h5v3h-5z"}),e(i).createElement("path",{fill:"#A5ADBA",d:"M10 13h5v3h-5z"}),e(i).createElement("path",{fill:"#DFE1E6",d:"M25 13h5v3h-5z"})))}})),r.register("kJcDk",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("cGkGd")).then((()=>r("2EbRW")))})),r.register("fY1Bp",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("gCI6v")).then((()=>r("2hESX")))})),r.register("3lHMX",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("Wma0K")).then((()=>r("gVDiF")))})),r.register("dyAve",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("b5Gor")).then((()=>r("d1Phq")))})),r.register("4rCsd",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("j8VLp")).then((()=>r("hE6wM")))})),r.register("03xKR",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("cbB5K")).then((()=>r("5jD3L")))})),r.register("cr1dM",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("6b9ps")).then((()=>r("ccoIL")))})),r.register("gLWIJ",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8sLm9")).then((()=>r("2Tlhp")))})),r.register("6UBHG",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({action:{id:"fabric.editor.action",defaultMessage:"Action item",description:"Also known as a \u201ctask\u201d, \u201cto do item\u201d, or a checklist"},actionDescription:{id:"fabric.editor.action.description",defaultMessage:"Create and assign action items",description:""},link:{id:"fabric.editor.link",defaultMessage:"Link",description:"Insert a hyperlink"},linkDescription:{id:"fabric.editor.link.description",defaultMessage:"Insert a link",description:"Insert a hyperlink"},filesAndImages:{id:"fabric.editor.filesAndImages",defaultMessage:"Files & images",description:"Insert one or more files or images"},filesAndImagesDescription:{id:"fabric.editor.filesAndImages.description",defaultMessage:"Add images and other files to your page",description:"Insert one or more files or images"},image:{id:"fabric.editor.image",defaultMessage:"Image",description:"Insert an image."},mention:{id:"fabric.editor.mention",defaultMessage:"Mention",description:"Reference another person in your document"},mentionDescription:{id:"fabric.editor.mention.description",defaultMessage:"Mention someone to send them a notification",description:"Reference another person in your document"},emoji:{id:"fabric.editor.emoji",defaultMessage:"Emoji",description:"Insert an emoticon or smiley :-)"},emojiDescription:{id:"fabric.editor.emoji.description",defaultMessage:"Use emojis to express ideas \ud83c\udf89 and emotions \ud83d\ude04",description:"Insert an emoticon or smiley :-)"},table:{id:"fabric.editor.table",defaultMessage:"Table",description:"Inserts a table in the document"},tableDescription:{id:"fabric.editor.table.description",defaultMessage:"Insert a table",description:"Inserts a table in the document"},expand:{id:"fabric.editor.expand",defaultMessage:"Expand",description:"Inserts an expand in the document"},expandDescription:{id:"fabric.editor.expand.description",defaultMessage:"Insert an expand",description:"Inserts an expand in the document"},decision:{id:"fabric.editor.decision",defaultMessage:"Decision",description:"Capture a decision you\u2019ve made"},decisionDescription:{id:"fabric.editor.decision.description",defaultMessage:"Capture decisions so they\u2019re easy to track",description:"Capture a decision you\u2019ve made"},feedbackDialog:{id:"fabric.editor.feedbackDialog",defaultMessage:"Give feedback",description:"Open the feedback dialog from editor"},feedbackDialogDescription:{id:"fabric.editor.feedbackDialog.description",defaultMessage:"Tell us about your experience using the new editor",description:"Description for feedback option under quick insert dropdown"},horizontalRule:{id:"fabric.editor.horizontalRule",defaultMessage:"Divider",description:"A horizontal rule or divider"},horizontalRuleDescription:{id:"fabric.editor.horizontalRule.description",defaultMessage:"Separate content with a horizontal line",description:"A horizontal rule or divider"},date:{id:"fabric.editor.date",defaultMessage:"Date",description:"Opens a date picker that lets you select a date"},dateDescription:{id:"fabric.editor.date.description",defaultMessage:"Add a date using a calendar",description:"Opens a date picker that lets you select a date"},placeholderText:{id:"fabric.editor.placeholderText",defaultMessage:"Placeholder text",description:"Inserts a text placeholder into the page"},placeholderTextDescription:{id:"fabric.editor.placeholderText.description",defaultMessage:"Insert a text placeholder into the page",description:"Inserts a text placeholder into the page"},columns:{id:"fabric.editor.columns",defaultMessage:"Layouts",description:"Create a multi column section or layout"},columnsDescription:{id:"fabric.editor.columns.description",defaultMessage:"Structure your page using sections",description:"Create a multi column section or layout"},status:{id:"fabric.editor.status",defaultMessage:"Status",description:"Inserts an item representing the status of an activity to task."},statusDescription:{id:"fabric.editor.status.description",defaultMessage:"Add a custom status label",description:"Inserts an item representing the status of an activity to task."},viewMore:{id:"fabric.editor.viewMore",defaultMessage:"View more",description:""},insertMenu:{id:"fabric.editor.insertMenu",defaultMessage:"Insert",description:"Opens a menu of additional items that can be inserted into your document."},help:{id:"fabric.editor.help",defaultMessage:"Help",description:"Opens up the help dialog"},helpDescription:{id:"fabric.editor.help.description",defaultMessage:"Browse all the keyboard shortcuts and markdown options",description:"Browse all the keyboard shortcuts and markdown options"}})})),r.register("3hm1O",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("dw5tu")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("6R08j"))]).then((()=>r("7JDoN")))})),r.register("j57Oe",(function(n,o){t(n.exports,"emojiPluginKey",(function(){return A})),t(n.exports,"default",(function(){return O}));var i=r("l15hj"),a=r("61szk"),s=r("eBSbE"),c=r("ekJGA");r("daqo8");var l=r("duqiq"),u=r("9UkrA"),d=r("ibk4k"),f=r("5aqWr");r("cTu5S");var p=r("hNVBR"),h=r("9V1f8"),g=r("iIrvw"),m=r("ai5sf"),v=r("eSgBC"),b=r("dNmbv"),y=r("6UBHG"),E=r("lWHVr");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C,S,T=(C=function(t,n){return{title:t.shortName||"",key:t.id||t.shortName,render:function(r){var o=r.isSelected,i=r.onClick,s=r.onHover;return e(a).createElement(b.EmojiContextProvider,{emojiProvider:n},e(a).createElement(l.default,{emoji:t,selected:o,onMouseMove:s,onSelection:i}))},emoji:t}},{call:function(e,t){var n=S.get(e.id||e.shortName);if(n)return n;var r=C(e,t);return S.set(e.id||e.shortName,r),r},clear:(S=new Map).clear.bind(S)}),O=function(t){return{name:"emoji",nodes:function(){return[{name:"emoji",node:c.emoji}]},pmPlugins:function(){return[{name:"emoji",plugin:function(e){var n=e.providerFactory;return function(e,t,n,r,o){var i,a;return new s.Plugin({key:A,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(A)||{action:null,params:null},o=r.action,i=r.params,a=n;switch(o){case w:return a=k(k({},n),{},{emojiProvider:i.provider}),e(A,a),a;case N:return a=k(k({},n),{},{emojis:i.results.emojis}),e(A,a),a}return a}},props:{nodeViews:{emoji:function(e,i,a){var s=E.getFeatureFlags(i.state);return(null!=s&&s.nextEmojiNodeView?v.default(t,o):m.default(n,r,t,o))(e,i,a)}}},view:function(e){var n=function(t,n){if("emojiProvider"===t){if(!n)return P(void 0)(e.state,e.dispatch);n.then((function(t){i&&a&&i.unsubscribe(a),i=t,P(t)(e.state,e.dispatch),a={result:function(t){Promise.resolve().then((function(){var n;(n=t,function(e,t){return t&&t(e.tr.setMeta(A,{action:N,params:{results:n}})),!0})(e.state,e.dispatch)}))}},t.subscribe(a)})).catch((function(){return P(void 0)(e.state,e.dispatch)}))}};return t.subscribe("emojiProvider",n),{destroy:function(){t&&t.unsubscribe("emojiProvider",n),i&&a&&i.unsubscribe(a)}}}})}(e.dispatch,n,e.portalProviderAPI,e.eventDispatcher,t)}},{name:"emojiAsciiInputRule",plugin:function(e){var t=e.schema,n=e.providerFactory,r=e.featureFlags;return f.inputRulePlugin(t,n,r)}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"emoji",title:n(y.messages.emoji),description:n(y.messages.emojiDescription),priority:500,keyshortcut:":",icon:function(){return e(a).createElement(g.IconEmoji,null)},action:function(e,t){var n=t.schema.mark("typeAheadQuery",{trigger:":"}),r=e(t.schema.text(":",[n]));return p.addAnalytics(t,r,{action:h.ACTION.INVOKED,actionSubject:h.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:h.ACTION_SUBJECT_ID.TYPEAHEAD_EMOJI,attributes:{inputMethod:h.INPUT_METHOD.QUICK_INSERT},eventType:h.EVENT_TYPE.UI})}}]},typeAhead:{trigger:":",customRegex:"\\(?(:)",headless:t?t.headless:void 0,getItems:function(e,t,n,r){var o=r.prevActive,i=r.queryChanged,a=function(e){return A.getState(e)||{}}(t),s=a.emojiProvider,c=a.emojis,l=!o&&i?[]:c||[];return i&&s&&(T.clear(),s.filter(e?":".concat(e):"",{limit:50,skinTone:s.getSelectedTone(),sort:e.length?u.SearchSort.Default:u.SearchSort.UsageFrequency})),l.map((function(e){return T.call(e,s)}))},forceSelect:function(e,t){var n=":"+e,r=function(e){return e&&e.length>1&&":"===e.charAt(0)&&":"===e.charAt(e.length-1)}(n)?t.find((function(e){return e.title.toLowerCase()===n})):void 0;return r},selectItem:function(e,n,r,o){o.mode;var i=n.emoji,a=i.id,s=void 0===a?"":a,c=i.fallback,l=i.shortName,u=c||l,f=A.getState(e);return f.emojiProvider&&f.emojiProvider.recordSelection&&n.emoji&&f.emojiProvider.recordSelection(n.emoji).then(d.recordSelectionSucceededSli(t)).catch(d.recordSelectionFailedSli(t)),p.addAnalytics(e,r(e.schema.nodes.emoji.createChecked({shortName:l,id:s,text:u})),{action:h.ACTION.INSERTED,actionSubject:h.ACTION_SUBJECT.DOCUMENT,actionSubjectId:h.ACTION_SUBJECT_ID.EMOJI,attributes:{inputMethod:h.INPUT_METHOD.TYPEAHEAD},eventType:h.EVENT_TYPE.TRACK})}}}}},w="SET_PROVIDER",N="SET_RESULTS",P=function(e){return function(t,n){return n&&n(t.tr.setMeta(A,{action:w,params:{provider:e}})),!0}},A=new s.PluginKey("emojiPlugin")})),r.register("5aqWr",(function(n,o){t(n.exports,"inputRulePlugin",(function(){return E}));var i=r("auQQv"),a=r("9OLyr"),s=r("89Kz4"),c=r("eP3fJ"),l=r("go2dD"),u=r("4NDMl"),d=r("l15hj"),f=r("eBSbE"),p=r("cky9Z"),h=r("k9AYs"),g=r("9J8af");r("cTu5S");var m,v=r("hNVBR"),b=r("9V1f8");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(c)(t);if(n){var i=e(c)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(s)(this,r)}}function E(e,t,n){if(e.nodes.emoji&&t){!function(e){var t=function(e,t){t&&t.then((function(e){e.getAsciiMap().then((function(t){m=new O(e,t)}))}))};e.subscribe("emojiProvider",t)}(t);var r=p.createRule(T.REGEX,x);return p.createPlugin("emoji",[r],{useUnpredictableInputRule:n.useUnpredictableInputRule})}}function x(e,t,n,r){if(!m)return null;if(!function(e){var t=e.schema.marks.typeAheadQuery;return e.selection.$from.marks().some((function(e){return e.type===t}))||g.isMarkTypeAllowedInCurrentSelection(t,e)}(e))return null;var o=m.match(t);return o?new w(e,o,n,r).create():null}var k=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e[1]+(t?e[2]:"")},C=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?e[2]:"")+e[3].trim()},S=function(e){return e[4]||""},T=function(){function t(n){e(l)(this,t),this.asciiToEmojiMap=n}return e(u)(t,[{key:"match",value:function(e){return this.getAsciiEmojiMatch(function(e){return k(e,!1)}(e),function(e){return C(e,!0)}(e),S(e))||this.getAsciiEmojiMatch(k(e),C(e),S(e))}},{key:"getAsciiEmojiMatch",value:function(e,t,n){var r=this.asciiToEmojiMap.get(t);return r?{emoji:r,leadingString:e,trailingString:n}:void 0}}]),t}();e(d)(T,"REGEX",new RegExp("((?:^|[\\s".concat(h.leafNodeReplacementCharacter,"])(?:\\(*?))(\\(?)([^:\\s").concat(h.leafNodeReplacementCharacter,"\\(]\\S{1,3}|:\\S{1,3}( ))$")));var O=function(t){e(a)(r,t);var n=y(r);function r(t,o){var i;return e(l)(this,r),(i=n.call(this,o)).emojiProvider=t,i}return e(u)(r,[{key:"match",value:function(t){var n=e(i)(e(c)(r.prototype),"match",this).call(this,t);return n&&this.emojiProvider.recordSelection&&this.emojiProvider.recordSelection(n.emoji),n}}]),r}(T),w=function(){function t(n,r,o,i){e(l)(this,t),this.state=n,this.match=r,this.start=o,this.end=i}return e(u)(t,[{key:"create",value:function(){var e=this.state.tr.replaceWith(this.from,this.to,this.createNodes());return v.addAnalytics(this.state,e,{action:b.ACTION.INSERTED,actionSubject:b.ACTION_SUBJECT.DOCUMENT,actionSubjectId:b.ACTION_SUBJECT_ID.EMOJI,attributes:{inputMethod:b.INPUT_METHOD.ASCII},eventType:b.EVENT_TYPE.TRACK})}},{key:"from",get:function(){return this.start+this.match.leadingString.length}},{key:"to",get:function(){return this.end}},{key:"createNodes",value:function(){var e=[this.createEmojiNode()];return this.trailingTextNodeRequired()&&e.push(this.createTrailingTextNode()),e}},{key:"createEmojiNode",value:function(){return this.state.schema.nodes.emoji.create(this.getEmojiNodeAttrs())}},{key:"getEmojiNodeAttrs",value:function(){var e=this.match.emoji;return{id:e.id,shortName:e.shortName,text:e.fallback||e.shortName}}},{key:"trailingTextNodeRequired",value:function(){return this.match.trailingString.length>0}},{key:"createTrailingTextNode",value:function(){return this.state.schema.text(this.match.trailingString)}}]),t}();new f.PluginKey("asciiEmojiPlugin")})),r.register("cky9Z",(function(n,o){t(n.exports,"ruleWithAnalytics",(function(){return g})),t(n.exports,"createRule",(function(){return m})),t(n.exports,"createPlugin",(function(){return v})),t(n.exports,"createWrappingTextBlockRule",(function(){return b})),t(n.exports,"createWrappingJoinRule",(function(){return y})),t(n.exports,"createJoinNodesRule",(function(){return E}));var i=r("l15hj"),a=r("6sW8E"),s=r("9VelW"),c=r("eBSbE"),l=r("hNVBR"),u=r("jJmoQ"),d=r("k9AYs"),f=r("emNKv");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(e){return function(t){return h(h({},t),{},{onHandlerApply:function(n,r,o){var i="function"==typeof e?e(n,o):e;l.addAnalytics(n,r,i),t.onHandlerApply&&t.onHandlerApply(n,r,o)}})}},m=function(e,t){return{match:e,handler:t,onHandlerApply:function(e,t){s.closeHistory(t)}}},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.isBlockNodeRule,o=void 0!==r&&r,i=n.allowInsertTextOnDocument,a=void 0===i||i,l=n.useUnpredictableInputRule,d=void 0===l||l;if(d)return C(e,t,o);var f=function(e){var t=e.state,n=e.from,r=e.to,i=o?["code","link","typeAheadQuery"]:["code"];return!(t.selection.$from.parent.type.spec.code||!(t.selection instanceof c.TextSelection)||x(t,n,r,i)||o&&k(t,i))};return u.createInputRulePlugin(e,t,{allowInsertTextOnDocument:a,onInputEvent:f,onBeforeRegexMatch:function(e){s.closeHistory(e)}})},b=function(e){var t=e.match,n=e.nodeType,r=e.getAttrs;return m(t,(function(e,t,o,i){var a=Math.max(o,1),s=e.doc.resolve(a),c=r instanceof Function?r(t):r,l=s.node(-1);return l&&!l.canReplaceWith(s.index(-1),s.indexAfter(-1),n)?null:e.tr.delete(a,i).setBlockType(a,a,n,c)}))},y=function(e){var t=e.match,n=e.nodeType,r=e.getAttrs,o=e.joinPredicate;return m(t,(function(e,t,i,s){var c=(r instanceof Function?r(t):r)||{},l=e.tr,u=Math.max(i,1);l.delete(u,s);var d=l.doc.resolve(u).blockRange(),f=d&&a.findWrapping(d,n,c);if(!f||!d)return null;var p=l.mapping.map(d.start),h=l.doc.nodeAt(p),g=f[f.length-1];if(h&&g){var m=g.type.allowedMarks(h.marks)||[];l.setNodeMarkup(p,h.type,h.attrs,m)}l.wrap(d,f);var v=l.doc.resolve(u-1).nodeBefore;return v&&v.type===n&&a.canJoin(l.doc,u-1)&&(!o||o(t,v))&&l.join(u-1),l}))},E=function(e,t){return y({nodeType:t,match:e,getAttrs:{},joinPredicate:function(e,n){return n.type===t}})},x=function(e,t,n,r){var o=e.doc.resolve(t),i=e.doc.resolve(n);return((t===n?o.marks():o.marksAcross(i))||[]).some((function(e){return(r||[]).includes(e.type.name)}))},k=function(e,t){var n,r,o=e.selection;if(!(o instanceof c.TextSelection))return!1;var i=o.$cursor;return Boolean(null==i||null===(n=i.nodeBefore)||void 0===n||null===(r=n.marks)||void 0===r?void 0:r.some((function(e){return t.includes(e.type.name)})))};function C(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code||e.type===o.link||e.type===o.typeAheadQuery};return r.nodesBetween(t,n,(function(e){i=i||e.marks.filter(a).length>0})),i},o=function(e,t,n){var r=e.doc,o=e.schema.marks,i=!1,a=function(e){return e.type===o.code};return r.nodesBetween(t,n,(function(e){i=i||e.marks.filter(a).length>0})),i},i=function(e){var t=e.handler.bind(e);return e.handler=function(e,i,a,s){var l=n?r(e,a,s):o(e,a,s);return!e.selection.$from.parent.type.spec.code&&e.selection instanceof c.TextSelection&&!l?t(e,i,a,s):null},e},a=function(e){var t=e.handler.bind(e);return e.handler=function(e,n,r,o){var i=e.selection.$from.start(),a=Math.max(0,e.selection.$from.parentOffset-d.MAX_REGEX_MATCH),s=Math.max(i+n.index+a,1);return t(e,n,s,o)},e},s=function(e){return function(t){if(!e)return t;var n=t.handler.bind(t);return t.handler=function(t,r,o,i){var a=n(t,r,o,i);return a&&e&&e(t,a,r),a},t}},l=function(e,t,n){var r=new f.InputRule(e,t);return[i,a,s(n)].reduce((function(e,t){return t(e)}),r)},u=t.map((function(e){var t=e.match,n=e.handler,r=e.onHandlerApply;return l(t,n,r)})),p=f.inputRules({rules:u});return p}})),r.register("9VelW",(function(e,n){t(e.exports,"closeHistory",(function(){return v})),t(e.exports,"history",(function(){return E})),t(e.exports,"undo",(function(){return x})),t(e.exports,"redo",(function(){return k}));var o=r("8hJoP"),i=r("6sW8E"),a=r("eBSbE"),s=function(e,t){this.items=e,this.eventCount=t};s.prototype.popEvent=function(e,t){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}t&&(r=this.remapping(i,this.items.length),o=r.maps.length);var a,l,u=e.tr,d=[],f=[];return this.items.forEach((function(e,t){if(!e.step)return r||(r=n.remapping(i,t+1),o=r.maps.length),o--,void f.push(e);if(r){f.push(new c(e.map));var p,h=e.step.map(r.slice(o));h&&u.maybeStep(h).doc&&(p=u.mapping.maps[u.mapping.maps.length-1],d.push(new c(p,null,null,d.length+f.length))),o--,p&&r.appendMap(p,o)}else u.maybeStep(e.step);return e.selection?(a=r?e.selection.map(r.slice(o)):e.selection,l=new s(n.items.slice(0,i).append(f.reverse().concat(d)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:l,transform:u,selection:a}},s.prototype.addTransform=function(e,t,n,r){for(var o=[],i=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null,d=0;d<e.steps.length;d++){var f,p=e.steps[d].invert(e.docs[d]),h=new c(e.mapping.maps[d],p,t);(f=l&&l.merge(h))&&(h=f,d?o.pop():a=a.slice(0,a.length-1)),o.push(h),t&&(i++,t=null),r||(l=h)}var g,m,v,b=i-n.depth;return b>u&&(m=b,(g=a).forEach((function(e,t){if(e.selection&&0==m--)return v=t,!1})),a=g.slice(v),i-=b),new s(a.append(o),i)},s.prototype.remapping=function(e,t){var n=new i.Mapping;return this.items.forEach((function(t,r){var o=null!=t.mirrorOffset&&r-t.mirrorOffset>=e?n.maps.length-t.mirrorOffset:null;n.appendMap(t.map,o)}),e,t),n},s.prototype.addMaps=function(e){return 0==this.eventCount?this:new s(this.items.append(e.map((function(e){return new c(e)}))),this.eventCount)},s.prototype.rebased=function(e,t){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-t),o=e.mapping,i=e.steps.length,a=this.eventCount;this.items.forEach((function(e){e.selection&&a--}),r);var l=t;this.items.forEach((function(t){var r=o.getMirror(--l);if(null!=r){i=Math.min(i,r);var s=o.maps[r];if(t.step){var u=e.steps[r].invert(e.docs[r]),d=t.selection&&t.selection.map(o.slice(l+1,r));d&&a++,n.push(new c(s,u,d))}else n.push(new c(s))}}),r);for(var u=[],d=t;d<i;d++)u.push(new c(o.maps[d]));var f=this.items.slice(0,r).append(u).append(n),p=new s(f,a);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p},s.prototype.emptyItemCount=function(){var e=0;return this.items.forEach((function(t){t.step||e++})),e},s.prototype.compress=function(e){void 0===e&&(e=this.items.length);var t=this.remapping(0,e),n=t.maps.length,r=[],i=0;return this.items.forEach((function(o,a){if(a>=e)r.push(o),o.selection&&i++;else if(o.step){var s=o.step.map(t.slice(n)),l=s&&s.getMap();if(n--,l&&t.appendMap(l,n),s){var u=o.selection&&o.selection.map(t.slice(n));u&&i++;var d,f=new c(l.invert(),s,u),p=r.length-1;(d=r.length&&r[p].merge(f))?r[p]=d:r.push(f)}}else o.map&&n--}),this.items.length,0),new s(o.default.from(r.reverse()),i)},s.empty=new s(o.default.empty,0);var c=function(e,t,n,r){this.map=e,this.step=t,this.selection=n,this.mirrorOffset=r};c.prototype.merge=function(e){if(this.step&&e.step&&!e.selection){var t=e.step.merge(this.step);if(t)return new c(t.getMap().invert(),t,this.selection)}};var l=function(e,t,n,r){this.done=e,this.undone=t,this.prevRanges=n,this.prevTime=r},u=20;function d(e){var t=[];return e.forEach((function(e,n,r,o){return t.push(r,o)})),t}function f(e,t){if(!e)return null;for(var n=[],r=0;r<e.length;r+=2){var o=t.map(e[r],1),i=t.map(e[r+1],-1);o<=i&&n.push(o,i)}return n}function p(e,t,n,r){var o=m(t),i=b.get(t).spec.config,a=(r?e.undone:e.done).popEvent(t,o);if(a){var s=a.selection.resolve(a.transform.doc),c=(r?e.done:e.undone).addTransform(a.transform,t.selection.getBookmark(),i,o),u=new l(r?c:a.remaining,r?a.remaining:c,null,0);n(a.transform.setSelection(s).setMeta(b,{redo:r,historyState:u}).scrollIntoView())}}var h=!1,g=null;function m(e){var t=e.plugins;if(g!=t){h=!1,g=t;for(var n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){h=!0;break}}return h}function v(e){return e.setMeta(y,!0)}var b=new a.PluginKey("history"),y=new a.PluginKey("closeHistory");function E(e){return e={depth:e&&e.depth||100,newGroupDelay:e&&e.newGroupDelay||500},new a.Plugin({key:b,state:{init:function(){return new l(s.empty,s.empty,null,0)},apply:function(t,n,r){return function(e,t,n,r){var o,i=n.getMeta(b);if(i)return i.historyState;n.getMeta(y)&&(e=new l(e.done,e.undone,null,0));var a=n.getMeta("appendedTransaction");if(0==n.steps.length)return e;if(a&&a.getMeta(b))return a.getMeta(b).redo?new l(e.done.addTransform(n,null,r,m(t)),e.undone,d(n.mapping.maps[n.steps.length-1]),e.prevTime):new l(e.done,e.undone.addTransform(n,null,r,m(t)),null,e.prevTime);if(!1===n.getMeta("addToHistory")||a&&!1===a.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new l(e.done.rebased(n,o),e.undone.rebased(n,o),f(e.prevRanges,n.mapping),e.prevTime):new l(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),f(e.prevRanges,n.mapping),e.prevTime);var c=0==e.prevTime||!a&&(e.prevTime<(n.time||0)-r.newGroupDelay||!function(e,t){if(!t)return!1;if(!e.docChanged)return!0;var n=!1;return e.mapping.maps[0].forEach((function(e,r){for(var o=0;o<t.length;o+=2)e<=t[o+1]&&r>=t[o]&&(n=!0)})),n}(n,e.prevRanges)),u=a?f(e.prevRanges,n.mapping):d(n.mapping.maps[n.steps.length-1]);return new l(e.done.addTransform(n,c?t.selection.getBookmark():null,r,m(t)),s.empty,u,n.time)}(n,r,t,e)}},config:e})}function x(e,t){var n=b.getState(e);return!(!n||0==n.done.eventCount)&&(t&&p(n,e,t,!1),!0)}function k(e,t){var n=b.getState(e);return!(!n||0==n.undone.eventCount)&&(t&&p(n,e,t,!0),!0)}})),r.register("8hJoP",(function(e,n){t(e.exports,"default",(function(){return s}));var r=200,o=function(){};o.prototype.append=function(e){return e.length?(e=o.from(e),!this.length&&e||e.length<r&&this.leafAppend(e)||this.length<r&&e.leafPrepend(this)||this.appendInner(e)):this},o.prototype.prepend=function(e){return e.length?o.from(e).append(this):this},o.prototype.appendInner=function(e){return new a(this,e)},o.prototype.slice=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=this.length),e>=t?o.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,t))},o.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)},o.prototype.forEach=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length),t<=n?this.forEachInner(e,t,n,0):this.forEachInvertedInner(e,t,n,0)},o.prototype.map=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(t,n){return r.push(e(t,n))}),t,n),r},o.from=function(e){return e instanceof o?e:e&&e.length?new i(e):o.empty};var i=function(e){function t(t){e.call(this),this.values=t}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(e,n){return 0==e&&n==this.length?this:new t(this.values.slice(e,n))},t.prototype.getInner=function(e){return this.values[e]},t.prototype.forEachInner=function(e,t,n,r){for(var o=t;o<n;o++)if(!1===e(this.values[o],r+o))return!1},t.prototype.forEachInvertedInner=function(e,t,n,r){for(var o=t-1;o>=n;o--)if(!1===e(this.values[o],r+o))return!1},t.prototype.leafAppend=function(e){if(this.length+e.length<=r)return new t(this.values.concat(e.flatten()))},t.prototype.leafPrepend=function(e){if(this.length+e.length<=r)return new t(e.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t}(o);o.empty=new i([]);var a=function(e){function t(t,n){e.call(this),this.left=t,this.right=n,this.length=t.length+n.length,this.depth=Math.max(t.depth,n.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(e){return e<this.left.length?this.left.get(e):this.right.get(e-this.left.length)},t.prototype.forEachInner=function(e,t,n,r){var o=this.left.length;return!(t<o&&!1===this.left.forEachInner(e,t,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(e,Math.max(t-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},t.prototype.forEachInvertedInner=function(e,t,n,r){var o=this.left.length;return!(t>o&&!1===this.right.forEachInvertedInner(e,t-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(e,Math.min(t,o),n,r))&&void 0)},t.prototype.sliceInner=function(e,t){if(0==e&&t==this.length)return this;var n=this.left.length;return t<=n?this.left.slice(e,t):e>=n?this.right.slice(e-n,t-n):this.left.slice(e,n).append(this.right.slice(0,t-n))},t.prototype.leafAppend=function(e){var n=this.right.leafAppend(e);if(n)return new t(this.left,n)},t.prototype.leafPrepend=function(e){var n=this.left.leafPrepend(e);if(n)return new t(n,this.right)},t.prototype.appendInner=function(e){return this.left.depth>=Math.max(this.right.depth,e.depth)+1?new t(this.left,new t(this.right,e)):new t(this,e)},t}(o),s=o})),r.register("k9AYs",(function(e,n){t(e.exports,"leafNodeReplacementCharacter",(function(){return r})),t(e.exports,"TEXT_INPUT_RULE_TRANSACTION_KEY",(function(){return o})),t(e.exports,"MAX_REGEX_MATCH",(function(){return i}));var r="\ufffc",o="input_rule_plugin_transaction",i=500})),r.register("jJmoQ",(function(e,n){t(e.exports,"createInputRulePlugin",(function(){return s}));var o=r("eBSbE"),i=r("k9AYs"),a=r("3RxJq");function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=null==n?void 0:n.onInputEvent,s=null==n?void 0:n.onBeforeRegexMatch,c=Boolean(null==n?void 0:n.allowInsertTextOnDocument),l=new o.PluginKey("inputRulePlugin__".concat(e)),u=a.createInputEventHandler({allowInsertTextOnDocument:c,pluginKey:l,rules:t,onInputEvent:r,onBeforeRegexMatch:s}),d=new o.Plugin({key:l,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(l);return n||(e.selectionSet||e.docChanged?null:t)}},appendTransaction:function(e,t,n){var r=e.find((function(e){return e.getMeta(l)})),o=null==r?void 0:r.getMeta(l);if(!o||!r)return null;var a=o.matchedRule,s=o.from,c=o.to,u=a.result,d=r.mapping.map(c),f=a.handler(n,u,s,d);return f?(f.setMeta(i.TEXT_INPUT_RULE_TRANSACTION_KEY,!0),a.onHandlerApply&&a.onHandlerApply(n,f,a.result),f):null},props:{handleTextInput:function(e,t,n,r){return u({view:e,from:t,to:n,text:r})},handleDOMEvents:{compositionend:function(e){return setTimeout((function(){var t=e.state.selection;if(t instanceof o.TextSelection){var n=t.$cursor;n&&u({view:e,from:n.pos,to:n.pos,text:""})}})),!1}}},isInputRules:!0});return d}})),r.register("3RxJq",(function(n,o){t(n.exports,"createInputEventHandler",(function(){return l}));var i=r("l15hj"),a=r("k9AYs");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e){var t=e.rules,n=e.pluginKey,r=e.allowInsertTextOnDocument,o=e.onInputEvent,i=e.onBeforeRegexMatch;return function(e){var s=e.view,l=e.from,u=e.to,d=e.text;if(s.composing)return!1;var f=s.state,p=f.doc.resolve(l);if(p.parent.type.spec.code)return!1;if(o&&!o({state:f,from:l,to:u}))return!1;var h=p.parent.textBetween(Math.max(0,p.parentOffset-a.MAX_REGEX_MATCH),p.parentOffset,void 0,a.leafNodeReplacementCharacter)+d,g=function(e){for(var t=e.rules,n=e.textBefore,r=(e.from,e.to),o=e.state,i=0;i<t.length;i++){var s=t[i],l=s.match.exec(n);if(l){var u=o.selection.$from.start(),d=Math.max(0,o.selection.$from.parentOffset-a.MAX_REGEX_MATCH),f=Math.max(u+l.index+d,1);if(s.handler(o,l,f,r))return{from:f,to:r,matchedRule:c(c({},s),{},{result:l})}}}return null}({rules:t,textBefore:h,from:l,to:u,state:f});if(!g)return!1;var m=r?f.tr.insertText(d,l,u):f.tr;return m.setMeta(a.TEXT_INPUT_RULE_TRANSACTION_KEY,!0),m.setMeta(n,{textInserted:d,from:g.from,to:g.to,matchedRule:g.matchedRule}),i&&i(m),s.dispatch(m),!0}}})),r.register("emNKv",(function(e,n){t(e.exports,"InputRule",(function(){return i})),t(e.exports,"inputRules",(function(){return a})),t(e.exports,"undoInputRule",(function(){return c}));var o=r("eBSbE"),i=(r("6sW8E"),function(e,t){var n;this.match=e,this.handler="string"==typeof t?(n=t,function(e,t,r,o){var i=n;if(t[1]){var a=t[0].lastIndexOf(t[1]);i+=t[0].slice(a+t[1].length);var s=(r+=a)-o;s>0&&(i=t[0].slice(a-s,a)+i,r=o)}return e.tr.insertText(i,r,o)}):t});function a(e){var t=e.rules,n=new o.Plugin({state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(this);return n||(e.selectionSet||e.docChanged?null:t)}},props:{handleTextInput:function(e,r,o,i){return s(e,r,o,i,t,n)},handleDOMEvents:{compositionend:function(e){setTimeout((function(){var r=e.state.selection.$cursor;r&&s(e,r.pos,r.pos,"",t,n)}))}}},isInputRules:!0});return n}function s(e,t,n,r,o,i){if(e.composing)return!1;var a=e.state,s=a.doc.resolve(t);if(s.parent.type.spec.code)return!1;for(var c=s.parent.textBetween(Math.max(0,s.parentOffset-500),s.parentOffset,null,"\ufffc")+r,l=0;l<o.length;l++){var u=o[l].match.exec(c),d=u&&o[l].handler(a,u,t-(u[0].length-r.length),n);if(d)return e.dispatch(d.setMeta(i,{transform:d,from:t,to:n,text:r})),!0}return!1}function c(e,t){for(var n=e.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(e))){if(t){for(var a=e.tr,s=i.transform,c=s.steps.length-1;c>=0;c--)a.step(s.steps[c].invert(s.docs[c]));if(i.text){var l=a.doc.resolve(i.from).marks();a.replaceWith(i.from,i.to,e.schema.text(i.text,l))}else a.delete(i.from,i.to);t(a)}return!0}}return!1}new i(/--$/,"\u2014"),new i(/\.\.\.$/,"\u2026"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201c"),new i(/"$/,"\u201d"),new i(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018"),new i(/'$/,"\u2019")})),r.register("ai5sf",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("auQQv"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("61szk");r("igW5C");var f=r("b6rQF"),p=r("jRtt0"),h=r("22Hec"),g=r("75Prg");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"createDomRef",value:function(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?g.createMobileInlineDomRef():e(s)(e(u)(r.prototype),"createDomRef",this).call(this)}},{key:"render",value:function(t){var n=t.providerFactory,r=t.options,o=this.node.attrs,i=o.shortName,a=o.id,s=o.text;return e(d).createElement(g.default,{useInlineWrapper:r&&r.useInlineWrapper},e(d).createElement(p.default,{providers:n,id:a,shortName:i,fallback:s}),r&&r.allowZeroWidthSpaceAfter&&f.ZERO_WIDTH_SPACE)}}]),r}(h.default);function b(e,t,n,r){return function(o,i,a){return new v(o,i,a,e,t,{providerFactory:n,options:r}).init()}}})),r.register("jRtt0",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("61szk"),a=r("xZbZL");r("igW5C");var s=r("9YWJg");function c(t){return e(i).createElement(a.ClickSelectWrapper,null,e(i).createElement(s.default,t))}})),r.register("xZbZL",(function(n,o){t(n.exports,"ButtonGroup",(function(){return x})),t(n.exports,"Separator",(function(){return k})),t(n.exports,"Wrapper",(function(){return C})),t(n.exports,"ExpandIconWrapper",(function(){return S})),t(n.exports,"TriggerWrapper",(function(){return T})),t(n.exports,"MenuWrapper",(function(){return O})),t(n.exports,"ButtonContent",(function(){return w})),t(n.exports,"dropShadow",(function(){return N})),t(n.exports,"scrollbarStyles",(function(){return P})),t(n.exports,"Shortcut",(function(){return A})),t(n.exports,"ClickSelectWrapper",(function(){return I})),t(n.exports,"CellColourPreview",(function(){return D}));var i=r("lhkMJ"),a=r("SssiD"),s=r("kFKbx"),c=r("cufhv");r("8iml0");var l,u,d,f,p,h,g,m,v,b,y=r("82cWi"),E=s.gridSize()+"px",x=a.default.span(l||(l=e(i)(["\n  display: inline-flex;\n  align-items: center;\n\n  & > div {\n    display: flex;\n  }\n"]))),k=a.default.span(u||(u=e(i)(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),c.N30),C=a.default.span(d||(d=e(i)(["\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n  margin-left: ","px;\n  min-width: ",";\n"])),(function(e){return e.isSmall?4:0}),(function(e){return e.isSmall?"40px":"auto"})),S=a.default.span(f||(f=e(i)(["\n  margin-left: -8px;\n"]))),T=a.default.div(p||(p=e(i)(["\n  display: flex;\n"]))),O=C,w=a.default.span(h||(h=e(i)(["\n  display: flex;\n  min-width: 80px;\n  align-items: center;\n  overflow: hidden;\n  justify-content: center;\n  flex-direction: column;\n  padding: 0 ",";\n"])),(function(e){return"none"===e.spacing?"8px":"6px"})),N=a.css(g||(g=e(i)(["\n  box-shadow: 0 0 1px rgba(9, 30, 66, 0.31),\n    0 4px 8px -2px rgba(9, 30, 66, 0.25);\n"]))),P="\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n\n  &::-webkit-scrollbar {\n    height: ".concat(E,";\n    width: ").concat(E,";\n  }\n\n  &::-webkit-scrollbar-corner {\n    display: none;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  &:hover::-webkit-scrollbar-thumb {\n    background-color: rgba(0, 0, 0, 0.2);\n    border-radius: ").concat(E,";\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background-color: rgba(0, 0, 0, 0.4);\n  }\n"),A=a.default.div(m||(m=e(i)(["\n  background-color: rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  color: ",";\n  border-radius: ","px;\n  padding: 4px;\n  line-height: 12px;\n  font-size: ",";\n  align-self: flex-end;\n  @media (max-width: ","px) {\n    display: none;\n  }\n"])),c.N100,s.borderRadius(),y.relativeFontSizeToBase16(11.67),y.akEditorMobileMaxWidth),I=a.default.span(v||(v=e(i)(["\n  user-select: all;\n"]))),D=a.default.div(b||(b=e(i)(["\n  &::before {\n    background: ",";\n  }\n"])),(function(e){return e.selectedColor}))})),r.register("75Prg",(function(n,o){t(n.exports,"createMobileInlineDomRef",(function(){return c})),t(n.exports,"default",(function(){return d}));var i,a=r("lhkMJ"),s=r("61szk");function c(){var e=document.createElement("span");return e.contentEditable="false",e.classList.add("inline-node--mobile"),e}var l=r("SssiD").default.span(i||(i=e(a)(["\n  display: block;\n"]))),u=function(t){var n=t.useInlineWrapper,r=t.children;return n?e(s).createElement(l,null,r):e(s).createElement(e(s).Fragment,null,r)};u.displayName="InlineNodeWrapper";var d=u})),r.register("eSgBC",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("l15hj"),u=r("jWbqG");r("igW5C");var d=r("b6rQF"),f=r("75Prg"),p=function(){function t(n,r,o){var i,a,c,u=this;if(e(s)(this,t),e(l)(this,"hasProvider",!1),e(l)(this,"subscribe",(function(e,t){u.hasProvider=!1,u.emojiProvider=t,null==t||t.then((function(){return u.hasProvider=!0})).then((function(){return u.findEmoji()})).then((function(e){return u.update(u.node,null,e)}))})),this.node=n,this.providers=o.providerFactory,this.options=o.options,this.dom=t.toDom(n),null!==(i=this.options)&&void 0!==i&&i.useInlineWrapper){var p=f.createMobileInlineDomRef();p.appendChild(this.dom),this.dom=p}this.el=null!==(a=this.options)&&void 0!==a&&a.useInlineWrapper?this.dom.firstElementChild:this.dom,this.providers.subscribe("emojiProvider",this.subscribe),null!==(c=this.options)&&void 0!==c&&c.allowZeroWidthSpaceAfter&&this.el.after(document.createTextNode(d.ZERO_WIDTH_SPACE)),this.update(this.node,null)}var n;return e(c)(t,[{key:"findEmoji",value:(n=e(a)(e(i).mark((function t(){var n,r,o=arguments;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:this.node,e.next=3,this.emojiProvider;case 3:if(!(r=e.sent)){e.next=6;break}return e.abrupt("return",r.findByEmojiId({id:n.attrs.id,shortName:n.attrs.shortName,fallback:n.attrs.text}));case 6:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"destroy",value:function(){this.providers.unsubscribe("emojiProvider",this.subscribe)}},{key:"update",value:function(e,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.emoji;if(this.node.type!==e.type)return this.node=e,!1;var i=this.node.attrs,a=e.attrs,s=!1;if(i.id!==a.id&&(s=!0,this.el.dataset.emojiId=a.id),i.shortName!==a.shortName&&(s=!0,this.el.dataset.emojiShortname=a.shortName),s)return this.emoji=void 0,this.node=e,this.findEmoji().then((function(e){return r.update(r.node,n,e)})),!0;if(!this.hasProvider)return this.el.classList.add("editor-emoji-loading"),this.el.style.backgroundSize="",this.el.style.backgroundPosition="",this.el.style.backgroundImage="",this.node=e,this.emoji=o,!0;if(this.el.classList.remove("editor-emoji-loading"),!o)return this.el.classList.add("editor-emoji-fallback"),this.el.style.backgroundSize="",this.el.style.backgroundPosition="",this.el.style.backgroundImage="",this.node=e,this.emoji=o,!0;if(this.el.classList.remove("editor-emoji-fallback"),this.emoji===o)return!0;var c=null==o?void 0:o.representation;if(t.isSprite(c)){var l=c.sprite,u=c.xIndex,d=c.yIndex,f=l.row,p=l.column,h=l.url,g=100/(p-1)*(u-0),m=100/(f-1)*(d-0);this.el.style.backgroundSize="".concat(100*p,"% ").concat(100*f,"%"),this.el.style.backgroundPosition="".concat(g,"% ").concat(m,"%"),this.el.style.backgroundImage="url(".concat(h,")")}if(t.isImage(c)||t.isMedia(c)){var v=t.isImage(c)?c.imagePath:c.mediaPath,b=c.width,y=c.height,E=b/(y/20);this.el.style.width="".concat(E,"px"),this.el.style.backgroundImage="url(".concat(v,")")}return this.emoji=o,!0}},{key:"ignoreMutation",value:function(e){return!0}}],[{key:"toDomSpec",value:function(e){return["span",{"aria-label":e.attrs.shortName,"data-emoji-id":e.attrs.id,"data-emoji-shortname":e.attrs.shortName,class:"editor-emoji"},e.attrs.shortName]}},{key:"toDom",value:function(e){return u.DOMSerializer.renderSpec(document,t.toDomSpec(e)).dom}},{key:"isSprite",value:function(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("sprite"))&&void 0!==t&&t}},{key:"isImage",value:function(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("imagePath"))&&void 0!==t&&t}},{key:"isMedia",value:function(e){var t;return null!==(t=null==e?void 0:e.hasOwnProperty("mediaPath"))&&void 0!==t&&t}}]),t}();function h(e,t){return function(n,r){return new p(n,r,{providerFactory:e,options:t})}}})),r.register("dNmbv",(function(n,o){t(n.exports,"EmojiContextProvider",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("l15hj"),d=r("61szk"),f=r("hm2s2");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"getChildContext",value:function(){return{emoji:{emojiProvider:this.props.emojiProvider}}}},{key:"render",value:function(){return this.props.children}}]),r}(e(d).Component);e(u)(h,"childContextTypes",{emoji:e(f).object})})),r.register("fDqqy",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("ekJGA"),i=r("3wRIy"),a=r("dUmwX"),s=r("6ef11"),c=r("763Wi"),l=r("9B3MC"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"extension",nodes:function(){return[{name:"extension",node:o.extension},{name:"bodiedExtension",node:o.bodiedExtension},{name:"inlineExtension",node:o.inlineExtension}]},pmPlugins:function(){return[{name:"extension",plugin:function(t){var n=t.dispatch,r=t.providerFactory,o=t.portalProviderAPI,a=t.eventDispatcher,s=e.extensionHandlers||{};return i.createPlugin(n,r,s,o,a,e.useLongPressSelection,{appearance:e.appearance})}},{name:"extensionKeymap",plugin:a.default},{name:"extensionUniqueId",plugin:function(){return s.createPlugin()}}]},pluginsOptions:{floatingToolbar:c.getToolbarConfig(e.breakoutEnabled),contextPanel:l.getContextPanel(e.allowAutoSave)}}}})),r.register("3wRIy",(function(n,o){t(n.exports,"createPlugin",(function(){return k})),t(n.exports,"getPluginState",(function(){return r("9NzCT").getPluginState}));var i=r("EwJf3"),a=r("9ePZF"),s=r("cNgp7"),c=r("eBSbE");r("5Nf4u");var l=r("kn8yN"),u=r("cD9Ho"),d=r("aK5io"),f=r("e3yG9"),p=r("cZcDC"),h=r("9NzCT"),g=r("gOGfy"),m=function(){var t=e(s)(e(a).mark((function t(n,r){var o,i,s,c,u,d;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=p.getSelectedExtension(n.state,!0)){e.next=3;break}throw new Error("There is no selection");case 3:return i=o.node.attrs,s=i.extensionType,c=i.extensionKey,e.next=6,l.getExtensionModuleNode(r,s,c);case 6:if(u=e.sent,!(d=p.getSelectedExtension(n.state,!0))||d.node.attrs.extensionType!==s||d.node.attrs.extensionKey!==c||d.pos!==o.pos||!u){e.next=10;break}return e.abrupt("return",u.update);case 10:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),v=function(){var t=e(s)(e(a).mark((function t(n,r){var o;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m(n,r);case 3:return o=e.sent,f.updateState({showEditButton:!!o,updateExtension:o&&Promise.resolve(o)||void 0})(n.state,n.dispatch),e.abrupt("return",o);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}(),b=function(t,n){var r=!t&&!n||"function"==typeof t,o="object"===e(i)(t)&&"function"==typeof t.update;return!(!r&&!o)},y=function(){var t=e(s)(e(a).mark((function t(n,r,o){var s;return e(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r||"object"!==e(i)(r)){t.next=4;break}return t.abrupt("return",r.update);case 4:if(!o){t.next=10;break}return t.next=7,v(n,o);case 7:if(!(s=t.sent)){t.next=10;break}return t.abrupt("return",s);case 10:throw new Error("No update method available");case 11:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),E=function(t){return function(){var n=e(s)(e(a).mark((function n(r,o){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("extensionProvider"!==r||!o){e.next=13;break}return e.prev=1,e.next=4,o;case 4:return i=e.sent,f.updateState({extensionProvider:i})(t.state,t.dispatch),e.next=8,v(t,i);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f.updateState({extensionProvider:void 0})(t.state,t.dispatch);case 13:case"end":return e.stop()}}),n,null,[[1,10]])})));return function(e,t){return n.apply(this,arguments)}}()},x=function(t){return function(){var n=e(s)(e(a).mark((function n(r,o){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("contextIdentifierProvider"!==r||!o){e.next=11;break}return e.prev=1,e.next=4,o;case 4:i=e.sent,f.updateState({contextIdentifierProvider:i})(t.state,t.dispatch),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f.updateState({contextIdentifierProvider:void 0})(t.state,t.dispatch);case 11:case"end":return e.stop()}}),n,null,[[1,8]])})));return function(e,t){return n.apply(this,arguments)}}()},k=function(e,t,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=h.createPluginState(e,{layout:"default",showEditButton:!1,showContextPanel:!1}),l={appearance:a.appearance};return new c.Plugin({state:s,view:function(e){var r=e.domAtPos.bind(e),o=E(e),i=x(e);return t.subscribe("extensionProvider",o),t.subscribe("contextIdentificationProvider",i),{update:function(e){var t=e.state,o=e.dispatch,i=h.getPluginState(t),a=i.element,s=i.localId,c=i.extensionProvider,l=i.showContextPanel,u=p.getSelectedExtension(t,!0);if(u){var d=u.node,g=p.getSelectedDomElement(t.schema,r,u);if(d.attrs.localId?s!==d.attrs.localId:a!==g){l&&f.clearEditingContext(t,o);var m=d.attrs.extensionType,v=n[m],E=b(v,c),x=y(e,v,c).catch((function(){})),k=u?d.attrs.layout:"default";f.updateState({localId:d.attrs.localId,showContextPanel:!1,element:g,showEditButton:E,updateExtension:x,layout:k})(t,o)}else a!==g&&f.updateState({element:g})(t,o);return!0}l&&f.clearEditingContext(t,o)},destroy:function(){t.unsubscribe("extensionProvider",o),t.unsubscribe("contextIdentificationProvider",i)}}},key:g.pluginKey,props:{nodeViews:{extension:d.default(r,o,t,n,l),bodiedExtension:d.default(r,o,t,n,l),inlineExtension:d.default(r,o,t,n,l)},handleClickOn:u.createSelectionClickHandler(["extension","bodiedExtension"],(function(e){return!e.closest(".extension-content")}),{useLongPressSelection:i})}})}})),r.register("cD9Ho",(function(e,n){t(e.exports,"createSelectionClickHandler",(function(){return m})),t(e.exports,"getDecorations",(function(){return v})),t(e.exports,"getNodeSelectionAnalyticsPayload",(function(){return b})),t(e.exports,"getAllSelectionAnalyticsPayload",(function(){return y})),t(e.exports,"getCellSelectionAnalyticsPayload",(function(){return E})),t(e.exports,"getRangeSelectionAnalyticsPayload",(function(){return k})),t(e.exports,"shouldRecalcDecorations",(function(){return C})),t(e.exports,"isSelectableContainerNode",(function(){return S})),t(e.exports,"findSelectableContainerParent",(function(){return O})),t(e.exports,"findSelectableContainerBefore",(function(){return w})),t(e.exports,"findSelectableContainerAfter",(function(){return N})),t(e.exports,"findFirstChildNodeToSelect",(function(){return P})),t(e.exports,"findLastChildNodeToSelect",(function(){return A})),t(e.exports,"isSelectionAtStartOfParentNode",(function(){return I})),t(e.exports,"isSelectionAtEndOfParentNode",(function(){return D}));var o=r("eBSbE"),i=r("9MUi0"),a=r("bKnyF"),s=r("7Cbfw"),c=r("iFBc4");r("8iml0");var l=r("82cWi"),u=r("jd53t"),d=r("l9fpM"),f=r("eXD27");r("cTu5S");var p=r("9V1f8"),h=r("l3YLZ"),g=r("6Ms1b");function m(e,t,n){return function(r,o,i,a,s,c){if(n.useLongPressSelection)return!1;if(c&&-1!==e.indexOf(i.type.name)&&s.target){var l=s.target;if(t(l)){var d=n.getNodeSelectionPos?n.getNodeSelectionPos(r.state,a):a;return u.selectNode(d)(r.state,r.dispatch),!0}}return!1}}var v=function(e){if(e.selection instanceof o.NodeSelection)return i.DecorationSet.create(e.doc,[i.Decoration.node(e.selection.from,e.selection.to,{class:l.akEditorSelectedNodeClassName})]);if(e.selection instanceof o.TextSelection||e.selection instanceof o.AllSelection){var t=x(e.selection,e.doc).map((function(e){var t=e.node,n=e.pos;return i.Decoration.node(n,n+t.nodeSize,{class:l.akEditorSelectedNodeClassName})}));return i.DecorationSet.create(e.doc,t)}return i.DecorationSet.empty};function b(e){if(e instanceof o.NodeSelection)return{action:p.ACTION.SELECTED,actionSubject:p.ACTION_SUBJECT.DOCUMENT,actionSubjectId:p.ACTION_SUBJECT_ID.NODE,eventType:p.EVENT_TYPE.TRACK,attributes:{node:e.node.type.name}}}function y(e){if(e instanceof o.AllSelection)return{action:p.ACTION.SELECTED,actionSubject:p.ACTION_SUBJECT.DOCUMENT,actionSubjectId:p.ACTION_SUBJECT_ID.ALL,eventType:p.EVENT_TYPE.TRACK}}function E(e){if(e.selection instanceof a.CellSelection){var t=s.selectedRect(e),n=t.map.cellsInRect(t).length,r=t.map.map.length;return{action:p.ACTION.SELECTED,actionSubject:p.ACTION_SUBJECT.DOCUMENT,actionSubjectId:p.ACTION_SUBJECT_ID.CELL,eventType:p.EVENT_TYPE.TRACK,attributes:{selectedCells:n,totalCells:r}}}}var x=function(e,t){var n=[];if(e.from!==e.to){var r=e.from,o=e.to;t.nodesBetween(r,o,(function(e,t){var i=r<=t&&t+e.nodeSize<=o;return!(e&&"paragraph"!==e.type.name&&!e.isText&&i)||(n.push({node:e,pos:t}),!1)}))}return n};function k(e,t){if(e instanceof o.TextSelection&&e.from!==e.to){var n=e.from,r=e.to,i=e.anchor,a=e.head,s=[];return t.nodesBetween(n,r,(function(e,t){if(e.isText||t>=n&&t+e.nodeSize<=r)return s.push(e.type.name),!1})),{action:p.ACTION.SELECTED,actionSubject:p.ACTION_SUBJECT.DOCUMENT,actionSubjectId:p.ACTION_SUBJECT_ID.RANGE,eventType:p.EVENT_TYPE.TRACK,attributes:{from:i,to:a,nodes:s}}}}function C(e){var t=e.oldEditorState,n=e.newEditorState,r=t.selection,i=n.selection,a=g.selectionPluginKey.getState(t),s=g.selectionPluginKey.getState(n);if(!a||!s)return!1;if(r.eq(i)){if(r instanceof o.NodeSelection&&i instanceof o.NodeSelection){var c=a.decorationSet.find(),l=s.decorationSet.find();return c.length>0&&l.length>0?!c[0].eq(l[0]):!(0===c.length&&0===l.length)}return!1}return!(r instanceof o.TextSelection&&i instanceof o.TextSelection&&r.from===r.to&&i.from===i.to)}var S=function(e){return!(!e||e.isAtom||!o.NodeSelection.isSelectable(e))},T=function(e){return!(!e||!(e.isText||d.isEmptyParagraph(e)||o.NodeSelection.isSelectable(e)))},O=function(e){var t=!1,n=c.findParentNode((function(e){var n=S(e);return n||h.isIgnored(e)||(t=!0),n}))(e);if(!t)return n},w=function(e,t){e.parent.inlineContent&&S(e.parent)&&(e=t.resolve(e.start()-1));var n=o.Selection.findFrom(e,-1);if(n){for(var r=t.resolve(n.from),i=e.depth+1;i<=r.depth;i++){var a=r.node(i);if(S(a))return{node:a,pos:r.start(i)-1};if(i>e.depth+1&&!h.isIgnored(a))return}if(n instanceof o.NodeSelection&&o.NodeSelection.isSelectable(n.node))return{node:n.node,pos:n.from}}},N=function(e,t){var n=o.Selection.findFrom(e,1);if(n)for(var r=t.resolve(n.from),i=e.depth+1;i<=r.depth;i++){var a=r.node(i);if(S(a))return{node:a,pos:r.start(i)-1};if(i>e.depth+1&&!h.isIgnored(a))return}},P=function(e){return c.flatten(e).find((function(e){return T(e.node)||!h.isIgnored(e.node)}))},A=function(e){var t;if(e.descendants((function(e,n){if(T(e)||!h.isIgnored(e))return t={node:e,pos:n},!1})),t)return t},I=function(e,t){return f.isSelectionAtStartOfNode(e,O(t))},D=function(e,t){return f.isSelectionAtEndOfNode(e,O(t))}})),r.register("jd53t",(function(n,o){t(n.exports,"filter",(function(){return u})),t(n.exports,"isEmptySelectionAtStart",(function(){return d})),t(n.exports,"isEmptySelectionAtEnd",(function(){return f})),t(n.exports,"isFirstChildOfParent",(function(){return p})),t(n.exports,"findCutBefore",(function(){return h})),t(n.exports,"applyMarkOnRange",(function(){return g})),t(n.exports,"toggleMark",(function(){return m})),t(n.exports,"withScrollIntoView",(function(){return v})),t(n.exports,"walkNextNode",(function(){return b})),t(n.exports,"walkPrevNode",(function(){return y})),t(n.exports,"insertContentDeleteRange",(function(){return E})),t(n.exports,"selectNode",(function(){return x}));var i=r("h67q9"),a=r("eBSbE"),s=r("bKnyF"),c=r("lsrn4"),l=r("1wUBP"),u=function(e,t){return function(n,r,o){return Array.isArray(e)||(e=[e]),!e.some((function(e){return!e(n,o)}))&&(t(n,r,o)||!1)}},d=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(0===r.parentOffset||e.selection instanceof l.GapCursorSelection)},f=function(e){var t=e.selection,n=t.empty,r=t.$from;return n&&(r.end()===r.pos||e.selection instanceof l.GapCursorSelection)},p=function(e){var t=e.selection.$from;return!(t.depth>1)||(e.selection instanceof l.GapCursorSelection&&0===t.parentOffset||0===t.index(t.depth-1))};function h(e){if(!e.parent.type.spec.isolating)for(var t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}var g=function(e,t,n,r,o){var i=o.doc.type.schema.marks.code;return r.type===i&&c.transformSmartCharsMentionsAndEmojis(e,t,o),o.doc.nodesBetween(o.mapping.map(e),o.mapping.map(t),(function(i,a){if(!i.isText)return!0;var s=Math.max(a,o.mapping.map(e)),c=Math.min(a+i.nodeSize,o.mapping.map(t));return n?o.removeMark(s,c,r):o.addMark(s,c,r),!0})),o},m=function(e,t){return function(n,r){var o=e.create(t);if(n.selection instanceof a.TextSelection&&n.selection.$cursor){var i=n.tr;return o.isInSet(n.storedMarks||n.selection.$cursor.marks())?i.removeStoredMark(o):i.addStoredMark(o),!!r&&(r(i),!0)}return function(e){return function(t,n){var r=t.tr;if(t.selection instanceof s.CellSelection){var o=!1,i=[];t.selection.forEachCell((function(n,r){i.push({node:n,pos:r});var a=r,s=r+n.nodeSize;o||(o=t.doc.rangeHasMark(a,s,e))}));for(var a=i.length-1;a>=0;a--){var c=i[a],l=c.pos,u=l+c.node.nodeSize;g(l,u,o,e,r)}}else{var d=t.selection,f=d.$from,p=d.$to,h=t.doc.rangeHasMark(f.pos,p.pos,e);g(f.pos,p.pos,h,e,r)}return!!r.docChanged&&(n&&n(r),!0)}}(o)(n,r)}},v=function(e){return function(t,n,r){return e(t,(function(e){e.scrollIntoView(),n&&n(e)}),r)}},b=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&(t.pos===e.pos||t.parentOffset>0);)t=t.doc.resolve(t.pos+1);return{$pos:t,foundNode:t.pos<t.doc.nodeSize-2}},y=function(e){for(var t=e;t.pos>0&&(t.pos===e.pos||t.parentOffset<t.parent.nodeSize-2);)t=t.doc.resolve(t.pos-1);return{$pos:t,foundNode:t.pos>0}},E=function(t,n,r,o){r.forEach((function(n){var r=e(i)(n,2),o=r[0],a=r[1];t.insert(t.mapping.map(a),o)})),o.forEach((function(n){var r=e(i)(n,2),o=r[0],a=r[1];t.delete(t.mapping.map(o),t.mapping.map(a))})),t.setSelection(new a.TextSelection(n(t)))},x=function(e){return function(t,n){return n&&n(t.tr.setSelection(new a.NodeSelection(t.doc.resolve(e)))),!0}}})),r.register("lsrn4",(function(e,n){t(e.exports,"transformSmartCharsMentionsAndEmojis",(function(){return s}));var o=r("9J8af"),i={"\u2026":"...","\u2192":"->","\u2190":"<-","\u2013":"--","\u201c":'"',"\u201d":'"',"\u2018":"'","\u2019":"'"},a=new RegExp("[".concat(Object.keys(i).join(""),"]"),"g"),s=function(e,t,n){var r=n.doc.type.schema,s=r.nodes,c=s.mention,l=s.text,u=s.emoji,d=o.filterChildrenBetween(n.doc,e,t,function(e){var t=e.nodes,n=t.mention,r=t.text,o=t.emoji;return function(e,t,i){if(e.type===n||e.type===o||e.type===r)return i.isTextblock}}(r));d.forEach((function(t){var r=t.node,o=t.pos;if(r.type===c||r.type===u)!function(e,t,n,r){var o=r.mapping.map(e),i=r.doc.type.schema;r.replaceWith(o,o+t,i.text(n))}(o,r.nodeSize,r.attrs.text,n);else if(r.type===l&&r.text){!function(e,t,n){for(var r,o=t.substr(e-1),s=n.doc.type.schema;r=a.exec(o);){var c=r,l=c[0],u=c.index,d=n.mapping.map(e+u),f=s.text(i[l]);n.replaceWith(d,d+l.length,f)}}(o>e?o:e,r.text,n)}}))}})),r.register("YdbsB",(function(n,o){t(n.exports,"arrow",(function(){return v})),t(n.exports,"deleteNode",(function(){return b})),t(n.exports,"setGapCursorAtPos",(function(){return y})),t(n.exports,"setSelectionTopLevelBlocks",(function(){return E})),t(n.exports,"hasGapCursorPlugin",(function(){return x}));var i=r("l15hj"),a=r("eBSbE"),s=r("iFBc4");r("igW5C");var c,l=r("b6rQF"),u=r("2KIlg"),d=r("1wUBP"),f=r("b0Be6"),p=r("6n9Wo"),h=r("69fBK"),g=r("2dCL5"),m=(c={},e(i)(c,u.Direction.LEFT,-1),e(i)(c,u.Direction.RIGHT,1),e(i)(c,u.Direction.UP,-1),e(i)(c,u.Direction.DOWN,1),e(i)(c,u.Direction.BACKWARD,-1),e(i)(c,u.Direction.FORWARD,1),c);var v=function(e,t){return function(n,r,o){var i=n.doc,c=n.schema,g=n.selection,v=n.tr,b=u.isBackward(e)?g.$from:g.$to,y=g.empty;if(g instanceof a.TextSelection){if(!t||!t(e.toString()))return!1;if(e===u.Direction.UP&&!h.atTheBeginningOfDoc(n)&&f.isTextBlockNearPos(i,c,b,-1)||e===u.Direction.DOWN&&(h.atTheEndOfDoc(n)||f.isTextBlockNearPos(i,c,b,1)))return!1;b=i.resolve(u.isBackward(e)?b.before():b.after()),y=!1}if(g instanceof a.NodeSelection){if(g.node.isInline)return!1;if(e===u.Direction.UP||e===u.Direction.DOWN)return!1}if(!function(e,t){var n=t.doc,r=t.schema,o=t.selection,i=u.isBackward(e)?o.$from:o.$to;if(o instanceof a.TextSelection){if((e===u.Direction.UP&&!h.atTheBeginningOfDoc(t)||e===u.Direction.DOWN&&!h.atTheEndOfDoc(t))&&f.getMediaNearPos(n,i,r,m[e]))return!1;if(e===u.Direction.LEFT||e===u.Direction.RIGHT){var s=f.getMediaNearPos(n,i,r,m[e]),c=r.nodes.mediaSingle;if(s&&s.type===c&&("wrap-right"===s.attrs.layout||"wrap-left"===s.attrs.layout))return!1}}if(o instanceof a.NodeSelection&&(e===u.Direction.LEFT||e===u.Direction.RIGHT)){var l=n.nodeAt(o.$from.pos),d=r.nodes.mediaSingle;if(l&&l.type===d&&("wrap-right"===l.attrs.layout||"wrap-left"===l.attrs.layout))return!1}return!0}(e,n))return!1;if(g instanceof d.GapCursorSelection&&p.isValidTargetNode(u.isBackward(e)?b.nodeBefore:b.nodeAfter)&&(u.isBackward(e)&&g.side===d.Side.LEFT||u.isForward(e)&&g.side===d.Side.RIGHT))return r&&r(v.setSelection(new d.GapCursorSelection(b,g.side===d.Side.RIGHT?d.Side.LEFT:d.Side.RIGHT)).scrollIntoView()),!0;if(o){var E=o.domAtPos.bind(o),x=s.findDomRefAtPos(b.pos,E);if(x&&x.textContent===l.ZERO_WIDTH_SPACE)return!1}var k=d.GapCursorSelection.findFrom(b,u.isBackward(e)?-1:1,y);return!!k&&(p.isValidTargetNode(u.isForward(e)?k.$from.nodeBefore:k.$from.nodeAfter)?(r&&r(v.setSelection(k).scrollIntoView()),!0):(r&&r(v.setSelection(new d.GapCursorSelection(k.$from,u.isForward(e)?d.Side.LEFT:d.Side.RIGHT)).scrollIntoView()),!0))}},b=function(e){return function(t,n){if(t.selection instanceof d.GapCursorSelection){var r=t.selection,o=r.$from,i=r.$anchor,c=t.tr;if(u.isBackward(e)){if("left"===t.selection.side)return c.setSelection(new d.GapCursorSelection(i,d.Side.RIGHT)),n&&n(c),!0;c=s.removeNodeBefore(t.tr)}else o.nodeAfter&&(c=c.delete(o.pos,o.pos+o.nodeAfter.nodeSize));return n&&n(c.setSelection(a.Selection.near(c.doc.resolve(c.mapping.map(t.selection.$from.pos)))).scrollIntoView()),!0}return!1}},y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Side.LEFT;return function(n,r){if(e>n.doc.content.size)return!1;var o=n.doc.resolve(e);return!!d.GapCursorSelection.valid(o)&&(r&&r(n.tr.setSelection(new d.GapCursorSelection(o,t))),!0)}},E=function(e,t,n,r,o){var i=function(e,t,n,r){var o=t.getBoundingClientRect();if(e.clientY<o.top)return{position:0,side:d.Side.LEFT};if(o.left>0){var i=n({left:o.left,top:e.clientY});if(i&&i.inside>-1){var a,s=r.doc.resolve(i.inside).before(1),c=e.clientX<o.left?d.Side.LEFT:d.Side.RIGHT;if(c===d.Side.LEFT)a=s;else{var l=r.doc.nodeAt(s);l&&(a=s+l.nodeSize)}return{position:a,side:c}}}return null}(t,n,r,e);if(i){var s=void 0!==i.position?e.doc.resolve(i.position):null;if(null!==s)if((i.side===d.Side.LEFT?p.isValidTargetNode(s.nodeAfter):p.isValidTargetNode(s.nodeBefore))&&d.GapCursorSelection.valid(s))e.selection instanceof d.GapCursorSelection?e.setSelection(a.Selection.near(s)):e.setSelection(new d.GapCursorSelection(s,i.side));else if(!1===o){var c=a.Selection.findFrom(s,i.side===d.Side.LEFT?1:-1,!0);c&&e.setSelection(c)}}},x=function(e){return Boolean(g.gapCursorPluginKey.get(e))}})),r.register("2KIlg",(function(e,n){var r,o;function i(e){return-1!==[r.UP,r.LEFT,r.BACKWARD].indexOf(e)}function a(e){return-1!==[r.RIGHT,r.DOWN,r.FORWARD].indexOf(e)}t(e.exports,"Direction",(function(){return r})),t(e.exports,"isBackward",(function(){return i})),t(e.exports,"isForward",(function(){return a})),(o=r||(r={})).UP="up",o.RIGHT="right",o.DOWN="down",o.LEFT="left",o.BACKWARD="backward",o.FORWARD="forward"})),r.register("b0Be6",(function(e,n){t(e.exports,"isLeftCursor",(function(){return c})),t(e.exports,"getMediaNearPos",(function(){return l})),t(e.exports,"isTextBlockNearPos",(function(){return u})),t(e.exports,"getBreakoutModeFromTargetNode",(function(){return d})),t(e.exports,"isIgnoredClick",(function(){return f}));var o=r("a3gyn"),i=r("1wUBP"),a=r("ds2rN"),s=r("ku9OP"),c=function(e){return e===i.Side.LEFT};function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:-1,o=t,i=null,a=n.nodes,s=a.mediaSingle,c=a.media,l=a.mediaGroup;do{if(!(o=e.resolve(-1===r?o.before():o.after())))return null;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===n.nodes.doc)return null;if(i.type===s||i.type===c||i.type===l)return i}while(o.depth>0);return null}var u=function(e,t,n,r){var o=n,i=-1===r?o.nodeBefore:o.nodeAfter;if(i&&(i.isTextblock||i.isText))return!0;for(;o.depth>0;){if(!(o=e.resolve(-1===r?o.before():o.after())))return!1;if(!(i=(-1===r?o.nodeBefore:o.nodeAfter)||o.parent)||i.type===t.nodes.doc)return!1;if(i.isTextblock)return!0}for(var a=i;a&&a.firstChild;)if((a=a.firstChild)&&(a.isTextblock||a.isText))return!0;return!1};function d(e){var t;return e.attrs.layout&&(t=e.attrs.layout),e.marks&&e.marks.length&&(t=(e.marks.find((function(e){return"breakout"===e.type.name}))||{attrs:{mode:""}}).attrs.mode),-1===["wide","full-width"].indexOf(t)?"":t}var f=function(e){if("BUTTON"===e.nodeName||e.closest("button"))return!0;if(e.closest('[data-id="'.concat(s.CAPTION_PLACEHOLDER_ID,'"]')))return!0;for(var t,n=e;n;){if(n.className&&(n.getAttribute("class")||"").indexOf(o.TableCssClassName.TABLE_CONTAINER)>-1){t=n;break}n=n.parentNode}if(t){var r=t.querySelector(".".concat(o.TableCssClassName.ROW_CONTROLS_WRAPPER)),i=e&&e.classList&&e.classList.contains(o.TableCssClassName.COLUMN_CONTROLS_DECORATIONS);return r&&r.contains(e)||i}return!!e.closest(".".concat(a.UnsupportedSharedCssClassName.BLOCK_CONTAINER))}})),r.register("ds2rN",(function(n,o){t(n.exports,"UnsupportedSharedCssClassName",(function(){return u})),t(n.exports,"unsupportedStyles",(function(){return p}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=r("4PSyH"),u={BLOCK_CONTAINER:"unsupportedBlockView-content-wrap",INLINE_CONTAINER:"unsupportedInlineView-content-wrap"},d=".".concat(u.INLINE_CONTAINER," > span"),f=".".concat(u.BLOCK_CONTAINER," > div"),p=a.css(s||(s=e(i)(["\n  ",", "," {\n    cursor: pointer;\n  }\n\n  .","",",\n    .",""," {\n    ","\n  }\n\n  .danger {\n    .","",",\n      .",""," {\n      border: ","px solid ",";\n      background-color: ",";\n    }\n  }\n"])),f,d,c.akEditorSelectedNodeClassName,f,c.akEditorSelectedNodeClassName,d,l.getSelectionStyles([l.SelectionStyle.Background,l.SelectionStyle.Border]),c.akEditorSelectedNodeClassName,f,c.akEditorSelectedNodeClassName,d,c.akEditorSelectedBorderSize,c.akEditorDeleteBorder,c.akEditorDeleteBackgroundWithOpacity)})),r.register("ku9OP",(function(n,o){t(n.exports,"CAPTION_PLACEHOLDER_ID",(function(){return p})),t(n.exports,"default",(function(){return h}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("7RIig"),l=r("SssiD"),u=r("cufhv"),d=r("bZGhR"),f=l.default.span(i||(i=e(a)(["\n  color: ",";\n  width: 100%;\n  text-align: center;\n  margin-top: 8px !important;\n  display: block;\n"])),u.N200),p="caption-placeholder",h=function(t){var n=t.onClick;return e(s).createElement(f,{onClick:n,"data-id":p,"data-testid":"caption-placeholder"},e(s).createElement(c.FormattedMessage,d.messages.placeholder))}})),r.register("bZGhR",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({placeholder:{id:"fabric.editor.captionPlaceholder",defaultMessage:"Add a caption",description:"Placeholder description for an empty (new) caption in the editor"}})})),r.register("2dCL5",(function(e,n){t(e.exports,"gapCursorPluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("gapCursorPlugin")})),r.register("6Ms1b",(function(e,n){t(e.exports,"selectionPluginKey",(function(){return c})),t(e.exports,"RelativeSelectionPos",(function(){return o})),t(e.exports,"SelectionDirection",(function(){return a}));var o,i,a,s,c=new(r("eBSbE").PluginKey)("selection");(i=o||(o={})).Before="Before",i.Start="Start",i.Inside="Inside",i.End="End",(s=a||(a={}))[s.Before=-1]="Before",s[s.After=1]="After"})),r.register("aK5io",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("22Hec"),f=r("27LsO"),p=r("hJHkT");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var g=function(t){e(s)(r,t);var n=h(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"ignoreMutation",value:function(e){return this.node.type.isAtom||"selection"!==e.type&&"data-layout"!==e.attributeName}},{key:"getContentDOM",value:function(){if(!this.node.isInline){var e=document.createElement("div");return e.className="".concat(this.node.type.name,"-content-dom-wrapper"),{dom:e}}}},{key:"render",value:function(t,n){var r;return e(u).createElement(p.default,{nodeType:this.node.type.name},e(u).createElement(f.default,{editorView:this.view,node:this.node,providerFactory:t.providerFactory,handleContentDOMRef:n,extensionHandlers:t.extensionHandlers,editorAppearance:null===(r=t.extensionNodeViewOptions)||void 0===r?void 0:r.appearance}))}}]),r}(d.default);function m(e,t,n,r,o){return function(i,a,s){return new g(i,a,s,e,t,{providerFactory:n,extensionHandlers:r,extensionNodeViewOptions:o}).init()}}})),r.register("27LsO",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");f=r("61szk");r("igW5C");var p=r("g4Rxo"),h=r("MsgJD"),g=r("jB3eo");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"renderWithProvider",(function(t){var n=t.extensionProvider,r=o.props,i=r.node,a=r.editorView,s=r.handleContentDOMRef,c=r.extensionHandlers,l=r.refNode,u=r.editorAppearance;return e(f).createElement(g.default,{editorView:a,node:i,refNode:l,extensionProvider:n,handleContentDOMRef:s,extensionHandlers:c,editorAppearance:u})})),o.providerFactory=t.providerFactory||new p.default,o}return e(a)(r,[{key:"componentWillUnmount",value:function(){this.props.providerFactory||this.providerFactory.destroy()}},{key:"render",value:function(){return e(f).createElement(h.WithProviders,{providers:["extensionProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),r}(f.Component);e(d)(v,"displayName","Extension")})),r.register("jB3eo",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=(h=r("61szk"),r("6gvxN"));r("igW5C");var m=r("kn8yN"),v=r("k7U83"),b=r("i8Iwt"),y=r("dj1fa");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var x=function(t){e(u)(r,t);var n=E(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=n.call.apply(n,[this].concat(c)),e(p)(e(l)(t),"privatePropsParsed",!1),e(p)(e(l)(t),"state",{}),e(p)(e(l)(t),"mounted",!1),e(p)(e(l)(t),"getNodeRenderer",g.default(m.getNodeRenderer)),e(p)(e(l)(t),"getExtensionModuleNodePrivateProps",g.default(m.getExtensionModuleNodePrivateProps)),e(p)(e(l)(t),"setStateFromPromise",(function(n,r){r&&r.then((function(r){t.mounted&&t.setState(e(p)({},n,r))}))})),e(p)(e(l)(t),"parsePrivateNodePropsIfNeeded",e(a)(e(i).mark((function n(){var r,o,a,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.privatePropsParsed&&t.state.extensionProvider){e.next=2;break}return e.abrupt("return");case 2:return t.privatePropsParsed=!0,r=t.props.node.attrs,o=r.extensionType,a=r.extensionKey,e.prev=4,e.next=7,t.getExtensionModuleNodePrivateProps(t.state.extensionProvider,o,a);case 7:s=e.sent,t.setState({_privateProps:s}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("Provided extension handler has thrown an error\n",e.t0);case 14:case"end":return e.stop()}}),n,null,[[4,11]])})))),e(p)(e(l)(t),"handleExtension",(function(n){var r=t.props,o=r.extensionHandlers,i=r.editorView,a=n.attrs,s=a.extensionType,c=a.extensionKey,l=a.parameters,u=a.text;if(!("bodiedExtension"===n.type.name)){var d,f={type:n.type.name,extensionType:s,extensionKey:c,parameters:l,content:u};if(o&&o[s])d=v.getExtensionRenderer(o[s])(f,i.state.doc);if(!d){var p=t.state.extensionProvider&&t.getNodeRenderer(t.state.extensionProvider,s,c);if(p){var g=p;return e(h).createElement(g,{node:f,refNode:t.props.refNode})}}return d}})),t}return e(c)(r,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0}},{key:"componentDidMount",value:function(){var e=this.props.extensionProvider;e&&this.setStateFromPromise("extensionProvider",e)}},{key:"componentDidUpdate",value:function(){this.parsePrivateNodePropsIfNeeded()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.extensionProvider;t&&this.props.extensionProvider!==t&&this.setStateFromPromise("extensionProvider",t)}},{key:"render",value:function(){var t,n=this.props,r=n.node,o=n.handleContentDOMRef,i=n.editorView,a=n.refNode,s=n.editorAppearance,c=this.tryExtensionHandler();switch(r.type.name){case"extension":case"bodiedExtension":return e(h).createElement(b.default,{node:r,refNode:a,extensionProvider:this.state.extensionProvider,handleContentDOMRef:o,view:i,editorAppearance:s,hideFrame:null===(t=this.state._privateProps)||void 0===t?void 0:t.__hideFrame},c);case"inlineExtension":return e(h).createElement(y.default,{node:r},c);default:return null}}},{key:"tryExtensionHandler",value:function(){var t=this.props.node;try{var n=this.handleExtension(t);if(n&&e(h).isValidElement(n))return n}catch(e){console.error("Provided extension handler has thrown an error\n",e)}return null}}]),r}(h.Component)})),r.register("i8Iwt",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("l15hj"),a=r("61szk");r("igW5C");var s=r("3cpVm"),c=r("bjJO8"),l=r("fR65Z"),u=r("ga167"),d=r("6wwMX"),f=r("9D9P7"),p=r("4s4wW"),h=r("hdR0w"),g=c.default((function(t){var n=t.node,r=t.handleContentDOMRef,o=t.children,c=t.view,g=t.handleRef,m=t.shadowClassNames,v=t.hideFrame,b=t.editorAppearance,y="bodiedExtension"===n.type.name,E=!!o,x=v&&!("mobile"===b)&&!y||!1,k=e(h)("extension-container","block",m,e(i)({"with-overlay":!y,"without-frame":x},l.widerLayoutClassName,["full-width","wide"].includes(n.attrs.layout))),C=e(h)({"with-children":E,"without-frame":x});return e(a).createElement(p.default,{editorView:c,plugins:{widthState:f.pluginKey},render:function(t){var i=t.widthState,c=void 0===i?{width:0}:i;return e(a).createElement(l.Wrapper,{innerRef:g,"data-layout":n.attrs.layout,className:k,extensionWidth:s.calcBreakoutWidth(n.attrs.layout,c.width)},e(a).createElement("div",{className:"extension-overflow-wrapper ".concat(y?"with-body":"")},e(a).createElement(u.Overlay,{className:"extension-overlay"}),e(a).createElement(l.Header,{contentEditable:!1,className:C},!x&&e(a).createElement(d.default,{node:n}),o),y&&e(a).createElement(l.ContentWrapper,null,e(a).createElement(l.Content,{innerRef:r,className:"extension-content block"}))))}})}),{overflowSelector:".extension-overflow-wrapper"})})),r.register("fR65Z",(function(n,o){t(n.exports,"widerLayoutClassName",(function(){return g})),t(n.exports,"Wrapper",(function(){return m})),t(n.exports,"Header",(function(){return v})),t(n.exports,"Content",(function(){return b})),t(n.exports,"ContentWrapper",(function(){return y}));var i=r("lhkMJ"),a=r("SssiD");r("cPjBT");var s,c,l,u,d=r("4Slod"),f=r("kFKbx"),p=r("cufhv"),h=r("ga167"),g="wider-layout",m=a.default(h.Wrapper)(s||(s=e(i)(["\n  &.without-frame {\n    background: transparent;\n  }\n  cursor: pointer;\n  width: 100%;\n\n  .extension-overflow-wrapper:not(.with-body) {\n    overflow-x: auto;\n  }\n\n  /* extension container breakout, only works on top level*/\n  .ProseMirror\n    > ","\n    > [extensiontype]\n    &.",",\n    .ProseMirror\n    > [extensiontype]\n    &."," {\n    width: ",";\n    margin-left: 50%;\n    transform: translateX(-50%);\n  }\n"])),'[data-mark-type="dataConsumer"]',g,g,(function(e){var t=e.extensionWidth;return"".concat(t)})),v=a.default.div(c||(c=e(i)(["\n  padding: ","px ","px ","px;\n  vertical-align: middle;\n\n  &.with-children:not(.without-frame) {\n    padding: 4px 8px 8px;\n  }\n  &.without-frame {\n    padding: 0;\n  }\n"])),h.padding/2,h.padding/2,h.padding/4),b=a.default.div(l||(l=e(i)(["\n  padding: ","px;\n  background: ",";\n  color: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  cursor: initial;\n"])),h.padding,d.default({light:"white",dark:p.DN30}),d.default({dark:p.DN900}),p.N30,f.borderRadius()),y=a.default.div(u||(u=e(i)(["\n  padding: 0 ","px ","px;\n"])),h.padding,h.padding)})),r.register("6wwMX",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("l15hj"),a=r("jgze0"),s=r("bRWI2"),c=r("go2dD"),l=r("4NDMl"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("61szk"),h=(p=r("61szk"),r("c6TgW"));r("igW5C");var g=r("kRzSS"),m=r("ga167");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var y=function(t){e(u)(r,t);var n=b(r);function r(){return e(c)(this,r),n.apply(this,arguments)}return e(l)(r,[{key:"render",value:function(){var e=this.props.node,t=g.getExtensionLozengeData({node:e,type:"image"});if(t&&"extension"!==e.type.name)return this.renderImage(t);var n=g.getExtensionLozengeData({node:e,type:"icon"});return this.renderFallback(n)}},{key:"renderImage",value:function(t){var n=this.props.node.attrs.extensionKey,r=t.url,o=e(s)(t,["url"]);return e(p).createElement(m.StyledImage,e(a)({src:r},o,{alt:n}))}},{key:"renderFallback",value:function(t){var n,r=this.props.node.attrs,o=r.parameters,a=r.extensionKey,s=this.props.node.type.name,c=o&&o.macroParams,l=o&&o.extensionTitle||o&&o.macroMetadata&&o.macroMetadata.title||a,u="extension"===s;return e(p).createElement(m.PlaceholderFallback,null,t&&!u?this.renderImage(function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({height:24,width:24},t)):e(p).createElement(e(h),{label:l}),e(p).createElement("span",{className:"extension-title"},(n=l).charAt(0).toUpperCase()+n.slice(1)),c&&!u&&e(p).createElement(m.PlaceholderFallbackParams,null,Object.keys(c).map((function(e){return e&&" | ".concat(e," = ").concat(c[e].value)}))))}}]),r}(p.Component)})),r.register("c6TgW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 6.5c0-.276.228-.5.491-.5H13l4 4v7.5c0 .276-.228.5-.51.5H7.51a.508.508 0 01-.51-.5v-11zm5 1v2.999c0 .271.225.501.501.501H15.5L12 7.5z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorFileIcon";var s=a;e.exports.default=s})),r.register("9D9P7",(function(n,o){t(n.exports,"pluginKey",(function(){return l})),t(n.exports,"default",(function(){return u}));var i=r("l15hj"),a=r("eBSbE");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=new a.PluginKey("widthPlugin");var u=function(){return{name:"width",pmPlugins:function(){return[{name:"width",plugin:function(e){return function(e){return new a.Plugin({key:l,state:{init:function(){return{width:document.body.offsetWidth,containerWidth:document.body.offsetWidth}},apply:function(t,n){var r=t.getMeta(l);if(!r)return n;var o=c(c({},n),r);return o&&(n.width!==o.width||n.lineLength!==o.lineLength)||n.containerWidth!==o.containerWidth?(e(l,o),o):n}}})}(e.dispatch)}}]},contentComponent:function(e){var t,n=e.editorView,r=e.containerElement,o={lineLength:n.dom.clientWidth};r&&(o.width=r.offsetWidth,o.containerWidth=null===(t=r.parentElement)||void 0===t?void 0:t.offsetWidth);var i=n.state.tr.setMeta(l,o);return n.dispatch(i),null}}}})),r.register("dj1fa",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=(u=r("61szk"),r("ga167")),f=r("6wwMX"),p=r("4dKvD");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var g=function(t){e(s)(r,t);var n=h(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.node,r=t.children,o=!!r?"with-overlay with-children":"with-overlay";return e(u).createElement(p.Wrapper,{className:"extension-container inline ".concat(o)},e(u).createElement(d.Overlay,{className:"extension-overlay"}),r||e(u).createElement(f.default,{node:n}))}}]),r}(u.Component)})),r.register("4dKvD",(function(n,o){t(n.exports,"Wrapper",(function(){return u}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("kFKbx"),l=r("ga167"),u=s.default(l.Wrapper)(i||(i=e(a)(["\n  cursor: pointer;\n  display: inline-flex;\n  margin: 1px;\n\n  > img {\n    border-radius: ","px;\n  }\n\n  &::after,\n  &::before {\n    vertical-align: text-top;\n    display: inline-block;\n    width: 1px;\n    content: '';\n  }\n\n  &.with-children {\n    padding: 0;\n    background: white;\n  }\n"])),c.borderRadius())})),r.register("hJHkT",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk");r("igW5C");var a=r("b6rQF"),s=function(t){var n=t.children,r=t.nodeType;return e(i).createElement("span",null,n,"inlineExtension"===r&&a.ZERO_WIDTH_SPACE)}})),r.register("dUmwX",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("6mFHM");r("3wRIy");var i=r("9NzCT"),a=r("7uC1r"),s=r("e3yG9");function c(){var e={};return a.bindKeymapWithCommand(a.escape.common,(function(e,t){return!!i.getPluginState(e).showContextPanel&&s.clearEditingContext(e,t)}),e),o.keymap(e)}})),r.register("6ef11",(function(n,o){t(n.exports,"createPlugin",(function(){return f}));var i=r("l15hj"),a=r("bRWI2"),s=r("eBSbE"),c=r("ekJGA");r("9J8af");var l=r("l9fpM");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var d=new s.PluginKey("extensionUniqueIdPlugin"),f=function(){return new s.Plugin({appendTransaction:function(t,n,r){var o=r.tr,s=o.selection.getBookmark(),d=!1;if(t.forEach((function(t){t.docChanged&&l.nodesBetweenChanged(t,(function(t,n){var s=r.schema.nodes,l=s.extension,f=s.bodiedExtension,p=s.inlineExtension;if(t.type&&(t.type===l||t.type===f||t.type===p)){var h=t.attrs,g=h.localId,m=e(a)(h,["localId"]);g||(o.setNodeMarkup(n,void 0,function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({localId:c.uuid.generate()},m)),d=!0)}}))})),d)return o.setSelection(s.resolve(o.doc))},key:d})}})),r.register("763Wi",(function(n,o){t(n.exports,"getToolbarConfig",(function(){return C}));var i=r("fw3Q6"),a=r("7RIig"),s=r("iFBc4"),c=r("iOuu2"),l=r("6RtaL"),u=r("ctun3"),d=r("91zlE"),f=r("eFU1r"),p=r("ch3px"),h=r("hIycq"),g=r("9ZtoQ");r("3wRIy");var m=r("9NzCT"),v=r("cZcDC"),b=r("e3yG9"),y=r("gb8PD"),E=a.defineMessages({edit:{id:"fabric.editor.edit",defaultMessage:"Edit",description:"Edit the properties for this extension."}}),x=function(t,n,r,o){var i=v.getSelectedExtension(t,!0),a=r.layout;return i&&o&&function(e,t){var n=e.schema.nodes,r=n.bodiedExtension,o=n.extension,i=n.layoutSection,a=n.table,c=n.expand,l=e.selection;return!!t&&!(t.node.type!==r&&(t.node.type!==o||s.hasParentNodeOfType([r,a,c].filter(Boolean))(l))||s.hasParentNodeOfType([i])(l))}(t,i)?[{type:"button",icon:e(f),onClick:b.updateExtensionLayout("default"),selected:"default"===a,title:n(p.default.layoutFixedWidth)},{type:"button",icon:e(d),onClick:b.updateExtensionLayout("wide"),selected:"wide"===a,title:n(p.default.layoutWide)},{type:"button",icon:e(u),onClick:b.updateExtensionLayout("full-width"),selected:"full-width"===a,title:n(p.default.layoutFullWidth)}]:[]},k=function(t,n){return n.showEditButton?[{id:"editor.extension.edit",type:"button",icon:e(l),testId:"extension-toolbar-edit-button",onClick:function(e,t,n){var r=y.pluginKey.getState(e),o=m.getPluginState(e).updateExtension;return g.editExtension(r&&r.macroProvider,o)(e,t,n),!0},title:t(E.edit)}]:[]},C=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(n,r){var o=r.formatMessage,a=m.getPluginState(n);if(a&&!a.showContextPanel&&a.element){var s=[n.schema.nodes.extension,n.schema.nodes.inlineExtension,n.schema.nodes.bodiedExtension],l=k(o,a),u=x(n,o,a,t);return{title:"Extension floating controls",getDomRef:function(){return a.element.parentElement||void 0},nodeType:s,items:[].concat(e(i)(l),e(i)(u),[{type:"separator",hidden:0===l.length&&0===u.length},{type:"extensions-placeholder",separator:"end"},{id:"editor.extension.delete",type:"button",icon:e(c),appearance:"danger",onClick:b.removeExtension(),onMouseEnter:h.hoverDecoration(s,!0),onMouseLeave:h.hoverDecoration(s,!1),title:o(p.default.remove)}])}}}}})),r.register("iOuu2",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm2.78 11a1 1 0 01-.97-.757L7.156 10.62A.5.5 0 017.64 10h8.72a.5.5 0 01.485.621l-1.656 6.622a1 1 0 01-.97.757H9.781zM11 6h2a1 1 0 011 1h-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorRemoveIcon";var s=a;e.exports.default=s})),r.register("6RtaL",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M15.148 6.852a.502.502 0 01.708.004l2.288 2.288a.5.5 0 01.004.708L11 17l-3-3 7.148-7.148zM7 15l3 3-3.51.877c-.27.068-.436-.092-.367-.367L7 15z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorEditIcon";var s=a;e.exports.default=s})),r.register("ctun3",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 17h10a1 1 0 010 2H7a1 1 0 010-2zM4 5h16a1 1 0 011 1v8a1 1 0 01-1 1H4a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaFullWidthIcon";var s=a;e.exports.default=s})),r.register("91zlE",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 5h10a1 1 0 010 2H7a1 1 0 110-2zm0 12h10a1 1 0 010 2H7a1 1 0 010-2zM4 9h16a1 1 0 011 1v4a1 1 0 01-1 1H4a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWideIcon";var s=a;e.exports.default=s})),r.register("eFU1r",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 5h12a1 1 0 010 2H6a1 1 0 110-2zm0 12h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h12a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaCenterIcon";var s=a;e.exports.default=s})),r.register("ch3px",(function(e,n){t(e.exports,"linkToolbarMessages",(function(){return i})),t(e.exports,"default",(function(){return a})),t(e.exports,"linkMessages",(function(){return r("kjcUu").linkMessages}));var o=r("7RIig");r("8gPA0");r("kjcUu");var i=o.defineMessages({addLink:{id:"fabric.editor.mediaAddLink",defaultMessage:"Add link",description:"Add link"},unableToOpenLink:{id:"fabric.editor.unableToOpenLink",defaultMessage:"Unable to open this link",description:"Unable to open this link"},unlink:{id:"fabric.editor.unlink",defaultMessage:"Unlink",description:"Removes the hyperlink but keeps your text."},editLink:{id:"fabric.editor.editLink",defaultMessage:"Edit link",description:"Edit the link, update display text"},placeholder:{id:"fabric.editor.hyperlinkToolbarPlaceholder",defaultMessage:"Paste or search for link",description:"Paste or search for link"},linkPlaceholder:{id:"fabric.editor.linkPlaceholder",defaultMessage:"Paste link",description:"Create a new link by pasting a URL."},linkAddress:{id:"fabric.editor.linkAddress",defaultMessage:"Link address",description:"Insert the address of the link"},invalidLink:{id:"fabric.editor.invalidLink",defaultMessage:"Please enter a valid link.",description:"Please enter a valid link."},emptyLink:{id:"fabric.editor.emptyLink",defaultMessage:"Please enter a link.",description:"Please enter a link."}}),a=o.defineMessages({layoutFixedWidth:{id:"fabric.editor.layoutFixedWidth",defaultMessage:"Back to center",description:"Display your element (image, table, extension, etc) as standard width"},layoutWide:{id:"fabric.editor.layoutWide",defaultMessage:"Go wide",description:"Display your element (image, table, extension, etc) wider than normal"},layoutFullWidth:{id:"fabric.editor.layoutFullWidth",defaultMessage:"Go full width",description:"Display your element (image, table, extension, etc) as full width"},alignImageRight:{id:"fabric.editor.alignImageRight",defaultMessage:"Align right",description:"Aligns image to the right"},alignImageCenter:{id:"fabric.editor.alignImageCenter",defaultMessage:"Align center",description:"Aligns image to the center"},alignImageLeft:{id:"fabric.editor.alignImageLeft",defaultMessage:"Align left",description:"Aligns image to the left"},remove:{id:"fabric.editor.remove",defaultMessage:"Remove",description:"Delete the element (image, panel, table, etc.) from your document"},visit:{id:"fabric.editor.visit",defaultMessage:"Open link in a new window",description:"Open the link in a new window"},inviteToEditButtonTitle:{id:"fabric.editor.editMode.inviteToEditButton.title",defaultMessage:"Invite to edit",description:"Invite another user to edit the current document"},saveButton:{id:"fabric.editor.saveButton",defaultMessage:"Save",description:"Submit and save a comment or document"},cancelButton:{id:"fabric.editor.cancelButton",defaultMessage:"Cancel",description:"Discard the current comment or document"},taskList:{id:"fabric.editor.tooltip.taskList",defaultMessage:"an action item",description:"an action item in the Editor"},bulletList:{id:"fabric.editor.tooltip.bulletList",defaultMessage:"a list",description:"a list item in the Editor"},nestedExpand:{id:"fabric.editor.tooltip.nestedExpand",defaultMessage:"a nested expand",description:"expand node which is nested"},decisionList:{id:"fabric.editor.tooltip.decisionList",defaultMessage:"a decision list",description:"a list of decisions"},defaultBlockNode:{id:"fabric.editor.tooltip.defaultBlockNode",defaultMessage:"a block node",description:"a block node element"},panel:{id:"fabric.editor.tooltip.blockPanel",defaultMessage:"a panel",description:"Panel node in the Editor"},blockquote:{id:"fabric.editor.blockquote",defaultMessage:"a quote",description:"a quote node"},timeUpdated:{id:"fabric.editor.time.updated",defaultMessage:"Updated",description:"Time last updated"},timeViewed:{id:"fabric.editor.time.viewed",defaultMessage:"Viewed",description:"Time last viewed"},timeAgo:{id:"fabric.editor.time.ago",defaultMessage:"ago",description:"Some time ago"},copyToClipboard:{id:"fabric.editor.copyToClipboard",defaultMessage:"Copy",description:"Copy the whole content of the element to your clipboard"},copiedToClipboard:{id:"fabric.editor.copiedToClipboard",defaultMessage:"Copied!",description:"Copied the whole content of the element to clipboard"}})})),r.register("hIycq",(function(e,n){t(e.exports,"hoverDecoration",(function(){return u})),t(e.exports,"default",(function(){return d}));var o,i,a=r("9MUi0"),s=r("eBSbE"),c=r("iFBc4"),l=new s.PluginKey("decorationPlugin");(i=o||(o={}))[i.DECORATION_ADD=0]="DECORATION_ADD",i[i.DECORATION_REMOVE=1]="DECORATION_REMOVE";var u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"danger";return function(r,i){var u,d;if(r.selection instanceof s.NodeSelection){var f=r.selection.node;(Array.isArray(e)?e:[e]).indexOf(f.type)>-1&&(u=r.selection.from,d=f)}var p=c.findParentNodeOfType(e)(r.selection);return void 0===u&&p&&(u=p.pos,d=p.node),void 0!==u&&void 0!==d&&(i&&i(r.tr.setMeta(l,{action:t?o.DECORATION_ADD:o.DECORATION_REMOVE,data:a.Decoration.node(u,u+d.nodeSize,{class:n},{key:"decorationNode"})}).setMeta("addToHistory",!1)),!0)}},d=function(){return new s.Plugin({key:l,state:{init:function(){return{decoration:void 0}},apply:function(e,t){t.decoration&&(e.mapping.mapResult(t.decoration.from).deleted&&(t={decoration:void 0}));var n=e.getMeta(l);if(!n)return t;switch(n.action){case o.DECORATION_ADD:return{decoration:n.data};case o.DECORATION_REMOVE:return{decoration:void 0};default:return t}}},props:{decorations:function(e){var t=e.doc,n=l.getState(e).decoration;return n?a.DecorationSet.create(t,[n]):null}}})}})),r.register("9ZtoQ",(function(n,o){t(n.exports,"buildExtensionNode",(function(){return E})),t(n.exports,"editExtension",(function(){return k})),t(n.exports,"transformSliceToRemoveOpenBodiedExtension",(function(){return C}));var i=r("9ePZF"),a=r("l15hj"),s=r("cNgp7"),c=r("jWbqG"),l=r("eBSbE"),u=r("iFBc4"),d=r("hxFzZ");r("cTu5S");var f=r("9V1f8"),p=r("hNVBR"),h=r("gyNDb"),g=r("cZcDC");r("3wRIy");var m=r("9NzCT"),v=r("gJAMD");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E=function(e,t,n,r,o){switch(e){case"extension":return t.nodes.extension.createChecked(n,r,o);case"inlineExtension":return t.nodes.inlineExtension.createChecked(n,r,o);case"bodiedExtension":return t.nodes.bodiedExtension.create(n,r,o)}},x=function(e,t,n,r,o){return function(i,a,s){if(!s)throw Error("EditorView is required to perform node update!");var c=s.state,d=s.dispatch,g=E(e,c.schema,t,n,r);if(!g)return!1;var v=c.selection,b=c.schema.nodes,y=b.extension,x=b.inlineExtension,k=b.bodiedExtension,C=!!u.findSelectedNodeOfType([k])(v),S=m.getPluginState(c),T=h.TARGET_SELECTION_SOURCE.CURRENT_SELECTION,O=f.ACTION.UPDATED,w=c.tr;if(g.type!==k||C){if(u.findSelectedNodeOfType([y,k,x])(v))(w=u.replaceSelectedNode(g)(w)).setSelection(l.NodeSelection.create(w.doc,w.mapping.map(c.selection.anchor)));else if(S.element){var N=s.posAtDOM(S.element,-1);N>-1?((w=w.replaceWith(N,N+(n.size||0)+1,g)).setSelection(l.Selection.near(w.doc.resolve(N))),T=h.TARGET_SELECTION_SOURCE.HTML_ELEMENT):O=f.ACTION.ERRORED}}else(w=u.replaceParentNodeOfType(c.schema.nodes.bodiedExtension,g)(w)).setSelection(l.TextSelection.create(w.doc,c.selection.anchor));if(d&&w.docChanged){var P=g.attrs,A=P.extensionType,I=P.extensionKey,D=P.layout,R=P.localId;p.addAnalytics(c,w,{action:O,actionSubject:f.ACTION_SUBJECT.EXTENSION,actionSubjectId:g.type.name,eventType:f.EVENT_TYPE.TRACK,attributes:{inputMethod:f.INPUT_METHOD.CONFIG_PANEL,extensionType:A,extensionKey:I,layout:D,localId:R,selection:w.selection.toJSON(),targetSelectionSource:T}}),d(o?w.scrollIntoView():w)}return!0}},k=function(t,n){return function(r,o,a){if(!a)return!1;var c=m.getPluginState(r).localId,l=g.findExtensionWithLocalId(r,c);if(!l)return!1;var u=v.getEditInLegacyMacroBrowser({view:a,macroProvider:t||void 0});if(n)n.then((function(n){if(n&&a){var c=v.createExtensionAPI({editorView:a,editInLegacyMacroBrowser:u});(function(t,n,r){return function(){var o=e(s)(e(i).mark((function o(a,s,c){var l,u,d,f,p,h,g,m;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=n.node,u=l.attrs,d=l.type,f=l.content,p=l.marks,a.schema.nodes[d.name]){e.next=3;break}return e.abrupt("return",!1);case 3:return h=u.parameters,e.prev=4,e.next=7,t(h,r);case 7:if(!(g=e.sent)){e.next=11;break}return m=y(y({},u),{},{parameters:y(y({},h),g)}),e.abrupt("return",x(d.name,m,f,p,!0)(a,s,c));case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(4);case 15:return e.abrupt("return",!0);case 16:case"end":return e.stop()}}),o,null,[[4,13]])})));return function(e,t,n){return o.apply(this,arguments)}}()})(n,l,c)(r,o,a)}else n||!t||u()}));else{if(!t)return!1;u()}return!0}},C=function(e,t){var n=t.nodes.bodiedExtension,r=d.mapFragment(e.content,(function(t,r,o){if(t.type===n&&!r){var i=e.openStart&&0===o,a=e.openEnd&&o+1===e.content.childCount;if(i||a)return t.content}return t}));return new c.Slice(r,r.firstChild&&r.firstChild.type!==e.content.firstChild.type?e.openStart-1:e.openStart,r.lastChild&&r.lastChild.type!==e.content.lastChild.type?e.openEnd-1:e.openEnd)}})),r.register("hxFzZ",(function(n,o){t(n.exports,"getFragmentBackingArray",(function(){return s})),t(n.exports,"mapFragment",(function(){return c})),t(n.exports,"mapSlice",(function(){return l})),t(n.exports,"flatmap",(function(){return u})),t(n.exports,"mapChildren",(function(){return d}));var i=r("fw3Q6"),a=r("jWbqG");function s(e){return e.content}function c(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=[],l=0,u=t.childCount;l<u;l++){var d=t.child(l),f=d.isLeaf?n(d,r,l):n(d.copy(c(d.content,n,d)),r,l);f&&(f instanceof a.Fragment?o.push.apply(o,e(i)(s(f))):Array.isArray(f)?o.push.apply(o,e(i)(f)):o.push(f))}return a.Fragment.fromArray(o)}function l(e,t){var n=c(e.content,t);return new a.Slice(n,e.openStart,e.openEnd)}function u(t,n){for(var r=[],o=0;o<t.childCount;o++){var s=n(t.child(o),o,t);Array.isArray(s)?r.push.apply(r,e(i)(s)):r.push(s)}return a.Fragment.fromArray(r)}function d(e,t){for(var n=[],r=0;r<e.childCount;r++)n.push(t(e.child(r),r,e instanceof a.Fragment?e:e.content));return n}})),r.register("gyNDb",(function(e,n){var r,o,i,a,s,c;t(e.exports,"TARGET_SELECTION_SOURCE",(function(){return s})),(o=r||(r={})).TEXT="text",o.NODE="node",o.CELL="cell",o.GAP_CURSOR="gapCursor",(a=i||(i={})).LEFT="left",a.RIGHT="right",(c=s||(s={})).CURRENT_SELECTION="currentSelection",c.HTML_ELEMENT="htmlElement"})),r.register("gJAMD",(function(n,o){t(n.exports,"getEditInLegacyMacroBrowser",(function(){return p})),t(n.exports,"createExtensionAPI",(function(){return h}));var i=r("EwJf3"),a=r("jWbqG");r("5cZja");var s=r("4JxMX"),c=r("gb8PD"),l=r("e3yG9"),u=r("cZcDC");r("cTu5S");var d=r("9V1f8"),f=r("hNVBR"),p=(u=r("cZcDC"),function(e){var t=e.view,n=e.macroProvider;return function(){if(!t)throw new Error("Missing view. Can't update without EditorView");if(!n)throw new Error("Missing macroProvider. Can't use the macro browser for updates");var e=u.getSelectedExtension(t.state,!0);if(!e)throw new Error("Missing nodeWithPos. Can't determine position of node");s.insertMacroFromMacroBrowser(n,e.node,!0)(t)}}),h=function(t){return{editInContextPanel:function(e,n){var r=t.editorView;l.setEditingContextToContextPanel(e,n)(r.state,r.dispatch,r)},_editInLegacyMacroBrowser:function(){var e=t.editorView,n=t.editInLegacyMacroBrowser;if(!n){var r=c.pluginKey.getState(e.state);n=p({view:t.editorView,macroProvider:(null==r?void 0:r.macroProvider)||void 0})}n()},doc:{insertAfter:function(n,r){var o=t.editorView,s=o.dispatch;if("string"!=typeof n||""===n)throw new Error("insertAfter(): Invalid localId '".concat(n,"'."));if("object"!==e(i)(r)||Array.isArray(r))throw new Error("insertAfter(): Invalid ADF given.");var c=o.state,l=u.findNodePosWithLocalId(c,n);if(!l)throw new Error("insertAfter(): Could not find node with ID '".concat(n,"'."));var p=c.tr,h=c.schema,g=h.nodes[r.type];if(!g)throw new Error("insertAfter(): Invalid ADF type '".concat(r.type,"'."));var m=a.Fragment.fromJSON(h,r.content),v=(r.marks||[]).map((function(e){return a.Mark.fromJSON(h,e)})),b=null==g?void 0:g.createChecked(r.attrs,m,v);if(!b)throw new Error("insertAfter(): Could not create a node for given ADFEntity.");p.insert(l.pos+l.node.nodeSize,b);try{p.doc.check()}catch(e){throw new Error("insertAfter(): The given ADFEntity cannot be inserted in the current position.\n".concat(e))}var y={action:d.ACTION.INVOKED,actionSubject:d.ACTION_SUBJECT.EXTENSION,actionSubjectId:d.ACTION_SUBJECT_ID.EXTENSION_API,attributes:{functionName:"insertAfter"},eventType:d.EVENT_TYPE.TRACK};f.addAnalytics(c,p,y);var E=[b];b.descendants((function(e){return E.push(e),!0})),E.forEach((function(e){var t=e.attrs,n=t.extensionKey,r=t.extensionType,o=u.getDataConsumerMark(e),i=(null==o?void 0:o.attrs.sources.map((function(e){return e})))||[],a=!!o,s=a?u.getNodeTypesReferenced(i,c):void 0,l={action:d.ACTION.INSERTED,actionSubject:d.ACTION_SUBJECT.DOCUMENT,attributes:{nodeType:e.type.name,inputMethod:d.INPUT_METHOD.EXTENSION_API,hasReferentiality:a,nodeTypesReferenced:s,layout:e.attrs.layout,extensionType:r,extensionKey:n},eventType:d.EVENT_TYPE.TRACK};f.addAnalytics(c,p,l)})),s(p)}}}}})),r.register("5cZja",(function(n,o){t(n.exports,"default",(function(){return d})),t(n.exports,"insertMacroFromMacroBrowser",(function(){return r("4JxMX").insertMacroFromMacroBrowser})),t(n.exports,"runMacroAutoConvert",(function(){return r("4JxMX").runMacroAutoConvert}));var i=r("l15hj"),a=r("eBSbE"),s=r("4JxMX"),c=r("gb8PD");s=r("4JxMX");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){return{name:"macro",pmPlugins:function(){return[{name:"macro",plugin:function(e){return function(e,t){return new a.Plugin({state:{init:function(){return{macroProvider:null}},apply:function(t,n){var r=t.getMeta(c.pluginKey);if(r){var o=u(u({},n),r);return e(c.pluginKey,o),o}return n}},key:c.pluginKey,view:function(e){var n=function(t,n){return n&&s.setMacroProvider(n)(e)};return e.dom.parentNode&&t.subscribe("macroProvider",n),{destroy:function(){t.unsubscribe("macroProvider",n)}}}})}(e.dispatch,e.providerFactory)}}]}}}})),r.register("4JxMX",(function(n,o){t(n.exports,"insertMacroFromMacroBrowser",(function(){return E})),t(n.exports,"runMacroAutoConvert",(function(){return k})),t(n.exports,"setMacroProvider",(function(){return C}));var i=r("l15hj"),a=r("9ePZF"),s=r("cNgp7"),c=r("6ywzv"),l=r("eBSbE"),u=r("iFBc4");r("igW5C");var d=r("f2gHX");r("9J8af");var f=r("eXD27"),p=r("9NzCT");r("cTu5S");var h=r("hNVBR"),g=r("9V1f8"),m=r("gyNDb"),v=r("gb8PD");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var E=function(t,n,r){return function(){var o=e(s)(e(a).mark((function o(i){var s,c,d,f,v,b,y,E,k,C,S,T,O,w,N,P,A,I,D,R,M;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,t.openMacroBrowser(n);case 4:if(!(s=e.sent)||!n){e.next=20;break}if(c=i.state,d=i.dispatch,f=n&&n.attrs.layout||"default",v=x(s,c,{layout:f})){e.next=11;break}return e.abrupt("return",!1);case 11:return b=c.selection,y=c.schema,E=y.nodes,k=E.extension,C=E.inlineExtension,S=E.bodiedExtension,T=p.getPluginState(c),O=m.TARGET_SELECTION_SOURCE.CURRENT_SELECTION,w=c.tr,N=!!u.findSelectedNodeOfType([S])(b),n.type!==S||N?u.findSelectedNodeOfType([k,S,C])(b)?(w=u.replaceSelectedNode(v)(w)).setSelection(l.NodeSelection.create(w.doc,w.mapping.map(c.selection.anchor))):T.element&&(P=i.posAtDOM(T.element,-1))>-1&&((w=w.replaceWith(P,P+n.nodeSize,v)).setSelection(l.Selection.near(w.doc.resolve(P))),O=m.TARGET_SELECTION_SOURCE.HTML_ELEMENT):(w=r?u.replaceParentNodeOfType(S,v)(w):u.safeInsert(v)(w)).setSelection(l.TextSelection.create(w.doc,c.selection.anchor)),d&&w.docChanged&&(A=n.attrs,I=A.extensionType,D=A.extensionKey,R=A.layout,M=A.localId,h.addAnalytics(c,w,{action:g.ACTION.UPDATED,actionSubject:g.ACTION_SUBJECT.EXTENSION,actionSubjectId:n.type.name,eventType:g.EVENT_TYPE.TRACK,attributes:{inputMethod:r?g.INPUT_METHOD.MACRO_BROWSER:g.INPUT_METHOD.TOOLBAR,extensionType:I,extensionKey:D,layout:R,localId:M,selection:w.selection.toJSON(),targetSelectionSource:O}}),d(w.scrollIntoView())),e.abrupt("return",!0);case 20:return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},x=function(e,t,n){if(!e||!t)return null;var r,o=t.schema,i=d.getValidNode(e,o),a=i.type,s=i.attrs;return"extension"===a?r=o.nodes.extension.create(y(y({},s),n)):"bodiedExtension"===a?r=o.nodes.bodiedExtension.create(y(y({},s),n),o.nodeFromJSON(e).content):"inlineExtension"===a&&(r=o.nodes.inlineExtension.create(s)),f.normaliseNestedLayout(t,r)},k=function(e,t){var n=v.pluginKey.getState(e),r=n&&n.macroProvider;if(!r||!r.autoConvert)return null;var o=r.autoConvert(t);return o?x(o,e):null},C=function(t){return function(){var n=e(s)(e(a).mark((function n(r){var o;return e(a).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t;case 3:o=n.sent,e(c)(o&&o.openMacroBrowser,"MacroProvider promise did not resolve to a valid instance of MacroProvider - ".concat(o)),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),o=null;case 10:return r.dispatch(r.state.tr.setMeta(v.pluginKey,{macroProvider:o})),n.abrupt("return",!0);case 12:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}()}})),r.register("6ywzv",(function(e,t){var n=r("7fI8M");function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i,a,s=r("13Ba7").codes,c=s.ERR_AMBIGUOUS_ARGUMENT,l=s.ERR_INVALID_ARG_TYPE,u=s.ERR_INVALID_ARG_VALUE,d=s.ERR_INVALID_RETURN_VALUE,f=s.ERR_MISSING_ARGS,p=r("lRmyz"),h=r("02Zap").inspect,g=r("02Zap").types,m=g.isPromise,v=g.isRegExp,b=Object.assign?Object.assign:r("kSzyQ").assign,y=Object.is?Object.is:r("aItGI");new Map;function E(){var e=r("4EcX6");i=e.isDeepEqual,a=e.isDeepStrictEqual}var x=!1,k=e.exports=O,C={};function S(e){if(e.message instanceof Error)throw e.message;throw new p(e)}function T(e,t,n,r){if(!n){var o=!1;if(0===t)o=!0,r="No value argument passed to `assert.ok()`";else if(r instanceof Error)throw r;var i=new p({actual:n,expected:!0,message:r,operator:"==",stackStartFn:e});throw i.generatedMessage=o,i}}function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];T.apply(void 0,[O,t.length].concat(t))}k.fail=function e(t,r,o,i,a){var s,c=arguments.length;if(0===c)s="Failed";else if(1===c)o=t,t=void 0;else{if(!1===x){x=!0;var l=n.emitWarning?n.emitWarning:console.warn.bind(console);l("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}2===c&&(i="!=")}if(o instanceof Error)throw o;var u={actual:t,expected:r,operator:void 0===i?"fail":i,stackStartFn:a||e};void 0!==o&&(u.message=o);var d=new p(u);throw s&&(d.message=s,d.generatedMessage=!0),d},k.AssertionError=p,k.ok=O,k.equal=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");t!=n&&S({actual:t,expected:n,message:r,operator:"==",stackStartFn:e})},k.notEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");t==n&&S({actual:t,expected:n,message:r,operator:"!=",stackStartFn:e})},k.deepEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===i&&E(),i(t,n)||S({actual:t,expected:n,message:r,operator:"deepEqual",stackStartFn:e})},k.notDeepEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===i&&E(),i(t,n)&&S({actual:t,expected:n,message:r,operator:"notDeepEqual",stackStartFn:e})},k.deepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===i&&E(),a(t,n)||S({actual:t,expected:n,message:r,operator:"deepStrictEqual",stackStartFn:e})},k.notDeepStrictEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");void 0===i&&E();a(t,n)&&S({actual:t,expected:n,message:r,operator:"notDeepStrictEqual",stackStartFn:e})},k.strictEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");y(t,n)||S({actual:t,expected:n,message:r,operator:"strictEqual",stackStartFn:e})},k.notStrictEqual=function e(t,n,r){if(arguments.length<2)throw new f("actual","expected");y(t,n)&&S({actual:t,expected:n,message:r,operator:"notStrictEqual",stackStartFn:e})};var w=function e(t,n,r){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n.forEach((function(e){e in t&&(void 0!==r&&"string"==typeof r[e]&&v(t[e])&&t[e].test(r[e])?o[e]=r[e]:o[e]=t[e])}))};function N(e,t,n,r,o,i){if(!(n in e)||!a(e[n],t[n])){if(!r){var s=new w(e,o),c=new w(t,o,e),l=new p({actual:s,expected:c,operator:"deepStrictEqual",stackStartFn:i});throw l.actual=e,l.expected=t,l.operator=i.name,l}S({actual:e,expected:t,message:r,operator:i.name,stackStartFn:i})}}function P(e,t,n,r){if("function"!=typeof t){if(v(t))return t.test(e);if(2===arguments.length)throw new l("expected",["Function","RegExp"],t);if("object"!==o(e)||null===e){var a=new p({actual:e,expected:t,message:n,operator:"deepStrictEqual",stackStartFn:r});throw a.operator=r.name,a}var s=Object.keys(t);if(t instanceof Error)s.push("name","message");else if(0===s.length)throw new u("error",t,"may not be an empty object");return void 0===i&&E(),s.forEach((function(o){"string"==typeof e[o]&&v(t[o])&&t[o].test(e[o])||N(e,t,o,n,s,r)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function A(e){if("function"!=typeof e)throw new l("fn","Function",e);try{e()}catch(e){return e}return C}function I(e){return m(e)||null!==e&&"object"===o(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function D(e){return Promise.resolve().then((function(){var t;if("function"==typeof e){if(!I(t=e()))throw new d("instance of Promise","promiseFn",t)}else{if(!I(e))throw new l("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return C})).catch((function(e){return e}))}))}function R(e,t,n,r){if("string"==typeof n){if(4===arguments.length)throw new l("error",["Object","Error","Function","RegExp"],n);if("object"===o(t)&&null!==t){if(t.message===n)throw new c("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===n)throw new c("error/message",'The error "'.concat(t,'" is identical to the message.'));r=n,n=void 0}else if(null!=n&&"object"!==o(n)&&"function"!=typeof n)throw new l("error",["Object","Error","Function","RegExp"],n);if(t===C){var i="";n&&n.name&&(i+=" (".concat(n.name,")")),i+=r?": ".concat(r):".";var a="rejects"===e.name?"rejection":"exception";S({actual:void 0,expected:n,operator:e.name,message:"Missing expected ".concat(a).concat(i),stackStartFn:e})}if(n&&!P(t,n,r,e))throw t}function M(e,t,n,r){if(t!==C){if("string"==typeof n&&(r=n,n=void 0),!n||P(t,n)){var o=r?": ".concat(r):".",i="doesNotReject"===e.name?"rejection":"exception";S({actual:t,expected:n,operator:e.name,message:"Got unwanted ".concat(i).concat(o,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];T.apply(void 0,[_,t.length].concat(t))}k.throws=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];R.apply(void 0,[e,A(t)].concat(r))},k.rejects=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return D(t).then((function(t){return R.apply(void 0,[e,t].concat(r))}))},k.doesNotThrow=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];M.apply(void 0,[e,A(t)].concat(r))},k.doesNotReject=function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return D(t).then((function(t){return M.apply(void 0,[e,t].concat(r))}))},k.ifError=function e(t){if(null!=t){var n="ifError got unwanted exception: ";"object"===o(t)&&"string"==typeof t.message?0===t.message.length&&t.constructor?n+=t.constructor.name:n+=t.message:n+=h(t);var r=new p({actual:t,expected:null,operator:"ifError",message:n,stackStartFn:e}),i=t.stack;if("string"==typeof i){var a=i.split("\n");a.shift();for(var s=r.stack.split("\n"),c=0;c<a.length;c++){var l=s.indexOf(a[c]);if(-1!==l){s=s.slice(0,l);break}}r.stack="".concat(s.join("\n"),"\n").concat(a.join("\n"))}throw r}},k.strict=b(_,k,{equal:k.strictEqual,deepEqual:k.deepStrictEqual,notEqual:k.notStrictEqual,notDeepEqual:k.notDeepStrictEqual}),k.strict.strict=k.strict})),r.register("13Ba7",(function(e,n){var o;function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function c(e,t){return c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},c(e,t)}t(e.exports,"codes",(function(){return o}),(function(e){return o=e}));var l,u,d={};function f(e,t,n){n||(n=Error);var r=function(n){function r(n,o,i){var c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),c=a(this,s(r).call(this,function(e,n,r){return"string"==typeof t?t:t(e,n,r)}(n,o,i))),c.code=e,c}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(r,n),r}(n);d[e]=r}function p(e,t){if(Array.isArray(e)){var n=e.length;return e=e.map((function(e){return String(e)})),n>2?"one of ".concat(t," ").concat(e.slice(0,n-1).join(", "),", or ")+e[n-1]:2===n?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}f("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),f("ERR_INVALID_ARG_TYPE",(function(e,t,n){var o,a,s,c;if(void 0===l&&(l=r("6ywzv")),l("string"==typeof e,"'name' must be a string"),"string"==typeof t&&(a="not ",t.substr(!s||s<0?0:+s,a.length)===a)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))c="The ".concat(e," ").concat(o," ").concat(p(t,"type"));else{var u=function(e,t,n){return"number"!=typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";c='The "'.concat(e,'" ').concat(u," ").concat(o," ").concat(p(t,"type"))}return c+=". Received type ".concat(i(n))}),TypeError),f("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===u&&(u=r("02Zap"));var o=u.inspect(t);return o.length>128&&(o="".concat(o.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(o)}),TypeError,RangeError),f("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var r;return r=n&&n.constructor&&n.constructor.name?"instance of ".concat(n.constructor.name):"type ".concat(i(n)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(r,".")}),TypeError),f("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===l&&(l=r("6ywzv")),l(t.length>0,"At least one arg needs to be specified");var o="The ",i=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),i){case 1:o+="".concat(t[0]," argument");break;case 2:o+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:o+=t.slice(0,i-1).join(", "),o+=", and ".concat(t[i-1]," arguments")}return"".concat(o," must be specified")}),TypeError),o=d})),r.register("02Zap",(function(e,t){var n=r("7fI8M"),o=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},i=/%[sdj%]/g;e.exports.format=function(e){if(!b(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(c(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),s=r[n];n<o;s=r[++n])m(s)||!x(s)?a+=" "+s:a+=" "+c(s);return a},e.exports.deprecate=function(t,r){if(void 0!==n&&!0===n.noDeprecation)return t;if(void 0===n)return function(){return e.exports.deprecate(t,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),o=!0}return t.apply(this,arguments)}};var a={},s=/^$/;function c(t,n){var r={seen:[],stylize:u};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),g(n)?r.showHidden=n:n&&e.exports._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=l),d(r,t,r.depth)}function l(e,t){var n=c.styles[t];return n?"\x1b["+c.colors[n][0]+"m"+e+"\x1b["+c.colors[n][1]+"m":e}function u(e,t){return e}function d(t,n,r){if(t.customInspect&&n&&S(n.inspect)&&n.inspect!==e.exports.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,t);return b(o)||(o=d(t,o,r)),o}var i=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(b(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(v(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(t,n);if(i)return i;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(n)),C(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var c=n.name?": "+n.name:"";return t.stylize("[Function"+c+"]","special")}if(E(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(C(n))return f(n)}var l,u="",x=!1,T=["{","}"];(h(n)&&(x=!0,T=["[","]"]),S(n))&&(u=" [Function"+(n.name?": "+n.name:"")+"]");return E(n)&&(u=" "+RegExp.prototype.toString.call(n)),k(n)&&(u=" "+Date.prototype.toUTCString.call(n)),C(n)&&(u=" "+f(n)),0!==a.length||x&&0!=n.length?r<0?E(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),l=x?function(e,t,n,r,o){for(var i=[],a=0,s=t.length;a<s;++a)P(t,String(a))?i.push(p(e,t,n,r,String(a),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(t,n,r,s,a):a.map((function(e){return p(t,n,r,s,e,x)})),t.seen.pop(),function(e,t,n){var r=0;return e.reduce((function(e,t){r++;if(t.indexOf("\n")>=0)r++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}(l,u,T)):T[0]+u+T[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var a,s,c;if((c=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?s=c.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):c.set&&(s=e.stylize("[Setter]","special")),P(r,o)||(a="["+o+"]"),s||(e.seen.indexOf(c.value)<0?(s=m(n)?d(e,c.value,null):d(e,c.value,n-1)).indexOf("\n")>-1&&(s=i?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(i&&o.match(/^\d+$/))return s;(a=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function m(e){return null===e}function v(e){return"number"==typeof e}function b(e){return"string"==typeof e}function y(e){return void 0===e}function E(e){return x(e)&&"[object RegExp]"===T(e)}function x(e){return"object"==typeof e&&null!==e}function k(e){return x(e)&&"[object Date]"===T(e)}function C(e){return x(e)&&("[object Error]"===T(e)||e instanceof Error)}function S(e){return"function"==typeof e}function T(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}e.exports.debuglog=function(t){if(t=t.toUpperCase(),!a[t])if(s.test(t)){var r=n.pid;a[t]=function(){var n=e.exports.format.apply(e.exports,arguments);console.error("%s %d: %s",t,r,n)}}else a[t]=function(){};return a[t]},e.exports.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.exports.types=r("XyHS0"),e.exports.isArray=h,e.exports.isBoolean=g,e.exports.isNull=m,e.exports.isNullOrUndefined=function(e){return null==e},e.exports.isNumber=v,e.exports.isString=b,e.exports.isSymbol=function(e){return"symbol"==typeof e},e.exports.isUndefined=y,e.exports.isRegExp=E,e.exports.types.isRegExp=E,e.exports.isObject=x,e.exports.isDate=k,e.exports.types.isDate=k,e.exports.isError=C,e.exports.types.isNativeError=C,e.exports.isFunction=S,e.exports.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},e.exports.isBuffer=r("1LTGs");var w=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function N(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),w[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports.log=function(){console.log("%s - %s",N(),e.exports.format.apply(e.exports,arguments))},e.exports.inherits=r("r0cQ5"),e.exports._extend=function(e,t){if(!t||!x(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function I(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}e.exports.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(A&&e[A]){var t;if("function"!=typeof(t=e[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),A&&Object.defineProperty(t,A,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,o(e))},e.exports.promisify.custom=A,e.exports.callbackify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var o=t.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,a=function(){return o.apply(i,arguments)};e.apply(this,t).then((function(e){n.nextTick(a.bind(null,null,e))}),(function(e){n.nextTick(I.bind(null,e,a))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,o(e)),t}})),r.register("XyHS0",(function(e,t){"use strict";var n=r("g3pQZ"),o=r("ahlJW"),i=r("fN8QN"),a=r("568Bc");function s(e){return e.call.bind(e)}var c="undefined"!=typeof BigInt,l="undefined"!=typeof Symbol,u=s(Object.prototype.toString),d=s(Number.prototype.valueOf),f=s(String.prototype.valueOf),p=s(Boolean.prototype.valueOf);if(c)var h=s(BigInt.prototype.valueOf);if(l)var g=s(Symbol.prototype.valueOf);function m(e,t){if("object"!=typeof e)return!1;try{return t(e),!0}catch(e){return!1}}function v(e){return"[object Map]"===u(e)}function b(e){return"[object Set]"===u(e)}function y(e){return"[object WeakMap]"===u(e)}function E(e){return"[object WeakSet]"===u(e)}function x(e){return"[object ArrayBuffer]"===u(e)}function k(e){return"undefined"!=typeof ArrayBuffer&&(x.working?x(e):e instanceof ArrayBuffer)}function C(e){return"[object DataView]"===u(e)}function S(e){return"undefined"!=typeof DataView&&(C.working?C(e):e instanceof DataView)}function T(e){return"[object SharedArrayBuffer]"===u(e)}function O(e){return"undefined"!=typeof SharedArrayBuffer&&(T.working?T(e):e instanceof SharedArrayBuffer)}function w(e){return m(e,d)}function N(e){return m(e,f)}function P(e){return m(e,p)}function A(e){return c&&m(e,h)}function I(e){return l&&m(e,g)}e.exports.isArgumentsObject=n,e.exports.isGeneratorFunction=o,e.exports.isTypedArray=a,e.exports.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},e.exports.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):a(e)||S(e)},e.exports.isUint8Array=function(e){return"Uint8Array"===i(e)},e.exports.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===i(e)},e.exports.isUint16Array=function(e){return"Uint16Array"===i(e)},e.exports.isUint32Array=function(e){return"Uint32Array"===i(e)},e.exports.isInt8Array=function(e){return"Int8Array"===i(e)},e.exports.isInt16Array=function(e){return"Int16Array"===i(e)},e.exports.isInt32Array=function(e){return"Int32Array"===i(e)},e.exports.isFloat32Array=function(e){return"Float32Array"===i(e)},e.exports.isFloat64Array=function(e){return"Float64Array"===i(e)},e.exports.isBigInt64Array=function(e){return"BigInt64Array"===i(e)},e.exports.isBigUint64Array=function(e){return"BigUint64Array"===i(e)},v.working="undefined"!=typeof Map&&v(new Map),e.exports.isMap=function(e){return"undefined"!=typeof Map&&(v.working?v(e):e instanceof Map)},b.working="undefined"!=typeof Set&&b(new Set),e.exports.isSet=function(e){return"undefined"!=typeof Set&&(b.working?b(e):e instanceof Set)},y.working="undefined"!=typeof WeakMap&&y(new WeakMap),e.exports.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(y.working?y(e):e instanceof WeakMap)},E.working="undefined"!=typeof WeakSet&&E(new WeakSet),e.exports.isWeakSet=function(e){return E(e)},x.working="undefined"!=typeof ArrayBuffer&&x(new ArrayBuffer),e.exports.isArrayBuffer=k,C.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&C(new DataView(new ArrayBuffer(1),0,1)),e.exports.isDataView=S,T.working="undefined"!=typeof SharedArrayBuffer&&T(new SharedArrayBuffer),e.exports.isSharedArrayBuffer=O,e.exports.isAsyncFunction=function(e){return"[object AsyncFunction]"===u(e)},e.exports.isMapIterator=function(e){return"[object Map Iterator]"===u(e)},e.exports.isSetIterator=function(e){return"[object Set Iterator]"===u(e)},e.exports.isGeneratorObject=function(e){return"[object Generator]"===u(e)},e.exports.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===u(e)},e.exports.isNumberObject=w,e.exports.isStringObject=N,e.exports.isBooleanObject=P,e.exports.isBigIntObject=A,e.exports.isSymbolObject=I,e.exports.isBoxedPrimitive=function(e){return w(e)||N(e)||P(e)||A(e)||I(e)},e.exports.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(k(e)||O(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(t){Object.defineProperty(e.exports,t,{enumerable:!1,value:function(){throw new Error(t+" is not supported in userland")}})}))})),r.register("ahlJW",(function(e,t){"use strict";var n=Object.prototype.toString,r=Function.prototype.toString,o=/^\s*(?:function)?\*/,i="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,a=Object.getPrototypeOf,s=function(){if(!i)return!1;try{return Function("return function*() {}")()}catch(e){}}(),c=s?a(s):{};e.exports=function(e){return"function"==typeof e&&(!!o.test(r.call(e))||(i?a(e)===c:"[object GeneratorFunction]"===n.call(e)))}})),r.register("fN8QN",(function(e,t){"use strict";var o=r("exWSx"),i=r("e2qpD"),a=r("l0Fru"),s=a("Object.prototype.toString"),c=r("3b2ph")()&&"symbol"==typeof Symbol.toStringTag,l=i(),u=a("String.prototype.slice"),d={},f=r("a7lQY"),p=Object.getPrototypeOf;c&&f&&p&&o(l,(function(e){if("function"==typeof n[e]){var t=new n[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=p(t),o=f(r,Symbol.toStringTag);if(!o){var i=p(r);o=f(i,Symbol.toStringTag)}d[e]=o.get}}));var h=r("568Bc");e.exports=function(e){return!!h(e)&&(c?function(e){var t=!1;return o(d,(function(n,r){if(!t)try{var o=n.call(e);o===r&&(t=o)}catch(e){}})),t}(e):u(s(e),8,-1))}})),r.register("exWSx",(function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,o){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var a=0;a<i;a++)t.call(o,e[a],a,e);else for(var s in e)n.call(e,s)&&t.call(o,e[s],s,e)}})),r.register("e2qpD",(function(e,t){"use strict";var o=r("1m93x");e.exports=function(){return o(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],(function(e){return"function"==typeof n[e]}))}})),r.register("1m93x",(function(e,t){e.exports=function(e,t,r){if(e.filter)return e.filter(t,r);if(null==e)throw new TypeError;if("function"!=typeof t)throw new TypeError;for(var o=[],i=0;i<e.length;i++)if(n.call(e,i)){var a=e[i];t.call(r,a,i,e)&&o.push(a)}return o};var n=Object.prototype.hasOwnProperty})),r.register("l0Fru",(function(e,t){"use strict";e.exports=r("8eGNF")})),r.register("a7lQY",(function(e,t){"use strict";var n=r("hZCGt")("%Object.getOwnPropertyDescriptor%");if(n)try{n([],"length")}catch(e){n=null}e.exports=n})),r.register("568Bc",(function(e,t){"use strict";var o=r("exWSx"),i=r("e2qpD"),a=r("l0Fru"),s=a("Object.prototype.toString"),c=r("3b2ph")()&&"symbol"==typeof Symbol.toStringTag,l=i(),u=a("Array.prototype.indexOf",!0)||function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return n;return-1},d=a("String.prototype.slice"),f={},p=r("a7lQY"),h=Object.getPrototypeOf;c&&p&&h&&o(l,(function(e){var t=new n[e];if(!(Symbol.toStringTag in t))throw new EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var r=h(t),o=p(r,Symbol.toStringTag);if(!o){var i=h(r);o=p(i,Symbol.toStringTag)}f[e]=o.get}));e.exports=function(e){if(!e||"object"!=typeof e)return!1;if(!c){var t=d(s(e),8,-1);return u(l,t)>-1}return!!p&&function(e){var t=!1;return o(f,(function(n,r){if(!t)try{t=n.call(e)===r}catch(e){}})),t}(e)}})),r.register("1LTGs",(function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}})),r.register("lRmyz",(function(e,t){var n=r("7fI8M");function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){var t="function"==typeof Map?new Map:void 0;return c=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return u(e,arguments,f(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),d(r,e)},c(e)}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e,t,n){return u=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&d(o,n.prototype),o},u.apply(null,arguments)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}var h=r("02Zap").inspect,g=r("13Ba7").codes.ERR_INVALID_ARG_TYPE;function m(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}var v="",b="",y="",E="",x={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function k(e){var t=Object.keys(e),n=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){n[t]=e[t]})),Object.defineProperty(n,"message",{value:e.message}),n}function C(e){return h(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function S(e,t,r){var o="",i="",a=0,s="",c=!1,l=C(e),u=l.split("\n"),d=C(t).split("\n"),f=0,h="";if("strictEqual"===r&&"object"===p(e)&&"object"===p(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===u.length&&1===d.length&&u[0]!==d[0]){var g=u[0].length+d[0].length;if(g<=10){if(!("object"===p(e)&&null!==e||"object"===p(t)&&null!==t||0===e&&0===t))return"".concat(x[r],"\n\n")+"".concat(u[0]," !== ").concat(d[0],"\n")}else if("strictEqualObject"!==r){if(g<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;u[0][f]===d[0][f];)f++;f>2&&(h="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var n=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,n-e.length)}(" ",f),"^"),f=0)}}}for(var k=u[u.length-1],S=d[d.length-1];k===S&&(f++<2?s="\n  ".concat(k).concat(s):o=k,u.pop(),d.pop(),0!==u.length&&0!==d.length);)k=u[u.length-1],S=d[d.length-1];var T=Math.max(u.length,d.length);if(0===T){var O=l.split("\n");if(O.length>30)for(O[26]="".concat(v,"...").concat(E);O.length>27;)O.pop();return"".concat(x.notIdentical,"\n\n").concat(O.join("\n"),"\n")}f>3&&(s="\n".concat(v,"...").concat(E).concat(s),c=!0),""!==o&&(s="\n  ".concat(o).concat(s),o="");var w=0,N=x[r]+"\n".concat(b,"+ actual").concat(E," ").concat(y,"- expected").concat(E),P=" ".concat(v,"...").concat(E," Lines skipped");for(f=0;f<T;f++){var A=f-a;if(u.length<f+1)A>1&&f>2&&(A>4?(i+="\n".concat(v,"...").concat(E),c=!0):A>3&&(i+="\n  ".concat(d[f-2]),w++),i+="\n  ".concat(d[f-1]),w++),a=f,o+="\n".concat(y,"-").concat(E," ").concat(d[f]),w++;else if(d.length<f+1)A>1&&f>2&&(A>4?(i+="\n".concat(v,"...").concat(E),c=!0):A>3&&(i+="\n  ".concat(u[f-2]),w++),i+="\n  ".concat(u[f-1]),w++),a=f,i+="\n".concat(b,"+").concat(E," ").concat(u[f]),w++;else{var I=d[f],D=u[f],R=D!==I&&(!m(D,",")||D.slice(0,-1)!==I);R&&m(I,",")&&I.slice(0,-1)===D&&(R=!1,D+=","),R?(A>1&&f>2&&(A>4?(i+="\n".concat(v,"...").concat(E),c=!0):A>3&&(i+="\n  ".concat(u[f-2]),w++),i+="\n  ".concat(u[f-1]),w++),a=f,i+="\n".concat(b,"+").concat(E," ").concat(D),o+="\n".concat(y,"-").concat(E," ").concat(I),w+=2):(i+=o,o="",1!==A&&0!==f||(i+="\n  ".concat(D),w++))}if(w>20&&f<T-2)return"".concat(N).concat(P,"\n").concat(i,"\n").concat(v,"...").concat(E).concat(o,"\n")+"".concat(v,"...").concat(E)}return"".concat(N).concat(c?P:"","\n").concat(i).concat(o).concat(s).concat(h)}var T=function(e){function t(e){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),"object"!==p(e)||null===e)throw new g("options","Object",e);var o=e.message,i=e.operator,c=e.stackStartFn,l=e.actual,u=e.expected,d=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=o)r=a(this,f(t).call(this,String(o)));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(v="\x1b[34m",b="\x1b[32m",E="\x1b[39m",y="\x1b[31m"):(v="",b="",E="",y="")),"object"===p(l)&&null!==l&&"object"===p(u)&&null!==u&&"stack"in l&&l instanceof Error&&"stack"in u&&u instanceof Error&&(l=k(l),u=k(u)),"deepStrictEqual"===i||"strictEqual"===i)r=a(this,f(t).call(this,S(l,u,i)));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var h=x[i],m=C(l).split("\n");if("notStrictEqual"===i&&"object"===p(l)&&null!==l&&(h=x.notStrictEqualObject),m.length>30)for(m[26]="".concat(v,"...").concat(E);m.length>27;)m.pop();r=1===m.length?a(this,f(t).call(this,"".concat(h," ").concat(m[0]))):a(this,f(t).call(this,"".concat(h,"\n\n").concat(m.join("\n"),"\n")))}else{var T=C(l),O="",w=x[i];"notDeepEqual"===i||"notEqual"===i?(T="".concat(x[i],"\n\n").concat(T)).length>1024&&(T="".concat(T.slice(0,1021),"...")):(O="".concat(C(u)),T.length>512&&(T="".concat(T.slice(0,509),"...")),O.length>512&&(O="".concat(O.slice(0,509),"...")),"deepEqual"===i||"equal"===i?T="".concat(w,"\n\n").concat(T,"\n\nshould equal\n\n"):O=" ".concat(i," ").concat(O)),r=a(this,f(t).call(this,"".concat(T).concat(O)))}return Error.stackTraceLimit=d,r.generatedMessage=!o,Object.defineProperty(s(r),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),r.code="ERR_ASSERTION",r.actual=l,r.expected=u,r.operator=i,Error.captureStackTrace&&Error.captureStackTrace(s(r),c),r.stack,r.name="AssertionError",a(r)}var r,c,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),r=t,c=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(e,t){return h(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},t,{customInspect:!1,depth:0}))}}],c&&i(r.prototype,c),l&&i(r,l),t}(c(Error));e.exports=T})),r.register("kSzyQ",(function(e,t){"use strict";function n(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i=Object.keys(Object(o)),a=0,s=i.length;a<s;a++){var c=i[a],l=Object.getOwnPropertyDescriptor(o,c);void 0!==l&&l.enumerable&&(n[c]=o[c])}}return n}e.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}})),r.register("4EcX6",(function(e,t){"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var i=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},s=function(e){var t=[];return e.forEach((function(e,n){return t.push([n,e])})),t},c=Object.is?Object.is:r("aItGI"),l=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},u=Number.isNaN?Number.isNaN:r("gbwiG");function d(e){return e.call.bind(e)}var f=d(Object.prototype.hasOwnProperty),p=d(Object.prototype.propertyIsEnumerable),h=d(Object.prototype.toString),g=r("02Zap").types,m=g.isAnyArrayBuffer,v=g.isArrayBufferView,b=g.isDate,y=g.isMap,E=g.isRegExp,x=g.isSet,k=g.isNativeError,C=g.isBoxedPrimitive,S=g.isNumberObject,T=g.isStringObject,O=g.isBooleanObject,w=g.isBigIntObject,N=g.isSymbolObject,P=g.isFloat32Array,A=g.isFloat64Array;function I(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var n=e.charCodeAt(t);if(n<48||n>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function D(e){return Object.keys(e).filter(I).concat(l(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function R(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function M(e,t,n,r){if(e===t)return 0!==e||(!n||c(e,t));if(n){if("object"!==o(e))return"number"==typeof e&&u(e)&&u(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var a,s,l,d,f=h(e);if(f!==h(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var p=D(e),g=D(t);return p.length===g.length&&j(e,t,n,r,1,p)}if("[object Object]"===f&&(!y(e)&&y(t)||!x(e)&&x(t)))return!1;if(b(e)){if(!b(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(E(e)){if(!E(t)||(l=e,d=t,!(i?l.source===d.source&&l.flags===d.flags:RegExp.prototype.toString.call(l)===RegExp.prototype.toString.call(d))))return!1}else if(k(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(v(e)){if(n||!P(e)&&!A(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===R(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0}(e,t))return!1;var I=D(e),M=D(t);return I.length===M.length&&j(e,t,n,r,0,I)}if(x(e))return!(!x(t)||e.size!==t.size)&&j(e,t,n,r,2);if(y(e))return!(!y(t)||e.size!==t.size)&&j(e,t,n,r,3);if(m(e)){if(s=t,(a=e).byteLength!==s.byteLength||0!==R(new Uint8Array(a),new Uint8Array(s)))return!1}else if(C(e)&&!function(e,t){return S(e)?S(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):T(e)?T(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):O(e)?O(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):w(e)?w(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):N(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return j(e,t,n,r,0)}function _(e,t){return t.filter((function(t){return p(e,t)}))}function j(e,t,n,r,o,i){if(5===arguments.length){i=Object.keys(e);var a=Object.keys(t);if(i.length!==a.length)return!1}for(var s=0;s<i.length;s++)if(!f(t,i[s]))return!1;if(n&&5===arguments.length){var c=l(e);if(0!==c.length){var u=0;for(s=0;s<c.length;s++){var d=c[s];if(p(e,d)){if(!p(t,d))return!1;i.push(d),u++}else if(p(t,d))return!1}var h=l(t);if(c.length!==h.length&&_(t,h).length!==u)return!1}else{var g=l(t);if(0!==g.length&&0!==_(t,g).length)return!1}}if(0===i.length&&(0===o||1===o&&0===e.length||0===e.size))return!0;if(void 0===r)r={val1:new Map,val2:new Map,position:0};else{var m=r.val1.get(e);if(void 0!==m){var v=r.val2.get(t);if(void 0!==v)return m===v}r.position++}r.val1.set(e,r.position),r.val2.set(t,r.position);var b=U(e,t,n,i,r,o);return r.val1.delete(e),r.val2.delete(t),b}function B(e,t,n,r){for(var o=a(e),i=0;i<o.length;i++){var s=o[i];if(M(t,s,n,r))return e.delete(s),!0}return!1}function L(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(u(e))return!1}return!0}function F(e,t,n){var r=L(n);return null!=r?r:t.has(r)&&!e.has(r)}function z(e,t,n,r,o){var i=L(n);if(null!=i)return i;var a=t.get(i);return!(void 0===a&&!t.has(i)||!M(r,a,!1,o))&&(!e.has(i)&&M(r,a,!1,o))}function W(e,t,n,r,o,i){for(var s=a(e),c=0;c<s.length;c++){var l=s[c];if(M(n,l,o,i)&&M(r,t.get(l),o,i))return e.delete(l),!0}return!1}function U(e,t,r,i,c,l){var u=0;if(2===l){if(!function(e,t,n,r){for(var i=null,s=a(e),c=0;c<s.length;c++){var l=s[c];if("object"===o(l)&&null!==l)null===i&&(i=new Set),i.add(l);else if(!t.has(l)){if(n)return!1;if(!F(e,t,l))return!1;null===i&&(i=new Set),i.add(l)}}if(null!==i){for(var u=a(t),d=0;d<u.length;d++){var f=u[d];if("object"===o(f)&&null!==f){if(!B(i,f,n,r))return!1}else if(!n&&!e.has(f)&&!B(i,f,n,r))return!1}return 0===i.size}return!0}(e,t,r,c))return!1}else if(3===l){if(!function(e,t,r,i){for(var a=null,c=s(e),l=0;l<c.length;l++){var u=n(c[l],2),d=u[0],f=u[1];if("object"===o(d)&&null!==d)null===a&&(a=new Set),a.add(d);else{var p=t.get(d);if(void 0===p&&!t.has(d)||!M(f,p,r,i)){if(r)return!1;if(!z(e,t,d,f,i))return!1;null===a&&(a=new Set),a.add(d)}}}if(null!==a){for(var h=s(t),g=0;g<h.length;g++){var m=n(h[g],2),v=(d=m[0],m[1]);if("object"===o(d)&&null!==d){if(!W(a,e,d,v,r,i))return!1}else if(!(r||e.has(d)&&M(e.get(d),v,!1,i)||W(a,e,d,v,!1,i)))return!1}return 0===a.size}return!0}(e,t,r,c))return!1}else if(1===l)for(;u<e.length;u++){if(!f(e,u)){if(f(t,u))return!1;for(var d=Object.keys(e);u<d.length;u++){var p=d[u];if(!f(t,p)||!M(e[p],t[p],r,c))return!1}return d.length===Object.keys(t).length}if(!f(t,u)||!M(e[u],t[u],r,c))return!1}for(u=0;u<i.length;u++){var h=i[u];if(!M(e[h],t[h],r,c))return!1}return!0}e.exports={isDeepEqual:function(e,t){return M(e,t,false)},isDeepStrictEqual:function(e,t){return M(e,t,true)}}})),r.register("gbwiG",(function(e,t){"use strict";var n=r("9EhEB"),o=r("7Gi62"),i=r("gnQEu"),a=r("5NR2p"),s=i();n(s,{getPolyfill:i,implementation:o,shim:a}),e.exports=s})),r.register("7Gi62",(function(e,t){"use strict";e.exports=function(e){return e!=e}})),r.register("gnQEu",(function(e,t){"use strict";var n=r("7Gi62");e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}})),r.register("5NR2p",(function(e,t){"use strict";var n=r("9EhEB"),o=r("gnQEu");e.exports=function(){var e=o();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}})),r.register("gb8PD",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("macroPlugin")})),r.register("9B3MC",(function(n,o){t(n.exports,"getContextPanel",(function(){return C}));var i=r("l15hj"),a=r("9ePZF"),s=r("cNgp7"),c=r("h67q9"),l=r("EwJf3"),u=r("61szk");r("5Nf4u");var d=r("eESSH");r("3wRIy");var f=r("9NzCT"),p=r("cZcDC"),h=r("092a2"),g=r("c05Dm"),m=r("eXD27"),v=r("e3yG9"),b=r("9ZtoQ"),y=r("1LYpC");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?E(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k=function(t,n){if("object"===e(l)(t)&&"object"===e(l)(n)&&null!==t&&null!==n){var r=Object.keys(t),o=Object.keys(n);return r.length===o.length&&r.every((function(e){return t[e]===n[e]}))}return t===n},C=function(t){return function(n){var r=p.getSelectedExtension(n,!0);if(r){var o=f.getPluginState(n),i=o.autoSaveResolve,l=o.showContextPanel,m=o.extensionProvider,b=o.processParametersBefore,E=o.processParametersAfter;if(o&&l&&m&&E){var x=r.node.attrs,k=x.extensionType,C=x.extensionKey,T=x.parameters,O=d.getExtensionKeyAndNodeKey(C,k),w=e(c)(O,2),N=w[0],P=w[1],A=b?b(T||{}):T;return e(u).createElement(y.SaveIndicator,{duration:5e3,visible:t},(function(n){var o=n.onSaveStarted,c=n.onSaveEnded;return e(u).createElement(h.default,{render:function(n){var l=n._privateGetEditorView();return l?e(u).createElement(g.default,{showHeader:!0,closeOnEsc:!0,extensionType:k,extensionKey:N,nodeKey:P,extensionParameters:T,parameters:A,extensionProvider:m,autoSave:t,autoSaveTrigger:i,onChange:function(){var n=e(s)(e(a).mark((function n(s){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(l,s,T,r,o);case 2:c(),i&&i(),t||v.clearEditingContext(l.state,l.dispatch);case 5:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onCancel:e(s)(e(a).mark((function n(){return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,new Promise((function(e){v.forceAutoSave(e)(l.state,l.dispatch)}));case 3:v.clearEditingContext(l.state,l.dispatch);case 4:case"end":return e.stop()}}),n)})))}):null}})}))}}}};function S(e){return T.apply(this,arguments)}function T(){return T=e(s)(e(a).mark((function t(n){var r,o,s,c,l,u,d,p,h,g,y,E,C,S,T,O,w,N,P,A,I,D=arguments;return e(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=D.length>1&&void 0!==D[1]?D[1]:{},o=D.length>2&&void 0!==D[2]?D[2]:{},s=D.length>3?D[3]:void 0,c=D.length>4?D[4]:void 0,l=f.getPluginState(n.state),u=l.processParametersAfter,d=l.processParametersBefore,u){t.next=7;break}return t.abrupt("return");case 7:if(p=d?d(o):o,!k(p,r)){t.next=10;break}return t.abrupt("return");case 10:return c&&c(),h=Date.now(),g=f.getPluginState(n.state),y=g.positions,t.next=15,v.updateState({positions:x(x({},y),{},e(i)({},h,s.pos))})(n.state,n.dispatch);case 15:return t.next=17,u(r);case 17:if(E=t.sent,C=f.getPluginState(n.state),S=C.positions){t.next=21;break}return t.abrupt("return");case 21:if(h in S){t.next=23;break}return t.abrupt("return");case 23:if(T=s.node,O=b.buildExtensionNode(s.node.toJSON().type,n.state.schema,x(x({},T.attrs),{},{parameters:x(x({},o),E)}),T.content,T.marks)){t.next=27;break}return t.abrupt("return");case 27:return w=S[h],N=n.state.tr.replaceWith(w,w+O.nodeSize,O),(P=n.state.selection).eq(N.selection)||(A=m.duplicateSelection(P,N.doc))&&N.setSelection(A),delete(I=x({},f.getPluginState(n.state).positions))[h],t.next=35,v.updateState({positions:I})(n.state,n.dispatch);case 35:n.dispatch(N);case 36:case"end":return t.stop()}}),t)}))),T.apply(this,arguments)}})),r.register("092a2",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hm2s2");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onContextUpdate",(function(){t.forceUpdate()})),t}return e(a)(r,[{key:"componentDidMount",value:function(){this.context.editorActions._privateSubscribe(this.onContextUpdate)}},{key:"componentWillUnmount",value:function(){this.context.editorActions._privateUnsubscribe(this.onContextUpdate)}},{key:"render",value:function(){return this.props.render(this.context.editorActions)}}]),r}(e(f).Component);e(d)(g,"contextTypes",{editorActions:e(p).object.isRequired})})),r.register("c05Dm",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("2l34k"),a=r("7wUnO"),s=e(i)({loader:function(){return r("efoc9").then((function(e){return e.default}))},loading:a.default})})),r.register("7wUnO",(function(n,o){t(n.exports,"default",(function(){return u}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("1HQ2H"),l=r("SssiD").default.div(i||(i=e(a)(["\n  display: flex;\n  justify-content: center;\n  margin-top: 64px;\n"]))),u=function(){return e(s).createElement(l,null,e(s).createElement(c.default,{size:"small"}))}})),r.register("efoc9",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8CvOa")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4RBSS")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("44I80")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("Rx6ju")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("dw5tu")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("1q3Ka")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("7MgwH")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kEzrN")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("44xDE")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bigJw")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("79ReB"))]).then((()=>r("daLJh")))})),r.register("1LYpC",(function(n,o){t(n.exports,"SaveIndicator",(function(){return E}));var i,a,s,c=r("h67q9"),l=r("lhkMJ"),u=r("61szk"),d=r("SssiD"),f=r("cufhv"),p=r("jy8X7"),h=r("7RIig"),g=r("2I3rl"),m=function(){},v=d.default.div(i||(i=e(l)(["\n  display: flex;\n  justify-content: center;\n"]))),b=d.default.div(a||(a=e(l)(["\n  position: fixed;\n  width: 256px;\n  bottom: 20px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  padding: 6px 12px;\n\n  background: ",";\n\n  /* E300 */\n  box-shadow: 0px 8px 12px rgba(9, 30, 66, 0.15),\n    0px 0px 1px rgba(9, 30, 66, 0.31);\n  border-radius: 16px;\n"])),f.N0),y=d.default.span(s||(s=e(l)(["\n  padding-left: 6px;\n"]))),E=function(t){var n=t.children,r=t.duration,o=t.visible,i=void 0===o||o,a=u.useState(!1),s=e(c)(a,2),l=s[0],d=s[1],E=u.useRef(!1),x=u.useCallback((function(){E.current||(d(!0),E.current=!0)}),[]);return u.useEffect((function(){if(l){var e=setTimeout((function(){d(!1)}),r);return function(){return clearTimeout(e)}}}),[l,r]),e(u).createElement(e(u).Fragment,null,e(u).createElement("div",null,n({onSaveStarted:x,onSaveEnded:m})),i&&l&&e(u).createElement(v,null,e(u).createElement(b,{"data-testid":"save-indicator-content"},e(u).createElement(e(p),{label:"Saving",primaryColor:f.G300,size:"small"}),e(u).createElement(y,null,e(u).createElement(h.FormattedMessage,g.messages.saveIndicator)))))}})),r.register("2I3rl",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({saveIndicator:{id:"fabric.editor.extensions.config-panel.save-indicator",defaultMessage:"All changes are always autosaved",description:"Message shown to the user to notify to them that we save the changes automatically."}})})),r.register("3c2T5",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("l15hj"),a=r("61szk"),s=r("6mFHM"),c=r("eBSbE"),l=r("7uC1r"),u=(l=r("7uC1r"),r("4s4wW")),d=r("5uuZY");r("94CQt");var f=r("c1NK1");r("cTu5S");var p=r("hNVBR"),h=r("9V1f8"),g=r("5eyFm"),m=r("6UBHG"),v=r("xMGOe"),b=r("a8GCc");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var x=function(){var e={};return l.bindKeymapWithCommand(l.openHelp.common,(function(e,t){var n=e.tr;return n.getMeta(b.pluginKey)||(n=p.addAnalytics(e,n,{action:h.ACTION.CLICKED,actionSubject:h.ACTION_SUBJECT.BUTTON,actionSubjectId:h.ACTION_SUBJECT_ID.BUTTON_HELP,attributes:{inputMethod:h.INPUT_METHOD.SHORTCUT},eventType:h.EVENT_TYPE.UI}),v.openHelpCommand(n,t)),!0}),e),s.keymap(e)},k=function(t){return{name:"helpDialog",pmPlugins:function(){return[{name:"helpDialog",plugin:function(e){return function(e,t){return new c.Plugin({key:b.pluginKey,state:{init:function(){return{isVisible:!1,imageEnabled:t}},apply:function(t,n,r){var o=t.getMeta(b.pluginKey),i=b.pluginKey.getState(r);if(void 0!==o&&o!==i.isVisible){var a=E(E({},i),{},{isVisible:o});return e(b.pluginKey,a),a}return i}}})}(e.dispatch,!!t)}},{name:"helpDialogKeymap",plugin:function(){return x()}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"helpdialog",title:n(m.messages.help),description:n(m.messages.helpDescription),keywords:["?"],priority:4e3,keyshortcut:l.tooltip(l.openHelp),icon:function(){return e(a).createElement(e(g),{label:""})},action:function(e,t){var n=e("");return v.openHelpCommand(n),p.addAnalytics(t,n,{action:h.ACTION.HELP_OPENED,actionSubject:h.ACTION_SUBJECT.HELP,actionSubjectId:h.ACTION_SUBJECT_ID.HELP_QUICK_INSERT,attributes:{inputMethod:h.INPUT_METHOD.QUICK_INSERT},eventType:h.EVENT_TYPE.UI})}}]}},contentComponent:function(t){var n=t.editorView;return e(a).createElement(u.default,{plugins:{helpDialog:b.pluginKey,quickInsert:f.pluginKey},render:function(t){var r=t.helpDialog,o=void 0===r?{}:r,i=t.quickInsert;return e(a).createElement(d.HelpDialogLoader,{editorView:n,isVisible:o.isVisible,quickInsertEnabled:!!i,imageEnabled:o.imageEnabled})}})}}}})),r.register("5uuZY",(function(n,o){t(n.exports,"HelpDialogLoader",(function(){return i}));var i=e(r("2l34k"))({loader:function(){return r("amh72").then((function(e){return e.default}))},loading:function(){return null}})})),r.register("amh72",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4Hne2")).then((()=>r("7LYIo")))})),r.register("94CQt",(function(n,o){t(n.exports,"default",(function(){return b})),t(n.exports,"pluginKey",(function(){return r("c1NK1").pluginKey}));var i=r("9ePZF"),a=r("cNgp7"),s=r("l15hj"),c=r("61szk"),l=r("eBSbE"),u=r("6gvxN");r("cTu5S");var d=r("9V1f8"),f=r("46vX8"),p=r("c1NK1"),h=r("h9riG"),g=r("49Cno");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=function(t){return{name:"quickInsert",pmPlugins:function(t){return[{name:"quickInsert",plugin:function(n){var r=n.providerFactory,o=n.reactContext,s=n.dispatch;return function(t,n,r,o){return new l.Plugin({key:p.pluginKey,state:{init:function(){return{isElementBrowserModalOpen:!1,lazyDefaultItems:function(){return y(t||[],r)}}},apply:function(e,t){var n=e.getMeta(p.pluginKey);if(n&&Object.keys(n).some((function(e){return t[e]!==n[e]}))){var r=v(v({},t),n);return o(p.pluginKey,r),r}return t}},view:function(t){var r=function(){var n=e(a)(e(i).mark((function n(r,o){var a,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=14;break}return e.prev=1,e.next=4,o;case 4:return a=e.sent,e.next=7,a.getItems();case 7:s=e.sent,x({provider:a,providedItems:s})(t.state,t.dispatch),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Error getting items from quick insert provider",e.t0);case 14:case"end":return e.stop()}}),n,null,[[1,11]])})));return function(e,t){return n.apply(this,arguments)}}();return n.subscribe("quickInsertProvider",r),{destroy:function(){n.unsubscribe("quickInsertProvider",r)}}}})}(t,r,o().intl,s)}}]},pluginsOptions:{typeAhead:{trigger:"/",headless:t?t.headless:void 0,getItems:function(e,n,r,o,i,a){var s=o.prevActive,c=o.queryChanged;!s&&c&&a(f.analyticsEventKey,{payload:{action:d.ACTION.INVOKED,actionSubject:d.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:d.ACTION_SUBJECT_ID.TYPEAHEAD_QUICK_INSERT,attributes:{inputMethod:d.INPUT_METHOD.KEYBOARD},eventType:d.EVENT_TYPE.UI}});var l=p.pluginKey.getState(n);return h.searchQuickInsertItems(l,t)(e)},selectItem:function(e,t,n){return t.action(n,e)}}},contentComponent:function(n){var r=n.editorView;return t&&t.enableElementBrowser?e(c).createElement(g.default,{editorView:r,helpUrl:t.elementBrowserHelpUrl}):null}}},y=u.default((function(e,t,n){var r=e.reduce((function(e,n){if("function"==typeof n){var r=n(t);return e.concat(r)}return e.concat(n)}),[]);return E(r,n)})),E=function(e,t){return t?e.map((function(e){var n=e.id;if(n&&t[n]){var r=e.action;e.action=function(o,i){var a=r(o,i);return t[n](e),a}}return e})):e},x=function(e){return function(t,n){return n&&n(t.tr.setMeta(p.pluginKey,e)),!0}}})),r.register("c1NK1",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("quickInsertPluginKey")})),r.register("h9riG",(function(n,o){t(n.exports,"searchQuickInsertItems",(function(){return l})),t(n.exports,"getFeaturedQuickInsertItems",(function(){return u}));var i=r("fw3Q6"),a=r("ZbUgc"),s=r("9J8af"),c={threshold:.3,keys:[{name:"title",weight:.5},{name:"priority",weight:.3},{name:"keywords",weight:.15},{name:"description",weight:.04},{name:"keyshortcut",weight:.01}]};var l=function(t,n){return function(r,o){var l=n&&n.disableDefaultItems?[]:t.lazyDefaultItems(),u=t.providedItems,d=u?s.dedupe([].concat(e(i)(l),e(i)(u)),(function(e){return e.title})):l;return function(t,n){var r=new(e(a))(n,c);return""===t?n.slice(0).sort((function(e,t){return(e.priority||Number.POSITIVE_INFINITY)-(t.priority||Number.POSITIVE_INFINITY)})):r.search(t)}(r||"","all"!==o&&o?d.filter((function(e){return e.categories&&e.categories.includes(o)})):d)}},u=function(t,n){var r=t.providedItems,o=t.lazyDefaultItems;return function(){var t=n&&n.disableDefaultItems?[]:o();return(r?s.dedupe([].concat(e(i)(t),e(i)(r)),(function(e){return e.title})):t).filter((function(e){return e.featured}))}}})),r.register("ZbUgc",(function(e,t){var n,r;n=e.exports,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=n(1),a=n(7),s=a.get,c=(a.deepValue,a.isArray),l=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,a=void 0===i?100:i,c=n.threshold,l=void 0===c?.6:c,u=n.maxPatternLength,d=void 0===u?32:u,f=n.caseSensitive,p=void 0!==f&&f,h=n.tokenSeparator,g=void 0===h?/ +/g:h,m=n.findAllMatches,v=void 0!==m&&m,b=n.minMatchCharLength,y=void 0===b?1:b,E=n.id,x=void 0===E?null:E,k=n.keys,C=void 0===k?[]:k,S=n.shouldSort,T=void 0===S||S,O=n.getFn,w=void 0===O?s:O,N=n.sortFn,P=void 0===N?function(e,t){return e.score-t.score}:N,A=n.tokenize,I=void 0!==A&&A,D=n.matchAllTokens,R=void 0!==D&&D,M=n.includeMatches,_=void 0!==M&&M,j=n.includeScore,B=void 0!==j&&j,L=n.verbose,F=void 0!==L&&L;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:a,threshold:l,maxPatternLength:d,isCaseSensitive:p,tokenSeparator:g,findAllMatches:v,minMatchCharLength:y,id:x,keys:C,includeMatches:_,includeScore:B,shouldSort:T,getFn:w,sortFn:P,verbose:F,tokenize:I,matchAllTokens:R},this.setCollection(t),this._processKeys(C)}var t;return t=[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"_processKeys",value:function(e){if(this._keyWeights={},this._keyNames=[],e.length&&"string"==typeof e[0])for(var t=0,n=e.length;t<n;t+=1){var r=e[t];this._keyWeights[r]=1,this._keyNames.push(r)}else{for(var o=null,i=null,a=0,s=0,c=e.length;s<c;s+=1){var l=e[s];if(!l.hasOwnProperty("name"))throw new Error('Missing "name" property in key object');var u=l.name;if(this._keyNames.push(u),!l.hasOwnProperty("weight"))throw new Error('Missing "weight" property in key object');var d=l.weight;if(d<0||d>1)throw new Error('"weight" property in key must bein the range of [0, 1)');i=null==i?d:Math.max(i,d),o=null==o?d:Math.min(o,d),this._keyWeights[u]=d,a+=d}if(a>1)throw new Error("Total of weights cannot exceed 1")}}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{limit:!1};this._log('---------\nSearch pattern: "'.concat(e,'"'));var n=this._prepareSearchers(e),r=n.tokenSearchers,o=n.fullSearcher,i=this._search(r,o);return this._computeScore(i),this.options.shouldSort&&this._sort(i),t.limit&&"number"==typeof t.limit&&(i=i.slice(0,t.limit)),this._format(i)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var n=e.split(this.options.tokenSeparator),r=0,o=n.length;r<o;r+=1)t.push(new i(n[r],this.options));return{tokenSearchers:t,fullSearcher:new i(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=this.list,r={},o=[];if("string"==typeof n[0]){for(var i=0,a=n.length;i<a;i+=1)this._analyze({key:"",value:n[i],record:i,index:i},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t});return o}for(var s=0,c=n.length;s<c;s+=1)for(var l=n[s],u=0,d=this._keyNames.length;u<d;u+=1){var f=this._keyNames[u];this._analyze({key:f,value:this.options.getFn(l,f),record:l,index:s},{resultMap:r,results:o,tokenSearchers:e,fullSearcher:t})}return o}},{key:"_analyze",value:function(e,t){var n=this,r=e.key,o=e.arrayIndex,i=void 0===o?-1:o,a=e.value,s=e.record,l=e.index,u=t.tokenSearchers,d=void 0===u?[]:u,f=t.fullSearcher,p=t.resultMap,h=void 0===p?{}:p,g=t.results,m=void 0===g?[]:g;!function e(t,o,i,a){if(null!=o)if("string"==typeof o){var s=!1,l=-1,u=0;n._log("\nKey: ".concat(""===r?"--":r));var p=f.search(o);if(n._log('Full text: "'.concat(o,'", score: ').concat(p.score)),n.options.tokenize){for(var g=o.split(n.options.tokenSeparator),v=g.length,b=[],y=0,E=d.length;y<E;y+=1){var x=d[y];n._log('\nPattern: "'.concat(x.pattern,'"'));for(var k=!1,C=0;C<v;C+=1){var S=g[C],T=x.search(S),O={};T.isMatch?(O[S]=T.score,s=!0,k=!0,b.push(T.score)):(O[S]=1,n.options.matchAllTokens||b.push(1)),n._log('Token: "'.concat(S,'", score: ').concat(O[S]))}k&&(u+=1)}l=b[0];for(var w=b.length,N=1;N<w;N+=1)l+=b[N];l/=w,n._log("Token score average:",l)}var P=p.score;l>-1&&(P=(P+l)/2),n._log("Score average:",P);var A=!n.options.tokenize||!n.options.matchAllTokens||u>=d.length;if(n._log("\nCheck Matches: ".concat(A)),(s||p.isMatch)&&A){var I={key:r,arrayIndex:t,value:o,score:P};n.options.includeMatches&&(I.matchedIndices=p.matchedIndices);var D=h[a];D?D.output.push(I):(h[a]={item:i,output:[I]},m.push(h[a]))}}else if(c(o))for(var R=0,M=o.length;R<M;R+=1)e(R,o[R],i,a)}(i,a,s,l)}},{key:"_computeScore",value:function(e){this._log("\n\nComputing score:\n");for(var t=this._keyWeights,n=!!Object.keys(t).length,r=0,o=e.length;r<o;r+=1){for(var i=e[r],a=i.output,s=a.length,c=1,l=0;l<s;l+=1){var u=a[l],d=u.key,f=n?t[d]:1,p=0===u.score&&t&&t[d]>0?Number.EPSILON:u.score;c*=Math.pow(p,f)}i.score=c,this._log(i)}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];if(this.options.verbose){var n=[];this._log("\n\nOutput:\n\n",JSON.stringify(e,(function(e,t){if("object"===r(t)&&null!==t){if(-1!==n.indexOf(t))return;n.push(t)}return t}),2)),n=null}var o=[];this.options.includeMatches&&o.push((function(e,t){var n=e.output;t.matches=[];for(var r=0,o=n.length;r<o;r+=1){var i=n[r];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}})),this.options.includeScore&&o.push((function(e,t){t.score=e.score}));for(var i=0,a=e.length;i<a;i+=1){var s=e[i];if(this.options.id&&(s.item=this.options.getFn(s.item,this.options.id)[0]),o.length){for(var c={item:s.item},l=0,u=o.length;l<u;l+=1)o[l](s,c);t.push(c)}else t.push(s.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}],o(e.prototype,t),e}();e.exports=l},function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=n(2),i=n(3),a=n(6),s=function(){function e(t,n){var r=n.location,o=void 0===r?0:r,i=n.distance,s=void 0===i?100:i,c=n.threshold,l=void 0===c?.6:c,u=n.maxPatternLength,d=void 0===u?32:u,f=n.isCaseSensitive,p=void 0!==f&&f,h=n.tokenSeparator,g=void 0===h?/ +/g:h,m=n.findAllMatches,v=void 0!==m&&m,b=n.minMatchCharLength,y=void 0===b?1:b,E=n.includeMatches,x=void 0!==E&&E;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:l,maxPatternLength:d,isCaseSensitive:p,tokenSeparator:g,findAllMatches:v,includeMatches:x,minMatchCharLength:y},this.pattern=p?t:t.toLowerCase(),this.pattern.length<=d&&(this.patternAlphabet=a(this.pattern))}var t;return t=[{key:"search",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return r&&(a.matchedIndices=[[0,e.length-1]]),a}var s=this.options,c=s.maxPatternLength,l=s.tokenSeparator;if(this.pattern.length>c)return o(e,this.pattern,l);var u=this.options,d=u.location,f=u.distance,p=u.threshold,h=u.findAllMatches,g=u.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:d,distance:f,threshold:p,findAllMatches:h,minMatchCharLength:g,includeMatches:r})}}],r(e.prototype,t),e}();e.exports=s},function(e,t){var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,"\\$&").replace(r,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,l=i.length;c<l;c+=1){var u=i[c];s.push([e.indexOf(u),u.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,n){var r=n(4),o=n(5);e.exports=function(e,t,n,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,l=void 0===c?100:c,u=i.threshold,d=void 0===u?.6:u,f=i.findAllMatches,p=void 0!==f&&f,h=i.minMatchCharLength,g=void 0===h?1:h,m=i.includeMatches,v=void 0!==m&&m,b=s,y=e.length,E=d,x=e.indexOf(t,b),k=t.length,C=[],S=0;S<y;S+=1)C[S]=0;if(-1!==x){var T=r(t,{errors:0,currentLocation:x,expectedLocation:b,distance:l});if(E=Math.min(T,E),-1!==(x=e.lastIndexOf(t,b+k))){var O=r(t,{errors:0,currentLocation:x,expectedLocation:b,distance:l});E=Math.min(O,E)}}x=-1;for(var w=[],N=1,P=k+y,A=1<<(k<=31?k-1:30),I=0;I<k;I+=1){for(var D=0,R=P;D<R;)r(t,{errors:I,currentLocation:b+R,expectedLocation:b,distance:l})<=E?D=R:P=R,R=Math.floor((P-D)/2+D);P=R;var M=Math.max(1,b-R+1),_=p?y:Math.min(b+R,y)+k,j=Array(_+2);j[_+1]=(1<<I)-1;for(var B=_;B>=M;B-=1){var L=B-1,F=n[e.charAt(L)];if(F&&(C[L]=1),j[B]=(j[B+1]<<1|1)&F,0!==I&&(j[B]|=(w[B+1]|w[B])<<1|1|w[B+1]),j[B]&A&&(N=r(t,{errors:I,currentLocation:L,expectedLocation:b,distance:l}))<=E){if(E=N,(x=L)<=b)break;M=Math.max(1,2*b-x)}}if(r(t,{errors:I+1,currentLocation:b,expectedLocation:b,distance:l})>E)break;w=j}var z={isMatch:x>=0,score:0===N?.001:N};return v&&(z.matchedIndices=o(C,g)),z}},function(e,t){e.exports=function(e,t){var n=t.errors,r=void 0===n?0:n,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,l=void 0===c?100:c,u=r/e.length,d=Math.abs(s-i);return l?u+d/l:d?1:u}},function(e,t){e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=[],r=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===r?r=i:s||-1===r||((o=i-1)-r+1>=t&&n.push([r,o]),r=-1)}return e[i-1]&&i-r>=t&&n.push([r,i-1]),n}},function(e,t){e.exports=function(e){for(var t={},n=e.length,r=0;r<n;r+=1)t[e.charAt(r)]=0;for(var o=0;o<n;o+=1)t[e.charAt(o)]|=1<<n-o-1;return t}},function(e,t){var n=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},r=function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)},o=function(e){return"string"==typeof e},i=function(e){return"number"==typeof e};e.exports={get:function(e,t){var a=[];return function e(t,s){if(s){var c=s.indexOf("."),l=s,u=null;-1!==c&&(l=s.slice(0,c),u=s.slice(c+1));var d=t[l];if(null!=d)if(u||!o(d)&&!i(d))if(n(d))for(var f=0,p=d.length;f<p;f+=1)e(d[f],u);else u&&e(d,u);else a.push(r(d))}else a.push(t)}(e,t),a},isArray:n,isString:o,isNum:i,toString:r}}])},"object"==typeof e.exports?e.exports=r():"function"==typeof define&&define.amd?define("Fuse",[],r):"object"==typeof e.exports?e.exports.Fuse=r():n.Fuse=r()})),r.register("49Cno",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("61szk"),a=r("4s4wW"),s=r("c1NK1"),c=r("h9riG"),l=r("2jrRN"),u=r("iFgeZ"),d=function(t){var n=t.quickInsertState,r=t.editorView,o=t.helpUrl,a=i.useCallback((function(e,t){return c.searchQuickInsertItems(n,{})(e,t)}),[n]),s=i.useCallback((function(){r.hasFocus()||r.focus()}),[r]),d=i.useCallback((function(e){u.closeElementBrowserModal()(r.state,r.dispatch),s(),u.insertItem(e)(r.state,r.dispatch)}),[r.dispatch,r.state,s]),f=i.useCallback((function(){u.closeElementBrowserModal()(r.state,r.dispatch),s()}),[r.dispatch,r.state,s]);return e(i).createElement(l.default,{getItems:a,onInsertItem:d,helpUrl:o,isOpen:n&&n.isElementBrowserModalOpen||!1,onClose:f})},f=function(t){var n=t.editorView,r=t.helpUrl,o=i.useCallback((function(t){var o=t.quickInsertState;return e(i).createElement(d,{quickInsertState:o,editorView:n,helpUrl:r})}),[n,r]);return e(i).createElement(a.default,{plugins:{quickInsertState:s.pluginKey},render:o})}})),r.register("2jrRN",(function(n,o){t(n.exports,"default",(function(){return I}));var i=r("lhkMJ"),a=r("jgze0"),s=r("h67q9"),c=r("61szk"),l=r("SssiD"),u=r("7RIig"),d=r("cufhv");r("cPjBT");var f=r("4Slod"),p=r("kFKbx");r("31Xz9");var h,g,m,v=r("kInf8"),b=r("35ixb"),y=r("5eyFm"),E=r("3RfSR"),x=r("cSzbS"),k=r("4gGgX"),C=r("iAgbk"),S=function(t){var n=c.useState(),r=e(s)(n,2),o=r[0],i=r[1],l=t.helpUrl,u=t.intl,d=c.useCallback((function(e){i(e)}),[i]),f=c.useCallback((function(e){t.onInsertItem(e)}),[t]),p=c.useCallback((function(t){return e(c).createElement(O,e(a)({},t,{onInsert:function(){return f(o)},beforeElement:l?w(l,u.formatMessage(C.messages.help)):void 0}))}),[f,o,l,u]),h=c.useCallback((function(e){"Escape"===e.key&&t.onClose()}),[t]),g={Body:c.useCallback((function(){return e(c).createElement(A,null,e(c).createElement(E.default,{categories:x.getCategories(t.intl),getItems:t.getItems,showSearch:!0,showCategories:!0,mode:"full",onSelectItem:d,onInsertItem:f}))}),[t.intl,t.getItems,d,f]),Footer:p};return e(c).createElement("div",{"data-editor-popup":!0,onClick:T,onKeyDown:h},e(c).createElement(b.ModalTransition,null,t.isOpen&&e(c).createElement(b.default,{stackIndex:1,key:"element-browser-modal",onClose:t.onClose,height:"664px",width:"x-large",autoFocus:!1,components:g,shouldCloseOnEscapePress:!1})))};S.displayName="ModalElementBrowser";var T=function(e){return e.stopPropagation()},O=function(t){var n=t.onInsert,r=t.onClose,o=t.showKeyline,i=t.beforeElement;return e(c).createElement(b.ModalFooter,{showKeyline:o,style:{padding:k.MODAL_WRAPPER_PADDING}},i||e(c).createElement("span",null),e(c).createElement(N,null,e(c).createElement(P,null,e(c).createElement(v.default,{appearance:"primary",onClick:n,testId:"ModalElementBrowser__insert-button"},"Insert")),e(c).createElement(P,null,e(c).createElement(v.default,{appearance:"subtle",onClick:r,testId:"ModalElementBrowser__close-button"},"Close"))))},w=function(t,n){return e(c).createElement(v.default,{iconBefore:e(c).createElement(e(y),{label:"help",size:"medium"}),appearance:"subtle-link",href:t,target:"_blank",testId:"ModalElementBrowser__help-button"},n)},N=l.default.div(h||(h=e(i)(["\n  display: inline-flex;\n  margin: 0 -4px;\n"]))),P=l.default.div(g||(g=e(i)(["\n  flex: 1 0 auto;\n  margin: 0 4px;\n"]))),A=l.default.div(m||(m=e(i)(["\n  display: flex;\n  flex: 1 1 auto;\n  box-sizing: border-box;\n  padding: ","px ","px 0 10px;\n  overflow: hidden;\n  background-color: ",";\n  border-radius: ","px;\n"])),k.MODAL_WRAPPER_PADDING,k.MODAL_WRAPPER_PADDING,f.default({light:d.N0,dark:d.DN50})(),p.borderRadius()),I=u.injectIntl(S)})),r.register("31Xz9",(function(e,n){t(e.exports,"default",(function(){return r("kInf8").default}));r("kInf8")})),r.register("kInf8",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("bRWI2"),l=r("61szk");r("cPjBT");var u=r("7d0Hx"),d=r("994Hi"),f=r("76pi9"),p=r("ifeuW"),h=r("iJNyJ");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,s=e.isHover,c=void 0!==s&&s,l=e.isSelected,u=void 0!==l&&l,d=e.isLoading,f=void 0!==d&&d;return n?"disabled":u&&a?"focusSelected":u?"selected":!f&&o?"active":!f&&c?"hover":a?"focus":"default"}var b={isHover:!1,isActive:!1,isFocus:!1},y=e(l).memo(e(l).forwardRef((function(t,n){var r=t.appearance,o=void 0===r?"default":r,s=t.autoFocus,g=void 0!==s&&s,y=t.isDisabled,E=void 0!==y&&y,x=t.isSelected,k=void 0!==x&&x,C=t.shouldFitContainer,S=void 0!==C&&C,T=t.spacing,O=void 0===T?"default":T,w=t.isLoading,N=void 0!==w&&w,P=t.onMouseEnter,A=t.onMouseLeave,I=t.onMouseDown,D=t.onMouseUp,R=t.onFocus,M=t.onBlur,_=t.theme,j=void 0===_?h.defaultThemeFn:_,B=m({appearance:o,autoFocus:g,isDisabled:E,isSelected:k,shouldFitContainer:S,spacing:O},e(c)(t,["appearance","autoFocus","isDisabled","isSelected","shouldFitContainer","spacing","isLoading","onMouseEnter","onMouseLeave","onMouseDown","onMouseUp","onFocus","onBlur","theme"])),L=l.useState(b),F=e(a)(L,2),z=F[0],W=F[1],U=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isHover:!0})})),P&&P(e)}),[P]),H=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isHover:!1,isActive:!1})})),A&&A(e)}),[A]),V=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isActive:!0})})),I&&I(e)}),[I]),K=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isActive:!1})})),D&&D(e)}),[D]),G=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isFocus:!0})})),R&&R(e)}),[R]),J=l.useCallback((function(e){W((function(e){return m(m({},e),{},{isFocus:!1})})),M&&M(e)}),[M]);return e(l).createElement(h.default.Provider,{value:j},e(l).createElement(u.default.Consumer,null,(function(t){var r=t.mode;return e(l).createElement(h.default.Consumer,e(i)({mode:r,state:v(m(m({},z),{},{isLoading:N,isSelected:B.isSelected,isDisabled:B.isDisabled})),iconIsOnlyChild:f.default(B),isLoading:N},B),(function(t){var r=t.buttonStyles;return e(l).createElement(d.default,e(i)({},B,{ref:n,overlay:N?e(l).createElement(p.default,B):null,onMouseEnter:U,onMouseLeave:H,onMouseDown:V,onMouseUp:K,onFocus:G,onBlur:J,buttonCss:h.getSpecifiers(r)}))}))})))})));y.displayName="CustomThemeButton";var E=y})),r.register("994Hi",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("jgze0"),a=r("bRWI2"),s=r("61szk"),c=r("4JuWt");r("lqsXI");var l=r("gOvM5"),u=r("8kTdg"),d=r("6V2Ti"),f=r("7kKf4");function p(){}var h={"> *":{pointerEvents:"none"}},g=e(s).forwardRef((function(t,n){t.appearance;var r=t.buttonCss,o=t.spacing,g=void 0===o?"default":o,m=t.autoFocus,v=void 0!==m&&m,b=t.isDisabled,y=void 0!==b&&b,E=(t.shouldFitContainer,t.isSelected,t.iconBefore),x=t.iconAfter,k=t.children,C=t.className,S=t.href,T=t.overlay,O=t.tabIndex,w=void 0===O?0:O,N=t.type,P=void 0===N?S?void 0:"button":N,A=t.onMouseDown,I=void 0===A?p:A,D=t.onClick,R=void 0===D?p:D,M=t.component,_=void 0===M?S?"a":"button":M,j=t.testId,B=t.analyticsContext,L=e(a)(t,["appearance","buttonCss","spacing","autoFocus","isDisabled","shouldFitContainer","isSelected","iconBefore","iconAfter","children","className","href","overlay","tabIndex","type","onMouseDown","onClick","component","testId","analyticsContext"]),F=s.useRef(),z=s.useCallback((function(e){F.current=e,null!=n&&("function"!=typeof n?n.current=e:n(e))}),[F,n]);u.default(F,v);var W=l.usePlatformLeafEventHandler({fn:R,action:"clicked",componentName:"button",packageName:"@atlaskit/button",packageVersion:"16.1.1",analyticsData:B}),U=s.useCallback((function(e){e.preventDefault(),I(e)}),[I]);s.useEffect((function(){var e=F.current;y&&e&&e===document.activeElement&&e.blur()}),[y]);var H=Boolean(T),V=f.getFadingCss({hasOverlay:H}),K=!y&&!H;return c.jsx(_,e(i)({},L,{css:[r,K?null:h],className:C,ref:z,onClick:W,onMouseDown:U,disabled:y,href:K?S:void 0,"data-has-overlay":!!H||void 0,"data-testid":j,type:P,tabIndex:y?-1:w},d.default({isInteractive:K})),E?c.jsx("span",{css:[V,f.getIconStyle({spacing:g})]},E):null,k?c.jsx("span",{css:[V,f.getContentStyle({spacing:g})]},k):null,x?c.jsx("span",{css:[V,f.getIconStyle({spacing:g})]},x):null,T?c.jsx("span",{css:f.overlayCss},T):null)}))})),r.register("lqsXI",(function(e,n){t(e.exports,"AnalyticsListener",(function(){return r("kZTqa").default})),t(e.exports,"withAnalyticsContext",(function(){return r("11okD").default})),t(e.exports,"withAnalyticsEvents",(function(){return r("3nqc5").default})),t(e.exports,"usePlatformLeafEventHandler",(function(){return r("gOvM5").usePlatformLeafEventHandler})),t(e.exports,"usePlatformLeafSyntheticEventHandler",(function(){return r("5nJqt").usePlatformLeafSyntheticEventHandler})),t(e.exports,"createAndFireEvent",(function(){return r("hmuVu").default}));r("kZTqa"),r("11okD"),r("3nqc5"),r("gOvM5"),r("5nJqt"),r("hmuVu")})),r.register("kZTqa",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("hZ5b9").default})),r.register("hZ5b9",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("hm2s2"),g=r("7lFfQ");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var v={getAtlaskitAnalyticsEventHandlers:e(h).func,getAtlaskitAnalyticsContext:e(h).func},b=function(){return[]},y=function(t){e(l)(r,t);var n=m(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"getChildContext",(function(){return{getAtlaskitAnalyticsEventHandlers:o.getAnalyticsEventHandlers,getAtlaskitAnalyticsContext:o.getAtlaskitAnalyticsContext}})),e(f)(e(c)(o),"getAnalyticsEventHandlers",(function(){var t=o.props,n=t.channel,r=t.onEvent,a=o.context.getAtlaskitAnalyticsEventHandlers,s=void 0===a?b:a;return[function(e,t){"*"!==n&&n!==t||r(e,t)}].concat(e(i)(s()))})),e(f)(e(c)(o),"getAtlaskitAnalyticsContext",(function(){var e=o.context.getAtlaskitAnalyticsContext;return(void 0===e?b:e)()})),o.contextValue={getAtlaskitAnalyticsContext:o.getAtlaskitAnalyticsContext,getAtlaskitAnalyticsEventHandlers:o.getAnalyticsEventHandlers},o}return e(s)(r,[{key:"render",value:function(){var t=this.props.children;return e(p).createElement(g.default.Provider,{value:this.contextValue},t)}}]),r}(p.Component);e(f)(y,"contextTypes",v),e(f)(y,"childContextTypes",v);var E=y})),r.register("11okD",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("jgze0"),a=r("l15hj"),s=r("bRWI2"),c=r("61szk"),l=r("ld90c");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){return function(n){var r=c.forwardRef((function(r,o){var a=r.analyticsContext,u=e(s)(r,["analyticsContext"]),f=c.useMemo((function(){return d(d({},t),a)}),[a]);return e(c).createElement(l.default,{data:f},e(c).createElement(n,e(i)({},u,{ref:o})))}));return r.displayName="WithAnalyticsContext(".concat(n.displayName||n.name,")"),r}}})),r.register("ld90c",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("giIuR").default})),r.register("giIuR",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("hm2s2"),g=r("7lFfQ");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var v={getAtlaskitAnalyticsContext:e(h).func,getAtlaskitAnalyticsEventHandlers:e(h).func},b=function(){return[]},y=function(t){e(l)(r,t);var n=m(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"getChildContext",(function(){return{getAtlaskitAnalyticsContext:o.getAnalyticsContext}})),e(f)(e(c)(o),"getAnalyticsContext",(function(){var t=o.props.data,n=o.context.getAtlaskitAnalyticsContext,r=void 0===n?b:n;return[].concat(e(i)(r()),[t])})),e(f)(e(c)(o),"getAnalyticsEventHandlers",(function(){var e=o.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?b:e)()})),o.contextValue={getAtlaskitAnalyticsContext:o.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:o.getAnalyticsEventHandlers},o}return e(s)(r,[{key:"render",value:function(){var t=this.props.children;return e(p).createElement(g.default.Provider,{value:this.contextValue},t)}}]),r}(p.Component);e(f)(y,"contextTypes",v),e(f)(y,"childContextTypes",v);var E=y})),r.register("3nqc5",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("OjG7n"),c=r("jWkOk"),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=a.forwardRef((function(r,o){var l=c.usePatchedProps(t,r).patchedEventProps,u=s.useAnalyticsEvents().createAnalyticsEvent;return e(a).createElement(n,e(i)({},r,l,{createAnalyticsEvent:u,ref:o}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}}})),r.register("OjG7n",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("dcalf"),a=r("5eapW");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("dcalf",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("6L9hW").default)})),r.register("6L9hW",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("5eapW",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("jWkOk",(function(n,o){t(n.exports,"usePatchedProps",(function(){return d}));var i=r("l15hj"),a=r("EwJf3"),s=r("61szk"),c=r("OjG7n");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=c.useAnalyticsEvents(),o=r.createAnalyticsEvent,l=s.useRef({}),d=s.useMemo((function(){var r=l.current;return Object.keys(r).filter((function(e){return!(e in t)})).forEach((function(e){return delete r[e]})),Object.keys(t).reduce((function(s,c){var l=t[c];if(!["object","function"].includes(e(a)(l)))return s;var d=n[c];if(c in r&&r[c].eventCreator===l&&r[c].propValue===d)return u(u({},s),{},e(i)({},c,r[c].wrappedCallback));var f=function(){var e="function"==typeof l?l(o,n):o(l);if(d&&"function"==typeof d){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];d.apply(void 0,r.concat([e]))}};return r[c]={eventCreator:l,wrappedCallback:f,propValue:d},u(u({},s),{},e(i)({},c,f))}),{})}),[t,n,o,l]);return{patchedEventProps:d}}})),r.register("gOvM5",(function(n,o){t(n.exports,"usePlatformLeafEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("OjG7n"),c=r("fHwDg");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.actionSubject,d=t.packageName,f=t.packageVersion,p=t.analyticsData,h=s.useAnalyticsEvents().createAnalyticsEvent,g=c.useTrackedRef(p),m=c.useTrackedRef(n),v=a.useCallback((function(t){var n=h({action:r,actionSubject:u||o,attributes:{componentName:o,packageName:d,packageVersion:f}}),a=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:d,packageVersion:f},g.current);n.context.push(a);var s=n.clone();s&&s.fire("atlaskit"),m.current(t,n)}),[r,o,u,d,f,h,g,m]);return v}})),r.register("fHwDg",(function(e,n){t(e.exports,"useTrackedRef",(function(){return i}));var o=r("61szk"),i=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t}})),r.register("5nJqt",(function(n,o){t(n.exports,"usePlatformLeafSyntheticEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("OjG7n"),c=r("fHwDg");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.packageName,d=t.packageVersion,f=t.analyticsData,p=s.useAnalyticsEvents().createAnalyticsEvent,h=c.useTrackedRef(f),g=c.useTrackedRef(n),m=a.useCallback((function(){var t=p({action:r,actionSubject:o,attributes:{componentName:o,packageName:u,packageVersion:d}}),n=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:u,packageVersion:d},h.current);t.context.push(n);var a=t.clone();a&&a.fire("atlaskit"),g.current(t)}),[r,o,u,d,p,h,g]);return m}})),r.register("hmuVu",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e){return function(t){return function(n){var r=n(t),o=r.clone();return o&&o.fire(e),r}}}})),r.register("6V2Ti",(function(e,n){function r(e){e.preventDefault(),e.stopPropagation()}t(e.exports,"default",(function(){return s}));function o(e){9!==e.keyCode&&r(e)}var i={onMouseDownCapture:r,onMouseUpCapture:r,onKeyDownCapture:o,onKeyUpCapture:o,onTouchStartCapture:r,onTouchEndCapture:r,onPointerDownCapture:r,onPointerUpCapture:r,onClickCapture:r,onClick:r},a={};function s(e){return e.isInteractive?a:i}})),r.register("7kKf4",(function(n,o){t(n.exports,"getCss",(function(){return x})),t(n.exports,"getIconStyle",(function(){return k})),t(n.exports,"getContentStyle",(function(){return C})),t(n.exports,"getFadingCss",(function(){return S})),t(n.exports,"overlayCss",(function(){return T}));var i=r("l15hj"),a=r("kFKbx"),s=r("7ECYw");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=a.borderRadius(),d=a.gridSize(),f=a.fontSize(),p={default:"".concat(4*d/f,"em"),compact:"".concat(3*d/f,"em"),none:"auto"},h={default:p.default,compact:p.compact,none:"inherit"},g={default:"0 ".concat(d+d/4,"px"),compact:"0 ".concat(d+d/4,"px"),none:"0"},m={compact:"0 ".concat(d/4,"px"),default:"0 ".concat(d/4,"px"),none:"0"},v={default:"middle",compact:"middle",none:"baseline"},b={content:"0 ".concat(d/4,"px"),icon:"0 ".concat(d/4,"px")};function y(e){var t=e.group,n=e.key,r=e.mode;return(t[n]||t.default)[r]}function E(e){var t=e.appearance,n=e.key,r=e.mode;return{background:y({group:s.default.background[t],key:n,mode:r}),color:"".concat(y({group:s.default.color[t],key:n,mode:r})," !important")}}function x(e){var t=e.appearance,n=e.spacing,r=e.mode,o=e.isSelected,i=e.shouldFitContainer,a=e.isOnlySingleIcon,c=E({appearance:t,key:o?"selected":"default",mode:r});return l(l({alignItems:"baseline",borderWidth:0,borderRadius:u,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontFamily:"inherit",fontWeight:500,maxWidth:"100%",position:"relative",textAlign:"center",textDecoration:"none",transition:"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)",whiteSpace:"nowrap"},c),{},{cursor:"pointer",height:p[n],lineHeight:h[n],padding:a?m[n]:g[n],verticalAlign:v[n],width:i?"100%":"auto",justifyContent:"center","&:visited":l({},c),"&:hover":l(l({},E({appearance:t,key:o?"selected":"hover",mode:r})),{},{textDecoration:o||"link"!==t&&"subtle-link"!==t?"inherit":"underline",transitionDuration:"0s, 0.15s"}),"&:focus":l(l({},E({appearance:t,key:o?"focusSelected":"focus",mode:r})),{},{boxShadow:"0 0 0 2px ".concat(s.default.boxShadowColor[t].focus[r]),transitionDuration:"0s, 0.2s",outline:"none"}),"&:active":l(l({},E({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),'&[data-firefox-is-active="true"]':l(l({},E({appearance:t,key:o?"selected":"active",mode:r})),{},{transitionDuration:"0s, 0s"}),"&[disabled]":l(l({},E({appearance:t,key:"disabled",mode:r})),{},{cursor:"not-allowed",textDecoration:"none"}),'&[data-has-overlay="true"]':{cursor:"default",textDecoration:"none"},'&[data-has-overlay="true"]:not([disabled]):hover, &[data-has-overlay="true"]:not([disabled]):active':l({},E({appearance:t,key:o?"selected":"default",mode:r})),"&::-moz-focus-inner":{border:0,margin:0,padding:0}})}function k(e){return{alignSelf:"center",display:"flex",flexGrow:0,flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===e.spacing?0:b.icon}}function C(e){return{margin:"none"===e.spacing?0:b.content,flexGrow:1,flexShrink:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}function S(e){return{transition:"opacity 0.3s",opacity:e.hasOverlay?0:1}}var T={position:"absolute",left:0,top:0,right:0,bottom:0,display:"flex",justifyContent:"center",alignItems:"center"}})),r.register("7ECYw",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("cufhv");r("aAFiG");var i=r("lBYhg"),a="rgba(179, 212, 255, 0.6)",s={background:{default:{default:{light:i.default("color.background.subtleNeutral.resting",o.N20A),dark:i.default("color.background.subtleNeutral.resting",o.DN70)},hover:{light:i.default("color.background.subtleNeutral.hover",o.N30A),dark:i.default("color.background.subtleNeutral.hover",o.DN60)},active:{light:i.default("color.background.subtleNeutral.pressed",a),dark:i.default("color.background.subtleNeutral.pressed",o.B75)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},primary:{default:{light:i.default("color.background.boldBrand.resting",o.B400),dark:i.default("color.background.boldBrand.resting",o.B100)},hover:{light:i.default("color.background.boldBrand.hover",o.B300),dark:i.default("color.background.boldBrand.hover",o.B75)},active:{light:i.default("color.background.boldBrand.pressed",o.B500),dark:i.default("color.background.boldBrand.pressed",o.B200)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},warning:{default:{light:i.default("color.background.boldWarning.resting",o.Y300),dark:i.default("color.background.boldWarning.resting",o.Y300)},hover:{light:i.default("color.background.boldWarning.hover",o.Y200),dark:i.default("color.background.boldWarning.hover",o.Y200)},active:{light:i.default("color.background.boldWarning.pressed",o.Y400),dark:i.default("color.background.boldWarning.pressed",o.Y400)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.Y400),dark:i.default("color.background.selected.resting",o.Y400)},focusSelected:{light:i.default("color.background.selected.resting",o.Y400),dark:i.default("color.background.selected.resting",o.Y400)}},danger:{default:{light:i.default("color.background.boldDanger.resting",o.R400),dark:i.default("color.background.boldDanger.resting",o.R400)},hover:{light:i.default("color.background.boldDanger.hover",o.R300),dark:i.default("color.background.boldDanger.hover",o.R300)},active:{light:i.default("color.background.boldDanger.pressed",o.R500),dark:i.default("color.background.boldDanger.pressed",o.R500)},disabled:{light:i.default("color.background.disabled",o.N20A),dark:i.default("color.background.disabled",o.DN70)},selected:{light:i.default("color.background.selected.resting",o.R500),dark:i.default("color.background.selected.resting",o.R500)},focusSelected:{light:i.default("color.background.selected.resting",o.R500),dark:i.default("color.background.selected.resting",o.R500)}},link:{default:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)}},subtle:{default:{light:"none",dark:"none"},hover:{light:i.default("color.background.transparentNeutral.hover",o.N30A),dark:i.default("color.background.transparentNeutral.hover",o.DN60)},active:{light:i.default("color.background.transparentNeutral.pressed",a),dark:i.default("color.background.transparentNeutral.pressed",o.B75)},disabled:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.DN0)}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)},focusSelected:{light:i.default("color.background.selected.resting",o.N700),dark:i.default("color.background.selected.resting",o.N20)}}},boxShadowColor:{default:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},primary:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},warning:{focus:{light:i.default("color.border.focus",o.Y500),dark:i.default("color.border.focus",o.Y500)},focusSelected:{light:i.default("color.border.focus",o.Y500),dark:i.default("color.border.focus",o.Y500)}},danger:{focus:{light:i.default("color.border.focus",o.R100),dark:i.default("color.border.focus",o.R100)},focusSelected:{light:i.default("color.border.focus",o.R100),dark:i.default("color.border.focus",o.R100)}},link:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},subtle:{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}},"subtle-link":{focus:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},focusSelected:{light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)}}},color:{default:{default:{light:i.default("color.text.highEmphasis",o.N500),dark:i.default("color.text.highEmphasis",o.DN400)},active:{light:i.default("color.text.highEmphasis",o.B400),dark:i.default("color.text.highEmphasis",o.B400)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},primary:{default:{light:i.default("color.text.onBold",o.N0),dark:i.default("color.text.onBold",o.DN30)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},warning:{default:{light:i.default("color.text.onBoldWarning",o.N800),dark:i.default("color.text.onBoldWarning",o.N800)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N800),dark:i.default("color.text.selected",o.N800)},focusSelected:{light:i.default("color.text.selected",o.N800),dark:i.default("color.text.selected",o.N800)}},danger:{default:{light:i.default("color.text.onBold",o.N0),dark:i.default("color.text.onBold",o.N0)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN30)},selected:{light:i.default("color.text.selected",o.N0),dark:i.default("color.text.selected",o.N0)},focusSelected:{light:i.default("color.text.selected",o.N0),dark:i.default("color.text.selected",o.N0)}},link:{default:{light:i.default("color.text.link.resting",o.B400),dark:i.default("color.text.link.resting",o.B100)},hover:{light:i.default("color.text.link.resting",o.B300),dark:i.default("color.text.link.resting",o.B75)},active:{light:i.default("color.text.link.pressed",o.B500),dark:i.default("color.text.link.pressed",o.B200)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.N700)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.N700)}},subtle:{default:{light:i.default("color.text.highEmphasis",o.N500),dark:i.default("color.text.highEmphasis",o.DN400)},active:{light:i.default("color.text.highEmphasis",o.B400),dark:i.default("color.text.highEmphasis",o.B400)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}},"subtle-link":{default:{light:i.default("color.text.mediumEmphasis",o.N200),dark:i.default("color.text.mediumEmphasis",o.DN400)},hover:{light:i.default("color.text.mediumEmphasis",o.N90),dark:i.default("color.text.mediumEmphasis",o.B50)},active:{light:i.default("color.text.highEmphasis",o.N400),dark:i.default("color.text.highEmphasis",o.DN300)},disabled:{light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN100)},selected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)},focusSelected:{light:i.default("color.text.selected",o.N20),dark:i.default("color.text.selected",o.DN400)}}}}})),r.register("76pi9",(function(e,n){function r(e){var t=e.children,n=e.iconBefore,r=e.iconAfter;return!t&&(!(!n||r)||!(n||!r))}t(e.exports,"default",(function(){return r}))})),r.register("ifeuW",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("bRWI2"),a=r("61szk"),s=r("1HQ2H");function c(t){var n,r,o,c,l=t.spacing,u=void 0===l?"default":l,d=e(i)(t,["spacing"]),f="default"===u?"medium":"small";return e(a).createElement(s.default,{size:f,appearance:(n=d,r=n.appearance,o=n.isDisabled,c=n.isSelected,o?"inherit":c||"primary"===r||"danger"===r?"invert":"inherit")})}})),r.register("iJNyJ",(function(n,o){t(n.exports,"getSpecifiers",(function(){return f})),t(n.exports,"defaultThemeFn",(function(){return p})),t(n.exports,"default",(function(){return h}));var i=r("l15hj");r("cPjBT");var a=r("foG8Z"),s=r("7kKf4");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={focus:"&:focus",focusSelected:"&:focus",hover:"&:hover",active:"&:active",disabled:"&[disabled]"};function d(e){var t=e.appearance,n=void 0===t?"default":t,r=e.spacing,o=void 0===r?"default":r,i=e.mode,a=void 0===i?"light":i,c=e.isSelected,d=void 0!==c&&c,f=e.shouldFitContainer,p=void 0!==f&&f,h=e.iconIsOnlyChild,g=void 0!==h&&h,m=e.isLoading,v=void 0!==m&&m,b=e.state,y=s.getCss({appearance:n,spacing:o,mode:a,isSelected:d,shouldFitContainer:p,isOnlySingleIcon:g});y.outline="none";var E=u[b];return E&&(y=l(l({},y),y[E])),v&&(y=l(l({},y),y['&[data-has-overlay="true"]'])),Object.keys(y).forEach((function(e){"&::-moz-focus-inner"!==e&&0===e.indexOf("&")&&delete y[e]})),y}function f(e){return{"&, &:hover, &:active, &:focus, &:visited, &:disabled, &[disabled]":e}}function p(e,t){return e(t)}var h=a.createTheme((function(e){return{buttonStyles:d(e),spinnerStyles:{}}}))})),r.register("3RfSR",(function(n,o){t(n.exports,"default",(function(){return p}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("2l34k"),l=r("SssiD"),u=r("1HQ2H"),d=l.default.div(i||(i=e(a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n"]))),f=e(c)({loader:function(){return r("lcvKh").then((function(e){return e.default}))},loading:function(){return e(s).createElement(d,null,e(s).createElement(u.default,{size:"medium"}))}}),p=f})),r.register("lcvKh",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kEzrN")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("mLeaw"))]).then((()=>r("dgIsp")))})),r.register("cSzbS",(function(e,n){function o(e){return[{title:e.formatMessage(i.all),name:"all"},{title:e.formatMessage(i.formatting),name:"formatting"},{title:e.formatMessage(i["confluence-content"]),name:"confluence-content"},{title:e.formatMessage(i.media),name:"media"},{title:e.formatMessage(i.visuals),name:"visuals"},{title:e.formatMessage(i.navigation),name:"navigation"},{title:e.formatMessage(i["external-content"]),name:"external-content"},{title:e.formatMessage(i.communication),name:"communication"},{title:e.formatMessage(i.reporting),name:"reporting"},{title:e.formatMessage(i.admin),name:"admin"},{title:e.formatMessage(i.development),name:"development"}]}t(e.exports,"getCategories",(function(){return o}));var i=r("7RIig").defineMessages({all:{id:"fabric.editor.elementbrowser.categorylist.category-all",defaultMessage:"All",description:"all"},formatting:{id:"fabric.editor.elementbrowser.categorylist.category-formatting",defaultMessage:"Formatting",description:"formatting"},"confluence-content":{id:"fabric.editor.elementbrowser.categorylist.category-confluence-content",defaultMessage:"Confluence content",description:"confluence-content"},media:{id:"fabric.editor.elementbrowser.categorylist.category-media",defaultMessage:"Media",description:"media"},visuals:{id:"fabric.editor.elementbrowser.categorylist.category-visuals",defaultMessage:"Visuals & images",description:"visuals"},navigation:{id:"fabric.editor.elementbrowser.categorylist.category-navigation",defaultMessage:"Navigation",description:"navigation"},"external-content":{id:"fabric.editor.elementbrowser.categorylist.category-external-content",defaultMessage:"External content",description:"external-content"},communication:{id:"fabric.editor.elementbrowser.categorylist.category-communication",defaultMessage:"Communication",description:"communication"},reporting:{id:"fabric.editor.elementbrowser.categorylist.category-reporting",defaultMessage:"Reporting",description:"reporting"},admin:{id:"fabric.editor.elementbrowser.categorylist.category-admin",defaultMessage:"Administration",description:"admin"},development:{id:"fabric.editor.elementbrowser.categorylist.category-development",defaultMessage:"Development",description:"development"}})})),r.register("4gGgX",(function(e,n){t(e.exports,"GRID_SIZE",(function(){return o})),t(e.exports,"DEVICE_BREAKPOINT_NUMBERS",(function(){return i})),t(e.exports,"FLEX_ITEMS_CONTAINER_BREAKPOINT_NUMBERS",(function(){return a})),t(e.exports,"SIDEBAR_WIDTH",(function(){return s})),t(e.exports,"SIDEBAR_HEADING_WRAPPER_HEIGHT",(function(){return c})),t(e.exports,"SIDEBAR_HEADING_PADDING_LEFT",(function(){return l})),t(e.exports,"INLINE_SIDEBAR_HEIGHT",(function(){return u})),t(e.exports,"SEARCH_ITEM_HEIGHT_WIDTH",(function(){return d})),t(e.exports,"SCROLLBAR_WIDTH",(function(){return f})),t(e.exports,"SCROLLBAR_THUMB_COLOR",(function(){return p})),t(e.exports,"SCROLLBAR_TRACK_COLOR",(function(){return h})),t(e.exports,"ELEMENT_LIST_PADDING",(function(){return g})),t(e.exports,"MODAL_WRAPPER_PADDING",(function(){return m})),t(e.exports,"ELEMENT_ITEM_HEIGHT",(function(){return v}));var o=r("kFKbx").gridSize(),i={small:40*o,medium:75*o,large:128*o},a={small:50*o,medium:i.medium,large:i.large},s="".concat(25*o,"px"),c="".concat(6*o,"px"),l="12px",u="54px",d="20px",f=o,p="#eeeeee",h="rgba(255, 255, 255, 0)",g=2,m=16,v=75})),r.register("iAgbk",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({help:{id:"fabric.editor.elementBrowser.help",defaultMessage:"Help",description:"Element browser help button label"}})})),r.register("iFgeZ",(function(e,n){t(e.exports,"openElementBrowserModal",(function(){return a})),t(e.exports,"closeElementBrowserModal",(function(){return s})),t(e.exports,"insertItem",(function(){return c}));var o=r("eqcRs"),i=r("c1NK1"),a=function(){return function(e,t){return t&&t(e.tr.setMeta(i.pluginKey,{isElementBrowserModalOpen:!0})),!0}},s=function(){return function(e,t){return t&&t(e.tr.setMeta(i.pluginKey,{isElementBrowserModalOpen:!1})),!0}},c=function(e){return function(t,n){var r=e.action((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o.insertSelectedItem(e,n)(t,t.tr,t.selection.head)}),t);return r&&n&&n(r),!0}}})),r.register("eqcRs",(function(e,n){t(e.exports,"safeInsert",(function(){return m})),t(e.exports,"insertSelectedItem",(function(){return b}));var o,i,a=r("iFBc4"),s=r("jWbqG"),c=r("eBSbE"),l=r("6sW8E"),u=r("l9fpM"),d=r("1wUBP"),f=r("eXD27");(i=o||(o={})).Before="before",i.After="after";var p=function(e,t){return t.resolve(e.after()).node().lastChild===e.node()},h=function(e,t){return t.resolve(e.before()).node().firstChild===e.node()},g=function(e,t,n,r,i){return h(r,e.doc)&&t===o.Before||p(r,e.doc)&&t===o.After?e.insert(n[t](),i):e.insert(r[t](),i)},m=function(e,t){return function(n){var r=n.doc.type.schema.nodes,i=[r.rule,r.mediaSingle];if(e instanceof s.Fragment||!i.includes(e.type)||function(e){var t=e.doc.type.schema.nodes;return a.hasParentNodeOfType([t.orderedList,t.bulletList])(e.selection)}(n))return null;if(!n.selection.empty||a.isNodeSelection(n.selection))return null;var c,l=n.selection.$from,d=t?n.doc.resolve(t):a.isNodeSelection(n.selection)?n.doc.resolve(l.pos+1):l,f=d.end(),m=d.start();if(u.isEmptyParagraph(d.parent)?p(d,n.doc)?c=o.After:h(d,n.doc)&&(c=o.Before):d.pos===f?c=o.After:d.pos===m&&(c=o.Before),!c)return null;if(u.isEmptyParagraph(d.parent)&&a.canInsert(n.doc.resolve(d[c]()),e))return v(n.replaceWith(d.before(),d.after(),e),-1);for(var b,y,E=d;E.depth>0;){var x=n.doc.resolve(E[c]()),k=x.node();if(a.canInsert(E,e))return v(n.insert(E.pos,e),e.nodeSize);if(b=k.type,[(y=n.doc.type.schema.nodes).bulletList,y.orderedList,y.panel].includes(b))return v(g(n,c,x,E,e),e.nodeSize);E=x}return v(n.insert(E.pos,e),e.nodeSize)}},v=function(e,t){var n=e.steps[e.steps.length-1];if(!(n instanceof l.ReplaceStep||n instanceof l.ReplaceAroundStep))return null;var r=n.to+n.slice.openStart+t;return e.setSelection(new d.GapCursorSelection(e.doc.resolve(r),d.Side.RIGHT)).scrollIntoView()},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r,o){if(!e)return r;var i,l=e instanceof s.Fragment;try{i=e instanceof s.Node||l?e:"string"==typeof e?n.schema.text(e):s.Node.fromJSON(n.schema,e)}catch(e){return console.error(e),r}if(i.isText)r=r.replaceWith(o,o,i);else if(i.isBlock)r=a.safeInsert(f.normaliseNestedLayout(n,i),void 0,!0)(r);else if(i.isInline||l){var u=l?i:s.Fragment.fromArray([i,n.schema.text(" ")]);if(r=r.replaceWith(o,o,u),f.isChromeWithSelectionBug){var d=document.getSelection();d&&d.empty()}r=t.selectInlineNode?r.setSelection(c.NodeSelection.create(r.doc,o)):r.setSelection(c.Selection.near(r.doc.resolve(o+u.size)))}return r}}})),r.register("xMGOe",(function(e,n){t(e.exports,"openHelpCommand",(function(){return i})),t(e.exports,"closeHelpCommand",(function(){return a}));var o=r("a8GCc"),i=function(e,t){return e=e.setMeta(o.pluginKey,!0),!!t&&(t(e),!0)},a=function(e,t){t(e=e.setMeta(o.pluginKey,!1))}})),r.register("a8GCc",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("helpDialogPlugin")})),r.register("68pEp",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("k05eF"),i=r("llERs"),a=function(){return{name:"imageUpload",pmPlugins:function(){return[{name:"imageUpload",plugin:o.createPlugin},{name:"imageUploadInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return i.default(t,n)}}]}}}})),r.register("k05eF",(function(n,o){t(n.exports,"createPlugin",(function(){return v}));var i=r("9ePZF"),a=r("cNgp7"),s=r("l15hj"),c=r("eBSbE"),l=r("5QFvk"),u=r("9yPnR"),d=r("k7RDF"),f=r("8hDHq"),p=r("fky0t");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=function(e,t){return function(t,n){return!!e(n)&&(n.preventDefault(),n.stopPropagation(),f.startImageUpload(n)(t.state,t.dispatch),!0)}},v=function(t){var n,r=t.dispatch,o=t.providerFactory;return new c.Plugin({state:{init:function(e,t){return{active:!1,enabled:d.canInsertMedia(t),hidden:!t.schema.nodes.media||!t.schema.nodes.mediaSingle}},apply:function(e,t,n,o){var i=d.isMediaSelected(o),a=d.canInsertMedia(o),s=function(e,t){var n=e.getMeta(p.stateKey);return n&&"START_UPLOAD"===n.name?{event:n.event}:t.activeUpload}(e,t);if(i!==t.active||a!==t.enabled||s!==t.activeUpload){var c=g(g({},t),{},{active:i,enabled:a,activeUpload:s});return r(p.stateKey,c),c}return t}},key:p.stateKey,view:function(){var t=function(){var t=e(a)(e(i).mark((function t(r,o){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("imageUploadProvider"===r&&o){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,o;case 5:n=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),n=void 0;case 11:case"end":return e.stop()}}),t,null,[[2,8]])})));return function(e,n){return t.apply(this,arguments)}}();return o.subscribe("imageUploadProvider",t),{update:function(e,t){var r=e.state,o=p.stateKey.getState(r),i=p.stateKey.getState(t);o.activeUpload!==i.activeUpload&&o.activeUpload&&n&&n(o.activeUpload.event,(function(t){return f.insertExternalImage(t)(e.state,e.dispatch)}))},destroy:function(){o.unsubscribe("imageUploadProvider",t)}}},props:{handleDOMEvents:{drop:m(u.isDroppedFile),paste:m(l.isPastedFile)}}})}})),r.register("5QFvk",(function(n,o){t(n.exports,"isPastedFile",(function(){return s})),t(n.exports,"copyToClipboard",(function(){return c}));var i=r("9ePZF"),a=r("cNgp7");function s(e){var t,n,r,o=e.clipboardData;return!!o&&(t=o.types,n="Files",!(r=t).indexOf&&r.contains?t.contains(n):t.indexOf(n)>-1)}var c=function(){var t=e(a)(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!navigator.clipboard||"function"!=typeof navigator.clipboard.writeText){e.next=11;break}return e.prev=1,e.next=4,navigator.clipboard.writeText(n);case 4:e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(1),new Error("Clipboard api is not supported");case 9:case 20:e.next=23;break;case 11:if(!window.clipboardData||"function"!=typeof window.clipboardData.setData){e.next=22;break}return e.prev=12,e.next=15,window.clipboardData.setData("text",n);case 15:e.next=20;break;case 17:throw e.prev=17,e.t1=e.catch(12),new Error("IE clipboard api is not supported");case 22:throw new Error("Clipboard api is not supported");case 23:case"end":return e.stop()}}),t,null,[[1,6],[12,17]])})));return function(e){return t.apply(this,arguments)}}()})),r.register("9yPnR",(function(e,n){function r(e){var t=e;return!!t.dataTransfer&&-1!==Array.prototype.slice.call(t.dataTransfer.types).indexOf("Files")}t(e.exports,"isDroppedFile",(function(){return r}))})),r.register("k7RDF",(function(e,n){t(e.exports,"isMediaSelected",(function(){return i})),t(e.exports,"canInsertMedia",(function(){return a})),t(e.exports,"createExternalMediaNode",(function(){return s}));var o=r("eBSbE"),i=function(e){var t=e.schema.nodes.media;return e.selection instanceof o.NodeSelection&&e.selection.node.type===t},a=function(e){var t=e.schema.nodes.mediaSingle,n=e.selection.$to;if(t)for(var r=n.depth;r>=0;r--){var o=n.index(r);if(n.node(r).canReplaceWith(o,o,t))return!0}return!1},s=function(e,t){var n=t.nodes,r=n.media,o=n.mediaSingle;if(!r||!o)return null;var i=r.createChecked({type:"external",url:e});return o.createChecked({},i)}})),r.register("8hDHq",(function(e,n){t(e.exports,"insertExternalImage",(function(){return c})),t(e.exports,"startImageUpload",(function(){return l}));var o=r("iFBc4"),i=r("k7RDF"),a=r("cN5Jc"),s=r("fky0t"),c=function(e){return function(t,n){if(!s.stateKey.getState(t).enabled||!e.src)return!1;var r=i.createExternalMediaNode(e.src,t.schema);return!!r&&(n&&n(o.safeInsert(r,t.selection.$to.pos)(t.tr).scrollIntoView()),!0)}},l=function(e){return function(t,n){return!!s.stateKey.getState(t).enabled&&(n&&n(a.startUpload(e)(t.tr)),!0)}}})),r.register("cN5Jc",(function(e,n){t(e.exports,"startUpload",(function(){return i}));var o=r("fky0t"),i=function(e){return function(t){return function(e,t){return e.setMeta(o.stateKey,t)}(t,{name:"START_UPLOAD",event:e})}}})),r.register("fky0t",(function(e,n){t(e.exports,"stateKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("imageUploadPlugin")})),r.register("llERs",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("cky9Z"),i=r("k7RDF");var a=function(e,t){if(e.nodes.media&&e.nodes.mediaSingle){var n=o.createRule(/!\[(.*)\]\((\S+)\)$/,(function(e,t,n,r){var o=e.schema,a={src:t[2],alt:t[1]},s=i.createExternalMediaNode(a.src,o);return s?e.tr.replaceWith(n,r,s):null}));return o.createPlugin("image-upload",[n],{useUnpredictableInputRule:t.useUnpredictableInputRule})}}})),r.register("iiCbN",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("61szk");r("igW5C");var a=r("MsgJD"),s=r("lkg3Z"),c=r("bjJNi"),l=r("l68vJ"),u=r("cZ8wF");r("lmGgt");var d=r("mRgdS");r("5cZja");var f=r("4JxMX"),p=r("j57Oe"),h=r("4s4wW"),g=r("gGH0p"),m=r("cSYwZ"),v=r("8hDHq");r("hVc61");var b=r("dm770");r("cTu5S");var y=r("9V1f8"),E=r("fky0t"),x=r("6dEHa"),k=r("e2Ipy"),C=r("gb8PD"),S=r("aWU3p"),T=function(e){switch(e){case S.ToolbarSize.XXL:case S.ToolbarSize.XL:case S.ToolbarSize.L:case S.ToolbarSize.M:return 7;case S.ToolbarSize.S:return 2;default:return 0}};function O(e){return m.insertBlockTypesWithAnalytics(e,y.INPUT_METHOD.TOOLBAR)}var w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"insertBlock",primaryToolbarComponent:function(n){var r=n.editorView,o=n.editorActions,m=n.dispatchAnalyticsEvent,y=n.providerFactory,w=n.popupsMountPoint,N=n.popupsBoundariesElement,P=n.popupsScrollableElement,A=n.toolbarSize,I=n.disabled,D=n.isToolbarReducedSpacing,R=n.isLastItem,M=T(A);return e(i).createElement(a.WithProviders,{providerFactory:y,providers:["emojiProvider"],renderNode:function(n){return e(i).createElement(h.default,{plugins:{typeAheadState:b.pluginKey,blockTypeState:s.pluginKey,mediaState:c.stateKey,mentionState:u.mentionPluginKey,macroState:C.pluginKey,hyperlinkState:l.stateKey,emojiState:p.emojiPluginKey,dateState:x.pluginKey,imageUpload:E.stateKey,placeholderTextState:k.pluginKey,layoutState:d.pluginKey},render:function(a){var s=a.typeAheadState,c=a.mentionState,l=a.blockTypeState,u=a.mediaState,d=a.macroState,p=void 0===d?{}:d,h=a.hyperlinkState,b=a.emojiState,y=a.dateState,E=a.imageUpload,x=a.placeholderTextState,k=a.layoutState;return e(i).createElement(g.default,{buttons:M,isReducedSpacing:D,isDisabled:I,isTypeAheadAllowed:s&&s.isAllowed,editorView:r,tableSupported:t.allowTables,actionSupported:!!r.state.schema.nodes.taskItem,mentionsSupported:!(!c||!c.mentionProvider),decisionSupported:!!r.state.schema.nodes.decisionItem,dateEnabled:!!y,placeholderTextEnabled:x&&x.allowInserting,layoutSectionEnabled:!!k,expandEnabled:!!t.allowExpand,mediaUploadsEnabled:u&&u.allowsUploads,onShowMediaPicker:u&&u.showMediaPicker,mediaSupported:!!u,imageUploadSupported:!!E,imageUploadEnabled:E&&E.enabled,handleImageUpload:v.startImageUpload,availableWrapperBlockTypes:l&&l.availableWrapperBlockTypes,linkSupported:!!h,linkDisabled:!h||!h.canInsertLink||!!h.activeLinkMark,emojiDisabled:!b||!b.emojiProvider,emojiProvider:n.emojiProvider,nativeStatusSupported:t.nativeStatusSupported,horizontalRuleEnabled:t.horizontalRuleEnabled,onInsertBlockType:O,onInsertMacroFromMacroBrowser:f.insertMacroFromMacroBrowser,macroProvider:p.macroProvider,popupsMountPoint:w,popupsBoundariesElement:N,popupsScrollableElement:P,insertMenuItems:t.insertMenuItems,editorActions:o,dispatchAnalyticsEvent:m,replacePlusMenuWithElementBrowser:t.replacePlusMenuWithElementBrowser,showElementBrowserLink:t.showElementBrowserLink,showSeparator:!R&&A<=S.ToolbarSize.S,allowLocalIdGenerationOnTables:t.allowLocalIdGenerationOnTables})}})}})}}}})),r.register("lkg3Z",(function(n,o){t(n.exports,"pluginKey",(function(){return b})),t(n.exports,"createPlugin",(function(){return y}));var i=r("l15hj"),a=r("eBSbE");r("igW5C");var s=r("4W5Y2"),c=r("gVL0U"),l=r("9J8af"),u=r("cSYwZ");r("cTu5S");var d=r("9V1f8"),f=r("jrrKO");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(e,t){switch(e){case c.NORMAL_TEXT:return!!t.schema.nodes.paragraph;case c.HEADING_1:case c.HEADING_2:case c.HEADING_3:case c.HEADING_4:case c.HEADING_5:case c.HEADING_6:return!!t.schema.nodes.heading;case c.BLOCK_QUOTE:return!!t.schema.nodes.blockquote;case c.CODE_BLOCK:return!!t.schema.nodes.codeBlock;case c.PANEL:return!!t.schema.nodes.panel}},m=function(e,t){if(!t.selection)return c.NORMAL_TEXT;var n,r=t.selection,o=r.$from,i=r.$to;return t.doc.nodesBetween(o.pos,i.pos,(function(r){var o=e.filter((function(e){return e===function(e,t){if(e.type===t.nodes.heading){var n=c.HEADINGS_BY_LEVEL[e.attrs.level];if(n)return n}else if(e.type===t.nodes.paragraph)return c.NORMAL_TEXT;return c.OTHER}(r,t.schema)}));o.length>0&&(n?n!==c.OTHER&&n!==o[0]&&(n=c.OTHER):n=o[0])})),n||c.OTHER},v=function(e,t){return 0===e?u.setNormalTextWithAnalytics(d.INPUT_METHOD.FORMATTING)(t.state,t.dispatch):u.setHeadingWithAnalytics(e,d.INPUT_METHOD.FORMATTING)(t.state,t.dispatch),!0},b=new a.PluginKey("blockTypePlugin"),y=function(e,t){var n=0;return new a.Plugin({appendTransaction:function(e,n,r){if(t){var o=r.doc.resolve(r.doc.content.size-1).node(1),i=r.schema.nodes.paragraph;if(o&&o.isBlock&&o.type!==i)return r.tr.insert(r.doc.content.size,r.schema.nodes.paragraph.create()).setMeta("addToHistory",!1)}},state:{init:function(e,t){var n=c.TEXT_BLOCK_TYPES.filter((function(e){return g(e,t)})),r=c.WRAPPER_BLOCK_TYPES.filter((function(e){return g(e,t)}));return{currentBlockType:m(n,t),blockTypesDisabled:l.areBlockTypesDisabled(t),availableBlockTypes:n,availableWrapperBlockTypes:r}},apply:function(t,n,r,o){var i=h(h({},n),{},{currentBlockType:m(n.availableBlockTypes,o),blockTypesDisabled:l.areBlockTypesDisabled(o)});return i.currentBlockType===n.currentBlockType&&i.blockTypesDisabled===n.blockTypesDisabled||e(b,i),i}},key:b,props:{handleKeyDown:function(e,t){var r=f.HEADING_KEYS.indexOf(t.keyCode);if(r>-1&&t.altKey){if(s.default.mac&&t.metaKey)return v(r,e);if(!s.default.mac&&t.ctrlKey&&n!==t.DOM_KEY_LOCATION_RIGHT)return v(r,e)}else"Alt"===t.key?n=t.location:t.altKey||(n=0);return!1}}})}})),r.register("gVL0U",(function(e,n){t(e.exports,"NORMAL_TEXT",(function(){return i})),t(e.exports,"HEADING_1",(function(){return a})),t(e.exports,"HEADING_2",(function(){return s})),t(e.exports,"HEADING_3",(function(){return c})),t(e.exports,"HEADING_4",(function(){return l})),t(e.exports,"HEADING_5",(function(){return u})),t(e.exports,"HEADING_6",(function(){return d})),t(e.exports,"BLOCK_QUOTE",(function(){return f})),t(e.exports,"CODE_BLOCK",(function(){return p})),t(e.exports,"PANEL",(function(){return h})),t(e.exports,"OTHER",(function(){return g})),t(e.exports,"TEXT_BLOCK_TYPES",(function(){return m})),t(e.exports,"WRAPPER_BLOCK_TYPES",(function(){return v})),t(e.exports,"HEADINGS_BY_LEVEL",(function(){return b})),t(e.exports,"HEADINGS_BY_NAME",(function(){return y}));var o=r("cZJAh"),i={name:"normal",title:o.messages.normal,nodeName:"paragraph",tagName:"p"},a={name:"heading1",title:o.messages.heading1,nodeName:"heading",tagName:"h1",level:1},s={name:"heading2",title:o.messages.heading2,nodeName:"heading",tagName:"h2",level:2},c={name:"heading3",title:o.messages.heading3,nodeName:"heading",tagName:"h3",level:3},l={name:"heading4",title:o.messages.heading4,nodeName:"heading",tagName:"h4",level:4},u={name:"heading5",title:o.messages.heading5,nodeName:"heading",tagName:"h5",level:5},d={name:"heading6",title:o.messages.heading6,nodeName:"heading",tagName:"h6",level:6},f={name:"blockquote",title:o.messages.blockquote,nodeName:"blockquote"},p={name:"codeblock",title:o.messages.codeblock,nodeName:"codeBlock"},h={name:"panel",title:o.messages.infoPanel,nodeName:"panel"},g={name:"other",title:o.messages.other,nodeName:""},m=[i,a,s,c,l,u,d],v=[f,p,h],b=(m.concat(v),m.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.level]=t),e}),{})),y=m.reduce((function(e,t){return t.level&&"heading"===t.nodeName&&(e[t.name]=t),e}),{})})),r.register("cZJAh",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({normal:{id:"fabric.editor.normal",defaultMessage:"Normal text",description:"This is the default text style"},heading1:{id:"fabric.editor.heading1",defaultMessage:"Heading 1",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading1Description:{id:"fabric.editor.heading1Description",defaultMessage:"Use this for a top level heading",description:"Description of the main heading, heading 1"},heading2:{id:"fabric.editor.heading2",defaultMessage:"Heading 2",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading2Description:{id:"fabric.editor.heading2Description",defaultMessage:"Use this for key sections",description:"Description of a subtitle heading or secondary heading"},heading3:{id:"fabric.editor.heading3",defaultMessage:"Heading 3",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading3Description:{id:"fabric.editor.heading3Description",defaultMessage:"Use this for sub sections and group headings",description:""},heading4:{id:"fabric.editor.heading4",defaultMessage:"Heading 4",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading4Description:{id:"fabric.editor.heading4Description",defaultMessage:"Use this for deep headings",description:""},heading5:{id:"fabric.editor.heading5",defaultMessage:"Heading 5",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading5Description:{id:"fabric.editor.heading5Description",defaultMessage:"Use this for grouping list items",description:""},heading6:{id:"fabric.editor.heading6",defaultMessage:"Heading 6",description:"Used for the title of a section of your document, headings run from 1 (largest size) to 6 (smallest size)"},heading6Description:{id:"fabric.editor.heading6Description",defaultMessage:"Use this for low level headings",description:""},blockquote:{id:"fabric.editor.blockquote2",defaultMessage:"Quote",description:"Quote some text"},blockquoteDescription:{id:"fabric.editor.blockquote.description",defaultMessage:"Insert a quote or citation",description:"Quote some text"},codeblock:{id:"fabric.editor.codeblock",defaultMessage:"Code snippet",description:"Insert a snippet/segment of code (code block)"},codeblockDescription:{id:"fabric.editor.codeblock.description",defaultMessage:"Display code with syntax highlighting",description:"Insert a snippet/segment of code (code block)"},infoPanel:{id:"fabric.editor.infoPanel",defaultMessage:"Info panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},infoPanelDescription:{id:"fabric.editor.infoPanel.description",defaultMessage:"Highlight information in a colored panel",description:"Visually distinguishes your text by adding a background colour (blue, purple, yellow, green, red)"},notePanel:{id:"fabric.editor.notePanel",defaultMessage:"Note panel",description:"Visually distinguishes your text by adding a note panel"},notePanelDescription:{id:"fabric.editor.notePanel.description",defaultMessage:"Add a note in a colored panel",description:"Visually distinguishes your text by adding a note panel"},successPanel:{id:"fabric.editor.successPanel",defaultMessage:"Success panel",description:"Visually distinguishes your text by adding a success panel"},successPanelDescription:{id:"fabric.editor.successPanel.description",defaultMessage:"Add tips in a colored panel",description:"Visually distinguishes your text by adding a success panel"},warningPanel:{id:"fabric.editor.warningPanel",defaultMessage:"Warning panel",description:"Visually distinguishes your text by adding a warning panel"},warningPanelDescription:{id:"fabric.editor.warningPanel.description",defaultMessage:"Add a note of caution in a colored panel",description:"Visually distinguishes your text by adding a warning panel"},errorPanel:{id:"fabric.editor.errorPanel",defaultMessage:"Error panel",description:"Visually distinguishes your text by adding a error panel"},errorPanelDescription:{id:"fabric.editor.errorPanel.description",defaultMessage:"Call out errors in a colored panel",description:"Visually distinguishes your text by adding a error panel"},other:{id:"fabric.editor.other",defaultMessage:"Others...",description:"Other text formatting"}})})),r.register("cSYwZ",(function(e,n){t(e.exports,"setBlockTypeWithAnalytics",(function(){return h})),t(e.exports,"setNormalTextWithAnalytics",(function(){return m})),t(e.exports,"setHeadingWithAnalytics",(function(){return b})),t(e.exports,"insertBlockTypesWithAnalytics",(function(){return E})),t(e.exports,"cleanUpAtTheStartOfDocument",(function(){return k}));var o=r("eBSbE"),i=r("6sW8E"),a=r("gVL0U"),s=r("4MrvE");r("cTu5S");var c=r("hNVBR"),l=r("9V1f8"),u=r("9J8af"),d=r("ekJGA");function f(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(n,r){var o=n.schema.nodes;if(e===a.NORMAL_TEXT.name&&o.paragraph)return m(t)(n,r);var i=a.HEADINGS_BY_NAME[e];return!!(i&&o.heading&&i.level)&&b(i.level,t)(n,r)}}function g(e){return function(t,n,r){var o,i,a=t.schema.nodes,s=a.heading,c=a.paragraph,l=u.filterChildrenBetween(t.doc,t.selection.from,t.selection.to,(function(e){return e.type===s||e.type===c})),d=f(l);try{for(d.s();!(i=d.n()).done;){var p=i.value,h=p.node.type===s?p.node.attrs.level:0;if(o){if(h!==o){o=void 0;break}}else o=h}}catch(e){d.e(e)}finally{d.f()}return e(o)(t,n,r)}}function m(e){return g((function(t){return c.withAnalytics({action:l.ACTION.FORMATTED,actionSubject:l.ACTION_SUBJECT.TEXT,eventType:l.EVENT_TYPE.TRACK,actionSubjectId:l.ACTION_SUBJECT_ID.FORMAT_HEADING,attributes:{inputMethod:e,newHeadingLevel:0,previousHeadingLevel:t}})((function(e,t){var n=e.tr,r=e.selection,o=r.$from,i=r.$to,a=e.schema;return t&&t(n.setBlockType(o.pos,i.pos,a.nodes.paragraph)),!0}))}))}function v(e){return function(t,n){var r=t.tr,o=t.selection,i=o.$from,a=o.$to,s=t.schema;return n&&n(r.setBlockType(i.pos,a.pos,s.nodes.heading,{level:e})),!0}}var b=function(e,t){return g((function(n){return c.withAnalytics({action:l.ACTION.FORMATTED,actionSubject:l.ACTION_SUBJECT.TEXT,eventType:l.EVENT_TYPE.TRACK,actionSubjectId:l.ACTION_SUBJECT_ID.FORMAT_HEADING,attributes:{inputMethod:t,newHeadingLevel:e,previousHeadingLevel:n}})(v(e))}))};function y(e){return function(t,n){var r=t.schema.nodes;switch(e){case a.BLOCK_QUOTE.name:if(r.paragraph&&r.blockquote)return x(r.blockquote)(t,n);break;case a.CODE_BLOCK.name:if(r.codeBlock)return function(e,t){var n=e.tr,r=e.selection.$to,i=e.schema.nodes.codeBlock,a=e.doc.nodeAt(r.pos+1),s=a&&a.isText?0:1;return n.replaceRangeWith(r.pos+s,r.pos+s,i.createAndFill()),n.setSelection(o.Selection.near(n.doc.resolve(e.selection.to+s))),t&&t(n),!0}(t,n);break;case a.PANEL.name:if(r.panel&&r.paragraph)return x(r.panel)(t,n)}return!1}}var E=function(e,t){switch(e){case a.BLOCK_QUOTE.name:return c.withAnalytics({action:l.ACTION.FORMATTED,actionSubject:l.ACTION_SUBJECT.TEXT,eventType:l.EVENT_TYPE.TRACK,actionSubjectId:l.ACTION_SUBJECT_ID.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:t}})(y(e));case a.CODE_BLOCK.name:return c.withAnalytics({action:l.ACTION.INSERTED,actionSubject:l.ACTION_SUBJECT.DOCUMENT,actionSubjectId:l.ACTION_SUBJECT_ID.CODE_BLOCK,attributes:{inputMethod:t},eventType:l.EVENT_TYPE.TRACK})(y(e));case a.PANEL.name:return c.withAnalytics({action:l.ACTION.INSERTED,actionSubject:l.ACTION_SUBJECT.DOCUMENT,actionSubjectId:l.ACTION_SUBJECT_ID.PANEL,attributes:{inputMethod:t,panelType:d.PanelType.INFO},eventType:l.EVENT_TYPE.TRACK})(y(e));default:return y(e)}};function x(e){return function(t,n){var r=t.tr,a=t.selection,c=a.$from,l=a.$to,u=t.schema.nodes.paragraph,d=t.schema.marks,f=d.alignment,p=d.indentation;r=s.removeBlockMarks(t,[f,p])||r;var h=c.blockRange(l),g=h&&i.findWrapping(h,e);return h&&g?r.wrap(h,g).scrollIntoView():(r.replaceRangeWith(l.pos+1,l.pos+1,e.createAndFill({},u.create())),r.setSelection(o.Selection.near(r.doc.resolve(t.selection.to+1)))),n&&n(r),!0}}var k=function(e,t){var n=e.selection.$cursor;if(n&&!n.nodeBefore&&!n.nodeAfter&&1===n.pos){var r=e.tr,o=e.schema.nodes.paragraph,i=n.parent;return r.setNodeMarkup(0,o,i.attrs,[]),t&&t(r),!0}return!1}})),r.register("l68vJ",(function(n,o){t(n.exports,"LinkAction",(function(){return i})),t(n.exports,"InsertStatus",(function(){return s})),t(n.exports,"canLinkBeCreatedInRange",(function(){return g})),t(n.exports,"stateKey",(function(){return E})),t(n.exports,"plugin",(function(){return x}));var i,a,s,c,l=r("l15hj"),u=r("eBSbE"),d=r("fjLyd"),f=r("9J8af");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(l)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(a=i||(i={})).SHOW_INSERT_TOOLBAR="SHOW_INSERT_TOOLBAR",a.HIDE_TOOLBAR="HIDE_TOOLBAR",a.SELECTION_CHANGE="SELECTION_CHANGE",a.INSERT_LINK_TOOLBAR="INSERT",a.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED_TOOLBAR",(c=s||(s={})).EDIT_LINK_TOOLBAR="EDIT",c.INSERT_LINK_TOOLBAR="INSERT",c.EDIT_INSERTED_TOOLBAR="EDIT_INSERTED";var g=function(e,t){return function(n){if(!n.doc.rangeHasMark(e,t,n.schema.marks.link)){var r=n.doc.resolve(e),o=n.doc.resolve(t),i=n.schema.marks.link;if(r.parent===o.parent&&r.parent.isTextblock&&r.parent.type.allowsMarkType(i)){var a=!0;return n.doc.nodesBetween(e,t,(function(e){return a=a&&!e.marks.some((function(e){return e.type.excludes(i)}))})),a}}return!1}},m=function(e,t){if(e){if(e.type===s.EDIT_LINK_TOOLBAR||e.type===s.EDIT_INSERTED_TOOLBAR){var n=t.mapping.mapResult(e.pos,1),r=n.pos,o=n.deleted,i=t.doc.nodeAt(r);return!o&&i.type.schema.marks.link.isInSet(i.marks)?i===e.node&&r===e.pos?e:h(h({},e),{},{pos:r,node:i}):void 0}return e.type===s.INSERT_LINK_TOOLBAR?h(h({},e),{},{from:t.mapping.map(e.from),to:t.mapping.map(e.to)}):void 0}},v=function(e,t,n){if(!e)switch(t){case i.SHOW_INSERT_TOOLBAR:var r=n.selection,o=r.from,a=r.to;return g(o,a)(n)?{type:s.INSERT_LINK_TOOLBAR,from:o,to:a}:void 0;case i.SELECTION_CHANGE:var c=b(n);return c?h(h({},c),{},{type:s.EDIT_LINK_TOOLBAR}):void 0;default:return}if(e.type===s.EDIT_LINK_TOOLBAR)switch(t){case i.EDIT_INSERTED_TOOLBAR:var l=b(n);return l?l.pos===e.pos&&l.node===e.node?h(h({},e),{},{type:s.EDIT_INSERTED_TOOLBAR}):h(h({},l),{},{type:s.EDIT_INSERTED_TOOLBAR}):void 0;case i.SELECTION_CHANGE:var u=b(n);return u?u.pos===e.pos&&u.node===e.node?e:h(h({},u),{},{type:s.EDIT_LINK_TOOLBAR}):void 0;case i.HIDE_TOOLBAR:return;default:return e}if(e.type===s.INSERT_LINK_TOOLBAR)switch(t){case i.SELECTION_CHANGE:case i.HIDE_TOOLBAR:return;default:return e}},b=function(e){var t=e.selection.$from;if(function(e){return!!e.doc.type.schema.marks.link.isInSet(e.selection.$from.marks())}(e)||function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.nodeAfter;return!!o&&0===n.textOffset&&r.pos-n.pos===o.nodeSize&&!!e.doc.type.schema.marks.link.isInSet(o.marks)}(e)){var n=t.pos-t.textOffset,r=e.doc.nodeAt(n);return r&&r.isText?{node:r,pos:n}:void 0}},y=function(e){var t=e.content();if(0!==t.size)return 1===t.content.childCount&&t.content.firstChild&&e instanceof u.TextSelection?t.content.firstChild.textContent:void 0},E=new u.PluginKey("hyperlinkPlugin"),x=function(t){return new u.Plugin({state:{init:function(e,t){var n=g(t.selection.from,t.selection.to)(t);return{activeText:y(t.selection),canInsertLink:n,timesViewed:0,activeLinkMark:v(void 0,i.SELECTION_CHANGE,t)}},apply:function(n,r,o,a){var s=r,c=n.getMeta(E)&&n.getMeta(E).type,l=n.getMeta(E)&&n.getMeta(E).inputMethod;if(n.docChanged&&(s={activeText:s.activeText,canInsertLink:g(a.selection.from,a.selection.to)(a),timesViewed:s.timesViewed,inputMethod:l,activeLinkMark:m(s.activeLinkMark,n)}),c){var u=[i.SHOW_INSERT_TOOLBAR,i.EDIT_INSERTED_TOOLBAR].includes(c)?{timesViewed:++s.timesViewed,searchSessionId:e(d)()}:{timesViewed:s.timesViewed,searchSessionId:s.searchSessionId};s=h({activeText:s.activeText,canInsertLink:s.canInsertLink,inputMethod:l,activeLinkMark:v(s.activeLinkMark,c,a)},u)}return n.selectionSet&&(s={activeText:y(a.selection),canInsertLink:g(a.selection.from,a.selection.to)(a),activeLinkMark:v(s.activeLinkMark,i.SELECTION_CHANGE,a),timesViewed:s.timesViewed,searchSessionId:s.searchSessionId,inputMethod:l}),f.shallowEqual(s,r)||t(E,s),s}},key:E})}})),r.register("cZ8wF",(function(n,o){t(n.exports,"mentionPluginKey",(function(){return K})),t(n.exports,"default",(function(){return F}));var i=r("fw3Q6"),a=r("l15hj"),s=r("61szk"),c=r("fjLyd"),l=r("jWbqG"),u=r("eBSbE"),d=r("4ZjJ9");r("g8A1U");var f=r("gQbt4"),p=r("tpWeJ"),h=r("1OvM8");r("2Pcvs");var g=r("gU3fS"),m=r("5HNOt");r("huf5p");var v=r("75uva"),b=r("ekJGA"),y=r("4s4wW");r("hVc61");var E=r("dm770"),x=r("hVc61"),k=r("e5DfG"),C=r("7HexO"),S=r("3oI1T"),T=r("c1fBh");r("cTu5S");var O=r("hNVBR"),w=r("9V1f8"),N=r("cTu5S"),P=r("lR7p7"),A=r("iIrvw"),I=r("6UBHG"),D=r("46vX8");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?R(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var _=[];var j,B,L=(j=function(t){return{title:t.id,render:function(n){var r=n.isSelected,o=n.onClick,i=n.onHover;return e(s).createElement(v.default,{mention:t,selected:r,onMouseEnter:i,onSelection:o})},mention:t}},{call:function(e){var t=B.get(e.id);if(t)return t;var n=j(e);return B.set(e.id,n),n},clear:(B=new Map).clear.bind(B)}),F=function(t){var n=e(c)(),r=function(e){t&&t.createAnalyticsEvent&&(e.attributes&&!e.attributes.sessionId&&(e.attributes.sessionId=n),t.createAnalyticsEvent(e).fire(f.ELEMENTS_CHANNEL))},o=!1,a="",v=e(d)(r,200);return{name:"mention",nodes:function(){return[{name:"mention",node:b.mention}]},pmPlugins:function(){return[{name:"mention",plugin:function(e){var n=e.providerFactory;return function(e,t,n,r,o,i){var a,s=function(e,t,n,r){e!==h.SLI_EVENT_TYPE&&e!==h.SMART_EVENT_TYPE||o(h.buildSliPayload(t,n,r))};return new u.Plugin({key:K,state:{init:function(){return{}},apply:function(t,n){var r=t.getMeta(K)||{action:null,params:null},o=r.action,i=r.params,a=n;switch(o){case z:return a=M(M({},n),{},{mentionProvider:i.provider}),e(K,a),a;case W:return a=M(M({},n),{},{mentions:i.results}),e(K,a),a;case U:return a=M(M({},n),{},{contextIdentifierProvider:i.context}),e(K,a),a}return a}},props:{nodeViews:{mention:S.default(n,r,t,i)}},view:function(e){var n=function(t,n){switch(t){case"mentionProvider":if(!n)return H(void 0)(e.state,e.dispatch);n.then((function(t){a&&a.unsubscribe("mentionPlugin"),a=t,H(t)(e.state,e.dispatch),t.subscribe("mentionPlugin",(function(t,n,r){var i;(i=t,function(e,t){return t&&t(e.tr.setMeta(K,{action:W,params:{results:i}})),!0})(e.state,e.dispatch);var a=0,s=null,c=null;P.isTeamStats(r)?(a=r&&r.teamMentionDuration,s=null,c=t.map((function(e){return P.isTeamType(e.userType)?{teamId:e.id,includesYou:e.context.includesYou,memberCount:e.context.memberCount}:null})).filter((function(e){return!!e}))):(a=r&&r.duration,c=null,s=t.map((function(e){return e.id})));var l=T.buildTypeAheadRenderedPayload(a,s,n||"",c);o(l)}),void 0,void 0,void 0,s)})).catch((function(){return H(void 0)(e.state,e.dispatch)}));break;case"contextIdentifierProvider":if(!n)return V(void 0)(e.state,e.dispatch);n.then((function(t){V(t)(e.state,e.dispatch)}))}};return t.subscribe("mentionProvider",n),t.subscribe("contextIdentifierProvider",n),{destroy:function(){t&&(t.unsubscribe("mentionProvider",n),t.unsubscribe("contextIdentifierProvider",n)),a&&a.unsubscribe("mentionPlugin")}}}})}(e.dispatch,n,e.portalProviderAPI,e.eventDispatcher,r,t)}}]},secondaryToolbarComponent:function(t){var n=t.editorView,r=t.disabled;return e(s).createElement(y.default,{editorView:n,plugins:{typeAheadState:E.pluginKey,mentionState:K},render:function(t){var o=t.typeAheadState,i=void 0===o?x.createInitialPluginState():o,a=t.mentionState;return(void 0===a?{}:a).mentionProvider?e(s).createElement(C.default,{editorView:n,isDisabled:r||!i.isAllowed}):null}})},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"mention",title:n(I.messages.mention),description:n(I.messages.mentionDescription),keywords:["team","user"],priority:400,keyshortcut:"@",icon:function(){return e(s).createElement(A.IconMention,null)},action:function(e,t){var n=t.schema.mark("typeAheadQuery",{trigger:"@"}),r=e(t.schema.text("@",[n]));return O.addAnalytics(t,r,{action:w.ACTION.INVOKED,actionSubject:w.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:w.ACTION_SUBJECT_ID.TYPEAHEAD_MENTION,attributes:{inputMethod:w.INPUT_METHOD.QUICK_INSERT},eventType:w.EVENT_TYPE.UI})}}]},typeAhead:{trigger:"@",customRegex:"\\(?(@)",getHighlight:function(n){var r=null==t?void 0:t.HighlightComponent;if(r)return e(s).createElement(r,null);var o=G(n).mentionProvider;if(o){var i=o;if(J(i)&&i.mentionTypeaheadHighlightEnabled())return e(s).createElement(g.default,{createTeamLink:i.mentionTypeaheadCreateTeamPath(),onClose:function(){return m.default.registerClosed()}})}return null},getItems:function(t,c,l,u,d,f){var p=u.prevActive,h=u.queryChanged;p||!h||d.getMeta(N.analyticsPluginKey)||(L.clear(),f(D.analyticsEventKey,{payload:{action:w.ACTION.INVOKED,actionSubject:w.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:w.ACTION_SUBJECT_ID.TYPEAHEAD_MENTION,attributes:{inputMethod:w.INPUT_METHOD.KEYBOARD},eventType:w.EVENT_TYPE.UI}}));var g=G(c),m=!p&&h?_:g.mentions||_,b=M(M({},g.contextIdentifierProvider),{},{sessionId:n});h&&g.mentionProvider&&(o=!0,g.mentionProvider.filter(t||"",b));var y=m.map((function(e){return L.call(e)}));if(g.mentionProvider&&t&&m.length<=2){var E=g.mentionProvider,x=E.inviteExperimentCohort,C=E.shouldEnableInvite,S=E.userRole;if(o&&(v(T.buildTypeAheadInviteExposurePayload(!!C,n,g.contextIdentifierProvider,x,S)),o=!1),C)return""===a&&0===m.length&&(a=t),0!==m.length||q(t,a)?[].concat(e(i)(y),[{title:k.INVITE_ITEM_DESCRIPTION.id,render:function(t){var o=t.isSelected,i=t.onClick,a=t.onHover;return e(s).createElement(k.default,{productName:g.mentionProvider?g.mentionProvider.productName:void 0,selected:o,onMount:function(){r(T.buildTypeAheadInviteItemViewedPayload(n,g.contextIdentifierProvider,S))},onMouseEnter:a,onSelection:i,userRole:S})},mention:k.INVITE_ITEM_DESCRIPTION}]):y}return y},selectItem:function(o,i,s,u){var d=u.mode,f=t&&t.sanitizePrivateContent,h=t&&t.insertDisplayName,g=o.schema,v=G(o),b=v.mentionProvider,y=i.mention,x=y.id,k=y.name,C=y.nickname,S=y.accessLevel,O=y.userType,w=C&&C.startsWith("@")?C.slice(1):C,N=h||!w?k:w,A=E.pluginKey.getState(o),I=M(M({},v.contextIdentifierProvider),{},{sessionId:n});b&&!P.isInviteItem(i.mention)&&b.recordMentionSelection(i.mention,I);var D=A.queryStarted?Date.now()-A.queryStarted:0;if(b&&b.shouldEnableInvite&&P.isInviteItem(i.mention))return"space"!==d&&(r(T.buildTypeAheadInviteItemClickedPayload(D,A.upKeyCount,A.downKeyCount,n,d,A.query||"",v.contextIdentifierProvider,b.userRole)),b.onInviteItemClick&&b.onInviteItemClick("mention"),a=""),o.tr;if(r(T.buildTypeAheadInsertedPayload(D,A.upKeyCount,A.downKeyCount,n,d,i.mention,v.mentions,A.query||"",v.contextIdentifierProvider)),n=e(c)(),b&&P.isTeamType(O))return m.default.registerTeamMention(),s(function(e,t,n,r){var o=e.nodes,i=e.marks,a=t.name,s=t.id,c=t.accessLevel,u=t.context,d="".concat(window.location.origin,"/people/team/").concat(s),f=u&&u.teamLink?u.teamLink:d,h=e.text(a,[i.link.create({href:f})]),g=e.text("("),m=e.text(")"),v=e.text(" "),b=[h,v,g],y=u&&u.members?u.members:[];return y.forEach((function(e,t){var i=e.name,a=e.id,s="@".concat(i),l=r?"":s;r&&p.isResolvingMentionProvider(n)&&n.cacheMentionName(a,i);var u=o.mention.createChecked({text:l,id:e.id,accessLevel:c,userType:"DEFAULT"});b.push(u),t!==y.length-1&&b.push(v)})),b.push(m),l.Fragment.fromArray(b)}(g,i.mention,b,f));var R=f?"":"@".concat(N);return f&&p.isResolvingMentionProvider(b)&&b.cacheMentionName(x,N),s(g.nodes.mention.createChecked({text:R,id:x,accessLevel:S,userType:"DEFAULT"===O?null:O}))},dismiss:function(t){var o=G(t).mentionProvider;o&&o.shouldEnableInvite&&(a="");var i=E.pluginKey.getState(t),s=i.queryStarted?Date.now()-i.queryStarted:0;r(T.buildTypeAheadCancelPayload(s,i.upKeyCount,i.downKeyCount,n,i.query||"")),n=e(c)()}}}}},z="SET_PROVIDER",W="SET_RESULTS",U="SET_CONTEXT",H=function(e){return function(t,n){return n&&n(t.tr.setMeta(K,{action:z,params:{provider:e}})),!0}},V=function(e){return function(t,n){return n&&n(t.tr.setMeta(K,{action:U,params:{context:e}})),!0}},K=new u.PluginKey("mentionPlugin");function G(e){return K.getState(e)}var J=function(e){return!(!e.mentionTypeaheadHighlightEnabled||!e.mentionTypeaheadCreateTeamPath)},q=function(e,t){if(!t)return!0;var n=t.length-1,r=e.slice(n);return" "===e[n-1]&&(r=" "+r),!/\s[^\s]+\s/.test(r)}})),r.register("2Pcvs",(function(e,n){t(e.exports,"TeamMentionHighlight",(function(){return r("gU3fS").default})),t(e.exports,"TeamMentionHighlightController",(function(){return r("5HNOt").default}));r("gU3fS"),r("5HNOt")})),r.register("huf5p",(function(e,n){t(e.exports,"MentionItem",(function(){return r("75uva").default}));r("75uva")})),r.register("hVc61",(function(n,o){t(n.exports,"createInitialPluginState",(function(){return y})),t(n.exports,"createPlugin",(function(){return E})),t(n.exports,"pluginKey",(function(){return r("dm770").pluginKey})),t(n.exports,"ACTIONS",(function(){return r("ga0dY").ACTIONS}));var i=r("l15hj"),a=r("eBSbE"),s=r("9J8af"),c=r("d9nvS"),l=r("b2Drs"),u=r("gKyZx"),d=r("k3G8M"),f=r("2pXhj"),p=r("5nxkt"),h=r("hZcn0"),g=r("ga0dY"),m=r("dm770");m=r("dm770"),g=r("ga0dY");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function y(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return{isAllowed:t,active:!1,prevActiveState:e,query:null,trigger:null,typeAheadHandler:null,currentIndex:0,items:[],itemsLoader:null,queryMarkPos:null,queryStarted:0,upKeyCount:0,downKeyCount:0}}function E(e,t,n){return new a.Plugin({key:m.pluginKey,state:{init:function(){return y()},apply:function(r,o,i,a){var s=r.getMeta(m.pluginKey)||{},c=s.action,l=s.params;switch(c){case g.ACTIONS.SET_CURRENT_INDEX:return function(e){var t=e.dispatch,n=e.pluginState,r=e.params;if(!r)return n;var o=b(b({},n),{},{currentIndex:r.currentIndex||0===r.currentIndex?r.currentIndex:n.currentIndex});return t(m.pluginKey,o),o}({dispatch:e,pluginState:o,tr:r,params:l});case g.ACTIONS.SELECT_PREV:return function(e){var t=e.dispatch,n=e.pluginState,r=n.currentIndex-1,o=b(b({},n),{},{currentIndex:r<0?n.items.length-1:r,upKeyCount:++n.upKeyCount});return t(m.pluginKey,o),o}({dispatch:e,pluginState:o,tr:r});case g.ACTIONS.SELECT_NEXT:return function(e){var t=e.dispatch,n=e.pluginState,r=n.currentIndex+1,o=b(b({},n),{},{currentIndex:r>n.items.length-1?0:r,downKeyCount:++n.downKeyCount});return t(m.pluginKey,o),o}({dispatch:e,pluginState:o,tr:r});case g.ACTIONS.ITEMS_LIST_UPDATED:return function(e){var t=e.dispatch,n=e.pluginState,r=e.tr.getMeta(m.pluginKey).items,o=b(b({},n),{},{items:r,itemsLoader:null,currentIndex:0});return t(m.pluginKey,o),o}({dispatch:e,pluginState:o,tr:r});case g.ACTIONS.SELECT_CURRENT:var u=r.selection,d=u.from,f=u.to,p=a.schema.marks.typeAheadQuery;return r.doc.rangeHasMark(d-1,f,p)?x({dispatch:e,reactContext:t,typeAhead:n,state:a,pluginState:o,tr:r}):function(e){var t=e.dispatch,n=y(!1);return t(m.pluginKey,n),n}({dispatch:e,pluginState:o,tr:r});case g.ACTIONS.SET_QUERY:return function(e){var t=e.dispatch,n=e.pluginState,r=e.params;if(!r)return n;var o=b(b({},n),{},{query:"string"==typeof r.query?r.query:null});return t(m.pluginKey,o),o}({dispatch:e,pluginState:o,tr:r,params:l});default:return x({dispatch:e,reactContext:t,typeAhead:n,state:a,pluginState:o,tr:r})}}},view:function(){return{update:function(e){var t=m.pluginKey.getState(e.state);if(t){var n=e.state,r=e.dispatch,o=n.doc,i=n.selection,a=i.from,s=i.to,l=n.schema.marks.typeAheadQuery;!t.active||t.query||t.trigger?t.active&&0===(t.query||"").indexOf(" ")?c.dismissCommand()(n,r):t.active||!t.prevActiveState||o.rangeHasMark(a-1,s,l)?t.active&&t.itemsLoader&&t.itemsLoader.promise.then((function(t){return u.itemsListUpdated(t)(e.state,r)})):c.dismissCommand()(n,r):c.dismissCommand()(n,r)}}}},appendTransaction:function(e,t,n){var r=m.pluginKey.getState(n);if(r.active&&r.query&&r.typeAheadHandler&&r.typeAheadHandler.forceSelect){var o,i=r.items,a=r.typeAheadHandler.forceSelect(r.query,i);if(a)return d.selectByIndex(i.indexOf(a))(n,(function(e){return o=e})),o}return null},props:{handleDOMEvents:{input:function(e,t){var n=e.state,r=e.dispatch,o=n.selection,i=n.schema;return!!(o instanceof a.TextSelection&&o.$cursor&&i.marks.typeAheadQuery.isInSet(o.$cursor.marks()))&&(f.updateQueryCommand(t.data)(n,r),!1)},compositionend:function(e,t){var r=e.state,o=e.dispatch,i=r.selection,s=r.schema;return!(!(-1!==n.map((function(e){return e.trigger})).indexOf(t.data)&&i instanceof a.TextSelection&&i.$cursor)||s.marks.typeAheadQuery.isInSet(i.$cursor.marks()))&&(l.insertTypeAheadQuery(t.data,!0)(r,o),!0)}}}})}function x(e){var t=e.dispatch,n=e.reactContext,r=e.typeAhead,o=e.pluginState,i=e.state,a=e.tr,c=i.schema.marks.typeAheadQuery,l=i.doc,u=i.selection,d=u.from,f=u.to,g=h.isQueryActive(c,l,d-1,f),v=s.isMarkTypeAllowedInCurrentSelection(c,i);if(!v&&!g){if(o&&o.active===g&&o.isAllowed===v)return o;var E=y(o.active,v);return t(m.pluginKey,E),E}var x=u.$from.nodeBefore;if(!g||!x||!o){var k=y(!!o&&o.active);return o&&!o.active&&o.isAllowed||t(m.pluginKey,k),k}var C=c.isInSet(x.marks||[]);if(!C||!C.attrs.trigger)return o;var S=x.textContent||"",T=C.attrs.trigger.replace(/([^\x00-\xFF]|[\s\n])+/g,"");if(!S.includes(T)){var O=b(b({},y(!0)),{},{active:!0});return t(m.pluginKey,O),O}var w,N,P=S.replace(/^([^\x00-\xFF]|[\s\n])+/g,"").replace(T,""),A=r.find((function(e){return e.trigger===T})),I=[],D=null,R=null;try{var M=n().intl;I=A.getItems(P,i,M,{prevActive:o.prevActiveState,queryChanged:P!==o.query||T!==o.trigger},a,t),A.getHighlight&&(R=A.getHighlight(i)),o.itemsLoader&&o.itemsLoader.cancel(),Array.isArray(I)||(w=I,N=!1,D={promise:new Promise((function(e,t){w.then((function(t){return!N&&e(t)})).catch((function(e){return!N&&t(e)}))})),cancel:function(){N=!0}},I=o.items)}catch(e){}var _=p.findTypeAheadQuery(i),j={isAllowed:v,query:P,trigger:T,typeAheadHandler:A,active:!0,prevActiveState:o.active,items:I,itemsLoader:D,currentIndex:o.currentIndex,queryMarkPos:null!==_?_.start:null,queryStarted:Date.now(),upKeyCount:0,downKeyCount:0,highlight:R};return t(m.pluginKey,j),j}})),r.register("d9nvS",(function(e,n){t(e.exports,"dismissCommand",(function(){return a}));var o=r("dm770"),i=r("5nxkt"),a=function(){return function(e,t){var n=i.findTypeAheadQuery(e);if(null===n)return!1;var r=n.start,a=n.end,s=e.schema.marks.typeAheadQuery;if(-1===r)return!1;var c=o.pluginKey.getState(e).typeAheadHandler;return c&&c.dismiss&&c.dismiss(e),t&&t(e.tr.removeMark(r,a,s).removeStoredMark(s)),!0}}})),r.register("dm770",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("typeAheadPlugin")})),r.register("5nxkt",(function(e,n){function r(e){var t=e.doc,n=e.schema.marks.typeAheadQuery,r=e.selection;return function(e,t,n,r){var o={start:-1,end:-1};return t.nodesBetween(n,r,(function(t,n){-1===o.start&&e.isInSet(t.marks)&&(o={start:n,end:n+Math.max(t.textContent.length,1)})})),o}(n,t,r.from-1,r.to)}t(e.exports,"findTypeAheadQuery",(function(){return r}))})),r.register("b2Drs",(function(n,o){t(n.exports,"insertTypeAheadQuery",(function(){return c}));var i=r("fw3Q6"),a=r("eBSbE"),s=r("iFBc4");function c(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(r,o){if(!o)return!1;if(n){var c=r.tr,l=r.selection,u=l.$from.marks();return o(c.setSelection(a.TextSelection.create(c.doc,l.$from.pos-1,l.$from.pos)).replaceSelectionWith(r.doc.type.schema.text(t,[r.schema.marks.typeAheadQuery.create({trigger:t})].concat(e(i)(u))),!1)),!0}return o(s.safeInsert(r.schema.text(t,[r.schema.marks.typeAheadQuery.create({trigger:t})]))(r.tr)),!0}}})),r.register("gKyZx",(function(e,n){t(e.exports,"itemsListUpdated",(function(){return a}));var o=r("ga0dY"),i=r("dm770"),a=function(e){return function(t,n){return n&&n(t.tr.setMeta(i.pluginKey,{action:o.ACTIONS.ITEMS_LIST_UPDATED,items:e})),!0}}})),r.register("ga0dY",(function(e,n){t(e.exports,"ACTIONS",(function(){return r}));var r={SELECT_PREV:"SELECT_PREV",SELECT_NEXT:"SELECT_NEXT",SELECT_CURRENT:"SELECT_CURRENT",SET_CURRENT_INDEX:"SET_CURRENT_INDEX",SET_QUERY:"SET_QUERY",ITEMS_LIST_UPDATED:"ITEMS_LIST_UPDATED"}})),r.register("k3G8M",(function(e,n){t(e.exports,"selectCurrentItem",(function(){return d})),t(e.exports,"selectSingleItemOrDismiss",(function(){return f})),t(e.exports,"selectByIndex",(function(){return p}));var o=r("jWbqG"),i=r("eqcRs"),a=r("ga0dY"),s=r("dm770"),c=r("5nxkt"),l=r("lR7p7"),u=r("d9nvS"),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selected";return function(t,n){var r=s.pluginKey.getState(t),o=r.active,i=r.currentIndex,a=r.items,c=r.typeAheadHandler;return!(!o||!c)&&(c.selectItem&&a[i]?h(c,a[i],e)(t,n):m(t,(function(e,r){return g(e,r)(t,n)})))}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selected";return function(t,n){var r=s.pluginKey.getState(t),o=r.active,i=r.items,a=r.typeAheadHandler;return!!(o&&a&&a.selectItem)&&(1===i.length?h(a,i[0],e)(t,n):(i&&0!==i.length||u.dismissCommand()(t,n),!1))}},p=function(e){return function(t,n){var r=s.pluginKey.getState(t),o=r.active,i=r.items,a=r.typeAheadHandler;return!!(o&&a&&a.selectItem&&i[e])&&h(a,i[e])(t,n)}},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"selected";return function(r,c){return m(r,(function(u,d){var f=e.selectItem(r,t,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.tr;return n=n.setMeta(s.pluginKey,{action:a.ACTIONS.SELECT_CURRENT}).replaceWith(u,d,o.Fragment.empty),i.insertSelectedItem(e,t)(r,n,u)}),{mode:n});return l.isInviteItem(t.mention)?!("space"===n||!c)&&(c(r.tr.delete(u,d)),!0):!1===f?g(u,d)(r,c):(c&&c(f),!0)}))}},g=function(e,t){return function(n,r){var o=s.pluginKey.getState(n),i=o.query,a=o.trigger,c=n.schema.text(a+i);return r&&r(n.tr.replaceWith(e,t,c)),!0}},m=function(e,t){var n=c.findTypeAheadQuery(e);return!(!n||-1===n.start)&&t(n.start,n.end)}})),r.register("lR7p7",(function(e,n){t(e.exports,"isTeamType",(function(){return i})),t(e.exports,"isTeamStats",(function(){return a})),t(e.exports,"isInviteItem",(function(){return s}));var o=r("e5DfG"),i=function(e){return"TEAM"===e},a=function(e){return e&&!isNaN(e.teamMentionDuration)},s=function(e){return e&&e.id===o.INVITE_ITEM_DESCRIPTION.id}})),r.register("e5DfG",(function(n,o){t(n.exports,"INVITE_ITEM_DESCRIPTION",(function(){return f})),t(n.exports,"default",(function(){return p}));var i=r("jgze0"),a=r("8xvKS"),s=r("cufhv"),c=r("61szk"),l=r("7RIig"),u=r("hN1Wt"),d=r("fa3Di"),f={id:"invite-teammate"},p=function(t){var n=t.productName,r=t.onMount,o=t.onMouseEnter,p=t.onSelection,h=t.selected,g=t.userRole,m=c.useCallback((function(e){(function(e){return!(0!==e.button||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)})(e)&&p&&(e.preventDefault(),p(f,e))}),[p]),v=c.useCallback((function(e){o&&o(f,e)}),[o]);return c.useEffect((function(){r&&r()}),[r]),e(c).createElement(u.MentionItemStyle,{selected:h,onMouseDown:m,onMouseEnter:v,"data-id":f.id},e(c).createElement(u.RowStyle,null,e(c).createElement(u.AvatarStyle,null,e(c).createElement(e(a),{label:"add-icon",primaryColor:s.N300})),e(c).createElement(u.NameSectionStyle,null,e(c).createElement(l.FormattedMessage,e(i)({},d.messages.inviteItemTitle,{values:{userRole:g||"basic",productName:e(c).createElement(u.CapitalizedStyle,null,n)}})))))}})),r.register("hN1Wt",(function(n,o){t(n.exports,"RowStyle",(function(){return p})),t(n.exports,"AvatarStyle",(function(){return h})),t(n.exports,"NameSectionStyle",(function(){return g})),t(n.exports,"MentionItemStyle",(function(){return m})),t(n.exports,"CapitalizedStyle",(function(){return v}));var i,a,s,c,l,u=r("lhkMJ"),d=r("SssiD"),f=r("cufhv"),p=d.default.div(i||(i=e(u)(["\n  align-items: center;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  overflow: hidden;\n  padding: 6px 14px;\n  text-overflow: ellipsis;\n  vertical-align: middle;\n"]))),h=d.default.span(a||(a=e(u)(["\n  position: relative;\n  flex: initial;\n  opacity: inherit;\n  width: 36px;\n  height: 36px;\n\n  > span {\n    width: 24px;\n    height: 24px;\n    padding: 6px;\n  }\n"]))),g=d.default.div(s||(s=e(u)(["\n  flex: 1;\n  min-width: 0;\n  margin-left: 14px;\n  color: ",";\n  opacity: ",";\n"])),f.N300,(function(e){return e.restricted?"0.5":"inherit"})),m=d.default.div(c||(c=e(u)(["\n  background-color: ",";\n  display: block;\n  overflow: hidden;\n  list-style-type: none;\n  cursor: pointer;\n"])),(function(e){return e.selected?f.N30:"transparent"})),v=d.default.span(l||(l=e(u)(["\n  text-transform: capitalize;\n"])))})),r.register("fa3Di",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({inviteItemTitle:{id:"fabric.editor.inviteItem.title",defaultMessage:"{userRole, select, admin {Invite} trusted {Invite} other {Add}} teammate to {productName}",description:"Title of the invite teammate item in typeahead plugin"}})})),r.register("2pXhj",(function(e,n){t(e.exports,"updateQueryCommand",(function(){return c}));var o=r("ga0dY"),i=r("dm770"),a=r("5nxkt"),s=r("hZcn0"),c=function(e){return function(t,n){var r=a.findTypeAheadQuery(t),c=s.isQueryActive(t.schema.marks.typeAheadQuery,t.doc,t.selection.from,t.selection.to);return null!==r&&!1!==c&&(n&&n(t.tr.setMeta(i.pluginKey,{action:o.ACTIONS.SET_QUERY,params:{query:e}})),!0)}}})),r.register("hZcn0",(function(e,n){function r(e,t,n,r){var o=!1;return t.nodesBetween(n,r,(function(t){!o&&e.isInSet(t.marks)&&(o=!0)})),o}t(e.exports,"isQueryActive",(function(){return r}))})),r.register("7HexO",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("1Hkcz")),h=r("gCo6x"),g=r("ePRTf");r("cTu5S");var m=r("9V1f8");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=function(t){e(c)(r,t);var n=v(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleInsertMention",(function(){return!!t.props.editorView&&(g.insertMentionQuery(m.INPUT_METHOD.TOOLBAR)(t.props.editorView.state,t.props.editorView.dispatch),!0)})),t}return e(a)(r,[{key:"render",value:function(){return e(f).createElement(h.default,{testId:this.props.testId,buttonId:h.TOOLBAR_BUTTON.MENTION,spacing:"none",onClick:this.handleInsertMention,disabled:this.props.isDisabled,title:"Mention @",iconBefore:e(f).createElement(e(p),{label:"Mention"})})}}]),r}(f.PureComponent)})),r.register("1Hkcz",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.062 13.93c-.904 0-1.451-.734-1.451-1.945 0-1.226.538-1.952 1.466-1.952.928 0 1.422.764 1.422 1.967 0 1.195-.502 1.93-1.438 1.93M12 5c-3.925 0-7 3.075-7 7 0 4.596 3.522 7 7 7 .874 0 1.614-.09 2.26-.279a.751.751 0 00-.42-1.44c-.508.147-1.11.22-1.84.22-2.648 0-5.5-1.722-5.5-5.5 0-3.085 2.417-5.5 5.5-5.5 3.24 0 5.5 1.952 5.5 4.75 0 2.045-1.043 3-1.748 3-.008 0-.752-.11-.752-.75v-4a.75.75 0 10-1.5 0v.187c-.346-.585-1.016-.952-1.795-.952C10.102 8.736 9 10.04 9 11.938c0 1.984 1.103 3.312 2.753 3.312.865 0 1.51-.387 1.865-1.076.334 1.016 1.37 1.576 2.132 1.576 1.598 0 3.25-1.683 3.25-4.5C19 7.628 16.058 5 12 5" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMentionIcon";var s=a;e.exports.default=s})),r.register("gCo6x",(function(n,o){t(n.exports,"TOOLBAR_BUTTON",(function(){return m})),t(n.exports,"default",(function(){return b}));var i=r("l15hj"),a=r("lhkMJ"),s=r("61szk");r("k1QaE");var c,l=r("kzvDE"),u=r("SssiD"),d=r("eFHDY"),f=r("10MCS"),p=r("9V1f8");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=r("1zgpj").TOOLBAR_ACTION_SUBJECT_ID,v=u.default.div(c||(c=e(a)(["\n  display: flex;\n  height: 100%;\n"]))),b=e(s).forwardRef((function(t,n){var r=t.buttonId,o=t.testId,i=t.className,a=void 0===i?"":i,c=t.href,u=t.iconAfter,h=t.iconBefore,m=t.disabled,b=t.selected,y=t.spacing,E=t.target,x=t.children,k=t.hideTooltip,C=t.title,S=t.titlePosition,T=void 0===S?"top":S,O=t.item,w=t.onClick,N=t.onItemClick,P=s.useCallback((function(e,t){m||(r&&t.update((function(e){return g(g({},e),{},{action:p.ACTION.CLICKED,actionSubject:p.ACTION_SUBJECT.TOOLBAR_BUTTON,actionSubjectId:r,eventType:p.EVENT_TYPE.UI})})).fire(d.FabricChannel.editor),w&&w(e),O&&N&&N(O))}),[m,w,N,O,r]),A=t["aria-label"],I=r?"editor-toolbar__".concat(r):void 0,D=e(s).createElement(f.default,{id:I,ref:n,appearance:"subtle","aria-haspopup":!0,testId:o,className:a,href:c,"aria-label":A,iconAfter:u,iconBefore:h,isDisabled:m,isSelected:b,onClick:P,spacing:y||"default",target:E,shouldFitContainer:!0},x);if(!C)return D;var R=k?null:C;return e(s).createElement(l.default,{content:R,hideTooltipOnClick:!0,position:T},e(s).createElement(v,null,D))}))})),r.register("k1QaE",(function(e,n){t(e.exports,"default",(function(){return r("kzvDE").default}));r("kzvDE")})),r.register("kzvDE",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("jgze0"),a=r("h67q9"),s=r("l15hj"),c=r("61szk"),l=r("4JuWt"),u=r("gKQyD");r("lqsXI");var d=r("5nJqt"),f=r("6arEb"),p=r("hk7TV"),h=r("djEoB"),g=r("bnitQ"),m=r("a33Bk"),v=r("e5Hag"),b=r("hw4UD"),y=r("80U8Q"),E=r("dCQYQ");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=m.layers.tooltip(),S={componentName:"tooltip",packageName:"@atlaskit/tooltip",packageVersion:"17.5.0"};function T(){}function O(t){var n=t.children,r=t.position,o=void 0===r?"bottom":r,s=t.mousePosition,m=void 0===s?"bottom":s,x=t.content,O=t.truncate,w=void 0!==O&&O,N=t.component,P=void 0===N?y.default:N,A=t.tag,I=void 0===A?"div":A,D=t.testId,R=t.delay,M=void 0===R?300:R,_=t.onShow,j=void 0===_?T:_,B=t.onHide,L=void 0===B?T:B,F=t.hideTooltipOnClick,z=void 0!==F&&F,W=t.hideTooltipOnMouseDown,U=void 0!==W&&W,H=t.analyticsContext,V=t.strategy,K=void 0===V?"fixed":V,G="mouse"===o?m:o,J=d.usePlatformLeafSyntheticEventHandler(k({fn:j,action:"displayed",analyticsData:H},S)),q=d.usePlatformLeafSyntheticEventHandler(k({fn:L,action:"hidden",analyticsData:H},S)),Y=c.useRef(null),Z=c.useState("hide"),X=e(a)(Z,2),Q=X[0],$=X[1],ee=c.useRef(null),te=c.useRef(null),ne=c.useCallback((function(e){e&&("function"==typeof n?ee.current=e:(te.current=e,ee.current=e.firstChild))}),[n]),re=c.useRef(Q),oe=c.useRef(M),ie=c.useRef({onShowHandler:J,onHideHandler:q}),ae=c.useRef(!1);c.useEffect((function(){re.current=Q,oe.current=M,ie.current={onShowHandler:J,onHideHandler:q}}),[M,q,J,Q]);var se=c.useCallback((function(e){Y.current=e,ae.current=!1}),[]),ce=c.useCallback((function(){Y.current&&(ae.current&&ie.current.onHideHandler(),Y.current=null,ae.current=!1,$("hide"))}),[]),le=c.useCallback((function(){Y.current&&(Y.current.abort(),ae.current&&ie.current.onHideHandler(),Y.current=null)}),[]);c.useEffect((function(){return function(){Y.current&&le()}}),[le]);var ue=c.useCallback((function(e){if(Y.current&&!Y.current.isActive()&&le(),Y.current&&Y.current.isActive())Y.current.keep();else{var t={source:e,delay:oe.current,show:function(e){var t=e.isImmediate;ae.current||(ae.current=!0,ie.current.onShowHandler()),$(t?"show-immediate":"show-fade-in")},hide:function(e){var t=e.isImmediate;$((function(e){return"hide"!==e?t?"hide":"fade-out":e}))},done:ce},n=v.show(t);se(n)}}),[le,ce,se]),de=c.useCallback((function(){var e;null===(e=Y.current)||void 0===e||e.requestHide({isImmediate:!0})}),[Y]);f.default({onClose:de,isDisabled:"hide"===Q||"fade-out"===Q}),c.useEffect((function(){return"hide"===Q?T:u.bind(window,{type:"scroll",listener:function(){Y.current&&Y.current.requestHide({isImmediate:!0})},options:{capture:!0,passive:!0,once:!0}})}),[Q]);var fe,pe,he=c.useCallback((function(){U&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[U]),ge=c.useCallback((function(){z&&Y.current&&Y.current.requestHide({isImmediate:!0})}),[z]),me=c.useCallback((function(e){if(!(te.current&&e.target===te.current||e.defaultPrevented)){e.preventDefault();var t="mouse"===o?{type:"mouse",mouse:E.getMousePosition({left:e.clientX,top:e.clientY})}:{type:"keyboard"};ue(t)}}),[o,ue]),ve=c.useCallback((function(e){te.current&&e.target===te.current||e.defaultPrevented||(e.preventDefault(),Y.current&&Y.current.requestHide({isImmediate:!1}))}),[]),be=c.useCallback((function(){Y.current&&Y.current.isActive()&&Y.current.keep()}),[]),ye=c.useCallback((function(){ue({type:"keyboard"})}),[ue]),Ee=c.useCallback((function(){Y.current&&Y.current.requestHide({isImmediate:!1})}),[]),xe=c.useCallback((function(e){"exiting"===e&&"fade-out"===re.current&&Y.current&&Y.current.finishHideAnimation()}),[]),ke=I,Ce="hide"!==Q&&Boolean(x),Se="show-immediate"===Q||"show-fade-in"===Q,Te=b.default("tooltip",Ce),Oe={onMouseOver:me,onMouseOut:ve,onClick:ge,onMouseDown:he,onFocus:ye,onBlur:Ee,ref:ne,"aria-describedby":Te,"data-testid":D?"".concat(D,"--container"):void 0};return l.jsx(e(c).Fragment,null,"function"==typeof n?n(Oe):l.jsx(ke,e(i)({},Oe,{role:"presentation"}),n),Ce?l.jsx(g.default,{zIndex:C},l.jsx(h.Popper,{placement:G,referenceElement:(fe=Y.current,pe=fe?fe.getInitialMouse():null,"mouse"===o&&pe?pe:ee.current||void 0),strategy:K},(function(e){var t=e.ref,n=e.style,r=e.update;return l.jsx(p.ExitingPersistence,{appear:!0},Se&&l.jsx(p.FadeIn,{onFinish:xe,duration:"show-immediate"===Q?0:void 0},(function(e){var o=e.className;return l.jsx(P,{ref:t,className:"Tooltip ".concat(o),style:n,truncate:w,placement:G,testId:D,onMouseOut:ve,onMouseOver:be,id:Te},"function"==typeof x?x({update:r}):x)})))}))):null)}O.displayName="Tooltip";var w=O})),r.register("a33Bk",(function(e,n){t(e.exports,"CHANNEL",(function(){return o})),t(e.exports,"DEFAULT_THEME_MODE",(function(){return i})),t(e.exports,"THEME_MODES",(function(){return a})),t(e.exports,"borderRadius",(function(){return s})),t(e.exports,"layers",(function(){return c})),r("aAFiG");r("lBYhg"),r("2Jo8l");var o="__ATLASKIT_THEME__",i="light",a=["light","dark"],s=function(){return 3},c={card:function(){return 100},navigation:function(){return 200},dialog:function(){return 300},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}})),r.register("2Jo8l",(function(e,n){t(e.exports,"B100",(function(){return c})),t(e.exports,"N0",(function(){return d})),t(e.exports,"N800",(function(){return p})),t(e.exports,"N30A",(function(){return h})),t(e.exports,"DN600",(function(){return g})),t(e.exports,"DN0",(function(){return b})),t(e.exports,"skeleton",(function(){return y}));var o=r("6zkmx"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#4C9AFF",l="#2684FF",u="#0052CC",d="#FFFFFF",f="#6B778C",p="#172B4D",h="rgba(9, 30, 66, 0.08)",g="#B8C7E0",m="#8C9CB8",v="#283447",b="#0D1424",y=(o.default({light:d,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:d,dark:v}),o.default({light:"#091E42",dark:g}),o.default({light:p,dark:g}),o.default({light:u,dark:u}),o.default({light:f,dark:m}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:p,dark:g}),o.default({light:f,dark:m}),o.default({light:"#F4F5F7",dark:v}),o.default({light:u,dark:c}),o.default({light:"#0065FF",dark:l}),o.default({light:"#0747A6",dark:c}),o.default({light:c,dark:l}),o.default({light:u,dark:c}),o.default({light:u,dark:c}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("6zkmx",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("01dV4");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("01dV4",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("a33Bk");function i(e){if(e&&e.theme){if(o.CHANNEL in e.theme)return e.theme[o.CHANNEL];if("mode"in e.theme&&o.THEME_MODES.includes(e.theme.mode))return e.theme}return{mode:o.DEFAULT_THEME_MODE}}})),r.register("e5Hag",(function(e,n){t(e.exports,"show",(function(){return a}));var o=r("74dqt"),i=null;function a(e){var t="waiting-to-show";function n(){return Boolean(i&&i.entry===e)}function r(){n()&&(o.clearScheduled(),i=null)}function a(){n()&&e.done(),t="done",r()}function s(){n()&&e.hide({isImmediate:!0}),a()}function c(){return"shown"===t||"waiting-to-hide"===t||"hide-animating"===t}return function(){var n=Boolean(i&&i.isVisible());function r(){t="shown",e.show({isImmediate:n})}i&&(o.clearScheduled(),i.entry.hide({isImmediate:!0}),i.entry.done(),i=null),i={entry:e,isVisible:c},n?r():(t="waiting-to-show",o.scheduleTimeout(r,e.delay))}(),{keep:function(){if(n())return"waiting-to-hide"===t?(t="shown",void o.clearScheduled()):"hide-animating"===t?(t="shown",o.clearScheduled(),void e.show({isImmediate:!1})):void 0},abort:r,isActive:n,requestHide:function(r){var i=r.isImmediate;n()&&("waiting-to-show"!==t?"waiting-to-hide"!==t&&(i?s():(t="waiting-to-hide",o.scheduleTimeout((function(){t="hide-animating",e.hide({isImmediate:!1})}),e.delay))):s())},finishHideAnimation:function(){n()&&"hide-animating"===t&&a()},getInitialMouse:function(){return"mouse"===e.source.type?e.source.mouse:null}}}})),r.register("74dqt",(function(e,n){t(e.exports,"clearScheduled",(function(){return o})),t(e.exports,"scheduleTimeout",(function(){return i}));var r=null;function o(){null!=r&&(window.clearTimeout(r),r=null)}function i(e,t){o(),r=window.setTimeout((function(){r=null,e()}),t)}})),r.register("hw4UD",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("48Unu");function i(e,t){var n=o.useUIDSeed();return t?"".concat(n(e)):void 0}})),r.register("80U8Q",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("lhkMJ"),a=r("61szk"),s=r("4JuWt"),c=r("2Jo8l");r("cUOVQ");var l=r("ari8m"),u=r("a33Bk");r("aAFiG");var d,f,p,h=r("lBYhg"),g=r("lXWm8"),m=s.css(d||(d=e(i)(["\n  border-radius: ","px;\n  box-sizing: border-box;\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n"])),u.borderRadius()),v=s.css(f||(f=e(i)(["\n  max-width: 420px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]))),b=a.forwardRef((function(t,n){var r=t.style,o=t.className,a=t.children,u=t.truncate,d=t.placement,f=t.testId,b=t.onMouseOut,y=t.onMouseOver,E=t.id;return s.jsx(l.default.Consumer,null,(function(t){var l=t.mode;return s.jsx(g.default,{ref:n,style:r,className:o,placement:d,testId:f,id:E,onMouseOut:b,onMouseOver:y,css:[m,u?v:null,s.css(p||(p=e(i)(["\n                background-color: ",";\n                color: ",";\n              "])),"light"===l?h.default("color.background.boldNeutral.resting",c.N800):h.default("color.background.boldNeutral.resting",c.DN0),"light"===l?h.default("color.text.onBold",c.N0):h.default("color.text.onBold",c.DN600))]},a)}))}));b.displayName="TooltipContainer";var y=b})),r.register("cUOVQ",(function(e,n){t(e.exports,"default",(function(){return r("ari8m").default}));r("ari8m")})),r.register("ari8m",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3TmxY").createTheme((function(){return{mode:"light"}})),i=o.Provider,a=o.Consumer,s=(o.useTheme,{Provider:i,Consumer:a})})),r.register("3TmxY",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("lXWm8",(function(n,o){t(n.exports,"default",(function(){return f}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("4JuWt"),l=r("a33Bk"),u=c.css(i||(i=e(a)(["\n  z-index: ",";\n  cursor: default;\n"])),l.layers.tooltip()),d=s.forwardRef((function(e,t){var n=e.style,r=e.className,o=e.children,i=e.placement,a=e.testId,s=e.onMouseOut,l=e.onMouseOver,d=e.id;return c.jsx("div",{role:"tooltip",ref:t,style:n,className:r,onMouseOut:s,onMouseOver:l,css:u,"data-placement":i,"data-testid":a,id:d},o)}));d.displayName="TooltipPrimitive";var f=d})),r.register("dCQYQ",(function(e,n){function r(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}t(e.exports,"getMousePosition",(function(){return r}))})),r.register("10MCS",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("jgze0"),a=r("61szk");r("6uXFe");var s=r("3Oefy"),c=e(a).forwardRef((function(t,n){return e(a).createElement(s.default,e(i)({ref:n},t,{style:{alignItems:"center"}}))}))})),r.register("6uXFe",(function(e,n){t(e.exports,"default",(function(){return r("3Oefy").default}));r("3Oefy")})),r.register("3Oefy",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("jgze0"),a=r("h67q9"),s=r("bRWI2"),c=r("61szk");r("cPjBT");var l=r("7d0Hx"),u=r("994Hi"),d=r("7kKf4"),f=r("76pi9");function p(){}var h="undefined"!=typeof navigator&&navigator.userAgent.toLowerCase().indexOf("firefox")>-1,g=e(c).forwardRef((function(t,n){var r=t.mode,o=t.onMouseDown,l=void 0===o?p:o,g=t.onMouseUp,m=void 0===g?p:g,v=e(s)(t,["mode","onMouseDown","onMouseUp"]),b=v.appearance||"default",y=v.spacing||"default",E=Boolean(v.shouldFitContainer),x=Boolean(v.isSelected),k=f.default(v),C=c.useState(!1),S=e(a)(C,2),T=S[0],O=S[1],w=c.useCallback((function(e){l(e),h&&O(!0)}),[l,O]),N=c.useCallback((function(e){m(e),h&&O(!1)}),[m,O]),P=c.useMemo((function(){return d.getCss({appearance:b,spacing:y,mode:r,isSelected:x,shouldFitContainer:E,isOnlySingleIcon:k})}),[b,y,r,x,E,k]);return e(c).createElement(u.default,e(i)({},v,{ref:n,buttonCss:P,"data-firefox-is-active":!!T||void 0,onMouseDown:w,onMouseUp:N}))})),m=e(c).memo(e(c).forwardRef((function(t,n){return e(c).createElement(l.default.Consumer,null,(function(r){var o=r.mode;return e(c).createElement(g,e(i)({},t,{ref:n,mode:o}))}))})));m.displayName="Button";var v=m})),r.register("1zgpj",(function(e,n){var r,o;t(e.exports,"TOOLBAR_ACTION_SUBJECT_ID",(function(){return r})),(o=r||(r={})).FIND_REPLACE="findReplace",o.EMOJI="emoji",o.ORDERED_LIST="orderedList",o.BULLET_LIST="bulletList",o.MEDIA="media",o.MENTION="mention",o.DECISION_LIST="decisionList",o.TASK_LIST="taskList",o.TEXT_COLOR="color",o.TEXT_FORMATTING_STRONG="strong",o.TEXT_FORMATTING_ITALIC="italic",o.UNDO="undo",o.REDO="redo"})),r.register("ePRTf",(function(e,n){t(e.exports,"insertMentionQuery",(function(){return s}));var o=r("b2Drs");r("cTu5S");var i=r("hNVBR"),a=r("9V1f8");function s(e){return i.withAnalytics({action:a.ACTION.INVOKED,actionSubject:a.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:a.ACTION_SUBJECT_ID.TYPEAHEAD_MENTION,attributes:{inputMethod:e},eventType:a.EVENT_TYPE.UI})(o.insertTypeAheadQuery("@"))}})),r.register("3oI1T",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("auQQv"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("61szk");r("igW5C");var f=r("b6rQF"),p=r("1zToD"),h=r("22Hec"),g=r("75Prg");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"createDomRef",value:function(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?g.createMobileInlineDomRef():e(s)(e(u)(r.prototype),"createDomRef",this).call(this)}},{key:"render",value:function(t){var n=t.providerFactory,r=t.options,o=this.node.attrs,i=o.id,a=o.text,s=o.accessLevel;return e(d).createElement(g.default,{useInlineWrapper:r&&r.useInlineWrapper},e(d).createElement(p.default,{id:i,text:a,accessLevel:s,providers:n}),r&&r.allowZeroWidthSpaceAfter&&f.ZERO_WIDTH_SPACE)}}]),r}(h.default);function b(e,t,n,r){return function(o,i,a){return new v(o,i,a,e,t,{providerFactory:n,options:r}).init()}}})),r.register("1zToD",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk");p=r("61szk");r("bkzCk");var h=r("eKFgb");r("igW5C");var g=r("g4Rxo"),m=r("MsgJD");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var b=function(t){e(l)(r,t);var n=v(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"renderWithProvider",(function(t){var n=o.props,r=n.accessLevel,a=n.eventHandlers,s=n.id,c=n.text,l=t.mentionProvider,u={};return["onClick","onMouseEnter","onMouseLeave"].forEach((function(e){u[e]=a&&a[e]||function(){}})),e(p).createElement(h.default,e(i)({id:s,text:c,accessLevel:r,mentionProvider:l},u))})),o.providerFactory=t.providers||new g.default,o}return e(s)(r,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return e(p).createElement(m.WithProviders,{providers:["mentionProvider","profilecardProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),r}(p.PureComponent);e(f)(b,"displayName","Mention")})),r.register("c1fBh",(function(n,o){t(n.exports,"buildTypeAheadCancelPayload",(function(){return m})),t(n.exports,"buildTypeAheadInviteItemViewedPayload",(function(){return y})),t(n.exports,"buildTypeAheadInviteExposurePayload",(function(){return E})),t(n.exports,"buildTypeAheadInviteItemClickedPayload",(function(){return x})),t(n.exports,"buildTypeAheadInsertedPayload",(function(){return k})),t(n.exports,"buildTypeAheadRenderedPayload",(function(){return C}));var i=r("l15hj"),a=r("9aw7q");r("g8A1U");var s=r("5bcCK"),c=r("8n9XV"),l=r("lR7p7");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f="mention",p=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return{action:t,actionSubject:e,eventType:n,attributes:d({packageName:c.name,packageVersion:c.version,componentName:f,sessionId:r},o)}},h={queryLength:0,spaceInQuery:!1},g=function(e){return e?{queryLength:e.length,spaceInQuery:-1!==e.indexOf(" ")}:h},m=function(e,t,n,r,o){var i=g(o),s=i.queryLength,c=i.spaceInQuery;return p("mentionTypeahead","cancelled",a.UI_EVENT_TYPE,r,{duration:e,downKeyCount:n,upKeyCount:t,queryLength:s,spaceInQuery:c})},v=function(e,t){if(e){var n=e.findIndex((function(e){return e.id===t.id}));return-1===n?void 0:n}},b=function(e){return"selected"===e},y=function(e,t,n){var r=t||{},o=r.containerId,i=r.objectId,s=r.childObjectId;return p("inviteItem","rendered",a.UI_EVENT_TYPE,e,{containerId:o,objectId:i,childObjectId:s,userRole:n})},E=function(e,t,n,r,o){var i=n||{},s=i.containerId,c=i.objectId,l=i.childObjectId;return p("feature","exposed",a.OPERATIONAL_EVENT_TYPE,t,{flagKey:"confluence.frontend.invite.from.mention",value:e,cohort:r,containerId:s,objectId:c,childObjectId:l,userRole:o})},x=function(e,t,n,r,o,i,s,c){var l=g(i),u=l.queryLength,d=l.spaceInQuery,f=s||{},h=f.containerId,m=f.objectId,v=f.childObjectId;return p("inviteItem",b(o)?"clicked":"pressed",a.UI_EVENT_TYPE,r,{duration:e,queryLength:u,spaceInQuery:d,upKeyCount:t,downKeyCount:n,containerId:h,objectId:m,childObjectId:v,userRole:c})},k=function(e,t,n,r,o,i,c,u,d){var f=g(u),h=f.queryLength,m=f.spaceInQuery,y=p("mentionTypeahead",b(o)?"clicked":"pressed",a.UI_EVENT_TYPE,r,{duration:e,position:v(c,i),keyboardKey:b(o)?void 0:o,source:i.source,queryLength:h,spaceInQuery:m,isSpecial:s.isSpecialMention(i),accessLevel:i.accessLevel||"",userType:i.userType,userId:i.id,upKeyCount:t,downKeyCount:n,memberCount:l.isTeamType(i.userType)&&i.context?i.context.memberCount:null,includesYou:l.isTeamType(i.userType)&&i.context?i.context.includesYou:null});return d&&(y.containerId=d.containerId||void 0,y.objectId=d.objectId||void 0,y.childObjectId=d.childObjectId||void 0),y},C=function(e,t,n,r){var o=g(n),i=o.queryLength,s=o.spaceInQuery;return{action:"rendered",actionSubject:t?"mentionTypeahead":"teamMentionTypeahead",eventType:a.OPERATIONAL_EVENT_TYPE,attributes:{packageName:c.name,packageVersion:c.version,componentName:f,duration:e,userIds:t,teams:r,queryLength:i,spaceInQuery:s}}}})),r.register("8n9XV",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/editor-core","version":"147.0.1","sideEffects":false}')})),r.register("lmGgt",(function(n,o){t(n.exports,"default",(function(){return g})),t(n.exports,"pluginKey",(function(){return r("mRgdS").pluginKey}));var i=r("61szk"),a=r("ekJGA"),s=r("2FoO6"),c=r("alF6K"),l=r("c6VL8"),u=r("iIrvw");r("cTu5S");var d=r("hNVBR"),f=r("9V1f8"),p=r("6UBHG"),h=r("mRgdS"),g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"layout",nodes:function(){return[{name:"layoutSection",node:a.layoutSection},{name:"layoutColumn",node:a.layoutColumn}]},pmPlugins:function(){return[{name:"layout",plugin:function(){return s.default(t)}}]},pluginsOptions:{floatingToolbar:function(e,t){var n=h.pluginKey.getState(e),r=n.pos,o=n.allowBreakout,i=n.addSidebarLayouts;if(null!==r)return c.buildToolbar(e,t,r,o,i)},quickInsert:function(t){var n=t.formatMessage;return[{id:"layout",title:n(p.messages.columns),description:n(p.messages.columnsDescription),keywords:["column","section"],priority:1100,icon:function(){return e(i).createElement(u.IconLayout,null)},action:function(e,t){var n=e(l.createDefaultLayoutSection(t));return d.addAnalytics(t,n,{action:f.ACTION.INSERTED,actionSubject:f.ACTION_SUBJECT.DOCUMENT,actionSubjectId:f.ACTION_SUBJECT_ID.LAYOUT,attributes:{inputMethod:f.INPUT_METHOD.QUICK_INSERT},eventType:f.EVENT_TYPE.TRACK})}}]}}}}})),r.register("2FoO6",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("l15hj"),a=r("eBSbE"),s=r("9MUi0"),c=r("6mFHM"),l=r("iFBc4"),u=r("jd53t"),d=r("cD9Ho"),f=r("c6VL8"),p=r("mRgdS");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=function(e){var t=l.findParentNodeOfType(e.schema.nodes.layoutColumn)(e.selection);return!!t&&e.selection.from<t.pos+t.node.nodeSize},v=function(e,t){var n=e.selection,r=e.schema.nodes,o=r.layoutColumn,i=r.layoutSection,s=l.findParentNodeOfType(i)(n),c=l.findParentNodeOfType(o)(n);if(c.node!==s.node.lastChild){var u=e.doc.resolve(c.pos+c.node.nodeSize),d=a.TextSelection.findFrom(u,1);t&&t(e.tr.setSelection(d))}return!0},b=function(e){return new a.Plugin({key:p.pluginKey,state:{init:function(t,n){return function(e,t){var n=l.findParentNodeOfType(t.schema.nodes.layoutSection)(t.selection),r=e.allowBreakout||!1,o=e.UNSAFE_addSidebarLayouts||!1;return{pos:n?n.pos:null,allowBreakout:r,addSidebarLayouts:o,selectedLayout:f.getSelectedLayout(n&&n.node,"two_equal")}}(e,n)},apply:function(e,t,n,r){if(e.docChanged||e.selectionSet){var o=r.schema.nodes.layoutSection,i=r.selection,a=l.findParentNodeOfType(o)(i)||l.findSelectedNodeOfType([o])(i);return g(g({},t),{},{pos:a?a.pos:null,selectedLayout:f.getSelectedLayout(a&&a.node,t.selectedLayout)})}return t}},props:{decorations:function(e){var t,n,r=p.pluginKey.getState(e);if(null!==r.pos)return s.DecorationSet.create(e.doc,(t=r.pos,n=e.doc.nodeAt(r.pos),[s.Decoration.node(t,t+n.nodeSize,{class:"selected"})]))},handleKeyDown:c.keydownHandler({Tab:u.filter(m,v)}),handleClickOn:d.createSelectionClickHandler(["layoutColumn"],(function(e){return e.hasAttribute("data-layout-section")||e.hasAttribute("data-layout-column")}),{useLongPressSelection:e.useLongPressSelection||!1,getNodeSelectionPos:function(e,t){return e.doc.resolve(t).before()}})},appendTransaction:function(e,t,n){var r=[];if(e.forEach((function(e){if(r.forEach((function(t){return{from:e.mapping.map(t.from),to:e.mapping.map(t.to),slice:t.slice}})),e.docChanged){var t=f.fixColumnSizes(e,n);t&&r.push(t)}})),r.length){var o=n.tr,i=n.selection.toJSON();if(r.forEach((function(e){o.replaceRange(e.from,e.to,e.slice)})),(o=f.fixColumnStructure(n)||o).docChanged)return o.setSelection(a.Selection.fromJSON(o.doc,i)),o.setMeta("addToHistory",!1),o}}})}})),r.register("c6VL8",(function(n,o){t(n.exports,"getPresetLayout",(function(){return E})),t(n.exports,"getSelectedLayout",(function(){return x})),t(n.exports,"createDefaultLayoutSection",(function(){return k})),t(n.exports,"insertLayoutColumnsWithAnalytics",(function(){return S})),t(n.exports,"setPresetLayout",(function(){return w})),t(n.exports,"fixColumnSizes",(function(){return A})),t(n.exports,"fixColumnStructure",(function(){return I})),t(n.exports,"deleteActiveLayoutNode",(function(){return D}));var i=r("l15hj"),a=r("iFBc4"),s=r("jWbqG"),c=r("eBSbE"),l=r("hxFzZ");r("9J8af");var u=r("l9fpM"),d=r("9V1f8"),f=r("hNVBR"),p=r("jM5SJ"),h=r("mRgdS");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=["two_equal","two_left_sidebar","two_right_sidebar"],b=["three_equal","three_with_sidebars"],y=function(e){switch(e){case"two_equal":return[50,50];case"three_equal":return[33.33,33.33,33.33];case"two_left_sidebar":return[33.33,66.66];case"two_right_sidebar":return[66.66,33.33];case"three_with_sidebars":return[25,50,25]}},E=function(e){switch(l.mapChildren(e,(function(e){return e.attrs.width})).join(",")){case"33.33,33.33,33.33":return"three_equal";case"25,50,25":return"three_with_sidebars";case"50,50":return"two_equal";case"33.33,66.66":return"two_left_sidebar";case"66.66,33.33":return"two_right_sidebar"}},x=function(e,t){return e&&E(e)&&E(e)||t},k=function(e){var t=e.schema.nodes,n=t.layoutSection,r=t.layoutColumn,o=s.Fragment.fromArray([r.createAndFill({width:50}),r.createAndFill({width:50})]);return n.createAndFill(void 0,o)},C=function(e,t){return t&&t(a.safeInsert(k(e))(e.tr)),!0},S=function(e){return f.withAnalytics({action:d.ACTION.INSERTED,actionSubject:d.ACTION_SUBJECT.DOCUMENT,actionSubjectId:d.ACTION_SUBJECT_ID.LAYOUT,attributes:{inputMethod:e},eventType:d.EVENT_TYPE.TRACK})(C)};function T(e,t,n){var r=t.nodes.layoutColumn,o=n.map((function(e){return Number(e.toFixed(2))}));return l.flatmap(e.content,(function(e,t){return e.type===r?r.create(m(m({},e.attrs),{},{width:o[t]}),e.content,e.marks):e}))}function O(e,t,n,r){var o=function(e,t,n,r){var o=e.tr,i=n+t.nodeSize-1,a=t.childCount;if(v.indexOf(r)>=0&&3===a){var c=t.content.child(2),l=i-c.nodeSize;u.isEmptyDocument(c)?o.replaceRange(o.mapping.map(l-1),o.mapping.map(i),s.Slice.empty):o.replaceRange(o.mapping.map(l-1),o.mapping.map(l+1),s.Slice.empty)}else b.indexOf(r)>=0&&2===a&&o.replaceWith(o.mapping.map(i),o.mapping.map(i),e.schema.nodes.layoutColumn.createAndFill());return o}(e,t,n,r),i=o.selection;o=function(e,t,n,r){var o=t.doc.nodeAt(n);return o?t.replaceWith(n+1,n+o.nodeSize-1,T(o,e.schema,y(r))):t}(e,o,n,r);var a=o.doc.resolve(i.$from.pos);return o.setSelection(e.selection instanceof c.NodeSelection?new c.NodeSelection(a):new c.TextSelection(a))}var w=function(e){return function(t,n){var r=h.pluginKey.getState(t),o=r.pos,i=r.selectedLayout;if(i===e||null===o)return!1;var a=t.doc.nodeAt(o);if(!a)return!1;var s=O(t,a,o,e);return!!s&&((s=f.addAnalytics(t,s,{action:d.ACTION.CHANGED_LAYOUT,actionSubject:d.ACTION_SUBJECT.LAYOUT,attributes:{previousLayout:R(i),newLayout:R(e)},eventType:d.EVENT_TYPE.TRACK})).setMeta("scrollIntoView",!1),n&&n(s),!0)}};function N(e){return!E(e)}function P(e,t,n){if(e.type===n.nodes.layoutSection){if(!N(e))return;var r=2===e.childCount?"two_equal":"three_equal",o=T(e,n,y(r));return{from:t+1,to:t+e.nodeSize-1,slice:new s.Slice(o,0,0)}}}var A=function(e,t){var n,r=t.schema.nodes.layoutSection,o=u.getStepRange(e);if(o){e.doc.nodesBetween(o.from,o.to,(function(e,o){return e.type!==r||(N(e)&&(n=P(e,o,t.schema)),!1)}));var i=e.doc.resolve(o.to);if(i.depth>0){var a=i.after(),s=e.doc.nodeAt(a);s&&s.type===r&&N(s)&&(n=P(s,a,t.schema))}return n}},I=function(e){var t=h.pluginKey.getState(e),n=t.pos,r=t.selectedLayout;if(null!==n&&r){var o=e.doc.nodeAt(n);if(o&&o.childCount!==y(r).length)return O(e,o,n,r)}},D=function(e,t){var n=h.pluginKey.getState(e),r=n.pos,o=n.selectedLayout;if(null!==r){var i=e.doc.nodeAt(r);if(t){var a=e.tr.delete(r,r+i.nodeSize);t(a=f.addAnalytics(e,a,{action:d.ACTION.DELETED,actionSubject:d.ACTION_SUBJECT.LAYOUT,attributes:{layout:R(o)},eventType:d.EVENT_TYPE.TRACK}))}return!0}return!1},R=function(e){switch(e){case"two_equal":return p.LAYOUT_TYPE.TWO_COLS_EQUAL;case"three_equal":return p.LAYOUT_TYPE.THREE_COLS_EQUAL;case"two_left_sidebar":return p.LAYOUT_TYPE.LEFT_SIDEBAR;case"two_right_sidebar":return p.LAYOUT_TYPE.RIGHT_SIDEBAR;case"three_with_sidebars":return p.LAYOUT_TYPE.THREE_WITH_SIDEBARS}}})),r.register("jM5SJ",(function(e,n){var r,o,i,a;t(e.exports,"LAYOUT_TYPE",(function(){return r})),t(e.exports,"SMART_LINK_TYPE",(function(){return i})),(o=r||(r={})).TWO_COLS_EQUAL="twoColumnsEqual",o.THREE_COLS_EQUAL="threeColumnsEqual",o.LEFT_SIDEBAR="twoColumnsLeftSidebar",o.RIGHT_SIDEBAR="twoColumnsRightSidebar",o.THREE_WITH_SIDEBARS="threeColumnsWithSidebars ",(a=i||(i={})).INLINE_CARD="inline",a.BLOCK_CARD="block",a.URL="url"})),r.register("mRgdS",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("layout")})),r.register("alF6K",(function(n,o){t(n.exports,"buildToolbar",(function(){return E}));var i=r("fw3Q6"),a=r("iFBc4"),s=r("6Iwri"),c=r("gVLMd"),l=r("2xYg9"),u=r("hLwIQ"),d=r("2Fh1A"),f=r("iOuu2"),p=r("2y578"),h=r("ch3px"),g=r("c6VL8"),m=r("hIycq"),v=[{id:"editor.layout.twoEquals",type:"two_equal",title:p.toolbarMessages.twoColumns,icon:e(s)},{id:"editor.layout.threeEquals",type:"three_equal",title:p.toolbarMessages.threeColumns,icon:e(c)}],b=[{id:"editor.layout.twoRightSidebar",type:"two_right_sidebar",title:p.toolbarMessages.rightSidebar,icon:e(u)},{id:"editor.layout.twoLeftSidebar",type:"two_left_sidebar",title:p.toolbarMessages.leftSidebar,icon:e(l)},{id:"editor.layout.threeWithSidebars",type:"three_with_sidebars",title:p.toolbarMessages.threeColumnsWithSidebars,icon:e(d)}],y=function(e,t,n){return{id:t.id,type:"button",icon:t.icon,testId:t.title.id,title:e.formatMessage(t.title),onClick:g.setPresetLayout(t.type),selected:!!n&&n===t.type}},E=function(t,n,r,o,s){var c=t.doc.nodeAt(r);if(c){var l=g.getPresetLayout(c),u=t.schema.nodes.layoutSection,d={id:"editor.layout.delete",type:"button",appearance:"danger",icon:e(f),testId:h.default.remove.id,title:n.formatMessage(h.default.remove),onClick:g.deleteActiveLayoutNode,onMouseEnter:m.hoverDecoration(u,!0),onMouseLeave:m.hoverDecoration(u,!1)};return{title:"Layout floating controls",getDomRef:function(e){return a.findDomRefAtPos(r,e.domAtPos.bind(e))},nodeType:u,items:[].concat(e(i)(v.map((function(e){return y(n,e,l)}))),e(i)(s?b.map((function(e){return y(n,e,l)})):[]),[{type:"separator"},d])}}}})),r.register("6Iwri",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h5a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm9 0h5a1 1 0 011 1v12a1 1 0 01-1 1h-5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoEqualIcon";var s=a;e.exports.default=s})),r.register("gVLMd",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h2a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1zm6 0h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutThreeEqualIcon";var s=a;e.exports.default=s})),r.register("2xYg9",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5h1a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1zm5 0h9a1 1 0 011 1v12a1 1 0 01-1 1h-9a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoLeftSidebarIcon";var s=a;e.exports.default=s})),r.register("hLwIQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18 5h1a1 1 0 011 1v12a1 1 0 01-1 1h-1a1 1 0 01-1-1V6a1 1 0 011-1zM5 5h9a1 1 0 011 1v12a1 1 0 01-1 1H5a1 1 0 01-1-1V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutTwoRightSidebarIcon";var s=a;e.exports.default=s})),r.register("2Fh1A",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 5a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1zm4 0h6a1 1 0 011 1v12a1 1 0 01-1 1H9a1 1 0 01-1-1V6a1 1 0 011-1zm10 0a1 1 0 011 1v12a1 1 0 01-2 0V6a1 1 0 011-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorLayoutThreeWithSidebarsIcon";var s=a;e.exports.default=s})),r.register("2y578",(function(e,n){t(e.exports,"toolbarMessages",(function(){return o}));var o=r("7RIig").defineMessages({twoColumns:{id:"fabric.editor.twoColumns",defaultMessage:"Two columns",description:"Layout with two columns of equal width"},threeColumns:{id:"fabric.editor.threeColumns",defaultMessage:"Three columns",description:"Layout with three columns of equal width"},rightSidebar:{id:"fabric.editor.rightSidebar",defaultMessage:"Right sidebar",description:"Layout with two columns, left column is 2/3 and right is 1/3 of page"},leftSidebar:{id:"fabric.editor.leftSidebar",defaultMessage:"Left sidebar",description:"Layout with two columns, left column is 1/3 and right is 2/3 of page"},threeColumnsWithSidebars:{id:"fabric.editor.threeColumnsWithSidebars",defaultMessage:"Three columns with sidebars",description:"Layout with 3 columns laid out as 25% - 50% - 25%"}})})),r.register("gGH0p",(function(n,o){t(n.exports,"default",(function(){return H}));var i=r("h67q9"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("c6wVG"),g=r("7RIig");r("3B5Zl");var m=r("fiDDj");r("igW5C");var v=r("5Dx14"),b=r("gCo6x"),y=r("xZbZL"),E=r("dC2AG"),x=r("gCMLJ"),k=r("iFgeZ"),C=r("c0TOp"),S=r("erSDz"),T=r("c6VL8"),O=r("gAnDB"),w=r("jF2qR"),N=r("6wtTT"),P=r("ePRTf"),A=r("gx217");r("cTu5S");var I=r("9V1f8"),D=r("hNVBR"),R=r("cBdrQ"),M=r("6UBHG"),_=r("a9XUp"),j=r("2f9dX");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?B(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var z=function(e){return!document.body.contains(e)},W=function(){},U=function(t){e(l)(r,t);var n=F(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{isPlusMenuOpen:!1,emojiPickerOpen:!1,buttons:[],dropdownItems:[]}),e(f)(e(c)(t),"onOpenChange",(function(e){var n={isPlusMenuOpen:e.isPlusMenuOpen,emojiPickerOpen:t.state.emojiPickerOpen};t.state.emojiPickerOpen&&!e.open&&(n.emojiPickerOpen=!1),t.setState(n,(function(){var e=t.props.dispatchAnalyticsEvent;if(e)return e(t.state.isPlusMenuOpen?{action:I.ACTION.OPENED,actionSubject:I.ACTION_SUBJECT.PLUS_MENU,eventType:I.EVENT_TYPE.UI}:{action:I.ACTION.CLOSED,actionSubject:I.ACTION_SUBJECT.PLUS_MENU,eventType:I.EVENT_TYPE.UI})}))})),e(f)(e(c)(t),"togglePlusMenuVisibility",(function(){var e=t.state.isPlusMenuOpen;t.onOpenChange({isPlusMenuOpen:!e})})),e(f)(e(c)(t),"toggleEmojiPicker",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I.INPUT_METHOD.TOOLBAR;t.setState((function(e){return{emojiPickerOpen:!e.emojiPickerOpen}}),(function(){if(t.state.emojiPickerOpen){var n=t.props.dispatchAnalyticsEvent;n&&n({action:I.ACTION.OPENED,actionSubject:I.ACTION_SUBJECT.PICKER,actionSubjectId:I.ACTION_SUBJECT_ID.PICKER_EMOJI,attributes:{inputMethod:e},eventType:I.EVENT_TYPE.UI})}}))})),e(f)(e(c)(t),"handleEmojiButtonRef",(function(n){var r=e(h).findDOMNode(n);r&&(t.emojiButtonRef=r)})),e(f)(e(c)(t),"handlePlusButtonRef",(function(n){var r=e(h).findDOMNode(n);r&&(t.plusButtonRef=r)})),e(f)(e(c)(t),"handleDropDownButtonRef",(function(n){var r=e(h).findDOMNode(n);r&&(t.dropdownButtonRef=r)})),e(f)(e(c)(t),"onPickerRef",(function(e){e?document.addEventListener("click",t.handleClickOutside):document.removeEventListener("click",t.handleClickOutside),t.pickerRef=e})),e(f)(e(c)(t),"handleClickOutside",(function(n){var r=t.pickerRef&&e(h).findDOMNode(t.pickerRef);r&&(!n.target||z(n.target)||r.contains(n.target))||t.toggleEmojiPicker()})),e(f)(e(c)(t),"toggleLinkPanel",(function(e){var n=t.props.editorView;return N.showLinkToolbar(e)(n.state,n.dispatch),!0})),e(f)(e(c)(t),"insertMention",(function(e){var n=t.props.editorView;return P.insertMentionQuery(e)(n.state,n.dispatch),!0})),e(f)(e(c)(t),"insertTable",(function(e){var n=t.props,r=n.editorView,o=n.allowLocalIdGenerationOnTables;return D.withAnalytics({action:I.ACTION.INSERTED,actionSubject:I.ACTION_SUBJECT.DOCUMENT,actionSubjectId:I.ACTION_SUBJECT_ID.TABLE,attributes:{inputMethod:e},eventType:I.EVENT_TYPE.TRACK})(E.createTable(o))(r.state,r.dispatch)})),e(f)(e(c)(t),"createDate",(function(e){var n=t.props.editorView;return x.insertDate(void 0,e)(n.state,n.dispatch),x.openDatePicker()(n.state,n.dispatch),!0})),e(f)(e(c)(t),"createPlaceholderText",(function(){var e=t.props.editorView;return C.showPlaceholderFloatingToolbar(e.state,e.dispatch),!0})),e(f)(e(c)(t),"insertLayoutColumns",(function(e){var n=t.props.editorView;return T.insertLayoutColumnsWithAnalytics(e)(n.state,n.dispatch),!0})),e(f)(e(c)(t),"createStatus",(function(e){var n=t.props.editorView;return A.updateStatusWithAnalytics(e)(n.state,n.dispatch),!0})),e(f)(e(c)(t),"openMediaPicker",(function(e){var n=t.props,r=n.onShowMediaPicker,o=n.dispatchAnalyticsEvent;return r&&(r(),o&&o({action:I.ACTION.OPENED,actionSubject:I.ACTION_SUBJECT.PICKER,actionSubjectId:I.ACTION_SUBJECT_ID.PICKER_CLOUD,attributes:{inputMethod:e},eventType:I.EVENT_TYPE.UI})),!0})),e(f)(e(c)(t),"insertTaskDecision",(function(e,n){return function(){var r=t.props.editorView;if(!r)return!1;var o="action"===e?"taskList":"decisionList";return O.insertTaskDecision(r,o,n)(r.state,r.dispatch),!0}})),e(f)(e(c)(t),"insertHorizontalRule",(function(e){var n=t.props.editorView,r=S.createHorizontalRule(n.state,n.state.selection.from,n.state.selection.to,e);return!!r&&(n.dispatch(r),!0)})),e(f)(e(c)(t),"insertExpand",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;return w.insertExpand(n,r)})),e(f)(e(c)(t),"insertBlockType",(function(e){return function(){var n=t.props,r=n.editorView,o=n.onInsertBlockType,i=r.state,a=r.dispatch;return o(e)(i,a),!0}})),e(f)(e(c)(t),"handleSelectedEmoji",(function(e){return t.props.editorView.focus(),R.insertEmoji(e,I.INPUT_METHOD.PICKER)(t.props.editorView.state,t.props.editorView.dispatch),t.toggleEmojiPicker(),!0})),e(f)(e(c)(t),"openElementBrowser",(function(){k.openElementBrowserModal()(t.props.editorView.state,t.props.editorView.dispatch)})),e(f)(e(c)(t),"onItemActivated",(function(e){var n=e.item,r=e.inputMethod,o=t.props,i=o.editorView,a=o.editorActions,s=o.handleImageUpload,c=o.expandEnabled;switch(i.hasFocus()||i.focus(),n.value.name){case"link":t.toggleLinkPanel(r);break;case"table":t.insertTable(r);break;case"image upload":if(s){var l=i.state,u=i.dispatch;s()(l,u)}break;case"media":t.openMediaPicker(r);break;case"mention":t.insertMention(r);break;case"emoji":t.toggleEmojiPicker(r);break;case"codeblock":case"blockquote":case"panel":t.insertBlockType(n.value.name)();break;case"action":case"decision":t.insertTaskDecision(n.value.name,r)();break;case"horizontalrule":t.insertHorizontalRule(r);break;case"macro":t.openElementBrowser();break;case"date":t.createDate(r);break;case"placeholder text":t.createPlaceholderText();break;case"layout":t.insertLayoutColumns(r);break;case"status":t.createStatus(r);break;case"expand":if(c){t.insertExpand();break}default:if(n&&n.onClick){n.onClick(a);break}}t.setState({isPlusMenuOpen:!1})})),e(f)(e(c)(t),"insertToolbarMenuItem",(function(e){return t.onItemActivated({item:e,inputMethod:I.INPUT_METHOD.TOOLBAR})})),e(f)(e(c)(t),"insertInsertMenuItem",(function(e){var n=e.item;return t.onItemActivated({item:n,inputMethod:I.INPUT_METHOD.INSERT_MENU})})),t}return e(s)(r,[{key:"componentDidUpdate",value:function(e){e.buttons!==this.props.buttons&&this.setState({emojiPickerOpen:!1})}},{key:"renderPopup",value:function(){var t=this.state.emojiPickerOpen,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,i=n.popupsScrollableElement,a=n.emojiProvider,s=n.replacePlusMenuWithElementBrowser,c=this.state.dropdownItems.some((function(e){return"emoji"===e.value.name})),l=s?this.plusButtonRef:this.dropdownButtonRef,u=c?l:this.emojiButtonRef;return t&&u&&a?e(p).createElement(v.default,{target:u,fitHeight:350,fitWidth:350,offset:[0,3],mountTo:r,boundariesElement:o,scrollableElement:i},e(p).createElement(m.default,{emojiProvider:a,onSelection:this.handleSelectedEmoji,onPickerRef:this.onPickerRef})):null}},{key:"render",value:function(){var t,n,r=this,o=this.state,i=o.buttons,a=o.dropdownItems,s=this.props,c=s.isDisabled,l=s.isReducedSpacing;return 0===i.length&&0===a.length?null:e(p).createElement(y.ButtonGroup,{width:l?"small":"large"},i.map((function(t){return e(p).createElement(b.default,{item:t,ref:"emoji"===t.value.name?r.handleEmojiButtonRef:W,key:t.value.name,spacing:l?"none":"default",disabled:c||t.isDisabled,iconBefore:t.elemBefore,selected:t.isActive,title:t.title,onItemClick:r.insertToolbarMenuItem})})),e(p).createElement(y.Wrapper,null,this.renderPopup(),e(p).createElement(j.BlockInsertMenu,{popupsMountPoint:this.props.popupsMountPoint,popupsBoundariesElement:this.props.popupsBoundariesElement,popupsScrollableElement:this.props.popupsScrollableElement,disabled:null!==(t=this.props.isDisabled)&&void 0!==t&&t,editorView:this.props.editorView,spacing:this.props.isReducedSpacing?"none":"default",label:this.props.intl.formatMessage(M.messages.insertMenu),open:this.state.isPlusMenuOpen,plusButtonRef:this.plusButtonRef,items:this.state.dropdownItems,onRef:this.handleDropDownButtonRef,onPlusButtonRef:this.handlePlusButtonRef,onClick:this.togglePlusMenuVisibility,onItemActivated:this.insertInsertMenuItem,onInsert:this.insertInsertMenuItem,onOpenChange:this.onOpenChange,togglePlusMenuVisibility:this.togglePlusMenuVisibility,replacePlusMenuWithElementBrowser:null!==(n=this.props.replacePlusMenuWithElementBrowser)&&void 0!==n&&n})),this.props.showSeparator&&e(p).createElement(y.Separator,null))}}],[{key:"getDerivedStateFromProps",value:function(t,n){var r=_.createItems({isTypeAheadAllowed:t.isTypeAheadAllowed,tableSupported:t.tableSupported,mediaUploadsEnabled:t.mediaUploadsEnabled,mediaSupported:t.mediaSupported,imageUploadSupported:t.imageUploadSupported,imageUploadEnabled:t.imageUploadEnabled,mentionsSupported:t.mentionsSupported,actionSupported:t.actionSupported,decisionSupported:t.decisionSupported,linkSupported:t.linkSupported,linkDisabled:t.linkDisabled,emojiDisabled:t.emojiDisabled,nativeStatusSupported:t.nativeStatusSupported,dateEnabled:t.dateEnabled,placeholderTextEnabled:t.placeholderTextEnabled,horizontalRuleEnabled:t.horizontalRuleEnabled,layoutSectionEnabled:t.layoutSectionEnabled,expandEnabled:t.expandEnabled,macroProvider:t.macroProvider,showElementBrowserLink:t.showElementBrowserLink,emojiProvider:t.emojiProvider,availableWrapperBlockTypes:t.availableWrapperBlockTypes,insertMenuItems:t.insertMenuItems,schema:t.editorView.state.schema,numberOfButtons:t.buttons,formatMessage:t.intl.formatMessage,isNewMenuEnabled:t.replacePlusMenuWithElementBrowser}),o=e(i)(r,2),a=o[0],s=o[1];return L(L({},n),{},{buttons:a,dropdownItems:s})}}]),r}(e(p).PureComponent),H=g.injectIntl(U)})),r.register("8c6LP",(function(e,n){t(e.exports,"hoverMergedCells",(function(){return h})),t(e.exports,"hoverColumns",(function(){return g})),t(e.exports,"hoverRows",(function(){return m})),t(e.exports,"hoverTable",(function(){return v})),t(e.exports,"clearHoverSelection",(function(){return b})),t(e.exports,"showResizeHandleLine",(function(){return y})),t(e.exports,"hideResizeHandleLine",(function(){return E}));var o=r("jBp4v"),i=r("eK4uv"),a=r("4K3Qg"),s=r("PPI7U"),c=r("cFImz"),l=r("a3gyn"),u=r("dy52z"),d=r("hquSL"),f=r("4tB9i"),p=function(e){return Array.from(Array(e).keys())},h=function(){return c.createCommand((function(e){var t=u.getMergedCellsPositions(e.tr);if(!t.length)return!1;var n=i.findTable(e.tr.selection);if(!n)return!1;var r=t.map((function(e){return{pos:e+n.start,start:e+n.start+1,node:n.node.nodeAt(e)}})),o=d.createCellHoverDecoration(r,"warning");return{type:"HOVER_CELLS",data:{decorationSet:f.updatePluginStateDecorations(e,o,l.TableDecorations.CELL_CONTROLS_HOVER)}}}),(function(e){return e.setMeta("addToHistory",!1)}))},g=function(e,t){return c.createCommand((function(n){var r=a.getCellsInColumn(e)(n.selection);if(!r)return!1;var o=d.createControlsHoverDecoration(r,"column",t);return{type:"HOVER_COLUMNS",data:{decorationSet:f.updatePluginStateDecorations(n,o,l.TableDecorations.COLUMN_CONTROLS_HOVER),hoveredColumns:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},m=function(e,t){return c.createCommand((function(n){var r=s.getCellsInRow(e)(n.selection);if(!r)return!1;var o=d.createControlsHoverDecoration(r,"row",t);return{type:"HOVER_ROWS",data:{decorationSet:f.updatePluginStateDecorations(n,o,l.TableDecorations.ROW_CONTROLS_HOVER),hoveredRows:e,isInDanger:t}}}),(function(e){return e.setMeta("addToHistory",!1)}))},v=function(e){return c.createCommand((function(t){var n=i.findTable(t.selection);if(!n)return!1;var r=o.TableMap.get(n.node),a=p(r.width),c=p(r.height),u=s.getCellsInRow(c)(t.selection);if(!u)return!1;var h=d.createControlsHoverDecoration(u,"table",e);return{type:"HOVER_TABLE",data:{decorationSet:f.updatePluginStateDecorations(t,h,l.TableDecorations.TABLE_CONTROLS_HOVER),hoveredColumns:a,hoveredRows:c,isInDanger:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},b=function(){return c.createCommand((function(e){return{type:"CLEAR_HOVER_SELECTION",data:{decorationSet:f.updatePluginStateDecorations(e,[],l.TableDecorations.ALL_CONTROLS_HOVER)}}}))},y=function(e){return c.createCommand((function(t){return{type:"SHOW_RESIZE_HANDLE_LINE",data:{decorationSet:f.updatePluginStateDecorations(t,d.createColumnLineResize(t.selection,e),l.TableDecorations.COLUMN_RESIZING_HANDLE_LINE)}}}))},E=function(){return c.createCommand((function(e){return{type:"HIDE_RESIZE_HANDLE_LINE",data:{decorationSet:f.updatePluginStateDecorations(e,[],l.TableDecorations.COLUMN_RESIZING_HANDLE_LINE)}}}))}})),r.register("cFImz",(function(n,o){t(n.exports,"pluginKey",(function(){return f})),t(n.exports,"createPluginState",(function(){return h})),t(n.exports,"createCommand",(function(){return g})),t(n.exports,"getPluginState",(function(){return m}));var i=r("l15hj"),a=r("eBSbE"),s=r("27k6c"),c=r("bwe9n"),l=r("f3Zza");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=new a.PluginKey("tablePlugin"),p=s.pluginFactory(f,l.default,{mapping:function(e,t){if(e.docChanged){var n={};if(t.targetCellPosition){var r=e.mapping.mapResult(t.targetCellPosition),o=r.pos;n={targetCellPosition:r.deleted?void 0:o}}var i={};if(t.tablePos){var a=e.mapping.mapResult(t.tablePos,-1),s=a.pos;i={tablePos:a.deleted?void 0:s}}return d(d(d({},t),n),i)}return t},onDocChanged:c.handleDocOrSelectionChanged,onSelectionChanged:c.handleDocOrSelectionChanged}),h=p.createPluginState,g=p.createCommand,m=p.getPluginState})),r.register("bwe9n",(function(n,o){t(n.exports,"handleDocOrSelectionChanged",(function(){return b}));var i=r("l15hj"),a=r("iFBc4"),s=r("eK4uv"),c=r("1qraB"),l=r("bTYtw"),u=r("eg9AV");r("ksxA8");var d=r("g4Rq3");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=function(e,t){var n=e.steps.find((function(e){return e instanceof d.TableSortStep}));return n&&t&&t.pos===n.pos?n.next:void 0},g=function(e,t){if(!e.getMeta(u.pluginKey))return t},m=function(e){var t=e.tr,n=e.table;return function(e){if(!(n&&n.node))return p(p({},e),{},{targetCellPosition:void 0});var r=t.doc.type.schema.nodes,o=r.tableCell,i=r.tableHeader,s=a.findParentNodeOfType([o,i])(t.selection),c=s?s.pos:void 0;return e.targetCellPosition===c?e:p(p({},e),{},{targetCellPosition:c})}},v=function(e){var t=e.tr,n=e.table;return function(e){var r=n&&n.node;return!r||c.isTextInput(t)?e:p(p(p({},e),l.defaultTableSelection),{},{tableNode:r,ordering:h(t,n),resizeHandleColumnIndex:g(t,e.resizeHandleColumnIndex)})}},b=function(e,t){return(n=[m,v],function(e){return function(t){return e.table?n.reduce((function(t,n){return n(e)(t)}),t):t.targetCellPosition?p(p({},t),{},{targetCellPosition:void 0}):t}})({tr:e,table:s.findTable(e.selection)})(t);var n}})),r.register("1qraB",(function(n,o){t(n.exports,"isTextInput",(function(){return s}));var i=r("h67q9"),a=r("6sW8E"),s=function(t){var n=e(i)(t.steps,1)[0];if(!(n&&n instanceof a.ReplaceStep))return!1;var r=n,o=r.slice.content,s=r.from,c=r.to,l=o.firstChild;return s===c&&1===o.childCount&&!!l&&!!l.text&&1===l.text.length}})),r.register("bTYtw",(function(e,n){t(e.exports,"defaultTableSelection",(function(){return r}));var r={hoveredColumns:[],hoveredRows:[],isInDanger:!1}})),r.register("4LKy5",(function(n,o){t(n.exports,"createPlugin",(function(){return h}));var i=r("l15hj"),a=r("hdR0w"),s=r("eBSbE"),c=r("a3gyn"),l=r("krkdW"),u=r("a5oGX"),d=r("hIqrF"),f=r("eg9AV"),p=r("9dHEx");function h(t,n){var r=n.lastColumnResizable,o=void 0===r||r,h=n.dynamicTextSizing,g=void 0!==h&&h;return new s.Plugin({key:f.pluginKey,state:d.createPluginState(t,{lastColumnResizable:o,dynamicTextSizing:g,resizeHandlePos:null,dragging:null,lastClick:null}),props:{attributes:function(t){var n,r=d.getPluginState(t);return{class:e(a)(c.TableCssClassName.RESIZING_PLUGIN,(n={},e(i)(n,c.TableCssClassName.RESIZE_CURSOR,null!==r.resizeHandlePos),e(i)(n,c.TableCssClassName.IS_RESIZING,!!r.dragging),n))}},handleDOMEvents:{mousedown:function(e,t){var n=e.state,r=d.getPluginState(n).resizeHandlePos||p.getResizeCellPos(e,t,o),i=d.getPluginState(n).dragging;if(null!==r&&!i&&u.handleMouseDown(e,t,r,g)){var a=e.state,s=e.dispatch;return l.setResizeHandlePos(r)(a,s)}return!1}}}})}})),r.register("krkdW",(function(e,n){t(e.exports,"scaleTable",(function(){return d})),t(e.exports,"evenColumns",(function(){return f})),t(e.exports,"distributeColumnsWidths",(function(){return p})),t(e.exports,"stopResizing",(function(){return g})),t(e.exports,"setResizeHandlePos",(function(){return h})),t(e.exports,"setDragging",(function(){return m}));var o=r("kN6Qk"),i=r("2Z8wK"),a=r("hIqrF"),s=r("lWBTY"),c=r("eKOPs"),l=r("9dHEx"),u=r("aXMrY"),d=function(e,t,n){return function(r,o){if(!e)return!1;var a,l=t.node,u=t.start,d=t.parentWidth;if(!1===s.hasTableBeenResized(l))return s.insertColgroupFromNode(e,l),!1;if(a=d?c.scaleWithParent(e,d,l,u,n):c.scale(e,t,n)){var f=r.tr;if((f=i.updateColumnWidths(a,l,u)(f)).docChanged&&o)return f.setMeta("scrollIntoView",!1),f.setMeta("scaleTable",!0),o(f),!0}return!1}},f=function(e){var t=e.resizeState,n=e.table,r=e.start,s=e.event;return function(e,c){if(!o.isTableSelected(e.selection))return!1;var d=a.getPluginState(e).lastClick,f=Date.now();if(d&&f-d.time<500&&l.isClickNear(s,d)){var p=u.evenAllColumnsWidths(t);return v(null,(function(e){return i.updateColumnWidths(p,n,r)(e)}))(e,c),!0}return v({x:s.clientX,y:s.clientY,time:f})(e,c),!1}},p=function(e,t){return function(n,r){if(r){var o=i.updateColumnWidths(e,t.node,t.start)(n.tr);g(o)(n,r)}return!0}},h=function(e){return a.createCommand({type:"SET_RESIZE_HANDLE_POSITION",data:{resizeHandlePos:e}})},g=function(e){return a.createCommand({type:"STOP_RESIZING"},(function(t){return(e||t).setMeta("scrollIntoView",!1)}))},m=function(e,t){return a.createCommand({type:"SET_DRAGGING",data:{dragging:e}},(function(e){return t||e}))},v=function(e,t){return a.createCommand({type:"SET_LAST_CLICK",data:{lastClick:e}},t)}})),r.register("6VAV9",(function(n,o){t(n.exports,"mergeCells",(function(){return v})),t(n.exports,"canMergeCells",(function(){return b})),t(n.exports,"removeEmptyColumns",(function(){return x}));var i=r("EwJf3"),a=r("fw3Q6"),s=r("l15hj"),c=r("jWbqG"),l=r("eBSbE"),u=r("jBp4v"),d=r("bKnyF"),f=r("kB6gF"),p=r("eK4uv"),h=r("hZoDd");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(e){var t=e.selection;if(!(t instanceof d.CellSelection&&b(e)))return e;for(var n,r=f.getSelectionRect(t),o=p.findTable(t),i=u.TableMap.get(o.node),a=[],s=i.cellsInRect(r),g=[],v=0;v<i.height;v++){for(var k=[],C=o.node.child(v),S=0;S<i.width;S++){var T=i.map[v*i.width+S],O=o.node.nodeAt(T);if(O&&!(a.indexOf(T)>-1))if(a.push(T),S===r.left&&v===r.top){n=T;for(var w=y(O)?c.Fragment.empty:O.content,N=[n],P=r.top;P<r.bottom;P++)for(var A=r.left;A<r.right;A++){var I=i.map[P*i.width+A];if(-1===N.indexOf(I)){N.push(I);var D=o.node.nodeAt(I);D&&!y(D)&&(w=w.append(D.content))}}var R=r.bottom-r.top;if(R<1)return h.setMeta({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);var M=E(m(m({},O.attrs),{},{rowspan:R}),O.attrs.colspan,r.right-r.left-O.attrs.colspan),_=w===c.Fragment.empty?O.type.createAndFill(M,w,O.marks):O.type.createChecked(M,w,O.marks);k.push(_)}else-1===s.indexOf(T)&&k.push(O)}if(k.length)g.push(C.type.createChecked(C.attrs,k,C.marks));else for(var j=g.length-1;j>=0;j--){for(var B=g[j],L=[],F=!1,z=0;z<B.childCount;z++){var W=B.child(z),U=W.attrs.rowspan;if(U&&U+j-1>=g.length){if(F=!0,U<2)return h.setMeta({type:"MERGE_CELLS",problem:"NEGATIVE_ROWSPAN"})(e);L.push(W.type.createChecked(m(m({},W.attrs),{},{rowspan:U-1}),W.content,W.marks))}else L.push(W)}F&&(g[j]=C.type.createChecked(B.attrs,L,B.marks))}}if(!g.length)return h.setMeta({type:"MERGE_CELLS",problem:"EMPTY_TABLE"})(e);var H=x(o.node.type.createChecked(o.node.attrs,g,o.node.marks));return null===H?h.setMeta({type:"MERGE_CELLS",problem:"REMOVE_EMPTY_COLUMNS"})(e):h.setMeta({type:"MERGE_CELLS"})(e.replaceWith(o.pos,o.pos+o.node.nodeSize,H).setSelection(l.Selection.near(e.doc.resolve((n||0)+o.start))))}function b(e){var t=e.selection;if(!(t instanceof d.CellSelection)||t.$anchorCell.pos===t.$headCell.pos)return!1;var n=f.getSelectionRect(t);if(!n)return!1;var r=t.$anchorCell.node(-1);return!function(e,t){for(var n=e.width,r=e.height,o=e.map,i=t.top*n+t.left,a=i,s=(t.bottom-1)*n+t.left,c=i+(t.right-t.left-1),l=t.top;l<t.bottom;l++){if(t.left>0&&o[a]===o[a-1]||t.right<n&&o[c]===o[c+1])return!0;a+=n,c+=n}for(var u=t.left;u<t.right;u++){if(t.top>0&&o[i]===o[i-n]||t.bottom<r&&o[s]===o[s+n])return!0;i++,s++}return!1}(u.TableMap.get(r),n)}function y(e){var t=e.content;return 1===t.childCount&&t.firstChild&&t.firstChild.isTextblock&&0===t.firstChild.childCount}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=m(m({},e),{},{colspan:(e.colspan||1)+n});if(r.colwidth){r.colwidth=r.colwidth.slice();for(var o=0;o<n;o++)r.colwidth.splice(t,0,0)}return r}function x(t){var n=u.TableMap.get(t),r=function(t){for(var n=u.TableMap.get(t),r=[],o=n.width-1;o>=0;o--){var i=n.cellsInRect({left:o,right:o+1,top:0,bottom:n.height});if(i.length){var s=i.map((function(e){var n=t.nodeAt(e);if(n)return n.attrs.colspan})),c=Math.min.apply(Math,e(a)(s));r[o+1]?r[o]=1:r[o]=c}}return r}(t);if(!r.some((function(e){return e>1})))return t;for(var o=[],s=function(e){var i={},a=Object.keys(r).map(Number);for(var s in a){var c=a[s],l=n.map[c+e*n.width],u=n.findCell(l),d=i[u.left]||t.nodeAt(l);if(d&&u.top===e)if(r[c]>1){var f=d.attrs.colspan-r[c]+1;if(f<1)return{v:null};var p=d.attrs.colwidth,h=d.type.createChecked(m(m({},d.attrs),{},{colspan:f,colwidth:p?p.slice(0,f):null}),d.content,d.marks);i[u.left]=h}else i[u.left]=d}var g=Object.keys(i).map((function(e){return i[e]})),v=t.child(e);v&&o.push(v.type.createChecked(v.attrs,g,v.marks))},c=0;c<n.height;c++){var l=s(c);if("object"===e(i)(l))return l.v}return o.length?t.type.createChecked(t.attrs,o,t.marks):null}})),r.register("hZoDd",(function(e,n){t(e.exports,"setMeta",(function(){return a}));var o=r("cFImz"),i=r("i1cGK"),a=function(e){return function(t){return"problem"in e&&i.fireAnalytics(e),t.setMeta(o.pluginKey,e)}}})),r.register("i1cGK",(function(n,o){t(n.exports,"fireAnalytics",(function(){return h})),t(n.exports,"fixTables",(function(){return g})),t(n.exports,"fixAutoSizedTable",(function(){return m}));var i=r("l15hj");r("igW5C");var a=r("jPV1L");r("8iml0");var s=r("82cWi"),c=r("hmB4e"),l=r("fM5cb"),u=r("2XZDi"),d=r("kA9yL");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return c.sendLogs({events:[{name:"atlaskit.fabric.editor.fixtable",product:"atlaskit",properties:e,serverTime:(new Date).getTime(),server:"local",user:"-"}]})},g=function(e){var t=!1;if(e.doc.descendants((function(n,r){"table"===n.type.name&&(t=function(e,t,n){var r=!1;return n=b(n,e,t,(function(e){var t=e.attrs,n=t.colwidth,o=t.colspan;return n&&n.length>o?(r=!0,e.type.createChecked(p(p({},e.attrs),{},{colwidth:n.slice(0,o)}),e.content,e.marks)):e})),!!r&&(h({message:"removeExtraneousColumnWidths"}),!0)}(n,e.mapping.map(r),e))})),t)return e},m=function(e,t,n,r,o){var i=e.state.tr,s=function(e,t,n,r){var o=r.querySelector("tr");if(!o)return[];for(var i=[],s=0;s<o.childElementCount;s++)for(var c=o.children[s],l=Number(c.getAttribute("colspan")||1),f=0;f<l;f++){var p=s+f,h=u.getCellsRefsInColumn(p,t,n,e),g=u.calculateColumnWidth(h,(function(e,t){return d.contentWidth(t,r).width}));i[p]=Math.max(g,a.tableCellMinWidth)}return i}(e.domAtPos.bind(e),t,r+1,n),c=s.reduce((function(e,t){return e+t}),0),f=v(c),h=l.getLayoutSize(f,o.containerWidth,{dynamicTextSizing:o.dynamicTextSizing}),g=1;c!==h&&(g=h/c);var m=s.map((function(e){return Math.floor(e*g)}));return(i=b(i,t,r,(function(e,t,n){var r=m.slice(n,n+e.attrs.colspan);return e.type.createChecked(p(p({},e.attrs),{},{colwidth:r.length?r:null}),e.content,e.marks)}))).setNodeMarkup(r,void 0,p(p({},t.attrs),{},{layout:f,__autoSize:!1})).setMeta("addToHistory",!1)},v=function(e){return e>s.akEditorWideLayoutWidth?"full-width":e>s.akEditorDefaultLayoutWidth&&e<s.akEditorWideLayoutWidth?"wide":"default"};var b=function(e,t,n,r){for(var o=[],i=0,a=0;a<t.childCount;a++){for(var s=t.child(a),c=[],l=0;l<s.childCount;l++){var u=s.child(l),d=r(u,a,l);!1===d.sameMarkup(u)&&i++,c.push(d)}c.length&&o.push(s.type.createChecked(s.attrs,c,s.marks))}if(o.length&&0!==i){var f=t.type.createChecked(t.attrs,o,t.marks);return e.replaceWith(n,n+t.nodeSize,f)}return e}})),r.register("hmB4e",(function(e,n){t(e.exports,"sendLogs",(function(){return r}));var r=function(e){return fetch("https://analytics.atlassian.com/analytics/events",{method:"POST",headers:{Accept:"application/json, */*","Content-Type":"application/json"},body:JSON.stringify(e)})}})),r.register("lWBTY",(function(n,o){t(n.exports,"generateColgroup",(function(){return c})),t(n.exports,"insertColgroupFromNode",(function(){return l})),t(n.exports,"hasTableBeenResized",(function(){return u}));var i=r("fw3Q6"),a=r("jWbqG"),s=r("hxFzZ"),c=function(t){var n=[];return t.content.firstChild.content.forEach((function(t){var r=t.attrs.colspan||1;Array.isArray(t.attrs.colwidth)?t.attrs.colwidth.slice(0,r).forEach((function(e){n.push(["col",{style:"width: ".concat(e,"px;")}])})):n.push.apply(n,e(i)(Array.from({length:r},(function(e){return["col",{}]}))))})),n},l=function(t,n){var r=t.querySelector("colgroup");return r&&t.removeChild(r),r=function(t){return a.DOMSerializer.renderSpec(document,["colgroup",{}].concat(e(i)(c(t)))).dom}(n),t.insertBefore(r,t.firstChild),r.children},u=function(e){return!!s.getFragmentBackingArray(e.content.firstChild.content).find((function(e){return e.attrs.colwidth}))}})),r.register("kA9yL",(function(e,n){t(e.exports,"contentWidth",(function(){return i}));var o=r("2CKEW");function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:document.createElement("canvas");return a(e,t||e,r,n)}function a(e,t,n,r){for(var a=[],l=0,u=0;u<e.childNodes.length;u++){var d=e.childNodes[u];if(d.nodeType!==Node.COMMENT_NODE)if(d.nodeType===Node.TEXT_NODE){var f=d.parentNode,p=getComputedStyle(f),h=0;h="CODE"===f.nodeName||"PRE"===f.nodeName?c(n,f,d.textContent,p.font):s(n,d.textContent,p.font);var g=f.offsetLeft-t.offsetLeft;a.push(l),l+=h+g,"nowrap"===p.whiteSpace&&r.push(f.offsetWidth+3)}else{var m=getComputedStyle(d);m.minWidth&&m.minWidth.endsWith("px")&&"0px"!==m.minWidth&&r.push(o.unitToNumber(m.minWidth));var v=i(d,t,r,n).width;m.display&&m.display.indexOf("inline")>-1?l+=v:(a.push(l),l=v)}}return a.push(l),{minWidth:r.reduce((function(e,t){return Math.max(t,e)}),0),width:a.reduce((function(e,t){return Math.max(t,e)}),0)}}function s(e,t,n){var r=e.getContext("2d");return r?(n&&(r.font=n),Math.round(r.measureText(t||"").width)):0}function c(e,t,n,r){var o=t;"CODE"===t.nodeName&&(o=t.parentNode);var i=getComputedStyle(o);return n&&"pre"===i.whiteSpace?n.split("\n").reduce((function(t,n){return Math.max(s(e,n,r),t)}),0):s(e,n,r)}})),r.register("2CKEW",(function(e,n){t(e.exports,"unitToNumber",(function(){return r}));var r=function(e){return e?parseInt(e,10):0}})),r.register("2XZDi",(function(e,n){t(e.exports,"getColumnStateFromDOM",(function(){return l})),t(e.exports,"calculateColumnWidth",(function(){return f})),t(e.exports,"getFreeSpace",(function(){return u})),t(e.exports,"getCellsRefsInColumn",(function(){return d}));var o=r("jBp4v"),i=r("iFBc4");r("igW5C");var a=r("jPV1L"),s=r("kA9yL"),c=r("2CKEW"),l=function(e,t,n){var r=f(e,p),o=r<n?a.tableNewColumnMinWidth:f(e,function(e){return function(t,n,r){if(r&&r>1)return c.unitToNumber(t.width);var o=s.contentWidth(n,n).minWidth;return Math.max(function(e,t){return e+c.unitToNumber(t.paddingLeft)+c.unitToNumber(t.paddingRight)}(o,t),o,e)}}(n));return{index:t,width:r<n?a.tableNewColumnMinWidth:r,minWidth:o}},u=function(e){return Math.max(e.width-e.minWidth,0)},d=function(e,t,n,r){var a=o.TableMap.get(t),s=a.cellsInRect({left:e,right:e+1,top:0,bottom:a.height}),c=[];return s.forEach((function(e){var t=i.findDomRefAtPos(e+n,r);t&&c.push(t)})),c},f=function(e,t){var n=0,r=0;return e.forEach((function(e){var o=getComputedStyle(e),i=Number(e.getAttribute("colspan")||1);if(i>1)r=t(o,e,i);else if(o){var a=t(o,e,i);n=Math.max(a,n)}})),n||r};function p(e){return c.unitToNumber(e.width)}})),r.register("aXMrY",(function(n,o){t(n.exports,"getResizeState",(function(){return g})),t(n.exports,"updateColgroup",(function(){return m})),t(n.exports,"getTotalWidth",(function(){return v})),t(n.exports,"adjustColumnsWidths",(function(){return b})),t(n.exports,"evenAllColumnsWidths",(function(){return y})),t(n.exports,"bulkColumnsResize",(function(){return x})),t(n.exports,"getNewResizeStateFromSelectedColumns",(function(){return k}));var i=r("l15hj");r("igW5C");var a=r("85bzS"),s=r("jPV1L"),c=r("lWBTY"),l=r("2XZDi"),u=r("9dHEx"),d=r("fM5cb"),f=r("8yBl0");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(e){var t=e.minWidth,n=e.maxSize,r=e.table,o=e.tableRef,i=e.start,u=e.domAtPos;if(c.hasTableBeenResized(r)){var d=a.calcTableColumnWidths(r).map((function(e,n){return{width:0===e?s.tableNewColumnMinWidth:e,minWidth:0===e?s.tableNewColumnMinWidth:t,index:n}})),f=d.map((function(e){return e.width})),p=f.reduce((function(e,t){return e+t}),0);return{cols:d,widths:f,maxSize:n,overflow:p>n}}var h=c.insertColgroupFromNode(o,r),g=Array.from(h).map((function(e,n){var o=l.getCellsRefsInColumn(n,r,i,u);return l.getColumnStateFromDOM(o,n,t)})),m=g.map((function(e){return e.width})),v=m.reduce((function(e,t){return e+t}),0);return{cols:g,widths:m,maxSize:n,overflow:v>n}},m=function(e,t){var n=t.querySelectorAll("col");e.cols.filter((function(e){return e&&!!e.width})).forEach((function(e,t){n[t]&&(n[t].style.width="".concat(e.width,"px"))})),u.syncStickyRowToTable(t)},v=function(e){return e.cols.reduce((function(e,t){return e+t.width}),0)},b=function(e,t){var n=t-v(e);if(n>0||n<0&&Math.abs(n)<s.tableCellMinWidth){var r=!1;return h(h({},e),{},{cols:e.cols.map((function(e){return!r&&e.width+n>e.minWidth?(r=!0,h(h({},e),{},{width:e.width+n})):e}))})}return e},y=function(e){var t=v(e),n=Math.floor(t/e.cols.length),r=e.cols.map((function(e){return h(h({},e),{},{width:n})}));return b(h(h({},e),{},{cols:r}),t)},E=function(e,t,n){return e.slice(t,n).map((function(e){return e.width})).reduce((function(e,t){return e+t}),0)},x=function(e,t,n){var r=v(e),o=t.indexOf(n)>-1?n:n+1,i=e.cols[o],a={},s=[],c=e.cols.map((function(e){if(t.indexOf(e.index)>-1){var n=e.width-i.width;return 0!==n&&s.push(n),h(h({},e),{},{width:i.width})}return e})),l=h(h({},e),{},{cols:c.map((function(e){if(t.indexOf(e.index)>-1||t.indexOf(n)>-1&&e.index<o)return e;for(;s.length;){var r=s.shift()||0,i=a[e.index]||e,c=i.width+r;if(!(c>i.minWidth)){s.push(c-i.minWidth),a[i.index]=h(h({},i),{},{width:i.minWidth});break}a[i.index]=h(h({},i),{},{width:c})}return a[e.index]||e}))}),u=e.maxSize,d=v(l);if(t.length===e.cols.length&&d<u){if(r===u)return e;var f=Math.floor((u-i.width)/(l.cols.length-1));l=h(h({},e),{},{cols:l.cols.map((function(e){return e.index===i.index?e:h(h({},e),{},{width:f})}))})}return b(l,e.maxSize)},k=function(e,t,n,r){var o=f.getSelectedTableInfo(t.selection),i=o.totalRowCount,a=o.totalColumnCount,c=o.table;if(c){var l=n(c.start).node.closest("table");if(l){var u=function(e){switch(e){case"wide":case"full-width":return e;default:return"default"}}(null==l?void 0:l.dataset.layout),p=d.getTableMaxWidth({table:c.node,tableStart:c.start,state:t,layout:u,dynamicTextSizing:r}),m=g({minWidth:s.tableCellMinWidth,maxSize:p,table:c.node,tableRef:l,start:c.start,domAtPos:n}),v=function(e,t){var n=e.cols,r=E(n,t.left,t.right),o=E(n,0,n.length)/n.length,i=r/(t.right-t.left);return h(h({},e),{},o===i?{widths:n.map((function(){return i})),cols:e.cols.map((function(e){return h(h({},e),{},{width:0})}))}:{widths:n.map((function(e,n){return n>=t.left&&n<t.right?i:e.width})),cols:n.map((function(e,n){return h(h({},e),{},{width:n>=t.left&&n<t.right?i:e.width})}))})}(m,e),b=m.widths,y=v.widths;return{resizeState:v,table:c,changed:m.widths.some((function(e,t){return e!==y[t]})),attributes:{position:e.left,count:e.right-e.left,totalRowCount:i,totalColumnCount:a,widthsBefore:b,widthsAfter:y}}}}}})),r.register("9dHEx",(function(e,n){t(e.exports,"updateControls",(function(){return f})),t(e.exports,"syncStickyRowToTable",(function(){return m})),t(e.exports,"isClickNear",(function(){return p})),t(e.exports,"getResizeCellPos",(function(){return h})),t(e.exports,"updateStickyMargins",(function(){return g})),r("igW5C");var o=r("4W5Y2"),i=r("jPV1L"),a=r("eNOQT"),s=r("3ruIm"),c=r("a3gyn"),l=r("5m4YX"),u=r("lQrmt"),d=r("cFImz"),f=function(e){var t=d.getPluginState(e).tableRef;if(t&&t.querySelector("tr")){var n=t.parentElement;if(n&&n.parentElement){var r=n.parentElement.querySelectorAll(".".concat(c.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP)),o=n.parentElement.querySelectorAll(c.TableCssClassName.NUMBERED_COLUMN_BUTTON);m(t);for(var i=l.getRowHeights(t),a=0,u=r.length;a<u;a++){var f=i[a];f&&(r[a].style.height="".concat(f,"px"),o.length&&(o[a].style.height="".concat(f,"px")))}var p=n.parentElement.querySelectorAll(".".concat(c.TableCssClassName.TABLE_RIGHT_SHADOW)),h=n.parentElement.querySelectorAll(".".concat(c.TableCssClassName.TABLE_LEFT_SHADOW));s.updateOverflowShadows(e,n,t,p,h)}}},p=function(e,t){var n=t.x-e.clientX,r=t.y-e.clientY;return n*n+r*r<100},h=function(e,t,n){var r=t.target;if(!a.containsClassName(r,c.TableCssClassName.RESIZE_HANDLE_DECORATION))return null;var o=a.closestElement(r,"td, th");return o?e.posAtDOM(o,0)-1:null},g=function(e){var t=e.querySelector("tr.sticky");if(t){var n=a.parsePx(window.getComputedStyle(t).paddingTop||"")||0,r=t.clientHeight-n-2;e.style.marginTop="".concat(o.default.gecko?r+i.tableCellPadding-i.tableCellBorderWidth:i.tableMarginTop+r,"px")}else e.style.marginTop=""},m=function(e){if(e){var t=e.querySelector("tr[data-header-row]");t&&(!function(e,t){var n=u.colWidthsForRow(e,t);n&&(t.style.gridTemplateColumns=n)}(e.querySelector("colgroup"),t),v(e,t))}},v=function(e,t){var n=e.querySelector("tbody"),r=e.parentElement;if(n&&r){var o=Math.min(n.offsetWidth+1,r.offsetWidth);t.style.width="".concat(o,"px"),t.scrollLeft=r.scrollLeft}}})),r.register("3ruIm",(function(e,n){t(e.exports,"updateShadowListForStickyStyles",(function(){return a})),t(e.exports,"updateOverflowShadows",(function(){return s}));var o=r("a3gyn"),i=r("lWHVr"),a=function(e,t){Array.from(t).forEach((function(t){t.classList.contains(o.TableCssClassName.TABLE_STICKY_SHADOW)&&t instanceof HTMLElement&&t.style.height!==e&&(t.style.height=e)}))},s=function(e,t,n,r,a){var s;if(!0===(null===(s=i.getFeatureFlags(e))||void 0===s?void 0:s.tableOverflowShadowsOptimization))return!1;if(n&&t){var c=t.querySelector("tr.sticky"),l=c&&c.firstElementChild;if(r)for(var u=n.offsetWidth-t.offsetWidth,d=0;d<r.length;d++){var f=r[d];f.style.display=u>0&&u>t.scrollLeft?"block":"none",f.classList.contains(o.TableCssClassName.TABLE_STICKY_SHADOW)&&l&&(f.style.height="".concat(l.clientHeight+1,"px"))}if(a)for(var p=0;p<a.length;p++){var h=a[p];h.style.display=t.scrollLeft>0?"block":"none",h.classList.contains(o.TableCssClassName.TABLE_STICKY_SHADOW)&&l&&(h.style.height="".concat(l.clientHeight+1,"px"))}}}})),r.register("1008F",(function(e,n){t(e.exports,"isSelectionUpdated",(function(){return i})),t(e.exports,"getSelectedColumnIndexes",(function(){return a})),t(e.exports,"getSelectedRowIndexes",(function(){return s}));r("jBp4v"),r("bKnyF");var o=r("1RK3w"),i=(r("eK4uv"),r("kB6gF"),r("3uH2t"),r("4vxaA"),function(e,t){return!(t||!e)||o.isSelectionType(e,"cell")!==o.isSelectionType(t,"cell")||o.isSelectionType(e,"cell")&&o.isSelectionType(t,"cell")&&e.ranges!==t.ranges}),a=function(e){for(var t=[],n=e.left;n<e.right;n++)t.push(n);return t},s=function(e){for(var t=[],n=e.top;n<e.bottom;n++)t.push(n);return t}})),r.register("hquSL",(function(e,n){t(e.exports,"findColumnControlSelectedDecoration",(function(){return f})),t(e.exports,"findControlsHoverDecoration",(function(){return p})),t(e.exports,"createCellHoverDecoration",(function(){return h})),t(e.exports,"createControlsHoverDecoration",(function(){return g})),t(e.exports,"createColumnSelectedDecoration",(function(){return m})),t(e.exports,"createColumnControlsDecoration",(function(){return v})),t(e.exports,"updateDecorations",(function(){return b})),t(e.exports,"createResizeHandleDecoration",(function(){return y})),t(e.exports,"createColumnLineResize",(function(){return E}));var o=r("jBp4v"),i=r("eK4uv"),a=r("kB6gF"),s=r("PPI7U"),c=r("9MUi0"),l=r("9J8af"),u=r("a3gyn"),d=function(e,t){return t.find(void 0,void 0,(function(t){return t.key.indexOf(e)>-1}))},f=function(e){return d(u.TableDecorations.COLUMN_SELECTED,e)},p=function(e){return d(u.TableDecorations.ALL_CONTROLS_HOVER,e)},h=function(e,t){return e.map((function(e){return c.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:u.TableCssClassName.HOVERED_CELL_WARNING},{key:u.TableDecorations.CELL_CONTROLS_HOVER})}))},g=function(e,t,n){return e.map((function(e){var r,o=[u.TableCssClassName.HOVERED_CELL];switch(n&&o.push(u.TableCssClassName.HOVERED_CELL_IN_DANGER),o.push("column"===t?u.TableCssClassName.HOVERED_COLUMN:"row"===t?u.TableCssClassName.HOVERED_ROW:u.TableCssClassName.HOVERED_TABLE),t){case"row":r=u.TableDecorations.ROW_CONTROLS_HOVER;break;case"column":r=u.TableDecorations.COLUMN_CONTROLS_HOVER;break;default:r=u.TableDecorations.TABLE_CONTROLS_HOVER}return c.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:o.join(" ")},{key:r})}))},m=function(e){var t=e.selection,n=e.doc,r=i.findTable(t),s=a.getSelectionRect(t);return r&&s?o.TableMap.get(r.node).cellsInRect(s).map((function(e,t){var o=n.nodeAt(e+r.start);return c.Decoration.node(e+r.start,e+r.start+o.nodeSize,{class:u.TableCssClassName.COLUMN_SELECTED},{key:"".concat(u.TableDecorations.COLUMN_SELECTED,"_").concat(t)})})):[]},v=function(e){var t=s.getCellsInRow(0)(e)||[],n=0;return t.map((function(e){var t=e.node.attrs.colspan||1,r=document.createElement("div");return r.classList.add(u.TableCssClassName.COLUMN_CONTROLS_DECORATIONS),r.dataset.startIndex="".concat(n),n+=t,r.dataset.endIndex="".concat(n),c.Decoration.widget(e.pos+1,r,{key:"".concat(u.TableDecorations.COLUMN_CONTROLS_DECORATIONS,"_").concat(n),side:-100})}))},b=function(e,t,n,r){var o=d(r,t);return t.remove(o).add(e,n)},y=function(e,t){var n=[[],[]],r=i.findTable(e.selection);if(!r||!r.node)return n;var a=o.TableMap.get(r.node);if(!a.width)return n;for(var s=function(e,t,n,r,o){var i=document.createElement("div");i.classList.add(u.TableCssClassName.RESIZE_HANDLE_DECORATION),i.dataset.startIndex="".concat(e.left),i.dataset.endIndex="".concat(e.right);var a=r+o.nodeSize-1;return c.Decoration.widget(a,i,{key:"".concat(u.TableDecorations.COLUMN_RESIZING_HANDLE,"_").concat(n,"_").concat(t)})},d=function(e,t,n){var r;return n.forEach((function(e,o,i){if(i===n.childCount-1){var a=o+t+1;r={from:a,to:a+e.nodeSize}}})),r?c.Decoration.node(r.from,r.to,{class:u.TableCssClassName.LAST_ITEM_IN_CELL},{key:"".concat(u.TableDecorations.LAST_CELL_ELEMENT,"_").concat(e.left,"_").concat(e.right)}):null},f=[],p=[],h=0;h<a.height;h++)for(var g={},m=0;m<a.width;m++){var v=a.map[a.width*h+m];if(!g[v]){g[v]=!0;var b=r.start+v,y=e.doc.nodeAt(b);if(y){var E=m,x=(y.attrs.colspan||1)+E;if(x===t.right){var k=s({left:E,right:x},m,h,b,y),C=d({left:E,right:x},b,y);f.push(k),p.push(C)}}}}return[f,p.filter(l.nonNullable)]},E=function(e,t){var n=i.findTable(e);if(!n||null===t.right)return[];var r,a=t.right-1,s=o.TableMap.get(n.node);return(r=s.height,Array.from(Array(r).keys())).map((function(e){return s.map[s.width*e+a]})).filter((function(e,t){return a===s.width||e!==s.map[s.width*t+a+1]})).map((function(e){return{pos:e+n.start,node:n.node.nodeAt(e)}})).map((function(e,n){if(e&&e.node)return c.Decoration.node(e.pos,e.pos+e.node.nodeSize,{class:u.TableCssClassName.WITH_RESIZE_LINE},{key:"".concat(u.TableDecorations.COLUMN_RESIZING_HANDLE_LINE,"_").concat(t.right,"_").concat(n)})})).filter(l.nonNullable)}})),r.register("hiCRA",(function(n,o){t(n.exports,"isIsolating",(function(){return u})),t(n.exports,"containsHeaderRow",(function(){return f})),t(n.exports,"checkIfHeaderColumnEnabled",(function(){return p})),t(n.exports,"checkIfHeaderRowEnabled",(function(){return h})),t(n.exports,"checkIfNumberColumnEnabled",(function(){return g})),t(n.exports,"isLayoutSupported",(function(){return m})),t(n.exports,"getTableWidth",(function(){return v})),t(n.exports,"tablesHaveDifferentColumnWidths",(function(){return b})),t(n.exports,"tablesHaveDifferentNoOfColumns",(function(){return y}));var i=r("fw3Q6"),a=r("jBp4v"),s=r("iFBc4"),c=r("eK4uv"),l=r("cFImz"),u=function(e){return!!e.type.spec.isolating},d=function(e,t){for(var n=a.TableMap.get(t),r=n.cellsInRect({left:0,top:0,right:1,bottom:n.height}),o=0;o<r.length;o++)try{var i=t.nodeAt(r[o]);if(i&&i.type!==e.schema.nodes.tableHeader)return!1}catch(e){return!1}return!0},f=function(e,t){for(var n=a.TableMap.get(t),r=0;r<n.width;r++){var o=t.nodeAt(n.map[r]);if(o&&o.type!==e.schema.nodes.tableHeader)return!1}return!0},p=function(e){return E(e,c.findTable,d,!1)},h=function(e){return E(e,c.findTable,f,!1)},g=function(e){return E(e,c.findTable,(function(e,t){return!!t.attrs.isNumberColumnEnabled}),!1)},m=function(e){var t=l.pluginKey.getState(e).pluginConfig.permittedLayouts,n=e.schema.nodes,r=n.bodiedExtension,o=n.layoutSection,i=n.expand;return!s.hasParentNodeOfType([i,o,r])(e.selection)&&t&&("all"===t||t.indexOf("default")>-1&&t.indexOf("wide")>-1&&t.indexOf("full-page")>-1)},v=function(e){return x(e).reduce((function(e,t){return e+t}),0)},b=function(e,t){var n=x(e),r=x(t);return n.length!==r.length||!1===n.every((function(e,t){return e===r[t]}))},y=function(e,t){var n=a.TableMap.get(t),r=a.TableMap.get(e);return n.width!==r.width};function E(e,t,n,r){var o=t(e.selection);return o?n(e,o.node,o.pos):r}function x(t){if(!t.content.firstChild)return[];var n=[];return t.content.firstChild.content.forEach((function(t){if(Array.isArray(t.attrs.colwidth)){var r=t.attrs.colspan||1;n.push.apply(n,e(i)(t.attrs.colwidth.slice(0,r)))}})),n}})),r.register("awEYr",(function(n,o){t(n.exports,"transformSliceToFixHardBreakProblemOnCopyFromCell",(function(){return f})),t(n.exports,"transformSliceToRemoveOpenTable",(function(){return p})),t(n.exports,"transformSliceToCorrectEmptyTableCells",(function(){return h}));var i=r("fw3Q6"),a=r("jWbqG"),s=r("iFBc4"),c=r("hxFzZ"),l=function(t){var n=t.type.schema;if(t.type===n.nodes.table){var r=[],o=n.nodes,a=o.tableCell,c=o.tableHeader;return t.descendants((function(t){return t.type!==a&&t.type!==c||r.push.apply(r,e(i)(s.flatten(t,!1).map((function(e){return e.node})))),!0})),r}return t},u=function(e,t){return 0===t?l(e):e},d=function(e,t,n){return t===n.childCount-1?l(e):e},f=function(e,t){var n=t.nodes,r=n.paragraph,o=n.table,i=n.hardBreak,s=r.createAndFill(),c=i.createAndFill(),u=(s?s.nodeSize:0)+(c?c.nodeSize:0);if(2===e.content.childCount&&e.content.firstChild&&e.content.lastChild&&e.content.firstChild.type===o&&e.content.lastChild.type===r&&e.content.lastChild.nodeSize===u){var d=l(e.content.firstChild);if(d instanceof Array)return new a.Slice(a.Fragment.from(d[0]),e.openStart,e.openEnd)}return e},p=function(e,t){return e.openStart>=4&&e.openEnd>=4&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.table?new a.Slice(c.flatmap(e.content,l),e.openStart-3,e.openEnd-3):e.openStart>=4&&e.content.firstChild.type===t.nodes.table?new a.Slice(c.flatmap(e.content,u),e.openStart-3,e.openEnd):e.openEnd>=4&&e.content.lastChild.type===t.nodes.table?new a.Slice(c.flatmap(e.content,d),e.openStart,e.openEnd-3):e},h=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return c.mapSlice(e,(function(e){return!e||e.type!==r&&e.type!==o||e.content.childCount?e:e.type.createAndFill(e.attrs)||e}))}})),r.register("22efJ",(function(e,n){t(e.exports,"isCell",(function(){return c})),t(e.exports,"isCornerButton",(function(){return l})),t(e.exports,"isInsertRowButton",(function(){return u})),t(e.exports,"getColumnOrRowIndex",(function(){return d})),t(e.exports,"isColumnControlsDecorations",(function(){return f})),t(e.exports,"isRowControlsButton",(function(){return p})),t(e.exports,"isResizeHandleDecoration",(function(){return h})),t(e.exports,"isTableControlsButton",(function(){return g})),t(e.exports,"isTableContainerOrWrapper",(function(){return m})),t(e.exports,"getMousePositionHorizontalRelativeByElement",(function(){return v})),t(e.exports,"getMousePositionVerticalRelativeByElement",(function(){return b})),t(e.exports,"updateResizeHandles",(function(){return y})),t(e.exports,"hasResizeHandler",(function(){return E})),r("9J8af");var o=r("eNOQT"),i=(o=r("eNOQT"),r("a3gyn")),a=r("c7WcO"),s=".".concat(i.TableCssClassName.TABLE_CELL,", .").concat(i.TableCssClassName.TABLE_HEADER_CELL),c=function(e){return Boolean(e&&(["TH","TD"].indexOf(e.tagName)>-1||!!o.closestElement(e,".".concat(i.TableCssClassName.TABLE_HEADER_CELL))||!!o.closestElement(e,".".concat(i.TableCssClassName.TABLE_CELL))))},l=function(e){return o.containsClassName(e,i.TableCssClassName.CONTROLS_CORNER_BUTTON)},u=function(e){return o.containsClassName(e,i.TableCssClassName.CONTROLS_INSERT_ROW)||o.closestElement(e,".".concat(i.TableCssClassName.CONTROLS_INSERT_ROW))||o.containsClassName(e,i.TableCssClassName.CONTROLS_BUTTON_OVERLAY)&&o.closestElement(e,".".concat(i.TableCssClassName.ROW_CONTROLS))},d=function(e){return[parseInt(e.getAttribute("data-start-index")||"-1",10),parseInt(e.getAttribute("data-end-index")||"-1",10)]},f=function(e){return o.containsClassName(e,i.TableCssClassName.COLUMN_CONTROLS_DECORATIONS)},p=function(e){return o.containsClassName(e,i.TableCssClassName.ROW_CONTROLS_BUTTON)||o.containsClassName(e,i.TableCssClassName.NUMBERED_COLUMN_BUTTON)},h=function(e){return o.containsClassName(e,i.TableCssClassName.RESIZE_HANDLE_DECORATION)},g=function(e){return o.containsClassName(e,i.TableCssClassName.CONTROLS_BUTTON)||o.containsClassName(e,i.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP)},m=function(e){return o.containsClassName(e,i.TableCssClassName.TABLE_CONTAINER)||o.containsClassName(e,i.TableCssClassName.TABLE_NODE_WRAPPER)},v=function(e,t,n,r){var o=e.target;if(o instanceof HTMLElement){var i,a,c=o.closest(s);if(t){var l,u,d,f=null!==(l=null==c?void 0:c.id)&&void 0!==l?l:"";i=null!==(u=null==n||null===(d=n[f])||void 0===d?void 0:d.width)&&void 0!==u?u:0,a=e.offsetX}else{var p=o.getBoundingClientRect();i=p.width;var h=p.left;a=e.clientX-h}if(i<=0)return null;if(!r)return a/i>.5?"right":"left";if(a<=r)return"left";if(a>=i-r)return"right"}return null},b=function(e){var t=e.target;if(t instanceof HTMLElement){var n=t.getBoundingClientRect();return n.height<=0?null:(e.clientY-n.top)/n.height>.5?"bottom":"top"}return null},y=function(e){if(e){var t=e.offsetHeight+a.tableToolbarSize,n=Array.from(e.querySelectorAll(".".concat(i.TableCssClassName.RESIZE_HANDLE)));n&&n.length&&n.forEach((function(e){e.style.height="".concat(t,"px")}))}},E=function(e){var t=e.columnEndIndexTarget,n=e.target,r=o.closestElement(n,"table");if(!r)return!1;var a=[".".concat(i.TableCssClassName.RESIZE_HANDLE_DECORATION),'[data-end-index="'.concat(t,'"]')],s=r.querySelectorAll(a.join(""));return!(!s||0===s.length)}})),r.register("lQrmt",(function(n,o){t(n.exports,"getColumnsWidths",(function(){return p})),t(n.exports,"getColumnDeleteButtonParams",(function(){return h})),t(n.exports,"colWidthsForRow",(function(){return g}));var i=r("fw3Q6"),a=r("jBp4v"),s=(r("bKnyF"),r("iFBc4")),c=r("eK4uv"),l=r("4K3Qg"),u=(r("kN6Qk"),r("kB6gF")),d=r("eNOQT"),f=(r("a3gyn"),r("c7WcO")),p=function(e){var t=e.state.selection,n=[],r=c.findTable(t);if(r){var o=a.TableMap.get(r.node),i=e.domAtPos.bind(e);n=Array.from({length:o.width});for(var u=0;u<o.width;u++){var d=l.getCellsInColumn(u)(t)[0];if(d){var f=s.findDomRefAtPos(d.pos,i),p=f.getBoundingClientRect();n[u]=(p?p.width:f.offsetWidth)+1,u+=d.node.attrs.colspan-1}}}return n},h=function(e,t){var n=u.getSelectionRect(t);if(!n)return null;for(var r=0,o=0,i=0;i<n.left;i++){var a=e[i];a&&(o+=a-1)}for(var s=[],c=n.left;c<n.right;c++){var l=e[c];l&&(r+=l,s.push(c))}return{left:o+r/2-f.tableDeleteButtonSize/2,indexes:s}},g=function(t,n){var r=d.maphElem(n,(function(e){return Number(e.getAttribute("colspan")||1)})),o=n.nextElementSibling||n;if(o){var a=d.maphElem(o,(function(e){return{width:e.offsetWidth,colspan:Number(e.getAttribute("colspan")||1),colwidth:e.dataset.colwidth}})),s=[];if(a.map((function(t,n){s.push.apply(s,e(i)(function(e){var t=e.width,n=e.colspan,r=e.colwidth;if(n<=1||!r)return new Array(n).fill(t/n);var o=r.split(",").map((function(e){return Number(e)})),i=o.reduce((function(e,t){return e+t}),0);return o.map((function(e){return t*(e/i)}))}(t)))})),0!==a.reduce((function(e,t){return e+t.width}),0)){var c=function(e,t){var n=0,r=[];return e.forEach((function(e){var o=t.slice(n,n+e).reduce((function(e,t){return e+t}),0);n+=e,r.push(o)})),r}(r,s);return c.map((function(e){return"".concat(e,"px")})).join(" ")}}var l=r.reduce((function(e,t){return e+t}),0);return r.map((function(e){return e/l*100})).map((function(e){return"".concat(e,"%")})).join(" ")}})),r.register("5m4YX",(function(n,o){t(n.exports,"getRowHeights",(function(){return m})),t(n.exports,"getRowDeleteButtonParams",(function(){return v})),t(n.exports,"getRowsParams",(function(){return b})),t(n.exports,"getRowClassNames",(function(){return y})),t(n.exports,"copyPreviousRow",(function(){return E}));var i=r("l15hj"),a=r("jBp4v"),s=(r("bKnyF"),r("iFBc4")),c=r("kN6Qk"),l=r("kB6gF"),u=r("eK4uv"),d=r("eNOQT"),f=r("a3gyn"),p=r("c7WcO");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=function(e){var t=[];if(e.lastChild)for(var n=e.lastChild.childNodes,r=0,o=n.length;r<o;r++){var i=n[r];if(t[r]=i.getBoundingClientRect().height+1,i.classList.contains("sticky")&&0===r){var a=window.getComputedStyle(i),s=d.parsePx(a.paddingTop||"");t[r]-=s?s+1:1}}return t},v=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=l.getSelectionRect(t);if(!r)return null;for(var o=0,i=n,a=0;a<r.top;a++){var s=e[a];s&&(i+=s-1)}for(var c=[],u=r.top;u<r.bottom;u++){var d=e[u];d&&(o+=d-1,c.push(u))}var f=i+o/2-p.tableDeleteButtonSize/2;return{top:f,indexes:c}},b=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var o=e[n];if(o){for(var i=e.length,a=n+1,s=e.length;a<s;a++)if(e[a]){i=a;break}t.push({startIndex:n,endIndex:i,height:o})}}return t},y=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=[];return(c.isRowSelected(e)(t)||n.indexOf(e)>-1&&!o)&&(i.push(f.TableCssClassName.HOVERED_CELL_ACTIVE),r&&i.push(f.TableCssClassName.HOVERED_CELL_IN_DANGER)),i.join(" ")},E=function(e){return function(t){return function(n){var r=u.findTable(n.selection);if(!r)return n;var o=a.TableMap.get(r.node),i=t-1;if(t<=0)throw Error("Row Index less or equal 0 isn't not allowed since there is not a previous to copy");if(t>o.height)return n;for(var c=r.node,l=e.nodes.tableRow,d=o.cellsInRect({left:0,right:o.width,top:i,bottom:i+1}),f=i*o.width,p=t*o.width,h=o.map.slice(f,f+o.width),m=o.map.slice(p,p+o.width),v=[],b=[],y=0;y<h.length;){var E=h[y],x=E+r.start,k=n.doc.nodeAt(x);if(k){var C=g(g({},k.attrs),{},{colspan:1,rowspan:1}),S=k.type.createAndFill(C);if(!S)return n;if(m.indexOf(E)>-1)b.push({pos:x,node:k});else if(d.indexOf(E)>-1){if(k.attrs.colspan>1){var T=k.type.createAndFill(g(g({},C),{},{colspan:k.attrs.colspan}));if(!T)return n;v.push(T),y+=k.attrs.colspan;continue}v.push(S)}else v.push(S);y++}}b.forEach((function(e){n.setNodeMarkup(e.pos,void 0,g(g({},e.node.attrs),{},{rowspan:e.node.attrs.rowspan+1}))}));for(var O=c.child(i),w=r.start,N=0;N<t;N++)w+=c.child(N).nodeSize;return s.safeInsert(l.createChecked(O.attrs,v,O.marks),w)(n)}}}})),r.register("8yBl0",(function(e,n){t(e.exports,"getSelectedTableInfo",(function(){return s})),t(e.exports,"getSelectedCellInfo",(function(){return c}));var o=r("jBp4v"),i=r("eK4uv"),a=r("kB6gF");function s(e){var t,n=0,r=0,a=i.findTable(e);return a&&(n=(t=o.TableMap.get(a.node)).height,r=t.width),{table:a,map:t,totalRowCount:n,totalColumnCount:r}}function c(e){var t=1,n=1,r=1,o=s(e),i=o.table,c=o.map,l=o.totalRowCount,u=o.totalColumnCount;if(i&&c){var d=a.getSelectionRect(e);d&&(r=c.cellsInRect(d).length,t=d.right-d.left,n=d.bottom-d.top)}return{totalRowCount:l,totalColumnCount:u,horizontalCells:t,verticalCells:n,totalCells:r}}})),r.register("dy52z",(function(e,n){t(e.exports,"getMergedCellsPositions",(function(){return a}));var o=r("jBp4v"),i=r("eK4uv"),a=function(e){var t=i.findTable(e.selection);if(!t)return[];var n=o.TableMap.get(t.node),r=new Set,a=[];return n.map.forEach((function(e){r.has(e)?a.push(e):r.add(e)})),a}})),r.register("4tB9i",(function(e,n){t(e.exports,"updatePluginStateDecorations",(function(){return a}));var o=r("ktk1y"),i=r("hquSL"),a=function(e,t,n){return i.updateDecorations(e.doc,o.getDecorations(e),t,n)}})),r.register("ktk1y",(function(e,n){t(e.exports,"pluginKey",(function(){return l})),t(e.exports,"getDecorations",(function(){return u})),t(e.exports,"createPlugin",(function(){return d}));var o=r("eBSbE"),i=r("bKnyF"),a=r("9MUi0"),s=r("cFImz"),c=r("fZpDi"),l=new o.PluginKey("tableDecorationsPlugin"),u=function(e){return l.getState(e)},d=function(){return new o.Plugin({state:{init:function(){return a.DecorationSet.empty},apply:function(e,t,n){var r=t,o=e.getMeta(s.pluginKey);return o&&o.data&&o.data.decorationSet&&(r=o.data.decorationSet),e.docChanged||e.selectionSet?function(e,t,n){return e.docChanged||e.selection instanceof i.CellSelection?c.buildColumnControlsDecorations({decorationSet:t,tr:e}):e.selectionSet&&(!e.docChanged&&e.selectionSet&&e.getMeta("pointer")||n.selection instanceof i.CellSelection)?c.maybeUpdateColumnControlsSelectedDecoration({decorationSet:t,tr:e}):t}(e,r,n):r}},key:l,props:{decorations:function(e){return u(e)}}})}})),r.register("fZpDi",(function(e,n){t(e.exports,"maybeUpdateColumnControlsSelectedDecoration",(function(){return h})),t(e.exports,"buildColumnControlsDecorations",(function(){return g}));var o=r("bKnyF"),i=r("eK4uv"),a=r("9MUi0"),s=r("a3gyn"),c=r("hquSL"),l=r("eIL5N"),u=function(e){var t=e.decorationSet;return t.remove(c.findControlsHoverDecoration(t))},d=function(e){var t=e.decorationSet,n=e.tr;return function(e){return e.selection instanceof o.CellSelection&&e.selection.isColSelection()}(n)?c.updateDecorations(n.doc,t,c.createColumnSelectedDecoration(n),s.TableDecorations.COLUMN_SELECTED):t},f=function(e){var t=e.decorationSet,n=e.tr;return i.findTable(n.selection)?c.updateDecorations(n.doc,t,c.createColumnControlsDecoration(n.selection),s.TableDecorations.COLUMN_CONTROLS_DECORATIONS):t},p=function(e){var t=e.decorationSet;return t.remove(c.findColumnControlSelectedDecoration(t))},h=function(e){var t=e.decorationSet,n=e.tr;return function(e){return!!c.findColumnControlSelectedDecoration(e).length}(t)?p({decorationSet:t,tr:n}):t},g=function(e){e.decorationSet;var t=e.tr;return l.composeDecorations([p,u,d,f])({decorationSet:a.DecorationSet.empty,tr:t})}})),r.register("eIL5N",(function(e,n){t(e.exports,"composeDecorations",(function(){return r}));var r=function(e){return function(t){var n=t.decorationSet,r=t.tr;return e.reduce((function(e,t){return t({decorationSet:e,tr:r})}),n)}}})),r.register("eP2ua",(function(n,o){t(n.exports,"buildColumnResizingDecorations",(function(){return f}));var i=r("h67q9"),a=r("a3gyn"),s=r("hquSL"),c=r("eIL5N"),l=[[],[]],u=function(e){return function(t){var n=t.decorationSet,r=t.tr;return s.updateDecorations(r.doc,n,e,a.TableDecorations.COLUMN_RESIZING_HANDLE)}},d=function(e){return function(t){var n=t.decorationSet,r=t.tr;return s.updateDecorations(r.doc,n,e,a.TableDecorations.LAST_CELL_ELEMENT)}},f=function(t){return function(n){var r=n.tr,o=n.decorationSet,a=t<0?l:s.createResizeHandleDecoration(r,{right:t}),f=e(i)(a,2),p=f[0],h=f[1];return c.composeDecorations([u(p),d(h)])({decorationSet:o,tr:r})}}})),r.register("fM5cb",(function(e,n){t(e.exports,"getLayoutSize",(function(){return d})),t(e.exports,"pointsAtCell",(function(){return p})),t(e.exports,"currentColWidth",(function(){return h})),t(e.exports,"getTableMaxWidth",(function(){return g})),r("igW5C");var o=r("jPV1L"),i=r("5ZnAd"),a=r("jZsbJ");r("8iml0");var s=r("82cWi");r("9J8af");r("eNOQT");var c=r("9D9P7"),l=r("dbjVR"),u={default:s.akEditorDefaultLayoutWidth,wide:s.akEditorWideLayoutWidth,"full-width":s.akEditorFullWidthLayoutWidth};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,r=n.dynamicTextSizing,i=n.isFullWidthModeEnabled;if(i)return t?Math.min(t-2*s.akEditorGutterPadding,s.akEditorFullWidthLayoutWidth):s.akEditorFullWidthLayoutWidth;var a=o.calcTableWidth(e,t,!0);return a.endsWith("px")?parseInt(a,10):r&&"default"===e?f(t):u[e]||t}function f(e){return i.mapBreakpointToLayoutMaxWidth(a.getBreakpoint(e))}function p(e){return"row"===e.parent.type.spec.tableRole&&e.nodeAfter}function h(e,t,n){var r=n.colspan,o=n.colwidth,i=o&&o[o.length-1];if(i)return i;var a=e.domAtPos(t+1).node.offsetWidth,s=r||0;if(o)for(var c=0;c<(r||0);c++)o[c]&&(a-=o[c],s--);return a/s}var g=function(e){var t=e.table,n=e.tableStart,r=e.state,o=e.layout,i=e.dynamicTextSizing,a=c.pluginKey.getState(r),u=l.getParentNodeWidth(n,r,a)||d(o,a.width,{dynamicTextSizing:i});return t.attrs.isNumberColumnEnabled&&(u-=s.akEditorTableNumberColumnWidth),u}})),r.register("eKOPs",(function(n,o){t(n.exports,"scale",(function(){return h})),t(n.exports,"scaleWithParent",(function(){return g}));var i=r("l15hj");r("igW5C");var a=r("jPV1L");r("8iml0");var s=r("82cWi"),c=r("hiCRA"),l=r("fM5cb"),u=r("95Vr4"),d=r("aXMrY");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=function(e,t,n){var r=t.node,o=t.containerWidth,i=t.previousContainerWidth,u=t.dynamicTextSizing,f=t.prevNode,p=t.start,h=t.isBreakoutEnabled,g=t.layoutChanged,v=l.getLayoutSize(r.attrs.layout,o,{dynamicTextSizing:u,isBreakoutEnabled:h}),b=c.getTableWidth(f),y=l.getLayoutSize(f.attrs.layout,i,{dynamicTextSizing:u,isBreakoutEnabled:h}),E=v;if(g&&b>y)if(b<v)E=v;else{var x=b/y;E=Math.floor(E*x)}return r.attrs.isNumberColumnEnabled&&(E-=s.akEditorTableNumberColumnWidth),m(d.getResizeState({minWidth:a.tableCellMinWidth,maxSize:v,table:r,tableRef:e,start:p,domAtPos:n}),E)},g=function(e,t,n,r,o){var i=d.getResizeState({minWidth:a.tableCellMinWidth,maxSize:t,table:n,tableRef:e,start:r,domAtPos:o});return n.attrs.isNumberColumnEnabled&&(t-=s.akEditorTableNumberColumnWidth),m(i,Math.floor(t))};function m(e,t){var n=t/d.getTotalWidth(e),r=p(p({},e),{},{maxSize:t,cols:e.cols.map((function(e){var t=e.minWidth,r=e.width,o=Math.floor(r*n);return o<t&&(o=t),p(p({},e),{},{width:o})}))}),o=d.getTotalWidth(r);return o>t&&(r=u.reduceSpace(r,o-t)),d.adjustColumnsWidths(r,t)}})),r.register("95Vr4",(function(n,o){t(n.exports,"growColumn",(function(){return h})),t(n.exports,"shrinkColumn",(function(){return g})),t(n.exports,"reduceSpace",(function(){return m}));var i=r("EwJf3"),a=r("fw3Q6"),s=r("l15hj"),c=r("2XZDi"),l=r("aXMrY");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f,p,h=function(e,t,n,r){if(!e.cols[t+1])return e;var o=v(e,t+1,t,n),i=n-o.amount,a=o.state;return i>0&&(a=b(a,t,i).state),r?l.bulkColumnsResize(a,r,t):a},g=function(e,t,n,r){var o=v(e,t,t+1,-n),i=o.state,a=l.getTotalWidth(i)>i.maxSize;if(!i.cols[t+1]&&!a)return i;var s=n+o.amount;return s<0&&(i=b(i,t+1,s).state),r?l.bulkColumnsResize(i,r,t):i};function m(t,n){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=n,i=function(){var n=t.cols.filter((function(e){return c.getFreeSpace(e)&&-1===r.indexOf(e.index)}));if(0===n.length)return"break";var i=Math.floor(o/n.length);if(0===i)return"break";n.forEach((function(n){var r=n.width-i;if(r<n.minWidth){var s=n.minWidth-r;r=n.minWidth,o=o-i+s}else o-=i;t=d(d({},t),{},{cols:[].concat(e(a)(t.cols.slice(0,n.index)),[d(d({},n),{},{width:r})],e(a)(t.cols.slice(n.index+1)))})}))};o>0;){var s=i();if("break"===s)break}return t}function v(e,t,n,r){var o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=e.cols[t],a=e.cols[n];if(o){var s=c.getFreeSpace(i);y(f.DEST)(r)>s&&(r=r>0?s:-s)}y(f.SOURCE)(r)<0&&E(f.SOURCE)(r,i,a)<i.minWidth&&(r=i.width-i.minWidth);var u=a?d(d({},a),{},{width:E(f.DEST)(r,i,a)}):void 0;if(!u&&y(f.SOURCE)(r)<0){var p=l.getTotalWidth(e);p-i.width+E(f.SOURCE)(r,i,a)<e.maxSize&&(r=e.maxSize-(p-i.width)-i.width-1)}var h=d(d({},i),{},{width:E(f.SOURCE)(r,i,a)}),g=e.cols.map((function(e,r){return r===t?h:r===n?u:e})).filter(Boolean);return{state:d(d({},e),{},{cols:g}),amount:r}}function b(t,n,r){for(var o=function(e,t,n){var r=e.cols;return n<0?r.slice(0,t):r.slice(t+1)}(t,n,r),s=function(){var i=function(e,t){if(0===e.length)return-1;"left"==(t<0?"left":"right")&&(e=e.slice().reverse());var n=-1;return e.forEach((function(e){c.getFreeSpace(e)&&-1===n&&(n=e.index)})),-1===n?-1:n}(o,r);if(-1===i)return r>0?{v:{state:d(d({},t),{},{cols:[].concat(e(a)(t.cols.slice(0,n)),[d(d({},t.cols[n]),{},{width:t.cols[n].width+r})],e(a)(t.cols.slice(n+1)))}),remaining:r}}:"break";var s=o.find((function(e){return e.index===i}));if(!s||c.getFreeSpace(s)<=0)return"break";var l=v(t,s.index,n,r);t=l.state,r-=l.amount,o=o.filter((function(e){return e.index!==i}))};o.length&&r;){var l=s();if("break"===l)break;if("object"===e(i)(l))return l.v}return{state:t,remaining:r}}function y(e){return function(t){return e===f.SOURCE?t>0?-t:t:t<0?-t:t}}function E(e){return function(t,n,r){return(e===f.SOURCE?n:r).width+y(e)(t)}}(p=f||(f={})).SOURCE="src",p.DEST="dest"})),r.register("cih3I",(function(e,n){t(e.exports,"resizeColumn",(function(){return a}));var o=r("95Vr4"),i=r("aXMrY"),a=function(e,t,n,r,a){var s=n>0?o.growColumn(e,t,n,a):n<0?o.shrinkColumn(e,t,n,a):e;return i.updateColgroup(s,r),s}})),r.register("jXSpZ",(function(n,o){t(n.exports,"deleteColumns",(function(){return b}));var i=r("fw3Q6"),a=r("l15hj"),s=r("eBSbE"),c=r("jBp4v"),l=r("eK4uv");r("ksxA8");var u=r("f3dkA"),d=r("hZoDd"),f=r("iFFUH");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(e){return function(t){var n=l.findTable(t.selection);if(!n)return t;f.splitCellsInColumns(t,n.pos,e.left,e.right);for(var r=t.mapping.maps.length,o=t.doc,i=[],a=e.left;a<e.right;a++){var c=u.AddColumnStep.create(o,n.pos,a,!0);i.push(a),t.step(c.map(t.mapping.slice(r)))}var d=t.mapping.mapResult(n.pos);if(d.deleted){var p=Math.min(d.pos,t.doc.nodeSize-1);t.setSelection(s.Selection.near(t.doc.resolve(p)))}else{var h=t.doc.nodeAt(d.pos);if(h){var g=v(h,i);t.setSelection(s.Selection.near(t.doc.resolve(n.pos+g)))}}return t}},m=function(e){return function(t){var n=l.findTable(t.selection);if(!n)return t;for(var r=[],o=e.left;o<e.right;o++)r.push(o);if(!r.length)return t;for(var i=c.TableMap.get(n.node),a=[],u={},f={},p=0;p<i.height;p++){for(var g=[],m=n.node.child(p),b=function(e){var t=i.map[p*i.width+e],o=n.node.nodeAt(t);if(!o)return"continue";var a=i.cellsInRect({left:e,top:0,right:e+1,bottom:i.height});if(-1===r.indexOf(e)){if(a.indexOf(t)>-1&&!u[t]){var s=0;if(r.forEach((function(t){e<t&&o.attrs.colspan+e-1>=t&&(s+=1)})),s>0){var c=h(h({},o.attrs),{},{colspan:o.attrs.colspan-s});if(o.attrs.colwidth){var l=Math.min.apply(Math,r),d=l>0?l-i.colCount(t):0,m=o.attrs.colwidth.slice()||[];m.splice(d,s),c.colwidth=m}var v=o.type.createChecked(c,o.content,o.marks);return g.push(v),u[t]=!0,"continue"}}else if(f[t]){var b=h(h({},o.attrs),{},{colspan:1,rowspan:1});if(o.attrs.colwidth){var y=e>0?e-i.colCount(t):0;b.colwidth=o.attrs.colwidth.slice().splice(y,1)}var E=o.type.createChecked(b,o.type.schema.nodes.paragraph.createChecked(),o.marks);return g.push(E),"continue"}u[t]||(u[t]=!0,g.push(o))}else a.indexOf(t)>-1&&(f[t]=!0)},y=0;y<i.width;y++)b(y);g.length&&a.push(m.type.createChecked(m.attrs,g,m.marks))}if(!a.length)return d.setMeta({type:"DELETE_COLUMNS",problem:"EMPTY_TABLE"})(t);var E=n.node.type.createChecked(n.node.attrs,a,n.node.marks),x=function(e){var t=c.TableMap.get(e),n=function(e){for(var t=[],n=0;n<e.childCount;n++){for(var r=[],o=e.child(n),i=0;i<o.childCount;i++){var a=o.child(i);r.push(a.attrs.rowspan)}t[n]=Math.min.apply(Math,r)}return t}(e);if(!n.some((function(e){return e>1})))return e;for(var r=[],o=0;o<t.height;o++){var i=e.child(o);if(1===n[o])r.push(i);else{for(var a=[],s=0;s<i.childCount;s++){var l=i.child(s),u=l.attrs.rowspan-n[o]+1;if(u<1)return null;var d=l.type.createChecked(h(h({},l.attrs),{},{rowspan:u}),l.content,l.marks);a.push(d)}r.push(i.type.createChecked(i.attrs,a,i.marks))}}return r.length?e.type.createChecked(e.attrs,r,e.marks):null}(E);if(null===x)return d.setMeta({type:"DELETE_COLUMNS",problem:"FIX_ROWSPANS"})(t);var k=v(E,r);return d.setMeta({type:"DELETE_COLUMNS"})(t.replaceWith(n.pos,n.pos+n.node.nodeSize,x).setSelection(s.Selection.near(t.doc.resolve(n.pos+k))))}};function v(t,n){var r=Math.min.apply(Math,e(i)(n)),o=r>0?r-1:0;return c.TableMap.get(t).map[o]}var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){return t?g(e)(n):m(e)(n)}}})),r.register("iFFUH",(function(n,o){t(n.exports,"splitCellsInColumns",(function(){return l}));var i=r("l15hj"),a=r("jBp4v");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(e,t,n,r){var o=e.mapping.maps.length,i=e.doc.nodeAt(t);if(!i)return e;for(var s=e.doc.resolve(t).start(1),l=a.TableMap.get(i),u=n;u<r;u++)for(var d=0;d<l.height;d++){var f=d*l.width+u,p=l.map[f],h=u>0&&l.map[f-1]===p||d>0&&l.map[(d-1)*l.width+u]===p,g=u<l.width-1&&l.map[f+1]===p||d<l.height-1&&l.map[(d+1)*l.width+u]===p;if(!h&&g){var m=i.nodeAt(p);if(!m)continue;for(var v=m.attrs,b=v.colwidth,y=v.colspan,E=void 0===y?1:y,x=v.rowspan,k=void 0===x?1:x,C=e.mapping.slice(o),S=c(c({},m.attrs),{},{colspan:1,rowspan:1}),T=d;T<d+k;T++)for(var O=0;O<E;O++){var w=e.mapping.slice(o),N=l.positionAt(T,u+O,i);e.insert(w.map(N+s),m.type.createAndFill(c(c({},S),{},{colwidth:b?[b[O]]:void 0})))}C=e.mapping.slice(o),e.delete(C.map(p+s),C.map(p+s+m.nodeSize)),k&&k>1&&(d+=k-1)}}return e}})),r.register("cTtfQ",(function(n,o){t(n.exports,"deleteRows",(function(){return h}));var i=r("fw3Q6"),a=r("l15hj"),s=r("eBSbE"),c=r("jBp4v"),l=r("eK4uv"),u=r("6VAV9"),d=r("hZoDd");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=l.findTable(n.selection);if(!r)return n;for(var o=[],i=c.TableMap.get(r.node),a=e.top;a<e.bottom;a++)if(t){var f=r.node.nodeAt(i.map[a*i.width]);f&&f.type!==f.type.schema.nodes.tableHeader&&o.push(a)}else o.push(a);if(!o.length)return n;for(var h=[],m={},v={},b=function(e){for(var t=[],n=r.node.child(e),a=function(n){var a=i.map[e*i.width+n],s=r.node.nodeAt(a);if(!s)return"continue";var c=i.cellsInRect({left:0,top:e,right:i.width,bottom:e+1});if(-1!==o.indexOf(e)||m[a])c.indexOf(a)>-1&&(v[a]=!0);else{if(c.indexOf(a)>-1){var l=0;if(o.forEach((function(t){e<t&&s.attrs.rowspan+e-1>=t&&(l+=1)})),l>0){var u=s.type.createChecked(p(p({},s.attrs),{},{rowspan:s.attrs.rowspan-l}),s.content,s.marks);return t.push(u),m[a]=!0,"continue"}}else if(v[a]){var d=p(p({},s.attrs),{},{colspan:1,rowspan:1});if(s.attrs.colwidth){var f=n>0?n-i.colCount(a):0;d.colwidth=s.attrs.colwidth.slice().splice(f,1)}var h=s.type.createChecked(d,s.type.schema.nodes.paragraph.createChecked(),s.marks);return t.push(h),"continue"}m[a]||(m[a]=!0,t.push(s))}},s=0;s<i.width;s++)a(s);t.length&&h.push(n.type.createChecked(n.attrs,t,n.marks))},y=0;y<i.height;y++)b(y);if(!h.length)return d.setMeta({type:"DELETE_ROWS",problem:"EMPTY_TABLE"})(n);var E=r.node.type.createChecked(r.node.attrs,h,r.node.marks),x=u.removeEmptyColumns(E);if(null===x)return d.setMeta({type:"DELETE_ROWS",problem:"REMOVE_EMPTY_COLUMNS"})(n);var k=g(E,o);return d.setMeta({type:"DELETE_ROWS"})(n.replaceWith(r.pos,r.pos+r.node.nodeSize,x).setSelection(s.Selection.near(n.doc.resolve(r.pos+k))))}};function g(t,n){var r=Math.min.apply(Math,e(i)(n)),o=r>0?r-1:0,a=c.TableMap.get(t);return a.map[o*a.width]}})),r.register("2Z8wK",(function(n,o){t(n.exports,"updateColumnWidths",(function(){return u}));var i=r("l15hj"),a=r("jBp4v"),s=r("hZoDd");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=function(e,t,n){return function(r){for(var o=a.TableMap.get(t),i={},c=0;c<o.width;c++)for(var u=0;u<o.height;u++){var d=e.cols[c].width,f=u*o.width+c,p=o.map[f],h=i[p]||l({},t.nodeAt(p).attrs),g=h.colspan||1;if(h.colwidth&&h.colwidth.length>g&&(r=s.setMeta({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_BEFORE_UPDATE",data:{colwidths:h.colwidth,colspan:g}})(r),h.colwidth=h.colwidth.slice(0,g)),!u||o.map[f]!==o.map[f-o.width]){var m=1===g?0:c-o.colCount(p);if(!h.colwidth||h.colwidth[m]!==d){var v=h.colwidth?h.colwidth.slice():Array.from({length:g},(function(e){return 0}));v[m]=d,v.length>g&&(r=s.setMeta({type:"UPDATE_COLUMN_WIDTHS",problem:"COLWIDTHS_AFTER_UPDATE",data:{colwidths:v,colspan:g}})(r),v=v.slice(0,g)),i[p]=l(l({},h),{},{colwidth:v.includes(0)?void 0:v})}}}for(var b=[],y={},E=0;E<o.height;E++){for(var x=t.child(E),k=[],C=0;C<o.width;C++){var S=E*o.width+C,T=o.map[S],O=t.nodeAt(T);!y[T]&&O&&(k.push(O.type.createChecked(i[T]||O.attrs,O.content,O.marks)),y[T]=!0)}b.push(x.type.createChecked(x.attrs,k,x.marks))}var w=n-1,N=r.selection,P=Object.assign(Object.create(Object.getPrototypeOf(r.mapping)),r.mapping);return r.replaceWith(w,w+t.nodeSize,t.type.createChecked(t.attrs,b,t.marks)),r.setSelection(N.map(r.doc,P))}}})),r.register("jp8SX",(function(e,n){t(e.exports,"replaceSelectedTable",(function(){return f}));var o=r("eBSbE"),i=r("jWbqG"),a=r("kN6Qk"),s=r("eK4uv");r("cTu5S");var c=r("hNVBR"),l=r("lMXcr"),u=r("9V1f8"),d=r("8yBl0"),f=function(e,t,n){if(a.isTableSelected(e.selection)){var r=s.findTable(e.selection);if(r){var f="string"==typeof t?new i.Slice(i.Fragment.from(e.schema.text(t)),0,0):t,p=e.tr.replace(r.pos,r.pos+r.node.nodeSize,f);p.setSelection(o.TextSelection.create(p.doc,r.pos+f.size+1));var h=d.getSelectedTableInfo(e.selection),g=h.totalRowCount,m=h.totalColumnCount;return c.addAnalytics(e,p,{action:l.TABLE_ACTION.REPLACED,actionSubject:u.ACTION_SUBJECT.TABLE,attributes:{totalColumnCount:m,totalRowCount:g,inputMethod:n},eventType:u.EVENT_TYPE.TRACK}),p}}return e.tr}})),r.register("hIqrF",(function(n,o){t(n.exports,"createCommand",(function(){return f})),t(n.exports,"createPluginState",(function(){return p})),t(n.exports,"getPluginState",(function(){return h}));var i=r("l15hj"),a=r("27k6c"),s=r("eg9AV"),c=r("ahHhZ");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=a.pluginFactory(s.pluginKey,c.default,{mapping:function(e,t){return t&&null!==t.resizeHandlePos?u(u({},t),{},{resizeHandlePos:e.mapping.map(t.resizeHandlePos)}):t}}),f=d.createCommand,p=d.createPluginState,h=d.getPluginState})),r.register("eg9AV",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("tableFlexiColumnResizing")})),r.register("ahHhZ",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(e,t){switch(t.type){case"STOP_RESIZING":return s(s({},e),{},{resizeHandlePos:null,dragging:null});case"SET_RESIZE_HANDLE_POSITION":return s(s({},e),{},{resizeHandlePos:t.data.resizeHandlePos});case"SET_DRAGGING":return s(s({},e),{},{dragging:t.data.dragging});case"SET_LAST_CLICK":var n=t.data.lastClick;return s(s({},e),{},{lastClick:n,resizeHandlePos:n?e.resizeHandlePos:null});default:return e}}})),r.register("a5oGX",(function(e,n){t(e.exports,"handleMouseDown",(function(){return C}));var o=r("jBp4v"),i=r("kB6gF");r("igW5C");var a=r("jPV1L");r("8iml0");var s=r("82cWi"),c=r("dbjVR"),l=r("6CSp2"),u=r("9D9P7"),d=r("2Z8wK"),f=r("1008F"),p=r("22efJ"),h=r("krkdW"),g=r("hIqrF"),m=r("fM5cb"),v=r("aXMrY"),b=r("cih3I"),y=r("9dHEx");r("cTu5S");var E=r("hNVBR"),x=r("lMXcr"),k=r("9V1f8"),C=function(e,t,n,r){var C=e.state,S=e.dispatch,T=l.pluginKey.getState(C).editorDisabled,O=e.domAtPos.bind(e);if(T||null===n||!m.pointsAtCell(C.doc.resolve(n)))return!1;t.preventDefault();var w=t.timeStamp,N=C.doc.nodeAt(n),P=C.doc.resolve(n),A=P.node(-1),I=P.start(-1),D=O(I).node;D&&"TABLE"!==D.nodeName&&(D=D.closest("table"));var R=u.pluginKey.getState(C),M=c.getParentNodeWidth(I,C,R)||m.getLayoutSize(D.getAttribute("data-layout"),R.width,{dynamicTextSizing:r});A.attrs.isNumberColumnEnabled&&(M-=s.akEditorTableNumberColumnWidth);var _=v.getResizeState({minWidth:a.tableCellMinWidth,maxSize:M,table:A,tableRef:D,start:I,domAtPos:O});if(h.evenColumns({resizeState:_,table:A,start:I,event:t})(C,S))return B(t),!0;var j=m.currentColWidth(e,n,N.attrs);function B(t){window.removeEventListener("mouseup",B),window.removeEventListener("mousemove",L);var n=t.clientX,r=e.state,a=e.dispatch,s=g.getPluginState(r),c=s.dragging,l=s.resizeHandlePos;if(null===l)return h.stopResizing()(r,a);if(m.pointsAtCell(r.doc.resolve(l))){var u=r.doc.resolve(l),p=u.start(-1),v=u.node(-1);if(c&&n===c.startX)return h.stopResizing()(r,a);var y=r.tr;if(c){var C=c.startX;if(v.eq(A)){var S=o.TableMap.get(v),T=S.colCount(u.pos-p)+(u.nodeAfter?u.nodeAfter.attrs.colspan:1)-1,O=i.getSelectionRect(r.selection),N=O?f.getSelectedColumnIndexes(O):[],P=N.indexOf(T)>-1||N.indexOf(T+1)>-1,I=b.resizeColumn(_,T,n-C,D,P?N:void 0);if(y=d.updateColumnWidths(I,v,p)(y),T===S.width-1){var R=t.timeStamp;y=E.addAnalytics(r,y,{action:x.TABLE_ACTION.ATTEMPTED_TABLE_WIDTH_CHANGE,actionSubject:k.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{type:"table-border",position:"right",duration:R-w,delta:Math.abs(n-c.startX)},eventType:k.EVENT_TYPE.UI})}}return h.stopResizing(y)(r,a)}}}function L(t){var n=t.clientX,r=t.which,i=e.state,a=g.getPluginState(i),s=a.dragging,c=a.resizeHandlePos;if(!r||!s||null===c||!m.pointsAtCell(i.doc.resolve(c)))return B(t);var l=i.doc.resolve(c),u=l.node(-1),d=o.TableMap.get(u).colCount(l.pos-l.start(-1))+l.nodeAfter.attrs.colspan-1;b.resizeColumn(_,d,n-s.startX,D),y.updateControls(i),p.updateResizeHandles(D)}return h.setDragging({startX:t.clientX,startWidth:j})(C,S),window.addEventListener("mouseup",B),window.addEventListener("mousemove",L),!0}})),r.register("f3Zza",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("l15hj"),a=r("bTYtw");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e,t){switch(t.type){case"TOGGLE_HEADER_COLUMN":return c(c({},e),{},{isHeaderColumnEnabled:!e.isHeaderColumnEnabled});case"TOGGLE_HEADER_ROW":return c(c({},e),{},{isHeaderRowEnabled:!e.isHeaderRowEnabled});case"CLEAR_HOVER_SELECTION":return c(c(c({},e),t.data),a.defaultTableSelection);case"SELECT_COLUMN":case"SET_TARGET_CELL_POSITION":return c(c(c({},e),t.data),{},{isContextualMenuOpen:!1});case"SET_TABLE_LAYOUT":case"SET_TABLE_REF":case"HOVER_ROWS":case"HOVER_COLUMNS":case"HOVER_TABLE":case"HOVER_CELLS":case"SHOW_RESIZE_HANDLE_LINE":case"SET_EDITOR_FOCUS":return c(c({},e),t.data);case"TOGGLE_CONTEXTUAL_MENU":return c(c({},e),{},{isContextualMenuOpen:!e.isContextualMenuOpen});case"SHOW_INSERT_ROW_BUTTON":return t.data.insertRowButtonIndex===e.insertRowButtonIndex?e:c(c(c({},e),t.data),{},{insertColumnButtonIndex:void 0});case"SHOW_INSERT_COLUMN_BUTTON":return t.data.insertColumnButtonIndex===e.insertColumnButtonIndex?e:c(c(c({},e),t.data),{},{insertRowButtonIndex:void 0});case"HIDE_INSERT_COLUMN_OR_ROW_BUTTON":return void 0!==e.insertRowButtonIndex||void 0!==e.insertColumnButtonIndex?c(c({},e),{},{insertRowButtonIndex:void 0,insertColumnButtonIndex:void 0}):e;case"HIDE_RESIZE_HANDLE_LINE":return c(c(c({},e),t.data),{},{resizeHandleColumnIndex:void 0});case"ADD_RESIZE_HANDLE_DECORATIONS":return t.data.resizeHandleColumnIndex===e.resizeHandleColumnIndex?e:c(c({},e),t.data);case"SET_TABLE_SIZE":return e.tableWidth!==t.data.tableWidth||e.tableHeight!==t.data.tableHeight?c(c({},e),t.data):e;default:return e}}})),r.register("dC2AG",(function(e,n){t(e.exports,"addColumnBefore",(function(){return y})),t(e.exports,"addColumnAfter",(function(){return E})),t(e.exports,"insertColumn",(function(){return x})),t(e.exports,"insertRow",(function(){return k})),t(e.exports,"createTable",(function(){return C}));var o=r("eBSbE"),i=r("jBp4v"),a=r("eK4uv"),s=r("dQmzW"),c=r("7Cbfw"),l=r("5qHKJ"),u=r("kEb1F"),d=r("iFBc4");r("ksxA8");var f=r("f3dkA"),p=r("cFImz"),h=r("hiCRA"),g=r("5m4YX"),m=r("kCMcP");function v(e){return function(t){var n=a.findTable(t.selection);return n?t.step(f.AddColumnStep.create(t.doc,n.pos,e)):t}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?v(e):s.addColumnAt(e)}var y=function(e,t){if(!a.findTable(e.selection))return!1;t&&t(b(c.selectedRect(e).left,m.getAllowAddColumnCustomStep(e))(e.tr));return!0},E=function(e,t){if(!a.findTable(e.selection))return!1;t&&t(b(c.selectedRect(e).right,m.getAllowAddColumnCustomStep(e))(e.tr));return!0},x=function(e){return function(t,n){var r=b(e,m.getAllowAddColumnCustomStep(t))(t.tr),s=a.findTable(r.selection);if(!s)return!1;var c=i.TableMap.get(s.node).positionAt(0,e,s.node);return n&&n(r.setSelection(o.Selection.near(r.doc.resolve(s.start+c)))),!0}},k=function(e,t){return function(n,r){var s=h.checkIfHeaderRowEnabled(n);if(0===e&&s)return!1;var c=s&&e>1||!s&&e>0?g.copyPreviousRow(n.schema)(e)(n.tr):l.addRowAt(e)(n.tr),u=a.findTable(c.selection);if(!u)return!1;if(r){var d=n.selection;if(t){var f=i.TableMap.get(u.node).positionAt(e,0,u.node);c.setSelection(o.Selection.near(c.doc.resolve(u.start+f)))}else c.setSelection(d.map(c.doc,c.mapping));r(c)}return!0}},C=function(e){return function(t,n){if(!p.getPluginState(t))return!1;var r=u.createTable({schema:t.schema,allowLocalId:e});return n&&n(d.safeInsert(r)(t.tr).scrollIntoView()),!0}}})),r.register("kCMcP",(function(e,n){t(e.exports,"getAllowAddColumnCustomStep",(function(){return i}));var o=r("cFImz");function i(e){var t=o.getPluginState(e);return Boolean(t)&&Boolean(t.pluginConfig.allowAddColumnWithCustomStep)}})),r.register("3sOIY",(function(n,o){t(n.exports,"getNextLayout",(function(){return d})),t(n.exports,"toggleHeaderRow",(function(){return f})),t(n.exports,"toggleHeaderColumn",(function(){return p})),t(n.exports,"toggleNumberColumn",(function(){return h})),t(n.exports,"toggleTableLayout",(function(){return g})),t(n.exports,"toggleContextualMenu",(function(){return m}));var i=r("l15hj"),a=r("6yzy2"),s=r("eK4uv"),c=(a=r("6yzy2"),s=r("eK4uv"),r("cFImz"));function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(e){switch(e){case"default":return"wide";case"wide":return"full-width";default:return"default"}},f=function(e,t){return a.toggleHeader("row")(e,(function(n){return c.createCommand({type:"TOGGLE_HEADER_ROW"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},p=function(e,t){return a.toggleHeader("column")(e,(function(n){return c.createCommand({type:"TOGGLE_HEADER_COLUMN"},(function(){return n.setMeta("scrollIntoView",!1)}))(e,t)}))},h=function(e,t){var n=e.tr,r=s.findTable(e.selection),o=r.node,i=r.pos;return n.setNodeMarkup(i,e.schema.nodes.table,u(u({},o.attrs),{},{isNumberColumnEnabled:!o.attrs.isNumberColumnEnabled})),n.setMeta("scrollIntoView",!1),t&&t(n),!0},g=function(e,t){var n=s.findTable(e.selection);if(!n)return!1;var r=d(n.node.attrs.layout);return c.createCommand({type:"SET_TABLE_LAYOUT",data:{layout:r}},(function(t){return t.setNodeMarkup(n.pos,e.schema.nodes.table,u(u({},n.node.attrs),{},{layout:r})),t.setMeta("scrollIntoView",!1)}))(e,t)},m=function(){return c.createCommand({type:"TOGGLE_CONTEXTUAL_MENU"},(function(e){return e.setMeta("addToHistory",!1)}))}})),r.register("iIZaH",(function(n,o){t(n.exports,"setEditorFocus",(function(){return D})),t(n.exports,"setTableRef",(function(){return R})),t(n.exports,"triggerUnlessTableHeader",(function(){return M})),t(n.exports,"transformSliceRemoveCellBackgroundColor",(function(){return _})),t(n.exports,"transformSliceToAddTableHeaders",(function(){return j})),t(n.exports,"transformSliceToRemoveColumnsWidths",(function(){return B})),t(n.exports,"deleteTable",(function(){return L})),t(n.exports,"deleteTableIfSelected",(function(){return F})),t(n.exports,"moveCursorBackward",(function(){return z})),t(n.exports,"setMultipleCellAttrs",(function(){return W})),t(n.exports,"selectColumn",(function(){return U})),t(n.exports,"selectRow",(function(){return H})),t(n.exports,"showInsertColumnButton",(function(){return V})),t(n.exports,"showInsertRowButton",(function(){return K})),t(n.exports,"hideInsertColumnOrRowButton",(function(){return G})),t(n.exports,"addResizeHandleDecorations",(function(){return J})),t(n.exports,"setTableSize",(function(){return q})),t(n.exports,"autoSizeTable",(function(){return Y})),t(n.exports,"addBoldInEmptyHeaderCells",(function(){return Z}));var i=r("l15hj"),a=r("eBSbE"),s=(r("jBp4v"),r("bKnyF")),c=r("eK4uv"),l=(r("epkfV"),r("kB6gF")),u=r("i7mvx"),d=r("kN6Qk"),f=r("1RK3w"),p=r("eZw3l"),h=r("4K3Qg"),g=r("5n8GX"),m=r("PPI7U"),v=r("9J8af"),b=r("lGsoF"),y=r("eNOQT"),E=r("hxFzZ");r("7yjFi");var x=r("j4q6X"),k=r("ktk1y"),C=r("eP2ua"),S=r("cFImz"),T=r("i1cGK"),O=r("a3gyn"),w=r("hquSL"),N=r("hiCRA"),P=r("4tB9i");function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?A(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var D=function(e){return S.createCommand({type:"SET_EDITOR_FOCUS",data:{editorHasFocus:e}})},R=function(e){return S.createCommand((function(t){var n=e,r=c.findTable(t.selection),o=e&&r?r.node:void 0,i=e&&r?r.pos:void 0,a=y.closestElement(n,".".concat(O.TableCssClassName.TABLE_NODE_WRAPPER))||void 0,s=o?o.attrs.layout:void 0,l=P.updatePluginStateDecorations(t,w.createColumnControlsDecoration(t.selection),O.TableDecorations.COLUMN_CONTROLS_DECORATIONS);return{type:"SET_TABLE_REF",data:{tableRef:n,tableNode:o,tablePos:i,tableWrapperTarget:a,layout:s||"default",isHeaderRowEnabled:N.checkIfHeaderRowEnabled(t),isHeaderColumnEnabled:N.checkIfHeaderColumnEnabled(t),decorationSet:l,resizeHandleColumnIndex:void 0}}}),(function(e){return e.setMeta("addToHistory",!1)}))},M=function(e){return function(t,n){var r=t.selection,o=t.schema.nodes.tableHeader;if(r instanceof a.TextSelection){var i=c.findCellClosestToPos(r.$from);if(i&&i.node.type!==o)return e(t,n)}if(r instanceof s.CellSelection){var u=l.getSelectionRect(r);if(!N.checkIfHeaderRowEnabled(t)||u&&u.top>0)return e(t,n)}return!1}},_=function(e,t){var n=t.nodes,r=n.tableCell,o=n.tableHeader;return E.mapSlice(e,(function(e){if(e.type===r||e.type===o){var t=I({},e.attrs);return t.background=void 0,e.type.createChecked(t,e.content,e.marks)}return e}))},j=function(e,t){var n=t.nodes,r=n.table,o=n.tableHeader,i=n.tableRow;return E.mapSlice(e,(function(e){if(e.type===r){var t=e.firstChild;if(t){var n=[];t.forEach((function(e){n.push(o.createChecked(e.attrs,e.content,e.marks))}));var a=i.createChecked(t.attrs,n,t.marks);return e.copy(e.content.replaceChild(0,a))}}return e}))},B=function(e,t){var n=t.nodes,r=n.tableHeader,o=n.tableCell;return E.mapSlice(e,(function(e){return(e.type===o||e.type===r)&&e.attrs.colwidth?e.type.createChecked(I(I({},e.attrs),{},{colwidth:void 0}),e.content,e.marks):e}))},L=function(e,t){return t&&t(u.removeTable(e.tr)),!0},F=function(e,t){return!!d.isTableSelected(e.selection)&&L(e,t)},z=function(e,t){var n,r,o=e.selection.$cursor;if(!o||o.parentOffset>0)return!1;if(!N.isIsolating(o.parent))for(var i=o.depth-1;!n&&i>=0&&(o.index(i)>0&&(r=o.before(i+1),n=o.node(i).child(o.index(i)-1)),!N.isIsolating(o.node(i)));i--);if(!n||n.type!==e.schema.nodes.table)return!1;var s=o.node(o.depth-1),c=e.schema.nodes.listItem;if(o.parent.type!==e.schema.nodes.paragraph||s&&s.type!==e.schema.nodes.doc)return!(!s||s.type!==c)&&x.outdentList()(e,t);var l=e.tr,u=(r||0)-4;l.setSelection(new a.TextSelection(e.doc.resolve(u)));var d=l.selection.$from,f=d.start(-1)+d.parent.nodeSize-1;return t&&t(l.setSelection(new a.TextSelection(e.doc.resolve(f)))),!0},W=function(e,t){return function(n,r){var o,i=n.tr;if(f.isSelectionType(i.selection,"cell")){var s=i.selection;s.forEachCell((function(t,n){var r=i.doc.resolve(i.mapping.map(n+1));i=p.setCellAttrs(c.findCellClosestToPos(r),e)(i)})),o=s.$headCell.pos}else if(t){var l=c.findCellClosestToPos(i.doc.resolve(t+1));i=p.setCellAttrs(l,e)(i),o=l.pos}if(i.docChanged&&void 0!==o){var u=i.doc.resolve(i.mapping.map(o));return r&&r(i.setSelection(a.Selection.near(u))),!0}return!1}},U=function(e,t){return S.createCommand((function(n){var r=h.getCellsInColumn(e)(n.tr.selection);if(!r||!r.length||"number"!=typeof r[0].pos)return!1;var o=w.createColumnSelectedDecoration(g.selectColumn(e,t)(n.tr)),i=P.updatePluginStateDecorations(n,o,O.TableDecorations.COLUMN_SELECTED);return{type:"SELECT_COLUMN",data:{targetCellPosition:r[0].pos,decorationSet:i}}}),(function(n){return g.selectColumn(e,t)(n).setMeta("addToHistory",!1)}))},H=function(e,t){return S.createCommand((function(t){var n,r=m.getCellsInRow(e)(t.tr.selection);return r&&r.length&&(n=r[0].pos),{type:"SET_TARGET_CELL_POSITION",data:{targetCellPosition:n}}}),(function(n){return g.selectRow(e,t)(n).setMeta("addToHistory",!1)}))},V=function(e){return S.createCommand((function(t){return e>-1&&{type:"SHOW_INSERT_COLUMN_BUTTON",data:{insertColumnButtonIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},K=function(e){return S.createCommand((function(t){return e>-1&&{type:"SHOW_INSERT_ROW_BUTTON",data:{insertRowButtonIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},G=function(){return S.createCommand({type:"HIDE_INSERT_COLUMN_OR_ROW_BUTTON"},(function(e){return e.setMeta("addToHistory",!1)}))},J=function(e){return S.createCommand((function(t){var n=c.findTable(t.selection),r=S.getPluginState(t).pluginConfig.allowColumnResizing;return!(!n||!r)&&{type:"ADD_RESIZE_HANDLE_DECORATIONS",data:{decorationSet:C.buildColumnResizingDecorations(e)({tr:t.tr,decorationSet:k.getDecorations(t)}),resizeHandleColumnIndex:e}}}),(function(e){return e.setMeta("addToHistory",!1)}))},q=function(e,t){return S.createCommand({type:"SET_TABLE_SIZE",data:{tableHeight:e,tableWidth:t}},(function(e){return e.setMeta("addToHistory",!1)}))},Y=function(e,t,n,r,o){return e.dispatch(T.fixAutoSizedTable(e,t,n,r,o)),!0},Z=function(e){return function(t,n){var r=t.tr;if(v.isTextSelection(r.selection)&&r.selection.$cursor&&null==r.storedMarks&&r.selection.$from.depth===e.depth+1&&4===e.node.nodeSize&&b.isParagraph(e.node.firstChild,t.schema)){var o=t.schema.marks.strong;return r.setStoredMarks([o.create()]).setMeta("addToHistory",!1),n&&n(r),!0}return!1}}})),r.register("7yjFi",(function(n,o){t(n.exports,"enterKeyCommand",(function(){return O})),t(n.exports,"backspaceKeyCommand",(function(){return w})),t(n.exports,"deleteKeyCommand",(function(){return N})),t(n.exports,"toggleList",(function(){return P})),t(n.exports,"toggleBulletList",(function(){return A})),t(n.exports,"toggleOrderedList",(function(){return I})),t(n.exports,"outdentList",(function(){return r("j4q6X").outdentList})),t(n.exports,"indentList",(function(){return r("6ury8").indentList}));var i=r("l15hj"),a=r("jWbqG"),s=r("6sW8E"),c=r("l5dFf"),l=r("h4xrY"),u=r("iFBc4"),d=r("l9fpM"),f=r("jd53t");r("9J8af");var p=r("4MrvE"),h=r("hiQ5y"),g=r("1wUBP");r("cTu5S");var m=r("9V1f8"),v=r("hNVBR"),b=r("5xilD"),y=r("9VCaC"),E=r("5hYmL"),x=r("6knXW"),k=r("92aK2"),C=r("j4q6X");r("6ury8");function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?S(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var O=function(e,t){var n,r=e.selection;if(r.empty){var o=r.$from,i=e.schema.nodes,s=i.listItem,c=i.codeBlock,l=o.node(o.depth),f=o.node(o.depth-1);if(f&&f.type===s){var p=d.hasVisibleContent(f);if(d.isNodeEmpty(l)&&!p)return C.outdentList(m.INPUT_METHOD.KEYBOARD)(e,t);if(!u.hasParentNodeOfType(c)(r))return(n=s,function(e,t){var r=e.selection,o=r.$from,i=r.$to,s=r.node;if(s&&s.isBlock||o.depth<2||!o.sameParent(i))return!1;var c=o.node(-1);if(c.type!==n)return!1;if(c.content.content.length<=1&&0===o.parent.content.size&&0!==c.content.size){if(2===o.depth||o.node(-3).type!==n||o.index(-2)!==o.node(-2).childCount-1)return!1;if(t){for(var l=a.Fragment.empty,u=o.index(-1)>0,d=o.depth-(u?1:2);d>=o.depth-3;d--)l=a.Fragment.from(o.node(d).copy(l));l=l.append(a.Fragment.from(n.createAndFill()));var f=e.tr.replace(o.before(u?void 0:-1),o.after(-3),new a.Slice(l,u?3:2,2));f.setSelection(e.selection.constructor.near(f.doc.resolve(o.pos+(u?3:2)))),t(f.scrollIntoView())}return!0}var p=i.pos===o.end()?c.contentMatchAt(0).defaultType:void 0,h=e.tr.delete(o.pos,i.pos),g=p&&[void 0,{type:p}];return t&&t(h.split(o.pos,2,g).scrollIntoView()),!0})(e,t)}}return!1},w=function(e,t){return c.chainCommands(E.listBackspace,f.filter([f.isEmptySelectionAtStart,f.isFirstChildOfParent,b.isInsideListItem],c.chainCommands(D,C.outdentList(m.INPUT_METHOD.KEYBOARD))),f.filter([f.isEmptySelectionAtStart,b.canJoinToPreviousListItem],R))(e,t)},N=x.joinListItemForward;function P(e,t){return function(n,r){var o,i=n.tr,a=b.selectionContainsList(i),s=n.schema.nodes[t],u="bulletList"===t?m.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET:m.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER;if(a){var d=n.selection,f=d.$from.node(d.$from.depth-2),g=d.$to.node(d.$to.depth-2),E="bulletList"===a.type.name?m.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET:m.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER;if(f.type.name===t&&g.type.name===t){var x=n.tr;return function(e){var t=e.selection,n=function(e,t){for(var n,r=t.bulletList,o=t.orderedList,i=t.listItem,a=e.depth-1;a>0;a--){var s=e.node(a);if(s.type!==r&&s.type!==o||(n=a),s.type!==r&&s.type!==o&&s.type!==i)break}return n}(t.$to,e.doc.type.schema.nodes);e=h.liftFollowingList(t.$to.pos,t.$to.end(n),n||0,e),e=h.liftSelectionList(t,e)}(x),v.addAnalytics(n,x,{action:m.ACTION.CONVERTED,actionSubject:m.ACTION_SUBJECT.LIST,actionSubjectId:m.ACTION_SUBJECT_ID.TEXT,eventType:m.EVENT_TYPE.TRACK,attributes:T(T({},y.getCommonListAnalyticsAttributes(n)),{},{transformedFrom:E,inputMethod:e})}),r&&r(x),!0}k.convertListType({tr:i,nextListNodeType:s}),v.addAnalytics(n,i,{action:m.ACTION.CONVERTED,actionSubject:m.ACTION_SUBJECT.LIST,actionSubjectId:u,eventType:m.EVENT_TYPE.TRACK,attributes:T(T({},y.getCommonListAnalyticsAttributes(n)),{},{transformedFrom:E,inputMethod:e})})}else{(o=s,c.autoJoin(l.wrapInList(o),(function(e,t){return e.type===t.type&&e.type===o})))(n,(function(e){i=e})),v.addAnalytics(n,i,{action:m.ACTION.INSERTED,actionSubject:m.ACTION_SUBJECT.LIST,actionSubjectId:u,eventType:m.EVENT_TYPE.TRACK,attributes:{inputMethod:e}})}return!!i.docChanged&&(p.sanitiseMarksInSelection(i,s),r&&r(i),!0)}}function A(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.INPUT_METHOD.TOOLBAR;return P(t,"bulletList")(e.state,e.dispatch)}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.INPUT_METHOD.TOOLBAR;return P(t,"orderedList")(e.state,e.dispatch)}var D=function(e,t){var n=e.selection.$from,r=e.schema.nodes.listItem,o=f.findCutBefore(n);if(!o||!o.nodeBefore||o.nodeBefore.type!==r)return!1;if(1===o.nodeBefore.childCount&&o.nodeBefore.firstChild.nodeSize<=2){var i=e.tr;return t&&t(i.delete(o.pos-o.nodeBefore.nodeSize,n.pos).scrollIntoView()),!0}return!1},R=function(e,t){var n=e.selection.$from,r=e.schema.nodes,o=r.paragraph,i=r.listItem,c=r.codeBlock,l=r.bulletList,d=r.orderedList,p=e.selection instanceof g.GapCursorSelection,h=p?e.doc.resolve(n.pos+1):n,m=f.findCutBefore(h);if(!m)return!1;if(m.nodeBefore&&[l,d].indexOf(m.nodeBefore.type)>-1&&m.nodeAfter&&(m.nodeAfter.type===o||m.nodeAfter.type===c)){for(var v=m.doc.resolve(m.pos-1);v.parent.type!==o;)v=e.doc.resolve(v.pos-1);var b=e.tr;if(p){var y=u.findPositionOfNodeBefore(b.selection);if("number"!=typeof y)return!1;var E=m.nodeBefore.copy(m.nodeBefore.content.append(a.Fragment.from(i.createChecked({},m.nodeAfter))));b.replaceWith(y,n.pos+m.nodeAfter.nodeSize,E)}else b=e.tr.step(new s.ReplaceAroundStep(v.pos,m.pos+m.nodeAfter.nodeSize,m.pos+1,m.pos+m.nodeAfter.nodeSize-1,e.tr.doc.slice(v.pos,m.pos),0,!0));var x=b.doc.resolve(b.mapping.map(m.pos+m.nodeAfter.nodeSize));return x.nodeBefore&&x.nodeAfter&&x.nodeBefore.type===x.nodeAfter.type&&[l,d].indexOf(x.nodeBefore.type)>-1&&(b=b.join(x.pos)),t&&t(b.scrollIntoView()),!0}return!1}})),r.register("h4xrY",(function(e,n){t(e.exports,"wrapInList",(function(){return a}));var o=r("6sW8E"),i=r("jWbqG");function a(e,t){return function(n,r){var a=n.selection,s=a.$from,c=a.$to,l=s.blockRange(c),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(e)&&0==l.startIndex){if(0==s.index(l.depth-1))return!1;var f=n.doc.resolve(l.start-2);d=new i.NodeRange(f,f,l.depth),l.endIndex<l.parent.childCount&&(l=new i.NodeRange(s,n.doc.resolve(c.end(l.depth)),l.depth)),u=!0}var p=o.findWrapping(d,e,t,l);return!!p&&(r&&r(function(e,t,n,r,a){for(var s=i.Fragment.empty,c=n.length-1;c>=0;c--)s=i.Fragment.from(n[c].type.create(n[c].attrs,s));e.step(new o.ReplaceAroundStep(t.start-(r?2:0),t.end,t.start,t.end,new i.Slice(s,0,0),n.length,!0));for(var l=0,u=0;u<n.length;u++)n[u].type==a&&(l=u+1);for(var d=n.length-l,f=t.start+n.length-(r?2:0),p=t.parent,h=t.startIndex,g=t.endIndex,m=!0;h<g;h++,m=!1)!m&&o.canSplit(e.doc,f,d)&&(e.split(f,d),f+=2*d),f+=p.child(h).nodeSize;return e}(n.tr,l,p,u,e).scrollIntoView()),!0)}}})),r.register("hiQ5y",(function(n,o){t(n.exports,"liftFollowingList",(function(){return g})),t(n.exports,"liftSelectionList",(function(){return m})),t(n.exports,"splitParagraphs",(function(){return x})),t(n.exports,"upgradeTextToLists",(function(){return k}));var i=r("fw3Q6"),a=r("h67q9"),s=r("jWbqG"),c=r("eBSbE"),l=r("6sW8E"),u=r("l5dFf"),d=r("6q2D0"),f=r("hxFzZ"),p=r("kcQQ9");function h(e,t){var n=e.$from,r=e.$to,o=t.doc.type.schema.nodes.listItem,i=n.blockRange(r,(function(e){return!!e.childCount&&!!e.firstChild&&e.firstChild.type===o}));if(!i||i.depth<2||n.node(i.depth-1).type!==o)return t;var a=i.end,c=r.end(i.depth);return a<c&&(t.step(new l.ReplaceAroundStep(a-1,c,a,c,new s.Slice(s.Fragment.from(o.create(void 0,i.parent.copy())),1,0),1,!0)),i=new s.NodeRange(t.doc.resolve(n.pos),t.doc.resolve(c),i.depth)),t.lift(i,l.liftTarget(i)).scrollIntoView()}function g(e,t,n,r){var o=r.doc.type.schema.nodes.listItem,i=!1;return r.doc.nodesBetween(e,t,(function(t,a){if(!i&&t.type===o&&a>e){i=!0;for(var s=n+3;s>n+2;){var l=r.doc.resolve(r.mapping.map(a));s=l.depth;var u=r.doc.resolve(r.mapping.map(a+t.textContent.length)),d=new c.TextSelection(l,u);r=h(d,r)}}})),r}function m(e,t){var n=e.from,r=e.to,o=t.doc.type.schema.nodes.paragraph,i=[];t.doc.nodesBetween(n,r,(function(e,t){e.type===o&&i.push({node:e,pos:t})}));for(var a=i.length-1;a>=0;a--){var s=i[a],c=t.doc.resolve(t.mapping.map(s.pos));if(c.depth>0){var l=void 0;l=s.node.textContent&&s.node.textContent.length>0?t.doc.resolve(t.mapping.map(s.pos+s.node.textContent.length)):t.doc.resolve(t.mapping.map(s.pos+1));var u=c.blockRange(l);u&&t.lift(u,p.getListLiftTarget(c))}}return t}var v=/^\s*[\*\-\u2022](\s+|\s+$)/,b=/^\s*\d[\.\)](\s+|$)/,y=function(t,n,r){var o,i=r.nodes,l=i.hardBreak,p=i.bulletList,h=i.orderedList,g=f.mapChildren(t.content,(function(e){return e})),m=[p,h],y=g.map((function(t,o){var i=function(e,t){if(!e.text)return null;var n=t.nodes,r=n.bulletList,o=n.orderedList;return[{node:r,matcher:v},{node:o,matcher:b}].reduce((function(t,n){if(t)return t;var r=e.text.match(n.matcher);return r?[n.node,r[0].length]:t}),null)}(t,r),c=o>0&&g[o-1];if(c&&c.type!==l)return t;if(!i||!t.text)return t;var u=e(a)(i,2),d=u[0],f=u[1],p=t.text.substr(f),h=r.nodes.listItem.createAndFill(void 0,r.nodes.paragraph.createChecked(void 0,p.length?r.text(p):void 0));if(!h)return t;var m=d.createChecked(void 0,[h]);return n&&!n.type.validContent(s.Fragment.from(m))?t:m})).filter((function(e,t,n){return e.type!==l?e:t>0&&m.indexOf(n[t-1].type)>-1||t<n.length-1&&m.indexOf(n[t+1].type)>-1?null:e})),E=c.EditorState.create({schema:r});u.autoJoin((function(e,t){return!!t&&(!y.some((function(e){return e.isText}))&&(t(e.tr.replaceWith(0,2,y)),!0))}),(function(e,t){return d.isListNode(e)&&d.isListNode(t)}))(E,(function(e){o=e}));var x=o?o.doc.content:s.Fragment.from(y),k=r.nodes.paragraph;return k.validContent(x)?s.Fragment.from(k.create(t.attrs,x,t.marks)):x},E=function(t){var n=t.fragment,r=t.blockMarks,o=void 0===r?[]:r,a=t.schema,c=[],l=[],u=null,d=a.nodes,f=d.hardBreak,p=d.paragraph;return n.forEach((function(t){if(u&&u.type===f&&t.type===f)return l.pop(),c.push(p.createChecked(void 0,l,e(i)(o))),void(l=[]);l.push(t),u=t})),l.length&&c.push(p.createChecked(void 0,l,e(i)(o))),s.Fragment.from(c.length?c:[p.createAndFill(void 0,void 0,e(i)(o))])},x=function(e,t){var n=!1;if(e.content.forEach((function(e){n=n||e.marks.some((function(e){return e.type===t.marks.code}))})),t.nodes.paragraph.validContent(e.content)&&!n){var r=E({fragment:e.content,schema:t});return new s.Slice(r,e.openStart+1,e.openEnd+1)}return f.mapSlice(e,(function(e){return e.type===t.nodes.paragraph?E({fragment:e.content,blockMarks:e.marks,schema:t}):e}))},k=function(e,t){return f.mapSlice(e,(function(e,n){return e.type===t.nodes.paragraph?y(e,n,t):e}))}})),r.register("6q2D0",(function(e,n){t(e.exports,"isListNode",(function(){return s})),t(e.exports,"isParagraphNode",(function(){return c})),t(e.exports,"isListItemNode",(function(){return l})),t(e.exports,"isBulletList",(function(){return u})),t(e.exports,"JoinDirection",(function(){return o})),t(e.exports,"joinSiblingLists",(function(){return f}));var o,i,a=r("jWbqG");function s(e){return Boolean(e&&e.type&&["orderedList","bulletList"].includes(e.type.name))}function c(e){return Boolean(e&&e.type&&"paragraph"===e.type.name)}function l(e){return Boolean(e&&e.type&&"listItem"===e.type.name)}function u(e){return Boolean(e&&e.type&&"bulletList"===e.type.name)}function d(e){var t=e.type.schema.nodes.bulletList;if(!t)return!1;var n=a.Fragment.from(t.createAndFill());return!l(e)&&e.type.validContent(n)}(i=o||(o={}))[i.LEFT=1]="LEFT",i[i.RIGHT=-1]="RIGHT";var f=function(e){var t=e.tr,n=e.direction,r=e.forceListType,i={orderedList:0,bulletList:0},a=t.doc,c=t.selection,u=c.$from,f=c.$to,p=t.selection,h=u.blockRange(f,d);if(!h)return i;var g=a.nodeAt(h.start),m=s(g)?h.start:0,v=s(g)?h.end:t.doc.content.size,b=[];if(a.nodesBetween(m,v,(function(e,i,c){var u=a.resolve(i),d=u.nodeBefore,f=u.nodeAfter;if(d&&f&&s(d)&&s(f)){var p=l(c);if(p||d.type===f.type||r){var h=u.index(),g=u.posAtIndex(h-1),m=u.posAtIndex(h);if(r&&(t.setNodeMarkup(g,r),t.setNodeMarkup(m,r)),p&&d.type!==f.type){var v=n===o.RIGHT?f.type:d.type;t.setNodeMarkup(g,v)}b.push(i)}}})),p.empty&&g&&s(g)){var y=a.resolve(h.start+g.nodeSize),E=y.nodeBefore,x=y.nodeAfter;E&&x&&s(E)&&s(x)&&x.type===E.type&&b.push(y.pos)}for(var k=b.length-1;k>=0;k--){var C=t.doc.nodeAt(b[k]);if(C){var S=i[C.type.name]||0;i[C.type.name]=S+1}t.join(b[k])}return i}})),r.register("kcQQ9",(function(e,n){t(e.exports,"getListLiftTarget",(function(){return a})),t(e.exports,"hasValidListIndentationLevel",(function(){return s}));var o=r("5xilD"),i=r("6q2D0"),a=function(e){for(var t=e.depth,n=e.depth;n>0;n--){var r=e.node(n);if(i.isListNode(r)&&(t=n),!i.isListItemNode(r)&&!i.isListNode(r))break}return t-1},s=function(e){var t,n=e.tr,r=e.maxIndentation,i=o.numberNestedLists(n.selection.$from),a=n.selection.$to.pos;do{var s=n.doc.resolve(a);if((t=o.numberNestedLists(s))>r)return!1;a++}while(t>=i);return!0}})),r.register("5xilD",(function(e,n){t(e.exports,"isPosInsideParagraph",(function(){return l})),t(e.exports,"isPosInsideList",(function(){return u})),t(e.exports,"isWrappingPossible",(function(){return d})),t(e.exports,"isInsideListItem",(function(){return f})),t(e.exports,"canJoinToPreviousListItem",(function(){return p})),t(e.exports,"selectionContainsList",(function(){return h})),t(e.exports,"numberNestedLists",(function(){return g})),t(e.exports,"getListItemAttributes",(function(){return m})),t(e.exports,"normalizeListItemsSelection",(function(){return v})),t(e.exports,"createListNodeRange",(function(){return E}));var o=r("6sW8E"),i=r("eBSbE"),a=r("iFBc4"),s=r("1wUBP"),c=r("6q2D0"),l=function(e){return"paragraph"===e.parent.type.name},u=function(e){var t=e.node(-1);return c.isListItemNode(e.parent)||c.isListNode(e.parent)||c.isListItemNode(t)},d=function(e,t){var n=t.$from,r=t.$to,i=n.blockRange(r);return!!i&&!!o.findWrapping(i,e)},f=function(e){var t=e.selection.$from.parent,n=e.schema.nodes.listItem;return e.selection instanceof s.GapCursorSelection?c.isListItemNode(t):a.hasParentNodeOfType(n)(e.selection)&&c.isParagraphNode(t)},p=function(e){var t=e.selection.$from,n=e.doc.resolve(t.pos-1),r=n?n.nodeBefore:null;return e.selection instanceof s.GapCursorSelection&&(r=t.nodeBefore),c.isListNode(r)},h=function(e){var t=e.selection,n=t.from,r=t.to,o=null;return e.doc.nodesBetween(n,r,(function(e){return c.isListNode(e)&&(o=e),!o})),o},g=function(e){for(var t=0,n=e.depth-1;n>0;n--){var r=e.node(n);c.isListNode(r)&&(t+=1)}return t},m=function(e){var t=g(e)-1,n=a.findParentNodeClosestToPos(e,c.isListItemNode);return{indentLevel:t,itemIndex:e.index(n?n.depth-1:void 0)}},v=function(e){var t=e.selection;e.doc;if(t.empty)return t;var n=t.$from,r=t.$to;if(t instanceof i.NodeSelection){var o=b(n);return new i.TextSelection(o,o)}var a=b(n),s=y(r);return new i.TextSelection(s,a)},b=function(e){var t=e.blockRange(e,c.isListItemNode);return t&&0===e.textOffset&&t.end-1===e.pos?i.Selection.near(e.doc.resolve(t.end+1),1).$from:e},y=function(e){var t=e.blockRange(e,c.isListItemNode);return t&&0===e.textOffset&&t.start+1===e.pos?i.Selection.near(e.doc.resolve(t.start-1),-1).$to:e},E=function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r,c.isListNode);return o||null}})),r.register("9VCaC",(function(e,n){t(e.exports,"getCommonListAnalyticsAttributes",(function(){return a}));var o=r("6q2D0"),i=r("5xilD"),a=function(e){var t=e.selection,n=t.$from,r=t.$to,o=i.getListItemAttributes(n),a=i.getListItemAttributes(r);return{itemIndexAtSelectionStart:o.itemIndex,itemIndexAtSelectionEnd:a.itemIndex,indentLevelAtSelectionStart:o.indentLevel,indentLevelAtSelectionEnd:a.indentLevel,itemsInSelection:s(e)}},s=function(e){var t=e.selection,n=t.from,r=t.to;if(n===r)return 1;var i=0,a=e.doc.cut(n,r);return a.content.nodesBetween(0,a.content.size,(function(e,t,n,r){n&&o.isListItemNode(n)&&!o.isListNode(e)&&0===r&&i++})),i}})),r.register("5hYmL",(function(n,o){t(n.exports,"listBackspace",(function(){return g}));var i=r("l15hj"),a=r("jd53t");r("cTu5S");var s,c=r("362X0"),l=r("9V1f8"),u=r("hNVBR"),d=r("iFBc4"),f=r("6q2D0"),p=r("5xilD"),h=(s={},e(i)(s,c.LIST_TEXT_SCENARIOS.JOIN_SIBLINGS,(function(e,t,n,r){var o=r.node(-1);if(!o.firstChild)return!1;var i=r.before(-1),s=r.after(-1),c=n.pos-1,l=n.pos,u=r.parent.content,d=o.content.cut(o.firstChild.nodeSize);return a.insertContentDeleteRange(e,(function(e){return e.doc.resolve(c)}),[[u,c],[d,l]],[[i,s]]),t&&t(e),!0})),e(i)(s,c.LIST_TEXT_SCENARIOS.JOIN_DESCENDANT_TO_PARENT,(function(e,t,n,r){var o=r.node(-2),i=r.node(-1);if(!i.firstChild||!i.lastChild)return!1;var s=r.before(-2),c=r.before(-1),l=n.after(),u=r.after(-2),d=r.after(-1),p=r.start(-2),h=f.isListNode(i.lastChild),g=1===o.childCount&&!h,m=n.pos,v=l,b=p,y=r.parent.content,E=h?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),x=i.lastChild.content;return a.insertContentDeleteRange(e,(function(e){return e.doc.resolve(m)}),h?[[y,m],[E,v],[x,b]]:[[y,m],[E,v]],[g?[s,u]:[c,d]]),t&&t(e),!0})),e(i)(s,c.LIST_TEXT_SCENARIOS.JOIN_TO_SIBLING_DESCENDANT,(function(e,t,n,r,o){if(!o)return!1;var i=r.node(-1);if(!i.firstChild||!i.lastChild)return!1;var s=r.parent,c=r.before(-1),l=o.after(),u=r.after(-1),d=f.isListNode(i.lastChild),p=o.pos,h=l,g=n.pos-1,m=s.content,v=d?i.content.cut(i.firstChild.nodeSize,i.nodeSize-i.lastChild.nodeSize-2):i.content.cut(i.firstChild.nodeSize),b=i.lastChild.content;return a.insertContentDeleteRange(e,(function(e){return e.doc.resolve(p)}),d?[[m,p],[v,h],[b,g]]:[[m,p],[v,h]],[[c,u]]),t&&t(e),!0})),s),g=function(e,t){var n=e.tr,r=e.selection.$head,o=a.walkPrevNode(r);if(!a.isEmptySelectionAtStart(e))return!1;var i=function(e,t,n){var r=e.$pos,o=e.foundNode,i=p.isPosInsideList(r),s=p.isPosInsideParagraph(t),l=0===t.index(-1),u=p.isPosInsideList(t);if(!(o&&i&&s&&l&&u))return!1;if(p.isPosInsideParagraph(r))return[c.LIST_TEXT_SCENARIOS.JOIN_DESCENDANT_TO_PARENT,null];var d,h=r.parent.lastChild&&f.isListNode(r.parent.lastChild),g=f.isParagraphNode(r.parent.lastChild),m=n.doc.resolve(r.pos);do{var v=a.walkPrevNode(m);m=v.$pos,d=v.foundNode}while(d&&!m.parent.isTextblock);var b=p.isPosInsideParagraph(m);return d&&h&&b?[c.LIST_TEXT_SCENARIOS.JOIN_TO_SIBLING_DESCENDANT,m]:!!g&&[c.LIST_TEXT_SCENARIOS.JOIN_SIBLINGS,null]}(o,r,n);if(!i)return!1;var s=e.schema.nodes,g=s.bulletList,m=s.orderedList,v=d.findParentNodeOfType([g,m])(n.selection),b=l.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET;return v&&v.node.type===m&&(b=l.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER),u.addAnalytics(e,n,{action:l.ACTION.LIST_ITEM_JOINED,actionSubject:l.ACTION_SUBJECT.LIST,actionSubjectId:b,eventType:l.EVENT_TYPE.TRACK,attributes:{inputMethod:l.INPUT_METHOD.KEYBOARD,direction:c.DELETE_DIRECTION.BACKWARD,scenario:i[0]}}),h[i[0]](n,t,o.$pos,r,i[1])}})),r.register("6knXW",(function(n,o){t(n.exports,"joinListItemForward",(function(){return f}));var i=r("h67q9"),a=r("jd53t");r("cTu5S");var s=r("9V1f8"),c=r("hNVBR"),l=r("362X0"),u=r("iFBc4"),d=r("kpjIq"),f=function(t,n){var r=t.tr,o=t.selection.$head,f=a.walkNextNode(o);if(!a.isEmptySelectionAtEnd(t))return!1;var p=d.calcJoinListScenario(f,o);if(!p)return!1;var h=e(i)(p,2),g=h[0];if(!(0,h[1])({tr:r,$next:f.$pos,$head:o}))return!1;var m=t.schema.nodes,v=m.bulletList,b=m.orderedList,y=u.findParentNodeOfType([v,b])(r.selection),E=s.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET;return y&&y.node.type===b&&(E=s.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER),c.addAnalytics(t,r,{action:s.ACTION.LIST_ITEM_JOINED,actionSubject:s.ACTION_SUBJECT.LIST,actionSubjectId:E,eventType:s.EVENT_TYPE.TRACK,attributes:{inputMethod:s.INPUT_METHOD.KEYBOARD,direction:l.DELETE_DIRECTION.FORWARD,scenario:g}}),n&&n(r),!0}})),r.register("kpjIq",(function(e,n){t(e.exports,"calcJoinListScenario",(function(){return f})),r("cTu5S");var o=r("362X0"),i=r("6q2D0"),a=r("5xilD"),s=r("6Y9YG"),c=r("9NKWH"),l=r("lJmXm"),u=r("e2Yqp"),d=r("9DCp9"),f=function(e,t){var n=e.$pos,r=e.foundNode,f=t.parent,p=t.node(-1),h=a.isPosInsideList(t),g=a.isPosInsideParagraph(t),m=p&&p.lastChild&&(p.lastChild===f||p.childCount>1&&p.child(p.childCount-2)===f&&i.isListNode(p.lastChild)),v=a.isPosInsideList(n),b=a.isPosInsideParagraph(n);if(!h&&g&&v)return[o.LIST_TEXT_SCENARIOS.JOIN_LIST_ITEM_WITH_PARAGRAPH,s.joinListItemWithParagraph];if(!(r&&h&&g&&m))return!1;if(!v&&b)return[o.LIST_TEXT_SCENARIOS.JOIN_PARAGRAPH_WITH_LIST,c.joinParagrapWithList];if(!v)return!1;var y=n.nodeAfter,E=n.node(-1),x=t.node(-2),k=i.isListItemNode(n.parent),C=i.isListItemNode(y),S=y&&C&&i.isParagraphNode(y.firstChild);if(!k&&S)return[o.LIST_TEXT_SCENARIOS.JOIN_DESCENDANT_TO_PARENT,l.joinNestedListWithParentListItem];if(!k)return!1;var T=E&&E===x;return!!i.isParagraphNode(y)&&(T?[o.LIST_TEXT_SCENARIOS.JOIN_SIBLINGS,u.joinSiblingListItems]:[o.LIST_TEXT_SCENARIOS.JOIN_PARENT_SIBLING_TO_PARENT_CHILD,d.joinListItemWithParentNestedList])}})),r.register("9NKWH",(function(e,n){t(e.exports,"joinParagrapWithList",(function(){return i}));var o=r("jd53t"),i=function(e){var t=e.tr,n=e.$next,r=e.$head,i=n.parent,a=n.before(),s=n.after(),c=r.pos,l=i.content;return o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(c)}),[[l,c]],[[a,s]]),!0}})),r.register("e2Yqp",(function(e,n){t(e.exports,"joinSiblingListItems",(function(){return i}));var o=r("jd53t"),i=function(e){var t=e.tr,n=e.$next,r=e.$head,i=n.parent,a=n.nodeAfter;if(!a)return!1;var s=n.before(),c=n.after(),l=r.end(-1),u=r.pos,d=l,f=a.content,p=i.content.cut(a.nodeSize);return o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(u)}),[[f,u],[p,d]],[[s,c]]),!0}})),r.register("lJmXm",(function(e,n){t(e.exports,"joinNestedListWithParentListItem",(function(){return a}));var o=r("jd53t"),i=r("6q2D0"),a=function(e){var t=e.tr,n=e.$next,r=e.$head,a=n.parent,s=n.nodeAfter;if(!s||!s.lastChild)return!1;var c=s.firstChild;if(!c)return!1;var l=n.before(),u=n.pos,d=r.after(),f=n.after(),p=t.doc.resolve(n.pos+1).after(),h=i.isListNode(s.lastChild),g=1===a.childCount&&!h,m=r.pos,v=d,b=n.pos,y=c.content,E=h?s.content.cut(c.nodeSize,s.nodeSize-s.lastChild.nodeSize-2):s.content.cut(c.nodeSize),x=s.lastChild.content;return o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(m)}),h?[[y,m],[E,v],[x,b]]:[[y,m],[E,v]],[g?[l,f]:[u,p]]),!0}})),r.register("9DCp9",(function(e,n){t(e.exports,"joinListItemWithParentNestedList",(function(){return a}));var o=r("jd53t"),i=r("6q2D0"),a=function(e){var t=e.tr,n=e.$next,r=e.$head,a=n.parent;if(!a.firstChild||!a.lastChild)return!1;var s=n.before(),c=n.before(),l=n.after(),u=i.isListNode(a.lastChild),d=r.pos,f=r.pos+1,p=c-2,h=a.firstChild.content,g=u?a.content.cut(a.firstChild.nodeSize,a.nodeSize-a.lastChild.nodeSize-2):a.content.cut(a.firstChild.nodeSize),m=a.lastChild.content;return o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(d)}),u?[[h,d],[g,f],[m,p]]:[[h,d],[g,f]],[[s,l]]),!0}})),r.register("6Y9YG",(function(e,n){t(e.exports,"joinListItemWithParagraph",(function(){return s}));var o=r("jd53t"),i=r("jWbqG"),a=r("6q2D0"),s=function(e){var t=e.tr,n=e.$next,r=e.$head;if(r.parent.content.size<1)return o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(r.pos)}),[],[[r.pos-1,r.pos]]),!0;var s=r.pos,l=t.doc.nodeAt(n.pos-1),u=t.doc.nodeAt(n.pos);if(!l||!u)return!1;var d=u.firstChild;if(!d)return!1;var f=u.lastChild,p=d.firstChild,h=c(u)&&d.childCount<2&&n.nodeAfter,g=!c(u)&&f&&a.isListNode(f),m=[],v=[];if(c(l)&&c(u)&&n.nodeAfter&&v.push([t.mapping.map(n.pos-1),t.mapping.map(n.pos+n.nodeAfter.nodeSize+1)]),g){var b=i.Fragment.from(f.content);m.push([b,t.mapping.map(n.pos)])}if(h||g){v.push([t.mapping.map(n.pos),t.mapping.map(n.pos+u.nodeSize-1)]);var y=i.Fragment.from(d.content);return m.push([y,s]),o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(r.pos)}),m,v),!0}if(u.childCount>1)return m.push([i.Fragment.from(d.content),s]),v.push([t.mapping.map(n.pos+1),t.mapping.map(n.pos+d.nodeSize+1)]),o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(r.pos)}),m,v),!0;if(p&&"hardBreak"===p.type.name){var E=p?p.nodeSize:0;v.push([t.mapping.map(n.pos+2),t.mapping.map(n.pos+2+E)])}else{m.push([i.Fragment.from(d.content),s]);var x=d.nodeSize;v.push([t.mapping.map(n.pos),t.mapping.map(n.pos+2+x)])}return o.insertContentDeleteRange(t,(function(e){return e.doc.resolve(r.pos)}),m,v),!0},c=function(e){return 1===e.childCount}})),r.register("92aK2",(function(e,n){t(e.exports,"convertListType",(function(){return u}));var o=r("eBSbE"),i=r("jWbqG"),a=r("6sW8E"),s=r("iFBc4"),c=r("6q2D0");r("9J8af");var l=r("l9fpM");function u(e){var t=e.tr,n=e.nextListNodeType,r=t.doc,o=t.selection,s=o.$from,u=o.$to;if(s.blockRange(u,c.isListNode))return d({tr:t,nextListNodeType:n});var p=s.blockRange(u);if(p){for(var h,g,m,v,b=p.parent,y=p.startIndex,E=p.endIndex,x=p.depth,k={from:c.isListNode(b.child(y))?null:r.resolve(p.$from.posAtIndex(y,x)+1),to:null},C={from:null,to:c.isListNode(b.child(E-1))?null:r.resolve(p.$from.posAtIndex(E-1,x)+1)},S=!1,T=!1,O=y;O<E;O++){var w=p.$from.posAtIndex(O,x),N=r.resolve(w);if(l.isEmptyParagraph(b.child(O))&&!S&&(k.from=r.resolve(p.$from.posAtIndex(O,x)+2)),l.isEmptyParagraph(b.child(O))&&S&&!T&&(C.to=N,T=!0),c.isListNode(b.child(O))||S){if(!S){S=!0;var P=r.resolve(N.pos+1).end()+1;r.resolve(P).nodeAfter&&(C.from=r.resolve(P+1))}}else k.to=r.resolve(N.pos+1)}if(C.from&&C.to){var A=t.mapping.map(C.from.pos),I=t.mapping.map(C.to.pos);v=new i.NodeRange(t.doc.resolve(A),t.doc.resolve(I),p.depth),m={tr:t,nextListNodeType:n,nodeRange:v}}if(k.from&&k.to){var D=t.mapping.map(k.from.pos),R=t.mapping.map(k.to.pos);g=new i.NodeRange(t.doc.resolve(D),t.doc.resolve(R),p.depth),h={tr:t,nextListNodeType:n,nodeRange:g}}!v&&!g||v&&!a.findWrapping(v,n)||g&&!a.findWrapping(g,n)||(m&&f(m),h&&f(h),t.docChanged&&c.joinSiblingLists({tr:t,forceListType:n}))}}var d=function(e){var t=e.tr,n=e.nextListNodeType,r=t.selection,i=t.selection,a=i.from,l=i.to,u=[];r instanceof o.TextSelection&&r.$cursor?u.push(a):t.doc.nodesBetween(a,l,(function(e,t){if(!e.isLeaf)return!0;u.push(t)})),u.reduce((function(e,n){var r=s.findParentNodeClosestToPos(t.doc.resolve(n),c.isListNode);return r?(e.find((function(e){return e.pos===r.pos&&e.start===r.start&&e.depth===r.depth}))||e.push(r),e):e}),[]).forEach((function(e){t.setNodeMarkup(e.pos,n)}))},f=function(e){for(var t=e.tr,n=e.nextListNodeType,r=e.nodeRange,o=r.endIndex-1;o>=r.startIndex;o--){var i=r.$from.posAtIndex(o,r.depth),s=t.doc.resolve(i+1),c=s.blockRange(s);if(!c)return;var l=a.findWrapping(c,n);if(!c||!l)return;t.wrap(c,l)}}})),r.register("j4q6X",(function(n,o){t(n.exports,"outdentList",(function(){return g}));var i=r("l15hj");r("cTu5S");var a=r("9V1f8"),s=r("hNVBR"),c=r("5xilD"),l=r("6q2D0"),u=r("glWyB"),d=r("9VCaC"),f=r("2DxJC");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.INPUT_METHOD.KEYBOARD;return function(t,n){if(!c.isInsideListItem(t))return!1;var r=t.selection.$from,o=u.findFirstParentListNode(r);if(!o)return!0;var i=l.isBulletList(o.node)?a.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET:a.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER,p=t.tr;return f.outdentListItemsSelected(p),!p||!p.docChanged||(s.addAnalytics(t,p,{action:a.ACTION.OUTDENTED,actionSubject:a.ACTION_SUBJECT.LIST,actionSubjectId:i,eventType:a.EVENT_TYPE.TRACK,attributes:h(h({},d.getCommonListAnalyticsAttributes(t)),{},{inputMethod:e})}),n&&n(p),!0)}}})),r.register("glWyB",(function(e,n){t(e.exports,"findFirstParentListNode",(function(){return a})),t(e.exports,"findFirstParentListItemNode",(function(){return s})),t(e.exports,"findRootParentListNode",(function(){return c}));var o=r("iFBc4"),i=r("6q2D0");function a(e){var t=e.doc.nodeAt(e.pos),n=null;if(i.isListNode(t))n=e.pos;else{var r=o.findParentNodeClosestToPos(e,i.isListNode);n=r&&r.pos}if(null==n)return null;var a=e.doc.nodeAt(n);return a?{node:a,pos:n}:null}function s(e){var t=e.doc.nodeAt(e.pos),n=i.isListItemNode(t)?e:o.findParentNodeClosestToPos(e,i.isListItemNode);if(!n||null===n.pos)return null;var r=e.doc.nodeAt(n.pos);return r?{node:r,pos:n.pos}:null}function c(e){var t=e.doc;if(e.pos+1>t.content.size)return null;if(0===e.depth)return t.resolve(e.pos+1);var n=t.nodeAt(e.pos),r=e.before(),a=t.nodeAt(r);if(i.isListNode(n)&&!i.isListItemNode(a))return t.resolve(e.pos+1);var s=o.findParentNodeClosestToPos(e,i.isListNode);return s?c(t.resolve(s.pos)):null}})),r.register("2DxJC",(function(e,n){t(e.exports,"outdentListItemsSelected",(function(){return d}));var o=r("eBSbE"),i=r("jWbqG"),a=r("6sW8E"),s=r("6q2D0"),c=r("glWyB"),l=r("5xilD"),u=r("1wUBP"),d=function(e){var t=e.selection,n=l.normalizeListItemsSelection({selection:e.selection,doc:e.doc}),r=c.findRootParentListNode(n.$from);if(r){var o=n.$from.blockRange(r,s.isListNode);if(o){var i=!1,a=!1,u=n.from,d=n.to;p(n).forEach((function(t){var n=e.doc.resolve(e.mapping.map(t.from)),r=e.doc.resolve(e.mapping.map(t.to)),o=n.blockRange(r,s.isListNode);o&&(s.isListItemNode(n.node(o.depth-1))?h({tr:e,range:o}):(g({tr:e,range:o}),i=i||d>=t.from&&d<t.to,a=a||u>=t.from&&u<t.to))}));var m=o.start!==e.mapping.map(o.start),v=f({originalSelection:t,normalizedSelection:n,tr:e,hasCommonListMoved:m,hasNormalizedToPositionLiftedOut:i,hasNormalizedFromPositionLiftedOut:a});e.setSelection(v),s.joinSiblingLists({tr:e,direction:s.JoinDirection.RIGHT})}}},f=function(e){var t=e.tr,n=e.originalSelection,r=e.normalizedSelection,i=e.hasCommonListMoved,a=e.hasNormalizedToPositionLiftedOut,s=e.hasNormalizedFromPositionLiftedOut,c=r.$from,l=r.$to,d=r.empty,f=t.mapping.map(c.pos),p=t.mapping.map(l.pos),h=c.sameParent(l);if(s){var g=h?c.pos:f;f=s?c.pos:g,f=i?f-2:f,f=Math.max(f,0)}if(a){var m=h?l.pos:p;p=a?l.pos:m,p=i?p-2:p,p=Math.min(p,t.doc.nodeSize-2)}if(r instanceof u.GapCursorSelection){var v=t.doc.resolve(f);return new u.GapCursorSelection(v,r.side)}return n instanceof o.NodeSelection?o.NodeSelection.create(t.doc,f):d?o.TextSelection.between(t.doc.resolve(p),t.doc.resolve(p),-1):o.TextSelection.between(t.doc.resolve(f),t.doc.resolve(p),-1)},p=function(e){var t=l.createListNodeRange({selection:e});if(!t)return[];var n=e.$from,r=e.$to;if(n.pos===r.pos&&n.sameParent(r))return[{from:t.start,to:t.end,depth:t.depth}];var o=m(n);if(!o)return[];for(var i=[],a=n.doc,c=m(r);c&&c.pos>=o.pos&&c.pos>=t.start;){var u=a.nodeAt(c.pos);if(!u||!s.isListItemNode(u))return[];var d=0;u&&u.lastChild&&s.isListNode(u.lastChild)&&(d=u.lastChild.nodeSize);var f=c.pos+1;i.push({from:f,to:a.resolve(f).end()-d,depth:c.depth}),c=m(c)}return i},h=function(e){var t=e.tr,n=e.range,r=n.end,o=n.$to.end(n.depth),s=t.doc.type.schema.nodes.listItem;if(r<o){var c=new i.Slice(i.Fragment.from(s.create(null,n.parent.copy())),1,0),l=new a.ReplaceAroundStep(r-1,o,r,o,c,1,!0);t.step(l),n=new i.NodeRange(t.doc.resolve(n.$from.pos),t.doc.resolve(o),n.depth)}var u=a.liftTarget(n);u&&t.lift(n,u)},g=function(e){for(var t=e.tr,n=e.range,r=n.parent,o=t.doc.resolve(n.start),c=o.start(n.depth),l=o.end(n.depth),u=c===n.start,d=l===n.end,f=u&&d,p=u?i.Fragment.empty:i.Fragment.from(r.copy(i.Fragment.empty)),h=n.startIndex;h<n.endIndex;h++)p=p.append(r.child(h).content);if(u)for(var g=0;g<p.childCount;g++){var m=p.child(g);if(m&&s.isListNode(m)&&m.type!==r.type){var v=r.type.create(null,m.content);p=p.replaceChild(g,v)}}var b=p.append(i.Fragment.from(r.copy(i.Fragment.empty)));if(f){var y=new i.Slice(p,0,0),E=new a.ReplaceStep(o.pos-1,n.end+1,y,!1);t.step(E)}else if(u){var x=new i.Slice(b,0,1),k=new a.ReplaceStep(o.pos-1,n.end,x,!1);t.step(k)}else if(d){var C=new i.Slice(p,1,0),S=new a.ReplaceStep(o.pos,l+1,C,!1);t.step(S)}else{var T=new i.Slice(b,1,1),O=new a.ReplaceAroundStep(o.pos,l,n.end,l,T,T.size,!1);t.step(O)}},m=function(e){var t=e.doc,n=s.isListNode(e.node()),r=e;if(!n){var i=c.findFirstParentListItemNode(e);return i?t.resolve(i.pos):null}var a=t.resolve(r.pos),l=o.Selection.findFrom(a,-1);if(!l)return null;var u=c.findFirstParentListItemNode(l.$from);return u?t.resolve(u.pos):null}})),r.register("6ury8",(function(n,o){t(n.exports,"indentList",(function(){return v}));var i=r("l15hj");r("cTu5S");var a=r("9V1f8"),s=r("hNVBR"),c=r("kcQQ9"),l=r("fvXIZ"),u=r("6q2D0"),d=r("glWyB"),f=r("dnKmy"),p=r("5xilD"),h=(p=r("5xilD"),r("9VCaC"));function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.INPUT_METHOD.KEYBOARD;return function(t,n){var r=t.tr,o=t.selection.$from;if(!p.isInsideListItem(t))return!1;var i=p.getListItemAttributes(o);if(i&&0===i.indentLevel&&0===i.itemIndex)return!0;var g=d.findFirstParentListNode(o);if(!g)return!0;var v=g.node,b=u.isBulletList(v)?a.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET:a.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER;return l.indentListItemsSelected(r),!c.hasValidListIndentationLevel({tr:r,maxIndentation:f.MAX_NESTED_LIST_INDENTATION})||!r.docChanged||(s.addAnalytics(t,r,{action:a.ACTION.INDENTED,actionSubject:a.ACTION_SUBJECT.LIST,actionSubjectId:b,eventType:a.EVENT_TYPE.TRACK,attributes:m(m({},h.getCommonListAnalyticsAttributes(t)),{},{inputMethod:e})}),n&&n(r),!0)}}})),r.register("fvXIZ",(function(n,o){t(n.exports,"indentListItemsSelected",(function(){return f}));var i=r("h67q9"),a=r("eBSbE"),s=r("jWbqG"),c=r("6q2D0"),l=r("glWyB"),u=r("5xilD"),d=r("1wUBP"),f=function(t){var n=t.selection,r=u.normalizeListItemsSelection({selection:n,doc:t.doc}),o=r.$from,a=r.$to,s=p({selection:r});if(!s)return!1;var d={from:l.findFirstParentListItemNode(o),to:l.findFirstParentListItemNode(a)};if(null===d.from||null===d.to)return null;var f=t.doc.resolve(d.from.pos),m=f.index(),v=f.posAtIndex(m-1),b=t.doc.nodeAt(v);if(!b||!c.isListItemNode(b))return null;if(c.isListItemNode(b)&&0===m)return null;var y=s.parent,E=c.isListNode(b.lastChild)?b.lastChild:null,x=E?E.type:y.type,k=d.to.node.lastChild,C=k&&c.isListNode(k)?k.nodeSize:0,S=d.from.pos,T=d.to.pos+d.to.node.nodeSize-C,O=g({tr:t,listNodeType:x,range:s,from:S,to:T}),w=e(i)(O,2),N=w[0],P=w[1],A=Boolean(E),I=S-1;t.replaceRange(A?I-1:I,s.end,N);var D=t.mapping.map(T)-2;0===P.openStart?t.insert(D,P.content):t.replace(D-P.openStart,D-P.openStart,P);var R=h({originalSelection:n,normalizedSelection:r,tr:t,hasPreviousNestedList:A});t.setSelection(R)},p=function(e){var t=e.selection,n=t.$from,r=t.$to,o=n.blockRange(r,c.isListNode);return o||null},h=function(e){var t=e.tr,n=e.normalizedSelection,r=e.originalSelection,o=e.hasPreviousNestedList?2:0,i=n.$from,s=n.$to;if(n instanceof d.GapCursorSelection){var c=t.doc.resolve(i.pos-o);return new d.GapCursorSelection(c,n.side)}if(r instanceof a.NodeSelection)return a.NodeSelection.create(t.doc,i.pos-o);var l=a.Selection.near(t.doc.resolve(i.pos-o)).$from,u=a.Selection.near(t.doc.resolve(s.pos-o),-1).$to;return new a.TextSelection(l,u)},g=function(e){var t=e.tr,n=e.from,r=e.to,o=e.listNodeType,i=e.range,a=t.doc.slice(n,r-2),c=s.Fragment.from(o.create(null,a.content)),l=t.doc.slice(r,i.end-2),u=t.doc.slice(n-1,i.end).openStart;return[new s.Slice(c,u,0),l]}})),r.register("dnKmy",(function(e,n){t(e.exports,"MAX_NESTED_LIST_INDENTATION",(function(){return r}));var r=6})),r.register("3rXF5",(function(e,n){t(e.exports,"goToNextCell",(function(){return u}));var o=r("eK4uv"),i=r("iQlYK"),a=r("jBp4v"),s=r("iFBc4");r("kH7oN");var c=r("9V1f8"),l=r("1QFgo"),u=function(e){return function(t,n){var r=o.findTable(t.selection);if(!r)return!1;var u=a.TableMap.get(r.node),d=t.schema.nodes,f=d.tableCell,p=d.tableHeader,h=s.findParentNodeOfType([f,p])(t.selection),g=u.positionAt(0,0,r.node)+r.start,m=u.positionAt(u.height-1,u.width-1,r.node)+r.start;return g===h.pos&&-1===e?(l.insertRowWithAnalytics(c.INPUT_METHOD.KEYBOARD,{index:0,moveCursorToInsertedRow:!0})(t,n),!0):m===h.pos&&1===e?(l.insertRowWithAnalytics(c.INPUT_METHOD.KEYBOARD,{index:u.height,moveCursorToInsertedRow:!0})(t,n),!0):!n||i.goToNextCell(e)(t,n)}}})),r.register("1QFgo",(function(n,o){t(n.exports,"emptyMultipleCellsWithAnalytics",(function(){return A})),t(n.exports,"mergeCellsWithAnalytics",(function(){return I})),t(n.exports,"splitCellWithAnalytics",(function(){return D})),t(n.exports,"setColorWithAnalytics",(function(){return R})),t(n.exports,"addRowAroundSelection",(function(){return M})),t(n.exports,"insertRowWithAnalytics",(function(){return _})),t(n.exports,"insertColumnWithAnalytics",(function(){return j})),t(n.exports,"deleteRowsWithAnalytics",(function(){return B})),t(n.exports,"deleteColumnsWithAnalytics",(function(){return L})),t(n.exports,"deleteTableWithAnalytics",(function(){return z})),t(n.exports,"deleteTableIfSelectedWithAnalytics",(function(){return W})),t(n.exports,"toggleHeaderRowWithAnalytics",(function(){return U})),t(n.exports,"toggleHeaderColumnWithAnalytics",(function(){return H})),t(n.exports,"toggleNumberColumnWithAnalytics",(function(){return V})),t(n.exports,"toggleTableLayoutWithAnalytics",(function(){return K})),t(n.exports,"sortColumnWithAnalytics",(function(){return G})),t(n.exports,"distributeColumnsWidthsWithAnalytics",(function(){return J}));var i=r("l15hj"),a=r("bKnyF"),s=r("eK4uv"),c=r("kB6gF"),l=r("ekJGA");r("cTu5S");var u=r("lMXcr"),d=r("hNVBR"),f=r("9V1f8"),p=r("KvYzc"),h=r("dC2AG"),g=r("iIZaH"),m=r("cJG6K"),v=r("bxqcP"),b=r("3sOIY"),y=r("krkdW"),E=r("cFImz"),x=r("6VAV9"),k=r("cTtfQ"),C=r("jXSpZ"),S=r("8yBl0"),T=r("hiCRA"),O=r("kCMcP");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P={default:u.TABLE_BREAKOUT.NORMAL,wide:u.TABLE_BREAKOUT.WIDE,"full-width":u.TABLE_BREAKOUT.FULL_WIDTH},A=function(e,t){return d.withAnalytics((function(t){var n=t.selection,r=S.getSelectedCellInfo(n),o=r.horizontalCells,i=r.verticalCells,a=r.totalRowCount,s=r.totalColumnCount;return{action:u.TABLE_ACTION.CLEARED,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{inputMethod:e,horizontalCells:o,verticalCells:i,totalRowCount:a,totalColumnCount:s},eventType:f.EVENT_TYPE.TRACK}}))(p.clearMultipleCells(t))},I=function(){return d.withAnalytics((function(e){var t=e.selection,n=S.getSelectedCellInfo(t),r=n.horizontalCells,o=n.verticalCells,i=n.totalCells,a=n.totalRowCount,s=n.totalColumnCount;return{action:u.TABLE_ACTION.MERGED,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{horizontalCells:r,verticalCells:o,totalCells:i,totalRowCount:a,totalColumnCount:s},eventType:f.EVENT_TYPE.TRACK}}))((function(e,t){return t&&t(x.mergeCells(e.tr)),!0}))},D=function(){return d.withAnalytics((function(e){var t=e.selection,n=S.getSelectedCellInfo(t),r=n.totalRowCount,o=n.totalColumnCount,i=s.findCellClosestToPos(t.$anchor);if(i){var a=i.node.attrs,c=a.rowspan,l=a.colspan;return{action:u.TABLE_ACTION.SPLIT,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{horizontalCells:l,verticalCells:c,totalCells:l*c,totalRowCount:r,totalColumnCount:o},eventType:f.EVENT_TYPE.TRACK}}}))(v.splitCell)},R=function(e,t){return d.withAnalytics((function(t){var n=t.selection,r=S.getSelectedCellInfo(n),o=r.horizontalCells,i=r.verticalCells,a=r.totalCells,s=r.totalRowCount,c=r.totalColumnCount;return{action:u.TABLE_ACTION.COLORED,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{cellColor:(l.tableBackgroundColorPalette.get(e.toLowerCase())||e).toLowerCase(),horizontalCells:o,verticalCells:i,totalCells:a,totalRowCount:s,totalColumnCount:c},eventType:f.EVENT_TYPE.TRACK}}))(g.setMultipleCellAttrs({background:e},t))},M=function(e){return function(t,n){var r=t.selection,o=r instanceof a.CellSelection,i=o?c.getSelectionRect(r):s.findCellRectClosestToPos(r.$from);if(!i)return!1;var l=o&&"TOP"===e?i.top:i.bottom-1,u="BOTTOM"===e?1:0;return _(f.INPUT_METHOD.SHORTCUT,{index:l+u,moveCursorToInsertedRow:!1})(t,n)}},_=function(e,t){return d.withAnalytics((function(n){var r=S.getSelectedTableInfo(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:u.TABLE_ACTION.ADDED_ROW,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.index,totalRowCount:o,totalColumnCount:i},eventType:f.EVENT_TYPE.TRACK}}))(h.insertRow(t.index,t.moveCursorToInsertedRow))},j=function(e,t){return d.withAnalytics((function(n){var r=S.getSelectedTableInfo(n.selection),o=r.totalRowCount,i=r.totalColumnCount;return{action:u.TABLE_ACTION.ADDED_COLUMN,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t,totalRowCount:o,totalColumnCount:i},eventType:f.EVENT_TYPE.TRACK}}))(h.insertColumn(t))},B=function(e,t,n){return d.withAnalytics((function(n){var r=n.selection,o=S.getSelectedTableInfo(r),i=o.totalRowCount,a=o.totalColumnCount;return{action:u.TABLE_ACTION.DELETED_ROW,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.top,count:t.bottom-t.top,totalRowCount:i,totalColumnCount:a},eventType:f.EVENT_TYPE.TRACK}}))((function(e,r){return r&&r(k.deleteRows(t,n)(e.tr)),!0}))},L=function(e,t){return d.withAnalytics((function(n){var r=n.selection,o=S.getSelectedTableInfo(r),i=o.totalRowCount,a=o.totalColumnCount;return{action:u.TABLE_ACTION.DELETED_COLUMN,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{inputMethod:e,position:t.left,count:t.right-t.left,totalRowCount:i,totalColumnCount:a},eventType:f.EVENT_TYPE.TRACK}}))((function(e,n){return n&&n(C.deleteColumns(t,O.getAllowAddColumnCustomStep(e))(e.tr)),!0}))},F=function(e,t){var n=S.getSelectedTableInfo(e),r=n.totalRowCount,o=n.totalColumnCount;return{action:u.TABLE_ACTION.DELETED,actionSubject:f.ACTION_SUBJECT.TABLE,attributes:{inputMethod:t,totalRowCount:r,totalColumnCount:o},eventType:f.EVENT_TYPE.TRACK}},z=function(){return d.withAnalytics((function(e){var t=e.selection;return F(t,f.INPUT_METHOD.FLOATING_TB)}))(g.deleteTable)},W=function(e){return d.withAnalytics((function(t){var n=t.selection;return F(n,e)}))(g.deleteTableIfSelected)},U=function(){return d.withAnalytics((function(e){var t=S.getSelectedTableInfo(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=E.getPluginState(e).isHeaderRowEnabled;return{action:u.TABLE_ACTION.TOGGLED_HEADER_ROW,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:f.EVENT_TYPE.TRACK}}))(b.toggleHeaderRow)},H=function(){return d.withAnalytics((function(e){var t=S.getSelectedTableInfo(e.selection),n=t.totalRowCount,r=t.totalColumnCount,o=E.getPluginState(e).isHeaderColumnEnabled;return{action:u.TABLE_ACTION.TOGGLED_HEADER_COLUMN,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{newState:!o,totalRowCount:n,totalColumnCount:r},eventType:f.EVENT_TYPE.TRACK}}))(b.toggleHeaderColumn)},V=function(){return d.withAnalytics((function(e){var t=S.getSelectedTableInfo(e.selection),n=t.totalRowCount,r=t.totalColumnCount;return{action:u.TABLE_ACTION.TOGGLED_NUMBER_COLUMN,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{newState:!T.checkIfNumberColumnEnabled(e),totalRowCount:n,totalColumnCount:r},eventType:f.EVENT_TYPE.TRACK}}))(b.toggleNumberColumn)},K=function(){return d.withAnalytics((function(e){var t=S.getSelectedTableInfo(e.selection),n=t.table,r=t.totalRowCount,o=t.totalColumnCount;if(n){var i=n.node.attrs.layout;return{action:u.TABLE_ACTION.CHANGED_BREAKOUT_MODE,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{newBreakoutMode:P[b.getNextLayout(i)],previousBreakoutMode:P[i],totalRowCount:r,totalColumnCount:o},eventType:f.EVENT_TYPE.TRACK}}}))(b.toggleTableLayout)},G=function(e,t,n){return d.withAnalytics((function(r){var o=S.getSelectedTableInfo(r.selection),i=o.totalRowCount,a=o.totalColumnCount;return{action:u.TABLE_ACTION.SORTED_COLUMN,actionSubject:f.ACTION_SUBJECT.TABLE,attributes:{inputMethod:e,totalRowCount:i,totalColumnCount:a,position:t,sortOrder:n,mode:"editor"},eventType:f.EVENT_TYPE.TRACK}}))(m.sortByColumn(t,n))},J=function(e,t){var n=t.resizeState,r=t.table,o=t.attributes;return d.withAnalytics((function(){return{action:u.TABLE_ACTION.DISTRIBUTED_COLUMNS_WIDTHS,actionSubject:f.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:N({inputMethod:e},o),eventType:f.EVENT_TYPE.TRACK}}))((function(e,t){return t&&y.distributeColumnsWidths(n,r)(e,t),!0}))}})),r.register("KvYzc",(function(e,n){t(e.exports,"clearMultipleCells",(function(){return c}));var o=r("eBSbE"),i=r("1RK3w"),a=r("eQkfb"),s=r("eK4uv"),c=function(e){return function(t,n){var r,c=t.tr;if(i.isSelectionType(c.selection,"cell")){var l=c.selection;l.forEachCell((function(e,n){var r=c.doc.resolve(c.mapping.map(n+1));c=a.emptyCell(s.findCellClosestToPos(r),t.schema)(c)})),r=l.$headCell.pos}else if(e){var u=s.findCellClosestToPos(c.doc.resolve(e+1));c=a.emptyCell(u,t.schema)(c),r=u.pos}if(c.docChanged&&r){var d=c.doc.resolve(c.mapping.map(r)),f=o.Selection.findFrom(d,1,!0);return f&&c.setSelection(f),n&&n(c),!0}return!1}}})),r.register("cJG6K",(function(e,n){t(e.exports,"sortByColumn",(function(){return m}));var o=r("eBSbE"),i=r("jBp4v"),a=r("eK4uv"),s=r("1RK3w"),c=r("kB6gF"),l=r("9Y4M9");a=r("eK4uv"),s=r("1RK3w"),c=r("kB6gF"),l=r("9Y4M9");r("igW5C");var u=r("gAG1i");r("gJEZb");var d=r("hHyX9"),f=r("cFImz");r("ksxA8");var p=r("lb3qx"),h=r("g4Rq3");function g(e){var t=d.pluginKey.getState(e);return t?function(e){var n=e.url;if(n){var r=t.cards.find((function(e){return e.url===n}));if(r&&r.title)return r.title}return null}:function(){return null}}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.SortOrder.DESC;return f.createCommand((function(n){return{type:"SORT_TABLE",data:{ordering:{columnIndex:e,order:t}}}}),(function(n,r){var d=a.findTable(n.selection);if(!d||!d.node)return n;var p=s.isSelectionType(n.selection,"cell")?c.getSelectionRect(n.selection):a.findCellRectClosestToPos(n.selection.$from);if(!p)return n;var m,v=f.getPluginState(r),b=l.convertTableNodeToArrayOfRows(d.node);v.isHeaderRowEnabled&&(m=b.shift());var y=u.createCompareNodes({getInlineCardTextFromStore:g(r)},t),E=b.sort((function(t,n){return y(t[e],n[e])}));m&&E.unshift(m);var x=l.convertArrayOfRowsToTableNode(d.node,E);n.replaceWith(d.pos,d.pos+d.node.nodeSize,x);var k=i.TableMap.get(d.node).positionAt(p.top,e,d.node),C=v.ordering,S={columnIndex:e,order:t};return n.step(new h.TableSortStep(d.pos,C,S)),n.setSelection(o.Selection.near(n.doc.resolve(d.start+k)))}))}})),r.register("gJEZb",(function(e,n){t(e.exports,"createPlugin",(function(){return p})),t(e.exports,"pluginKey",(function(){return r("hHyX9").pluginKey}));var o=r("eBSbE"),i=r("hLVOy"),a=r("bUpe2"),s=r("hHyX9"),c=r("gXlXc"),l=r("fA7HZ"),u=r("4CZoZ"),d=r("cjx2e"),f=r("4eynV"),p=(s=r("hHyX9"),function(e,t,n,r){return function(p){var h=p.portalProviderAPI,g=p.eventDispatcher,m=p.providerFactory,v=p.dispatchAnalyticsEvent;return new o.Plugin({state:{init:function(){return{requests:[],provider:null,cards:[],showLinkingToolbar:!1}},apply:function(e,t){var n=l.getPluginStateWithUpdatedPos(t,e),r=e.getMeta(s.pluginKey);return r?a.default(n,r):n}},view:function(e){var t={},n=function(t,n){return c.handleProvider(t,n,e)},r=[];return m.subscribe("cardProvider",n),{update:function(e,n){var o=l.getPluginState(e.state),a=l.getPluginState(n);if(o&&o.provider){var s=l.getNewRequests(a,o),u=o.provider;s.forEach((function(n){var o=i.default((function(){return c.resolveWithProvider(e,t,u,n)}));r.push(o.cancel),o()}))}},destroy:function(){Object.keys(t).forEach((function(e){return Promise.reject(t[e])})),r.forEach((function(e){return e()})),m.unsubscribe("cardProvider",n)}}},props:{nodeViews:{inlineCard:function(t,r,o){var i={useAlternativePreloader:n,useInlineWrapper:"mobile"===e};return new f.InlineCard(t,r,o,h,g,i,void 0,!0).init()},blockCard:function(t,n,r){var o={platform:e};return new d.BlockCard(t,n,r,h,g,o,void 0,!0).init()},embedCard:function(n,o,i){var a={eventDispatcher:g,allowResizing:t,platform:e,fullWidthMode:r,dispatchAnalyticsEvent:v};return new u.EmbedCard(n,o,i,h,g,a,void 0,!0).init()}}},key:s.pluginKey})}})})),r.register("bUpe2",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(e,t){switch(t.type){case"QUEUE":return function(e,t){return s(s({},e),{},{requests:e.requests.concat(t.requests)})}(e,t);case"SET_PROVIDER":return function(e,t){return s(s({},e),{},{provider:t.provider})}(e,t);case"RESOLVE":return function(e,t){var n=e.requests.reduce((function(e,n){return n.url!==t.url&&e.push(n),e}),[]);return s(s({},e),{},{requests:n})}(e,t);case"REGISTER":return function(e,t){return s(s({},e),{},{cards:e.cards.filter((function(e){return e.pos!==t.info.pos})).concat(t.info)})}(e,t);case"SHOW_LINK_TOOLBAR":case"HIDE_LINK_TOOLBAR":return function(e,t){return s(s({},e),{},{showLinkingToolbar:"SHOW_LINK_TOOLBAR"===t.type})}(e,t)}}})),r.register("hHyX9",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("cardPlugin")})),r.register("gXlXc",(function(e,n){t(e.exports,"resolveWithProvider",(function(){return a})),t(e.exports,"handleProvider",(function(){return l}));var o=r("buFsC"),i=r("cSjqO"),a=function(e,t,n,r){var o=n.resolve(r.url,r.appearance).then((function(e){return delete t[r.url],e})).then(s(e,r),c(e,r));return t[r.url]=o,o},s=function(e,t){return function(n){return i.replaceQueuedUrlWithCard(t.url,n,t.analyticsAction)(e.state,e.dispatch),n}},c=function(e,t){return function(){i.handleFallbackWithAnalytics(t.url,t.source)(e.state,e.dispatch)}},l=function(e,t,n){t&&t.then((function(e){var t=n.state;(0,n.dispatch)(o.setProvider(e)(t.tr))}))}})),r.register("buFsC",(function(e,n){t(e.exports,"resolveCard",(function(){return a})),t(e.exports,"queueCards",(function(){return s})),t(e.exports,"registerCard",(function(){return c})),t(e.exports,"setProvider",(function(){return l})),t(e.exports,"showLinkToolbar",(function(){return u})),t(e.exports,"hideLinkToolbar",(function(){return d}));var o=r("hHyX9"),i=function(e,t){return e.setMeta(o.pluginKey,t)},a=function(e){return function(t){return i(t,{type:"RESOLVE",url:e})}},s=function(e){return function(t){return i(t,{type:"QUEUE",requests:e})}},c=function(e){return function(t){return i(t,{type:"REGISTER",info:e})}},l=function(e){return function(t){return i(t,{type:"SET_PROVIDER",provider:e})}},u=function(e){return i(e,{type:"SHOW_LINK_TOOLBAR"})},d=function(e){return i(e,{type:"HIDE_LINK_TOOLBAR"})}})),r.register("cSjqO",(function(n,o){t(n.exports,"insertCard",(function(){return C})),t(n.exports,"replaceQueuedUrlWithCard",(function(){return S})),t(n.exports,"handleFallbackWithAnalytics",(function(){return T})),t(n.exports,"queueCardsFromChangedTr",(function(){return O})),t(n.exports,"changeSelectedCardToLink",(function(){return w})),t(n.exports,"updateCard",(function(){return N})),t(n.exports,"changeSelectedCardToText",(function(){return A})),t(n.exports,"setSelectedCardAppearance",(function(){return I}));var i=r("l15hj"),a=r("h67q9"),s=r("eBSbE"),c=r("jWbqG"),l=r("9VelW"),u=r("hHyX9"),d=r("buFsC"),f=r("9QOEL");r("9J8af");var p=r("l9fpM");r("cTu5S");var h=r("hNVBR"),g=r("9V1f8"),m=r("ekJGA"),v=r("5eBbT"),b=r("7koyy"),y=r("jM5SJ"),E=r("991EG");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function C(e,t,n){var r=n.nodes.inlineCard,o=[t];return t.type===r&&o.push(n.text(" ")),e.replaceSelection(new c.Slice(c.Fragment.fromArray(o),0,0))}var S=function(t,n,r){return function(o,i){var s=u.pluginKey.getState(o);if(!s)return!1;var c=s.requests.filter((function(e){return e.url===t})),f=o.schema,y=p.processRawValue(f,n),E=o.tr;if(y){var x=c.map((function(e){return function(e,t,n,r){var o=n.nodes.inlineCard,i=r.url;if(m.isSafeUrl(i)){var a=e.mapping.map(r.pos),s=e.doc.resolve(a),c=e.doc.nodeAt(a);if(c&&c.type.isText&&(r.shouldReplaceLink||b.shouldReplaceLink(c,r.compareLinkText,i))){var l=[t];return t.type===o&&l.push(n.text(" ")),e.replaceWith(a,a+(c.text||i).length,l),s.node(s.depth-1).type.name}}}(E,y,f,e)})).filter((function(e){return!!e}));if(x.length){var k=x.every((function(e){return e===x[0]}))?x[0]:"mixed",C=t.split("/"),S=e(a)(C,3)[2];h.addAnalytics(o,E,{action:r||g.ACTION.INSERTED,actionSubject:g.ACTION_SUBJECT.DOCUMENT,actionSubjectId:g.ACTION_SUBJECT_ID.SMART_LINK,eventType:g.EVENT_TYPE.TRACK,attributes:{inputMethod:c[0].source,nodeType:"inlineCard",nodeContext:k,domainName:S,fromCurrentDomain:v.isFromCurrentDomain(t)}})}}return i&&i(d.resolveCard(t)(l.closeHistory(E))),!0}},T=function(e,t){return function(n,r){if(!u.pluginKey.getState(n))return!1;var o=n.tr;return h.addAnalytics(n,o,E.getLinkCreationAnalyticsEvent(t,e)),r&&r(d.resolveCard(e)(o)),!0}},O=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.schema,i=o.marks.link,a=[];return p.nodesBetweenChanged(t,(function(e,t){if(!e.isText)return!0;var o=e.marks.find((function(e){return e.type===i}));if(o){if(!b.shouldReplaceLink(e,r))return!1;a.push({url:o.attrs.href,pos:t,appearance:"inline",compareLinkText:r,source:n})}return!1})),d.queueCards(a)(t)},w=function(e,t,n,r,o){return function(i,a){var s;return s=r&&o?function(e,t,n,r,o){var i=e.schema.marks.link,a=r.attrs.url||r.attrs.data.url;return e.tr.replaceWith(o,o+r.nodeSize,e.schema.text(t||a,[i.create({href:n||a})]))}(i,e,t,r,o):P(i,e,t),n&&h.addAnalytics(i,s,{action:g.ACTION.CHANGED_TYPE,actionSubject:g.ACTION_SUBJECT.SMART_LINK,eventType:g.EVENT_TYPE.TRACK,attributes:{newType:y.SMART_LINK_TYPE.URL}}),a&&a(s.scrollIntoView()),!0}},N=function(e){return function(t,n){if(!(t.selection instanceof s.NodeSelection&&t.selection.node))return!1;var r=P(t,e,e);return O(t,r,g.INPUT_METHOD.MANUAL),n&&n(r.scrollIntoView()),!0}};function P(e,t,n){var r=e.selection instanceof s.NodeSelection&&e.selection.node;if(!r)return e.tr;var o=e.schema.marks.link,i=r.attrs.url||r.attrs.data.url;return e.tr.replaceSelectionWith(e.schema.text(t||i,[o.create({href:n||i})]),!1)}var A=function(e){return function(t,n){if(!(t.selection instanceof s.NodeSelection&&t.selection.node))return!1;var r=t.tr.replaceSelectionWith(t.schema.text(e),!1);return n&&n(r.scrollIntoView()),!0}},I=function(e){return function(t,n){var r=t.selection instanceof s.NodeSelection&&t.selection.node;if(!r){var o=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=e.schema.marks.link,i=[];return e.tr.doc.nodesBetween(e.selection.from,e.selection.to,(function(e,a){var s=e.marks.find((function(e){return e.type===o}));if(s){var c={url:s.attrs.href,pos:a,appearance:n,compareLinkText:r,source:t,analyticsAction:g.ACTION.CHANGED_TYPE,shouldReplaceLink:!0};i.push(c)}})),d.queueCards(i)(e.tr)}(t,g.INPUT_METHOD.MANUAL,e);return n&&n(o.scrollIntoView()),!1}if(f.appearanceForNodeType(r.type)===e)return!1;var i="embed"===e?k(k({},r.attrs),{},{layout:"center"}):r.attrs,a=t.selection.from,c=D(e,t.schema.nodes),l=t.tr.setNodeMarkup(a,c,i,r.marks);return h.addAnalytics(t,l,{action:g.ACTION.CHANGED_TYPE,actionSubject:g.ACTION_SUBJECT.SMART_LINK,eventType:g.EVENT_TYPE.TRACK,attributes:{newType:e,previousType:f.appearanceForNodeType(r.type)}}),n&&n(l.scrollIntoView()),!0}},D=function(e,t){switch(e){case"inline":return t.inlineCard;case"block":return t.blockCard;case"embed":return t.embedCard}}})),r.register("9QOEL",(function(e,n){t(e.exports,"appearanceForNodeType",(function(){return c})),t(e.exports,"titleUrlPairFromNode",(function(){return l})),t(e.exports,"displayInfoForCard",(function(){return u})),t(e.exports,"findCardInfo",(function(){return d})),t(e.exports,"transformUnsupportedBlockCardToInline",(function(){return f}));r("eBSbE");var o=r("jWbqG"),i=r("hHyX9"),a=r("hxFzZ"),s=r("lGsoF"),c=function(e){return"inlineCard"===e.name?"inline":"blockCard"===e.name?"block":"embedCard"===e.name?"embed":void 0},l=function(e){var t=e.attrs;return{url:t.url||t.data&&t.data.url,title:t.data&&t.data.title}},u=function(e,t){return function(e,t){return{title:t&&t.title||e.title,url:t&&t.url||e.url}}(l(e),t)},d=function(e){return i.pluginKey.getState(e).cards.find((function(t){return t.pos===e.selection.from}))},f=function(e,t){var n=t.schema.nodes,r=n.blockCard,i=n.inlineCard,c=[];return a.mapChildren(e.content,(function(e,n,o){e.type!==r||s.isSupportedInParent(t,o)?c.push(e):c.push(i.createChecked(e.attrs,e.content,e.marks))})),new o.Slice(o.Fragment.fromArray(c),e.openStart,e.openEnd)}})),r.register("5eBbT",(function(n,o){t(n.exports,"getLinkMatch",(function(){return p})),t(n.exports,"linkifyMatch",(function(){return y})),t(n.exports,"LinkMatcher",(function(){return h})),t(n.exports,"normalizeUrl",(function(){return g})),t(n.exports,"linkifyContent",(function(){return m})),t(n.exports,"getLinkDomain",(function(){return v})),t(n.exports,"isFromCurrentDomain",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("er3LO"),c=r("hxFzZ"),l=r("ekJGA"),u=/(https?|ftp):\/\/[^\s]+/,d=e(s)();d.add("sourcetree:","http:");var f="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function p(e){if(!e)return null;var t=y(e);return t.length||(t=d.match(e)),t&&t[0]}f.push("a[cdefgilmnoqrtuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrtuvwxyz]|n[acefgilopruz]|om|p[aefghkmnrtw]|qa|r[eosuw]|s[abcdegijklmnrtuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),d.tlds(f,!1);var h=function(){function t(){e(i)(this,t)}return e(a)(t,null,[{key:"create",value:function(t){return new(function(){function n(){e(i)(this,n)}return e(a)(n,[{key:"exec",value:function(e){var n=e.slice(0,e.length-1).split(" "),r=n[n.length-1],o=r.length>0;if(!e.endsWith(" ")||!o)return null;var i=d.match(r);if(!i||0===i.length)return null;var a=i[i.length-1],s=i[i.length-1];return s.input=e.substring(a.index),s.length=s.lastIndex-s.index+1,s.index=e.lastIndexOf(r)+a.index,t&&(s[0]=s),s}}]),n}())}}]),t}();function g(e){if(!e)return"";if(l.isSafeUrl(e))return e;var t=p(e);return t&&t.url||""}function m(e){return function(t){return c.mapSlice(t,(function(t,n){var r=!n||n.type!==e.nodes.codeBlock,o=t.type.schema.marks.link;if(r&&t.isText&&!o.isInSet(t.marks)){var i=[],a=t.text,s=function(e){var t=[],n=e&&d.match(e);n&&n.length>0&&n.forEach((function(e){t.push({start:e.index,end:e.lastIndex,title:e.raw,href:e.url})}));return t}(a),c=0;return s.forEach((function(e){e.start>0&&i.push(t.cut(c,e.start)),i.push(t.cut(e.start,e.end).mark(o.create({href:g(e.href)}).addToSet(t.marks))),c=e.end})),c<a.length&&i.push(t.cut(c)),i}return t}))}}function v(e){return e.toLowerCase().replace(/^(.*):\/\//,"").replace(/^(www\.)/,"").replace(/[:\/?#](.*)$/,"")}function b(e){return!(!window||!window.location)&&window.location.hostname===v(e)}var y=function(e){var t=[];if(!u.test(e))return t;for(var n,r=0;n=e.substr(r);){var o=(n.match(u)||[""])[0];if(!o)break;var i=n.search(u),a=i>=0?i+r:i,s=a+o.length;t.push({index:a,lastIndex:s,raw:o,url:o,text:o,schema:""}),r+=s}return t}})),r.register("er3LO",(function(e,t){"use strict";function n(e){var t=Array.prototype.slice.call(arguments,1);return t.forEach((function(t){t&&Object.keys(t).forEach((function(n){e[n]=t[n]}))})),e}function o(e){return Object.prototype.toString.call(e)}function i(e){return"[object Function]"===o(e)}function a(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var s={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};var c={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?t>=3&&":"===e[t-3]||t>=3&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},l="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function u(e){var t=e.re=r("13Kry")(e.__opts__),n=e.__tlds__.slice();function s(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||n.push("a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]"),n.push(t.src_xn),t.src_tlds=n.join("|"),t.email_fuzzy=RegExp(s(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(s(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(s(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(s(t.tpl_host_fuzzy_test),"i");var c=[];function l(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach((function(t){var n=e.__schemas__[t];if(null!==n){var r={validate:null,link:null};if(e.__compiled__[t]=r,"[object Object]"===o(n))return!function(e){return"[object RegExp]"===o(e)}(n.validate)?i(n.validate)?r.validate=n.validate:l(t,n):r.validate=function(e){return function(t,n){var r=t.slice(n);return e.test(r)?r.match(e)[0].length:0}}(n.validate),void(i(n.normalize)?r.normalize=n.normalize:n.normalize?l(t,n):r.normalize=function(e,t){t.normalize(e)});!function(e){return"[object String]"===o(e)}(n)?l(t,n):c.push(t)}})),c.forEach((function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)})),e.__compiled__[""]={validate:null,normalize:function(e,t){t.normalize(e)}};var u=Object.keys(e.__compiled__).filter((function(t){return t.length>0&&e.__compiled__[t]})).map(a).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+u+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+u+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),function(e){e.__index__=-1,e.__text_cache__=""}(e)}function d(e,t){var n=e.__index__,r=e.__last_index__,o=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=o,this.text=o,this.url=o}function f(e,t){var n=new d(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function p(e,t){if(!(this instanceof p))return new p(e,t);var r;t||(r=e,Object.keys(r||{}).reduce((function(e,t){return e||s.hasOwnProperty(t)}),!1)&&(t=e,e={})),this.__opts__=n({},s,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=n({},c,e),this.__compiled__={},this.__tlds__=l,this.__tlds_replaced__=!1,this.re={},u(this)}p.prototype.add=function(e,t){return this.__schemas__[e]=t,u(this),this},p.prototype.set=function(e){return this.__opts__=n(this.__opts__,e),this},p.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,o,i,a,s,c;if(this.re.schema_test.test(e))for((s=this.re.schema_search).lastIndex=0;null!==(t=s.exec(e));)if(o=this.testSchemaAt(e,t[2],s.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+o;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(c=e.search(this.re.host_fuzzy_test))>=0&&(this.__index__<0||c<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(i=n.index+n[1].length,(this.__index__<0||i<this.__index__)&&(this.__schema__="",this.__index__=i,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&e.indexOf("@")>=0&&null!==(r=e.match(this.re.email_fuzzy))&&(i=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||i<this.__index__||i===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=i,this.__last_index__=a)),this.__index__>=0},p.prototype.pretest=function(e){return this.re.pretest.test(e)},p.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},p.prototype.match=function(e){var t=0,n=[];this.__index__>=0&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},p.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?(this.__tlds__=this.__tlds__.concat(e).sort().filter((function(e,t,n){return e!==n[t-1]})).reverse(),u(this),this):(this.__tlds__=e.slice(),this.__tlds_replaced__=!0,u(this),this)},p.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},p.prototype.onCompile=function(){},e.exports=p})),r.register("13Kry",(function(e,t){"use strict";e.exports=function(e){var t={};t.src_Any=r("hcIGH").source,t.src_Cc=r("ihCxW").source,t.src_Z=r("8f6u8").source,t.src_P=r("aw0aa").source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+"[><\uff5c]|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}})),r.register("7koyy",(function(e,n){t(e.exports,"shouldReplaceLink",(function(){return a}));var o=r("ekJGA"),i=r("cO1D6");function a(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=e.marks.find((function(e){return"link"===e.type.name}));if(!r)return!1;var a=o.normalizeUrl(i.md.normalizeLinkText(r.attrs.href)),s=o.normalizeUrl(i.md.normalizeLinkText(e.text||""));if(t&&a!==s)return!1;if(n){var c=o.normalizeUrl(i.md.normalizeLinkText(n));if(c!==a)return!1}return!0}})),r.register("cO1D6",(function(n,o){t(n.exports,"md",(function(){return s}));var i=r("9ebs3"),a=r("6WnOR"),s=e(i)("zero",{html:!1});s.enable(["entity","escape","newline"]),s.use(a.default)})),r.register("6WnOR",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("er3LO"),a=r("5eBbT"),s=function(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))},c=function(e){return/^<\/a\s*>/i.test(e)},l=function(t){for(var n,r=t.tokens,o=new(e(i)),l=0,u=r.length;l<u;l++)if("inline"===r[l].type&&o.pretest(r[l].content))for(var d=r[l].children,f=0,p=d.length-1;p>=0;p--){var h=d[p];if("link_close"!==h.type){if("html_inline"===h.type&&(n=h.content,/^<a[>\s]/i.test(n)&&f>0&&f--,c(h.content)&&f++),!(f>0)&&"text"===h.type&&o.test(h.content)){var g=h.content,m=a.linkifyMatch(g);m.length||(m=o.match(g)||[]);for(var v=[],b=h.level,y=0,E=0;E<m.length;E++){var x=m[E].url,k=t.md.normalizeLink(x);if(t.md.validateLink(k)){var C=m[E].text;C=m[E].schema?"mailto:"!==m[E].schema||/^mailto:/i.test(C)?t.md.normalizeLinkText(C):t.md.normalizeLinkText("mailto:"+C).replace(/^mailto:/,""):t.md.normalizeLinkText("http://"+C).replace(/^http:\/\//,"");var S=m[E].index;if(S>y){var T=new t.Token("text","",0);T.content=g.slice(y,S),T.level=b,v.push(T)}var O=new t.Token("link_open","a",1);O.attrs=[["href",k]],O.level=b++,O.markup="linkify",O.info="auto",v.push(O),(O=new t.Token("text","",0)).content=C,O.level=b,v.push(O),(O=new t.Token("link_close","a",-1)).level=--b,O.markup="linkify",O.info="auto",v.push(O),y=m[E].lastIndex}}if(y<g.length){var w=new t.Token("text","",0);w.content=g.slice(y),w.level=b,v.push(w)}r[l].children=d=s(d,p,v)}}else for(p--;d[p].level!==h.level&&"link_open"!==d[p].type;)p--}},u=function(e){return e.core.ruler.push("custom-linkify",l)}})),r.register("991EG",(function(e,n){t(e.exports,"getLinkCreationAnalyticsEvent",(function(){return a})),r("cTu5S");var o=r("9V1f8"),i=r("5eBbT");function a(e,t){return{action:o.ACTION.INSERTED,actionSubject:o.ACTION_SUBJECT.DOCUMENT,actionSubjectId:o.ACTION_SUBJECT_ID.LINK,attributes:{inputMethod:e,fromCurrentDomain:i.isFromCurrentDomain(t)},eventType:o.EVENT_TYPE.TRACK,nonPrivacySafeAttributes:{linkDomain:i.getLinkDomain(t)}}}})),r.register("fA7HZ",(function(n,o){t(n.exports,"getPluginState",(function(){return l})),t(n.exports,"getPluginStateWithUpdatedPos",(function(){return u})),t(n.exports,"getNewRequests",(function(){return d}));var i=r("l15hj"),a=r("hHyX9");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e){return a.pluginKey.getState(e)},u=function(e,t){return c(c({},e),{},{requests:e.requests.map((function(e){return c(c({},e),{},{pos:t.mapping.map(e.pos)})})),cards:e.cards.map((function(e){return c(c({},e),{},{pos:t.mapping.map(e.pos)})}))})},d=function(e,t){return e?t.requests.filter((function(t){return!e.requests.find((function(e){return f(e,t)}))})):t.requests},f=function(e,t){return e.url===t.url&&e.pos===t.pos}})),r.register("4CZoZ",(function(n,o){t(n.exports,"EmbedCard",(function(){return L}));var i=r("auQQv"),a=r("jgze0"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("9LzOV"),m=r("hm2s2"),v=r("hLVOy"),b=r("g5Ysg");r("igW5C");var y=r("a0H0L"),E=r("5HbdK"),x=r("isabZ"),k=r("4W5Y2");r("8iml0");var C=r("82cWi"),S=r("lgqyB"),T=r("buFsC"),O=r("iIYS3"),w=r("anYE1"),N=r("4s4wW"),P=r("9D9P7"),A=r("1vMV4"),I=(g=r("9LzOV"),r("eg9AV"));r("ksxA8");var D=r("dOLSc");function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?R(Object(r),!0).forEach((function(n){e(p)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function _(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var j=function(t){e(u)(r,t);var n=_(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i)),e(p)(e(l)(t),"embedIframeRef",e(h).createRef()),e(p)(e(l)(t),"onClick",(function(){})),e(p)(e(l)(t),"state",{hasPreview:!0}),e(p)(e(l)(t),"getPosSafely",(function(){var e=t.props.getPos;if(e&&"boolean"!=typeof e)try{return e()}catch(e){}})),e(p)(e(l)(t),"onResolve",(function(e){var n=t.props.view,r=e.title,o=e.url,i=e.aspectRatio,a=t.props.node.attrs,s=a.originalHeight,c=a.originalWidth;!i||s||c||(t.setState({initialAspectRatio:i}),t.saveOriginalDimensionsAttributes(C.DEFAULT_EMBED_CARD_HEIGHT,C.DEFAULT_EMBED_CARD_HEIGHT*i)),v.default((function(){var e=t.getPosSafely();if(void 0!==e)return n.dispatch(T.registerCard({title:r,url:o,pos:e})(n.state.tr))}))();try{var l=t.context.contextAdapter?t.context.contextAdapter.card:void 0;l&&l.value.extractors.getPreview(o,t.props.platform)||t.setState({hasPreview:!1})}catch(e){}})),e(p)(e(l)(t),"updateSize",(function(e,n){var r=t.props.view,o=r.state,i=r.dispatch,a=t.getPosSafely();if(void 0!==a){var s=o.tr.setNodeMarkup(a,void 0,M(M({},t.props.node.attrs),{},{width:e,layout:n}));return s.setMeta("scrollIntoView",!1),i(s),!0}})),e(p)(e(l)(t),"getLineLength",(function(e,t,n){if("number"==typeof t&&A.isRichMediaInsideOfBlockNode(e,t)){var r=e.state.doc.resolve(t),o=e.nodeDOM(r.pos);if(r.nodeAfter&&A.floatingLayouts.indexOf(r.nodeAfter.attrs.layout)>-1&&o&&o.parentElement)return o.parentElement.offsetWidth;if(o instanceof HTMLElement)return o.offsetWidth}return n})),e(p)(e(l)(t),"saveOriginalDimensionsAttributes",(function(e,n){var r=t.props.view,o=I.pluginKey.getState(r.state);null!=o&&o.dragging||v.default((function(){var o=t.getPosSafely();void 0!==o&&r.dispatch(r.state.tr.step(new D.SetAttrsStep(o,{originalHeight:e,originalWidth:n})).setMeta("addToHistory",!1))}))()})),e(p)(e(l)(t),"onHeightUpdate",(function(e){t.setState({liveHeight:e}),t.saveOriginalDimensionsAttributes(e,void 0)})),t}return e(c)(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=y.findOverflowScrollParent(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var t=this,n=this.props,r=n.node,o=n.cardContext,i=n.platform,s=n.allowResizing,c=n.fullWidthMode,l=n.view,u=n.dispatchAnalyticsEvent,d=n.getPos,f=r.attrs,p=f.url,m=f.width,v=f.layout,b=f.originalHeight,y=f.originalWidth,x=this.state,k=x.hasPreview,S=x.liveHeight,T=x.initialAspectRatio,I=null!=S?S:!y&&b||void 0,D=!I&&(T||b&&y&&y/b)||void 0,R={layout:v,pctWidth:m,fullWidthMode:c},M=e(h).createElement(g.IframelyResizeMessageListener,{embedIframeRef:this.embedIframeRef,onHeightUpdate:this.onHeightUpdate},e(h).createElement(N.default,{editorView:l,plugins:{widthState:P.pluginKey},render:function(n){var r=n.widthState,o=(null==r?void 0:r.lineLength)||0,c=(null==r?void 0:r.width)||0,f=t.getPosSafely();if(void 0===f)return null;var m=t.getLineLength(l,f,o),v=A.isRichMediaInsideOfBlockNode(l,f)?m:c,b=e(h).createElement(g.Card,{url:p,appearance:"embed",onClick:t.onClick,onResolve:t.onResolve,showActions:"web"===i,isFrameVisible:!0,inheritDimensions:!0,platform:i,container:t.scrollContainer,embedIframeRef:t.embedIframeRef});if(!s||!k){var y=C.DEFAULT_EMBED_CARD_WIDTH/C.DEFAULT_EMBED_CARD_HEIGHT,x=1,S=D||y;return I&&(x=I,S=void 0),e(h).createElement(E.default,e(a)({},R,{height:x,width:S,nodeType:"embedCard",hasFallbackContainer:k,lineLength:m,containerWidth:v}),b)}return e(h).createElement(O.default,e(a)({},R,{height:I,aspectRatio:D,view:t.props.view,getPos:d,lineLength:m,gridSize:12,containerWidth:v,displayGrid:w.createDisplayGrid(t.props.eventDispatcher),updateSize:t.updateSize,dispatchAnalyticsEvent:u}),b)}}));return e(h).createElement(e(h).Fragment,null,o&&o.value?e(h).createElement(o.Provider,{value:o.value},M):null)}}]),r}(e(h).PureComponent);e(p)(j,"contextTypes",{contextAdapter:e(m).object});var B=b.Card(j,x.default),L=function(t){e(u)(r,t);var n=_(r);function r(){return e(s)(this,r),n.apply(this,arguments)}return e(c)(r,[{key:"viewShouldUpdate",value:function(t){return this.node.attrs!==t.attrs||e(i)(e(f)(r.prototype),"viewShouldUpdate",this).call(this,t)}},{key:"createDomRef",value:function(){var e=document.createElement("div");return k.default.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}},{key:"render",value:function(){var t=this.reactComponentProps,n=t.eventDispatcher,r=t.allowResizing,o=t.platform,i=t.fullWidthMode,a=t.dispatchAnalyticsEvent;return e(h).createElement(B,{node:this.node,view:this.view,eventDispatcher:n,getPos:this.getPos,allowResizing:r,platform:o,fullWidthMode:i,dispatchAnalyticsEvent:a})}}]),r}(S.SelectionBasedNodeView)})),r.register("g5Ysg",(function(n,o){t(n.exports,"Card",(function(){return y}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("hm2s2"),g=r("ekJGA"),m=r("9QOEL"),v=r("cSjqO");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}function y(t,n){var r,o;return o=r=function(r){e(l)(u,r);var o=b(u);function u(){var t;e(a)(this,u);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(f)(e(c)(t),"state",{isError:!1}),t}return e(s)(u,[{key:"render",value:function(){var r=m.titleUrlPairFromNode(this.props.node).url;if(r&&!g.isSafeUrl(r))return e(p).createElement(n,null);if(this.state.isError)return r?e(p).createElement("a",{href:r,onClick:function(e){e.preventDefault()}},r):e(p).createElement(n,null);var o=this.context.contextAdapter?this.context.contextAdapter.card:void 0;return e(p).createElement(t,e(i)({cardContext:o},this.props))}},{key:"componentDidCatch",value:function(e){var t=e;if(t.kind&&"fatal"===t.kind){this.setState({isError:!0});var n=this.props,r=n.view,o=n.node,i=n.getPos,a=m.titleUrlPairFromNode(o).url;if(!i||"boolean"==typeof i)return;return v.changeSelectedCardToLink(void 0,a,!0,o,i())(r.state,r.dispatch),null}this.setState({isError:!0})}}]),u}(e(p).Component),e(f)(r,"contextTypes",{contextAdapter:e(h).object}),o}})),r.register("iIYS3",(function(n,o){t(n.exports,"default",(function(){return O}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("iFBc4");r("igW5C");var g=r("jWbVn"),m=r("5HbdK");r("8iml0");var v=r("82cWi"),b=r("f1SUH"),y=r("fACH8"),E=r("1GQOI"),x=r("iobnI"),k=r("e3QKe");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function T(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var O=function(t){e(l)(r,t);var n=T(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{offsetLeft:t.calcOffsetLeft()}),e(f)(e(c)(t),"calcNewSize",(function(e,n){var r=t.props,o=r.layout,i=r.view.state,a=100*g.calcPctFromPx(e,t.props.lineLength);t.setState({resizedPctWidth:a});var s=h.hasParentNodeOfType(i.schema.nodes.table)(i.selection)?o:t.calcUnwrappedLayout(a,e);return a<=100?(!t.wrappedLayout||n&&100===a||(s=o),{width:a,layout:s}):{width:t.props.pctWidth||null,layout:s}})),e(f)(e(c)(t),"calcUnwrappedLayout",(function(e,n){return e<=100?"center":n<=t.wideLayoutWidth?"wide":"full-width"})),e(f)(e(c)(t),"calcColumnLeftOffset",(function(){var e=t.state.offsetLeft;return t.insideInlineLike?g.calcColumnsFromPx(e,t.props.lineLength,t.props.gridSize):0})),e(f)(e(c)(t),"calcPxWidth",(function(e){var n=t.props,r=n.layout,o=n.pctWidth,i=n.lineLength,a=n.containerWidth,s=n.fullWidthMode,c=n.getPos,l=n.view.state,u=t.state.resizedPctWidth,d="function"==typeof c?c():void 0;return k.calcMediaPxWidth({origWidth:v.DEFAULT_EMBED_CARD_WIDTH,origHeight:v.DEFAULT_EMBED_CARD_HEIGHT,pctWidth:o,state:l,containerWidth:{width:a,lineLength:i},isFullWidthModeEnabled:s,layout:e||r,pos:d,resizedPctWidth:u})})),e(f)(e(c)(t),"highlights",(function(e,n){var r=x.snapTo(e,n),o=t.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,s=o.expand,c=o.nestedExpand;if(t.$pos&&h.findParentNodeOfTypeClosestToPos(t.$pos,[i,a,s,c].filter(Boolean)))return[];if(r>t.wideLayoutWidth)return["full-width"];var l=t.props,u=l.layout,d=l.lineLength,f=l.gridSize,p=g.calcColumnsFromPx(r,d,f),m=Math.round(p),v=[];return"wrap-left"===u||"align-start"===u?v.push(0,m):"wrap-right"===u||"align-end"===u?v.push(f,f-m):t.insideInlineLike?v.push(Math.round(p+t.calcColumnLeftOffset())):v.push(Math.floor((f-m)/2),Math.ceil((f+m)/2)),v})),t}return e(s)(r,[{key:"componentDidUpdate",value:function(){var e=this.calcOffsetLeft();e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e})}},{key:"wrappedLayout",get:function(){return m.wrappedLayouts.indexOf(this.props.layout)>-1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}},{key:"checkLayout",value:function(e,t){var n=this.state.resizedPctWidth;if(m.wrappedLayouts.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}}},{key:"$pos",get:function(){if("function"!=typeof this.props.getPos)return null;var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}},{key:"gridWidth",get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2}},{key:"calcOffsetLeft",value:function(){var e=0;if(this.wrapper&&this.insideInlineLike){var t=this.wrapper.getBoundingClientRect(),n=this.props.view.dom.getBoundingClientRect();e=t.left-n.left}return e}},{key:"wideLayoutWidth",get:function(){var e=this.props.lineLength;return e?Math.ceil(e*v.breakoutWideScaleRatio):v.akEditorWideLayoutWidth}},{key:"calcSnapPoints",value:function(){for(var e=this.state.offsetLeft,t=this.props,n=t.containerWidth,r=t.lineLength,o=[],i=0;i<this.gridWidth;i++)o.push(g.calcPxFromColumns(i,r,this.gridWidth)-e);o.push(r-e);var a=g.calcPxFromColumns(this.wrappedLayout||this.insideInlineLike?1:2,r,this.props.gridSize),s=o.filter((function(e){return e>=a})),c=this.$pos;if(!c)return s;if("doc"===c.parent.type.name){s.push(this.wideLayoutWidth);var l=n-v.akEditorBreakoutPadding;l>this.wideLayoutWidth&&s.push(l)}return s}},{key:"insideInlineLike",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!h.findParentNodeOfTypeClosestToPos(e,[t])}},{key:"getHeightDefiningComponent",value:function(){var t,n=this.props,r=n.height,o=n.aspectRatio;return t=r?{height:"".concat(r,"px")}:{paddingBottom:"calc(".concat((1/o*100).toFixed(3),"% + ").concat(b.embedHeaderHeight,"px)")},e(p).createElement("span",{"data-testid":"resizable-embed-card-height-definer",style:S({display:"block",fontSize:0,lineHeight:0},t)})}},{key:"render",value:function(){var t=this,n=this.props,r=n.layout,o=n.pctWidth,a=n.containerWidth,s=n.fullWidthMode,c=n.children,l=this.calcPxWidth()-v.akEditorMediaResizeHandlerPaddingWide,u={};return x.handleSides.forEach((function(e){var n="left"===e?"right":"left";u[e]=["full-width","wide","center"].concat("wrap-".concat(n)).concat("align-".concat(x.imageAlignmentMap[n])).indexOf(r)>-1,"left"===e&&t.insideInlineLike&&(u[e]=!1)})),e(p).createElement(y.Wrapper,{layout:r,isResized:!!o,containerWidth:a||v.DEFAULT_EMBED_CARD_WIDTH,innerRef:function(e){return t.wrapper=e},fullWidthMode:s},e(p).createElement(E.default,e(i)({},this.props,{width:l,enable:u,calcNewSize:this.calcNewSize,snapPoints:this.calcSnapPoints(),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,innerPadding:v.akEditorMediaResizeHandlerPaddingWide,nodeType:"embed"}),c,this.getHeightDefiningComponent()))}}]),r}(e(p).Component);e(f)(O,"defaultProps",{aspectRatio:v.DEFAULT_EMBED_CARD_WIDTH/v.DEFAULT_EMBED_CARD_HEIGHT})})),r.register("fACH8",(function(n,o){t(n.exports,"Wrapper",(function(){return c}));var i=r("lhkMJ");r("igW5C");var a,s=r("2wi7d"),c=r("SssiD").default.div(a||(a=e(i)(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n\n    > div {\n      position: absolute;\n      height: 100%;\n      width: 100%;\n    }\n  }\n"])),s.MediaSingleDimensionHelper)})),r.register("1GQOI",(function(n,o){t(n.exports,"default",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hdR0w"),h=r("gTciA"),g=r("anYE1"),m=r("iobnI");r("igW5C");var v=r("kIH45");r("8iml0");var b=r("82cWi");r("cTu5S");var y=r("9V1f8");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var x=function(e,t,n){var r="embed"===e?y.ACTION_SUBJECT.EMBEDS:y.ACTION_SUBJECT.MEDIA_SINGLE;return{action:y.ACTION.EDITED,actionSubject:r,actionSubjectId:y.ACTION_SUBJECT_ID.RESIZED,attributes:{size:t,layout:n},eventType:y.EVENT_TYPE.UI}},k=function(e,t){return t.length?Math.min(Math.max(e,t[0]),t[t.length-1]):e},C=function(t){e(c)(r,t);var n=E(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"resizable",e(f).createRef()),e(d)(e(s)(t),"state",{isResizing:!1}),e(d)(e(s)(t),"handleResizeStart",(function(e){var n=t.props,r=n.innerPadding,o=void 0===r?0:r,i=n.handleResizeStart,a=n.highlights,s=n.displayGrid,c=n.layout,l=n.width,u=n.snapPoints;if(e.preventDefault(),i&&!i(e))return!1;t.setState({isResizing:!0},(function(){var e=a(l+o,u);s(e.length>0,g.gridTypeForLayout(c),e)}))})),e(d)(e(s)(t),"handleResize",(function(e,n,r,o){var i=t.props,a=i.highlights,s=i.calcNewSize,c=i.scaleFactor,l=i.snapPoints,u=i.displayGrid,d=i.layout,f=i.updateSize,p=i.innerPadding,h=void 0===p?0:p,m=t.resizable.current,v=t.state.isResizing;if(m&&m.state.original&&v){var b=k(m.state.original.width+o.width*(c||1),l),y=s(b+h,!1);y.layout!==d&&f(y.width,y.layout);var E=a(b,l);u(E.length>0,g.gridTypeForLayout(y.layout),E),m.updateSize({width:b,height:"auto"}),m.setState({isResizing:!0})}})),e(d)(e(s)(t),"handleResizeStop",(function(e,n,r,o){var i=t.props,a=i.highlights,s=i.calcNewSize,c=i.snapPoints,l=i.displayGrid,u=i.layout,d=i.updateSize,f=i.dispatchAnalyticsEvent,p=i.nodeType,h=t.resizable.current,v=t.state.isResizing;if(h&&h.state.original&&v){var b=k(h.state.original.width+o.width,c),y=s(m.snapTo(b,c),!0),E=a(b,c);f&&f(x(p,y.width,y.layout)),l(E.length>0,g.gridTypeForLayout(y.layout),E),t.setState({isResizing:!1},(function(){d(y.width,y.layout),l(!1,g.gridTypeForLayout(u))}))}})),t}return e(a)(r,[{key:"render",value:function(){var t={},n={},r=this.props,o=r.innerPadding,i=void 0===o?0:o,a=r.width,s=r.pctWidth,c=r.selected,l=r.layout,u=r.enable,g=r.children,y=r.ratio,E=this.state.isResizing;m.handleSides.forEach((function(r){var o;n[r]="richMedia-resize-handle-".concat(r),t[r]=(o={width:"24px"},e(d)(o,r,"".concat(-13-i,"px")),e(d)(o,"zIndex",b.akRichMediaResizeZIndex),e(d)(o,"pointerEvents","auto"),o)}));var x,k=e(p)(v.richMediaClassName,"image-".concat(l),this.props.className,{"is-resizing":E,"not-resized":!s,"richMedia-selected":c,"rich-media-wrapped":"wrap-left"===l||"wrap-right"===l});return y&&(x={position:"absolute",width:"100%",paddingBottom:"".concat(y,"%"),top:0,pointerEvents:"none"}),e(f).createElement(h.Resizable,{ref:this.resizable,size:{width:a,height:"auto"},className:k,handleClasses:n,handleStyles:t,handleWrapperStyle:x,enable:u,onResize:this.handleResize,onResizeStop:this.handleResizeStop,onResizeStart:this.handleResizeStart},g)}}]),r}(e(f).Component)})),r.register("gTciA",(function(e,t){"use strict";var n,o=e.exports&&e.exports.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=e.exports&&e.exports.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},a=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},s=e.exports&&e.exports.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(e.exports,"__esModule",{value:!0});var c=a(r("61szk")),l=r("5e7Sk"),u=s(r("jpBOp")),d={width:"auto",height:"auto"},f=u.default((function(e,t,n){return Math.max(Math.min(e,n),t)})),p=u.default((function(e,t){return Math.round(e/t)*t})),h=u.default((function(e,t){return new RegExp(e,"i").test(t)})),g=u.default((function(e,t,n){void 0===n&&(n=0);var r=t.reduce((function(n,r,o){return Math.abs(r-e)<Math.abs(t[n]-e)?o:n}),0),o=Math.abs(t[r]-e);return 0===n||o<n?t[r]:e})),m=u.default((function(e,t){return e.substr(e.length-t.length,t.length)===t})),v=u.default((function(e){return"auto"===(e=e.toString())||m(e,"px")||m(e,"%")||m(e,"vh")||m(e,"vw")||m(e,"vmax")||m(e,"vmin")?e:e+"px"})),b=u.default((function(e,t,n,r,o){if(t&&"string"==typeof t&&m(t,"%")){var i=Number(t.replace("%",""))/100;t=e.width*i}if(n&&"string"==typeof n&&m(n,"%")){i=Number(n.replace("%",""))/100;n=e.height*i}if(r&&"string"==typeof r&&m(r,"%")){i=Number(r.replace("%",""))/100;r=e.width*i}if(o&&"string"==typeof o&&m(o,"%")){i=Number(o.replace("%",""))/100;o=e.height*i}return{maxWidth:void 0===t?void 0:Number(t),maxHeight:void 0===n?void 0:Number(n),minWidth:void 0===r?void 0:Number(r),minHeight:void 0===o?void 0:Number(o)}})),y=["style","className","grid","snap","bounds","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],E="__resizable_base__",x=function(e){function t(t){var n=e.call(this,t)||this;return n.ratio=1,n.resizable=null,n.parentLeft=0,n.parentTop=0,n.resizableLeft=0,n.resizableTop=0,n.targetLeft=0,n.targetTop=0,n.state={isResizing:!1,resizeCursor:"auto",width:void 0===(n.propsSize&&n.propsSize.width)?"auto":n.propsSize&&n.propsSize.width,height:void 0===(n.propsSize&&n.propsSize.height)?"auto":n.propsSize&&n.propsSize.height,direction:"right",original:{x:0,y:0,width:0,height:0}},n.onResizeStart=n.onResizeStart.bind(n),n.onMouseMove=n.onMouseMove.bind(n),n.onMouseUp=n.onMouseUp.bind(n),"undefined"!=typeof window&&(window.addEventListener("mouseup",n.onMouseUp),window.addEventListener("mousemove",n.onMouseMove),window.addEventListener("mouseleave",n.onMouseUp),window.addEventListener("touchmove",n.onMouseMove),window.addEventListener("touchend",n.onMouseUp)),n}return o(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"base",{get:function(){var e=this.parentNode;if(e)for(var t=0,n=[].slice.call(e.children);t<n.length;t++){var r=n[t];if(r instanceof HTMLElement&&r.classList.contains(E))return r}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if("undefined"!=typeof window&&this.resizable){var n=this.resizable.offsetWidth,r=this.resizable.offsetHeight,o=this.resizable.style.position;"relative"!==o&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:r,this.resizable.style.position=o}return{width:e,height:t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){if(void 0===e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&m(e.propsSize[t].toString(),"%")){if(m(e.state[t].toString(),"%"))return e.state[t].toString();var n=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/n[t]*100+"%"}return v(e.state[t])};return{width:t&&void 0!==t.width&&!this.state.isResizing?v(t.width):n("width"),height:t&&void 0!==t.height&&!this.state.isResizing?v(t.height):n("height")}},enumerable:!0,configurable:!0}),t.prototype.getParentSize=function(){if(!this.base||!this.parentNode)return{width:window.innerWidth,height:window.innerHeight};var e=!1,t=this.parentNode.style.flexWrap,n=this.base.style.minWidth;"wrap"!==t&&(e=!0,this.parentNode.style.flexWrap="wrap"),this.base.style.position="relative",this.base.style.minWidth="100%";var r={width:this.base.offsetWidth,height:this.base.offsetHeight};return this.base.style.position="absolute",e&&(this.parentNode.style.flexWrap=t),this.base.style.minWidth=n,r},t.prototype.componentDidMount=function(){this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height});var e=this.parentNode;if(e instanceof HTMLElement&&!this.base){var t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0",t.classList?t.classList.add(E):t.className+=E,e.appendChild(t)}},t.prototype.componentWillUnmount=function(){if("undefined"!=typeof window){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseleave",this.onMouseUp),window.removeEventListener("touchmove",this.onMouseMove),window.removeEventListener("touchend",this.onMouseUp);var e=this.parentNode;if(!this.base||!e)return;if(!(e instanceof HTMLElement&&this.base instanceof Node))return;e.removeChild(this.base)}},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||void 0!==n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){if("parent"===this.props.bounds){var n=this.parentNode;if(n instanceof HTMLElement){var r=n.offsetWidth+(this.parentLeft-this.resizableLeft),o=n.offsetHeight+(this.parentTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}}else if("window"===this.props.bounds){if("undefined"!=typeof window){r=window.innerWidth-this.resizableLeft,o=window.innerHeight-this.resizableTop;e=e&&e<r?e:r,t=t&&t<o?t:o}}else if(this.props.bounds instanceof HTMLElement){r=this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),o=this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop);e=e&&e<r?e:r,t=t&&t<o?t:o}return{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n=this.props.scale||1,r=this.props.resizeRatio||1,o=this.state,i=o.direction,a=o.original,s=this.props,c=s.lockAspectRatio,l=s.lockAspectRatioExtraHeight,u=s.lockAspectRatioExtraWidth,d=a.width,f=a.height,p=l||0,g=u||0;return h("right",i)&&(d=a.width+(e-a.x)*r/n,c&&(f=(d-g)/this.ratio+p)),h("left",i)&&(d=a.width-(e-a.x)*r/n,c&&(f=(d-g)/this.ratio+p)),h("bottom",i)&&(f=a.height+(t-a.y)*r/n,c&&(d=(f-p)*this.ratio+g)),h("top",i)&&(f=a.height-(t-a.y)*r/n,c&&(d=(f-p)*this.ratio+g)),{newWidth:d,newHeight:f}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,r){var o=this.props,i=o.lockAspectRatio,a=o.lockAspectRatioExtraHeight,s=o.lockAspectRatioExtraWidth,c=void 0===r.width?10:r.width,l=void 0===n.width||n.width<0?e:n.width,u=void 0===r.height?10:r.height,d=void 0===n.height||n.height<0?t:n.height,p=a||0,h=s||0;if(i){var g=(u-p)*this.ratio+h,m=(d-p)*this.ratio+h,v=(c-h)/this.ratio+p,b=(l-h)/this.ratio+p,y=Math.max(c,g),E=Math.min(l,m),x=Math.max(u,v),k=Math.min(d,b);e=f(e,y,E),t=f(t,x,k)}else e=f(e,c,l),t=f(t,u,d);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){if("parent"===this.props.bounds){var e=this.parentNode;if(e instanceof HTMLElement){var t=e.getBoundingClientRect();this.parentLeft=t.left,this.parentTop=t.top}}if(this.props.bounds instanceof HTMLElement){var n=this.props.bounds.getBoundingClientRect();this.targetLeft=n.left,this.targetTop=n.top}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,i=r.top;this.resizableLeft=o,this.resizableTop=i}},t.prototype.onResizeStart=function(e,t){var n=0,r=0;if(e.nativeEvent instanceof MouseEvent){if(n=e.nativeEvent.clientX,r=e.nativeEvent.clientY,3===e.nativeEvent.which)return}else e.nativeEvent instanceof TouchEvent&&(n=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY);if(this.props.onResizeStart&&(this.resizable&&!1===this.props.onResizeStart(e,t,this.resizable)))return;this.props.size&&(void 0!==this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),void 0!==this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"==typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height,this.setBoundingClientRect(),this.setState({original:{x:n,y:r,width:this.size.width,height:this.size.height},isResizing:!0,resizeCursor:window.getComputedStyle(e.target).cursor||"auto",direction:t})},t.prototype.onMouseMove=function(e){if(this.state.isResizing&&this.resizable){var t=this.props,n=t.maxWidth,r=t.maxHeight,o=t.minWidth,i=t.minHeight,a=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,s=e instanceof MouseEvent?e.clientY:e.touches[0].clientY,c=this.state,l=c.direction,u=c.original,d=c.width,f=c.height,h=this.getParentSize(),v=b(h,n,r,o,i);n=v.maxWidth,r=v.maxHeight,o=v.minWidth,i=v.minHeight;var y=this.calculateNewSizeFromDirection(a,s),E=y.newHeight,x=y.newWidth,k=this.calculateNewMaxFromBoundary(n,r),C=this.calculateNewSizeFromAspectRatio(x,E,{width:k.maxWidth,height:k.maxHeight},{width:o,height:i});if(x=C.newWidth,E=C.newHeight,this.props.grid){var S=p(x,this.props.grid[0]),T=p(E,this.props.grid[1]),O=this.props.snapGap||0;x=0===O||Math.abs(S-x)<=O?S:x,E=0===O||Math.abs(T-E)<=O?T:E}this.props.snap&&this.props.snap.x&&(x=g(x,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(E=g(E,this.props.snap.y,this.props.snapGap));var w={width:x-u.width,height:E-u.height};if(d&&"string"==typeof d)if(m(d,"%"))x=x/h.width*100+"%";else if(m(d,"vw")){x=x/window.innerWidth*100+"vw"}else if(m(d,"vh")){x=x/window.innerHeight*100+"vh"}if(f&&"string"==typeof f)if(m(f,"%"))E=E/h.height*100+"%";else if(m(f,"vw")){E=E/window.innerWidth*100+"vw"}else if(m(f,"vh")){E=E/window.innerHeight*100+"vh"}this.setState({width:this.createSizeForCssProperty(x,"width"),height:this.createSizeForCssProperty(E,"height")}),this.props.onResize&&this.props.onResize(e,l,this.resizable,w)}},t.prototype.onMouseUp=function(e){var t=this.state,n=t.isResizing,r=t.direction,o=t.original;if(n&&this.resizable){var i={width:this.size.width-o.width,height:this.size.height-o.height};this.props.onResizeStop&&this.props.onResizeStop(e,r,this.resizable,i),this.props.size&&this.setState(this.props.size),this.setState({isResizing:!1,resizeCursor:"auto"})}},t.prototype.updateSize=function(e){this.setState({width:e.width,height:e.height})},t.prototype.renderResizer=function(){var e=this,t=this.props,n=t.enable,r=t.handleStyles,o=t.handleClasses,i=t.handleWrapperStyle,a=t.handleWrapperClass,s=t.handleComponent;if(!n)return null;var u=Object.keys(n).map((function(t){return!1!==n[t]?c.createElement(l.Resizer,{key:t,direction:t,onResizeStart:e.onResizeStart,replaceStyles:r&&r[t],className:o&&o[t]},s&&s[t]?s[t]:null):null}));return c.createElement("span",{className:a,style:i},u)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==y.indexOf(n)||(t[n]=e.props[n]),t}),{});return c.createElement("div",i({ref:function(t){t&&(e.resizable=t)},style:i({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style,this.sizeStyle,{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box"}),className:this.props.className},t),this.state.isResizing&&c.createElement("div",{style:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:""+(this.state.resizeCursor||"auto"),opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"}}),this.props.children,this.renderResizer())},t.defaultProps={onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(c.PureComponent);e.exports.Resizable=x})),r.register("5e7Sk",(function(e,t){"use strict";var n=e.exports&&e.exports.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},o=e.exports&&e.exports.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(e.exports,"__esModule",{value:!0});var i=o(r("61szk")),a={top:{width:"100%",height:"10px",top:"-5px",left:"0px",cursor:"row-resize"},right:{width:"10px",height:"100%",top:"0px",right:"-5px",cursor:"col-resize"},bottom:{width:"100%",height:"10px",bottom:"-5px",left:"0px",cursor:"row-resize"},left:{width:"10px",height:"100%",top:"0px",left:"-5px",cursor:"col-resize"},topRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",top:"-10px",cursor:"ne-resize"},bottomRight:{width:"20px",height:"20px",position:"absolute",right:"-10px",bottom:"-10px",cursor:"se-resize"},bottomLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",bottom:"-10px",cursor:"sw-resize"},topLeft:{width:"20px",height:"20px",position:"absolute",left:"-10px",top:"-10px",cursor:"nw-resize"}};e.exports.Resizer=function(e){return i.createElement("div",{className:e.className||"",style:n({position:"absolute",userSelect:"none"},a[e.direction],e.replaceStyles||{}),onMouseDown:function(t){e.onResizeStart(t,e.direction)},onTouchStart:function(t){e.onResizeStart(t,e.direction)}},e.children)}})),r.register("jpBOp",(function(e,t){function n(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),a=t.get(i);return void 0===a&&(a=e.call(this,r),t.set(i,a)),a}function r(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function o(e,t,n,r,o){return n.bind(t,e,r,o)}function i(e,t){return o(e,this,1===e.length?n:r,t.cache.create(),t.serializer)}function a(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var c={create:function(){return new s}};e.exports=function(e,t){var n=t&&t.cache?t.cache:c,r=t&&t.serializer?t.serializer:a;return(t&&t.strategy?t.strategy:i)(e,{cache:n,serializer:r})},e.exports.strategies={variadic:function(e,t){return o(e,this,r,t.cache.create(),t.serializer)},monadic:function(e,t){return o(e,this,n,t.cache.create(),t.serializer)}}})),r.register("anYE1",(function(n,o){t(n.exports,"createDisplayGrid",(function(){return S})),t(n.exports,"gridTypeForLayout",(function(){return T})),t(n.exports,"default",(function(){return A})),t(n.exports,"GRID_GUTTER",(function(){return r("irVnw").GRID_GUTTER}));var i=r("jgze0"),a=r("fw3Q6"),s=r("go2dD"),c=r("4NDMl"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("hdR0w"),g=r("SssiD"),m=r("eBSbE");r("8iml0");var v=r("82cWi"),b=r("9D9P7"),y=r("4s4wW"),E=r("8PQwY");r("irVnw");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var k=new m.PluginKey("gridPlugin"),C=12,S=function(e){var t=E.createDispatch(e);return function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t(k,{visible:e,gridType:n,highlight:r})}},T=function(e){return"wrap-left"===e||"wrap-right"===e?"wrapped":"full"},O=["left","right"],w=function(e,t,n,r){if(!e.length)return!1;var o=e.reduce((function(e,t){return Math.min(e,t)})),i=e.reduce((function(e,t){return Math.max(e,t)}));return"left"===t?o<0&&o<=-n&&("number"!=typeof r||o>=-(n+r)):i>C&&i>=C+n&&("number"!=typeof r||i<=C+r)},N=function(t){e(l)(r,t);var n=x(r);function r(){return e(s)(this,r),n.apply(this,arguments)}return e(c)(r,[{key:"render",value:function(){var t=this.props,n=t.highlight,r=t.shouldCalcBreakoutGridLines,o=t.theme,i=t.containerElement,s=t.editorWidth,c=t.gridType,l=t.visible,u=o.layoutMaxWidth,d=[].concat(e(a)(function(t){for(var n=[],r=0;r<=C;r++){var o={paddingLeft:"".concat(8.333333333333334,"%")};n.push(e(p).createElement("div",{key:r,className:e(h)("gridLine",t.indexOf(r)>-1?"highlight":""),style:r<C?o:void 0}))}return n}(n)),e(a)(function(t,n,r,o){var i=[];if(!o)return i;var a=(t*v.breakoutWideScaleRatio-t)/2;return O.forEach((function(o){i.push(e(p).createElement("div",{key:o,className:e(h)("gridLine",w(r,o,0,4)?"highlight":""),style:e(f)({position:"absolute"},o,"-".concat(a,"px"))})),i.push(e(p).createElement("div",{key:o+"-bk",className:e(h)("gridLine",r.indexOf("full-width")>-1?"highlight":""),style:e(f)({position:"absolute"},o,"-".concat((n-t-v.akEditorBreakoutPadding)/2,"px"))}))})),i}(u,s,n,r)));return e(p).createElement("div",{className:"gridParent"},e(p).createElement("div",{className:e(h)("gridContainer",c),style:{height:"".concat(i.scrollHeight,"px"),display:l?"block":"none"}},d))}}]),r}(e(p).Component),P=g.withTheme(N),A=function(t){return{name:"grid",contentComponent:function(n){var r=n.editorView;return e(p).createElement(y.default,{plugins:{grid:k,widthState:b.pluginKey},render:function(n){var o=n.grid,a=n.widthState,s=void 0===a?{width:v.akEditorFullPageMaxWidth}:a;return o?e(p).createElement(P,e(i)({shouldCalcBreakoutGridLines:t&&t.shouldCalcBreakoutGridLines,editorWidth:s.width,containerElement:r.dom},o)):null}})}}}})),r.register("irVnw",(function(n,o){t(n.exports,"GRID_GUTTER",(function(){return u})),t(n.exports,"gridStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD"),s=r("cufhv");r("8iml0");var c,l=r("82cWi"),u=12,d=a.css(c||(c=e(i)(["\n  .gridParent {\n    width: calc(100% + ","px);\n    margin-left: -","px;\n    margin-right: -","px;\n    transform: scale(1);\n    z-index: ",";\n  }\n\n  .gridContainer {\n    position: fixed;\n    height: 100vh;\n    width: 100%;\n    pointer-events: none;\n  }\n\n  .gridLine {\n    border-left: 1px solid ",";\n    display: inline-block;\n    box-sizing: border-box;\n    height: 100%;\n    margin-left: -1px;\n\n    transition: border-color 0.15s linear;\n    z-index: 0;\n  }\n\n  .highlight {\n    border-left: 1px solid ",";\n  }\n"])),2*u,u,u,l.akEditorGridLineZIndex,s.N30A,s.B200)})),r.register("iobnI",(function(e,n){t(e.exports,"snapTo",(function(){return r})),t(e.exports,"handleSides",(function(){return o})),t(e.exports,"imageAlignmentMap",(function(){return i}));var r=function(e,t){return 0===t.length?e:t.reduce((function(t,n){return Math.abs(n-e)<Math.abs(t-e)?n:t}))},o=["left","right"],i={left:"start",right:"end"}})),r.register("e3QKe",(function(n,o){t(n.exports,"isMediaSingle",(function(){return O})),t(n.exports,"insertMediaAsMediaSingle",(function(){return w})),t(n.exports,"insertMediaSingleNode",(function(){return N})),t(n.exports,"transformSliceForMedia",(function(){return A})),t(n.exports,"calcMediaPxWidth",(function(){return I}));var i=r("l15hj"),a=r("jWbqG"),s=r("iFBc4");r("igW5C");var c=r("5HbdK"),l=r("jWbVn");r("8iml0");var u=r("82cWi"),d=r("9J8af"),f=r("l9fpM"),p=r("laj9D"),h=r("hxFzZ");r("cTu5S");var g=r("9V1f8"),m=r("hNVBR"),v=r("eqcRs"),b=r("lWHVr"),y=r("jRUUG"),E=r("69fBK");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var C=function(e,t){return{action:g.ACTION.INSERTED,actionSubject:g.ACTION_SUBJECT.DOCUMENT,actionSubjectId:g.ACTION_SUBJECT_ID.MEDIA,attributes:{inputMethod:e,fileExtension:t,type:g.ACTION_SUBJECT_ID.MEDIA_SINGLE},eventType:g.EVENT_TYPE.TRACK}};function S(e){return E.atTheBeginningOfBlock(e)&&!d.checkNodeDown(e.selection,e.doc,f.isEmptyParagraph)}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){var o=n.tr,i=n.schema.nodes.paragraph,s=t.inputMethod,c=t.fileExtension,l=0;return S(n)&&(e.push(i.create()),l=1),o.replaceSelection(new a.Slice(a.Fragment.from(e),0,l)),s&&m.addAnalytics(n,o,C(s,c)),r&&r(o),!0}}var O=function(e,t){return!!e.nodes.mediaSingle&&y.isImage(t)},w=function(e,t,n){var r=e.state,o=e.dispatch,i=r.schema.nodes,a=i.mediaSingle,s=i.media;return!!a&&(!(t.type!==s||!y.isImage(t.attrs.__fileMimeType)&&"external"!==t.attrs.type)&&T([a.create({},t)],{inputMethod:n,fileExtension:t.attrs.__fileMimeType})(r,o))},N=function(e,t,n,r,o){if(void 0===r)return!1;var i,c=e.state,l=e.dispatch,u=c.selection.$from.node(-1),d=P(c.schema,r,o)(t),f=u&&u.type.validContent(a.Fragment.from(d));if(t.fileName){var p=t.fileName.lastIndexOf(".");i=p>=0?t.fileName.substring(p+1):void 0}if(f)T([d],{fileExtension:i,inputMethod:n})(c,l);else{var h=null;if(b.getFeatureFlags(e.state).newInsertionBehaviour&&(h=v.safeInsert(d,c.selection.from)(c.tr)),!h){var g=S(e.state)?a.Fragment.fromArray([d,c.schema.nodes.paragraph.create()]):d;h=s.safeInsert(g,void 0,!0)(c.tr)}n&&(h=m.addAnalytics(c,h,C(n,i))),l(h)}return!0},P=function(e,t,n){return function(r){var o=r.id,i=r.dimensions,a=r.contextId,s=r.scaleFactor,c=void 0===s?1:s,l=i||{height:void 0,width:void 0},u=l.width,d=l.height,f=e.nodes,h=f.media,g=f.mediaSingle,m=h.create({id:o,type:"file",collection:t,contextId:a,width:u&&Math.round(u/c),height:d&&Math.round(d/c)}),v=n?{layout:"align-start"}:{};return p.copyOptionalAttrsFromMediaState(r,m),g.createChecked(v,m)}};function A(e,t){var n=t.nodes,r=n.mediaSingle,o=n.layoutSection,i=n.table,a=n.bulletList,c=n.orderedList,l=n.media,u=n.expand;return function(t){var n=e;return s.hasParentNodeOfType([o,i,a,c,u])(t)&&(n=h.mapSlice(n,(function(e){var n=s.hasParentNodeOfType([o,i])(t)?{layout:e.attrs.layout}:{};return"mediaSingle"===e.type.name?r.createChecked(n,e.content,e.marks):e}))),n=h.mapSlice(n,(function(e){return"media"===e.type.name&&"external"===e.attrs.type?l.createChecked(k(k({},e.attrs),{},{__external:!0}),e.content,e.marks):e}))}}var I=function(e){var t=e.origWidth,n=e.origHeight,r=e.layout,o=e.pctWidth,i=e.containerWidth,a=e.resizedPctWidth,s=i.width,l=i.lineLength,d=D(i,o,t,n),f=D(i,a,t,n);if("wide"===r){if(l){var p=Math.ceil(l*u.breakoutWideScaleRatio);return p>s?l:p}}else{if("full-width"===r)return s-u.akEditorBreakoutPadding;if(d)return c.wrappedLayouts.indexOf(r)>-1?f?a<50?f:d:Math.min(d,t):f||d;if("center"===r)return f||Math.min(t,l||s);if(r&&-1!==c.wrappedLayouts.indexOf(r)){var h=Math.ceil((l||s)/2);return t<=h?t:h}}return t},D=function(e,t,n,r){return t&&n&&r&&Math.ceil(l.calcPxFromPct(t/100,e.lineLength||e.width))}})),r.register("laj9D",(function(e,n){t(e.exports,"isMediaBlobUrlFromAttrs",(function(){return g})),t(e.exports,"posOfMediaGroupNearby",(function(){return m})),t(e.exports,"posOfParentMediaGroup",(function(){return w})),t(e.exports,"posOfPrecedingMediaGroup",(function(){return y})),t(e.exports,"isSelectionNonMediaBlockNode",(function(){return v})),t(e.exports,"isSelectionMediaSingleNode",(function(){return b})),t(e.exports,"isInsidePotentialEmptyParagraph",(function(){return T})),t(e.exports,"removeMediaNode",(function(){return N})),t(e.exports,"splitMediaGroup",(function(){return P})),t(e.exports,"copyOptionalAttrsFromMediaState",(function(){return I})),t(e.exports,"transformSliceToCorrectMediaWrapper",(function(){return D})),t(e.exports,"unwrapNestedMediaElements",(function(){return _})),t(e.exports,"getMediaNodeFromSelection",(function(){return j}));var o=r("l5dFf"),i=(r("jWbqG"),r("eBSbE")),a=r("iFBc4"),s=r("k6sjS"),c=r("9J8af"),l=r("hxFzZ"),u=r("eNOQT"),d=r("jRUUG"),f=r("69fBK"),p=r("1wUBP"),h=r("bKhep"),g=function(e){return!(!e||"external"!==e.type||!h.isMediaBlobUrl(e.url))},m=function(e){return w(e)||C(e)||y(e)||E(e)},v=function(e){var t=e.selection.node;return t&&t.type!==e.schema.nodes.media&&t.isBlock},b=function(e){var t=e.selection.node;return t&&t.type===e.schema.nodes.mediaSingle},y=function(e){if(f.atTheBeginningOfBlock(e))return S(e,e.selection.$from)},E=function(e){if(e.selection instanceof p.GapCursorSelection){var t=e.selection.$from,n=e.schema.nodes.mediaGroup;return x(t,n)||k(t,n)}},x=function(e,t){if(e.nodeBefore&&e.nodeBefore.type===t)return e.pos-e.nodeBefore.nodeSize+1},k=function(e,t){if(e.nodeAfter&&e.nodeAfter.type===t)return e.pos+1},C=function(e){if(f.atTheEndOfBlock(e))return O(e,e.selection.$to)},S=function(e,t){var n,r;if(v(e)?(n=t.pos,r=t.nodeBefore):(n=f.startPositionOfParent(t)-1,r=e.doc.resolve(n).nodeBefore),r&&r.type===e.schema.nodes.mediaGroup)return n-r.nodeSize+1},T=function(e){return e.selection.$from.parent.type===e.schema.nodes.paragraph&&f.atTheBeginningOfBlock(e)&&f.atTheEndOfBlock(e)},O=function(e,t){var n,r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(v(e)?(n=t.pos,r=t.nodeAfter):(n=f.endPositionOfParent(t),r=e.doc.nodeAt(n)),r&&r.type===e.schema.nodes.mediaGroup)return o?n+1:n+r.nodeSize-1},w=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.selection.$from;if((t=t||r).parent.type===e.schema.nodes.mediaGroup)return n?f.startPositionOfParent(t):f.endPositionOfParent(t)-1};var N=function(e,t,n){var r=t.attrs.id,o=e.state,s=o.tr,l=o.selection,u=o.doc,d=n();s.deleteRange(d,d+t.nodeSize),c.isTemporary(r)&&s.setMeta("addToHistory",!1);var p=u.resolve(d),h=p.nodeBefore,g=p.parent,m=p.index()===g.childCount-1;if(l.from===d&&!m&&!f.atTheBeginningOfDoc(o)&&h&&"media"===h.type.name){var v=a.findPositionOfNodeBefore(s.selection);v&&s.setSelection(i.NodeSelection.create(s.doc,v))}e.dispatch(s)},P=function(e){var t=e.state.selection;return t instanceof i.NodeSelection&&t.node.type===e.state.schema.nodes.media&&(o.deleteSelection(e.state,e.dispatch),t.$to.nodeAfter?(o.splitBlock(e.state,e.dispatch),s.createParagraphNear(!1)(e.state,e.dispatch)):s.createNewParagraphBelow(e.state,e.dispatch),!0)},A=function(e){return e.length>1&&"_"===e[0]&&"_"===e[1]},I=function(e,t){Object.keys(t.attrs).filter(A).forEach((function(n){var r=n.substring(2),o=e[r];void 0!==o&&(t.attrs[n]=o)}))},D=function(e,t){var n=t.nodes,r=n.mediaGroup,o=n.mediaSingle,i=n.media;return l.mapSlice(e,(function(e,t){return t||e.type!==i?e:o&&(d.isImage(e.attrs.__fileMimeType)||"external"===e.attrs.type)?o.createChecked({},e):r.createChecked({},[e])}))},R=function(e){return"0"===e.style.opacity||"none"===e.style.display||"hidden"===e.style.visibility},M=["DIV","TD"];var _=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body,n=t.querySelector('b[id^="docs-internal-guid-"]');n&&u.unwrap(t,n);var r=t.querySelectorAll("img");return r.length?(r.forEach((function(e){var n=e.parentElement;if(n)if(R(n)||R(e))n.removeChild(e);else if(!(n instanceof HTMLDivElement)){var r=u.walkUpTreeUntil(n,(function(e){return e.parentElement===t||function(e){return!!e&&-1!==M.indexOf(e.tagName)}(e.parentElement)}));r&&r.parentElement&&(r.parentElement.insertBefore(e,r.nextElementSibling||r),n.innerText=n.innerText.trim(),u.removeNestedEmptyEls(n))}})),t.lastElementChild&&"BR"===t.lastElementChild.tagName&&t.removeChild(t.lastElementChild),t.innerHTML):e},j=function(e){if(!b(e))return null;var t=e.tr,n=t.selection.from+1,r=t.doc.nodeAt(n);return r&&r.type===e.schema.nodes.media?r:null}})),r.register("k6sjS",(function(n,o){t(n.exports,"insertNewLineWithAnalytics",(function(){return h})),t(n.exports,"insertRule",(function(){return g})),t(n.exports,"createNewParagraphAbove",(function(){return m})),t(n.exports,"createParagraphNear",(function(){return y})),t(n.exports,"createNewParagraphBelow",(function(){return v})),t(n.exports,"addParagraphAtEnd",(function(){return C})),t(n.exports,"changeImageAlignment",(function(){return S})),t(n.exports,"createToggleBlockMarkOnRange",(function(){return T})),t(n.exports,"toggleBlockMark",(function(){return O}));var i=r("l15hj"),a=r("jWbqG"),s=r("eBSbE"),c=r("bKnyF"),l=r("9J8af");r("cTu5S");var u=r("hNVBR"),d=r("9V1f8");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=u.withAnalytics({action:d.ACTION.INSERTED,actionSubject:d.ACTION_SUBJECT.TEXT,actionSubjectId:d.ACTION_SUBJECT_ID.LINE_BREAK,eventType:d.EVENT_TYPE.TRACK})((function(e,t){var n=e.selection.$from.parent,r=e.schema.nodes.hardBreak;if(r){var o=r.createChecked();if(n&&n.type.validContent(a.Fragment.from(o)))return t&&t(e.tr.replaceSelectionWith(o,!1)),!0}return e.selection instanceof s.TextSelection&&(t&&t(e.tr.insertText("\n")),!0)}));function g(){return function(e,t){var n=e.selection.to,r=e.schema.nodes.rule;if(r){var o=r.create();return t&&t(e.tr.insert(n+1,o)),!0}return!1}}var m=function(e,t){return!(l.canMoveUp(e)||!b(e))&&(y(!1)(e,t),!0)},v=function(e,t){return!(l.canMoveDown(e)||!b(e))&&(y(!0)(e,t),!0)};function b(e){var t=e.selection.$from,n=t.node(t.depth),r=!!n&&n.type===e.schema.nodes.codeBlock,o=e.selection instanceof s.NodeSelection;return t.depth>1||o||r}function y(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){var r,o=t.schema.nodes.paragraph;if(!o)return!1;if(t.selection instanceof s.TextSelection){if(k(t))return!1;r=E(t,e)}else r=x(t,e);var i=t.tr.insert(r,o.createAndFill());return i.setSelection(s.TextSelection.create(i.doc,r+1)),n&&n(i),!0}}function E(e,t){var n=e.selection,r=n.$from,o=n.$to;return t?o.end(0):r.start(0)}function x(e,t){var n,r=e.selection,o=r.$from,i=r.$to,a=e.selection instanceof s.NodeSelection&&e.doc.nodeAt(e.selection.$anchor.pos),c=a&&"mediaGroup"===a.type.name;return t?(n=i.end(i.depth),n=i.depth>0&&!c?n+1:n):(n=o.start(o.depth),n=o.depth>0&&!c?n-1:n),n}function k(e){var t=e.selection.$from.node(1);return t.isTextblock&&t.type!==e.schema.nodes.codeBlock&&2===t.nodeSize}function C(e){var t=e.doc.type.schema.nodes.paragraph,n=e.doc;!n.lastChild||n.lastChild.type===t&&0===n.lastChild.content.size||t&&e.insert(n.content.size,t.createAndFill()),e.setSelection(s.TextSelection.create(e.doc,e.doc.content.size-1)),e.scrollIntoView()}var S=function(e){return function(t,n){var r=t.selection,o=r.from,i=r.to,a=t.tr;return t.doc.nodesBetween(o,i,(function(n,r){n.type===t.schema.nodes.mediaSingle&&a.setNodeMarkup(r,void 0,p(p({},n.attrs),{},{layout:"center"===e?"center":"align-".concat(e)}))})),!(!a.docChanged||!n)&&(n(a.scrollIntoView()),!0)}},T=function(e,t,n){return function(r,o,i,a){var s=!1;return a.doc.nodesBetween(r,o,(function(r,o,c){if(!r.type.isBlock)return!1;if((!n||(Array.isArray(n)?n.indexOf(r.type)>-1:n(a.schema,r,c)))&&c.type.allowsMarkType(e)){var l=r.marks.filter((function(t){return t.type===e})),u=l.length?l[0].attrs:void 0,d=t(u,r);void 0!==d&&(i.setNodeMarkup(o,r.type,r.attrs,r.marks.filter((function(t){return!e.excludes(t.type)})).concat(!1===d?[]:e.create(d))),s=!0)}})),s}},O=function(e,t,n){return function(r,o){var i=!1,a=r.tr,s=T(e,t,n);if(r.selection instanceof c.CellSelection)r.selection.forEachCell((function(e,t){i=s(t,t+e.nodeSize,a,r)}));else{var l=r.selection,u=l.from,d=l.to;i=s(u,d,a,r)}return!(!i||!a.docChanged)&&(o&&o(a.scrollIntoView()),!0)}}})),r.register("jRUUG",(function(e,n){t(e.exports,"isImage",(function(){return r}));var r=function(e){return!!e&&(e.indexOf("image/")>-1||e.indexOf("video/")>-1)}})),r.register("1vMV4",(function(n,o){t(n.exports,"floatingLayouts",(function(){return p})),t(n.exports,"isRichMediaInsideOfBlockNode",(function(){return h})),t(n.exports,"alignAttributes",(function(){return g})),t(n.exports,"calculateSnapPoints",(function(){return m}));var i=r("l15hj");r("igW5C");var a=r("5HbdK"),s=r("jWbVn"),c=r("iFBc4");r("8iml0");var l=r("82cWi");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=["center","wide","full-width"],p=["wrap-left","wrap-right"],h=function(e,t){if("number"!=typeof t||isNaN(t)||!e)return!1;var n=e.state.doc.resolve(t),r=e.state.schema.nodes,o=r.expand,i=r.nestedExpand,a=r.layoutColumn;return!!c.findParentNodeOfTypeClosestToPos(n,[o,i,a])},g=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=t.width,s=t.layout,c=f.indexOf(s)>-1,l=f.indexOf(e)>-1,u=a.wrappedLayouts.indexOf(e)>-1,p=a.wrappedLayouts.indexOf(s)>-1;if(c&&a.shouldAddDefaultWrappedWidth(e,r,o))(!i||i>=100||"center"!==s)&&(i=50);else if(e!==s&&["full-width","wide"].indexOf(s)>-1)i=void 0;else if(i){var h=Math.round(i/100*n),g=h;p&&l?(g=2*Math.floor(g/2),i=void 0):c&&u&&(h<=1?g=2:h>=n&&(g=10)),g!==h&&(i=g/n*100)}return d(d({},t),{},{layout:e,width:i})};function m(e){for(var t=e.$pos,n=e.akEditorWideLayoutWidth,r=e.allowBreakoutSnapPoints,o=e.containerWidth,i=e.gridSize,a=e.gridWidth,c=e.insideInlineLike,u=e.insideLayout,d=e.isVideoFile,f=e.lineLength,p=e.offsetLeft,h=e.wrappedLayout,g=[],m=0;m<a;m++){var v=s.calcPxFromColumns(m,f,a);g.push(u?v:v-p)}g.push(f-p);var b=h||c?1:2,y=s.calcPxFromColumns(b,f,i),E=g.filter((function(e){return e>=y}));if(!t)return E;if(E=d?E.filter((function(e){return e>320})):E,"doc"===t.parent.type.name&&r){E.push(n);var x=o-l.akEditorBreakoutPadding;x>n&&E.push(x)}return E=E.sort((function(e,t){return e-t}))}})),r.register("cjx2e",(function(n,o){t(n.exports,"BlockCard",(function(){return T}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("9LzOV");r("igW5C");var h=r("4W5Y2"),g=r("a0H0L"),m=r("isabZ"),v=r("hm2s2"),b=r("hLVOy"),y=r("g5Ysg"),E=r("22Hec"),x=r("buFsC");r("igW5C");h=r("4W5Y2"),g=r("a0H0L"),m=r("isabZ");function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var C=function(t){e(c)(r,t);var n=k(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onClick",(function(){})),e(d)(e(s)(t),"onResolve",(function(e){var n=t.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=e.title,a=e.url;b.default((function(){return o.dispatch(x.registerCard({title:i,url:a,pos:r()})(o.state.tr))}))()}})),e(d)(e(s)(t),"gapCursorSpan",(function(){if(!(h.default.ie&&h.default.ie_version<79))return e(f).createElement("span",{contentEditable:!0})})),t}return e(a)(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=g.findOverflowScrollParent(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var t=this.props,n=t.node,r=t.cardContext,o=t.platform,i=n.attrs,a=i.url,s=i.data,c=e(f).createElement(e(f).Fragment,null,e(f).createElement(p.Card,{key:a,url:a,data:s,container:this.scrollContainer,appearance:"block",onClick:this.onClick,onResolve:this.onResolve,showActions:"web"===o,platform:o}),this.gapCursorSpan());return e(f).createElement("div",null,r&&r.value?e(f).createElement(r.Provider,{value:r.value},c):s?c:null)}}]),r}(e(f).PureComponent);e(d)(C,"contextTypes",{contextAdapter:e(v).object});var S=y.Card(C,m.default),T=function(t){e(c)(r,t);var n=k(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"createDomRef",value:function(){var e=document.createElement("div");return h.default.chrome&&"mobile"!==this.reactComponentProps.platform&&(e.contentEditable="true",e.setAttribute("spellcheck","false")),e}},{key:"render",value:function(){return e(f).createElement(S,{node:this.node,view:this.view,getPos:this.getPos,platform:this.reactComponentProps.platform})}}]),r}(E.default)})),r.register("4eynV",(function(n,o){t(n.exports,"InlineCard",(function(){return w}));var i=r("auQQv"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("hm2s2"),g=r("9LzOV");r("igW5C");var m=r("a0H0L"),v=r("b6rQF"),b=r("lFBSu");r("igW5C");m=r("a0H0L"),v=r("b6rQF"),b=r("lFBSu");var y=r("hLVOy"),E=r("g5Ysg"),x=r("22Hec"),k=r("buFsC"),C=r("75Prg");function S(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var T=function(t){e(l)(r,t);var n=S(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"onClick",(function(){})),e(f)(e(c)(t),"onResolve",(function(e){var n=t.props,r=n.getPos,o=n.view;if(r&&"boolean"!=typeof r){var i=e.title,a=e.url;y.default((function(){return o.dispatch(k.registerCard({title:i,url:a,pos:r()})(o.state.tr))}))()}})),t}return e(s)(r,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.view,t=m.findOverflowScrollParent(e.dom);this.scrollContainer=t||void 0}},{key:"render",value:function(){var t=this.props,n=t.node,r=t.cardContext,o=t.useAlternativePreloader,i=n.attrs,a=i.url,s=i.data,c=e(p).createElement("span",null,e(p).createElement("span",null,v.ZERO_WIDTH_SPACE),e(p).createElement("span",{className:"card"},e(p).createElement(g.Card,{key:a,url:a,data:s,appearance:"inline",onClick:this.onClick,container:this.scrollContainer,onResolve:this.onResolve,inlinePreloaderStyle:o?"on-right-without-skeleton":void 0})),e(p).createElement("span",null,v.ZERO_WIDTH_SPACE));return r&&r.value?e(p).createElement(r.Provider,{value:r.value},c):s?c:null}}]),r}(e(p).PureComponent);e(f)(T,"contextTypes",{contextAdapter:e(h).object});var O=E.Card(T,b.default),w=function(t){e(l)(r,t);var n=S(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"createDomRef",value:function(){return this.reactComponentProps.useInlineWrapper?C.createMobileInlineDomRef():e(i)(e(d)(r.prototype),"createDomRef",this).call(this,{displayInlineBlockForInlineNodes:!1})}},{key:"render",value:function(){var t=this.reactComponentProps,n=t.useInlineWrapper,r=t.useAlternativePreloader;return e(p).createElement(C.default,{useInlineWrapper:n},e(p).createElement(O,{node:this.node,view:this.view,getPos:this.getPos,useAlternativePreloader:r}))}}]),r}(x.default)})),r.register("bxqcP",(function(e,n){t(e.exports,"splitCell",(function(){return a}));var o=r("7qvim"),i=r("cFImz"),a=function(e,t){var n=i.getPluginState(e),r=e.schema.nodes,a=r.tableHeader,s=r.tableCell;return!t||o.splitCellWithType((function(e){var t=e.row,r=e.col;return 0===t&&n.isHeaderRowEnabled||0===r&&n.isHeaderColumnEnabled?a:s}))(e,t)}})),r.register("c0TOp",(function(e,n){t(e.exports,"showPlaceholderFloatingToolbar",(function(){return i})),t(e.exports,"insertPlaceholderTextAtSelection",(function(){return a})),t(e.exports,"hidePlaceholderFloatingToolbar",(function(){return s}));var o=r("e2Ipy"),i=function(e,t){var n=e.tr;return e.selection.empty||n.deleteSelection(),n.setMeta(o.pluginKey,{showInsertPanelAt:n.selection.anchor}),n.scrollIntoView(),t(n),!0},a=function(e){return function(t,n){return n(t.tr.replaceSelectionWith(t.schema.nodes.placeholder.createChecked({text:e})).setMeta(o.pluginKey,{showInsertPanelAt:null}).scrollIntoView()),!0}},s=function(e,t){return t(e.tr.setMeta(o.pluginKey,{showInsertPanelAt:null})),!0}})),r.register("e2Ipy",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("placeholderTextPlugin")})),r.register("erSDz",(function(e,n){t(e.exports,"createHorizontalRule",(function(){return d})),t(e.exports,"default",(function(){return p}));var o=r("jWbqG"),i=r("cky9Z"),a=r("k9AYs"),s=r("eqcRs");r("cTu5S");var c=r("hNVBR"),l=r("9V1f8"),u=r("lWHVr"),d=function(e,t,n,r){if(!e.selection.empty)return null;var i=null;return u.getFeatureFlags(e).newInsertionBehaviour&&(i=e.tr.replaceWith(t,n,o.Fragment.empty),i=s.safeInsert(e.schema.nodes.rule.createChecked(),i.selection.from)(i)),i||(i=e.tr.replaceRange(t,n,new o.Slice(o.Fragment.from(e.schema.nodes.rule.createChecked()),0,0))),c.addAnalytics(e,i,{action:l.ACTION.INSERTED,actionSubject:l.ACTION_SUBJECT.DOCUMENT,actionSubjectId:l.ACTION_SUBJECT_ID.DIVIDER,attributes:{inputMethod:r},eventType:l.EVENT_TYPE.TRACK})},f=function(e,t,n){return d(e,t,n,l.INPUT_METHOD.FORMATTING)};var p=function(e,t){var n=[];if(e.nodes.rule&&(n.push(i.createRule(/^(\-\-\-|\*\*\*)$/,(function(e,t,n,r){return f(e,n,r)}))),n.push(i.createRule(new RegExp("".concat(a.leafNodeReplacementCharacter,"(\\-\\-\\-|\\*\\*\\*)")),(function(e,t,n,r){var o=e.schema.nodes.hardBreak;return e.doc.resolve(n).nodeAfter.type!==o?null:f(e,n,r)})))),0!==n.length)return i.createPlugin("rule",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})}})),r.register("gAnDB",(function(e,n){t(e.exports,"getListTypes",(function(){return p})),t(e.exports,"insertTaskDecision",(function(){return h})),t(e.exports,"insertTaskDecisionWithAnalytics",(function(){return g})),t(e.exports,"changeInDepth",(function(){return v}));var o=r("l5dFf"),i=r("eBSbE"),a=r("iFBc4"),s=r("ekJGA");r("cTu5S");var c=r("hWlcJ"),l=r("9V1f8"),u=r("hNVBR"),d=r("1wUBP"),f=r("8hNhU"),p=function(e,t){var n=t.nodes,r=n.decisionList,o=n.decisionItem,i=n.taskList,a=n.taskItem;return"taskList"===e?{list:i,item:a}:{list:r,item:o}},h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.INPUT_METHOD.TOOLBAR,r=arguments.length>3?arguments[3]:void 0,a=arguments.length>4?arguments[4]:void 0,s=e.state,c=s.schema,u=function(e){var t=e.tr,n=e.list,r=e.item,o=e.listLocalId,i=e.itemLocalId;return b(t,n,r,c,s,o,i)},d=function(e){var t=e.state,n=e.tr,r=e.item,o=e.itemLocalId,a=t.selection.$to,s=a.end(a.depth);return n.split(s,1,[{type:r,attrs:{localId:o}}]).setSelection(new i.TextSelection(n.doc.resolve(s+a.depth)))},f=g(s,t,n,u,d,r,a);return o.autoJoin((function(e,t){return!!f&&(t&&t(f),!0)}),["taskList","decisionList"])},g=function(e,t,n,r,o,i,d){var h,g,m,v=e.schema,b=p(t,v),y=b.list,E=b.item,x=e.tr,k=e.selection.$to,C=a.findParentNodeOfType(y)(e.selection),S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.objectId,n=e.containerId,r=t?c.USER_CONTEXT.EDIT:c.USER_CONTEXT.NEW;return{objectId:t,containerId:n,userContext:r}}(f.stateKey.getState(e).contextIdentifierProvider);if(C){if(k.node().textContent.length>=0){m=C.node.childCount+1,i=i||C.node.attrs.localId;var T=a.findParentNodeOfType(E)(e.selection);g=T?e.doc.resolve(T.pos).index()+1:0,h=o||r}}else g=0,m=1,h=r;if(i=i||s.uuid.generate(),d=d||s.uuid.generate(),h){var O=h({state:e,tr:x,list:y,item:E,listLocalId:i,itemLocalId:d});return O&&(O=u.addAnalytics(e,O,function(e,t,n,r,o,i,a){var s,c,u;return t&&(s=t.containerId,c=t.objectId,u=t.userContext),{action:l.ACTION.INSERTED,actionSubject:l.ACTION_SUBJECT.DOCUMENT,actionSubjectId:"taskList"===e?l.ACTION_SUBJECT_ID.ACTION:l.ACTION_SUBJECT_ID.DECISION,eventType:l.EVENT_TYPE.TRACK,attributes:{inputMethod:n,containerAri:s,objectAri:c,userContext:u,localId:r,listLocalId:o,position:i,listSize:a}}}(t,S,n,d,i,g||0,m||0))),O}return null},m=function(e,t){var n=e.nodes,r=n.paragraph,o=n.blockquote,i=n.decisionList,s=n.taskList;return a.hasParentNodeOfType([o,r,i,s])(t)},v=function(e,t){return t.depth-e.depth},b=function(e,t,n,r,o){var c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:s.uuid.generate(),l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:s.uuid.generate(),u=o.selection,f=u.$from,p=u.$to;if(f.parent!==p.parent)return null;var h=r.nodes,g=h.paragraph,b=h.blockquote,y=h.decisionList,E=h.taskList,x=h.decisionItem,k=h.taskItem,C=h.mediaGroup;if(f.parent.type===C)return null;var S=t.create({localId:c},[n.create({localId:l})]);if(u instanceof d.GapCursorSelection)return a.safeInsert(S)(e);if(m(r,u)){var T=u.$from.node(),O=T.type,w=T.childCount,N=t.create({localId:s.uuid.generate()},[n.create({localId:s.uuid.generate()},f.node(f.depth).content)]),P=a.findParentNodeOfType(E)(u)||a.findParentNodeOfType(y)(u),A=a.findParentNodeOfType(k)(u)||a.findParentNodeOfType(x)(u);if(P&&A){var I,D,R=u.from;return P.node.firstChild===A.node?(I=P.start-1,D=A.start+A.node.nodeSize,1===P.node.childCount&&(D=P.start+P.node.nodeSize-1)):(I=A.start-1,D=A.start+A.node.nodeSize,R+=2),e.replaceWith(I,D,N),e=a.setTextSelection(R)(e)}var M=[b];O===g&&w>0&&M.push(g);var _=e;_=a.replaceParentNodeOfType(M,N)(e);var j=v(p,_.selection.$to);if(_!==(e=e.setSelection(new i.TextSelection(e.doc.resolve(p.pos+j)))))return e}return a.safeInsert(S)(e)}})),r.register("8hNhU",(function(e,n){t(e.exports,"stateKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("tasksAndDecisionsPlugin")})),r.register("jF2qR",(function(n,o){t(n.exports,"setExpandRef",(function(){return v})),t(n.exports,"deleteExpandAtPos",(function(){return b})),t(n.exports,"deleteExpand",(function(){return y})),t(n.exports,"updateExpandTitle",(function(){return E})),t(n.exports,"toggleExpandExpanded",(function(){return x})),t(n.exports,"createExpandNode",(function(){return k})),t(n.exports,"insertExpand",(function(){return C})),t(n.exports,"focusTitle",(function(){return S})),t(n.exports,"setSelectionInsideExpand",(function(){return T}));var i=r("l15hj"),a=r("eBSbE"),s=r("iFBc4"),c=r("eK4uv");r("cTu5S");var l=r("9V1f8"),u=r("hNVBR"),d=r("hHCgI"),f=r("1wUBP"),p=r("d9wIc"),h=r("cw59o");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=function(e){return h.createCommand({type:"SET_EXPAND_REF",data:{ref:e}},(function(e){return e.setMeta("addToHistory",!1)}))},b=function(e,t){return function(n,r){if(!t||isNaN(e))return!1;var o={action:l.ACTION.DELETED,actionSubject:t.type===n.schema.nodes.expand?l.ACTION_SUBJECT.EXPAND:l.ACTION_SUBJECT.NESTED_EXPAND,attributes:{inputMethod:l.INPUT_METHOD.TOOLBAR},eventType:l.EVENT_TYPE.TRACK};return t&&r&&r(u.addAnalytics(n,n.tr.delete(e,e+t.nodeSize),o)),!0}},y=function(){return function(e,t){var n=p.findExpand(e);return!!n&&b(n.pos,n.node)(e,t)}},E=function(e,t,n){return function(r,o){var i=r.doc.nodeAt(t);if(i&&i.type===n&&o){var a=r.tr;a.setNodeMarkup(t,i.type,m(m({},i.attrs),{},{title:e}),i.marks),o(a)}return!0}},x=function(e,t){return function(n,r){var o=n.doc.nodeAt(e);if(o&&o.type===t&&r){var i=n.tr,a=!o.attrs.__expanded;i.setNodeMarkup(e,o.type,m(m({},o.attrs),{},{__expanded:a}),o.marks),!1===a&&p.findExpand(n)&&i.setSelection(new f.GapCursorSelection(i.doc.resolve(e+o.nodeSize),f.Side.RIGHT));var s={action:l.ACTION.TOGGLE_EXPAND,actionSubject:t===n.schema.nodes.expand?l.ACTION_SUBJECT.EXPAND:l.ACTION_SUBJECT.NESTED_EXPAND,attributes:{platform:d.PLATFORMS.WEB,mode:d.MODE.EDITOR,expanded:a},eventType:l.EVENT_TYPE.TRACK};r(u.addAnalytics(n,i.setMeta("isRemote",!0),s))}return!0}},k=function(e){var t=e.schema.nodes,n=t.expand,r=t.nestedExpand;return(c.findTable(e.selection)?r:n).createAndFill({})},C=function(e,t){var n=k(e),r={action:l.ACTION.INSERTED,actionSubject:l.ACTION_SUBJECT.DOCUMENT,actionSubjectId:n.type===e.schema.nodes.expand?l.ACTION_SUBJECT_ID.EXPAND:l.ACTION_SUBJECT_ID.NESTED_EXPAND,attributes:{inputMethod:l.INPUT_METHOD.INSERT_MENU},eventType:l.EVENT_TYPE.TRACK};return t&&t(u.addAnalytics(e,s.safeInsert(n)(e.tr).scrollIntoView(),r)),!0},S=function(e){return function(t,n,r){if(r){var o=r.domAtPos(e).node.parentElement;if(o){T(t,n,r);var i=o.querySelector("input");if(i)return i.focus(),!0}}return!1}},T=function(e,t,n){var r=e.tr,o=e.doc,i=e.selection;return n&&!n.hasFocus()&&n.focus(),t&&t(r.setSelection(a.TextSelection.create(o,i.from))),!0}})),r.register("d9wIc",(function(e,n){t(e.exports,"findExpand",(function(){return s})),t(e.exports,"transformSliceToRemoveOpenExpand",(function(){return c})),t(e.exports,"transformSliceNestedExpandToExpand",(function(){return l}));var o=r("iFBc4"),i=r("jWbqG"),a=r("hxFzZ"),s=function(e,t){var n=e.schema.nodes,r=n.expand,i=n.nestedExpand;return o.findSelectedNodeOfType([r,i])(t||e.selection)||o.findParentNodeOfType([r,i])(t||e.selection)},c=function(e,t){return e.openStart>1&&e.openEnd>1&&1===e.content.childCount&&e.content.firstChild&&e.content.firstChild.type===t.nodes.expand?new i.Slice(e.content.firstChild.content,e.openStart-1,e.openEnd-1):e},l=function(e,t){var n=t.nodes,r=n.expand,o=n.nestedExpand,s=[];return a.mapChildren(e.content,(function(e){e.type===o?s.push(r.createChecked(e.attrs,e.content,e.marks)):s.push(e)})),new i.Slice(i.Fragment.fromArray(s),e.openStart,e.openEnd)}})),r.register("cw59o",(function(e,n){t(e.exports,"pluginKey",(function(){return s})),t(e.exports,"createPluginState",(function(){return l})),t(e.exports,"createCommand",(function(){return u})),t(e.exports,"getPluginState",(function(){return d}));var o=r("eBSbE"),i=r("27k6c"),a=r("grEFk"),s=new o.PluginKey("expandPlugin"),c=i.pluginFactory(s,a.default),l=c.createPluginState,u=c.createCommand,d=c.getPluginState})),r.register("grEFk",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(e,t){return"SET_EXPAND_REF"===t.type?s(s({},e),{},{expandRef:t.data.ref}):e}})),r.register("6wtTT",(function(n,o){t(n.exports,"updateLink",(function(){return v})),t(n.exports,"insertLinkWithAnalytics",(function(){return y})),t(n.exports,"removeLink",(function(){return E})),t(n.exports,"editInsertedLink",(function(){return x})),t(n.exports,"showLinkToolbar",(function(){return k})),t(n.exports,"hideLinkToolbar",(function(){return C}));var i=r("l15hj"),a=r("5eBbT"),s=r("l68vJ"),c=r("eBSbE"),l=r("jd53t");r("cTu5S");var u=r("hNVBR"),d=r("9V1f8"),f=r("cSjqO"),p=r("991EG");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function m(e){return function(t){var n=t.doc.nodeAt(e);return!!n&&n.isText}}function v(e,t,n,r){return function(o,i){var c=o.doc.resolve(n),l=o.doc.nodeAt(n);if(!l)return!1;var u=a.normalizeUrl(e),d=o.schema.marks.link.isInSet(l.marks),f=o.schema.marks.link,p=r&&n!==r?r:n-c.textOffset+l.nodeSize,h=o.tr;if(!u&&t)h.removeMark(n,p,f),h.insertText(t,n,p);else{if(!u)return!1;h.insertText(t,n,p);var m=g(g({},d&&d.attrs||{}),{},{href:u});h.addMark(n,n+t.length,f.create(m)),h.setMeta(s.stateKey,{type:s.LinkAction.HIDE_TOOLBAR})}return i&&i(h),!0}}function b(e,t,n,r,o,i){return function(l,u){var d=l.schema.marks.link,p=l.tr;if(n.trim()){var h=a.normalizeUrl(n),g=s.stateKey.getState(l).activeText,v=t,b=o||r||n;return o&&o===g||(p.insertText(b,e,t),v=m(e)(l)?e+b.length:e+b.length+1),p.addMark(e,v,d.create({href:h})),p.setSelection(c.Selection.near(p.doc.resolve(v))),o&&o!==n||f.queueCardsFromChangedTr(l,p,i,!1),p.setMeta(s.stateKey,{type:s.LinkAction.HIDE_TOOLBAR}),u&&u(p),!0}return p.setMeta(s.stateKey,{type:s.LinkAction.HIDE_TOOLBAR}),u&&u(p),!1}}var y=function(e,t,n,r,o,i){var a=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return!a||o||i?u.withAnalytics(p.getLinkCreationAnalyticsEvent(e,r))(b(t,n,r,o,i,e)):b(t,n,r,o,i,e)};function E(e){return function(e,t,n,r){return l.filter(m(t),(function(o,i){var c=o.doc.resolve(t),l=o.doc.nodeAt(t),u=o.schema.marks.link,d=u.isInSet(l.marks),f=a.normalizeUrl(e);if(d&&d.attrs.href===f)return!1;var p=n&&t!==n?n:t-c.textOffset+l.nodeSize,h=o.tr.removeMark(t,p,u);return e.trim()&&h.addMark(t,p,u.create(g(g({},d&&d.attrs||{}),{},{href:f}))),r||h.setMeta(s.stateKey,{type:s.LinkAction.HIDE_TOOLBAR}),i&&i(h),!0}))}("",e)}function x(){return function(e,t){return t&&t(e.tr.setMeta(s.stateKey,{type:s.LinkAction.EDIT_INSERTED_TOOLBAR,inputMethod:d.INPUT_METHOD.FLOATING_TB})),!0}}function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.INPUT_METHOD.TOOLBAR;return function(t,n){if(n){var r=t.tr.setMeta(s.stateKey,{type:s.LinkAction.SHOW_INSERT_TOOLBAR,inputMethod:e});n(r=u.addAnalytics(t,r,{action:d.ACTION.INVOKED,actionSubject:d.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:d.ACTION_SUBJECT_ID.TYPEAHEAD_LINK,attributes:{inputMethod:e},eventType:d.EVENT_TYPE.UI}))}return!0}}function C(){return function(e,t){return t&&t(e.tr.setMeta(s.stateKey,{type:s.LinkAction.HIDE_TOOLBAR})),!0}}})),r.register("gx217",(function(n,o){t(n.exports,"DEFAULT_STATUS",(function(){return g})),t(n.exports,"createStatus",(function(){return m})),t(n.exports,"updateStatus",(function(){return v})),t(n.exports,"updateStatusWithAnalytics",(function(){return b})),t(n.exports,"commitStatusPicker",(function(){return y}));var i=r("l15hj"),a=r("jWbqG"),s=r("eBSbE"),c=r("ekJGA");r("cTu5S");var l=r("hNVBR"),u=r("9V1f8"),d=r("cbVtj"),f=r("iFBc4");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g={text:"",color:"neutral"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-2;return function(t,n){var r=t(n.schema.nodes.status.createChecked(h(h({},g),{},{localId:c.uuid.generate()}))),o=r.selection.from+e;return r.setSelection(s.NodeSelection.create(r.doc,o)).setMeta(d.pluginKey,{showStatusPickerAt:o,isNew:!0})}},v=function(e){return function(t,n){var r=t.schema,o=e?Object.assign(e,{text:e.text.trim(),localId:e.localId||c.uuid.generate()}):e,i=h(h({},g),o),l=t.tr,u=d.pluginKey.getState(t).showStatusPickerAt;if(!u){var p=r.nodes.status.createChecked(i),m=a.Fragment.fromArray([p,t.schema.text(" ")]);if(f.canInsert(l.selection.$from,m))l.insert(l.selection.from,m).setSelection(s.NodeSelection.create(l.doc,l.selection.from-m.size));else{var v=s.NodeSelection.create(l.doc,l.selection.from-l.selection.$anchor.parentOffset-1);l.insert(v.to,m).setSelection(s.NodeSelection.create(l.doc,v.to+1))}return l.setMeta(d.pluginKey,{showStatusPickerAt:l.selection.from,isNew:!0}).scrollIntoView(),n&&n(l),!0}return!!t.doc.nodeAt(u)&&(l.setNodeMarkup(u,r.nodes.status,i).setSelection(s.NodeSelection.create(l.doc,u)).setMeta(d.pluginKey,{showStatusPickerAt:u}).scrollIntoView(),n&&n(l),!0)}},b=function(e,t){return l.withAnalytics({action:u.ACTION.INSERTED,actionSubject:u.ACTION_SUBJECT.DOCUMENT,actionSubjectId:u.ACTION_SUBJECT_ID.STATUS,attributes:{inputMethod:e},eventType:u.EVENT_TYPE.TRACK})(v(t))},y=function(){return function(e){var t=e.state,n=e.dispatch,r=d.pluginKey.getState(t).showStatusPickerAt;if(r){var o=t.tr.doc.nodeAt(r);if(o){var i=t.tr;i=i.setMeta(d.pluginKey,{showStatusPickerAt:null,isNew:!1}),o.attrs.text?i.selection.from===r&&(i=i.setSelection(s.Selection.near(t.tr.doc.resolve(r+2)))):i=i.delete(r,r+1),n(i),e.focus()}}}}})),r.register("cbVtj",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("statusPlugin")})),r.register("cBdrQ",(function(n,o){t(n.exports,"insertEmoji",(function(){return p}));var i=r("l15hj"),a=r("iFBc4"),s=r("jWbqG"),c=r("eBSbE");r("cTu5S");var l=r("hNVBR"),u=r("9V1f8");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(e,t){return function(n,r){var o=n.schema.nodes.emoji;if(o&&e){var i=o.createChecked(f(f({},e),{},{text:e.fallback||e.shortName})),d=n.schema.text(" ");if(r){var p=s.Fragment.fromArray([i,d]),h=a.safeInsert(p)(n.tr);t&&l.addAnalytics(n,h,{action:u.ACTION.INSERTED,actionSubject:u.ACTION_SUBJECT.DOCUMENT,actionSubjectId:u.ACTION_SUBJECT_ID.EMOJI,attributes:{inputMethod:t},eventType:u.EVENT_TYPE.TRACK}),r(h.setSelection(c.Selection.near(h.doc.resolve(n.selection.$from.pos+p.size))))}return!0}return!1}}})),r.register("a9XUp",(function(n,o){t(n.exports,"createItems",(function(){return E}));var i=r("fw3Q6"),a=r("l15hj"),s=r("61szk"),c=r("6FHvC"),l=r("6gvxN"),u=r("6UBHG"),d=r("cZJAh"),f=r("7uC1r"),p=r("fbVsd"),h=r("l797E"),g=r("c8ZId");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=e(c)((function(t){return v(v({},t),{},{title:e(s).createElement(f.ToolTipContent,{description:t.content,shortcutOverride:t.shortcut})})})),y=l.default((function(t){return e(c)((function(n){return v(v({},n),{},{title:e(s).createElement(f.ToolTipContent,{description:t,shortcutOverride:"/"})})}))})),E=l.default((function(t){var n=t.isTypeAheadAllowed,r=t.tableSupported,o=t.mediaUploadsEnabled,a=t.mediaSupported,s=t.imageUploadSupported,c=t.imageUploadEnabled,l=t.mentionsSupported,f=t.availableWrapperBlockTypes,g=t.actionSupported,m=t.decisionSupported,v=t.showElementBrowserLink,E=t.linkSupported,x=t.linkDisabled,k=t.emojiDisabled,C=t.emojiProvider,S=t.nativeStatusSupported,T=t.insertMenuItems,O=t.dateEnabled,w=t.placeholderTextEnabled,N=t.horizontalRuleEnabled,P=t.layoutSectionEnabled,A=t.expandEnabled,I=t.numberOfButtons,D=t.schema,R=t.formatMessage,M=t.isNewMenuEnabled,_=[];if(g&&_.push(h.action({content:R(u.messages.action),tooltipDescription:R(u.messages.actionDescription),disabled:!1})),E&&_.push(h.link({content:R(u.messages.link),tooltipDescription:R(u.messages.linkDescription),disabled:!!x})),a&&o&&_.push(h.media({content:R(u.messages.filesAndImages),tooltipDescription:R(u.messages.filesAndImagesDescription),disabled:!1})),s&&_.push(h.imageUpload({content:R(u.messages.image),disabled:!c})),l&&_.push(h.mention({content:R(u.messages.mention),tooltipDescription:R(u.messages.mentionDescription),disabled:!n})),C&&_.push(h.emoji({content:R(u.messages.emoji),tooltipDescription:R(u.messages.emojiDescription),disabled:k||!n})),r&&_.push(h.table({content:R(u.messages.table),tooltipDescription:R(u.messages.tableDescription),disabled:!1})),P){var j=R(u.messages.columns);_.push(h.layout({content:j,tooltipDescription:R(u.messages.columnsDescription),disabled:!1}))}var B=f||[],L=B.find((function(e){return"codeblock"===e.name})),F=B.find((function(e){return"panel"===e.name})),z=B.find((function(e){return"blockquote"===e.name}));if(L&&_.push(h.codeblock({content:R(L.title),tooltipDescription:R(d.messages.codeblockDescription),disabled:!1,shortcut:"```"})),F&&_.push(h.panel({content:R(F.title),tooltipDescription:R(d.messages.infoPanelDescription),disabled:!1})),z&&_.push(h.blockquote({content:R(z.title),tooltipDescription:R(d.messages.blockquoteDescription),disabled:!1,shortcut:">"})),m&&_.push(h.decision({content:R(u.messages.decision),tooltipDescription:R(u.messages.decisionDescription),disabled:!1})),N&&D.nodes.rule&&_.push(h.horizontalrule({content:R(u.messages.horizontalRule),tooltipDescription:R(u.messages.horizontalRuleDescription),disabled:!1})),A&&D.nodes.expand&&_.push(h.expand({content:R(u.messages.expand),tooltipDescription:R(u.messages.expandDescription),disabled:!1})),O){var W=R(u.messages.date);_.push(h.date({content:W,tooltipDescription:R(u.messages.dateDescription),disabled:!1}))}if(w&&_.push(h.placeholder({content:R(u.messages.placeholderText),disabled:!1})),S){var U=R(u.messages.status);_.push(h.status({content:U,tooltipDescription:R(u.messages.statusDescription),disabled:!1}))}T&&_.push.apply(_,e(i)(T)),v&&_.push(h.more({content:R(u.messages.viewMore),disabled:!1}));var H=_.slice(0,I).map(b),V=_.slice(I);return[H,(M?V:p.sortItems(V)).map(y(R(u.messages.insertMenu)))]}),g.shallowEquals)})),r.register("fbVsd",(function(e,n){t(e.exports,"sortItems",(function(){return i}));var r=["macro-browser","slash-onboarding"],o=function(e){return"string"==typeof e.content&&e.content.includes("macro")},i=function(e){return e.sort((function(e,t){return r.includes(e.value.name)&&r.includes(t.value.name)?r.indexOf(e.value.name)-r.indexOf(t.value.name):r.includes(t.value.name)?-1:r.includes(e.value.name)||o(e)&&!o(t)?1:o(t)&&!o(e)||e.content<t.content?-1:1}))}})),r.register("l797E",(function(n,o){t(n.exports,"action",(function(){return P})),t(n.exports,"link",(function(){return A})),t(n.exports,"media",(function(){return I})),t(n.exports,"imageUpload",(function(){return D})),t(n.exports,"mention",(function(){return R})),t(n.exports,"emoji",(function(){return M})),t(n.exports,"table",(function(){return _})),t(n.exports,"layout",(function(){return j})),t(n.exports,"codeblock",(function(){return B})),t(n.exports,"panel",(function(){return L})),t(n.exports,"blockquote",(function(){return F})),t(n.exports,"decision",(function(){return z})),t(n.exports,"horizontalrule",(function(){return W})),t(n.exports,"expand",(function(){return U})),t(n.exports,"date",(function(){return H})),t(n.exports,"placeholder",(function(){return V})),t(n.exports,"status",(function(){return K})),t(n.exports,"more",(function(){return G}));var i=r("61szk"),a=r("6gvxN"),s=r("d3BCx"),c=r("6BQMW"),l=r("1MJgF"),u=r("dY4dF"),d=r("1Hkcz"),f=r("jWECT"),p=r("5ZDSW"),h=r("ibWZV"),g=r("12aU8"),m=r("03BqS"),v=r("a36WG"),b=r("iSpDQ"),y=r("6Iwri"),E=r("8lS0A"),x=r("eaU2G"),k=r("fYY0c"),C=r("enrtr"),S=r("xZbZL"),T=r("7uC1r"),O=r("c8ZId"),w=function(t){return{content:t.content,tooltipDescription:t.tooltipDescription,value:{name:t.name},elemBefore:e(i).createElement(t.Icon,{label:t.content}),elemAfter:t.shortcut?e(i).createElement(S.Shortcut,null,t.shortcut):void 0,shortcut:t.shortcut,isDisabled:t.disabled}},N=function(e){return a.default(e,O.shallowEquals)},P=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"action",shortcut:"[]",Icon:e(c)})})),A=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"link",shortcut:T.tooltip(T.addLink),Icon:e(p)})})),I=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"media",Icon:e(u)})})),D=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"image upload",Icon:e(u)})})),R=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"mention",Icon:e(d),shortcut:"@"})})),M=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"emoji",Icon:e(h),shortcut:":"})})),_=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"table",Icon:e(l),shortcut:T.tooltip(T.toggleTable)})})),j=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"layout",Icon:e(y)})})),B=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"codeblock",Icon:e(x),shortcut:t.shortcut})})),L=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"panel",Icon:e(k),shortcut:t.shortcut})})),F=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"blockquote",Icon:e(C),shortcut:t.shortcut})})),z=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"decision",Icon:e(s),shortcut:"<>"})})),W=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"horizontalrule",Icon:e(E),shortcut:"---"})})),U=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"expand",Icon:e(v)})})),H=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"date",Icon:e(g),shortcut:"//"})})),V=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"placeholder text",Icon:function(){return e(i).createElement(e(b),{label:""})}})})),K=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"status",Icon:e(m)})})),G=N((function(t){return w({content:t.content,tooltipDescription:t.tooltipDescription,disabled:t.disabled,name:"macro",Icon:function(){return e(i).createElement(e(f),{label:""})}})}))})),r.register("6BQMW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.5 6h9A1.5 1.5 0 0118 7.5v9a1.5 1.5 0 01-1.5 1.5h-9A1.5 1.5 0 016 16.5v-9A1.5 1.5 0 017.5 6zm3.072 8.838l.143.154a.5.5 0 00.769-.042l.13-.175 3.733-5.045a.8.8 0 00-.11-1.064.665.665 0 00-.984.118l-3.243 4.387-1.315-1.422a.663.663 0 00-.99 0 .801.801 0 000 1.07l1.867 2.019z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTaskIcon";var s=a;e.exports.default=s})),r.register("1MJgF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h8a2 2 0 012 2v8a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2zm0 2v3h3V8H8zm5 0v3h3V8h-3zm-5 5v3h3v-3H8zm5 0v3h3v-3h-3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTableIcon";var s=a;e.exports.default=s})),r.register("dY4dF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 15l-1-1-2 2h8v-1.8L14 12l-3 3zM6 6.5c0-.276.229-.5.5-.5h11c.276 0 .5.229.5.5v11c0 .276-.229.5-.5.5h-11a.504.504 0 01-.5-.5v-11zM9.5 11a1.5 1.5 0 100-3 1.5 1.5 0 000 3z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorImageIcon";var s=a;e.exports.default=s})),r.register("5ZDSW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M12.654 8.764a.858.858 0 01-1.213-1.213l1.214-1.214a3.717 3.717 0 015.257 0 3.714 3.714 0 01.001 5.258l-1.214 1.214-.804.804a3.72 3.72 0 01-5.263.005.858.858 0 011.214-1.214c.781.782 2.05.78 2.836-.005l.804-.803 1.214-1.214a1.998 1.998 0 00-.001-2.831 2 2 0 00-2.83 0l-1.215 1.213zm-.808 6.472a.858.858 0 011.213 1.213l-1.214 1.214a3.717 3.717 0 01-5.257 0 3.714 3.714 0 01-.001-5.258l1.214-1.214.804-.804a3.72 3.72 0 015.263-.005.858.858 0 01-1.214 1.214 2.005 2.005 0 00-2.836.005l-.804.803L7.8 13.618a1.998 1.998 0 00.001 2.831 2 2 0 002.83 0l1.215-1.213z" fill="currentColor"/></svg>'},e));a.displayName="EditorLinkIcon";var s=a;e.exports.default=s})),r.register("12aU8",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8.51c0-.282.229-.51.5-.51h11c.276 0 .5.228.5.51v8.98c0 .282-.229.51-.5.51h-11a.505.505 0 01-.5-.51V8.51zm2 2.995v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 11h-.99a.497.497 0 00-.505.505zm3 0v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99a.497.497 0 00-.505-.505h-.99a.497.497 0 00-.505.505zm-3 3v.99c0 .291.226.505.505.505h.99a.497.497 0 00.505-.505v-.99A.497.497 0 009.495 14h-.99a.497.497 0 00-.505.505zM7.5 8v1h3V8h-3zm6 0v1h3V8h-3zm.5-1.495c0-.279.214-.505.505-.505h.99c.279 0 .505.214.505.505V8h-2V6.505zm-6 0C8 6.226 8.214 6 8.505 6h.99c.279 0 .505.214.505.505V8H8V6.505z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorDateIcon";var s=a;e.exports.default=s})),r.register("03BqS",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4 5h16c1.105 0 2 1.045 2 2.333v9.334C22 17.955 21.105 19 20 19H4c-1.105 0-2-1.045-2-2.333V7.333C2 6.045 2.895 5 4 5zm3.465 9.887h1.278L6.786 9.251H5.399l-1.957 5.636h1.183l.434-1.343h1.98l.426 1.343zM6.02 10.423h.07l.7 2.21H5.313l.707-2.21zm6.215 4.464c1.203 0 1.95-.625 1.95-1.613 0-.726-.544-1.289-1.29-1.344v-.07a1.219 1.219 0 001.02-1.203c0-.871-.653-1.406-1.747-1.406H9.704v5.636h2.53zm-1.352-4.734h.985c.562 0 .886.27.886.719 0 .453-.347.715-.984.715h-.887v-1.434zm0 3.832v-1.601h1.024c.695 0 1.074.273 1.074.789 0 .527-.367.812-1.047.812h-1.05zm6.762 1.047c1.36 0 2.352-.84 2.45-2.059h-1.15c-.112.621-.62 1.02-1.296 1.02-.89 0-1.441-.738-1.441-1.926 0-1.187.55-1.922 1.437-1.922.672 0 1.184.426 1.297 1.074h1.148c-.086-1.226-1.109-2.113-2.445-2.113-1.637 0-2.645 1.13-2.645 2.961 0 1.836 1.012 2.965 2.645 2.965z" fill="currentColor"/></svg>'},e));a.displayName="StatusIcon";var s=a;e.exports.default=s})),r.register("a36WG",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill-rule="evenodd"><circle fill="currentColor" cx="12" cy="12" r="10"/><path d="M10.294 9.698a.988.988 0 010-1.407 1.01 1.01 0 011.419 0l2.965 2.94a1.09 1.09 0 010 1.548l-2.955 2.93a1.01 1.01 0 01-1.42 0 .988.988 0 010-1.407l2.318-2.297-2.327-2.307z" fill="inherit"/></g></svg>'},e));a.displayName="ChevronRightCircleIcon";var s=a;e.exports.default=s})),r.register("iSpDQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M11 7h2v11h-2zM6 5h12v2H6z"/><path d="M5 5h2v3H5zm5 13h4v2h-4zm7-13h2v3h-2z"/></g></svg>'},e));a.displayName="MediaServicesTextIcon";var s=a;e.exports.default=s})),r.register("8lS0A",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><rect fill="currentColor" x="5" y="11" width="14" height="2" rx="1" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorHorizontalRuleIcon";var s=a;e.exports.default=s})),r.register("enrtr",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M16.051 6c-1.571 0-2.847 1.312-2.847 2.93 0 1.617 1.276 2.93 2.847 2.93 2.699 0 1.135 5.088-2.269 5.618a.68.68 0 00-.578.671c0 .416.372.745.784.682 6.187-.938 8.387-12.83 2.063-12.83M7.848 6C6.275 6 5 7.311 5 8.93c0 1.616 1.275 2.928 2.848 2.928 2.698 0 1.134 5.09-2.27 5.62a.68.68 0 00-.578.67c0 .416.372.745.783.682C11.972 17.892 14.172 6 7.848 6" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="QuoteIcon";var s=a;e.exports.default=s})),r.register("c8ZId",(function(n,o){t(n.exports,"shallowEquals",(function(){return a}));var i=r("h67q9"),a=function(t,n){var r=e(i)(t,1)[0],o=e(i)(n,1)[0],a=r,s=o;return!Object.keys(a).some((function(e){var t=e;return a[t]!==s[t]}))}})),r.register("2f9dX",(function(n,o){t(n.exports,"BlockInsertMenu",(function(){return l}));var i=r("61szk"),a=r("8odIB"),s=r("aLyZo"),c=r("iKVPX"),l=function(t){return 0===t.items.length?null:t.disabled?e(i).createElement("div",null,e(i).createElement(c.DropDownButton,{handleRef:t.onRef,selected:t.open,disabled:t.disabled,onClick:t.onClick,spacing:t.spacing,label:t.label})):t.replacePlusMenuWithElementBrowser?e(i).createElement(a.BlockInsertElementBrowser,{disabled:t.disabled,editorView:t.editorView,items:t.items,label:t.label,onClick:t.onClick,onInsert:t.onInsert,onRef:t.onPlusButtonRef,open:t.open,plusButtonRef:t.plusButtonRef,popupsBoundariesElement:t.popupsBoundariesElement,popupsMountPoint:t.popupsMountPoint,popupsScrollableElement:t.popupsScrollableElement,spacing:t.spacing,togglePlusMenuVisibility:t.togglePlusMenuVisibility}):e(i).createElement(s.BlockInsertMenuLegacy,{disabled:t.disabled,items:t.items,label:t.label,onClick:t.onClick,onItemActivated:t.onItemActivated,onOpenChange:t.onOpenChange,onRef:t.onRef,open:t.open,popupsBoundariesElement:t.popupsBoundariesElement,popupsMountPoint:t.popupsMountPoint,popupsScrollableElement:t.popupsScrollableElement,spacing:t.spacing})}})),r.register("8odIB",(function(n,o){t(n.exports,"BlockInsertElementBrowser",(function(){return l}));var i=r("61szk");r("igW5C");var a=r("5Dx14"),s=r("i3QCJ"),c=r("iKVPX"),l=function(t){return e(i).createElement(e(i).Fragment,null,t.open&&e(i).createElement(a.default,{target:t.plusButtonRef,fitHeight:500,fitWidth:350,offset:[0,3],mountTo:t.popupsMountPoint,boundariesElement:t.popupsBoundariesElement,scrollableElement:t.popupsScrollableElement},e(i).createElement(s.default,{editorView:t.editorView,dropdownItems:t.items,onInsert:t.onInsert,toggleVisiblity:t.togglePlusMenuVisibility})),e(i).createElement(c.DropDownButton,{handleRef:t.onRef,selected:t.open,disabled:t.disabled,onClick:t.onClick,spacing:t.spacing,label:t.label}))}})),r.register("i3QCJ",(function(n,o){t(n.exports,"default",(function(){return D}));var i=r("l15hj"),a=r("lhkMJ"),s=r("h67q9"),c=r("61szk"),l=r("SssiD"),u=r("cNHiQ"),d=r("kFKbx");r("cPjBT");var f,p,h,g=r("4Slod"),m=r("cufhv"),v=r("iIrvw"),b=r("lmfsj"),y=r("4s4wW"),E=r("c1NK1"),x=r("h9riG"),k=r("iFgeZ"),C=r("3RfSR"),S=r("4gGgX"),T=function(t){var n=t.item,r=c.useCallback((function(e){13!==e.which&&32!==e.which||n.action()}),[n]);return e(c).createElement(l.ThemeProvider,{theme:P},e(c).createElement(u.default,{onClick:n.action,elemBefore:e(c).createElement(N,null,n.icon()),"aria-describedby":n.title,"data-testid":"view-more-elements-item",onKeyPress:r},n.title))},O=function(t){var n=t.name,r={codeblock:v.IconCode,panel:v.IconPanel,blockquote:v.IconQuote,decision:v.IconDecision,horizontalrule:v.IconDivider,expand:v.IconExpand,date:v.IconDate,status:v.IconStatus}[n];return r?e(c).createElement(r,{label:""}):void 0},w=l.default.div(f||(f=e(a)(["\n  display: flex;\n  flex-direction: column;\n  width: 320px;\n  height: ","px;\n  background-color: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 0 1px ",", 0 2px 1px ",", 0 0 20px -6px ",";\n"])),(function(e){var t=e.itemCount;return t>0&&t<6?t*S.ELEMENT_ITEM_HEIGHT+112:560}),g.default({light:m.N0,dark:m.DN50})(),d.borderRadius(),m.N30A,m.N30A,m.N60A),N=l.default.div(p||(p=e(a)(["\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: ","px;\n"])),d.gridSize()/2),P=e(i)({},u.itemThemeNamespace,{padding:{default:{left:14}},height:40}),A=l.default.div(h||(h=e(a)(["\n  display: flex;\n  flex: 1;\n  box-sizing: border-box;\n  overflow: hidden;\n"]))),I=b.default(A),D=function(t){var n=t.editorView,r=t.dropdownItems,o=t.onInsert,i=t.toggleVisiblity,a=c.useState(0),l=e(s)(a,2),u=l[0],d=l[1],f=c.useCallback((function(e){return{title:e.content,description:e.tooltipDescription,keyshortcut:e.shortcut,icon:function(){return O({name:e.value.name})||e.elemBefore},action:function(){return o({item:e})},onClick:e.onClick,value:e.value}}),[o]),p=r.map(f),h=p.pop(),g=c.useCallback((function(e){i(),n.hasFocus()||n.focus(),k.insertItem(e)(n.state,n.dispatch)}),[n,i]),m=c.useCallback((function(e){return function(t,n){var r;return r=t?x.searchQuickInsertItems(e,{})(t,n):p.concat(x.getFeaturedQuickInsertItems(e,{})()),d(r.length),r}}),[p]),v=c.useCallback((function(t){var n=t.quickInsertState;return e(c).createElement(I,{handleClickOutside:i,handleEscapeKeydown:i},e(c).createElement(C.default,{mode:"inline",getItems:m(n),onInsertItem:g,showSearch:!0,showCategories:!1,key:p.length}))}),[m,g,p.length,i]);return e(c).createElement(w,{itemCount:u},e(c).createElement(y.default,{plugins:{quickInsertState:E.pluginKey},render:v}),u>0&&h&&e(c).createElement(T,{item:h}))}})),r.register("aRnqu",(function(n,o){t(n.exports,"default",(function(){return S}));var i,a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("lhkMJ"),f=r("l15hj"),p=r("61szk"),h=r("hm2s2"),g=r("SssiD"),m=r("daIfN"),v=r("cufhv"),b=r("kFKbx"),y=r("7d0Hx");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function x(e){return"\n    body { background: ".concat(e,"; }\n  ")}function k(t){return{theme:e(f)({},b.CHANNEL,{mode:t})}}var C=g.default.div(i||(i=e(d)(["\n  background-color: ",";\n  color: ",";\n\n  a {\n    color: ",";\n  }\n  a:hover {\n    color: ",";\n  }\n  a:active {\n    color: ",";\n  }\n  a:focus {\n    outline-color: ",";\n  }\n  h1 {\n    color: ",";\n  }\n  h2 {\n    color: ",";\n  }\n  h3 {\n    color: ",";\n  }\n  h4 {\n    color: ",";\n  }\n  h5 {\n    color: ",";\n  }\n  h6 {\n    color: ",";\n  }\n  small {\n    color: ",";\n  }\n"])),(function(e){return e.background}),v.text,v.link,v.linkHover,v.linkActive,v.linkOutline,v.heading,v.heading,v.heading,v.heading,v.heading,v.subtleHeading,v.subtleText),S=function(t){e(c)(r,t);var n=E(r);function r(t){var o;return e(a)(this,r),(o=n.call(this,t)).state=k(t.mode),o.themeFnMap={dark:function(){return{mode:o.state.theme[b.CHANNEL].mode}},light:function(){return{mode:o.state.theme[b.CHANNEL].mode}}},o}return e(s)(r,[{key:"getChildContext",value:function(){return{hasAtlaskitThemeProvider:!0}}},{key:"UNSAFE_componentWillMount",value:function(){if(!this.context.hasAtlaskitThemeProvider&&e(m).canUseDOM){var t=x(this.props.background(this.state));this.stylesheet=document.createElement("style"),this.stylesheet.type="text/css",this.stylesheet.innerHTML=t,document&&document.head&&document.head.appendChild(this.stylesheet)}}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(e.mode!==this.props.mode){var t=k(e.mode);if(this.stylesheet){var n=x(e.background(t));this.stylesheet.innerHTML=n}this.setState(t)}}},{key:"componentWillUnmount",value:function(){this.stylesheet&&document&&document.head&&(document.head.removeChild(this.stylesheet),delete this.stylesheet)}},{key:"render",value:function(){var t=this.props.children,n=this.state.theme;return e(p).createElement(y.default.Provider,{value:this.themeFnMap[this.props.mode]},e(p).createElement(g.ThemeProvider,{theme:n},e(p).createElement(C,{background:this.props.background},t)))}}]),r}(p.Component);e(f)(S,"defaultProps",{mode:b.DEFAULT_THEME_MODE,background:v.background}),e(f)(S,"childContextTypes",{hasAtlaskitThemeProvider:e(h).bool}),e(f)(S,"contextTypes",{hasAtlaskitThemeProvider:e(h).bool})})),r.register("lmfsj",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("c6wVG"));function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function g(t){return function(n){e(c)(o,n);var r=h(o);function o(){var t;e(i)(this,o);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return t=r.call.apply(r,[this].concat(a)),e(d)(e(s)(t),"handleClick",(function(n){var r=e(p).findDOMNode(e(s)(t));(!r||n.target instanceof Node&&!r.contains(n.target))&&t.props.handleClickOutside&&t.props.handleClickOutside(n)})),e(d)(e(s)(t),"handleKeydown",(function(e){"Escape"===e.code&&t.props.handleEscapeKeydown?t.props.handleEscapeKeydown(e):"Enter"===e.code&&t.props.handleEnterKeydown&&t.props.handleEnterKeydown(e)})),t}return e(a)(o,[{key:"componentDidMount",value:function(){this.props.handleClickOutside&&document.addEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.addEventListener("keydown",this.handleKeydown,!1)}},{key:"componentWillUnmount",value:function(){this.props.handleClickOutside&&document.removeEventListener("click",this.handleClick,!1),this.props.handleEscapeKeydown&&document.removeEventListener("keydown",this.handleKeydown,!1)}},{key:"render",value:function(){return e(f).createElement(t,this.props)}}]),o}(f.PureComponent)}})),r.register("iKVPX",(function(n,o){t(n.exports,"DropDownButton",(function(){return p}));var i=r("61szk"),a=r("d26cn"),s=r("6Vf6Q"),c=r("7uC1r"),l=r("gCo6x"),u=r("xZbZL"),d=r("awjiO"),f=e(i).memo((function(t){return e(i).createElement(d.TriggerWrapper,null,e(i).createElement(e(a),{label:t.label}),e(i).createElement(u.ExpandIconWrapper,null,e(i).createElement(e(s),{label:""})))})),p=e(i).memo((function(t){return e(i).createElement(l.default,{ref:t.handleRef,selected:t.selected,disabled:t.disabled,onClick:t.onClick,spacing:t.spacing,iconBefore:e(i).createElement(f,{label:t.label}),title:e(i).createElement(c.ToolTipContent,{description:t.label,shortcutOverride:"/"})})}))})),r.register("d26cn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M13 11V7a1 1 0 00-2 0v4H7a1 1 0 000 2h4v4a1 1 0 002 0v-4h4a1 1 0 000-2h-4z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAddIcon";var s=a;e.exports.default=s})),r.register("awjiO",(function(n,o){t(n.exports,"TriggerWrapper",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").default.span(i||(i=e(a)(["\n  width: 42px;\n\n  display: flex;\n  align-items: center;\n\n  > div,\n  > span {\n    display: flex;\n  }\n\n  > div > div {\n    display: flex;\n  }\n"])))})),r.register("aLyZo",(function(n,o){t(n.exports,"BlockInsertMenuLegacy",(function(){return l}));var i=r("61szk");r("8iml0");var a=r("82cWi"),s=r("aYRkw"),c=r("iKVPX"),l=function(t){var n=t.items,r=e(i).useMemo((function(){return[{items:n}]}),[n]);return e(i).createElement(s.default,{items:r,onItemActivated:t.onItemActivated,onOpenChange:t.onOpenChange,mountTo:t.popupsMountPoint,boundariesElement:t.popupsBoundariesElement,scrollableElement:t.popupsScrollableElement,isOpen:t.open,fitHeight:188,fitWidth:175,zIndex:a.akEditorMenuZIndex},e(i).createElement(c.DropDownButton,{handleRef:t.onRef,selected:t.open,disabled:t.disabled,onClick:t.onClick,spacing:t.spacing,label:t.label}))}})),r.register("aYRkw",(function(n,o){t(n.exports,"default",(function(){return P}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD"),g=r("geQq6"),m=r("cNHiQ");r("k1QaE");var v=r("kzvDE");r("igW5C");var b=r("5Dx14");r("8iml0");var y,E,x,k=r("82cWi"),C=r("lmfsj");function S(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var T=h.default.div(y||(y=e(f)(["\n  /* tooltip in ToolbarButton is display:block */\n  & > div > div {\n    display: flex;\n  }\n"]))),O=C.default(g.default),w=h.default.div(E||(E=e(f)(["\n  ",";\n"])),(function(e){return e.isSelected?"&& > span, && > span:hover { background: #6c798f; color: #fff; }":""})),N=h.default.span(x||(x=e(f)(["\n  ",";\n"])),(function(e){return e.hasElemBefore?"margin-left: 8px;":""})),P=function(t){e(c)(r,t);var n=S(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{popupPlacement:["bottom","left"]}),e(d)(e(s)(t),"handleRef",(function(e){t.setState({target:e||void 0})})),e(d)(e(s)(t),"updatePopupPlacement",(function(e){var n=t.state.popupPlacement;e[0]===n[0]&&e[1]===n[1]||t.setState({popupPlacement:e})})),e(d)(e(s)(t),"handleClose",(function(){t.props.onOpenChange&&t.props.onOpenChange({isOpen:!1})})),t}return e(a)(r,[{key:"renderItem",value:function(t){var n=this.props,r=n.onItemActivated,o=n.onMouseEnter,i=n.onMouseLeave;if(!t.onClick&&!t.value&&!t.value.name)return e(p).createElement("span",{key:String(t.content)},t.content);var a=e(p).createElement(w,{key:t.key||t.content,isSelected:t.isActive},e(p).createElement(m.default,{elemBefore:t.elemBefore,elemAfter:t.elemAfter,isDisabled:t.isDisabled,onClick:function(){return r&&r({item:t})},onMouseEnter:function(){return o&&o({item:t})},onMouseLeave:function(){return i&&i({item:t})},className:t.className,"aria-label":String(t.content)},e(p).createElement(N,{hasElemBefore:!!t.elemBefore},t.content)));return t.tooltipDescription?e(p).createElement(v.default,{key:t.key||t.content,content:t.tooltipDescription,position:t.tooltipPosition},a):a}},{key:"renderDropdownMenu",value:function(){var t=this,n=this.state,r=n.target,o=n.popupPlacement,i=this.props,a=i.items,s=i.mountTo,c=i.boundariesElement,l=i.scrollableElement,u=i.offset,d=i.fitHeight,f=i.fitWidth,h=i.isOpen,g=i.zIndex;return e(p).createElement(b.default,{target:h?r:void 0,mountTo:s,boundariesElement:c,scrollableElement:l,onPlacementChanged:this.updatePopupPlacement,fitHeight:d,fitWidth:f,zIndex:g||k.akEditorFloatingPanelZIndex,offset:u},e(p).createElement(O,{isOpen:!0,appearance:"tall",position:o.join(" "),shouldFlip:!1,shouldFitContainer:!0,isTriggerNotTabbable:!0,handleClickOutside:this.handleClose,handleEscapeKeydown:this.handleClose},e(p).createElement("div",{style:{height:0,minWidth:f||0}}),a.map((function(n,r){return e(p).createElement(m.ItemGroup,{key:r},n.items.map((function(e){return t.renderItem(e)})))}))))}},{key:"render",value:function(){var t=this.props,n=t.children,r=t.isOpen;return e(p).createElement(T,null,e(p).createElement("div",{ref:this.handleRef},n),r?this.renderDropdownMenu():null)}}]),r}(p.PureComponent)})),r.register("aWU3p",(function(e,n){var r,o,i,a,s,c;t(e.exports,"ToolbarSize",(function(){return r})),t(e.exports,"ToolbarWidths",(function(){return i})),t(e.exports,"ToolbarWidthsFullPage",(function(){return s})),(o=r||(r={}))[o.XXL=6]="XXL",o[o.XL=5]="XL",o[o.L=4]="L",o[o.M=3]="M",o[o.S=2]="S",o[o.XXXS=1]="XXXS",(a=i||(i={}))[a.XXL=610]="XXL",a[a.XL=540]="XL",a[a.L=460]="L",a[a.M=450]="M",a[a.S=370]="S",(c=s||(s={}))[c.XXL=650]="XXL",c[c.XL=580]="XL",c[c.L=540]="L",c[c.M=490]="M",c[c.S=410]="S"})),r.register("eodZh",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("eBSbE"),i=r("ekJGA"),a=r("22Hec"),s=r("62t9L"),c=new o.PluginKey("jiraIssuePlugin"),l=function(e){var t=e.portalProviderAPI,n=e.eventDispatcher;return new o.Plugin({key:c,props:{nodeViews:{confluenceJiraIssue:a.default.fromComponent(s.default,t,n)}}})},u=function(){return{name:"confluenceJiraIssue",nodes:function(){return[{name:"confluenceJiraIssue",node:i.confluenceJiraIssue}]},pmPlugins:function(){return[{name:"jiraIssue",plugin:l}]}}}})),r.register("62t9L",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD"),c=r("jeica"),l=r("kFKbx"),u=r("cufhv");r("8iml0");var d,f,p,h=r("82cWi"),g=s.default.span(d||(d=e(i)(["\n  align-items: center;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  cursor: default;\n  display: inline-flex;\n  font-size: ",";\n  margin: 0 2px;\n  min-height: 24px;\n  padding: 0 4px;\n  user-select: none;\n  vertical-align: middle;\n  white-space: nowrap;\n\n  .ProseMirror-selectednode & {\n    background: ",";\n    outline: none;\n  }\n"])),u.N30,u.N50,l.borderRadius(),h.relativeFontSizeToBase16(13),u.N50),m=s.default.span(f||(f=e(i)(["\n  display: inline-block;\n  color: #707070;\n  line-height: 24px;\n  vertical-align: top;\n\n  &::before {\n    color: black;\n    content: 'JIRA | ';\n  }\n"]))),v=s.default.span(p||(p=e(i)(["\n  display: inline-block;\n  height: 24px;\n  vertical-align: top;\n  width: 24px;\n\n  & > div {\n    height: 24px;\n    width: 24px;\n  }\n"])));function b(t){var n=t.node.attrs.issueKey;return e(a).createElement(g,null,e(a).createElement(v,null,e(a).createElement(c.JiraIcon,{size:"small"})),e(a).createElement(m,null,n))}})),r.register("jeica",(function(n,o){t(n.exports,"JiraIcon",(function(){return E}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("48Unu"),h=r("iy5de"),g=r("ajSUE");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(e,t){var n=p.uid({iconGradientStart:t});return'<canvas height="32" width="32" aria-hidden="true"></canvas>\n  <svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" focusable="false" aria-hidden="true">\n    <defs>\n      <linearGradient x1="94.092%" x2="56.535%" y1="6.033%" y2="43.087%" id="'.concat(n,'">\n        <stop stop-color="').concat(e,'" ').concat("inherit"===e?'stop-opacity="0.4"':"",' offset="18%"></stop>\n        <stop stop-color="').concat(t,'" offset="100%"></stop>\n      </linearGradient>\n    </defs>\n    <g stroke="none" stroke-width="1" fill-rule="nonzero">\n      <path d="M26.0406546,5 L14.9983562,5 C14.9983562,6.32163748 15.5233746,7.58914413 16.4579134,8.52368295 C17.3924523,9.45822178 18.6599589,9.98324022 19.9815964,9.98324022 L22.0151159,9.98324022 L22.0151159,11.9465283 C22.0168782,14.6974491 24.2474348,16.9265768 26.9983562,16.9265762 L26.9983562,5.95770152 C26.9983562,5.42877757 26.5695786,5 26.0406546,5 Z" fill="currentColor"></path>\n      <path d="M20.0420436,11 L9,11 C9.00176139,13.7504065 11.2309666,15.9796117 13.9813731,15.9813731 L16.0154337,15.9813731 L16.0154337,17.9451836 C16.0154337,19.2671728 16.5405919,20.5350167 17.4753794,21.4698042 C18.4101669,22.4045917 19.6780108,22.9297499 21,22.9297499 L21,11.9579564 C21,11.4288917 20.5711083,11 20.0420436,11 Z" fill="url(#').concat(n,')"></path>\n      <path d="M14.0420436,17 L3,17 C3.00176275,19.7516528 5.23291286,21.9813736 7.98456626,21.9813731 L10.0250133,21.9813731 L10.0250133,23.9451836 C10.0250082,26.6943468 12.2508419,28.9244664 15,28.9297499 L15,17.9579564 C15,17.4288917 14.5711083,17 14.0420436,17 Z" fill="url(#').concat(n,')"></path>\n    </g>\n  </svg>')},E=function(t){e(c)(r,t);var n=b(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"render",value:function(){return e(f).createElement(g.default,e(i)({},this.props,{svg:y}))}}]),r}(f.Component);e(d)(E,"defaultProps",v(v({},h.DefaultProps),{},{label:"Jira"}))})),r.register("2DBnX",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("61szk"),a=r("ekJGA"),s=r("hMzKD"),c=r("2ol2u"),l=r("lFbUe"),u=r("vJzQd"),d=r("4s4wW"),f=r("ysmuX");r("cTu5S");var p=r("hNVBR"),h=r("9V1f8"),g=r("7uC1r"),m=r("iIrvw"),v=r("aWU3p"),b=function(){return{name:"list",nodes:function(){return[{name:"bulletList",node:a.bulletList},{name:"orderedList",node:a.orderedList},{name:"listItem",node:a.listItem}]},pmPlugins:function(){return[{name:"list",plugin:function(e){var t=e.dispatch;return c.createPlugin(t)}},{name:"listInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return l.default(t,n)}},{name:"listKeymap",plugin:function(){return u.default()}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"unorderedList",title:n(f.messages.unorderedList),description:n(f.messages.unorderedListDescription),keywords:["ul","unordered"],priority:1100,keyshortcut:g.tooltip(g.toggleBulletList),icon:function(){return e(i).createElement(m.IconList,null)},action:function(e,t){var n=e(t.schema.nodes.bulletList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return p.addAnalytics(t,n,{action:h.ACTION.INSERTED,actionSubject:h.ACTION_SUBJECT.LIST,actionSubjectId:h.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET,eventType:h.EVENT_TYPE.TRACK,attributes:{inputMethod:h.INPUT_METHOD.QUICK_INSERT}})}},{id:"orderedList",title:n(f.messages.orderedList),description:n(f.messages.orderedListDescription),keywords:["ol","ordered"],priority:1200,keyshortcut:g.tooltip(g.toggleOrderedList),icon:function(){return e(i).createElement(m.IconListNumber,null)},action:function(e,t){var n=e(t.schema.nodes.orderedList.createChecked({},t.schema.nodes.listItem.createChecked({},t.schema.nodes.paragraph.createChecked())));return p.addAnalytics(t,n,{action:h.ACTION.INSERTED,actionSubject:h.ACTION_SUBJECT.LIST,actionSubjectId:h.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER,eventType:h.EVENT_TYPE.TRACK,attributes:{inputMethod:h.INPUT_METHOD.QUICK_INSERT}})}}]}},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,a=t.popupsScrollableElement,l=t.toolbarSize,u=t.disabled,f=t.isToolbarReducedSpacing,p=l<v.ToolbarSize.L;return e(i).createElement(d.default,{plugins:{listState:c.pluginKey},render:function(t){var c=t.listState;return e(i).createElement(s.default,{isSmall:p,isSeparator:!0,isReducedSpacing:f,disabled:u,editorView:n,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:a,bulletListActive:c.bulletListActive,bulletListDisabled:c.bulletListDisabled,orderedListActive:c.orderedListActive,orderedListDisabled:c.orderedListDisabled})}})}}}})),r.register("hMzKD",(function(n,o){t(n.exports,"default",(function(){return O}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("7RIig")),h=r("jl3LP"),g=r("keaEM"),m=r("6Vf6Q"),v=r("7uC1r"),b=r("gCo6x"),y=r("aYRkw"),E=r("xZbZL"),x=r("7yjFi"),k=r("ysmuX");r("cTu5S");var C=r("9V1f8");function S(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var T=function(t){e(c)(r,t);var n=S(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{isDropdownOpen:!1}),e(d)(e(s)(t),"onOpenChange",(function(e){t.setState({isDropdownOpen:e.isDropdownOpen})})),e(d)(e(s)(t),"handleTriggerClick",(function(){t.onOpenChange({isDropdownOpen:!t.state.isDropdownOpen})})),e(d)(e(s)(t),"createItems",(function(){var n=t.props,r=n.bulletListDisabled,o=n.orderedListDisabled,i=n.bulletListActive,a=n.orderedListActive,s=n.intl.formatMessage,c=s(k.messages.unorderedList),l=s(k.messages.orderedList);return[{items:[{key:"unorderedList",content:c,value:{name:"bullet_list"},isDisabled:r,isActive:Boolean(i),elemAfter:e(f).createElement(E.Shortcut,null,v.tooltip(v.toggleBulletList))},{key:"orderedList",content:l,value:{name:"ordered_list"},isDisabled:o,isActive:Boolean(a),elemAfter:e(f).createElement(E.Shortcut,null,v.tooltip(v.toggleOrderedList))}]}]})),e(d)(e(s)(t),"handleBulletListClick",(function(){return!(t.props.bulletListDisabled||!x.toggleBulletList(t.props.editorView,C.INPUT_METHOD.TOOLBAR))})),e(d)(e(s)(t),"handleOrderedListClick",(function(){return!(t.props.orderedListDisabled||!x.toggleOrderedList(t.props.editorView,C.INPUT_METHOD.TOOLBAR))})),e(d)(e(s)(t),"onItemActivated",(function(e){var n=e.item;switch(t.setState({isDropdownOpen:!1}),n.value.name){case"bullet_list":t.handleBulletListClick();break;case"ordered_list":t.handleOrderedListClick()}})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.disabled,r=t.isSmall,o=t.isReducedSpacing,i=t.isSeparator,a=t.bulletListActive,s=t.bulletListDisabled,c=t.orderedListActive,l=t.orderedListDisabled,u=t.intl.formatMessage,d=this.state.isDropdownOpen;if(r){var p=this.createItems(),x=this.props,C=x.popupsMountPoint,S=x.popupsBoundariesElement,T=x.popupsScrollableElement,O=u(k.messages.lists);return e(f).createElement(E.Wrapper,null,e(f).createElement(y.default,{items:p,onItemActivated:this.onItemActivated,mountTo:C,boundariesElement:S,scrollableElement:T,isOpen:d,onOpenChange:this.onOpenChange,fitHeight:188,fitWidth:175},e(f).createElement(b.default,{spacing:o?"none":"default",selected:a||c,disabled:n,onClick:this.handleTriggerClick,title:O,iconBefore:e(f).createElement(E.Wrapper,null,e(f).createElement(e(h),{label:O}),e(f).createElement(E.ExpandIconWrapper,null,e(f).createElement(e(m),{label:""})))})),i&&e(f).createElement(E.Separator,null))}var w=u(k.messages.unorderedList),N=u(k.messages.orderedList);return e(f).createElement(E.ButtonGroup,{width:o?"small":"large"},e(f).createElement(b.default,{buttonId:b.TOOLBAR_BUTTON.BULLET_LIST,spacing:o?"none":"default",onClick:this.handleBulletListClick,selected:a,disabled:s||n,title:e(f).createElement(v.ToolTipContent,{description:w,keymap:v.toggleBulletList}),iconBefore:e(f).createElement(e(h),{label:w})}),e(f).createElement(b.default,{buttonId:b.TOOLBAR_BUTTON.ORDERED_LIST,spacing:o?"none":"default",onClick:this.handleOrderedListClick,selected:c,disabled:l||n,title:e(f).createElement(v.ToolTipContent,{description:N,keymap:v.toggleOrderedList}),iconBefore:e(f).createElement(e(g),{label:N})}),i&&e(f).createElement(E.Separator,null))}}]),r}(f.PureComponent),O=p.injectIntl(T)})),r.register("jl3LP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 8c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 5c0-.552.444-1 1-1 .552 0 1 .444 1 1 0 .552-.444 1-1 1-.552 0-1-.444-1-1zm5-1h6a1 1 0 010 2h-6a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorBulletListIcon";var s=a;e.exports.default=s})),r.register("keaEM",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11 7h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm0 4h6a1 1 0 010 2h-6a1 1 0 010-2zm-5 0h3v1H6v-1zm0 2h3v1H6v-1zm1-9H6V7h2v3H7V8zm-1 3h3v1.333h-.6V13H7.2v-.667H6V11zm0 2h3v1H6v-1zm2 3h2v1H8v-1z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorNumberListIcon";var s=a;e.exports.default=s})),r.register("ysmuX",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({unorderedList:{id:"fabric.editor.unorderedList",defaultMessage:"Bullet list",description:"A list with bullets. Also known as an \u201cunordered\u201d list"},unorderedListDescription:{id:"fabric.editor.unorderedList.description",defaultMessage:"Create an unordered list",description:""},orderedList:{id:"fabric.editor.orderedList",defaultMessage:"Numbered list",description:"A list with ordered items 1\u2026 2\u2026 3\u2026"},orderedListDescription:{id:"fabric.editor.orderedList.description",defaultMessage:"Create an ordered list",description:""},lists:{id:"fabric.editor.lists",defaultMessage:"Lists",description:"Menu shows ordered/bullet list and unordered/numbered lists"}})})),r.register("2ol2u",(function(n,o){t(n.exports,"pluginKey",(function(){return b})),t(n.exports,"createPlugin",(function(){return O}));var i=r("l15hj"),a=r("eBSbE"),s=r("9MUi0"),c=r("iFBc4");r("cTu5S");var l=r("hNVBR"),u=r("9V1f8"),d=r("5xilD"),f=r("6q2D0"),p=r("27k6c"),h=r("glWyB");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=new a.PluginKey("listPlugin"),b=v,y={bulletListActive:!1,bulletListDisabled:!1,orderedListActive:!1,orderedListDisabled:!1,decorationSet:s.DecorationSet.empty},E=function(e){var t=[],n=[];return e.nodesBetween(0,e.content.size,(function(e,r){if(n.length>0)for(var o=!0;o&&n.length>0;){var i=n[n.length-1];(o=r>=i.startPos+i.node.nodeSize)&&n.pop()}if(f.isListNode(e)){n.push({node:e,startPos:r});var a=r,c=r+e.nodeSize,l=n.length;t.push(s.Decoration.node(a,c,{"data-indent-level":"".concat(l)}))}})),s.DecorationSet.empty.add(e,t)},x=function(e,t){var n=e.doc.type.schema.nodes,r=n.bulletList,o=n.orderedList,i=c.findParentNodeOfType([r,o])(e.selection),a=!!i&&i.node.type===r,s=!!i&&i.node.type===o,l=!(a||s||d.isWrappingPossible(r,e.selection)),u=!(a||s||d.isWrappingPossible(o,e.selection));return a!==t.bulletListActive||s!==t.orderedListActive||l!==t.bulletListDisabled||u!==t.orderedListDisabled?m(m({},t),{},{bulletListActive:a,orderedListActive:s,bulletListDisabled:l,orderedListDisabled:u}):t},k=p.pluginFactory(v,(function(e){return e}),{onDocChanged:function(e,t){var n=x(e,t),r=E(e.doc);return m(m({},n),{},{decorationSet:r})},onSelectionChanged:x}),C=k.getPluginState,S=k.createPluginState,T=function(e){return m(m({},y),{},{decorationSet:E(e.doc)})},O=function(e){return new a.Plugin({state:S(e,T),key:v,appendTransaction:function(e,t,n){var r=e[e.length-1];if(r.docChanged&&r.selectionSet){var o=n.tr;if(h.findRootParentListNode(o.selection.$from)){var i=f.joinSiblingLists({tr:o,direction:f.JoinDirection.RIGHT});if(o.docChanged){var a=i.orderedList,s=i.bulletList;return l.addAnalytics(n,o,{action:u.ACTION.FIXED,actionSubject:u.ACTION_SUBJECT.LIST,eventType:u.EVENT_TYPE.TRACK,attributes:{orderedListsJoined:a,bulletListsJoined:s}}),o}}}},props:{decorations:function(e){return C(e).decorationSet}}})}})),r.register("lFbUe",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("cky9Z"),i=r("1TYrG");function a(e,t){var n=e.nodes,r=n.bulletList,a=n.orderedList,s=[];if(r&&s.push(i.createRuleForListType({expression:/^\s*([\*\-\\u2022]) $/,listType:r})),a&&s.push(i.createRuleForListType({expression:/^(1)[\.\)] $/,listType:a})),0!==s.length)return o.createPlugin("lists",s,{useUnpredictableInputRule:t.useUnpredictableInputRule})}})),r.register("1TYrG",(function(e,n){t(e.exports,"createRuleForListType",(function(){return a}));var o=r("cky9Z");r("cTu5S");var i=r("9V1f8");function a(e){var t=e.listType,n=e.expression,r="bulletList"===t.name?i.ACTION_SUBJECT_ID.FORMAT_LIST_BULLET:i.ACTION_SUBJECT_ID.FORMAT_LIST_NUMBER,a={action:i.ACTION.INSERTED,actionSubject:i.ACTION_SUBJECT.LIST,actionSubjectId:r,eventType:i.EVENT_TYPE.TRACK,attributes:{inputMethod:i.INPUT_METHOD.FORMATTING}},s=o.createWrappingJoinRule({match:n,nodeType:t,getAttrs:{},joinPredicate:function(e,n){return n.type===t}});return o.ruleWithAnalytics(a)(s)}})),r.register("vJzQd",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("6mFHM"),i=r("7uC1r"),a=r("7yjFi"),s=r("6ury8"),c=r("j4q6X");r("cTu5S");var l=r("9V1f8");var u=function(){var e={};return i.bindKeymapWithCommand(i.findShortcutByKeymap(i.toggleOrderedList),a.toggleList(l.INPUT_METHOD.KEYBOARD,"orderedList"),e),i.bindKeymapWithCommand(i.findShortcutByKeymap(i.toggleBulletList),a.toggleList(l.INPUT_METHOD.KEYBOARD,"bulletList"),e),i.bindKeymapWithCommand(i.indentList.common,s.indentList(l.INPUT_METHOD.KEYBOARD),e),i.bindKeymapWithCommand(i.outdentList.common,c.outdentList(l.INPUT_METHOD.KEYBOARD),e),i.bindKeymapWithCommand(i.enter.common,a.enterKeyCommand,e),i.bindKeymapWithCommand(i.backspace.common,a.backspaceKeyCommand,e),i.bindKeymapWithCommand(i.deleteKey.common,a.deleteKeyCommand,e),i.bindKeymapWithCommand(i.findKeyMapForBrowser(i.forwardDelete),a.deleteKeyCommand,e),o.keymap(e)}})),r.register("406gC",(function(e,n){t(e.exports,"pluginKey",(function(){return i})),t(e.exports,"default",(function(){return a}));var o=r("eBSbE"),i=new o.PluginKey("maxContentSizePlugin");var a=function(e){return{name:"maxContentSize",pmPlugins:function(){return[{name:"maxContentSize",plugin:function(t){return function(e,t){if(t){var n=!1;return new o.Plugin({filterTransaction:function(r){var o=r.doc&&r.doc.nodeSize>t;return(o||o!==n)&&e(i,{maxContentSizeReached:o}),n=o,!o}})}}(t.dispatch,e)}}]}}}})),r.register("7qM92",(function(n,o){t(n.exports,"default",(function(){return A}));var i=r("61szk"),a=r("ekJGA"),s=r("g3M1k"),c=r("bjJNi"),l=r("2qBZt"),u=r("eK92B"),d=r("bawpe"),f=r("gQjTK"),p=r("kaYU1"),h=r("4xO79"),g=r("liyfo"),m=r("lic2z"),v=r("4gnUe"),b=r("e6Ei7"),y=r("bJpEt"),E=r("6KU4N"),x=r("c10OR");r("cTu5S");var k=r("hNVBR"),C=r("9V1f8"),S=r("iIrvw"),T=r("4s4wW"),O=r("3s3Hn"),w=r("fshDF"),N=r("6UBHG"),P=r("hbvFo"),A=function(t){return{name:"media",nodes:function(){var e=t||{},n=e.allowMediaGroup,r=void 0===n||n,o=e.allowMediaSingle,i=void 0!==o&&o,s=e.featureFlags,c=l.getMediaFeatureFlag("captions",s)?a.mediaSingleWithCaption:a.mediaSingle;return[{name:"mediaGroup",node:a.mediaGroup},{name:"mediaSingle",node:c},{name:"media",node:a.media}].filter((function(e){return"mediaGroup"===e.name?r:"mediaSingle"!==e.name||i}))},pmPlugins:function(){var e=[{name:"media",plugin:function(e){var n=e.schema,r=e.dispatch,o=e.eventDispatcher,i=e.providerFactory,a=e.errorReporter,c=e.portalProviderAPI,l=e.reactContext,u=e.dispatchAnalyticsEvent;return s.createPlugin(n,{providerFactory:i,nodeViews:{mediaGroup:y.ReactMediaGroupNode(c,o,i,t),mediaSingle:E.ReactMediaSingleNode(c,o,i,u,t),media:P.ReactMediaNode(c,o,i,t)},errorReporter:a,uploadErrorHandler:t&&t.uploadErrorHandler,waitForMediaUpload:t&&t.waitForMediaUpload,customDropzoneContainer:t&&t.customDropzoneContainer,customMediaPicker:t&&t.customMediaPicker,allowResizing:!(!t||!t.allowResizing)},l,r,t)}},{name:"mediaKeymap",plugin:function(){return m.default(t)}}];return t&&t.allowMediaSingle&&e.push({name:"mediaSingleKeymap",plugin:function(e){var t=e.schema;return h.default(t)}}),t&&t.allowAnnotation&&e.push({name:"mediaEditor",plugin:u.createPlugin}),t&&t.allowAltTextOnImages&&(e.push({name:"mediaAltText",plugin:f.createPlugin}),e.push({name:"mediaAltTextKeymap",plugin:function(e){var t=e.schema;return p.default(t)}})),t&&t.allowLinking&&(e.push({name:"mediaLinking",plugin:function(e){var t=e.dispatch;return v.default(t)}}),e.push({name:"mediaLinkingKeymap",plugin:function(e){var t=e.schema;return g.default(t)}})),e},contentComponent:function(n){var r=n.editorView,o=n.eventDispatcher,a=n.appearance,s=t&&t.allowAnnotation?e(i).createElement(T.default,{editorView:r,plugins:{mediaEditorState:d.pluginKey},eventDispatcher:o,render:function(t){var n=t.mediaEditorState;return e(i).createElement(O.default,{mediaEditorState:n,view:r})}}):null;return e(i).createElement(e(i).Fragment,null,e(i).createElement(T.default,{editorView:r,plugins:{mediaState:c.stateKey},render:function(t){var n=t.mediaState;return e(i).createElement(w.MediaPickerComponents,{editorDomElement:r.dom,mediaState:n,appearance:a})}}),s)},secondaryToolbarComponent:function(t){var n=t.editorView,r=t.eventDispatcher,o=t.disabled;return e(i).createElement(b.default,{editorView:n,eventDispatcher:r,pluginKey:c.stateKey,isDisabled:o,isReducedSpacing:!0})},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"media",title:n(N.messages.filesAndImages),description:n(N.messages.filesAndImagesDescription),priority:400,keywords:["attachment","gif","media","picture"],icon:function(){return e(i).createElement(S.IconImages,null)},action:function(e,t){c.stateKey.getState(t).showMediaPicker();var n=e("");return k.addAnalytics(t,n,{action:C.ACTION.OPENED,actionSubject:C.ACTION_SUBJECT.PICKER,actionSubjectId:C.ACTION_SUBJECT_ID.PICKER_CLOUD,attributes:{inputMethod:C.INPUT_METHOD.QUICK_INSERT},eventType:C.EVENT_TYPE.UI})}}]},floatingToolbar:function(e,n,r){return x.floatingToolbar(e,n,{providerFactory:r,allowResizing:t&&t.allowResizing,allowResizingInTables:t&&t.allowResizingInTables,allowAnnotation:t&&t.allowAnnotation,allowLinking:t&&t.allowLinking,allowAdvancedToolBarOptions:t&&t.allowAdvancedToolBarOptions,allowAltTextOnImages:t&&t.allowAltTextOnImages,altTextValidator:t&&t.altTextValidator})}}}}})),r.register("g3M1k",(function(n,o){t(n.exports,"getMediaPluginState",(function(){return I})),t(n.exports,"createPlugin",(function(){return D})),t(n.exports,"stateKey",(function(){return r("bjJNi").stateKey}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("l15hj"),u=r("61szk"),d=r("c6wVG"),f=r("eBSbE"),p=r("6sW8E"),h=r("9MUi0");r("igW5C");var g=r("9ztLe"),m=r("6ywzv"),v=r("iFBc4"),b=r("e3QKe"),y=r("7O3xq"),E=r("cM3xx"),x=r("laj9D"),k=r("1d3w7"),C=(k=r("1d3w7"),r("bjJNi")),S=r("5Onpz");r("kH7oN");var T=r("9V1f8"),O=r("jRUUG");C=r("bjJNi");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){e(l)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P=["ready","error","cancelled"],A=function(){function t(n,r,o,c,u){var d=this;e(s)(this,t),e(l)(this,"allowsUploads",!1),e(l)(this,"ignoreLinks",!1),e(l)(this,"waitForMediaUpload",!0),e(l)(this,"allUploadsFinished",!0),e(l)(this,"showDropzone",!1),e(l)(this,"layout","center"),e(l)(this,"mediaNodes",[]),e(l)(this,"mediaGroupNodes",{}),e(l)(this,"mobileUploadComplete",{}),e(l)(this,"pendingTask",Promise.resolve(null)),e(l)(this,"destroyed",!1),e(l)(this,"removeOnCloseListener",(function(){})),e(l)(this,"onPopupToogleCallback",(function(){})),e(l)(this,"pickers",[]),e(l)(this,"pickerPromises",[]),e(l)(this,"onContextIdentifierProvider",function(){var t=e(a)(e(i).mark((function t(n,r){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=4;break}return e.next=3,r;case 3:d.contextIdentifierProvider=e.sent;case 4:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()),e(l)(this,"setMediaProvider",function(){var t=e(a)(e(i).mark((function t(n){var r,o,a,s;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=5;break}return d.destroyPickers(),d.allowsUploads=!1,d.destroyed||d.view.dispatch(d.view.state.tr.setMeta(C.stateKey,{allowsUploads:d.allowsUploads})),t.abrupt("return");case 5:return t.prev=5,t.next=8,n;case 8:d.mediaProvider=t.sent,d.mediaProvider.viewMediaClientConfig||(r=d.mediaProvider.viewMediaClientConfig)&&(d.mediaProvider.viewMediaClientConfig=r),e(m)(d.mediaProvider.viewMediaClientConfig,"MediaProvider promise did not resolve to a valid instance of MediaProvider - ".concat(d.mediaProvider)),t.next=21;break;case 13:return t.prev=13,t.t0=t.catch(5),o=new Error("Media functionality disabled due to rejected provider: ".concat(t.t0.message)),d.errorReporter.captureException(o),d.destroyPickers(),d.allowsUploads=!1,d.destroyed||d.view.dispatch(d.view.state.tr.setMeta(C.stateKey,{allowsUploads:d.allowsUploads})),t.abrupt("return");case 21:if(d.mediaClientConfig=d.mediaProvider.viewMediaClientConfig,d.allowsUploads=!!d.mediaProvider.uploadMediaClientConfig,a=d.view,s=d.allowsUploads,!d.destroyed&&a.dom.parentNode&&a.dispatch(a.state.tr.setMeta(C.stateKey,{allowsUploads:s})),!d.allowsUploads){t.next=35;break}if(d.uploadMediaClientConfig=d.mediaProvider.uploadMediaClientConfig,!d.mediaProvider.uploadParams||!d.uploadMediaClientConfig){t.next=32;break}return t.next=30,d.initPickers(d.mediaProvider.uploadParams,S.default,d.reactContext);case 30:t.next=33;break;case 32:d.destroyPickers();case 33:t.next=36;break;case 35:d.destroyPickers();case 36:case"end":return t.stop()}}),t,null,[[5,13]])})));return function(e){return t.apply(this,arguments)}}()),e(l)(this,"getMediaOptions",(function(){return d.options})),e(l)(this,"hasUserAuthProvider",(function(){return!!d.uploadMediaClientConfig&&!!d.uploadMediaClientConfig.userAuthProvider})),e(l)(this,"insertFile",(function(e,t,n){var r=N(N({},e),{},{contextId:d.contextIdentifierProvider?d.contextIdentifierProvider.objectId:void 0}),o=d.collectionFromProvider();if(void 0!==o){d.mediaOptions&&d.mediaOptions.allowMarkingUploadsAsIncomplete&&(d.mobileUploadComplete[r.id]=!1),"error"!==e.status&&d.updateAndDispatch({allUploadsFinished:!1}),b.isMediaSingle(d.view.state.schema,r.fileMimeType)?b.insertMediaSingleNode(d.view,r,d.getInputMethod(n),o,d.mediaOptions&&d.mediaOptions.alignLeftOnInsert):E.insertMediaGroupNode(d.view,[r],o,d.getInputMethod(n)),t(d.handleMediaState);var i=function(e){return e.status&&-1!==P.indexOf(e.status)};i(r)||(d.addPendingTask(new Promise((function(e){t((function(t){i(t)&&e(t)}))}))),d.pendingTask.then((function(){d.updateAndDispatch({allUploadsFinished:!0})})));var a=d.view;a.hasFocus()||a.focus()}})),e(l)(this,"addPendingTask",(function(e){var t=d.pendingTask,n=function(){return t};d.pendingTask=e.then(n,n)})),e(l)(this,"splitMediaGroup",(function(){return x.splitMediaGroup(d.view)})),e(l)(this,"onPopupPickerClose",(function(){d.onPopupToogleCallback(!1)})),e(l)(this,"shouldUseMediaPickerPopup",(function(){return!d.mediaOptions||d.mediaOptions&&void 0===d.mediaOptions.useMediaPickerPopup?d.hasUserAuthProvider():!!d.mediaOptions.useMediaPickerPopup})),e(l)(this,"showMediaPicker",(function(){if(d.openMediaPickerBrowser&&!d.shouldUseMediaPickerPopup())return d.openMediaPickerBrowser();d.popupPicker&&(d.popupPicker.show(),d.onPopupToogleCallback(!0))})),e(l)(this,"setBrowseFn",(function(e){d.openMediaPickerBrowser=e})),e(l)(this,"onPopupToggle",(function(e){d.onPopupToogleCallback=e})),e(l)(this,"waitForPendingTasks",(function(e,t){if(t&&d.pendingTask===t)return t;var n,r=d.pendingTask.then((function(){return d.waitForPendingTasks(void 0,d.pendingTask)}));if(!e)return r;var o=new Promise((function(t,r){n=window.setTimeout((function(){return r(new Error("Media operations did not finish in ".concat(e," ms")))}),e)}));return Promise.race([o,r.then((function(e){return clearTimeout(n),e}))])})),e(l)(this,"handleMediaNodeRemoval",(function(e,t){var n=e;n||(n=d.view.state.doc.nodeAt(t())),x.removeMediaNode(d.view,n,t)})),e(l)(this,"handleMediaNodeMount",(function(e,t){d.mediaNodes.unshift({node:e,getPos:t})})),e(l)(this,"handleMediaNodeUnmount",(function(e){d.mediaNodes=d.mediaNodes.filter((function(t){var n=t.node;return e!==n}))})),e(l)(this,"findMediaNode",(function(e){return k.findMediaSingleNode(d,e)})),e(l)(this,"destroyAllPickers",(function(e){e.forEach((function(e){return e.destroy()})),d.pickers.splice(0,d.pickers.length)})),e(l)(this,"destroyPickers",(function(){var e=d.pickers,t=d.pickerPromises;t.length===e.length?d.destroyAllPickers(d.pickers):Promise.all(t).then((function(e){return d.destroyAllPickers(e)})),d.popupPicker=void 0,d.customPicker=void 0})),e(l)(this,"getInputMethod",(function(e){switch(e){case"popup":return T.INPUT_METHOD.PICKER_CLOUD;case"clipboard":return T.INPUT_METHOD.CLIPBOARD;case"dropzone":return T.INPUT_METHOD.DRAG_AND_DROP}})),e(l)(this,"updateMediaNodeAttrs",(function(e,t,n){var r=d.view;if(r)return k.updateMediaNodeAttrs(e,t,n)(r.state,r.dispatch)})),e(l)(this,"handleMediaState",(function(e){switch(e.status){case"error":var t=d.options.uploadErrorHandler;t&&t(e);break;case"mobile-upload-end":var n={id:e.publicId||e.id};"string"==typeof e.collection&&(n.collection=e.collection),d.updateMediaNodeAttrs(e.id,n,b.isMediaSingle(d.view.state.schema,e.fileMimeType)),d.mobileUploadComplete[n.id]=!0,delete d.mediaGroupNodes[e.id]}})),e(l)(this,"isMobileUploadCompleted",(function(e){return k.isMobileUploadCompleted(d,e)})),e(l)(this,"removeNodeById",(function(e){var t=e.id,n=k.findMediaNode(d,t,O.isImage(e.fileMimeType));n&&x.removeMediaNode(d.view,n.node,n.getPos)})),e(l)(this,"removeSelectedMediaContainer",(function(){var e=d.view,t=d.selectedMediaContainerNode();if(!t)return!1;var n=e.state.selection.from;return x.removeMediaNode(e,t.firstChild,(function(){return n+1})),!0})),e(l)(this,"selectedMediaContainerNode",(function(){var e=d.view.state,t=e.selection,n=e.schema;if(t instanceof f.NodeSelection&&(t.node.type===n.nodes.mediaSingle||t.node.type===n.nodes.mediaGroup))return t.node})),e(l)(this,"handleDrag",(function(e){var t="enter"===e;if(d.showDropzone!==t){d.showDropzone=t;var n=d.view;(0,n.dispatch)(n.state.tr)}})),this.reactContext=o,this.options=r,this.mediaOptions=c,this.dispatch=u,this.waitForMediaUpload=void 0===r.waitForMediaUpload||r.waitForMediaUpload;var p=n.schema.nodes;e(m)(p.media&&(p.mediaGroup||p.mediaSingle),"Editor: unable to init media plugin - media or mediaGroup/mediaSingle node absent in schema"),r.providerFactory.subscribe("mediaProvider",(function(e,t){return d.setMediaProvider(t)})),r.providerFactory.subscribe("contextIdentifierProvider",this.onContextIdentifierProvider),this.errorReporter=r.errorReporter||new g.default}var n;return e(c)(t,[{key:"updateElement",value:function(){var e,t=this.selectedMediaContainerNode(),n=this.view.state.schema.nodes.mediaSingle;t&&t.type===n&&(e=this.getDomElement(this.view.domAtPos.bind(this.view))),this.element!==e&&(this.element=e)}},{key:"getDomElement",value:function(e){var t=this.view.state,n=t.selection,r=t.schema;if(n instanceof f.NodeSelection&&n.node.type===r.nodes.mediaSingle){var o=v.findDomRefAtPos(n.from,e);if(o)return o.childNodes.length?o.querySelector("figure")||o:o.parentNode}}},{key:"setView",value:function(e){this.view=e}},{key:"destroy",value:function(){if(!this.destroyed){this.destroyed=!0;var e=this.mediaNodes;e.splice(0,e.length),this.removeOnCloseListener(),this.destroyPickers()}}},{key:"initPickers",value:(n=e(a)(e(i).mark((function t(n,r,o){var a,s,c,l,u,d,f,p=this;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.destroyed&&this.uploadMediaClientConfig){e.next=2;break}return e.abrupt("return");case 2:if(a=this.errorReporter,s=this.pickers,c=this.pickerPromises,s.length){e.next=26;break}if(l={mediaClientConfig:this.uploadMediaClientConfig,errorReporter:a},u={uploadParams:n,proxyReactContext:o(),useForgePlugins:this.mediaOptions&&this.mediaOptions.useForgePlugins||!1,featureFlags:this.mediaOptions&&this.mediaOptions.featureFlags},!this.options.customMediaPicker){e.next=16;break}return d=new r("customMediaPicker",l,this.options.customMediaPicker).init(),c.push(d),e.t0=s,e.next=12,d;case 12:e.t1=this.customPicker=e.sent,e.t0.push.call(e.t0,e.t1),e.next=25;break;case 16:if(!this.shouldUseMediaPickerPopup()){e.next=25;break}return f=new r("popup",l,u).init(),c.push(f),e.t2=s,e.next=22,f;case 22:e.t3=this.popupPicker=e.sent,e.t2.push.call(e.t2,e.t3),this.removeOnCloseListener=this.popupPicker.onClose(this.onPopupPickerClose);case 25:s.forEach((function(e){e.onNewMedia(p.insertFile)}));case 26:s.forEach((function(e){return e.setUploadParams(n)}));case 27:case"end":return e.stop()}}),t,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"collectionFromProvider",value:function(){return this.mediaProvider&&this.mediaProvider.uploadParams&&this.mediaProvider.uploadParams.collection}},{key:"updateAndDispatch",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=n,o=e[r];void 0!==o&&(t[r]=o)})),this.dispatch&&this.dispatch(C.stateKey,N({},this))}}]),t}(),I=function(e){return C.stateKey.getState(e)},D=function(t,n,r,o,i){var a=function(t){var n=document.createElement("div");return t?e(d).render(e(u).createElement(y.default,{type:"single"}),n):e(d).render(e(u).createElement(y.default),n),n}(i&&i.allowDropzoneDropLine);return new f.Plugin({state:{init:function(e,t){return new A(t,n,r,i,o)},apply:function(e,t){"number"==typeof t.editingMediaSinglePos&&(t.editingMediaSinglePos=e.mapping.map(t.editingMediaSinglePos));var n=e.getMeta(C.stateKey);if(n){var r=n.allowsUploads;t.updateAndDispatch({allowsUploads:void 0===r?t.allowsUploads:r})}return t}},filterTransaction:function(e,t){return!(e.selectionSet&&v.isNodeSelection(e.selection)&&e.selection.node.type===t.schema.nodes.media&&e.selection.$anchor.parent.type===t.schema.nodes.mediaSingle)},key:C.stateKey,view:function(e){var t=I(e.state);return t.setView(e),t.updateElement(),{update:function(){t.updateElement()}}},props:{decorations:function(e){if(I(e).showDropzone){var t=e.schema,n=e.selection.$anchor;if(e.selection instanceof f.NodeSelection){if(e.selection.node.type===t.nodes.mediaSingle){var r=h.Decoration.node(e.selection.from,e.selection.to,{class:"richMedia-selected"});return h.DecorationSet.create(e.doc,[r])}}else{var o=n.pos;if(n.parent.type!==t.nodes.paragraph&&n.parent.type!==t.nodes.codeBlock&&(o=p.insertPoint(e.doc,o,t.nodes.mediaGroup)),null!=o){var i=[h.Decoration.widget(o,a,{key:"drop-placeholder"})];return h.DecorationSet.create(e.doc,i)}}}},nodeViews:n.nodeViews,handleTextInput:function(e){return I(e.state).splitMediaGroup(),!1}}})}})),r.register("7O3xq",(function(n,o){t(n.exports,"default",(function(){return v}));var i,a,s=r("lhkMJ"),c=r("61szk"),l=r("SssiD"),u=r("kFKbx"),d=r("cufhv"),f=r("97o7M"),p=r("ekJGA"),h=r("1nPHu"),g=l.default.div(i||(i=e(s)(["\n  color: ",";\n  background: ",";\n  border-radius: ","px;\n  margin: 5px 3px 25px;\n  width: ","px;\n  min-height: ","px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"])),p.hexToRgba(d.B400,.4)||d.B400,p.hexToRgba(d.B300,.6)||d.B300,u.borderRadius(),h.FILE_WIDTH,h.MEDIA_HEIGHT),m=l.default.div(a||(a=e(s)(["\n  background: ",";\n  border-radius: ","px;\n  margin: 2px 0;\n  width: 100%;\n  height: 2px;\n"])),d.B200,u.borderRadius()),v=function(t){var n=t.type;return"single"===(void 0===n?"group":n)?e(c).createElement(m,null):e(c).createElement(g,null,e(c).createElement(e(f),{label:"Document",size:"medium"}))}})),r.register("1nPHu",(function(n,o){t(n.exports,"MEDIA_HEIGHT",(function(){return k})),t(n.exports,"FILE_WIDTH",(function(){return C})),t(n.exports,"default",(function(){return T}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");r("igW5C");var h=r("lOleA"),g=r("kw77Z"),m=r("bKnyF"),v=r("61szk");r("9J8af");var b=r("eXD27"),y=r("bjJNi"),E=r("1Dhom");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var k=125,C=156,S=function(t){e(u)(o,t);var n,r=x(o);function o(t){var n;e(s)(this,o),n=r.call(this,t),e(p)(e(l)(n),"state",{}),e(p)(e(l)(n),"setViewMediaClientConfig",e(a)(e(i).mark((function t(){var r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.props.mediaProvider;case 2:(r=e.sent)&&(o=r.viewMediaClientConfig,n.setState({viewMediaClientConfig:o}));case 4:case"end":return e.stop()}}),t)})))),e(p)(e(l)(n),"selectMediaSingleFromCard",(function(e){var t=e.event;n.selectMediaSingle(t)})),e(p)(e(l)(n),"selectMediaSingle",(function(e){e.stopPropagation();var t=n.props.getPos(),r=n.props.view.state;if(e.shiftKey){if(r.selection instanceof m.CellSelection)return;b.setTextSelection(n.props.view,r.selection.from<t?r.selection.from:t-1,r.selection.to>t?r.selection.to:t+2)}else b.setNodeSelection(n.props.view,t-1)})),e(p)(e(l)(n),"handleNewNode",(function(e){var t=e.node;n.mediaPluginState.handleMediaNodeMount(t,(function(){return n.props.getPos()}))}));var c=n.props.view;return n.mediaPluginState=y.stateKey.getState(c.state),n}return e(c)(o,[{key:"shouldComponentUpdate",value:function(e,t){var n=!this.state.viewMediaClientConfig&&t.viewMediaClientConfig;return!(this.props.selected===e.selected&&this.props.uploadComplete===e.uploadComplete&&this.props.node.attrs.id===e.node.attrs.id&&this.props.node.attrs.collection===e.node.attrs.collection&&this.props.maxDimensions.height===e.maxDimensions.height&&this.props.maxDimensions.width===e.maxDimensions.width&&this.props.contextIdentifierProvider===e.contextIdentifierProvider&&this.props.isLoading===e.isLoading&&this.props.mediaProvider===e.mediaProvider&&!n)}},{key:"componentDidMount",value:(n=e(a)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.handleNewNode(this.props),n=this.props.contextIdentifierProvider,e.t0=this,e.next=5,n;case 5:return e.t1=e.sent,e.t2={contextIdentifierProvider:e.t1},e.t0.setState.call(e.t0,e.t2),e.next=10,this.setViewMediaClientConfig();case 10:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e=this.props.node;this.mediaPluginState.handleMediaNodeUnmount(e)}},{key:"componentDidUpdate",value:function(e){e.node.attrs.id!==this.props.node.attrs.id&&(this.mediaPluginState.handleMediaNodeUnmount(e.node),this.handleNewNode(this.props)),this.mediaPluginState.updateElement(),this.setViewMediaClientConfig()}},{key:"render",value:function(){var t=this.props,n=t.node,r=t.selected,o=t.uploadComplete,i=t.originalDimensions,a=t.isLoading,s=t.maxDimensions,c=t.mediaOptions,l=this.state,u=l.viewMediaClientConfig,d=l.contextIdentifierProvider,f=n.attrs,p=f.id,h=f.type,m=f.collection,b=f.url,y=f.alt;if(a||"external"!==h&&(!u||"boolean"==typeof o&&!o))return e(v).createElement(E.MediaCardWrapper,{dimensions:i},e(v).createElement(g.CardLoading,null));var x=d&&d.objectId,k="external"===h?{dataURI:b,name:b,mediaItemType:"external-image"}:{id:p,mediaItemType:"file",collectionName:m},C=u||{authProvider:function(){return{}}};return e(v).createElement(E.MediaCardWrapper,{dimensions:i,onContextMenu:this.selectMediaSingle},e(v).createElement(g.Card,{mediaClientConfig:C,resizeMode:"stretchy-fit",dimensions:s,originalDimensions:i,identifier:k,selectable:!0,selected:r,disableOverlay:!0,onClick:this.selectMediaSingleFromCard,useInlinePlayer:c&&c.allowLazyLoading,isLazy:c&&c.allowLazyLoading,featureFlags:c&&c.featureFlags,contextId:x,alt:y}))}}]),o}(v.Component),T=h.withImageLoader(S)})),r.register("1Dhom",(function(n,o){t(n.exports,"FigureWrapper",(function(){return d})),t(n.exports,"MediaCardWrapper",(function(){return h}));var i,a,s,c=r("lhkMJ"),l=r("61szk"),u=r("SssiD"),d=u.default.figure(i||(i=e(c)(["\n  margin: 0;\n"])));d.displayName="FigureWrapper";var f=u.default.div(a||(a=e(c)(["\n  position: absolute;\n  width: 100%;\n  height: 100%;\n"]))),p=u.default.div(s||(s=e(c)(["\n  width: 100%;\n  position: relative;\n  padding-bottom: ","%;\n"])),(function(e){return e.dimensions.height/e.dimensions.width*100})),h=function(t){var n=t.dimensions,r=t.children,o=t.onContextMenu;return e(l).createElement(p,{dimensions:n,onContextMenuCapture:o},e(l).createElement(f,null,r))}})),r.register("cM3xx",(function(e,n){t(e.exports,"insertMediaGroupNode",(function(){return g}));var o=r("jWbqG"),i=r("9J8af"),a=r("l9fpM"),s=r("eXD27"),c=r("laj9D"),l=r("iFBc4"),u=r("69fBK"),d=r("lGsoF");r("cTu5S");var f=r("9V1f8"),p=r("hNVBR"),h=function(e,t){var n="";return 1===e.length?n=e[0].fileMimeType||"unknown":e.length>1&&(n="multiple"),{action:f.ACTION.INSERTED,actionSubject:f.ACTION_SUBJECT.DOCUMENT,actionSubjectId:f.ACTION_SUBJECT_ID.MEDIA,attributes:{type:f.ACTION_SUBJECT_ID.MEDIA_GROUP,inputMethod:t,fileExtension:n},eventType:f.EVENT_TYPE.TRACK}};var g=function(e,t,n,r){var a=e.state,s=e.dispatch,f=a.tr,g=a.schema,v=g.nodes,E=v.media,k=v.paragraph;if(E&&t.length){var C=m(t,n,E),S=b(a),T=f.doc.resolve(S).parent,O=f.doc.nodeAt(S),w=!function(e){var t=e.schema,n=e.selection.$anchor.node();return n&&n.type===t.nodes.mediaGroup}(a)&&d.isSupportedInParent(a,o.Fragment.from(a.schema.nodes.mediaGroup.createChecked({},C))),N=function(e,t){var n=e.schema.nodes.media,r=t&&t.type===n;return(i.insideTableCell(e)||i.isInListItem(e)||i.isInLayoutColumn(e)||u.atTheEndOfDoc(e)&&(!c.posOfPrecedingMediaGroup(e)||c.isSelectionNonMediaBlockNode(e)))&&!r}(a,O),P=T.type===g.nodes.mediaGroup?C:[g.nodes.mediaGroup.createChecked({},C)];if(w){P=N?P.concat(k.create()):P;var A=y(a);return A?S<=A.start?f.deleteRange(A.start,A.end).insert(S,P):f.insert(S,P).deleteRange(A.start,A.end):f.insert(S,P),p.addAnalytics(a,f,h(t,r)),s(f),void x(e)}N&&T.type!==g.nodes.mediaGroup&&P.push(k.create()),p.addAnalytics(a,f,h(t,r)),s(l.safeInsert(o.Fragment.fromArray(P),S)(f))}},m=function(e,t,n){return e.map((function(e){var r=e.id,o=n.create({id:r,type:"file",collection:t});return c.copyOptionalAttrsFromMediaState(e,o),o}))},v=function(e){var t=e.schema.nodes,n=t.mediaGroup,r=t.listItem;if(l.hasParentNode((function(e){return e.type===r}))(e.selection)){var o=function(e){var t=e.schema.nodes,n=t.bulletList,r=t.orderedList;return a.findFarthestParentNode((function(e){return e.type===n||e.type===r}))(e.selection.$from)}(e);if(o){var i=o.pos+o.node.nodeSize,s=e.doc.nodeAt(i);return s&&s.type===n?i+1:i}}},b=function(e){var t=e.selection,n=t.$from,r=t.$to,o=v(e);if(o)return o;var i=c.posOfMediaGroupNearby(e);return i&&(!c.isSelectionNonMediaBlockNode(e)||n.pos<i&&r.pos<i)?i:c.isSelectionNonMediaBlockNode(e)?r.pos:u.atTheEndOfBlock(e)?r.pos+1:u.atTheBeginningOfBlock(e)?n.pos-1:r.pos},y=function(e){var t=e.selection,n=t.$from,r=t.$to;if(!c.posOfParentMediaGroup(e))return!c.isInsidePotentialEmptyParagraph(e)||c.posOfMediaGroupNearby(e)?E(n.pos,r.pos):E(u.startPositionOfParent(n)-1,u.endPositionOfParent(r))},E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;return{start:e,end:t}},x=function(e){var t=e.state,n=t.doc,r=c.posOfMediaGroupNearby(t);if(r){var o=n.resolve(r),i=u.endPositionOfParent(o);i+1>=n.nodeSize-1?s.setNodeSelection(e,r):s.setTextSelection(e,i+1)}}})),r.register("1d3w7",(function(n,o){t(n.exports,"findMediaSingleNode",(function(){return l})),t(n.exports,"findMediaNode",(function(){return u})),t(n.exports,"isMobileUploadCompleted",(function(){return d})),t(n.exports,"updateAllMediaNodesAttrs",(function(){return f})),t(n.exports,"updateMediaNodeAttrs",(function(){return p})),t(n.exports,"replaceExternalMedia",(function(){return h}));var i=r("l15hj"),a=r("bjJNi");r("ksxA8");var s=r("dOLSc");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var l=function(e,t){return e.mediaNodes.reduce((function(e,n){return e||(n.node.attrs.id===t?n:e)}),null)},u=function(e,t,n){return n?l(e,t):e.mediaGroupNodes[t]},d=function(e,t){return e.mediaOptions&&e.mediaOptions.allowMarkingUploadsAsIncomplete&&"boolean"==typeof e.mobileUploadComplete[t]?e.mobileUploadComplete[t]:void 0},f=function(e,t,n){return function(r,o){var i,c=a.stateKey.getState(r);if(n)i=function(e,t){return e.mediaNodes.filter((function(e){return e.node.attrs.id===t}))}(c,e);else{var l=u(c,e,n);i=l?[l]:[]}var d=r.schema.nodes.media;if(0===(i=i.filter((function(e){var t;try{t=r.doc.nodeAt(e.getPos())}catch(e){return!1}return t&&t.type===d}))).length)return!1;if(o){var f=r.tr;i.forEach((function(e){var n=e.getPos;return f.step(new s.SetAttrsStep(n(),t))})),f.setMeta("addToHistory",!1),o(f)}return!0}},p=function(e,t,n){return function(r,o){var i=a.stateKey.getState(r),c=u(i,e,n);return!!c&&(o&&o(r.tr.step(new s.SetAttrsStep(c.getPos(),t)).setMeta("addToHistory",!1)),!0)}},h=function(t,n){return function(r,o){return!!o&&(o(r.tr.step(new s.SetAttrsStep(t,function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({type:"file",url:null},n))).setMeta("addToHistory",!1)),!0)}}})),r.register("5Onpz",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("l15hj"),u=r("ifbna"),d=r("ayu25"),f=function(){function t(n,r,o){var i=this,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:u.MediaPicker,c=arguments.length>4?arguments[4]:void 0;e(s)(this,t),e(l)(this,"onDragListeners",[]),e(l)(this,"onStartListeners",[]),e(l)(this,"eventListeners",{}),e(l)(this,"handleUploadPreviewUpdate",(function(e){var t=e.file,n=e.preview,r=i.erroredFiles.has(t.id),o=d.isImagePreview(n)?n:{dimensions:void 0,scaleFactor:void 0},a=o.dimensions,s=o.scaleFactor,c={id:t.id,fileName:t.name,fileSize:t.size,fileMimeType:t.type,dimensions:a,scaleFactor:s,status:r?"error":void 0};i.eventListeners[t.id]=[],i.onStartListeners.forEach((function(e){return e(c,(function(e){return i.subscribeStateChanged(t,e)}),i.analyticsName||i.pickerType)}))})),e(l)(this,"subscribeStateChanged",(function(e,t){var n=i.eventListeners[e.id];n&&n.push(t)})),e(l)(this,"handleUploadError",(function(e){var t=e.error,n=e.fileId,r=i.eventListeners[n];i.erroredFiles.add(n),r&&(r.forEach((function(e){return e({id:n,status:"error",error:t&&{description:t.description,name:t.name}})})),delete i.eventListeners[n])})),e(l)(this,"handleMobileUploadEnd",(function(e){var t=e.file,n=i.eventListeners[t.id];n&&n.forEach((function(e){return e({id:t.id,status:"mobile-upload-end",fileMimeType:t.type,collection:t.collectionName,publicId:t.publicId})}))})),e(l)(this,"handleReady",(function(e){var t=e.file,n=i.eventListeners[t.id];n&&(n.forEach((function(e){return e({id:t.id,status:"ready"})})),delete i.eventListeners[t.id])})),this.config=r,this.pickerConfig=o,this.mediaPickerFactoryClass=a,this.pickerType=n,this.errorReporter=r.errorReporter,this.analyticsName=c,this.erroredFiles=new Set}var n;return e(c)(t,[{key:"init",value:(n=e(a)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("customMediaPicker"!==this.pickerType){e.next=4;break}n=this.picker=this.pickerConfig,e.next=8;break;case 4:if("popup"!==this.pickerType){e.next=8;break}return e.next=7,this.mediaPickerFactoryClass(this.config.mediaClientConfig,this.pickerConfig);case 7:n=this.picker=e.sent;case 8:if(n){e.next=10;break}return e.abrupt("return",this);case 10:return n.on("upload-preview-update",this.handleUploadPreviewUpdate),n.on("upload-end",this.handleReady),n.on("upload-error",this.handleUploadError),n.on("mobile-upload-end",this.handleMobileUploadEnd),e.abrupt("return",this);case 15:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"type",get:function(){return this.pickerType}},{key:"mediaPicker",get:function(){return this.picker}},{key:"destroy",value:function(){var e=this.picker;if(e){e.removeAllListeners("upload-preview-update"),e.removeAllListeners("upload-end"),e.removeAllListeners("upload-error"),this.onStartListeners=[],this.onDragListeners=[];try{"popup"===this.pickerType&&e.teardown()}catch(e){this.errorReporter.captureException(e)}}}},{key:"setUploadParams",value:function(e){this.picker&&this.picker.setUploadParams(e)}},{key:"onClose",value:function(e){var t=this.picker;if("popup"===this.pickerType){var n=t;return n.on("closed",e),function(){return n.off("closed",e)}}return function(){}}},{key:"show",value:function(){if("popup"===this.pickerType)try{this.picker.show()}catch(e){this.errorReporter.captureException(e)}}},{key:"hide",value:function(){"popup"===this.pickerType&&this.picker.hide()}},{key:"onNewMedia",value:function(e){this.onStartListeners.push(e)}},{key:"onDrag",value:function(e){this.onDragListeners.push(e)}}]),t}()})),r.register("ifbna",(function(n,o){t(n.exports,"MediaPicker",(function(){return c})),t(n.exports,"isImagePreview",(function(){return r("ayu25").isImagePreview})),t(n.exports,"Dropzone",(function(){return r("4sChf").DropzoneLoader})),t(n.exports,"Clipboard",(function(){return r("k52Jr").ClipboardLoader})),t(n.exports,"Browser",(function(){return r("5gXj0").BrowserLoader}));var i=r("9ePZF"),a=r("h67q9"),s=r("cNgp7");r("ayu25"),r("4sChf"),r("k52Jr"),r("5gXj0");function c(e,t){return l.apply(this,arguments)}function l(){return(l=e(s)(e(i).mark((function t(n,o){var s,c,l,u,d;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([r("72lud"),Promise.resolve(r("bKhep"))]);case 2:return s=t.sent,c=e(a)(s,2),l=c[0].PopupImpl,u=c[1].getMediaClient,d=u(n),t.abrupt("return",new l(d,o));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}})),r.register("ayu25",(function(e,n){t(e.exports,"isImagePreview",(function(){return r})),t(e.exports,"getPreviewFromMetadata",(function(){return o}));var r=function(e){return!!e.dimensions},o=function(e){return e.original&&e.original.width&&e.original.height?{dimensions:{width:e.original.width,height:e.original.height},scaleFactor:1}:{}}})),r.register("4sChf",(function(n,o){t(n.exports,"DropzoneLoader",(function(){return v}));var i=r("9ePZF"),a=r("h67q9"),s=r("cNgp7"),c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("61szk");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var v=function(t){e(d)(f,t);var n,o=m(f);function f(){var t;e(c)(this,f);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(h)(e(u)(t),"state",{Dropzone:f.Dropzone,MediaPickerErrorBoundary:f.MediaPickerErrorBoundary}),t}return e(l)(f,[{key:"UNSAFE_componentWillMount",value:(n=e(s)(e(i).mark((function t(){var n,o,s,c,l;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.Dropzone&&this.state.MediaPickerErrorBoundary){t.next=16;break}return t.prev=1,t.next=4,Promise.all([Promise.resolve(r("bKhep")),r("7flfH"),r("loVG3")]);case 4:n=t.sent,o=e(a)(n,3),s=o[0],c=o[1],l=o[2],f.Dropzone=s.withMediaClient(c.Dropzone,this.props.featureFlags),f.MediaPickerErrorBoundary=l.default,this.setState({Dropzone:f.Dropzone,MediaPickerErrorBoundary:f.MediaPickerErrorBoundary}),t.next=16;break;case 14:t.prev=14,t.t0=t.catch(1);case 16:case"end":return t.stop()}}),t,this,[[1,14]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this.state,n=t.Dropzone,r=t.MediaPickerErrorBoundary;return n&&r?e(g).createElement(r,null,e(g).createElement(n,this.props)):null}}]),f}(e(g).PureComponent);e(h)(v,"displayName","AsyncDropzone")})),r.register("7flfH",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ksqbD")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("38I5F")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4EdI3"))]).then((()=>r("khWKn")))})),r.register("loVG3",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("38I5F")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("lmvce"))]).then((()=>r("kQZKi")))})),r.register("k52Jr",(function(n,o){t(n.exports,"ClipboardLoader",(function(){return v}));var i=r("9ePZF"),a=r("h67q9"),s=r("cNgp7"),c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("61szk");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var v=function(t){e(d)(f,t);var n,o=m(f);function f(){var t;e(c)(this,f);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(h)(e(u)(t),"state",{Clipboard:f.Clipboard}),t}return e(l)(f,[{key:"UNSAFE_componentWillMount",value:(n=e(s)(e(i).mark((function t(){var n,o,s,c;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.Clipboard){t.next=9;break}return t.next=3,Promise.all([Promise.resolve(r("bKhep")),r("gvxcc")]);case 3:n=t.sent,o=e(a)(n,2),s=o[0],c=o[1],f.Clipboard=s.withMediaClient(c.Clipboard,this.props.featureFlags),this.setState({Clipboard:f.Clipboard});case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.state.Clipboard?e(g).createElement(this.state.Clipboard,this.props):null}}]),f}(e(g).PureComponent);e(h)(v,"displayName","AsyncClipboard")})),r.register("gvxcc",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ksqbD")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("38I5F")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("anK8B"))]).then((()=>r("lgiw7")))})),r.register("5gXj0",(function(n,o){t(n.exports,"BrowserLoader",(function(){return v}));var i=r("9ePZF"),a=r("h67q9"),s=r("cNgp7"),c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("61szk");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var v=function(t){e(d)(f,t);var n,o=m(f);function f(){var t;e(c)(this,f);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(h)(e(u)(t),"mounted",!1),e(h)(e(u)(t),"state",{Browser:f.Browser}),t}return e(l)(f,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillMount",value:(n=e(s)(e(i).mark((function t(){var n,o,s,c;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.Browser){t.next=9;break}return t.next=3,Promise.all([Promise.resolve(r("bKhep")),r("jKXTw")]);case 3:n=t.sent,o=e(a)(n,2),s=o[0],c=o[1],f.Browser=s.withMediaClient(c.Browser,this.props.featureFlags),this.mounted&&this.setState({Browser:f.Browser});case 9:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.state.Browser?e(g).createElement(this.state.Browser,this.props):null}}]),f}(e(g).PureComponent);e(h)(v,"displayName","AsyncBrowser")})),r.register("jKXTw",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ksqbD")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("38I5F")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("1cYJV"))]).then((()=>r("ijyno")))})),r.register("72lud",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8mrVx")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("8AGkR")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ax9kO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("6VgZk")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bosvO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5c9IN")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4EdI3")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("anK8B")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ksqbD")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("38I5F")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("1cYJV")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("aAZY6")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bLbJm")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bqkCF")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("ku9Qq")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("63ubf")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("45d07")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("7MutO")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("bExkw")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("9DBSz")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("54a6k")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("3lAVS")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("1A2Z4")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("44xDE")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("1B5zQ"))]).then((()=>r("39p6E")))})),r.register("eK92B",(function(n,o){t(n.exports,"createPlugin",(function(){return d}));var i=r("9ePZF"),a=r("cNgp7"),s=r("eBSbE"),c=r("k5fYD"),l=r("bawpe"),u=function(t){return function(n){var r=function(){var t=e(a)(e(i).mark((function t(r,o){var a,s,l,u;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("mediaProvider"===r){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,o;case 4:if(a=e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,a.uploadMediaClientConfig;case 9:if(e.t0=e.sent,e.t0){e.next=14;break}return e.next=13,a.viewMediaClientConfig;case 13:e.t0=e.sent;case 14:s=e.t0,l=n.dispatch,u=n.state,c.setMediaClientConfig(s)(u,l,n);case 17:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return t.subscribe("mediaProvider",r),{destroy:function(){t.unsubscribe("mediaProvider",r)}}}},d=function(e){var t=e.dispatch,n=e.providerFactory;return new s.Plugin({state:l.createPluginState(t,{}),key:l.pluginKey,view:u(n)})}})),r.register("k5fYD",(function(n,o){t(n.exports,"openMediaEditor",(function(){return l})),t(n.exports,"closeMediaEditor",(function(){return u})),t(n.exports,"setMediaClientConfig",(function(){return d})),t(n.exports,"uploadAnnotation",(function(){return f}));var i=r("l15hj"),a=r("bawpe");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e,t){return a.createCommand({type:"open",identifier:t,pos:e})},u=function(){return a.createCommand({type:"close"})},d=function(e){return a.createCommand({type:"setMediaClientConfig",mediaClientConfig:e})},f=function(e,t){return a.createCommand({type:"upload",newIdentifier:e},(function(n,r){var o=a.getPluginState(r).editor;if(!o)return n;var i=n.mapping.map(o.pos),s=n.doc.nodeAt(i),l=r.schema.nodes.media;if(!s||s.type!==l)return n;var u=c(c({},s.attrs),{},{id:e.id,collection:e.collectionName||s.attrs.collection,occurrenceKey:e.occurrenceKey,width:t.width,height:t.height});return n.setNodeMarkup(i,void 0,u)}))}})),r.register("bawpe",(function(n,o){t(n.exports,"pluginKey",(function(){return u})),t(n.exports,"createPluginState",(function(){return f})),t(n.exports,"createCommand",(function(){return p})),t(n.exports,"getPluginState",(function(){return h}));var i=r("l15hj"),a=r("eBSbE"),s=r("27k6c");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=new a.PluginKey("mediaEditorPlugin"),d=s.pluginFactory(u,(function(e,t){switch(t.type){case"open":return l(l({},e),{},{editor:{identifier:t.identifier,pos:t.pos}});case"close":case"upload":return l(l({},e),{},{editor:void 0});case"setMediaClientConfig":return l(l({},e),{},{mediaClientConfig:t.mediaClientConfig});default:return e}}),{mapping:function(e,t){return t.editor?l(l({},t),{},{editor:l(l({},t.editor),{},{pos:e.mapping.map(t.editor.pos)})}):t}}),f=d.createPluginState,p=d.createCommand,h=d.getPluginState})),r.register("gQjTK",(function(e,n){t(e.exports,"createCommand",(function(){return d})),t(e.exports,"getPluginState",(function(){return f})),t(e.exports,"createPlugin",(function(){return p}));var o=r("eBSbE"),i=r("27k6c"),a=r("dD5i5"),s=r("7lvT4"),c=new o.PluginKey("mediaAltTextPlugin"),l=i.pluginFactory(c,a.default,{onSelectionChanged:function(e,t){return e.getMeta(s.pmHistoryPluginKey)?t:{isAltTextEditorOpen:!1}}}),u=l.createPluginState,d=l.createCommand,f=l.getPluginState,p=function(e){var t=e.dispatch;e.providerFactory;return new o.Plugin({state:u(t,{isAltTextEditorOpen:!1}),key:c,view:function(){return{update:function(e,t){var n=f(e.state),r=f(t);n&&r&&r.isAltTextEditorOpen&&!n.isAltTextEditorOpen&&!e.hasFocus()&&e.focus()}}}})}})),r.register("dD5i5",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(e,t){switch(t.type){case"updateAltText":return s({},e);case"openMediaAltTextMenu":return s(s({},e),{},{isAltTextEditorOpen:!0});case"closeMediaAltTextMenu":return s(s({},e),{},{isAltTextEditorOpen:!1});default:return e}}})),r.register("7lvT4",(function(e,n){t(e.exports,"pmHistoryPluginKey",(function(){return r}));var r="history$"})),r.register("kaYU1",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("6mFHM"),i=r("7uC1r"),a=r("dejjl");function s(e){var t={};return i.bindKeymapWithCommand(i.addAltText.common,a.openMediaAltTextMenu,t),i.bindKeymapWithCommand(i.escape.common,a.closeMediaAltTextMenu,t),o.keymap(t)}})),r.register("dejjl",(function(n,o){t(n.exports,"closeMediaAltTextMenu",(function(){return g})),t(n.exports,"openMediaAltTextMenu",(function(){return m})),t(n.exports,"updateAltText",(function(){return v}));var i=r("l15hj"),a=r("gQjTK"),s=r("laj9D");r("cTu5S");var c=r("hNVBR"),l=r("9V1f8");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f,p,h,g=a.createCommand((function(e){return!!s.isSelectionMediaSingleNode(e)&&{type:"closeMediaAltTextMenu"}})),m=(f=l.ACTION.OPENED,p=function(e){return!!s.isSelectionMediaSingleNode(e)&&{type:"openMediaAltTextMenu"}},h=function(e){return e.setMeta("scrollIntoView",!1)},c.withAnalytics({action:f,actionSubject:l.ACTION_SUBJECT.MEDIA,actionSubjectId:l.ACTION_SUBJECT_ID.ALT_TEXT,eventType:l.EVENT_TYPE.TRACK})(a.createCommand(p,h))),v=function(e){return a.createCommand((function(e){return!!s.isSelectionMediaSingleNode(e)&&{type:"updateAltText"}}),(function(t,n){var r=s.getMediaNodeFromSelection(n),o=t.selection.from+1;return r&&(t.setMeta("scrollIntoView",!1),t.setNodeMarkup(o,void 0,d(d({},r.attrs),{},{alt:e}))),t}))}})),r.register("4xO79",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("6mFHM"),i=r("7uC1r"),a=r("9J8af"),s=r("iFBc4"),c=r("l5dFf"),l=r("69fBK");function u(e,t){var n=e.$from,r=n.index(n.depth-1),o=n.node(n.depth-1);return o?o.maybeChild(r+t):null}function d(e){return function(t,n){var r=t.selection.$from,o=t.schema.nodes.paragraph,i=u(t.selection,-2);if(!i)return!1;var c=u(t.selection,-1),l=r.pos-c.nodeSize-i.nodeSize,d=t.tr;if(function(t){var n=!1;try{n=e(t)}catch(e){}return n}(i))d=d.replace(l-1,l+i.nodeSize);else if(a.isSelectionInsideLastNodeInDocument(t.selection)?d.replace(r.pos,r.pos+r.parent.nodeSize-1):d.replace(r.pos-1,r.pos+r.parent.nodeSize-1),i.type===o){var f=l+i.nodeSize-2;s.safeInsert(r.parent.content,f)(d)}else{var p=l+i.nodeSize-1;s.safeInsert(r.parent.copy(r.parent.content),p)(d)}return n&&n(d),!0}}var f=function(e){var t=a.isEmptyNode(e);return function(e,n){var r=e.selection,o=e.schema,i=r.$from;if(!function(e){return!!e.empty&&e.$from.parentOffset<=0}(e.selection))return!1;if(!function(e,t){return e.$from.parent.type===t}(e.selection,o.nodes.paragraph))return!1;return!!function(e,t,n){var r=u(e,n);return!!r&&r.type===t}(e.selection,o.nodes.mediaSingle,-1)&&("wrap-right"===u(e.selection,-1).attrs.layout?d(t)(e,n):(n&&c.selectNodeBackward(e,(function(r){t(i.parent)&&!l.atTheEndOfDoc(e)&&r.replace(i.pos-1,i.pos+i.parent.nodeSize-1),n(r)})),!0))}};function p(e){var t={},n=f(e);return i.bindKeymapWithCommand(i.backspace.common,n,t),o.keymap(t)}})),r.register("liyfo",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("6mFHM"),i=r("7uC1r"),a=r("2botu");function s(e){var t={};return i.bindKeymapWithCommand(i.addLink.common,a.showLinkingToolbarWithMediaTypeCheck,t),o.keymap(t)}})),r.register("2botu",(function(n,o){t(n.exports,"showLinkingToolbar",(function(){return v})),t(n.exports,"showLinkingToolbarWithMediaTypeCheck",(function(){return b})),t(n.exports,"hideLinkingToolbar",(function(){return E})),t(n.exports,"unlink",(function(){return C})),t(n.exports,"setUrlToMedia",(function(){return T}));var i=r("l15hj"),a=r("4gnUe"),s=r("5eBbT"),c=r("k6sjS"),l=r("59Ydv");r("cTu5S");var u=r("hNVBR"),d=r("9V1f8"),f=r("ij18r"),p=r("jkiz0"),h=r("g3M1k");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=a.createMediaLinkingCommand((function(e){var t=a.getMediaLinkingState(e);if(t&&null!==t.mediaPos&&e.doc.nodeAt(t.mediaPos))return{type:l.MediaLinkingActionsTypes.showToolbar};return!1})),b=function(e,t,n){if(t&&n){var r=f.currentMediaNode(e);if(!r)return!1;var o=h.getMediaPluginState(e).mediaClientConfig;if(!o)return!1;p.checkMediaType(r,o).then((function(e){"external"!==e&&"image"!==e||f.currentMediaNode(n.state)!==r||t(n.state.tr.setMeta(a.mediaLinkingPluginKey,{type:l.MediaLinkingActionsTypes.showToolbar}))}))}return!0},y=a.createMediaLinkingCommand({type:l.MediaLinkingActionsTypes.hideToolbar}),E=function(e,t,n){y(e,t,n),n&&n.focus()};function x(e,t,n){var r=n.forceRemove,o=void 0!==r&&r,i=n.url,l=a.getMediaLinkingState(t);if(!l||null===l.mediaPos)return e;var u=t.doc.resolve(l.mediaPos),d=t.doc.nodeAt(u.pos);if(!d)return e;var f=t.schema.marks.link,p=t.schema.nodes.media,h=c.createToggleBlockMarkOnRange(f,(function(e,t){if(t&&t.type===p){if(o)return!1;var n=s.normalizeUrl(i);if(!e||e.href!==n)return""!==n.trim()&&m(m({},e),{},{href:n})}}),[p]);return h(u.pos,u.pos+d.nodeSize,e,t),e}var k=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;return u.addAnalytics(t,e,{action:n,eventType:d.EVENT_TYPE.TRACK,actionSubject:d.ACTION_SUBJECT.MEDIA,actionSubjectId:d.ACTION_SUBJECT_ID.LINK,attributes:r})},C=a.createMediaLinkingCommand({type:l.MediaLinkingActionsTypes.unlink},(function(e,t){var n=x(e,t,{forceRemove:!0});return k(n,t,d.ACTION.DELETED)})),S=function(e,t){var n=function(e){var t=e.schema.marks.link,n=a.getMediaLinkingState(e);if(n&&null!==n.mediaPos){var r=e.doc.resolve(n.mediaPos),o=e.doc.nodeAt(r.pos);if(o&&t.isInSet(o.marks))return o.marks.find((function(e){return e.type===t})).attrs.href}}(t);return n?e!==n?d.ACTION.EDITED:void 0:d.ACTION.ADDED},T=function(e,t){return a.createMediaLinkingCommand({type:l.MediaLinkingActionsTypes.setUrl,payload:s.normalizeUrl(e)},(function(n,r){var o=S(e,r);if(!o)return n;try{var i=x(n,r,{url:e});return k(n,r,o,o===d.ACTION.ADDED?{inputMethod:t}:void 0),i}catch(e){throw k(n,r,d.ACTION.ERRORED,{action:o}),e}}))}})),r.register("4gnUe",(function(n,o){t(n.exports,"mediaLinkingPluginKey",(function(){return d})),t(n.exports,"createMediaLinkingCommand",(function(){return h})),t(n.exports,"getMediaLinkingState",(function(){return g})),t(n.exports,"default",(function(){return m}));var i=r("l15hj"),a=r("27k6c"),s=r("eBSbE"),c=r("lON9W");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=new s.PluginKey("mediaLinking"),f={visible:!1,editable:!1,mediaPos:null,link:""};var p=a.pluginFactory(d,c.default,{mapping:function(e,t){return t&&null!==t.mediaPos?u(u({},t),{},{mediaPos:e.mapping.map(t.mediaPos)}):t},onSelectionChanged:function(e){if(!(e.selection instanceof s.NodeSelection))return f;var t=e.selection.$from.pos+1,n=e.doc.nodeAt(t);if(!n||"media"!==n.type.name)return f;var r=n.marks.find((function(e){return"link"===e.type.name}));return u(u({},f),{},r?{mediaPos:t,editable:!0,link:r.attrs.href}:{mediaPos:t})}}),h=p.createCommand,g=p.getPluginState,m=function(e){return new s.Plugin({key:d,state:p.createPluginState(e,f)})}})),r.register("lON9W",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("l15hj"),a=r("59Ydv");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e,t){switch(t.type){case a.MediaLinkingActionsTypes.showToolbar:return c(c({},e),{},{visible:!0});case a.MediaLinkingActionsTypes.setUrl:return c(c({},e),{},{editable:!0,link:t.payload});case a.MediaLinkingActionsTypes.hideToolbar:return c(c({},e),{},{visible:!1});case a.MediaLinkingActionsTypes.unlink:return c(c({},e),{},{link:"",visible:!1,editable:!1})}return e}})),r.register("59Ydv",(function(e,n){var r,o;t(e.exports,"MediaLinkingActionsTypes",(function(){return r})),(o=r||(r={})).showToolbar="MEDIA_SHOW_TOOLBAR",o.hideToolbar="MEDIA_HIDE_TOOLBAR",o.setUrl="MEDIA_SET_LINK_TO",o.unlink="MEDIA_LINKING_UNLINK"})),r.register("ij18r",(function(e,n){t(e.exports,"currentMediaNode",(function(){return i}));var o=r("eBSbE"),i=function(e){var t=e.doc,n=e.selection,r=e.schema;if(t&&n&&n instanceof o.NodeSelection&&n.node.type===r.nodes.mediaSingle){var i=t.nodeAt(n.$anchor.pos+1);if(i&&i.type===r.nodes.media)return i}}})),r.register("jkiz0",(function(n,o){t(n.exports,"checkMediaType",(function(){return c}));var i=r("9ePZF"),a=r("cNgp7"),s=r("bKhep"),c=function(){var t=e(a)(e(i).mark((function t(n,r){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("external"!==n.attrs.type){e.next=2;break}return e.abrupt("return","external");case 2:if(n.attrs.id){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,s.getMediaClient(r).file.getCurrentState(n.attrs.id,{collectionName:n.attrs.collection});case 7:if(!(o=e.sent)||"error"===o.status){e.next=10;break}return e.abrupt("return",o.mediaType);case 10:e.next=14;break;case 12:e.prev=12,e.t0=e.catch(4);case 14:case"end":return e.stop()}}),t,null,[[4,12]])})));return function(e,n){return t.apply(this,arguments)}}()})),r.register("lic2z",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("6mFHM"),i=r("eBSbE"),a=r("7uC1r"),s=r("bjJNi"),c=r("2qBZt"),l=r("cUpYZ");var u=function(e){return s.stateKey.getState(e).ignoreLinks=!0,!1},d=function(e){return s.stateKey.getState(e).splitMediaGroup()},f=function(e,t){var n=e.selection,r=e.schema;if(n instanceof i.NodeSelection&&n.node.type===r.nodes.mediaSingle&&r.nodes.caption){if(t){var o=n.from,a=n.node;l.insertAndSelectCaptionFromMediaSinglePos(o,a)(e,t)||l.selectCaptionFromMediaSinglePos(o,a)(e,t)}return!0}return!1},p=function(e){var t={},n=(e||{}).featureFlags;return a.bindKeymapWithCommand(a.undo.common,u,t),a.bindKeymapWithCommand(a.enter.common,d,t),c.getMediaFeatureFlag("captions",n)&&(a.bindKeymapWithCommand(a.moveDown.common,f,t),a.bindKeymapWithCommand(a.tab.common,f,t)),a.bindKeymapWithCommand(a.insertNewLine.common,d,t),o.keymap(t)}})),r.register("cUpYZ",(function(e,n){t(e.exports,"selectCaptionFromMediaSinglePos",(function(){return s})),t(e.exports,"insertAndSelectCaptionFromMediaSinglePos",(function(){return c}));var o=r("iFBc4");r("cTu5S");var i=r("hNVBR"),a=r("9V1f8"),s=function(e,t){return function(n,r){if(2!==t.childCount)return!1;if(r){var o=t.child(0),i=t.child(1),a=n.tr;(a=l(a,e,o.nodeSize,i.nodeSize)).setMeta("scrollIntoView",!1),r(a)}return!0}},c=function(e,t){return function(n,r){var o=n.tr;if(1!==t.childCount)return!1;if(r){var s=n.schema,c=t.child(0),u=s.nodes.caption.create();o=n.tr.insert(e+c.nodeSize+1,u),(o=l(o,e,c.nodeSize,u.nodeSize)).setMeta("scrollIntoView",!1),i.addAnalytics(n,o,{action:a.ACTION.ADDED,eventType:a.EVENT_TYPE.TRACK,actionSubject:a.ACTION_SUBJECT.MEDIA_SINGLE,actionSubjectId:a.ACTION_SUBJECT_ID.CAPTION}),r(o)}return!0}},l=function(e,t,n,r){return o.setTextSelection(t+n+r)(e)}})),r.register("e6Ei7",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("bhO1C"),s=r("gCo6x"),c=r("4s4wW"),l=function(t){var n=t.editorView,r=t.eventDispatcher,o=t.pluginKey,l=t.isDisabled,u=t.isReducedSpacing;return e(i).createElement(c.default,{editorView:n,eventDispatcher:r,plugins:{mediaPlugin:o},render:function(t){var n,r=t.mediaPlugin;return null!=r&&r.allowsUploads?e(i).createElement(s.default,{buttonId:s.TOOLBAR_BUTTON.MEDIA,onClick:(n=r,function(){return n.showMediaPicker(),!0}),disabled:l,title:"Files & images",spacing:u?"none":"default",iconBefore:e(i).createElement(e(a),{label:"Files & images"})}):null}})}})),r.register("bhO1C",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M17.222 11.557L12.11 16.64a3.012 3.012 0 01-4.238.004 2.97 2.97 0 01.002-4.21L13.339 7a1.75 1.75 0 012.472-.002c.683.679.684 1.775.002 2.452l-5.126 5.095a.493.493 0 01-.699-.007.488.488 0 010-.701l4.764-4.735a.74.74 0 000-1.052.752.752 0 00-1.058 0L8.93 12.785a1.97 1.97 0 000 2.805c.781.777 2.038.78 2.816.007l5.126-5.094a3.206 3.206 0 00-.003-4.557 3.253 3.253 0 00-4.589.002l-5.466 5.433a4.451 4.451 0 00-.001 6.314 4.516 4.516 0 006.355-.004l5.113-5.081a.74.74 0 000-1.053.752.752 0 00-1.059 0z" fill="currentColor"/></svg>'},e));a.displayName="EditorAttachmentIcon";var s=a;e.exports.default=s})),r.register("bJpEt",(function(n,o){t(n.exports,"ReactMediaGroupNode",(function(){return A}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");r("igW5C");var h=r("MsgJD"),g=r("eZURw");r("gyEpm");var m=r("esOow"),v=r("61szk"),b=r("22Hec"),y=r("hHskd"),E=r("4s4wW");r("9J8af");var x=r("eXD27"),k=r("lGsoF"),C=r("6CSp2"),S=r("bjJNi"),T=r("ja3Pn");function O(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var w=function(e){return k.isNodeSelectedOrInRange(e.anchorPos,e.headPos,e.getPos(),e.node.nodeSize)},N=function(t){e(u)(r,t);var n=O(r);function r(t){var o;return e(s)(this,r),o=n.call(this,t),e(p)(e(l)(o),"state",{viewMediaClientConfig:void 0}),e(p)(e(l)(o),"updateNodeAttrs",(function(e){var t=e.view,n=e.mediaProvider,r=e.contextIdentifierProvider;o.mediaNodes.forEach((function(e){new T.MediaNodeUpdater({view:t,mediaProvider:n,contextIdentifierProvider:r,node:e,isMediaSingle:!1}).updateFileAttrs(!1)}))})),e(p)(e(l)(o),"setMediaItems",(function(e){var t=e.node;o.mediaNodes=[],t.forEach((function(t,n){o.mediaPluginState.mediaGroupNodes[t.attrs.id]={node:t,getPos:function(){return e.getPos()+n+1}},o.mediaNodes.push(t)}))})),e(p)(e(l)(o),"getIdentifier",(function(e){return"external"===e.attrs.type?{mediaItemType:"external-image",dataURI:e.attrs.url}:{id:e.attrs.id,mediaItemType:"file",collectionName:e.attrs.collection}})),e(p)(e(l)(o),"isNodeSelected",(function(e){var t=w(o.props);return t===k.SelectedState.selectedInRange||t===k.SelectedState.selectedInside&&o.props.anchorPos===e})),e(p)(e(l)(o),"renderChildNodes",(function(){var t=o.state.viewMediaClientConfig,n=o.props,r=n.getPos,i=n.allowLazyLoading,a=n.disabled,s=n.mediaOptions,c=o.mediaNodes.map((function(t,n){var s=function(){return r()+n+1};return{identifier:o.getIdentifier(t),isLazy:i,selected:o.isNodeSelected(s()),onClick:function(){x.setNodeSelection(o.props.view,s())},actions:[{handler:a?function(){}:o.mediaPluginState.handleMediaNodeRemoval.bind(null,void 0,s),icon:e(v).createElement(e(g),{label:"delete"})}]}}));return e(v).createElement(m.Filmstrip,{items:c,mediaClientConfig:t,featureFlags:s.featureFlags})})),o.mediaNodes=[],o.mediaPluginState=S.stateKey.getState(t.view.state),o.setMediaItems(t),o.state={viewMediaClientConfig:void 0},o}return e(c)(r,[{key:"componentDidMount",value:function(){var t=this;this.updateMediaClientConfig(),this.mediaNodes.forEach(function(){var n=e(a)(e(i).mark((function n(r){var o,a,s,c,l;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("external"!==r.attrs.type){e.next=2;break}return e.abrupt("return");case 2:if(o=t.props,a=o.view,s=o.mediaProvider,c=o.contextIdentifierProvider,l=new T.MediaNodeUpdater({view:a,mediaProvider:s,contextIdentifierProvider:c,node:r,isMediaSingle:!1}),l.getNodeContextId()){e.next=8;break}return e.next=8,l.updateContextId();case 8:return e.next=10,l.hasDifferentContextId();case 10:if(!e.sent){e.next=14;break}return e.next=14,l.copyNode();case 14:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.updateMediaClientConfig(),this.setMediaItems(e),!1!==e.isCopyPasteEnabled&&this.updateNodeAttrs(e)}},{key:"shouldComponentUpdate",value:function(e){return t=this.props,n=e,w(t)!==w(n)||w(n)===k.SelectedState.selectedInside&&t.anchorPos!==n.anchorPos||this.props.node!==e.node||this.state.viewMediaClientConfig!==this.mediaPluginState.mediaClientConfig;var t,n}},{key:"updateMediaClientConfig",value:function(){var e=this.state.viewMediaClientConfig,t=this.mediaPluginState.mediaClientConfig;!e&&t&&this.setState({viewMediaClientConfig:t})}},{key:"render",value:function(){return this.renderChildNodes()}}]),r}(e(v).Component);e(p)(N,"displayName","MediaGroup");var P=function(t){e(u)(r,t);var n=O(r);function r(){return e(s)(this,r),n.apply(this,arguments)}return e(c)(r,[{key:"render",value:function(t,n){var r=this,o=t.providerFactory,i=t.mediaOptions,a=this.getPos;return e(v).createElement(h.WithProviders,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:o,renderNode:function(t){var o=t.mediaProvider,s=t.contextIdentifierProvider;return e(v).createElement(E.default,{editorView:r.view,plugins:{reactNodeViewState:y.stateKey,editorDisabledPlugin:C.pluginKey},render:function(t){var c=t.editorDisabledPlugin;return o?e(v).createElement(N,{node:r.node,getPos:a,view:r.view,forwardRef:n,disabled:(c||{}).editorDisabled,allowLazyLoading:i.allowLazyLoading,mediaProvider:o,contextIdentifierProvider:s,isCopyPasteEnabled:i.isCopyPasteEnabled,anchorPos:r.view.state.selection.$anchor.pos,headPos:r.view.state.selection.$head.pos,mediaOptions:i}):null}})}})}}]),r}(b.default),A=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o,i,a){return new P(o,i,a,e,t,{providerFactory:n,mediaOptions:r}).init()}}})),r.register("gyEpm",(function(e,n){t(e.exports,"FilmstripView",(function(){return r("9CUKh").FilmstripView})),t(e.exports,"Filmstrip",(function(){return r("esOow").Filmstrip}));r("9CUKh"),r("esOow")})),r.register("9CUKh",(function(n,o){t(n.exports,"FilmstripView",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("3o5LM"),h=r("1i95h"),g=r("hbY91"),m=r("f0XCN");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b={attributes:!0,childList:!0,subtree:!0,characterData:!0},y=function(t){var n=t.onClick;return e(f).createElement(m.ShadowLeft,null,e(f).createElement(m.ArrowLeftWrapper,{className:"arrow",onClick:n},e(f).createElement(e(p),{label:"left"})))},E=function(t){var n=t.onClick;return e(f).createElement(m.ShadowRight,null,e(f).createElement(m.ArrowRightWrapper,{className:"arrow",onClick:n},e(f).createElement(e(h),{label:"right"})))},x=function(t){e(c)(r,t);var n=v(r);function r(t){var o;e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"previousOffset",0),e(d)(e(s)(o),"state",{bufferWidth:0,windowWidth:0}),e(d)(e(s)(o),"handleSizeChange",(function(){var t=e(s)(o),n=t.windowElement,r=t.bufferElement,i=0,a=0,c=[];if(n&&r){i=r.getBoundingClientRect().width,a=n.getBoundingClientRect().width;var l=Array.prototype.slice.call(r.children,0),u=0;c=l.map((function(e,t){var n=e.getBoundingClientRect().width,r={left:u,right:u+n-1};return u+=n,r}))}var d=o.state,f=d.bufferWidth,p=d.windowWidth;i===f&&a===p||o.setState({bufferWidth:i,windowWidth:a},(function(){o.childOffsets=c;var e=o.props.onSize;e&&e({offset:Math.min(o.maxOffset,o.offset),offsets:c,width:a,minOffset:o.minOffset,maxOffset:o.maxOffset})}))})),e(d)(e(s)(o),"handleWindowElementChange",(function(e){o.windowElement=e,o.handleSizeChange()})),e(d)(e(s)(o),"handleBufferElementChange",(function(e){e&&(o.bufferElement=e,o.handleSizeChange(),o.initMutationObserver())})),e(d)(e(s)(o),"handleMutation",(function(e){o.handleSizeChange()})),e(d)(e(s)(o),"handleLeftClick",(function(e){e.stopPropagation();var t=o.props.onScroll;if(t){var n=o.state.windowWidth;t({direction:"left",offset:o.getClosestForLeft(o.offset-n),animate:!0})}})),e(d)(e(s)(o),"handleRightClick",(function(e){e.stopPropagation();var t=o.props.onScroll;if(t){var n=o.state.windowWidth;t({direction:"right",offset:o.getClosestForRight(o.offset+n),animate:!0})}})),e(d)(e(s)(o),"handleScroll",(function(e){var t=Math.abs(e.deltaX)>Math.abs(e.deltaY);if(t){e.preventDefault();var n=o.props.onScroll;if(n&&t){var r=Math.max(o.minOffset,Math.min(o.maxOffset,o.offset+e.deltaX));n({direction:e.deltaX<0?"left":"right",offset:r,animate:!1})}}})),o.childOffsets=[];try{o.mutationObserver=new MutationObserver(e(g)(o.handleMutation,30,!0))}catch(e){}return o}return e(a)(r,[{key:"offset",get:function(){var e=this.props.offset;return e?Math.min(this.maxOffset,Math.max(this.minOffset,e)):0}},{key:"minOffset",get:function(){return 0}},{key:"maxOffset",get:function(){var e=this.state,t=e.bufferWidth,n=e.windowWidth;return Math.max(this.minOffset,t-n-1)}},{key:"canGoLeft",get:function(){return this.offset>this.minOffset}},{key:"canGoRight",get:function(){return this.offset<this.maxOffset}},{key:"transitionDuration",get:function(){var e=this.props.animate,t=this.state.windowWidth;if(!e)return 0;if(Math.abs(this.offset-this.previousOffset)<1e-6)return.5;var n=1-.5*(Math.abs(this.offset-this.previousOffset)/t);return Math.max(Math.min(n,1),.5)}},{key:"initMutationObserver",value:function(){var e=this.mutationObserver;e&&this.bufferElement&&(e.disconnect(),e.observe(this.bufferElement,b))}},{key:"triggerScrollEvent",value:function(){if(this.windowElement){var e=document.createEvent("MouseEvents");e.initEvent("scroll",!0,!0),this.windowElement.dispatchEvent(e)}}},{key:"getClosestForLeft",value:function(e){for(var t=Math.min(this.maxOffset,Math.max(this.minOffset,e)),n=0;n<this.childOffsets.length;++n){var r=this.childOffsets[n];if(t>=r.left&&t<=r.right){var o=r.left;return o>=4?o-4:o}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))}},{key:"getClosestForRight",value:function(e){for(var t=this.state.windowWidth,n=Math.min(this.maxOffset,Math.max(this.minOffset,e))+t,r=0;r<this.childOffsets.length;++r){var o=this.childOffsets[r];if(n>=o.left&&n<=o.right){var i=o.right-t;return i+4<=this.maxOffset?i+4:i}}return Math.min(this.maxOffset,Math.max(this.minOffset,e))}},{key:"renderLeftArrow",value:function(){return this.canGoLeft?e(f).createElement(y,{onClick:this.handleLeftClick}):null}},{key:"renderRightArrow",value:function(){return this.canGoRight?e(f).createElement(E,{onClick:this.handleRightClick}):null}},{key:"componentDidMount",value:function(){this.previousOffset=this.offset,window.addEventListener("resize",this.handleSizeChange)}},{key:"componentWillUnmount",value:function(){var e=this.mutationObserver;window.removeEventListener("resize",this.handleSizeChange),e&&e.disconnect()}},{key:"componentDidUpdate",value:function(){var e=this;this.previousOffset=this.offset,window.setTimeout((function(){return e.triggerScrollEvent()}),1e3*this.transitionDuration)}},{key:"render",value:function(){var t=this.props,n=t.animate,r=t.children,o=t.testId,i="translateX(".concat(-this.offset,"px)"),a=n?"transform":"none",s="".concat(this.transitionDuration,"s");return e(f).createElement(m.FilmStripViewWrapper,{"data-testid":o},this.renderLeftArrow(),e(f).createElement(m.FilmStripListWrapper,{innerRef:this.handleWindowElementChange,onWheel:this.handleScroll},e(f).createElement(m.FilmStripList,{innerRef:this.handleBufferElementChange,style:{transform:i,transitionProperty:a,transitionDuration:s}},e(f).Children.map(r,k))),this.renderRightArrow())}}]),r}(e(f).Component);function k(t,n){var r=function(e){return!!e.type}(t)&&t.key||n;return e(f).createElement(m.FilmStripListItem,{key:r},t)}e(d)(x,"defaultProps",{animate:!1,offset:0})})),r.register("hbY91",(function(e,t){function n(e,t,n){var r,o,i,a,s;function c(){var l=Date.now()-a;l<t&&l>=0?r=setTimeout(c,t-l):(r=null,n||(s=e.apply(i,o),i=o=null))}null==t&&(t=100);var l=function(){i=this,o=arguments,a=Date.now();var l=n&&!r;return r||(r=setTimeout(c,t)),l&&(s=e.apply(i,o),i=o=null),s};return l.clear=function(){r&&(clearTimeout(r),r=null)},l.flush=function(){r&&(s=e.apply(i,o),i=o=null,clearTimeout(r),r=null)},l}n.debounce=n,e.exports=n})),r.register("f0XCN",(function(n,o){t(n.exports,"FilmStripViewWrapper",(function(){return b})),t(n.exports,"FilmStripListWrapper",(function(){return y})),t(n.exports,"FilmStripList",(function(){return E})),t(n.exports,"FilmStripListItem",(function(){return x})),t(n.exports,"ArrowLeftWrapper",(function(){return C})),t(n.exports,"ArrowRightWrapper",(function(){return S})),t(n.exports,"ShadowLeft",(function(){return O})),t(n.exports,"ShadowRight",(function(){return w}));var i,a,s,c,l,u,d,f,p,h,g=r("lhkMJ"),m=r("SssiD"),v=r("fRks9"),b=m.default.div(i||(i=e(g)(["\n  position: relative;\n  padding: 3px 0;\n  border-radius: 3px;\n\n  &:hover .arrow {\n    opacity: 1;\n  }\n\n  .ellipsed-text {\n    white-space: initial;\n  }\n"]))),y=m.default.div(a||(a=e(g)(["\n  width: inherit;\n  overflow: hidden;\n  padding: 2px 0;\n"]))),E=m.default.ul(s||(s=e(g)(["\n  margin: 0;\n  padding: 0;\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.77, 0, 0.175, 1);\n  white-space: nowrap;\n  display: inline-block;\n"]))),x=m.default.li(c||(c=e(g)(["\n  list-style-type: none;\n  margin: 0;\n  padding: 0 4px;\n  display: inline-block;\n  vertical-align: middle;\n  /* Fixes issue with child Cards using inline-block */\n  font-size: 0;\n"]))),k=m.default.div(l||(l=e(g)(["\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  background-color: ",";\n  border-radius: 100%;\n  display: flex;\n  cursor: pointer;\n  transition: opacity 0.3s;\n  box-shadow: 0 1px 6px 0 rgba(0, 0, 0, 0.6);\n  color: black;\n  width: 30px;\n  height: 30px;\n  justify-content: center;\n  opacity: 0;\n\n  &:hover {\n    color: black;\n    background-color: ",";\n  }\n\n  &:active {\n    color: ",";\n    background-color: ",";\n  }\n\n  svg {\n    height: 30px;\n    width: 20px;\n  }\n"])),v.N20,v.N40,v.B400,v.B50),C=m.default(k)(u||(u=e(g)(["\n  left: 8px;\n\n  svg {\n    padding-right: 2px;\n  }\n"]))),S=m.default(k)(d||(d=e(g)(["\n  right: 8px;\n\n  svg {\n    padding-left: 1px;\n  }\n"]))),T=m.default.div(f||(f=e(g)(["\n  position: absolute;\n  z-index: 10;\n  height: 100%;\n  top: 0;\n  width: 2px;\n  background-color: rgba(0, 0, 0, 0.2);\n"]))),O=m.default(T)(p||(p=e(g)(["\n  left: 0;\n"]))),w=m.default(T)(h||(h=e(g)(["\n  right: 0;\n"])))})),r.register("fRks9",(function(e,n){t(e.exports,"B50",(function(){return c})),t(e.exports,"B400",(function(){return d})),t(e.exports,"N20",(function(){return p})),t(e.exports,"N40",(function(){return h}));var o=r("6o2K1"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#DEEBFF",l="#4C9AFF",u="#2684FF",d="#0052CC",f="#FFFFFF",p="#F4F5F7",h="#DFE1E6",g="#6B778C",m="#172B4D",v="#B8C7E0",b="#8C9CB8",y="#283447";o.default({light:f,dark:"#1B2638"}),o.default({light:c,dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:f,dark:y}),o.default({light:"#091E42",dark:v}),o.default({light:m,dark:v}),o.default({light:d,dark:d}),o.default({light:g,dark:b}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:m,dark:v}),o.default({light:g,dark:b}),o.default({light:p,dark:y}),o.default({light:d,dark:l}),o.default({light:"#0065FF",dark:u}),o.default({light:"#0747A6",dark:l}),o.default({light:l,dark:u}),o.default({light:d,dark:l}),o.default({light:d,dark:l}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s})})),r.register("6o2K1",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("itTJr");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("itTJr",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("esOow",(function(n,o){t(n.exports,"Filmstrip",(function(){return b}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=(p=r("61szk"),r("kw77Z")),g=r("9CUKh"),m=r("kME7d");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var b=function(t){e(l)(r,t);var n=v(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{animate:!1,offset:0}),e(f)(e(c)(t),"handleSize",(function(e){var n=e.offset;return t.setState({offset:n})})),e(f)(e(c)(t),"handleScroll",(function(e){var n=e.animate,r=e.offset;return t.setState({animate:n,offset:r})})),t}return e(s)(r,[{key:"renderCards",value:function(){var t=this.props,n=t.items,r=t.mediaClientConfig,o=t.shouldOpenMediaViewer,a=t.featureFlags,s=o?{list:n.map((function(e){return e.identifier}))}:void 0;return n.map((function(t){var n=m.generateIdentifierKey(t.identifier);return r?e(p).createElement(h.Card,e(i)({key:n,mediaClientConfig:r,dimensions:h.defaultImageCardDimensions,useInlinePlayer:!1,shouldOpenMediaViewer:o,mediaViewerDataSource:s,featureFlags:a},t)):e(p).createElement(h.CardLoading,{key:n,dimensions:h.defaultImageCardDimensions})}))}},{key:"render",value:function(){var t=this.props.testId,n=void 0===t?"media-filmstrip":t,r=this.state,o=r.animate,i=r.offset;return e(p).createElement(g.FilmstripView,{animate:o,offset:i,onSize:this.handleSize,onScroll:this.handleScroll,testId:n},this.renderCards())}}]),r}(p.Component)})),r.register("kME7d",(function(e,n){t(e.exports,"generateIdentifierKey",(function(){return i}));var r=1,o=new Map,i=function(e){switch(e.mediaItemType){case"external-image":return e.dataURI;case"file":if("string"==typeof e.id)return e.id;var t=o.get(e.id);if(t)return t;r++;var n="".concat(r);return o.set(e.id,n),n}}})),r.register("ja3Pn",(function(n,o){t(n.exports,"MediaNodeUpdater",(function(){return g}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("l15hj"),u=r("4tbIQ");r("igW5C");var d=r("5HbdK"),f=r("bKhep");r("cTu5S");var p=r("9V1f8"),h=r("1d3w7"),g=function(){function t(n){var r=this;e(s)(this,t),e(l)(this,"updateContextId",e(a)(e(i).mark((function t(){var n,o,a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((n=r.getAttrs())&&"file"===n.type){e.next=3;break}return e.abrupt("return");case 3:return o=n.id,e.next=6,r.getObjectId();case 6:a=e.sent,h.updateAllMediaNodesAttrs(o,{__contextId:a},r.props.isMediaSingle)(r.props.view.state,r.props.view.dispatch);case 8:case"end":return e.stop()}}),t)})))),e(l)(this,"hasFileAttributesDefined",(function(){var e=r.getAttrs();return e&&"file"===e.type&&e.__fileName&&e.__fileMimeType&&e.__fileSize&&e.__contextId})),e(l)(this,"updateFileAttrs",e(a)(e(i).mark((function t(){var n,o,a,s,c,l,u,d,p,g,v,b,y,E=arguments;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(E.length>0&&void 0!==E[0])||E[0],o=r.getAttrs(),e.next=4,r.props.mediaProvider;case 4:if((a=e.sent)&&a.uploadParams&&o&&"file"===o.type&&!r.hasFileAttributesDefined()){e.next=7;break}return e.abrupt("return");case 7:return s=a.viewMediaClientConfig,c=f.getMediaClient(s),l={collectionName:o.collection},e.prev=10,e.next=13,c.file.getCurrentState(o.id,l);case 13:if("error"!==(u=e.sent).status){e.next=16;break}return e.abrupt("return");case 16:e.next=21;break;case 18:return e.prev=18,e.t0=e.catch(10),e.abrupt("return");case 21:if(e.t1=r.getNodeContextId(),e.t1){e.next=26;break}return e.next=25,r.getObjectId();case 25:e.t1=e.sent;case 26:d=e.t1,g=(p=u).name,v=p.mimeType,b=p.size,m(o,y={__fileName:g,__fileMimeType:v,__fileSize:b,__contextId:d})&&h.updateAllMediaNodesAttrs(o.id,y,n)(r.props.view.state,r.props.view.dispatch);case 31:case"end":return e.stop()}}),t,null,[[10,18]])})))),e(l)(this,"getAttrs",(function(){var e=r.props.node.attrs;if(e)return e})),e(l)(this,"getObjectId",e(a)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.contextIdentifierProvider;case 2:return n=e.sent,e.abrupt("return",n&&n.objectId);case 4:case"end":return e.stop()}}),t)})))),e(l)(this,"uploadExternalMedia",function(){var t=e(a)(e(i).mark((function t(n){var o,a,s,c,l,u,d,g;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=r.props.node,e.next=3,r.props.mediaProvider;case 3:if(a=e.sent,!o||!a){e.next=21;break}if((s=a.uploadMediaClientConfig)&&o.attrs.url){e.next=8;break}return e.abrupt("return");case 8:return c=f.getMediaClient(s),l=a.uploadParams&&a.uploadParams.collection,e.prev=10,e.next=13,c.file.uploadExternal(o.attrs.url,l);case 13:u=e.sent,d=u.uploadableFileUpfrontIds,g=u.dimensions,h.replaceExternalMedia(n()+1,{id:d.id,collection:l,height:g.height,width:g.width,occurrenceKey:d.occurrenceKey})(r.props.view.state,r.props.view.dispatch),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(10),r.props.dispatchAnalyticsEvent&&r.props.dispatchAnalyticsEvent({action:p.ACTION.UPLOAD_EXTERNAL_FAIL,actionSubject:p.ACTION_SUBJECT.EDITOR,eventType:p.EVENT_TYPE.OPERATIONAL});case 21:case"end":return e.stop()}}),t,null,[[10,18]])})));return function(e){return t.apply(this,arguments)}}()),e(l)(this,"getNodeContextId",(function(){var e=r.getAttrs();if(e&&"file"===e.type)return e.__contextId})),e(l)(this,"updateDimensions",(function(e){h.updateAllMediaNodesAttrs(e.id,{height:e.height,width:e.width},!0)(r.props.view.state,r.props.view.dispatch)})),e(l)(this,"hasDifferentContextId",e(a)(e(i).mark((function t(){var n,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.getNodeContextId(),e.next=3,r.getObjectId();case 3:if(o=e.sent,!n||!o||n===o){e.next=6;break}return e.abrupt("return",!0);case 6:return e.abrupt("return",!1);case 7:case"end":return e.stop()}}),t)})))),e(l)(this,"isNodeFromDifferentCollection",e(a)(e(i).mark((function t(){var n,o,a,s,c;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.props.mediaProvider;case 2:if((n=e.sent)&&n.uploadParams){e.next=5;break}return e.abrupt("return",!1);case 5:if(o=n.uploadParams.collection,(a=r.getAttrs())&&"file"===a.type){e.next=9;break}return e.abrupt("return",!1);case 9:if(s=a.collection,c=a.__contextId,e.t0=c,e.t0){e.next=15;break}return e.next=14,r.getObjectId();case 14:e.t0=e.sent;case 15:if(!e.t0||o===s){e.next=18;break}return e.abrupt("return",!0);case 18:return e.abrupt("return",!1);case 19:case"end":return e.stop()}}),t)})))),e(l)(this,"copyNodeFromBlobUrl",function(){var t=e(a)(e(i).mark((function t(n){var o,a,s,c,l,d,p,g,m,v,b,y,E,x,k,C,S,T,O;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((o=r.getAttrs())&&"external"===o.type){t.next=3;break}return t.abrupt("return");case 3:if(a=o.url,s=f.getAttrsFromUrl(a)){t.next=7;break}return t.abrupt("return");case 7:return t.next=9,r.props.mediaProvider;case 9:if((c=t.sent)&&c.uploadParams){t.next=12;break}return t.abrupt("return");case 12:if(l=c.uploadParams.collection,d=s.contextId,p=s.id,g=s.collection,m=s.height,v=s.width,b=s.mimeType,y=s.name,E=s.size,(x=c.uploadMediaClientConfig)&&x.getAuthFromContext){t.next=17;break}return t.abrupt("return");case 17:return k=f.getMediaClient(x),t.next=20,x.getAuthFromContext(d);case 20:return C=t.sent,S={id:p,collection:g,authProvider:function(){return Promise.resolve(C)}},T={collection:l,authProvider:x.authProvider,occurrenceKey:e(u)()},t.next=25,k.file.copyFile(S,T);case 25:O=t.sent,h.replaceExternalMedia(n()+1,{id:O.id,collection:l,height:m,width:v,__fileName:y,__fileMimeType:b,__fileSize:E})(r.props.view.state,r.props.view.dispatch);case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e(l)(this,"copyNode",e(a)(e(i).mark((function t(){var n,o,a,s,c,l,d,p,g,m,v,b,y,E,x,k;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.props.mediaProvider;case 2:if(n=t.sent,o=r.props,a=o.isMediaSingle,s=o.view,c=r.getAttrs(),n&&n.uploadParams&&c&&"file"===c.type){t.next=7;break}return t.abrupt("return");case 7:if(l=r.getNodeContextId(),!((d=n.uploadMediaClientConfig)&&d.getAuthFromContext&&l)){t.next=25;break}return p=f.getMediaClient(d),t.next=13,d.getAuthFromContext(l);case 13:return g=t.sent,t.next=16,r.getObjectId();case 16:return m=t.sent,v=c.id,b=c.collection,y={id:v,collection:b,authProvider:function(){return Promise.resolve(g)}},E=n.uploadParams.collection,x={collection:E,authProvider:d.authProvider,occurrenceKey:e(u)()},t.next=23,p.file.copyFile(y,x);case 23:k=t.sent,h.updateMediaNodeAttrs(y.id,{id:k.id,collection:E,__contextId:m},a)(s.state,s.dispatch);case 25:case"end":return t.stop()}}),t)})))),this.props=n}var n,r;return e(c)(t,[{key:"isMediaBlobUrl",value:function(){var e=this.getAttrs();return!(!e||"external"!==e.type||!f.isMediaBlobUrl(e.url))}},{key:"getRemoteDimensions",value:(r=e(a)(e(i).mark((function t(){var n,r,o,a,s,c,l,u,p,h,g;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.props.mediaProvider;case 2:if(n=e.sent,r=this.props.mediaOptions,o=this.getAttrs(),n&&o){e.next=7;break}return e.abrupt("return",!1);case 7:if(a=o.height,s=o.width,"external"!==o.type&&o.id){e.next=10;break}return e.abrupt("return",!1);case 10:if(c=o.id,l=o.collection,!a||!s){e.next=13;break}return e.abrupt("return",!1);case 13:if(!r||r.allowRemoteDimensionsFetch){e.next=15;break}return e.abrupt("return",{id:c,height:d.DEFAULT_IMAGE_HEIGHT,width:d.DEFAULT_IMAGE_WIDTH});case 15:return u=n.viewMediaClientConfig,p=f.getMediaClient(u),e.next=19,p.file.getCurrentState(c,{collectionName:l});case 19:if(h=e.sent,f.isImageRepresentationReady(h)){e.next=22;break}return e.abrupt("return",!1);case 22:return e.next=24,p.getImageMetadata(c,{collection:l});case 24:if((g=e.sent)&&g.original){e.next=27;break}return e.abrupt("return",!1);case 27:return e.abrupt("return",{id:c,height:g.original.height||d.DEFAULT_IMAGE_HEIGHT,width:g.original.width||d.DEFAULT_IMAGE_WIDTH});case 28:case"end":return e.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"handleExternalMedia",value:(n=e(a)(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isMediaBlobUrl()){e.next=12;break}return e.prev=1,e.next=4,this.copyNodeFromBlobUrl(n);case 4:e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(1),e.next=10,this.uploadExternalMedia(n);case 10:e.next=14;break;case 12:return e.next=14,this.uploadExternalMedia(n);case 14:case"end":return e.stop()}}),t,this,[[1,6]])}))),function(e){return n.apply(this,arguments)})}]),t}(),m=function(e,t){return e.__fileName!==t.__fileName||e.__fileMimeType!==t.__fileMimeType||e.__fileSize!==t.__fileSize||e.__contextId!==t.__contextId}})),r.register("6KU4N",(function(n,o){t(n.exports,"ReactMediaSingleNode",(function(){return V}));var i=r("auQQv"),a=r("jgze0"),s=r("9ePZF"),c=r("cNgp7"),l=r("go2dD"),u=r("4NDMl"),d=r("47NZN"),f=r("9OLyr"),p=r("89Kz4"),h=r("eP3fJ"),g=r("l15hj"),m=r("61szk");m=r("61szk");r("igW5C");var v=r("5HbdK"),b=r("4W5Y2"),y=r("MsgJD"),E=r("lGsoF"),x=r("4s4wW"),k=r("9D9P7");r("9J8af");var C=r("eXD27"),S=r("aRJdf"),T=r("anYE1");r("g3M1k");var O=r("bjJNi"),w=r("ja3Pn"),N=r("iFBc4"),P=r("bKnyF"),A=r("1Dhom"),I=r("1vMV4"),D=r("bKhep"),R=r("laj9D"),M=r("2qBZt"),_=r("22Hec"),j=r("ku9OP"),B=r("eBSbE"),L=r("cUpYZ");function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?F(Object(r),!0).forEach((function(n){e(g)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function W(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(h)(t);if(n){var i=e(h)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(p)(this,r)}}var U=function(t){e(f)(o,t);var n,r=W(o);function o(){var t;e(l)(this,o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=r.call.apply(r,[this].concat(i)),e(g)(e(d)(t),"state",{width:void 0,height:void 0,viewMediaClientConfig:void 0,isCopying:!1}),e(g)(e(d)(t),"createMediaNodeUpdater",(function(e){var n=t.props.node.firstChild;return new w.MediaNodeUpdater(z(z({},e),{},{isMediaSingle:!0,node:n||t.props.node,dispatchAnalyticsEvent:t.props.dispatchAnalyticsEvent}))})),e(g)(e(d)(t),"setViewMediaClientConfig",function(){var n=e(c)(e(s).mark((function n(r){var o,i;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.mediaProvider;case 2:(o=e.sent)&&(i=o.viewMediaClientConfig,t.setState({viewMediaClientConfig:i}));case 4:case"end":return e.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()),e(g)(e(d)(t),"updateMediaNodeAttributes",function(){var n=e(c)(e(s).mark((function n(r){var o,i,a,c,l,u;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t.createMediaNodeUpdater(r),i=t.props.mediaPluginState.addPendingTask,a=t.props.node.firstChild){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,o.getRemoteDimensions();case 7:if((c=e.sent)&&o.updateDimensions(c),"external"!==a.attrs.type||!a.attrs.__external){e.next=15;break}return l=o.handleExternalMedia(t.props.getPos),i(l),e.next=14,l;case 14:return e.abrupt("return");case 15:if(o.getNodeContextId()){e.next=19;break}return e.next=19,o.updateContextId();case 19:return e.next=21,o.hasDifferentContextId();case 21:if(!e.sent){e.next=34;break}return t.setState({isCopying:!0}),e.prev=24,u=o.copyNode(),i(u),e.next=29,u;case 29:e.next=34;break;case 31:e.prev=31,e.t0=e.catch(24),t.setState({isCopying:!1});case 34:case"end":return e.stop()}}),n,null,[[24,31]])})));return function(e){return n.apply(this,arguments)}}()),e(g)(e(d)(t),"selectMediaSingle",(function(e){var n=e.event;n.stopPropagation();var r=t.props.getPos(),o=t.props.view.state;if(n.shiftKey){if(o.selection instanceof P.CellSelection)return;C.setTextSelection(t.props.view,o.selection.from<r?o.selection.from:r,o.selection.to>r?o.selection.to:r+3)}else C.setNodeSelection(t.props.view,r)})),e(g)(e(d)(t),"updateSize",(function(e,n){var r=t.props.view,o=r.state,i=r.dispatch,a=t.props.getPos();if(void 0!==a){var s=o.tr.setNodeMarkup(a,void 0,z(z({},t.props.node.attrs),{},{layout:n,width:e}));return s.setMeta("scrollIntoView",!1),i(s)}})),e(g)(e(d)(t),"clickPlaceholder",(function(){var e=t.props,n=e.view,r=e.getPos,o=e.node;"boolean"!=typeof r&&L.insertAndSelectCaptionFromMediaSinglePos(r(),o)(n.state,n.dispatch)})),e(g)(e(d)(t),"getLineLength",(function(e,t){if(I.isRichMediaInsideOfBlockNode(e,t)){var n=e.state.doc.resolve(t),r=e.nodeDOM(n.pos);if(n.nodeAfter&&I.floatingLayouts.indexOf(n.nodeAfter.attrs.layout)>-1&&r&&r.parentElement)return r.parentElement.offsetWidth;if(r instanceof HTMLElement)return r.offsetWidth}return null})),t}return e(u)(o,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.mediaProvider!==this.props.mediaProvider&&this.setViewMediaClientConfig(e),!1!==e.isCopyPasteEnabled&&this.createMediaNodeUpdater(e).updateFileAttrs()}},{key:"componentDidMount",value:(n=e(c)(e(s).mark((function t(){var n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.contextIdentifierProvider,e.next=3,Promise.all([this.setViewMediaClientConfig(this.props),this.updateMediaNodeAttributes(this.props)]);case 3:return e.t0=this,e.next=6,n;case 6:e.t1=e.sent,e.t2={contextIdentifierProvider:e.t1},e.t0.setState.call(e.t0,e.t2);case 9:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,n=t.selected,r=t.getPos,o=t.node,i=t.mediaOptions,s=t.fullWidthMode,c=t.view.state,l=t.view,u=o.attrs,d=u.layout,f=u.width,p=o.firstChild.attrs,h=p.width,g=p.height;if("external"===p.type){if(R.isMediaBlobUrlFromAttrs(p)){var b=D.getAttrsFromUrl(p.url);if(b){var y=b.width,E=b.height;h=h||y,g=g||E}}var x=this.state,k=x.width,C=x.height;null===h&&(h=k||v.DEFAULT_IMAGE_WIDTH),null===g&&(g=C||v.DEFAULT_IMAGE_HEIGHT)}h&&g||(h=v.DEFAULT_IMAGE_WIDTH,g=v.DEFAULT_IMAGE_HEIGHT);var O={layout:d,width:h,height:g,containerWidth:this.props.width,lineLength:this.props.lineLength,pctWidth:f,fullWidthMode:s,hasFallbackContainer:!1},w=!!this.props.mediaOptions.allowResizing;if(!this.props.mediaOptions.allowResizingInTables){var P=r();if(P){var I=c.doc.resolve(P),_=c.schema.nodes.table,L=!!N.findParentNodeOfTypeClosestToPos(I,[_]);w=w&&!L}}var F=this.getLineLength(l,r())||this.props.lineLength,z=n(),W=M.getMediaFeatureFlag("captions",i.featureFlags)&&2!==o.childCount&&z&&c.selection instanceof B.NodeSelection,U=e(m).createElement(A.FigureWrapper,null,e(m).createElement("div",{ref:this.props.forwardRef}),W&&e(m).createElement(j.default,{onClick:this.clickPlaceholder}));return w?e(m).createElement(S.default,e(a)({},O,{lineLength:F,view:this.props.view,getPos:r,updateSize:this.updateSize,displayGrid:T.createDisplayGrid(this.props.eventDispatcher),gridSize:12,viewMediaClientConfig:this.state.viewMediaClientConfig,allowBreakoutSnapPoints:i&&i.allowBreakoutSnapPoints,selected:z,dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),U):e(m).createElement(v.default,O,U)}}]),o}(m.Component);e(g)(U,"defaultProps",{mediaOptions:{}}),e(g)(U,"displayName","MediaSingleNode");var H=function(t){e(f)(r,t);var n=W(r);function r(){var t;e(l)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i)),e(g)(e(d)(t),"lastOffsetLeft",0),e(g)(e(d)(t),"forceViewUpdate",!1),e(g)(e(d)(t),"selectionType",null),e(g)(e(d)(t),"checkAndUpdateSelectionType",(function(){var e=t.getPos,n=t.view.state.selection,r=E.isNodeSelectedOrInRange(n.$anchor.pos,n.$head.pos,e(),t.node.nodeSize);return t.selectionType=r,r})),e(g)(e(d)(t),"isNodeSelected",(function(){return t.checkAndUpdateSelectionType(),null!==t.selectionType})),t}return e(u)(r,[{key:"createDomRef",value:function(){var e=document.createElement("div");return b.default.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.classList.add("media-content-wrap"),{dom:e}}},{key:"viewShouldUpdate",value:function(t){return this.forceViewUpdate?(this.forceViewUpdate=!1,!0):this.node.attrs!==t.attrs||(this.selectionType!==this.checkAndUpdateSelectionType()||(this.node.childCount!==t.childCount||e(i)(e(h)(r.prototype),"viewShouldUpdate",this).call(this,t)))}},{key:"getNodeMediaId",value:function(e){if(e.firstChild)return e.firstChild.attrs.id}},{key:"update",value:function(t,n,o){var a=this;return o||(o=function(e,t){return a.getNodeMediaId(e)===a.getNodeMediaId(t)}),e(i)(e(h)(r.prototype),"update",this).call(this,t,n,o)}},{key:"render",value:function(t,n){var r=this,o=this.reactComponentProps,i=o.eventDispatcher,a=o.fullWidthMode,s=o.providerFactory,c=o.mediaOptions,l=o.dispatchAnalyticsEvent,u=this.getPos;return e(m).createElement(y.WithProviders,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:s,renderNode:function(t){var o=t.mediaProvider,s=t.contextIdentifierProvider;return e(m).createElement(x.default,{editorView:r.view,plugins:{width:k.pluginKey,mediaPluginState:O.stateKey},render:function(t){var d=t.width,f=t.mediaPluginState;return e(m).createElement(U,{width:d.width,lineLength:d.lineLength,node:r.node,getPos:u,mediaProvider:o,contextIdentifierProvider:s,mediaOptions:c,view:r.view,fullWidthMode:a,selected:r.isNodeSelected,eventDispatcher:i,mediaPluginState:f,dispatchAnalyticsEvent:l,forwardRef:n})}})}})}},{key:"ignoreMutation",value:function(){if(this.dom){var e=this.dom.offsetLeft;e!==this.lastOffsetLeft&&(this.lastOffsetLeft=e,this.forceViewUpdate=!0,this.update(this.node,[],(function(){return!0})))}return!0}}]),r}(_.default),V=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return function(i,a,s){return new H(i,a,s,e,t,{eventDispatcher:t,fullWidthMode:o.fullWidthEnabled,providerFactory:n,mediaOptions:o,dispatchAnalyticsEvent:r,isCopyPasteEnabled:o.isCopyPasteEnabled}).init()}}})),r.register("aRJdf",(function(n,o){t(n.exports,"default",(function(){return N}));var i=r("jgze0"),a=r("9ePZF"),s=r("cNgp7"),c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("61szk"),m=r("iFBc4"),v=r("bKhep");r("igW5C");var b=r("jWbVn"),y=r("5HbdK");r("8iml0");var E=r("82cWi"),x=r("1GE1I"),k=r("1GQOI"),C=r("iobnI"),S=r("e3QKe"),T=r("hIqrF"),O=r("1vMV4");function w(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var N=function(t){e(d)(f,t);var n,r,o=w(f);function f(){var t;e(c)(this,f);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(h)(e(u)(t),"state",{offsetLeft:P(t.insideInlineLike,t.insideLayout,t.props.view.dom,void 0),isVideoFile:!0}),e(h)(e(u)(t),"calcNewSize",(function(e,n){var r=t.props,o=r.layout,i=r.view.state,a=100*b.calcPctFromPx(e,t.props.lineLength);t.setState({resizedPctWidth:a});var s=m.hasParentNodeOfType(i.schema.nodes.table)(i.selection)?o:t.calcUnwrappedLayout(a,e);return a<=100?(!t.wrappedLayout||n&&100===a||(s=o),{width:a,layout:s}):{width:t.props.pctWidth||null,layout:s}})),e(h)(e(u)(t),"calcUnwrappedLayout",(function(e,t){return e<=100?"center":t<=E.akEditorWideLayoutWidth?"wide":"full-width"})),e(h)(e(u)(t),"calcColumnLeftOffset",(function(){var e=t.state.offsetLeft;return t.insideInlineLike?b.calcColumnsFromPx(e,t.props.lineLength,t.props.gridSize):0})),e(h)(e(u)(t),"calcPxWidth",(function(e){var n=t.props,r=n.width,o=void 0===r?0:r,i=n.height,a=n.layout,s=n.pctWidth,c=n.lineLength,l=n.containerWidth,u=n.fullWidthMode,d=n.getPos,f=n.view.state,p="function"==typeof d?d():void 0;return S.calcMediaPxWidth({origWidth:o,origHeight:i,pctWidth:s,state:f,containerWidth:{width:l,lineLength:c},isFullWidthModeEnabled:u,layout:e||a,pos:p})})),e(h)(e(u)(t),"highlights",(function(e,n){var r=C.snapTo(e,n),o=t.props.view.state.schema.nodes,i=o.layoutColumn,a=o.table,s=o.expand,c=o.nestedExpand;if(t.$pos&&m.findParentNodeOfTypeClosestToPos(t.$pos,[i,a,s,c].filter(Boolean)))return[];if(r>E.akEditorWideLayoutWidth)return["full-width"];var l=t.props,u=l.layout,d=l.lineLength,f=l.gridSize,p=b.calcColumnsFromPx(r,d,f),h=Math.round(p),g=[];return"wrap-left"===u||"align-start"===u?g.push(0,h):"wrap-right"===u||"align-end"===u?g.push(f,f-h):t.insideInlineLike?g.push(Math.round(p+t.calcColumnLeftOffset())):g.push(Math.floor((f-h)/2),Math.ceil((f+h)/2)),g})),e(h)(e(u)(t),"saveWrapper",(function(e){return t.wrapper=e})),t}return e(l)(f,[{key:"componentDidUpdate",value:function(){var e=P(this.insideInlineLike,this.insideLayout,this.props.view.dom,this.wrapper);return e!==this.state.offsetLeft&&e>=0&&this.setState({offsetLeft:e}),!0}},{key:"wrappedLayout",get:function(){return y.wrappedLayouts.indexOf(this.props.layout)>-1}},{key:"componentDidMount",value:(r=e(s)(e(a).mark((function t(){var n;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=this.props.viewMediaClientConfig)){e.next=4;break}return e.next=4,this.checkVideoFile(n);case 4:case"end":return e.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.viewMediaClientConfig!==e.viewMediaClientConfig&&this.checkVideoFile(e.viewMediaClientConfig),this.props.layout!==e.layout&&this.checkLayout(this.props.layout,e.layout)}},{key:"checkVideoFile",value:(n=e(s)(e(a).mark((function t(n){var r,o,i,s;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=this.$pos)&&n){e.next=3;break}return e.abrupt("return");case 3:if((o=this.props.view.state.doc.nodeAt(r.pos+1))&&o.attrs.id){e.next=6;break}return e.abrupt("return");case 6:return i=v.getMediaClient(n),e.prev=7,e.next=10,i.file.getCurrentState(o.attrs.id,{collectionName:o.attrs.collection});case 10:(s=e.sent)&&"error"!==s.status&&"image"===s.mediaType&&this.setState({isVideoFile:!1}),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),this.setState({isVideoFile:!1});case 17:case"end":return e.stop()}}),t,this,[[7,14]])}))),function(e){return n.apply(this,arguments)})},{key:"checkLayout",value:function(e,t){var n=this.state.resizedPctWidth;if(y.wrappedLayouts.indexOf(e)>-1&&"center"===t&&n){var r=this.calcUnwrappedLayout(n,this.calcPxWidth(t));this.props.updateSize(n,r)}}},{key:"$pos",get:function(){if("function"!=typeof this.props.getPos)return null;var e=this.props.getPos();return Number.isNaN(e)||"number"!=typeof e?null:this.props.view.state.doc.resolve(e)}},{key:"gridWidth",get:function(){var e=this.props.gridSize;return this.wrappedLayout||this.insideInlineLike?e:e/2}},{key:"insideInlineLike",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.listItem;return!!m.findParentNodeOfTypeClosestToPos(e,[t])}},{key:"insideLayout",get:function(){var e=this.$pos;if(!e)return!1;var t=this.props.view.state.schema.nodes.layoutColumn;return!!m.findParentNodeOfTypeClosestToPos(e,[t])}},{key:"render",value:function(){var t,n=this,r=this.props,o=r.width,a=r.height,s=r.layout,c=r.pctWidth,l=r.containerWidth,u=r.fullWidthMode,d=r.selected,f=r.view.state,p=r.children,h=this.calcPxWidth();o&&(t=(a/o*100).toFixed(3));var m={};C.handleSides.forEach((function(e){var t="left"===e?"right":"left";m[e]=["full-width","wide","center"].concat("wrap-".concat(t)).concat("align-".concat(C.imageAlignmentMap[t])).indexOf(s)>-1,"left"===e&&n.insideInlineLike&&(m[e]=!1)}));var v={$pos:this.$pos,akEditorWideLayoutWidth:E.akEditorWideLayoutWidth,allowBreakoutSnapPoints:this.props.allowBreakoutSnapPoints,containerWidth:this.props.containerWidth,gridSize:this.props.gridSize,gridWidth:this.gridWidth,insideInlineLike:this.insideInlineLike,insideLayout:this.insideLayout,isVideoFile:this.state.isVideoFile,lineLength:this.props.lineLength,offsetLeft:this.state.offsetLeft,wrappedLayout:this.wrappedLayout};return e(g).createElement(x.Wrapper,{layout:s,isResized:!!c,containerWidth:l||o,innerRef:this.saveWrapper,fullWidthMode:u},e(g).createElement(k.default,e(i)({},this.props,{ratio:t,width:h,selected:d,enable:m,calcNewSize:this.calcNewSize,snapPoints:O.calculateSnapPoints(v),scaleFactor:this.wrappedLayout||this.insideInlineLike?1:2,highlights:this.highlights,handleResizeStart:function(){var e=T.getPluginState(f);return!e||!e.dragging},nodeType:"media",dispatchAnalyticsEvent:this.props.dispatchAnalyticsEvent}),p))}}]),f}(e(g).Component);function P(e,t,n,r){var o=0;r&&e&&!t&&(o=r.getBoundingClientRect().left-n.getBoundingClientRect().left);return o}})),r.register("1GE1I",(function(n,o){t(n.exports,"Wrapper",(function(){return c}));var i=r("lhkMJ");r("igW5C");var a,s=r("2wi7d"),c=r("SssiD").default.div(a||(a=e(i)(["\n  & > div {\n    ",";\n    position: relative;\n    clear: both;\n  }\n"])),s.MediaSingleDimensionHelper);c.displayName="ResizerWrapper"})),r.register("c10OR",(function(n,o){t(n.exports,"floatingToolbar",(function(){return O}));var i=r("l15hj"),a=r("fw3Q6"),s=r("61szk"),c=r("iFBc4"),l=r("iOuu2"),u=r("ch3px"),d=r("bjJNi"),f=r("hIycq"),p=r("3KeBv"),h=r("3ErPw"),g=r("7YbhR"),m=r("4gnUe"),v=r("gQjTK"),b=r("Rqf8R"),y=r("2botu"),E=r("pko8V");r("cTu5S");var x=r("hNVBR"),k=r("9V1f8");function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var T=function(e,t){return t&&t(c.removeSelectedNode(e.tr)),!0},O=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=r.providerFactory,i=r.allowResizing,c=r.allowAnnotation,C=r.allowLinking,O=r.allowAdvancedToolBarOptions,w=r.allowResizingInTables,N=r.allowAltTextOnImages,P=r.altTextValidator,A=t.schema.nodes.mediaSingle,I=d.stateKey.getState(t),D=m.getMediaLinkingState(t);if(A&&I){var R={title:"Media floating controls",nodeType:A,getDomRef:function(){return I.element}};if(C&&D&&D.visible&&h.shouldShowMediaLinkToolbar(t)){var M=h.getLinkingToolbar(R,D,t,n,o);if(M)return M}var _=[];if(O&&((_=g.default(t,n,t.schema.nodes.mediaSingle,i,w)).length&&c&&_.push({type:"custom",fallback:[],render:p.renderAnnotationButton(I,n)}),_.length&&_.push({type:"separator"}),C&&h.shouldShowMediaLinkToolbar(t)&&_.push({type:"custom",fallback:[],render:function(t,r){if(null!=t&&t.state){var o=function(){if(t){var e=t.state,n=t.dispatch;y.showLinkingToolbar(e,n)}};return e(s).createElement(E.LinkToolbarAppearance,{key:r,editorState:t.state,intl:n,mediaLinkingState:D,onAddLink:o,onEditLink:o,onOpenLink:function(){if(t){var e=t.state;return(0,t.dispatch)(x.addAnalytics(e,e.tr,{eventType:k.EVENT_TYPE.TRACK,action:k.ACTION.VISITED,actionSubject:k.ACTION_SUBJECT.MEDIA,actionSubjectId:k.ACTION_SUBJECT_ID.LINK})),!0}}})}return null}})),N){var j=v.getPluginState(t);if(j.isAltTextEditorOpen)return b.getAltTextToolbar(R,{altTextValidator:P});_.push(b.altTextButton(n,t),{type:"separator"})}var B=[].concat(e(a)(_),[{id:"editor.media.delete",type:"button",appearance:"danger",icon:e(l),onMouseEnter:f.hoverDecoration(A,!0),onMouseLeave:f.hoverDecoration(A,!1),title:n.formatMessage(u.default.remove),onClick:T,testId:"media-toolbar-remove-button"}]);return S(S({},R),{},{items:B})}}})),r.register("3KeBv",(function(n,o){t(n.exports,"renderAnnotationButton",(function(){return w}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("hKagn"),m=r("bKhep"),v=r("2Zops"),b=r("aIeVF"),y=r("bjJNi"),E=r("k5fYD");r("cTu5S");var x=r("hNVBR"),k=r("9V1f8"),C=r("2OFX1");function S(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var T=function(e,t){var n=y.stateKey.getState(e);if(!n)return!1;var r=e.schema.nodes.mediaSingle,o=n.selectedMediaContainerNode();if(!o||o.type!==r)return!1;var i=o.firstChild.attrs,a=i.id,s=i.collection,c=i.occurrenceKey;return x.withAnalytics({action:k.ACTION.CLICKED,actionSubject:k.ACTION_SUBJECT.MEDIA,actionSubjectId:k.ACTION_SUBJECT_ID.ANNOTATE_BUTTON,eventType:k.EVENT_TYPE.UI})(E.openMediaEditor(e.selection.from+1,{id:a,collectionName:s,mediaItemType:"file",occurrenceKey:c}))(e,t)},O=function(t){e(u)(d,t);var n,r,o=S(d);function d(){var t;e(s)(this,d);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(p)(e(l)(t),"state",{isImage:!1}),e(p)(e(l)(t),"onClickAnnotation",(function(){var e=t.props.view;e&&T(e.state,e.dispatch)})),t}return e(c)(d,[{key:"componentDidMount",value:(r=e(a)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.checkIsImage();case 2:case"end":return e.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"checkIsImage",value:(n=e(a)(e(i).mark((function t(){var n,r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.getMediaClient(this.props.viewMediaClientConfig),this.props.id){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,n.file.getCurrentState(this.props.id,{collectionName:this.props.collection});case 6:(r=e.sent)&&"error"!==r.status&&"image"===r.mediaType&&this.setState({isImage:!0}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(3);case 12:case"end":return e.stop()}}),t,this,[[3,10]])}))),function(){return n.apply(this,arguments)})},{key:"componentDidUpdate",value:function(e){var t=this;e.id!==this.props.id&&this.setState({isImage:!1},(function(){t.checkIsImage()}))}},{key:"render",value:function(){if(!this.state.isImage)return null;var t=this.props.intl.formatMessage(C.toolbarMessages.annotate);return e(h).createElement(e(h).Fragment,null,e(h).createElement(b.default,null),e(h).createElement(v.default,{title:t,icon:e(h).createElement(e(g),{label:t}),onClick:this.onClickAnnotation}))}}]),d}(e(h).Component),w=function(t,n){return function(r,o){var i=t.selectedMediaContainerNode();return i&&t.mediaClientConfig?e(h).createElement(O,{key:o,viewMediaClientConfig:t.mediaClientConfig,id:i.firstChild.attrs.id,collection:i.firstChild.attrs.collection,view:r,intl:n}):null}}})),r.register("hKagn",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M9.864 10.736c.77-.746 1.893-.536 2.72.265.826.8 1.043 1.888.273 2.634-1.816 1.76-5.482 2.002-4.765 1.207 1.587-1.76.578-2.949 1.772-4.106zM19.968 4.03c.402.378-3.1 4.732-4.427 5.98-.659.62-1.012.826-1.276 1.016-.115.082-.15-.027-.177-.076a3.743 3.743 0 00-.63-.801c-.236-.222-.607-.445-.867-.572-.053-.025-.169-.058-.08-.166.201-.249.421-.58 1.08-1.2 1.327-1.247 5.974-4.56 6.377-4.181zM18.38 19.946a1.033 1.033 0 01-.332.054.946.946 0 01-.913-.628c-.343-.957-1.14-1.642-2.257-1.933-2.182-.568-3.22-.264-5.053.995l-.16.11a9.341 9.341 0 01-1.049.644c-1.477.755-2.632.825-3.482.419-.586-.28-.989-.794-1.1-1.407-.254-1.403.93-2.647 2.602-3.156a.906.906 0 011.155.601.92.92 0 01-.62 1.186c-.33.1-.717.311-.978.533-.195.165-.33.355-.306.434.042.138.088.185.16.214.155.063.445.029.818-.096.164-.055.34-.126.524-.21.196-.088.348-.165.58-.287.076-.04.177-.11.445-.303 1.09-.784 1.802-1.198 2.845-1.52 1.562-.482 3.18-.39 4.802.272 1.399.57 2.399 1.589 2.883 2.94.174.483-.07.97-.564 1.138z" fill="currentColor"/></svg>'},e));a.displayName="MediaServicesAnnotateIcon";var s=a;e.exports.default=s})),r.register("2Zops",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("l15hj"),a=r("bRWI2"),s=r("61szk");r("k1QaE");var c=r("kzvDE");r("31Xz9");var l=r("kInf8"),u=r("j1CZ9");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p=function(t){var n=t.title,r=t.icon,o=t.iconAfter,i=t.onClick,d=t.onMouseEnter,p=t.onMouseLeave,h=t.selected,g=t.disabled,m=t.href,v=t.target,b=t.appearance,y=void 0===b?"subtle":b,E=t.children,x=t.className,k=t.tooltipContent,C=t.testId,S=t.hideTooltipOnClick,T=void 0===S||S,O=(r||o)&&!E?u.iconOnlySpacing:{};return e(s).createElement(c.default,{content:k||n,hideTooltipOnClick:T,position:"top"},e(s).createElement("div",{onMouseEnter:d,onMouseLeave:p},e(s).createElement(l.default,{className:x,theme:function(t,n){var r=t(n),o=r.buttonStyles,i=e(a)(r,["buttonStyles"]);return f({buttonStyles:f(f(f({},o),O),"danger"===y&&u.getButtonStyles({appearance:y,state:n.state,mode:n.mode}))},i)},"aria-label":n,spacing:"compact",href:m,target:v,appearance:y,"aria-haspopup":!0,iconBefore:r||void 0,iconAfter:o,onClick:i,isSelected:h,isDisabled:g,testId:C},E)))}})),r.register("j1CZ9",(function(e,n){t(e.exports,"iconOnlySpacing",(function(){return l})),t(e.exports,"getButtonStyles",(function(){return u}));var o=r("cufhv"),i=r("ekJGA"),a={danger:{default:{light:"inherit",dark:"inherit"},hover:{light:o.N30A,dark:o.N30A},active:{light:i.hexToRgba(o.B75,.6),dark:i.hexToRgba(o.B75,.6)}}},s={danger:{default:{light:o.N400,dark:o.DN400},hover:{light:o.R400,dark:o.R400},active:{light:o.R400,dark:o.R400}}},c=function(e,t){var n=t.appearance,r=void 0===n?"default":n,o=t.state,i=void 0===o?"default":o,a=t.mode,s=void 0===a?"light":a;return e[r]&&e[r][i]?e[r][i][s]:"initial"},l={"&&":{padding:"0px","&[href]":{padding:"0 2px"}},"& > span":{margin:"0px"}},u=function(e){return{background:c(a,e),color:c(s,e)}}})),r.register("aIeVF",(function(n,o){t(n.exports,"default",(function(){return d}));var i,a=r("lhkMJ"),s=r("61szk"),c=r("SssiD"),l=r("cufhv"),u=c.default.div(i||(i=e(a)(["\n  background: ",";\n  width: 1px;\n  height: 20px;\n  margin: 0 4px;\n  align-self: center;\n"])),l.N30),d=function(){return e(s).createElement(u,{className:"separator"})}})),r.register("2OFX1",(function(e,n){t(e.exports,"toolbarMessages",(function(){return o}));var o=r("7RIig").defineMessages({annotate:{id:"fabric.editor.annotate",defaultMessage:"Annotate",description:"Annotate an image by drawing arrows, adding text, or scribbles."}})})),r.register("3ErPw",(function(n,o){t(n.exports,"shouldShowMediaLinkToolbar",(function(){return p})),t(n.exports,"getLinkingToolbar",(function(){return h}));var i=r("l15hj"),a=r("61szk"),s=r("2botu"),c=r("4gnUe"),l=r("6GhBa"),u=r("7e0tR");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function p(e){var t=c.getMediaLinkingState(e);if(!t||null===t.mediaPos)return!1;var n=e.schema,r=n.nodes.media,o=n.marks.link,i=e.doc.nodeAt(t.mediaPos);if(!i||i.type!==r)return!1;var a=e.doc.resolve(t.mediaPos).parent;return a&&a.type.allowsMarkType(o)}var h=function(t,n,r,o,i){var c=n.link,d=n.visible,p=n.editable,h=n.mediaPos;if(d&&null!==h&&r.doc.nodeAt(h))return f(f({},t),{},{height:u.RECENT_SEARCH_HEIGHT_IN_PX,width:u.RECENT_SEARCH_WIDTH_IN_PX,forcePlacement:!0,items:[{type:"custom",fallback:[],render:function(t,n){return t&&i?e(a).createElement(l.default,{key:n,displayUrl:c,providerFactory:i,intl:o,editing:p,onUnlink:function(){return s.unlink(t.state,t.dispatch,t)},onBack:function(e,n){e.trim()&&n.inputMethod&&s.setUrlToMedia(e,n.inputMethod)(t.state,t.dispatch,t),s.hideLinkingToolbar(t.state,t.dispatch,t)},onCancel:function(){return s.hideLinkingToolbar(t.state,t.dispatch,t)},onSubmit:function(e,n){s.setUrlToMedia(e,n.inputMethod)(t.state,t.dispatch,t),s.hideLinkingToolbar(t.state,t.dispatch,t)},onBlur:function(){s.hideLinkingToolbar(t.state,t.dispatch,t)}}):null}}]})}})),r.register("6GhBa",(function(n,o){t(n.exports,"default",(function(){return M}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk");r("igW5C");var h,g,m=r("bTfdG"),v=r("7T6v1"),b=r("a3dkO"),y=r("71T2y"),E=r("2Zops"),x=r("aIeVF"),k=r("7e0tR"),C=r("2IjoU"),S=r("ch3px"),T=r("5eBbT"),O=r("SssiD"),w=r("cufhv"),N=r("9V1f8"),P=r("4ziUn");function A(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var I=O.default.section(h||(h=e(f)(["\n  display: flex;\n  line-height: 0;\n  padding: 12px 24px 12px 0;\n  margin: 0 4px 0 32px;\n  border-top: 1px solid ",";\n  align-items: start;\n  display: flex;\n  flex-direction: column;\n"])),w.R400),D=O.default.span(g||(g=e(f)(["\n  padding: 4px 8px 4px 0px;\n"]))),R=function(t){e(c)(r,t);var n=A(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{validationErrors:[]}),e(d)(e(s)(t),"handleSubmit",(function(e){var n=e.url,r=e.inputMethod;t.props.onSubmit(n,{inputMethod:r})})),e(d)(e(s)(t),"handleOnBack",(function(e){var n=e.url,r=e.inputMethod,o=t.props.onBack;o&&o(n,{inputMethod:r})})),e(d)(e(s)(t),"handleCancel",(function(){var e=t.props.onCancel;e&&e()})),e(d)(e(s)(t),"handleUnlink",(function(){var e=t.props.onUnlink;e&&e()})),e(d)(e(s)(t),"handleOnBlur",(function(e){t.props.onBlur(e.url)})),e(d)(e(s)(t),"renderContainer",(function(n){var r,o=n.activityProvider,i=n.inputProps,a=i.onChange,s=i.onKeyDown,c=i.onSubmit,l=i.value,u=n.currentInputMethod,d=n.renderRecentList,f=t.props,h=f.intl.formatMessage,g=f.displayUrl,C=h(P.mediaLinkToolbarMessages.backLink),O=h(S.linkToolbarMessages.unlink),w=t.state.validationErrors.map((function(t,n){return e(p).createElement(m.ErrorMessage,{key:n},t)}));return e(p).createElement("div",{className:"recent-list"},e(p).createElement(k.Container,{provider:!!o},e(p).createElement(k.UrlInputWrapper,null,e(p).createElement(D,null,e(p).createElement(E.default,{title:C,icon:e(p).createElement(e(v),{label:C}),onClick:function(){return t.handleOnBack({url:l,inputMethod:u})}})),e(p).createElement(y.default,{testId:"media-link-input",placeholder:(r=!!o,h(r?S.linkToolbarMessages.placeholder:S.linkToolbarMessages.linkPlaceholder)),autoFocus:!0,onCancel:t.handleCancel,defaultValue:l,onSubmit:function(e){var n=t.getValidationErrors(e,u);t.setState({validationErrors:n}),n.length||c()},onChange:function(e){t.setState({validationErrors:[]}),a(e)},onKeyDown:s}),T.normalizeUrl(g)&&e(p).createElement(e(p).Fragment,null,e(p).createElement(x.default,null),e(p).createElement(E.default,{title:O,icon:e(p).createElement(e(b),{label:O}),onClick:t.handleUnlink}))),!!w.length&&e(p).createElement(I,null,w),d()))})),t}return e(a)(r,[{key:"getValidationErrors",value:function(e,t){var n=this.props.intl.formatMessage;return t===N.INPUT_METHOD.TYPEAHEAD?[]:e?T.normalizeUrl(e)?[]:[n(S.linkToolbarMessages.invalidLink)]:[n(S.linkToolbarMessages.emptyLink)]}},{key:"render",value:function(){var t=this.props,n=t.providerFactory,r=t.displayUrl;return e(p).createElement(C.default,{defaultUrl:T.normalizeUrl(r),providerFactory:n,onSubmit:this.handleSubmit,onBlur:this.handleOnBlur,render:this.renderContainer})}}]),r}(e(p).PureComponent),M=R})),r.register("a3dkO",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5 10V9h2v1H5zm4-5h1v2H9V5zm7.646 12.354l.708-.708 2 2-.708.708-2-2zM17 15v-1h2v1h-2zm-3 2h1v2h-1v-2zM7.354 6.646l-.708.708-2-2 .708-.708 2 2zm3.567 9.037l1.061-1.062a.75.75 0 111.06 1.061l-1.06 1.061a3.249 3.249 0 01-4.596 0 3.247 3.247 0 010-4.596l1.06-1.061.703-.703c.793-.63 1.773.35 1.06 1.06l-.702.703-1.06 1.062a1.747 1.747 0 000 2.474 1.749 1.749 0 002.474 0zm2.658-7.608l-1.061 1.061a.75.75 0 01-1.06-1.06l1.06-1.062a3.249 3.249 0 014.596 0 3.247 3.247 0 010 4.596l-1.06 1.062-.703.702c-.565.565-1.581-.45-1.06-1.06l.702-.703 1.06-1.061a1.747 1.747 0 000-2.475 1.749 1.749 0 00-2.474 0z" fill="currentColor"/></svg>'},e));a.displayName="EditorUnlinkIcon";var s=a;e.exports.default=s})),r.register("71T2y",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=(p=r("61szk"),r("bXIvN"));r("igW5C");var g=r("4W5Y2");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var v=function(t){e(l)(r,t);var n=m(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"onMouseDown",(function(){var e=o.props.onMouseDown;e&&e()})),e(f)(e(c)(o),"onBlur",(function(e){var t=o.props.onBlur;t&&t(e)})),e(f)(e(c)(o),"handleChange",(function(){var e=o.props.onChange;o.input&&o.setState({value:o.input.value}),e&&o.input&&e(o.input.value)})),e(f)(e(c)(o),"handleKeydown",(function(e){var t=o.props,n=t.onUndo,r=t.onRedo,i=t.onSubmit,a=t.onCancel;13===e.keyCode&&i?(e.preventDefault(),i(o.input.value)):27===e.keyCode&&a?a(e):"function"==typeof n&&o.isUndoEvent(e)?(e.preventDefault(),n()):"function"==typeof r&&o.isRedoEvent(e)&&(e.preventDefault(),r()),o.props.onKeyDown&&o.props.onKeyDown(e)})),e(f)(e(c)(o),"handleRef",(function(e){e instanceof HTMLInputElement?(o.input=e,o.props.autoFocus&&(o.focusTimeoutId=window.setTimeout((function(){return o.focus()})))):o.input=void 0})),o.state={value:t.defaultValue||""},o}return e(s)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.defaultValue!==this.props.defaultValue&&this.setState({value:e.defaultValue})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.focusTimeoutId)}},{key:"render",value:function(){var t=this.props,n=t.placeholder,r=t.width,o=t.maxLength,i=t.testId,a=t.ariaLabel,s=t.describedById,c=this.state.value;return e(p).createElement(h.Input,{"aria-describedby":s,"data-testid":i||"",type:"text",placeholder:n,value:c,onChange:this.handleChange,onKeyDown:this.handleKeydown,onMouseDown:this.onMouseDown,onBlur:this.onBlur,innerRef:this.handleRef,width:r,maxLength:o,"aria-label":a})}},{key:"focus",value:function(){var t=this.input;if(t){var n="object"===e(i)(this.props.autoFocus)?this.props.autoFocus:{};t.focus(n)}}},{key:"isUndoEvent",value:function(e){return 90===e.keyCode&&(g.default.mac&&e.metaKey&&!e.shiftKey||!g.default.mac&&e.ctrlKey)}},{key:"isRedoEvent",value:function(e){return!g.default.mac&&e.ctrlKey&&89===e.keyCode||g.default.mac&&e.metaKey&&e.shiftKey&&90===e.keyCode||e.ctrlKey&&e.shiftKey&&90===e.keyCode}}]),r}(p.PureComponent)})),r.register("bXIvN",(function(n,o){t(n.exports,"Input",(function(){return u}));var i=r("lhkMJ"),a=r("SssiD"),s=r("cufhv");r("8iml0");var c,l=r("82cWi"),u=a.default.input(c||(c=e(i)(["\n  input& {\n    background: transparent;\n    border: 0;\n    border-radius: 0;\n    box-sizing: content-box;\n    color: ",";\n    flex-grow: 1;\n    font-size: ",";\n    line-height: 20px;\n    padding: 0;\n    ",";\n    min-width: 145px;\n\n    /* Hides IE10+ built-in [x] clear input button */\n    &::-ms-clear {\n      display: none;\n    }\n\n    &:focus {\n      outline: none;\n    }\n\n    &::placeholder {\n      color: ",";\n      opacity: 0.5;\n    }\n  }\n"])),s.N400,l.relativeFontSizeToBase16(13),(function(e){return e.width?"width: ".concat(e.width,"px"):""}),s.N800)})),r.register("7e0tR",(function(n,o){t(n.exports,"RECENT_SEARCH_WIDTH_IN_PX",(function(){return u})),t(n.exports,"RECENT_SEARCH_HEIGHT_IN_PX",(function(){return d})),t(n.exports,"InputWrapper",(function(){return f})),t(n.exports,"UrlInputWrapper",(function(){return p})),t(n.exports,"Container",(function(){return h}));var i,a,s,c=r("lhkMJ"),l=r("SssiD"),u=420,d=360,f="\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n",p=l.default.div(i||(i=e(c)(["\n  ","\n"])),f),h=l.default.div(a||(a=e(c)(["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  padding: 0;\n\n  ",";\n  line-height: initial;\n"])),u,(function(t){var n=t.provider;return l.css(s||(s=e(c)(["\n      width: ","px;\n    "])),n?u:360)}))})),r.register("2IjoU",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("4etPo"),m=r("7RIig"),v=r("hYVmG");r("cTu5S");var b=r("9V1f8");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var E=function(e,t){return e.slice(0,t)},x=function(t){e(u)(d,t);var n,r,o=y(d);function d(t){var n;return e(s)(this,d),n=o.call(this,t),e(p)(e(l)(n),"activityProvider",null),e(p)(e(l)(n),"handleSubmit",(function(){var e=n.state,t=e.items,r=e.url,o=e.selectedIndex,i=n.getCurrentInputMethod();if(i)switch(i){case b.INPUT_METHOD.MANUAL:n.props.onSubmit({url:r,text:r,inputMethod:b.INPUT_METHOD.MANUAL});break;case b.INPUT_METHOD.TYPEAHEAD:var a=t[o];n.setState((function(){return{url:a.url}})),n.props.onSubmit&&n.props.onSubmit({url:a.url,text:a.name,inputMethod:b.INPUT_METHOD.TYPEAHEAD})}})),e(p)(e(l)(n),"handleSelected",(function(e,t){n.props.onSubmit&&(n.setState((function(){return{url:e}})),n.props.onSubmit({text:t,url:e,inputMethod:b.INPUT_METHOD.TYPEAHEAD}))})),e(p)(e(l)(n),"handleChange",function(){var t=e(a)(e(i).mark((function t(r){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.setState({url:r}),!n.activityProvider){e.next=24;break}if(0!==r.length){e.next=15;break}return e.t0=n,e.t1=E,e.next=7,n.activityProvider.getRecentItems();case 7:e.t2=e.sent,e.t3=n.props.limit,e.t4=e.t1(e.t2,e.t3),e.t5=-1,e.t6={items:e.t4,selectedIndex:e.t5},e.t0.setState.call(e.t0,e.t6),e.next=24;break;case 15:return e.t7=n,e.t8=E,e.next=19,n.activityProvider.searchRecent(r);case 19:e.t9=e.sent,e.t10=n.props.limit,e.t11=e.t8(e.t9,e.t10),e.t12={items:e.t11,selectedIndex:0},e.t7.setState.call(e.t7,e.t12);case 24:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e(p)(e(l)(n),"handleKeyDown",(function(e){var t=n.state,r=t.items,o=t.selectedIndex;r&&r.length&&("ArrowDown"===e.key?(e.preventDefault(),n.setState({selectedIndex:(o+1)%r.length})):"ArrowUp"===e.key&&(e.preventDefault(),n.setState({selectedIndex:o>0?o-1:r.length-1})))})),e(p)(e(l)(n),"handleMouseMove",(function(e){var t=n.state.items;if(t){var r=t.findIndex((function(t){return t.objectId===e}));n.setState({selectedIndex:r})}})),e(p)(e(l)(n),"renderRecentList",(function(){var t=n.state,r=t.items,o=t.isLoading,i=t.selectedIndex;return e(h).createElement(g.default,{items:r,isLoading:o,selectedIndex:i,onSelect:n.handleSelected,onMouseMove:n.handleMouseMove})})),e(p)(e(l)(n),"clearValue",(function(){n.setState({url:""})})),n.state={selectedIndex:-1,isLoading:!1,items:[],url:t.defaultUrl||""},n}return e(c)(d,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.defaultUrl!==e.defaultUrl&&this.setState((function(t){return t.url!==e.defaultUrl?{items:[],selectedIndex:-1,url:e.defaultUrl||""}:null}))}},{key:"componentDidMount",value:(r=e(a)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.props.activityProvider){e.next=6;break}return e.next=3,this.props.activityProvider;case 3:return this.activityProvider=e.sent,e.next=6,this.loadRecentItems(this.activityProvider);case 6:case"end":return e.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"loadRecentItems",value:(n=e(a)(e(i).mark((function t(n){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,this.state.url){e.next=11;break}return e.t0=this,e.t1=E,e.next=6,n.getRecentItems();case 6:e.t2=e.sent,e.t3=this.props.limit,e.t4=e.t1(e.t2,e.t3),e.t5={isLoading:!0,items:e.t4},e.t0.setState.call(e.t0,e.t5);case 11:return e.prev=11,this.setState({isLoading:!1}),e.finish(11);case 14:case"end":return e.stop()}}),t,this,[[0,,11,14]])}))),function(e){return n.apply(this,arguments)})},{key:"getCurrentInputMethod",value:function(){var e=this.state,t=e.items,n=e.url,r=e.selectedIndex;return t&&t.length>0&&r>-1?b.INPUT_METHOD.TYPEAHEAD:n&&n.length>0?b.INPUT_METHOD.MANUAL:void 0}},{key:"render",value:function(){var e=this.props.render,t=this.state.url;return e({activityProvider:this.activityProvider,inputProps:{onChange:this.handleChange,onKeyDown:this.handleKeyDown,onSubmit:this.handleSubmit,value:t},clearValue:this.clearValue,currentInputMethod:this.getCurrentInputMethod(),renderRecentList:this.renderRecentList})}}]),d}(e(h).Component);e(p)(x,"defaultProps",{limit:5});var k=v.default(m.injectIntl(x))})),r.register("4etPo",(function(n,o){t(n.exports,"default",(function(){return k}));var i,a,s,c=r("go2dD"),l=r("4NDMl"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("lhkMJ"),h=r("61szk"),g=(h=r("61szk"),r("1HQ2H")),m=r("SssiD"),v=r("3d51M");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var y=m.default.div(i||(i=e(p)(["\n  padding-top: 0;\n"]))),E=m.default.div(a||(a=e(p)(["\n  text-align: center;\n  min-height: 80px;\n  margin-top: 30px;\n"]))),x=m.default.ul(s||(s=e(p)(["\n  padding: 0;\n  list-style: none;\n"]))),k=function(t){e(u)(r,t);var n=b(r);function r(){return e(c)(this,r),n.apply(this,arguments)}return e(l)(r,[{key:"render",value:function(){var t,n,r=this.props,o=r.onSelect,i=r.onMouseMove,a=r.onMouseEnter,s=r.onMouseLeave,c=r.items,l=r.selectedIndex,u=r.isLoading,d=r.ariaControls;return c&&c.length>0&&(t=e(h).createElement(x,{"aria-controls":d},c.map((function(t,n){return e(h).createElement(v.default,{item:t,selected:l===n,onMouseMove:i,onMouseEnter:a,onMouseLeave:s,onSelect:o,key:t.objectId})})))),u&&(n=e(h).createElement(E,null,e(h).createElement(g.default,{size:"medium"}))),e(h).createElement(y,null,t,n)}}]),r}(h.PureComponent)})),r.register("3d51M",(function(n,o){t(n.exports,"default",(function(){return _}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD"),g=r("kFKbx"),m=r("cufhv");r("8iml0");var v,b,y,E,x,k=r("82cWi"),C=r("3eAGG"),S=r("22EDM"),T=r("azgf8"),O=r("7RIig"),w=r("ch3px");function N(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var P=h.default.li(v||(v=e(f)(["\n  background-color: ",";\n  padding: 8px 12px;\n  cursor: pointer;\n  display: flex;\n  margin-top: 0;\n"])),(function(e){return e.selected?m.N20:"transparent"})),A=h.default.span(b||(b=e(f)(["\n  overflow: hidden;\n"]))),I=h.default.div(y||(y=e(f)(["\n  color: ",";\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  line-height: 20px;\n"])),m.N800),D=h.default.div(E||(E=e(f)(["\n  color: ",";\n  line-height: 14px;\n  font-size: ",";\n"])),m.N100,k.relativeFontSizeToBase16(g.fontSizeSmall())),R=h.default.span(x||(x=e(f)(["\n  min-width: 16px;\n  margin-top: 3px;\n  margin-right: 12px;\n\n  img {\n    max-width: 16px;\n  }\n"]))),M=function(t){e(c)(r,t);var n=N(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleSelect",(function(e){e.preventDefault();var n=t.props,r=n.item;(0,n.onSelect)(r.url,r.name)})),e(d)(e(s)(t),"handleMouseMove",(function(){var e=t.props,n=e.onMouseMove,r=e.item;n&&n(r.objectId)})),e(d)(e(s)(t),"handleMouseEnter",(function(){var e=t.props,n=e.onMouseEnter,r=e.item;n&&n(r.objectId)})),e(d)(e(s)(t),"handleMouseLeave",(function(){var e=t.props,n=e.onMouseLeave,r=e.item;n&&n(r.objectId)})),t}return e(a)(r,[{key:"renderIcon",value:function(){var t=this.props.item,n=t.icon,r=t.iconUrl;return n?e(p).createElement(R,null,n):r?e(p).createElement(R,null,e(p).createElement("img",{src:r})):null}},{key:"renderWithSpaces",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e(p).createElement(e(p).Fragment,null,"\xa0 \u2022",e(p).createElement("span",{className:"link-search-timestamp","data-test-id":"link-search-timestamp"},"\xa0 ",t," ",n," ",r))}},{key:"renderAbsoluteOrRelativeDate",value:function(e,t){var n=this.props.intl,r="";switch(t){case"updated":r=n.formatMessage(w.default.timeUpdated);break;case"viewed":r=n.formatMessage(w.default.timeViewed)}return S.default(e,Date.now())<-7?this.renderWithSpaces(r,T.default(e,"MMMM dd, yyyy")):this.renderWithSpaces(r,C.default(e,Date.now()),n.formatMessage(w.default.timeAgo))}},{key:"renderTimeStamp",value:function(){var e=this.props.item,t=e.lastUpdatedDate,n=e.lastViewedDate;return n?this.renderAbsoluteOrRelativeDate(n,"viewed"):t?this.renderAbsoluteOrRelativeDate(t,"updated"):void 0}},{key:"render",value:function(){var t=this.props,n=t.item,r=t.selected;return e(p).createElement(P,{"data-testid":"link-search-list-item",selected:r,onMouseMove:this.handleMouseMove,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onClick:this.handleSelect},this.renderIcon(),e(p).createElement(A,null,e(p).createElement(I,null,n.name),e(p).createElement(D,null,n.container,this.renderTimeStamp())))}}]),r}(e(p).PureComponent),_=O.injectIntl(M)})),r.register("3eAGG",(function(e,n){t(e.exports,"default",(function(){return h}));var o=r("1zm96"),i=r("7LIw0"),a=r("kxuvu"),s=r("7qiwm"),c=r("lqblV"),l=r("YcmMv"),u=r("hRSZE"),d=r("hSLvD"),f=1440,p=43200;function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};d.default(2,arguments);var r=n.locale||s.default;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var h=o.default(e,t);if(isNaN(h))throw new RangeError("Invalid time value");var g,m,v=l.default(n);v.addSuffix=Boolean(n.addSuffix),v.comparison=h,h>0?(g=c.default(t),m=c.default(e)):(g=c.default(e),m=c.default(t));var b,y=a.default(m,g),E=(u.default(m)-u.default(g))/1e3,x=Math.round((y-E)/60);if(x<2)return n.includeSeconds?y<5?r.formatDistance("lessThanXSeconds",5,v):y<10?r.formatDistance("lessThanXSeconds",10,v):y<20?r.formatDistance("lessThanXSeconds",20,v):y<40?r.formatDistance("halfAMinute",null,v):y<60?r.formatDistance("lessThanXMinutes",1,v):r.formatDistance("xMinutes",1,v):0===x?r.formatDistance("lessThanXMinutes",1,v):r.formatDistance("xMinutes",x,v);if(x<45)return r.formatDistance("xMinutes",x,v);if(x<90)return r.formatDistance("aboutXHours",1,v);if(x<f){var k=Math.round(x/60);return r.formatDistance("aboutXHours",k,v)}if(x<2520)return r.formatDistance("xDays",1,v);if(x<p){var C=Math.round(x/f);return r.formatDistance("xDays",C,v)}if(x<86400)return b=Math.round(x/p),r.formatDistance("aboutXMonths",b,v);if((b=i.default(m,g))<12){var S=Math.round(x/p);return r.formatDistance("xMonths",S,v)}var T=b%12,O=Math.floor(b/12);return T<3?r.formatDistance("aboutXYears",O,v):T<9?r.formatDistance("overXYears",O,v):r.formatDistance("almostXYears",O+1,v)}})),r.register("1zm96",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e,t){i.default(2,arguments);var n=o.default(e),r=o.default(t),a=n.getTime()-r.getTime();return a<0?-1:a>0?1:a}})),r.register("7LIw0",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("lqblV"),i=r("kofMn"),a=r("1zm96"),s=r("hSLvD"),c=r("5odJp");function l(e,t){s.default(2,arguments);var n,r=o.default(e),l=o.default(t),u=a.default(r,l),d=Math.abs(i.default(r,l));if(d<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-u*d);var f=a.default(r,l)===-u;c.default(o.default(e))&&1===d&&1===a.default(e,l)&&(f=!1),n=u*(d-Number(f))}return 0===n?0:n}})),r.register("kofMn",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e,t){i.default(2,arguments);var n=o.default(e),r=o.default(t),a=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return 12*a+s}})),r.register("5odJp",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("lqblV"),i=r("4dQGt"),a=r("e5hhJ"),s=r("hSLvD");function c(e){s.default(1,arguments);var t=o.default(e);return i.default(t).getTime()===a.default(t).getTime()}})),r.register("4dQGt",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e){i.default(1,arguments);var t=o.default(e);return t.setHours(23,59,59,999),t}})),r.register("e5hhJ",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e){i.default(1,arguments);var t=o.default(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}})),r.register("kxuvu",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("iDQMO"),i=r("hSLvD");function a(e,t){i.default(2,arguments);var n=o.default(e,t)/1e3;return n>0?Math.floor(n):Math.ceil(n)}})),r.register("iDQMO",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e,t){i.default(2,arguments);var n=o.default(e),r=o.default(t);return n.getTime()-r.getTime()}})),r.register("7qiwm",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("9UY8O"),i=r("9RzLO"),a=r("1kSlq"),s=r("fu9da"),c=r("2a0AX"),l={code:"en-US",formatDistance:o.default,formatLong:i.default,formatRelative:a.default,localize:s.default,match:c.default,options:{weekStartsOn:0,firstWeekContainsDate:1}}})),r.register("9UY8O",(function(e,n){t(e.exports,"default",(function(){return o}));var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function o(e,t,n){var o;return n=n||{},o="string"==typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+o:o+" ago":o}})),r.register("9RzLO",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("6ZF4I"),i={date:o.default({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:o.default({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:o.default({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})}})),r.register("6ZF4I",(function(e,n){function r(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}t(e.exports,"default",(function(){return r}))})),r.register("1kSlq",(function(e,n){t(e.exports,"default",(function(){return o}));var r={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function o(e,t,n,o){return r[e]}})),r.register("fu9da",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("lW6T9");var i={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:o.default({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:o.default({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:o.default({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:o.default({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:o.default({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})}})),r.register("lW6T9",(function(e,n){function r(e){return function(t,n){var r,o=n||{};if("formatting"===(o.context?String(o.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=o.width?String(o.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var s=e.defaultWidth,c=o.width?String(o.width):e.defaultWidth;r=e.values[c]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}t(e.exports,"default",(function(){return r}))})),r.register("2a0AX",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("c7PEH"),i=r("chAFg"),a={ordinalNumber:o.default({matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}}),era:i.default({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:i.default({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:i.default({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:i.default({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:i.default({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})}})),r.register("c7PEH",(function(e,n){function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.match(e.matchPattern);if(!r)return null;var o=r[0],i=t.match(e.parsePattern);if(!i)return null;var a=e.valueCallback?e.valueCallback(i[0]):i[0];a=n.valueCallback?n.valueCallback(a):a;var s=t.slice(o.length);return{value:a,rest:s}}}t(e.exports,"default",(function(){return r}))})),r.register("chAFg",(function(e,n){function r(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,a=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(a);if(!s)return null;var c,l=s[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?i(u,(function(e){return e.test(l)})):o(u,(function(e){return e.test(l)}));c=e.valueCallback?e.valueCallback(d):d,c=n.valueCallback?n.valueCallback(c):c;var f=t.slice(l.length);return{value:c,rest:f}}}function o(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function i(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}t(e.exports,"default",(function(){return r}))})),r.register("YcmMv",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("cSSoD");function i(e){return o.default({},e)}})),r.register("cSSoD",(function(e,n){function r(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t=t||{})Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}t(e.exports,"default",(function(){return r}))})),r.register("hRSZE",(function(e,n){function r(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}t(e.exports,"default",(function(){return r}))})),r.register("22EDM",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("hRSZE"),i=r("67IGQ"),a=r("hSLvD"),s=864e5;function c(e,t){a.default(2,arguments);var n=i.default(e),r=i.default(t),c=n.getTime()-o.default(n),l=r.getTime()-o.default(r);return Math.round((c-l)/s)}})),r.register("67IGQ",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e){i.default(1,arguments);var t=o.default(e);return t.setHours(0,0,0,0),t}})),r.register("azgf8",(function(e,n){t(e.exports,"default",(function(){return y}));var o=r("e7I5z"),i=r("7qiwm"),a=r("5DiUd"),s=r("lqblV"),c=r("llisc"),l=r("hmuzX"),u=r("hRSZE"),d=r("klT9l"),f=r("3bSAp"),p=r("hSLvD"),h=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,g=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m=/^'([^]*?)'?$/,v=/''/g,b=/[a-zA-Z]/;function y(e,t,n){p.default(2,arguments);var r=String(t),m=n||{},v=m.locale||i.default,y=v.options&&v.options.firstWeekContainsDate,x=null==y?1:f.default(y),k=null==m.firstWeekContainsDate?x:f.default(m.firstWeekContainsDate);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var C=v.options&&v.options.weekStartsOn,S=null==C?0:f.default(C),T=null==m.weekStartsOn?S:f.default(m.weekStartsOn);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!v.localize)throw new RangeError("locale must contain localize property");if(!v.formatLong)throw new RangeError("locale must contain formatLong property");var O=s.default(e);if(!o.default(O))throw new RangeError("Invalid time value");var w=u.default(O),N=a.default(O,w),P={firstWeekContainsDate:k,weekStartsOn:T,locale:v,_originalDate:O},A=r.match(g).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,l.default[t])(e,v.formatLong,P):e})).join("").match(h).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return E(n);var o=c.default[r];if(o)return!m.useAdditionalWeekYearTokens&&d.isProtectedWeekYearToken(n)&&d.throwProtectedError(n,t,e),!m.useAdditionalDayOfYearTokens&&d.isProtectedDayOfYearToken(n)&&d.throwProtectedError(n,t,e),o(N,n,v.localize,P);if(r.match(b))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("");return A}function E(e){return e.match(m)[1].replace(v,"'")}})),r.register("e7I5z",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e){i.default(1,arguments);var t=o.default(e);return!isNaN(t)}})),r.register("5DiUd",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3bSAp"),i=r("5UMFL"),a=r("hSLvD");function s(e,t){a.default(2,arguments);var n=o.default(t);return i.default(e,-n)}})),r.register("5UMFL",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3bSAp"),i=r("lqblV"),a=r("hSLvD");function s(e,t){a.default(2,arguments);var n=i.default(e).getTime(),r=o.default(t);return new Date(n+r)}})),r.register("llisc",(function(e,n){t(e.exports,"default",(function(){return E}));var o=r("lysb0"),i=r("6r3qL"),a=r("jvEES"),s=r("iU4AG"),c=r("dALun"),l=r("7xwZl"),u=r("4lhW2"),d="midnight",f="noon",p="morning",h="afternoon",g="evening",m="night";function v(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=t||"";return n+String(o)+a+u.default(i,2)}function b(e,t){return e%60==0?(e>0?"-":"+")+u.default(Math.abs(e)/60,2):y(e,t)}function y(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+u.default(Math.floor(o/60),2)+n+u.default(o%60,2)}var E={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return o.default.y(e,t)},Y:function(e,t,n,r){var o=l.default(e,r),i=o>0?o:1-o;if("YY"===t){var a=i%100;return u.default(a,2)}return"Yo"===t?n.ordinalNumber(i,{unit:"year"}):u.default(i,t.length)},R:function(e,t){var n=s.default(e);return u.default(n,t.length)},u:function(e,t){var n=e.getUTCFullYear();return u.default(n,t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return u.default(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return u.default(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return o.default.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return u.default(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=c.default(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):u.default(o,t.length)},I:function(e,t,n){var r=a.default(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):u.default(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):o.default.d(e,t)},D:function(e,t,n){var r=i.default(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):u.default(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return u.default(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return u.default(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return u.default(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?f:0===o?d:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?g:o>=12?h:o>=4?p:m,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return o.default.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):o.default.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):u.default(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):u.default(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):o.default.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):o.default.s(e,t)},S:function(e,t){return o.default.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return b(o);case"XXXX":case"XX":return y(o);default:return y(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return b(o);case"xxxx":case"xx":return y(o);default:return y(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+v(o,":");default:return"GMT"+y(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+v(o,":");default:return"GMT"+y(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e,i=Math.floor(o.getTime()/1e3);return u.default(i,t.length)},T:function(e,t,n,r){var o=(r._originalDate||e).getTime();return u.default(o,t.length)}}})),r.register("lysb0",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("4lhW2"),i={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return o.default("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):o.default(n+1,2)},d:function(e,t){return o.default(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return o.default(e.getUTCHours()%12||12,t.length)},H:function(e,t){return o.default(e.getUTCHours(),t.length)},m:function(e,t){return o.default(e.getUTCMinutes(),t.length)},s:function(e,t){return o.default(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds(),i=Math.floor(r*Math.pow(10,n-3));return o.default(i,t.length)}}})),r.register("4lhW2",(function(e,n){function r(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}t(e.exports,"default",(function(){return r}))})),r.register("6r3qL",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("lqblV"),i=r("hSLvD"),a=864e5;function s(e){i.default(1,arguments);var t=o.default(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),s=n-r;return Math.floor(s/a)+1}})),r.register("jvEES",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("lqblV"),i=r("3Xjd8"),a=r("jGtba"),s=r("hSLvD"),c=6048e5;function l(e){s.default(1,arguments);var t=o.default(e),n=i.default(t).getTime()-a.default(t).getTime();return Math.round(n/c)+1}})),r.register("3Xjd8",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("lqblV"),i=r("hSLvD");function a(e){i.default(1,arguments);var t=1,n=o.default(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}})),r.register("jGtba",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("iU4AG"),i=r("3Xjd8"),a=r("hSLvD");function s(e){a.default(1,arguments);var t=o.default(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=i.default(n);return r}})),r.register("iU4AG",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("lqblV"),i=r("3Xjd8"),a=r("hSLvD");function s(e){a.default(1,arguments);var t=o.default(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var s=i.default(r),c=new Date(0);c.setUTCFullYear(n,0,4),c.setUTCHours(0,0,0,0);var l=i.default(c);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}})),r.register("dALun",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("lqblV"),i=r("bqGjE"),a=r("9Ns84"),s=r("hSLvD"),c=6048e5;function l(e,t){s.default(1,arguments);var n=o.default(e),r=i.default(n,t).getTime()-a.default(n,t).getTime();return Math.round(r/c)+1}})),r.register("bqGjE",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("3bSAp"),i=r("lqblV"),a=r("hSLvD");function s(e,t){a.default(1,arguments);var n=t||{},r=n.locale,s=r&&r.options&&r.options.weekStartsOn,c=null==s?0:o.default(s),l=null==n.weekStartsOn?c:o.default(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var u=i.default(e),d=u.getUTCDay(),f=(d<l?7:0)+d-l;return u.setUTCDate(u.getUTCDate()-f),u.setUTCHours(0,0,0,0),u}})),r.register("9Ns84",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("3bSAp"),i=r("7xwZl"),a=r("bqGjE"),s=r("hSLvD");function c(e,t){s.default(1,arguments);var n=t||{},r=n.locale,c=r&&r.options&&r.options.firstWeekContainsDate,l=null==c?1:o.default(c),u=null==n.firstWeekContainsDate?l:o.default(n.firstWeekContainsDate),d=i.default(e,t),f=new Date(0);f.setUTCFullYear(d,0,u),f.setUTCHours(0,0,0,0);var p=a.default(f,t);return p}})),r.register("7xwZl",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("3bSAp"),i=r("lqblV"),a=r("bqGjE"),s=r("hSLvD");function c(e,t){s.default(1,arguments);var n=i.default(e,t),r=n.getUTCFullYear(),c=t||{},l=c.locale,u=l&&l.options&&l.options.firstWeekContainsDate,d=null==u?1:o.default(u),f=null==c.firstWeekContainsDate?d:o.default(c.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(r+1,0,f),p.setUTCHours(0,0,0,0);var h=a.default(p,t),g=new Date(0);g.setUTCFullYear(r,0,f),g.setUTCHours(0,0,0,0);var m=a.default(g,t);return n.getTime()>=h.getTime()?r+1:n.getTime()>=m.getTime()?r:r-1}})),r.register("hmuzX",(function(e,n){function r(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function o(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}t(e.exports,"default",(function(){return i}));var i={p:o,P:function(e,t){var n,i=e.match(/(P+)(p+)?/),a=i[1],s=i[2];if(!s)return r(e,t);switch(a){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",r(a,t)).replace("{{time}}",o(s,t))}}})),r.register("klT9l",(function(e,n){t(e.exports,"isProtectedDayOfYearToken",(function(){return i})),t(e.exports,"isProtectedWeekYearToken",(function(){return a})),t(e.exports,"throwProtectedError",(function(){return s}));var r=["D","DD"],o=["YY","YYYY"];function i(e){return-1!==r.indexOf(e)}function a(e){return-1!==o.indexOf(e)}function s(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}})),r.register("hYVmG",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("jgze0"),a=r("bRWI2"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk");r("igW5C");var g=r("MsgJD");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}function v(t){return function(n){e(u)(o,n);var r=m(o);function o(){var n;e(s)(this,o);for(var c=arguments.length,u=new Array(c),d=0;d<c;d++)u[d]=arguments[d];return n=r.call.apply(r,[this].concat(u)),e(p)(e(l)(n),"renderNode",(function(r){var o=n.props,s=(o.providerFactory,e(a)(o,["providerFactory"])),c=r.activityProvider;return e(h).createElement(t,e(i)({activityProvider:c},s))})),n}return e(c)(o,[{key:"render",value:function(){var t=this.props.providerFactory;return e(h).createElement(g.WithProviders,{providers:["activityProvider"],providerFactory:t,renderNode:this.renderNode})}}]),o}(e(h).Component)}})),r.register("4ziUn",(function(e,n){t(e.exports,"mediaLinkToolbarMessages",(function(){return o}));var o=r("7RIig").defineMessages({backLink:{id:"fabric.editor.backLink",defaultMessage:"Go back",description:"Go back from media linking toolbar to main toolbar"}})})),r.register("7YbhR",(function(n,o){t(n.exports,"default",(function(){return N}));var i=r("fw3Q6"),a=r("eBSbE"),s=r("iFBc4"),c=r("ch3px"),l=r("79NUq"),u=r("QWghR"),d=r("91zlE"),f=r("ctun3"),p=r("bQiwQ"),h=r("ayIoL"),g=r("7iJqu"),m=r("1vMV4"),v=r("9D9P7");r("8iml0");var b=r("82cWi"),y=r("hNVBR");r("cTu5S");var E=r("9V1f8"),x=r("8jq16"),k=[{id:"editor.media.alignLeft",value:"align-start",icon:e(p)},{id:"editor.media.alignCenter",value:"center",icon:e(g)},{id:"editor.media.alignRight",value:"align-end",icon:e(h)}],C=[{id:"editor.media.wrapLeft",value:"wrap-left",icon:e(l)},{id:"editor.media.wrapRight",value:"wrap-right",icon:e(u)}],S=[{value:"wide",icon:e(d)},{value:"full-width",icon:e(f)}],T={"wrap-left":x.toolbarMessages.wrapLeft,center:c.default.alignImageCenter,"wrap-right":x.toolbarMessages.wrapRight,wide:c.default.layoutWide,"full-width":c.default.layoutFullWidth,"align-end":c.default.alignImageRight,"align-start":c.default.alignImageLeft},O=function(e,t){return function(n,r){var o=n.selection.node,i=o.attrs.layout,s=n.schema.nodes.mediaSingle;if(!r)return!1;var c=v.pluginKey.getState(n);if(!o||o.type!==t||!c)return!1;var l=function(e,t){var n=t.nodes.embedCard;return e.type===n?e.attrs.originalWidth||b.DEFAULT_EMBED_CARD_WIDTH:e.firstChild&&e.firstChild.attrs.width||e.attrs.width}(o,n.schema),u=m.alignAttributes(e,o.attrs,void 0,l,c.lineLength),d=n.tr.setNodeMarkup(n.selection.from,void 0,u);return d.setMeta("scrollIntoView",!1),d.setSelection(a.NodeSelection.create(d.doc,n.selection.from)),r(y.addAnalytics(n,d,{eventType:E.EVENT_TYPE.TRACK,action:E.ACTION.SELECTED,actionSubject:E.ACTION_SUBJECT[o.type===s?"MEDIA_SINGLE":"EMBEDS"],actionSubjectId:E.ACTION_SUBJECT_ID.RICH_MEDIA_LAYOUT,attributes:{previousLayoutType:i,currentLayoutType:e}})),!0}},w=function(e,t,n,r){return e.map((function(e){var o=e.id,i=e.value;return{id:o,type:"button",icon:e.icon,title:n.formatMessage(T[i]),selected:t===i,onClick:O(i,r)}}))},N=function(t,n,r,o,c){var l=t.selection;if(!(l instanceof a.NodeSelection)||!l.node||!r||function(t,n,r){var o=n.nodes;return s.hasParentNodeOfType([o.bodiedExtension,o.listItem,o.expand,o.nestedExpand].concat(e(i)(r?[]:[o.table])).filter(Boolean))(t)}(l,t.schema,c))return[];var u=l.node.attrs.layout,d=[].concat(e(i)(w(k,u,n,r)),[{type:"separator"}],e(i)(w(C,u,n,r)));return o||(d=d.concat([{type:"separator"}].concat(e(i)(w(S,u,n,r))))),d}})),r.register("79NUq",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 010 2h-4a1 1 0 010-2zm0 4h4a1 1 0 010 2h-4a1 1 0 010-2zM6 9h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWrapLeftIcon";var s=a;e.exports.default=s})),r.register("QWghR",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 010 2H6a1 1 0 010-2zm0 4h4a1 1 0 010 2H6a1 1 0 010-2zm8-4h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorMediaWrapRightIcon";var s=a;e.exports.default=s})),r.register("bQiwQ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm0-8h4a1 1 0 011 1v4a1 1 0 01-1 1H6a1 1 0 01-1-1v-4a1 1 0 011-1zm0-4h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageLeftIcon";var s=a;e.exports.default=s})),r.register("ayIoL",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm8-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageRightIcon";var s=a;e.exports.default=s})),r.register("7iJqu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" role="presentation"><path d="M6 17h12a1 1 0 010 2H6a1 1 0 010-2zm4-8h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4a1 1 0 011-1zM6 5h12a1 1 0 010 2H6a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignImageCenterIcon";var s=a;e.exports.default=s})),r.register("8jq16",(function(e,n){t(e.exports,"toolbarMessages",(function(){return o}));var o=r("7RIig").defineMessages({wrapLeft:{id:"fabric.editor.wrapLeft",defaultMessage:"Wrap left",description:"Aligns your image to the left and wraps text around it."},wrapRight:{id:"fabric.editor.wrapRight",defaultMessage:"Wrap right",description:"Aligns your image to the right and wraps text around it."}})})),r.register("Rqf8R",(function(n,o){t(n.exports,"altTextButton",(function(){return g})),t(n.exports,"getAltTextToolbar",(function(){return v}));var i=r("l15hj"),a=r("61szk"),s=r("dejjl"),c=r("7uC1r"),l=r("8KPYe"),u=r("kzjgw"),d=(u=r("kzjgw"),r("laj9D")),f=r("k6z1x");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=function(t,n){var r=d.getMediaNodeFromSelection(n),o=r&&r.attrs.alt?l.messages.editAltText:l.messages.altText,i=t.formatMessage(o);return{title:i,id:"editor.media.altText",type:"button",onClick:s.openMediaAltTextMenu,showTitle:!0,testId:"alt-text-edit-button",tooltipContent:e(a).createElement(c.ToolTipContent,{description:i,keymap:c.addAltText})}},m=function(t){return{type:"custom",fallback:[],render:function(n,r){if(!n)return null;var o=d.getMediaNodeFromSelection(n.state);return o?e(a).createElement(u.default,{view:n,key:r,value:o.attrs.alt,altTextValidator:t&&t.altTextValidator}):null}}},v=function(e,t){return h(h({},e),{},{width:u.CONTAINER_WIDTH_IN_PX,className:f.ClassNames.FLOATING_TOOLBAR_COMPONENT,items:[m(t)]})}})),r.register("8KPYe",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({altText:{id:"fabric.editor.addAltText",defaultMessage:"Alt text",description:"Add an alt text for this image"},editAltText:{id:"fabric.editor.editAltText",defaultMessage:"Edit alt text",description:"Edit an alt text for this image"},back:{id:"fabric.editor.closeAltTextEdit",defaultMessage:"Back",description:"Back to toolbar"},clear:{id:"fabric.editor.clearAltTextEdit",defaultMessage:"Clear alt text",description:"Clear alt text"},placeholder:{id:"fabric.editor.placeholderAltText",defaultMessage:"Describe this image with alt text",description:"Describe this image with alt text"},supportText:{id:"fabric.editor.supportAltText",defaultMessage:"Alt text is useful for people using screen readers because of visual limitations.",description:"Alt text is useful for people using screen readers because of visual limitations."},validationMessage:{id:"fabric.editor.alttext.validation",defaultMessage:"Please remove any special characters in alt text.",description:"Please remove any special characters in alt text. "}})})),r.register("kzjgw",(function(n,o){t(n.exports,"CONTAINER_WIDTH_IN_PX",(function(){return B})),t(n.exports,"default",(function(){return K}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD"),g=r("cufhv"),m=r("7T6v1"),v=r("954WD"),b=r("8KPYe"),y=r("7RIig"),E=r("2Zops"),x=r("71T2y"),k=r("7uC1r"),C=(k=r("7uC1r"),r("dejjl"));r("lqsXI");var S=r("3nqc5");r("cTu5S");var T=r("4bO6W"),O=r("9V1f8"),w=r("7e0tR");r("8iml0");var N=r("82cWi");r("igW5C");var P,A,I,D,R,M,_=r("bTfdG");function j(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var B=w.RECENT_SEARCH_WIDTH_IN_PX,L=h.default.p(P||(P=e(f)(["\n  color: ",";\n  font-size: ",";\n  padding: 12px 40px;\n  line-height: 20px;\n  border-top: 1px solid ",";\n  margin: 0;\n"])),g.N100,N.relativeFontSizeToBase16(12),g.N30),F=h.default.div(A||(A=e(f)(["\n  width: ","px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n  line-height: 2;\n"])),B),z=h.default.section(I||(I=e(f)(["\n  display: flex;\n  line-height: 0;\n  padding: 5px 0;\n  align-items: center;\n"]))),W=h.default.section(D||(D=e(f)(["\n  display: flex;\n  line-height: 0;\n  padding: 12px 24px 12px 0;\n  margin: 0 12px 0 40px;\n  border-top: 1px solid ",";\n  align-items: start;\n  display: flex;\n  flex-direction: column;\n"])),g.R400),U=h.default.div(R||(R=e(f)(["\n  display: flex;\n  padding: 4px 8px;\n"]))),H=h.default.span(M||(M=e(f)(["\n  color: ",";\n"])),g.N80),V=function(t){e(c)(r,t);var n=j(r);function r(t){var o;e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"state",{showClearTextButton:Boolean(o.props.value),validationErrors:o.props.value?o.getValidationErrors(o.props.value):[],lastValue:o.props.value}),e(d)(e(s)(o),"closeMediaAltTextMenu",(function(){var e=o.props.view;C.closeMediaAltTextMenu(e.state,e.dispatch)})),e(d)(e(s)(o),"dispatchCancelEvent",(function(e){var t=o.props.view;t.someProp("handleKeyDown",(function(n){return n(t,e)}))})),e(d)(e(s)(o),"updateAltText",(function(e){var t=o.props.view,n=0===e.length?null:e;C.updateAltText(n)(t.state,t.dispatch)})),e(d)(e(s)(o),"handleOnChange",(function(e){var t=o.getValidationErrors(e);o.setState({showClearTextButton:Boolean(e),validationErrors:t,lastValue:e},(function(){t&&t.length||o.updateAltText(e)}))})),e(d)(e(s)(o),"handleOnBlur",(function(){var e=o.props.value,t=(o.state.lastValue||e||"").trim();o.handleOnChange(t)})),e(d)(e(s)(o),"handleClearText",(function(){o.handleOnChange("")}));var a=t.createAnalyticsEvent;return o.fireCustomAnalytics=T.fireAnalyticsEvent(a),o}return e(a)(r,[{key:"componentDidMount",value:function(){this.prevValue=this.props.value}},{key:"componentWillUnmount",value:function(){this.fireAnalytics(O.ACTION.CLOSED),!this.prevValue&&this.props.value&&this.fireAnalytics(O.ACTION.ADDED),this.prevValue&&!this.props.value&&this.fireAnalytics(O.ACTION.CLEARED),this.prevValue&&this.prevValue!==this.props.value&&this.fireAnalytics(O.ACTION.EDITED)}},{key:"getValidationErrors",value:function(e){var t=this.props.altTextValidator;return e&&"function"==typeof t&&t(e)||[]}},{key:"render",value:function(){var t=this.props.intl.formatMessage,n=this.state.showClearTextButton,r=t(b.messages.back),o=e(p).createElement(k.ToolTipContent,{description:r,keymap:k.escape,shortcutOverride:"Esc"}),i=(this.state.validationErrors||[]).map((function(t,n){return e(p).createElement(_.ErrorMessage,{key:n},t)}));return e(p).createElement(F,null,e(p).createElement(z,null,e(p).createElement(U,null,e(p).createElement(E.default,{title:t(b.messages.back),icon:e(p).createElement(e(m),{label:t(b.messages.back)}),tooltipContent:o,onClick:this.closeMediaAltTextMenu})),e(p).createElement(x.default,{testId:"alt-text-input",placeholder:t(b.messages.placeholder),defaultValue:this.state.lastValue,onCancel:this.dispatchCancelEvent,onChange:this.handleOnChange,onBlur:this.handleOnBlur,onSubmit:this.closeMediaAltTextMenu,maxLength:510,autoFocus:!0}),n&&e(p).createElement(U,null,e(p).createElement(E.default,{testId:"alt-text-clear-button",title:t(b.messages.clear),icon:e(p).createElement(H,null,e(p).createElement(e(v),{label:t(b.messages.clear)})),tooltipContent:t(b.messages.clear),onClick:this.handleClearText}))),!!i.length&&e(p).createElement(W,null,i),e(p).createElement(L,null,t(b.messages.supportText)))}},{key:"fireAnalytics",value:function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:{action:e,actionSubject:O.ACTION_SUBJECT.MEDIA,actionSubjectId:O.ACTION_SUBJECT_ID.ALT_TEXT,eventType:O.EVENT_TYPE.TRACK}})}}]),r}(e(p).Component),K=S.default()(y.injectIntl(V))})),r.register("k6z1x",(function(e,n){t(e.exports,"ClassNames",(function(){return r}));var r={FLOATING_TOOLBAR_COMPONENT:"".concat("pm-alt-text","-alt-text-floating-toolbar")}})),r.register("pko8V",(function(n,o){t(n.exports,"LinkToolbarAppearance",(function(){return k}));var i,a=r("h67q9"),s=r("lhkMJ"),c=r("61szk"),l=r("SssiD"),u=r("5ZDSW"),d=r("4Dv4D"),f=r("ekJGA"),p=r("jkiz0"),h=r("2Zops"),g=r("aIeVF"),m=r("ch3px"),v=r("kjcUu"),b=r("7uC1r"),y=r("bjJNi"),E=r("ij18r"),x=l.default.div(i||(i=e(s)(["\n  display: flex;\n  align-items: center;\n  margin-right: 4px;\n"]))),k=function(t){var n=t.editorState,r=t.mediaLinkingState,o=t.intl,i=t.onAddLink,s=t.onEditLink,l=t.onOpenLink,k=c.useState(!1),C=e(a)(k,2),S=C[0],T=C[1];if(c.useEffect((function(){var e;T(!1);var t=E.currentMediaNode(n);if(t){var r=null===(e=y.stateKey.getState(n))||void 0===e?void 0:e.mediaClientConfig;r&&p.checkMediaType(t,r).then((function(e){"external"!==e&&"image"!==e||T(!0)}))}}),[n]),!S)return null;if(r&&r.editable){var O=f.isSafeUrl(r.link),w=o.formatMessage(m.linkToolbarMessages.editLink),N=o.formatMessage(O?v.linkMessages.openLink:m.linkToolbarMessages.unableToOpenLink);return e(c).createElement(e(c).Fragment,null,e(c).createElement(x,null,e(c).createElement(h.default,{onClick:s,title:w,tooltipContent:e(c).createElement(b.ToolTipContent,{description:w,keymap:b.addLink})},w)),e(c).createElement(x,null,e(c).createElement(g.default,null)),e(c).createElement(h.default,{target:"_blank",href:O?r.link:void 0,disabled:!O,onClick:l,title:N,icon:e(c).createElement(e(d),{label:N}),className:"hyperlink-open-link"}),e(c).createElement(g.default,null))}var P=o.formatMessage(m.linkToolbarMessages.addLink);return e(c).createElement(e(c).Fragment,null,e(c).createElement(h.default,{testId:"add-link-button",onClick:i,title:P,tooltipContent:e(c).createElement(b.ToolTipContent,{description:P,keymap:b.addLink}),icon:e(c).createElement(e(u),{label:P})}),e(c).createElement(g.default,null))}})),r.register("3s3Hn",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("fybYz");var p=r("iS2Ys"),h=r("k5fYD");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var m=function(t){e(c)(r,t);var n=g(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onUploadStart",(function(e,n){var r=t.props.view,o=r.state,i=r.dispatch;h.uploadAnnotation(e,n)(o,i)})),e(d)(e(s)(t),"onClose",(function(){var e=t.props.view,n=e.state,r=e.dispatch;h.closeMediaEditor()(n,r)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props.mediaEditorState,n=t.editor,r=t.mediaClientConfig;if(!n||!r)return null;var o=n.identifier;return e(f).createElement(p.default,{identifier:o,mediaClientConfig:r,onUploadStart:this.onUploadStart,onClose:this.onClose})}}]),r}(e(f).PureComponent);e(d)(m,"displayName","MediaEditor")})),r.register("fybYz",(function(e,n){t(e.exports,"SmartMediaEditor",(function(){return r("iS2Ys").default})),t(e.exports,"EditorView",(function(){return r("fas83").default}));r("iS2Ys"),r("fas83")})),r.register("iS2Ys",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("9ePZF"),a=r("h67q9"),s=r("cNgp7"),c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("61szk"),m=r("jUhrO"),v=r("gNzee");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var y=function(t){e(d)(f,t);var n,o=b(f);function f(){var t;e(c)(this,f);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(h)(e(u)(t),"state",{SmartMediaEditor:f.SmartMediaEditor,isErrored:!1}),t}return e(l)(f,[{key:"UNSAFE_componentWillMount",value:(n=e(s)(e(i).mark((function t(){var n,o,s,c;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.state.SmartMediaEditor){t.next=16;break}return t.prev=1,t.next=4,Promise.all([r("6tWEG"),r("kcWcS")]);case 4:n=t.sent,o=e(a)(n,2),s=o[0],c=o[1],f.SmartMediaEditor=s.withMediaClient(c.default),this.setState({SmartMediaEditor:f.SmartMediaEditor}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(1),console.error(t.t0),this.setState({isErrored:!0});case 16:case"end":return t.stop()}}),t,this,[[1,12]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.state.isErrored?null:this.state.SmartMediaEditor?e(g).createElement(this.state.SmartMediaEditor,this.props):e(g).createElement(m.ModalSpinner,{blankedColor:v.N700A,invertSpinnerColor:!0})}}]),f}(e(g).PureComponent);e(h)(y,"displayName","AsyncSmartMediaEditor")})),r.register("gNzee",(function(e,n){t(e.exports,"R75",(function(){return i})),t(e.exports,"R100",(function(){return a})),t(e.exports,"R200",(function(){return s})),t(e.exports,"R300",(function(){return c})),t(e.exports,"R400",(function(){return l})),t(e.exports,"R500",(function(){return u})),t(e.exports,"Y50",(function(){return d})),t(e.exports,"Y75",(function(){return f})),t(e.exports,"Y200",(function(){return p})),t(e.exports,"Y300",(function(){return h})),t(e.exports,"Y400",(function(){return g})),t(e.exports,"Y500",(function(){return m})),t(e.exports,"G100",(function(){return v})),t(e.exports,"G200",(function(){return b})),t(e.exports,"G300",(function(){return y})),t(e.exports,"B50",(function(){return E})),t(e.exports,"B75",(function(){return x})),t(e.exports,"B100",(function(){return k})),t(e.exports,"B200",(function(){return C})),t(e.exports,"B300",(function(){return S})),t(e.exports,"B400",(function(){return T})),t(e.exports,"B500",(function(){return O})),t(e.exports,"P75",(function(){return w})),t(e.exports,"P100",(function(){return N})),t(e.exports,"T100",(function(){return P})),t(e.exports,"T300",(function(){return A})),t(e.exports,"N0",(function(){return I})),t(e.exports,"N20",(function(){return D})),t(e.exports,"N30",(function(){return R})),t(e.exports,"N40",(function(){return M})),t(e.exports,"N60",(function(){return _})),t(e.exports,"N70",(function(){return j})),t(e.exports,"N90",(function(){return B})),t(e.exports,"N200",(function(){return L})),t(e.exports,"N400",(function(){return F})),t(e.exports,"N500",(function(){return z})),t(e.exports,"N700",(function(){return W})),t(e.exports,"N800",(function(){return U})),t(e.exports,"N900",(function(){return H})),t(e.exports,"N20A",(function(){return V})),t(e.exports,"N30A",(function(){return K})),t(e.exports,"N50A",(function(){return G})),t(e.exports,"N600A",(function(){return J})),t(e.exports,"N700A",(function(){return q})),t(e.exports,"DN400",(function(){return Z})),t(e.exports,"DN300",(function(){return X})),t(e.exports,"DN100",(function(){return Q})),t(e.exports,"DN70",(function(){return $})),t(e.exports,"DN60",(function(){return ee})),t(e.exports,"DN30",(function(){return ne})),t(e.exports,"DN0",(function(){return re})),t(e.exports,"skeleton",(function(){return oe}));var o=r("5UN6K"),i="#FFBDAD",a="#FF8F73",s="#FF7452",c="#FF5630",l="#DE350B",u="#BF2600",d="#FFFAE6",f="#FFF0B3",p="#FFC400",h="#FFAB00",g="#FF991F",m="#FF8B00",v="#79F2C0",b="#57D9A3",y="#36B37E",E="#DEEBFF",x="#B3D4FF",k="#4C9AFF",C="#2684FF",S="#0065FF",T="#0052CC",O="#0747A6",w="#C0B6F2",N="#998DD9",P="#79E2F2",A="#00B8D9",I="#FFFFFF",D="#F4F5F7",R="#EBECF0",M="#DFE1E6",_="#B3BAC5",j="#A5ADBA",B="#8993A4",L="#6B778C",F="#505F79",z="#42526E",W="#253858",U="#172B4D",H="#091E42",V="rgba(9, 30, 66, 0.04)",K="rgba(9, 30, 66, 0.08)",G="rgba(9, 30, 66, 0.25)",J="rgba(9, 30, 66, 0.82)",q="rgba(9, 30, 66, 0.89)",Y="#B8C7E0",Z="#9FB0CC",X="#8C9CB8",Q="#67758F",$="#3B475C",ee="#313D52",te="#283447",ne="#1B2638",re="#0D1424",oe=(o.default({light:I,dark:ne}),o.default({light:E,dark:x}),o.default({light:R,dark:$}),o.default({light:I,dark:te}),o.default({light:H,dark:Y}),o.default({light:U,dark:Y}),o.default({light:T,dark:T}),o.default({light:L,dark:X}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:U,dark:Y}),o.default({light:L,dark:X}),o.default({light:D,dark:te}),o.default({light:T,dark:k}),o.default({light:S,dark:C}),o.default({light:O,dark:k}),o.default({light:k,dark:C}),o.default({light:T,dark:k}),o.default({light:T,dark:k}),o.default({light:A,dark:"#00C7E6"}),o.default({light:"#6554C0",dark:N}),o.default({light:c,dark:c}),o.default({light:h,dark:h}),o.default({light:y,dark:y}),function(){return V})})),r.register("5UN6K",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("eNOwS");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("eNOwS",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("6tWEG",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("gtcRx")).then((()=>r("cfREg")))})),r.register("kcWcS",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("gtcRx")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("iJvvW")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("jtt7p")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4gTie")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("eyMDn")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kthki")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kS12G")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kFcge")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("2h1CE"))]).then((()=>r("6ejr3")))})),r.register("fas83",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("jUhrO");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var v=function(t){e(u)(d,t);var n,o=m(d);function d(){var t;e(s)(this,d);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t=o.call.apply(o,[this].concat(r)),e(p)(e(l)(t),"state",{EditorView:d.EditorView}),t}return e(c)(d,[{key:"UNSAFE_componentWillMount",value:(n=e(a)(e(i).mark((function t(){var n;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.EditorView){e.next=11;break}return e.prev=1,e.next=4,r("d86ph");case 4:n=e.sent,d.EditorView=n.default,this.setState({EditorView:n.default}),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(1);case 11:case"end":return e.stop()}}),t,this,[[1,9]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.state.EditorView?e(h).createElement(this.state.EditorView,this.props):e(h).createElement(g.ModalSpinner,{blankedColor:"none",invertSpinnerColor:!1})}}]),d}(e(h).PureComponent);e(p)(v,"displayName","AsyncEditorView")})),r.register("d86ph",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("gtcRx")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("iJvvW")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("jtt7p")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("4gTie")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("eyMDn")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kthki")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kS12G")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kFcge"))]).then((()=>r("exiek")))})),r.register("fshDF",(function(n,o){t(n.exports,"MediaPickerComponents",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hve2H"),h=r("01QAm"),g=r("9s7ax"),m=r("4s4wW"),v=r("isefA");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{isPopupOpened:!1}),e(d)(e(s)(t),"onBrowseFn",(function(e){var n=t.props.mediaState;n&&n.setBrowseFn(e)})),t}return e(a)(r,[{key:"componentDidMount",value:function(){var e=this;this.props.mediaState.onPopupToggle((function(t){e.setState({isPopupOpened:t})}))}},{key:"render",value:function(){var t=this,n=this.props,r=n.mediaState,o=n.editorDomElement,i=n.appearance,a=this.state.isPopupOpened,s=r.mediaOptions&&r.mediaOptions.featureFlags;return e(f).createElement(m.default,{plugins:{focus:v.focusStateKey},render:function(n){var c=n.focus?e(f).createElement(p.ClipboardWrapper,{mediaState:r,featureFlags:s}):null;return e(f).createElement(e(f).Fragment,null,c,e(f).createElement(h.DropzoneWrapper,{mediaState:r,isActive:!a,featureFlags:s,editorDomElement:o,appearance:i}),!r.shouldUseMediaPickerPopup()&&e(f).createElement(g.BrowserWrapper,{onBrowseFn:t.onBrowseFn,mediaState:r,featureFlags:s}))}})}}]),r}(e(f).Component);e(d)(y,"displayName","MediaPickerComponents")})),r.register("hve2H",(function(n,o){t(n.exports,"ClipboardWrapper",(function(){return c}));var i=r("61szk"),a=r("kqNiL");r("ifbna");var s=r("k52Jr"),c=function(t){var n=t.mediaState,r=t.featureFlags;return e(i).createElement(a.default,{mediaState:n,analyticsName:"clipboard"},(function(t){var n=t.mediaClientConfig,o=t.config,a=t.pickerFacadeInstance;return e(i).createElement(s.ClipboardLoader,{mediaClientConfig:n,config:o,onError:a.handleUploadError,onPreviewUpdate:a.handleUploadPreviewUpdate,onEnd:a.handleReady,featureFlags:r})}))}})),r.register("kqNiL",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("ifbna");r("igW5C");var m=r("9ztLe"),v=r("5Onpz");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var y={on:function(){},removeAllListeners:function(){},emit:function(){},destroy:function(){},setUploadParams:function(){}},E=function(t){e(u)(r,t);var n=b(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=n.call.apply(n,[this].concat(c)),e(p)(e(l)(t),"state",{}),e(p)(e(l)(t),"handleMediaProvider",function(){var n=e(a)(e(i).mark((function n(r,o){var a,s,c,l,u,d,f,p;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props,s=a.mediaState,c=a.analyticsName,e.next=3,o;case 3:if((l=e.sent)&&l.uploadParams){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,l.uploadMediaClientConfig;case 8:if(e.t0=e.sent,e.t0){e.next=13;break}return e.next=12,l.viewMediaClientConfig;case 12:e.t0=e.sent;case 13:if(u=e.t0){e.next=16;break}return e.abrupt("return");case 16:return d={mediaClientConfig:u,errorReporter:s.options.errorReporter||new m.default,featureFlags:s.mediaOptions&&s.mediaOptions.featureFlags},e.next=19,new v.default("customMediaPicker",d,y,g.MediaPicker,c).init();case 19:(f=e.sent).onNewMedia(s.insertFile),f.setUploadParams(l.uploadParams),p={uploadParams:l.uploadParams},t.setState({pickerFacadeInstance:f,config:p,mediaClientConfig:u});case 24:case"end":return e.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()),t}return e(c)(r,[{key:"componentDidMount",value:function(){this.props.mediaState.options.providerFactory.subscribe("mediaProvider",this.handleMediaProvider)}},{key:"componentWillUnmount",value:function(){this.props.mediaState.options.providerFactory.unsubscribe("mediaProvider",this.handleMediaProvider)}},{key:"render",value:function(){var e=this.state,t=e.mediaClientConfig,n=e.config,r=e.pickerFacadeInstance;return t&&n&&r?this.props.children({mediaClientConfig:t,config:n,pickerFacadeInstance:r}):null}}]),r}(e(h).Component)})),r.register("01QAm",(function(n,o){t(n.exports,"DropzoneWrapper",(function(){return f}));var i=r("l15hj"),a=r("61szk");r("ifbna");var s=r("4sChf"),c=r("kqNiL");r("igW5C");var l=r("a0H0L");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t){var n=t.mediaState,r=t.isActive,o=t.featureFlags,i=t.editorDomElement,u=t.appearance;return e(a).createElement(c.default,{mediaState:n,analyticsName:"dropzone"},(function(t){var c=t.mediaClientConfig,f=t.config,p=t.pickerFacadeInstance,h=n.options.customDropzoneContainer,g=n.handleDrag,m=i,v="full-page"===u&&l.findOverflowScrollParent(m),b=h||v||m,y=d(d({},f),{},{container:b});return r?e(a).createElement(s.DropzoneLoader,{mediaClientConfig:c,config:y,onError:p.handleUploadError,onPreviewUpdate:p.handleUploadPreviewUpdate,onEnd:p.handleReady,onDragEnter:function(){return g("enter")},onDragLeave:function(){return g("leave")},featureFlags:o}):null}))}})),r.register("9s7ax",(function(n,o){t(n.exports,"BrowserWrapper",(function(){return d}));var i=r("l15hj"),a=r("61szk"),s=r("kqNiL");r("ifbna");var c=r("5gXj0");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(t){var n=t.mediaState,r=t.isOpen,o=t.onBrowseFn,i=t.featureFlags;return e(a).createElement(s.default,{mediaState:n,analyticsName:"browser"},(function(t){var n=t.mediaClientConfig,s=t.config,l=t.pickerFacadeInstance,d=u(u({},s),{},{multiple:!0});return e(a).createElement(c.BrowserLoader,{onBrowseFn:o,isOpen:r,config:d,mediaClientConfig:n,onEnd:l.handleReady,onError:l.handleUploadError,onPreviewUpdate:l.handleUploadPreviewUpdate,featureFlags:i})}))}})),r.register("isefA",(function(e,n){t(e.exports,"focusStateKey",(function(){return i})),t(e.exports,"default",(function(){return a}));var o=r("eBSbE"),i=new o.PluginKey("focusStatePlugin"),a=function(e){return new o.Plugin({key:i,state:{init:function(){return!0},apply:function(t,n){var r=t.getMeta(i);return"boolean"==typeof r&&r!==n?(e(i,r),r):n}},props:{handleDOMEvents:{click:function(e){return i.getState(e.state)||e.dispatch(e.state.tr.setMeta(i,e.hasFocus())),!1},focus:function(e){return i.getState(e.state)||e.dispatch(e.state.tr.setMeta(i,!0)),!1},blur:function(e){return i.getState(e.state)&&e.dispatch(e.state.tr.setMeta(i,!1)),!1}}}})}})),r.register("hbvFo",(function(n,o){t(n.exports,"ReactMediaNode",(function(){return N}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("auQQv"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj");r("igW5C");var p=r("5HbdK"),h=r("4W5Y2"),g=r("MsgJD"),m=r("eBSbE"),v=r("61szk"),b=r("lgqyB"),y=r("4s4wW"),E=r("9D9P7"),x=r("1d3w7"),k=r("bjJNi"),C=r("1nPHu"),S=r("bKhep"),T=r("laj9D");function O(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var w=function(t){e(l)(r,t);var n=O(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(f)(e(s)(t),"renderMediaNodeWithState",(function(n,r){return function(o){var i=o.width,a=t.getPos,s=t.reactComponentProps.mediaOptions,c=t.view.state.selection,l=t.getAttrs(),u="external"===l.type?l.url:"",d=l.width,f=l.height;if(t.isMediaBlobUrl()){var h=S.getAttrsFromUrl(u);if(h){var g=h.width,b=h.height;d=d||g,f=f||b}}d=d||p.DEFAULT_IMAGE_WIDTH,f=f||p.DEFAULT_IMAGE_HEIGHT;var y={width:"".concat(i.width,"px"),height:"".concat(f/d*i.width,"px")},E={width:d,height:f};return e(v).createElement(C.default,{view:t.view,node:t.node,getPos:a,selected:t.isNodeInsideSelection(c.from,c.to)||c instanceof m.NodeSelection&&c.from===a(),originalDimensions:E,maxDimensions:y,url:u,mediaProvider:n,contextIdentifierProvider:r,uploadComplete:t.uploadComplete(),mediaOptions:s})}})),e(f)(e(s)(t),"renderMediaNodeWithProviders",(function(n){var r=n.mediaProvider,o=n.contextIdentifierProvider;return e(v).createElement(y.default,{editorView:t.view,plugins:{width:E.pluginKey},render:t.renderMediaNodeWithState(r,o)})})),t}return e(a)(r,[{key:"createDomRef",value:function(){var e=document.createElement("div");return h.default.chrome&&this.reactComponentProps.mediaOptions&&this.reactComponentProps.mediaOptions.allowMediaSingleEditable&&(e.contentEditable="true"),e}},{key:"viewShouldUpdate",value:function(t){return this.node.attrs!==t.attrs||e(c)(e(d)(r.prototype),"viewShouldUpdate",this).call(this,t)}},{key:"stopEvent",value:function(e){if(-1!==["mousedown","contextmenu"].indexOf(e.type)&&2===e.button)return!0;return!1}},{key:"getAttrs",value:function(){return this.node.attrs}},{key:"isMediaBlobUrl",value:function(){var e=this.getAttrs();return T.isMediaBlobUrlFromAttrs(e)}},{key:"uploadComplete",value:function(){return x.isMobileUploadCompleted(k.stateKey.getState(this.view.state),this.node.attrs.id)}},{key:"render",value:function(){var t=this.reactComponentProps.providerFactory;return e(v).createElement(g.WithProviders,{providers:["mediaProvider","contextIdentifierProvider"],providerFactory:t,renderNode:this.renderMediaNodeWithProviders})}}]),r}(b.SelectionBasedNodeView),N=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(o,i,a){return new w(o,i,a,e,t,{eventDispatcher:t,providerFactory:n,mediaOptions:r}).init()}}})),r.register("9SLsk",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("61szk"),a=r("ekJGA"),s=r("bGnYv"),c=r("dNcxh"),l=r("hI7LA");r("cTu5S");var u=r("hNVBR"),d=r("9V1f8"),f=r("iIrvw"),p=r("cZJAh"),h=function(e,t,n){var r=n(g(e,t));return r&&u.addAnalytics(t,r,{action:d.ACTION.INSERTED,actionSubject:d.ACTION_SUBJECT.DOCUMENT,actionSubjectId:d.ACTION_SUBJECT_ID.PANEL,attributes:{inputMethod:d.INPUT_METHOD.QUICK_INSERT,panelType:e},eventType:d.EVENT_TYPE.TRACK}),r},g=function(e,t){return t.schema.nodes.panel.createChecked({panelType:e},t.schema.nodes.paragraph.createChecked())},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"panel",nodes:function(){return[{name:"panel",node:t.UNSAFE_allowCustomPanel?a.customPanel:a.panel}]},pmPlugins:function(){return[{name:"panel",plugin:function(e){var n=e.providerFactory,r=e.dispatch;return s.createPlugin(r,n,t)}},{name:"panelKeyMap",plugin:function(){return l.default()}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"infopanel",title:n(p.messages.infoPanel),keywords:["panel"],description:n(p.messages.infoPanelDescription),priority:800,icon:function(){return e(i).createElement(f.IconPanel,null)},action:function(e,t){return h(a.PanelType.INFO,t,e)}},{id:"notepanel",title:n(p.messages.notePanel),description:n(p.messages.notePanelDescription),priority:1e3,icon:function(){return e(i).createElement(f.IconPanelNote,null)},action:function(e,t){return h(a.PanelType.NOTE,t,e)}},{id:"successpanel",title:n(p.messages.successPanel),description:n(p.messages.successPanelDescription),keywords:["tip"],priority:1e3,icon:function(){return e(i).createElement(f.IconPanelSuccess,null)},action:function(e,t){return h(a.PanelType.SUCCESS,t,e)}},{id:"warningpanel",title:n(p.messages.warningPanel),description:n(p.messages.warningPanelDescription),priority:1e3,icon:function(){return e(i).createElement(f.IconPanelWarning,null)},action:function(e,t){return h(a.PanelType.WARNING,t,e)}},{id:"errorpanel",title:n(p.messages.errorPanel),description:n(p.messages.errorPanelDescription),priority:1e3,icon:function(){return e(i).createElement(f.IconPanelError,null)},action:function(e,t){return h(a.PanelType.ERROR,t,e)}}]},floatingToolbar:function(e,n,r){return c.getToolbarConfig(e,n,t,r)}}}}})),r.register("bGnYv",(function(e,n){t(e.exports,"createPlugin",(function(){return l}));var o=r("eBSbE");r("igW5C");var i=r("5AXQ3"),a=r("dHtBG"),s=r("it3j6"),c=r("cD9Ho"),l=function(e,t,n){var r=n.useLongPressSelection,l=void 0!==r&&r;return new o.Plugin({key:s.pluginKey,props:{nodeViews:{panel:a.getPanelNodeView(n,t)},handleClickOn:c.createSelectionClickHandler(["panel"],(function(e){return!!e.closest(".".concat(i.PanelSharedCssClassName.prefix))}),{useLongPressSelection:l})}})}})),r.register("dHtBG",(function(n,o){t(n.exports,"getPanelNodeView",(function(){return k}));var i=r("go2dD"),a=r("61szk"),s=r("c6wVG"),c=r("jWbqG"),l=r("fYY0c"),u=r("jq8di"),d=r("iR4LJ"),f=r("e8RF0"),p=r("lCbJB"),h=r("ltl1p"),g=r("ekJGA");r("igW5C");var m=r("9YWJg"),v=r("5AXQ3");r("igW5C");m=r("9YWJg"),v=r("5AXQ3");var b=r("36lCi"),y={info:e(l),success:e(u),note:e(d),tip:e(h),warning:e(f),error:e(p),custom:e(l)},E=function(t){var n=t.allowCustomPanel,r=t.providerFactory,o=t.panelAttributes,i=o.panelType,s=o.panelIcon;if(n&&s&&i===g.PanelType.CUSTOM)return e(a).createElement(m.default,{providers:r,shortName:s,showTooltip:!1,allowTextFallback:!1,fitToHeight:16});var c=y[i];return e(a).createElement(c,{label:"Panel ".concat(i)})},x=function t(n,r,o,l,u){e(i)(this,t),this.providerFactory=u,this.pluginOptions=l,this.view=r,this.node=n;var d=c.DOMSerializer.renderSpec(document,b.panelAttrsToDom(n.attrs,l.UNSAFE_allowCustomPanel||!1)),f=d.dom,p=d.contentDOM;this.getPos=o,this.dom=f,this.contentDOM=p,this.icon=this.dom.querySelector(".".concat(v.PanelSharedCssClassName.icon)),this.icon&&e(s).render(e(a).createElement(E,{allowCustomPanel:l.UNSAFE_allowCustomPanel,panelAttributes:n.attrs,providerFactory:this.providerFactory}),this.icon)},k=function(e,t){return function(n,r,o){return new x(n,r,o,e,t)}}})),r.register("36lCi",(function(e,n){t(e.exports,"findPanel",(function(){return s})),t(e.exports,"panelAttrsToDom",(function(){return c}));var o=r("iFBc4"),i=r("ekJGA");r("igW5C");var a=r("5AXQ3"),s=function(e,t){var n=e.schema.nodes.panel;return o.findSelectedNodeOfType(n)(t||e.selection)||o.findParentNodeOfType(n)(t||e.selection)},c=function(e,t){var n=e.panelColor,r=e.panelType,o=e.panelIcon,s=r===i.PanelType.CUSTOM&&t,c=n&&s?"background-color: ".concat(n):"",l=!s||!!o,u={class:a.PanelSharedCssClassName.prefix,"data-panel-type":r||i.PanelType.INFO,style:c},d=["span",{class:a.PanelSharedCssClassName.icon}],f=["div",{class:a.PanelSharedCssClassName.content},0];return l?["div",u,d,f]:["div",u,f]}})),r.register("it3j6",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("panelPlugin")})),r.register("dNcxh",(function(n,o){t(n.exports,"getToolbarConfig",(function(){return C}));var i=r("7RIig"),a=r("jq8di"),s=r("fYY0c"),c=r("iR4LJ"),l=r("iOuu2"),u=r("e8RF0"),d=r("lCbJB"),f=r("ekJGA"),p=r("ch3px"),h=r("3RZpm"),g=r("hIycq"),m=r("g62T0");r("igW5C");var v=r("5AXQ3"),b=r("36lCi"),y=r("iFBc4"),E=r("1LCMb"),x=i.defineMessages({info:{id:"fabric.editor.info",defaultMessage:"Info",description:"Panels provide a way to highlight text. The info panel has a blue background."},note:{id:"fabric.editor.note",defaultMessage:"Note",description:"Panels provide a way to highlight text. The note panel has a purple background."},success:{id:"fabric.editor.success",defaultMessage:"Success",description:"Panels provide a way to highlight text. The success panel has a green background."},warning:{id:"fabric.editor.warning",defaultMessage:"Warning",description:"Panels provide a way to highlight text. The warning panel has a yellow background."},error:{id:"fabric.editor.error",defaultMessage:"Error",description:"Panels provide a way to highlight text. The error panel has a red background."},emoji:{id:"fabric.editor.panel.emoji",defaultMessage:"Add icon",description:"Select the panel icon"},backgroundColor:{id:"fabric.editor.panel.backgroundColor",defaultMessage:"Background color",description:"Select the panel background color."}}),k=function(t,n,r,o,i,b,y){var k=[{id:"editor.panel.info",type:"button",icon:e(s),onClick:h.changePanelType(f.PanelType.INFO),selected:i===f.PanelType.INFO,title:t(x.info)},{id:"editor.panel.note",type:"button",icon:e(c),onClick:h.changePanelType(f.PanelType.NOTE),selected:i===f.PanelType.NOTE,title:t(x.note)},{id:"editor.panel.success",type:"button",icon:e(a),onClick:h.changePanelType(f.PanelType.SUCCESS),selected:i===f.PanelType.SUCCESS,title:t(x.success)},{id:"editor.panel.warning",type:"button",icon:e(u),onClick:h.changePanelType(f.PanelType.WARNING),selected:i===f.PanelType.WARNING,title:t(x.warning)},{id:"editor.panel.error",type:"button",icon:e(d),onClick:h.changePanelType(f.PanelType.ERROR),selected:i===f.PanelType.ERROR,title:t(x.error)}];if(r){var C=i===f.PanelType.CUSTOM?b||v.getPanelTypeBackground(f.PanelType.INFO):v.getPanelTypeBackground(i),S=m.panelBackgroundPalette.find((function(e){return e.value===C}))||{label:"Custom",value:C,border:E.DEFAULT_BORDER_COLOR},T={id:"editor.panel.colorPicker",title:t(x.backgroundColor),type:"select",selectType:"color",defaultValue:S,options:m.panelBackgroundPalette,onChange:function(e){return t=e.value,function(e,n){return h.changePanelType(f.PanelType.CUSTOM,{color:t},!0)(e,n),!1};var t}};k.push({type:"separator"},T,{id:"editor.panel.emojiPicker",title:t(x.emoji),type:"emoji-picker",selected:i===f.PanelType.CUSTOM,onChange:function(e){return function(e){return function(t,n){return h.changePanelType(f.PanelType.CUSTOM,{emoji:e},!0)(t,n),!1}}(e)}})}return k.push({type:"separator"},{id:"editor.panel.delete",type:"button",appearance:"danger",icon:e(l),onClick:h.removePanel(),onMouseEnter:g.hoverDecoration(n,!0),onMouseLeave:g.hoverDecoration(n,!1),title:t(p.default.remove)}),k},C=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.formatMessage,o=b.findPanel(e);if(o){var i=e.schema.nodes.panel,a=o.node.attrs,s=a.panelType,c=a.panelColor,l=(a.panelIcon,k(r,i,n.UNSAFE_allowCustomPanel||!1,0,s,n.UNSAFE_allowCustomPanel?c:void 0,n.UNSAFE_allowCustomPanel)),u=function(e){var t=e.domAtPos.bind(e);return y.findDomRefAtPos(o.pos,t)};return{title:"Panel floating controls",getDomRef:u,nodeType:i,items:l}}}})),r.register("3RZpm",(function(e,n){t(e.exports,"removePanel",(function(){return d})),t(e.exports,"changePanelType",(function(){return p}));var o=r("iFBc4"),i=r("eBSbE"),a=r("ekJGA");r("igW5C");var s=r("5AXQ3");r("cTu5S");var c=r("9V1f8"),l=r("hNVBR"),u=r("36lCi"),d=function(){return function(e,t){var n=e.schema.nodes,r=e.tr,i={action:c.ACTION.DELETED,actionSubject:c.ACTION_SUBJECT.PANEL,attributes:{inputMethod:c.INPUT_METHOD.TOOLBAR},eventType:c.EVENT_TYPE.TRACK},a=r;return o.findSelectedNodeOfType(n.panel)(r.selection)?a=o.removeSelectedNode(r):o.findParentNodeOfType(n.panel)(r.selection)&&(a=o.removeParentNodeOfType(n.panel)(r)),!!a&&(t&&t(l.addAnalytics(e,a,i)),!0)}},f=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=e.attrs,o=r.panelIcon,i=r.panelColor,c=r.panelType,l=n.emoji,u=n.color,d=o,f=t,p=s.getPanelTypeBackground(t!==a.PanelType.CUSTOM?t:c);return(u||i)&&(p=u||i),l&&(d=l),{panelIcon:d,panelColor:p,panelType:f}},p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,o){var a=r.schema.nodes,s=r.tr,d=u.findPanel(r);if(void 0===d)return!1;var p=e,h=d.node.attrs.panelType;n&&(p=f(d.node,e,t).panelType,h=e);var g,m={action:c.ACTION.CHANGED_TYPE,actionSubject:c.ACTION_SUBJECT.PANEL,attributes:{newType:p,previousType:h},eventType:c.EVENT_TYPE.TRACK};if(n){var v=f(d.node,e,t),b=v.panelIcon,y=v.panelColor,E=v.panelType;g=s.setNodeMarkup(d.pos,a.panel,{panelType:E,panelIcon:b,panelColor:y})}else g=s.setNodeMarkup(d.pos,a.panel,{panelType:e});var x=r.selection instanceof i.NodeSelection&&"panel"===r.selection.node.type.name?g.setSelection(new i.NodeSelection(s.doc.resolve(d.pos))):g,k=l.addAnalytics(r,x,m);return k.setMeta("scrollIntoView",!1),o&&o(k),!0}}})),r.register("g62T0",(function(n,o){t(n.exports,"panelBackgroundPalette",(function(){return u}));var i=r("l15hj"),a=r("cufhv"),s=r("1LCMb");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=[{label:"Doctor",value:a.N0},{label:"Pixie dust",value:a.B50},{label:"Gram's sofa",value:a.T50},{label:"The smell",value:a.G50},{label:"James blonde",value:a.Y50},{label:"Rosie",value:a.R50},{label:"Lavender secret",value:a.P50},{label:"Gram's hair",value:a.N20},{label:"Schwag",value:a.B75},{label:"Arctic chill",value:a.T75},{label:"Mintie",value:a.G75},{label:"Dandelion whisper",value:a.Y75},{label:"Bondi sunburn",value:a.R75},{label:"Phantom mist",value:a.P75},{label:"Sentinel",value:a.N60},{label:"Arvo breeze",value:a.B100},{label:"Hairy fairy",value:a.T100},{label:"Green tea",value:a.G200},{label:"Pub mix",value:a.Y200},{label:"Alexandria",value:a.R100},{label:"Herky jerky",value:a.P100}].map((function(e){return l(l({},e),{},{border:s.DEFAULT_BORDER_COLOR})}))})),r.register("1LCMb",(function(e,n){t(e.exports,"DEFAULT_BORDER_COLOR",(function(){return f}));var o=r("cufhv"),i=r("iGpAs");var a,s,c,l,u,d,f=(a=o.N800,s=.12,c=i.default.convert(a).rgb,l=c.r,u=c.g,d=c.b,"rgba(".concat(l,", ").concat(u,", ").concat(d,", ").concat(s,")"))})),r.register("hI7LA",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("6mFHM"),i=r("iFBc4");var a=function(){var e={Backspace:function(e,t){var n=e.selection,r=e.schema.nodes,o=e.tr,a=r.panel,s=n.$from,c=n.$to;if(s.pos!==c.pos)return!1;if(0!==s.parentOffset)return!1;var l=o.doc.resolve(Math.max(0,s.before(s.depth)-1)),u=l.pos>0&&l.parent&&l.parent.type,d=s.parent.type;if(u===a&&!(d===a)){var f=s.node(s.depth).content,p=l.pos-1;return function(e,t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}(s,o).insert(p,f),t&&t(i.setTextSelection(p)(o).scrollIntoView()),!0}return s.node().type===a}};return o.keymap(e)}})),r.register("1heP2",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("61szk"),a=r("eBSbE"),s=r("ekJGA"),c=r("iSpDQ"),l=r("4s4wW");r("9J8af");var u=r("l9fpM"),d=r("kVscW"),f=r("2PYfw"),p=r("c0TOp"),h=r("1UFUA"),g=r("e2Ipy");r("cTu5S");var m=r("hNVBR"),v=r("9V1f8"),b=r("6UBHG");var y=function(t){return{name:"placeholderText",nodes:function(){return[{name:"placeholder",node:s.placeholder}]},pmPlugins:function(){return[{name:"placeholderText",plugin:function(e){return function(e,t){var n=!!t.allowInserting;return new a.Plugin({key:g.pluginKey,state:{init:function(){return{showInsertPanelAt:null,allowInserting:n}},apply:function(t,r){var o=t.getMeta(g.pluginKey);if(o&&void 0!==o.showInsertPanelAt){var i={showInsertPanelAt:o.showInsertPanelAt,allowInserting:n};return e(g.pluginKey,i),i}if(r.showInsertPanelAt){var a={showInsertPanelAt:t.mapping.map(r.showInsertPanelAt),allowInserting:n};return e(g.pluginKey,a),a}return r}},appendTransaction:function(e,t,n){if(e.some((function(e){return e.docChanged}))){var r=t.selection.$head.nodeAfter===n.selection.$head.nodeAfter,o=n.selection.$head.nodeAfter,i=n.selection.$head.pos,s=n.schema.nodes.placeholder;if(o&&o.type===s&&r&&t.selection.$head.pos<n.selection.$head.pos&&!u.isNodeEmpty(n.selection.$head.nodeBefore)){var c=a.NodeSelection.create(n.doc,i),l=c.$from,f=c.$to;return n.tr.deleteRange(l.pos,f.pos)}}return!g.pluginKey.getState(t).showInsertPanelAt&&g.pluginKey.getState(n).showInsertPanelAt?n.tr.setSelection(new d.FakeTextCursorSelection(n.selection.$from)):g.pluginKey.getState(t).showInsertPanelAt&&!g.pluginKey.getState(n).showInsertPanelAt&&n.selection instanceof d.FakeTextCursorSelection?n.tr.setSelection(new a.TextSelection(n.selection.$from)):void 0},props:{nodeViews:{placeholder:function(e,t,n){return new h.PlaceholderTextNodeView(e,t,n)}}}})}(e.dispatch,t)}}]},contentComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,a=function(e){return p.insertPlaceholderTextAtSelection(e)(n.state,n.dispatch)},s=function(){return p.hidePlaceholderFloatingToolbar(n.state,n.dispatch)},c=function(e){return n.domAtPos(e).node},u=function(e){return n.coordsAtPos(e)},d=function(){return n.focus()};return e(i).createElement(l.default,{plugins:{placeholderTextState:g.pluginKey},render:function(t){var l=t.placeholderTextState,p=void 0===l?{}:l;return p.showInsertPanelAt?e(i).createElement(f.default,{editorViewDOM:n.dom,popupsMountPoint:r,popupsBoundariesElement:o,getFixedCoordinatesFromPos:u,getNodeFromPos:c,hidePlaceholderFloatingToolbar:s,showInsertPanelAt:p.showInsertPanelAt,insertPlaceholder:a,setFocusInEditor:d}):null}})}}},E=function(t){return function(t,n){return n.allowInserting?(t.pluginsOptions={quickInsert:function(t){var n=t.formatMessage;return[{id:"placeholderText",title:n(b.messages.placeholderText),description:n(b.messages.placeholderTextDescription),priority:1400,keywords:["placeholder"],icon:function(){return e(i).createElement(e(c),{label:""})},action:function(e,t){var n=e(t.schema.nodes.placeholder.createChecked());return n.setMeta(g.pluginKey,{showInsertPanelAt:n.selection.anchor}),m.addAnalytics(t,n,{action:v.ACTION.INSERTED,actionSubject:v.ACTION_SUBJECT.DOCUMENT,actionSubjectId:v.ACTION_SUBJECT_ID.PLACEHOLDER_TEXT,attributes:{inputMethod:v.INPUT_METHOD.QUICK_INSERT},eventType:v.EVENT_TYPE.TRACK})}}]}},t):t}(y(t),t)}})),r.register("2PYfw",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig"),h=r("71T2y");r("4udD0");var g=r("eKAFl"),m=r("4udD0");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=p.defineMessages({placeholderTextPlaceholder:{id:"fabric.editor.placeholderTextPlaceholder",defaultMessage:"Add placeholder text",description:""}}),y=function(t){e(c)(r,t);var n=v(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleSubmit",(function(e){e?(t.props.insertPlaceholder(e),t.props.setFocusInEditor()):t.props.hidePlaceholderFloatingToolbar()})),e(d)(e(s)(t),"handleBlur",(function(){t.props.hidePlaceholderFloatingToolbar()})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.getNodeFromPos,r=t.showInsertPanelAt,o=t.editorViewDOM,i=t.popupsMountPoint,a=t.getFixedCoordinatesFromPos,s=t.popupsBoundariesElement,c=t.intl.formatMessage,l=n(r),u=g.getOffsetParent(o,i),d=g.handlePositionCalculatedWith(u,l,(function(){return a(r)}));return e(f).createElement(m.default,{target:g.getNearestNonTextNode(l),onPositionCalculated:d,popupsMountPoint:i,popupsBoundariesElement:s,fitHeight:32,offset:[0,12]},e(f).createElement(h.default,{placeholder:c(b.placeholderTextPlaceholder),onSubmit:this.handleSubmit,onBlur:this.handleBlur,autoFocus:!0,width:300}))}}]),r}(e(f).Component),E=p.injectIntl(y)})),r.register("4udD0",(function(n,o){t(n.exports,"default",(function(){return h})),t(n.exports,"handlePositionCalculatedWith",(function(){return r("eKAFl").handlePositionCalculatedWith})),t(n.exports,"getOffsetParent",(function(){return r("eKAFl").getOffsetParent})),t(n.exports,"getNearestNonTextNode",(function(){return r("eKAFl").getNearestNonTextNode}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");u=r("61szk");r("igW5C");var d=r("5Dx14"),f=r("aN7Qa");r("eKAFl");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.containerRef,r=t.children,o=t.target,i=t.offset,a=t.fitWidth,s=t.fitHeight,c=void 0===s?40:s,l=t.onPositionCalculated,p=t.popupsMountPoint,h=t.popupsBoundariesElement,g=t.className,m=t.alignX,v=t.alignY,b=t.zIndex;return o?e(u).createElement(d.default,{alignX:m,alignY:v,target:o,zIndex:b,mountTo:p,boundariesElement:h,offset:i,fitWidth:a,fitHeight:c,onPositionCalculated:l},e(u).createElement(f.Container,{height:c,className:g,innerRef:n},r)):null}}]),r}(u.PureComponent)})),r.register("aN7Qa",(function(n,o){t(n.exports,"Container",(function(){return f}));var i,a,s=r("lhkMJ"),c=r("SssiD"),l=r("kFKbx"),u=r("cufhv"),d=r("xZbZL"),f=c.default.div(i||(i=e(s)(["\n  border-radius: ","px;\n  "," display: flex;\n  align-items: center;\n  box-sizing: border-box;\n  padding: 4px 8px;\n  background-color: ",";\n  ",";\n"])),l.borderRadius(),d.dropShadow,u.N0,(function(t){var n=t.height;return n?c.css(a||(a=e(s)(["\n          height: ","px;\n        "])),n):""}))})),r.register("eKAFl",(function(e,n){t(e.exports,"getOffsetParent",(function(){return r})),t(e.exports,"getNearestNonTextNode",(function(){return o})),t(e.exports,"handlePositionCalculatedWith",(function(){return i}));var r=function(e,t){return t?t.offsetParent:e.offsetParent},o=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},i=function(e,t,n){return function(r){if(!e)return r;var i=function(e){return parseFloat(window.getComputedStyle(e,void 0).lineHeight||"")}(o(t)),a=function(e,t,n){var r=t.getBoundingClientRect(),o=r.left,i=r.top,a=r.height;return{left:e.left-o,right:e.right-o,top:e.top-(i-n)+t.scrollTop,bottom:a-(e.top-(i-n)-t.scrollTop)}}(n(),e,i);return{left:r.left?a.left:void 0,right:r.right?a.right:void 0,top:r.top?a.top:void 0,bottom:r.bottom?a.bottom:void 0}}}})),r.register("1UFUA",(function(n,o){t(n.exports,"PlaceholderTextNodeView",(function(){return l}));var i=r("go2dD"),a=r("4NDMl"),s=r("jWbqG"),c=r("eBSbE"),l=function(){function t(n,r,o){e(i)(this,t),this.node=n,this.view=r,this.getPos=o;var a=s.DOMSerializer.fromSchema(this.view.state.schema);this.dom=a.serializeNode(this.node)}return e(a)(t,[{key:"ignoreMutation",value:function(e){var t=this.view,n=this.dom,r=this.node,o=n.textContent||"",i=r.attrs.text;if("characterData"===e.type&&o!==i&&o.includes(i)&&"function"==typeof this.getPos){var a=this.getPos(),s=a+this.node.nodeSize,l=o.replace(i,""),u=t.state.tr.replaceRangeWith(a,s,t.state.schema.text(l));u=u.setSelection(c.TextSelection.create(u.doc,s,s)),t.dispatch(u)}return"selection"!==e.type}}]),t}()})),r.register("4qElB",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("61szk"),a=r("jWbqG"),s=r("ekJGA"),c=r("eqcRs");r("cTu5S");var l=r("hNVBR"),u=r("9V1f8"),d=r("lWHVr"),f=r("6UBHG"),p=r("iIrvw"),h=r("erSDz"),g=r("coyPW"),m=function(){return{name:"rule",nodes:function(){return[{name:"rule",node:s.rule}]},pmPlugins:function(){return[{name:"ruleInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return h.default(t,n)}},{name:"ruleKeymap",plugin:function(){return g.default()}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"rule",title:n(f.messages.horizontalRule),description:n(f.messages.horizontalRuleDescription),keywords:["horizontal","rule","line","hr"],priority:1200,keyshortcut:"---",icon:function(){return e(i).createElement(p.IconDivider,null)},action:function(e,t){var n=null;return d.getFeatureFlags(t).newInsertionBehaviour&&(n=e(a.Fragment.empty),n=c.safeInsert(t.schema.nodes.rule.createChecked(),n.selection.from)(n)),n||(n=e(t.schema.nodes.rule.createChecked())),l.addAnalytics(t,n,{action:u.ACTION.INSERTED,actionSubject:u.ACTION_SUBJECT.DOCUMENT,actionSubjectId:u.ACTION_SUBJECT_ID.DIVIDER,attributes:{inputMethod:u.INPUT_METHOD.QUICK_INSERT},eventType:u.EVENT_TYPE.TRACK})}}]}}}}})),r.register("coyPW",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("6mFHM"),i=r("k6sjS"),a=r("7uC1r");r("cTu5S");var s=r("hNVBR"),c=r("9V1f8");var l=function(){var e={};return a.bindKeymapWithCommand(a.insertRule.common,s.withAnalytics({action:c.ACTION.INSERTED,actionSubject:c.ACTION_SUBJECT.DOCUMENT,actionSubjectId:c.ACTION_SUBJECT_ID.DIVIDER,attributes:{inputMethod:c.INPUT_METHOD.SHORTCUT},eventType:c.EVENT_TYPE.TRACK})(i.insertRule()),e),a.bindKeymapWithCommand(a.escape.common,(function(){return!0}),e),o.keymap(e)}})),r.register("chuDv",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("6mFHM");r("cTu5S");var i=r("9V1f8"),a=r("46vX8");function s(e,t){if(t)return o.keymap({Enter:function(n,r,o){return!!function(e){var t=e.state.selection.$cursor,n=e.state.schema.nodes,r=n.decisionItem,o=n.paragraph,i=n.taskItem;return!t||t.parent.type===o&&1===t.depth||t.parent.type===r&&!c(t)||t.parent.type===i&&!c(t)}(o)&&(e(a.analyticsEventKey,l(n)),t(o),!0)}})}function c(e){var t=e.parent.content;return!(t&&t.size)}var l=function(e){return{payload:{action:i.ACTION.STOPPED,actionSubject:i.ACTION_SUBJECT.EDITOR,actionSubjectId:i.ACTION_SUBJECT_ID.SAVE,attributes:{inputMethod:i.INPUT_METHOD.SHORTCUT,documentSize:e.doc.nodeSize},eventType:i.EVENT_TYPE.UI}}},u=function(e){return{name:"saveOnEnter",pmPlugins:function(){return[{name:"saveOnEnter",plugin:function(t){return s(t.dispatch,e)}}]}}}})),r.register("aA4KS",(function(n,o){t(n.exports,"default",(function(){return j}));var i=r("61szk");r("9vGAO");var a=r("lv77W"),s=r("kEb1F"),c=r("ekJGA"),l=r("7uC1r"),u=r("4s4wW");r("cTu5S");var d=r("9V1f8"),f=r("hNVBR"),p=r("6UBHG"),h=r("iIrvw"),g=r("3VkmK"),m=r("b2tck"),v=r("ktk1y"),b=r("6PGW3"),y=r("6P9AP"),E=r("cmcxP"),x=r("cFImz"),k=r("c2oqC"),C=r("78JCz"),S=r("kV4mh"),T=r("4LKy5"),O=r("eg9AV"),w=r("8rxBy"),N=r("a6oJQ"),P=r("k2EFJ"),A=r("hp4zw"),I=r("9jXN4"),D=r("3S3Ww"),R=r("hiCRA"),M=r("lWHVr"),_=r("aitud"),j=function(t){return{name:"table",nodes:function(){return[{name:"table",node:null!=t&&t.allowLocalIdGeneration?c.tableWithLocalId:c.table},{name:"tableHeader",node:c.tableHeader},{name:"tableRow",node:c.tableRow},{name:"tableCell",node:c.tableCell}]},pmPlugins:function(){return[{name:"table",plugin:function(e){var n=e.dispatch,r=e.portalProviderAPI,o=e.eventDispatcher,i=t||{},a=i.dynamicSizingEnabled,s=i.fullWidthEnabled,c=i.wasFullWidthEnabled,l=i.breakoutEnabled,u=i.tableOptions,d=i.allowLocalIdGeneration;return E.createPlugin(n,r,o,g.pluginConfig(u),l&&a,l,s,c,d)}},{name:"tablePMColResizing",plugin:function(e){var n=e.dispatch,r=t||{},o=r.dynamicSizingEnabled,i=r.fullWidthEnabled,a=r.tableOptions;return g.pluginConfig(a).allowColumnResizing?T.createPlugin(n,{dynamicTextSizing:o&&!i,lastColumnResizable:!i}):void 0}},{name:"tableEditing",plugin:function(){return v.createPlugin()}},{name:"tableKeymap",plugin:function(){return b.keymapPlugin(null==t?void 0:t.allowLocalIdGeneration)}},{name:"tableSelectionKeymap",plugin:function(){return y.tableSelectionKeymapPlugin()}},{name:"tableEditing",plugin:function(){return a.tableEditing()}},{name:"tableStickyHeaders",plugin:function(e){var n=e.dispatch,r=e.eventDispatcher;return t&&t.tableOptions.stickyHeaders?k.createPlugin(n,r):void 0}},{name:"tableLocalId",plugin:function(e){var n=e.dispatch;return t&&null!=t&&t.allowLocalIdGeneration?m.createPlugin(n):void 0}}]},contentComponent:function(n){var r=n.editorView,o=n.popupsMountPoint,a=n.popupsBoundariesElement,s=n.popupsScrollableElement,c=n.dispatchAnalyticsEvent;return e(i).createElement(_.ErrorBoundary,{component:d.ACTION_SUBJECT.TABLES_PLUGIN,dispatchAnalyticsEvent:c,fallbackComponent:null},e(i).createElement(u.default,{plugins:{tablePluginState:x.pluginKey,tableResizingPluginState:O.pluginKey,stickyHeadersState:C.pluginKey},render:function(n){var l=n.tableResizingPluginState,u=n.stickyHeadersState,d=n.tablePluginState,f=r.state,p=null==l?void 0:l.dragging,h=d,g=h.tableNode,m=h.tablePos,v=h.targetCellPosition,b=h.isContextualMenuOpen,y=h.layout,E=h.tableRef,x=h.pluginConfig,k=h.insertColumnButtonIndex,C=h.insertRowButtonIndex,T=h.isHeaderColumnEnabled,O=h.isHeaderRowEnabled,w=h.tableWrapperTarget,_=h.tableWidth,j=x.allowControls,B=(M.getFeatureFlags(f)||{}).tableRenderOptimization,L=u?S.findStickyHeaderForTable(u,m):void 0;return e(i).createElement(e(i).Fragment,null,v&&E&&!p&&t&&t.allowContextualMenu&&e(i).createElement(N.default,{isNumberColumnEnabled:g&&g.attrs.isNumberColumnEnabled,editorView:r,tableNode:g,mountPoint:o,targetCellPosition:v,scrollableElement:s,dispatchAnalyticsEvent:c,isContextualMenuOpen:b,layout:y,stickyHeader:L}),j&&e(i).createElement(I.default,{tableNode:g,tableRef:E,insertColumnButtonIndex:k,insertRowButtonIndex:C,isHeaderColumnEnabled:T,isHeaderRowEnabled:O,editorView:r,mountPoint:o,boundariesElement:a,scrollableElement:s,hasStickyHeaders:L&&L.sticky,dispatchAnalyticsEvent:c}),e(i).createElement(P.default,{editorView:r,mountPoint:o,boundariesElement:a,targetCellPosition:v,isOpen:Boolean(b),pluginConfig:x}),j&&e(i).createElement(A.default,{editorView:r,selection:r.state.selection,tableRef:E,mountPoint:o,boundariesElement:a,scrollableElement:s,stickyHeaders:L,isNumberColumnEnabled:g&&g.attrs.isNumberColumnEnabled}),R.isLayoutSupported(f)&&t&&t.breakoutEnabled&&e(i).createElement(D.default,{editorView:r,mountPoint:o,boundariesElement:a,scrollableElement:s,targetRef:w,layout:y,isResizing:!!l&&!!l.dragging,tableWidth:B?_:void 0}))}}))},pluginsOptions:{quickInsert:function(n){var r=n.formatMessage;return[{id:"table",title:r(p.messages.table),description:r(p.messages.tableDescription),keywords:["cell"],priority:600,keyshortcut:l.tooltip(l.toggleTable),icon:function(){return e(i).createElement(h.IconTable,null)},action:function(e,n){var r=e(s.createTable({schema:n.schema,allowLocalId:null==t?void 0:t.allowLocalIdGeneration}));return f.addAnalytics(n,r,{action:d.ACTION.INSERTED,actionSubject:d.ACTION_SUBJECT.DOCUMENT,actionSubjectId:d.ACTION_SUBJECT_ID.TABLE,attributes:{inputMethod:d.INPUT_METHOD.QUICK_INSERT},eventType:d.EVENT_TYPE.TRACK})}}]},floatingToolbar:w.getToolbarConfig(g.pluginConfig(null==t?void 0:t.tableOptions))}}}})),r.register("9vGAO",(function(e,n){t(e.exports,"tableEditing",(function(){return r("lv77W").tableEditing}));r("lv77W")})),r.register("lv77W",(function(e,n){t(e.exports,"tableEditing",(function(){return d}));var o=r("eBSbE"),i=r("67bLC"),a=r("j1Pzk"),s=r("5Yf0S"),c=r("cAWAT"),l=r("iNtxY"),u=r("58Yac");function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.allowTableNodeSelection,n=void 0!==t&&t;return new o.Plugin({key:u.tableEditingKey,state:{init:function(){return null},apply:function(e,t){var n=e.getMeta(u.tableEditingKey);if(null!=n)return-1===n?null:n;if(null==t||!e.docChanged)return t;var r=e.mapping.mapResult(t),o=r.deleted,i=r.pos;return o?null:i}},props:{decorations:a.drawCellSelection,handleDOMEvents:{mousedown:l.handleMouseDown},createSelectionBetween:function(e){return null!=u.tableEditingKey.getState(e.state)?e.state.selection:null},handleTripleClick:l.handleTripleClick,handleKeyDown:l.handleKeyDown,handlePaste:i.handlePaste},appendTransaction:function(e,t,r){return c.normalizeSelection(r,s.fixTables(r,t),n)}})}})),r.register("j1Pzk",(function(e,n){t(e.exports,"drawCellSelection",(function(){return a}));var o=r("9MUi0"),i=r("bKnyF");function a(e){if(!(e.selection instanceof i.CellSelection))return null;var t=[];return e.selection.forEachCell((function(e,n){t.push(o.Decoration.node(n,n+e.nodeSize,{class:"selectedCell"}))})),o.DecorationSet.create(e.doc,t)}})),r.register("5Yf0S",(function(n,o){t(n.exports,"fixTables",(function(){return p}));var i=r("l15hj"),a=r("58Yac"),s=r("jBp4v"),c=r("6tqno"),l=r("dNs23");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(e,t,n,r){var o=n,i=e.childCount,a=t.childCount;e:for(var s=0,c=0;s<a;s++){for(var l=t.child(s),u=c,d=Math.min(i,s+3);u<d;u++)if(e.child(u)===l){c=u+1,o+=l.nodeSize;continue e}r(l,o),c<i&&e.child(c).sameMarkup(l)?f(e.child(c),l,o+1,r):l.nodesBetween(0,l.content.size,r,o+1),o+=l.nodeSize}}function p(e,t){var n,r=function(t,r){"table"===t.type.spec.tableRole&&(n=function(e,t,n,r){var o=r,i=s.TableMap.get(t);if(!i.problems)return o;o||(o=e.tr);for(var u,f,p=[],h=0;h<i.height;h++)p.push(0);for(var g=0;g<i.problems.length;g++){var m=i.problems[g];if(m.type===s.TableProblemTypes.COLLISION){var v=m,b=t.nodeAt(m.pos);if(!b)throw new Error("fixTable: unable to find cell at pos ".concat(m.pos));for(var y=0;y<b.attrs.rowspan;y++)p[v.row+y]+=v.n;o.setNodeMarkup(o.mapping.map(n+1+m.pos),void 0,c.removeColSpan(b.attrs,b.attrs.colspan-v.n,v.n))}else if(m.type===s.TableProblemTypes.MISSING){var E=m;p[E.row]+=E.n}else if(m.type===s.TableProblemTypes.OVERLONG_ROWSPAN){var x=m,k=t.nodeAt(x.pos);if(!k)throw new Error("fixTable: unable to find cell at pos ".concat(m.pos));o.setNodeMarkup(o.mapping.map(n+1+x.pos),void 0,d(d({},k.attrs),{},{rowspan:k.attrs.rowspan-x.n}))}else if(m.type===s.TableProblemTypes.COLWIDTH_MISMATCH){var C=t.nodeAt(m.pos);if(!C)throw new Error("fixTable: unable to find cell at pos ".concat(m.pos));o.setNodeMarkup(o.mapping.map(n+1+m.pos),void 0,d(d({},C.attrs),{},{colwidth:m.colwidth}))}}for(var S=0;S<p.length;S++)p[S]&&(null==u&&(u=S),f=S);for(var T=0,O=n+1;T<i.height;T++){var w=t.child(T),N=O+w.nodeSize,P=p[T];if(P>0){var A="cell";w.firstChild&&(A=w.firstChild.type.spec.tableRole);for(var I=[],D=0;D<P;D++)I.push(l.tableNodeTypes(e.schema)[A].createAndFill());var R=0!==T&&u!==T-1||f!==T?N-1:O+1;o.insert(o.mapping.map(R),I)}O=N}return o.setMeta(a.fixTablesKey,{fixTables:!0})}(e,t,r,n))};return t?t.doc!==e.doc&&f(t.doc,e.doc,0,r):e.doc.descendants(r),n}})),r.register("58Yac",(function(e,n){t(e.exports,"tableEditingKey",(function(){return i})),t(e.exports,"fixTablesKey",(function(){return a}));var o=r("eBSbE"),i=new o.PluginKey("selectingCells"),a=new o.PluginKey("fix-tables")})),r.register("cAWAT",(function(e,n){t(e.exports,"normalizeSelection",(function(){return s}));var o=r("eBSbE"),i=r("bKnyF"),a=r("jBp4v");function s(e,t,n){var r,s,c=t,l=(c||e).selection,u=(c||e).doc;if(l instanceof o.NodeSelection&&(s=l.node.type.spec.tableRole),l instanceof o.NodeSelection&&s){if("cell"===s||"header_cell"===s)r=i.CellSelection.create(u,l.from);else if("row"===s){var d=u.resolve(l.from+1);r=i.CellSelection.rowSelection(d,d)}else if(!n){var f=a.TableMap.get(l.node),p=l.from+1,h=p+f.map[f.width*f.height-1];r=i.CellSelection.create(u,p+1,h)}}else l instanceof o.TextSelection&&function(e){var t=e.$from,n=e.$to;if(t.pos===n.pos||t.pos<t.pos-6)return!1;for(var r=t.pos,o=n.pos,i=t.depth;i>=0&&!(t.after(i+1)<t.end(i));i--,r++);for(var a=n.depth;a>=0&&!(n.before(a+1)>n.start(a));a--,o--);return r===o&&/row|table/.test(t.node(i).type.spec.tableRole)}(l)?r=o.TextSelection.create(u,l.from):l instanceof o.TextSelection&&function(e){for(var t,n,r=e.$from,o=e.$to,i=r.depth;i>0;i--){var a=r.node(i);if("cell"===a.type.spec.tableRole||"header_cell"===a.type.spec.tableRole){t=a;break}}for(var s=o.depth;s>0;s--){var c=o.node(s);if("cell"===c.type.spec.tableRole||"header_cell"===c.type.spec.tableRole){n=c;break}}return t!==n&&0===o.parentOffset}(l)&&(r=o.TextSelection.create(u,l.$from.start(),l.$from.end()));return r&&(c||(c=e.tr)).setSelection(r),c}})),r.register("iNtxY",(function(e,n){t(e.exports,"handleKeyDown",(function(){return f})),t(e.exports,"handleTripleClick",(function(){return v})),t(e.exports,"handleMouseDown",(function(){return b}));var o=r("6mFHM"),i=r("jWbqG"),a=r("eBSbE"),s=r("bKnyF"),c=r("dNs23"),l=r("cCjod"),u=r("1Xz8Z"),d=r("58Yac"),f=o.keydownHandler({ArrowLeft:h("horiz",-1),ArrowRight:h("horiz",1),ArrowUp:h("vert",-1),ArrowDown:h("vert",1),"Shift-ArrowLeft":g("horiz",-1),"Shift-ArrowRight":g("horiz",1),"Shift-ArrowUp":g("vert",-1),"Shift-ArrowDown":g("vert",1),Backspace:m,"Mod-Backspace":m,Delete:m,"Mod-Delete":m});function p(e,t,n){return!n.eq(e.selection)&&(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function h(e,t){return function(n,r,o){if(r){var i=n.selection;if(i instanceof s.CellSelection)return p(n,r,a.Selection.near(i.$headCell,t));if("horiz"!==e&&!i.empty)return!1;var c=o?y(o,e,t):null;if(null===c)return!1;if("horiz"===e)return p(n,r,a.Selection.near(n.doc.resolve(i.head+t),t));var u,d=n.doc.resolve(c),f=l.nextCell(d,e,t);return u=f?a.Selection.near(f,1):t<0?a.Selection.near(n.doc.resolve(d.before(-1)),-1):a.Selection.near(n.doc.resolve(d.after(-1)),1),p(n,r,u)}return!0}}function g(e,t){return function(n,r,o){var i=n.selection;if(!(i instanceof s.CellSelection)){var a=o?y(o,e,t):null;if(null===a)return!1;i=new s.CellSelection(n.doc.resolve(a))}var c=l.nextCell(i.$headCell,e,t);return!!c&&(!r||p(n,r,new s.CellSelection(i.$anchorCell,c)))}}function m(e,t){var n=e.selection;if(!(n instanceof s.CellSelection))return!1;if(t){var r=e.tr,o=c.tableNodeTypes(e.schema).cell.createAndFill().content;n.forEachCell((function(e,t){e.content.eq(o)||r.replace(r.mapping.map(t+1),r.mapping.map(t+e.nodeSize-1),new i.Slice(o,0,0))})),r.docChanged&&t(r)}return!0}function v(e,t){var n=e.state.doc,r=l.cellAround(n.resolve(t));return!!r&&(e.dispatch(e.state.tr.setSelection(new s.CellSelection(r))),!0)}function b(e,t){var n=t;if(n.ctrlKey||n.metaKey)return!1;var r=E(e,n.target),o=l.cellAround(e.state.selection.$anchor);if(n.shiftKey&&e.state.selection instanceof s.CellSelection)i(e.state.selection.$anchorCell,n),n.preventDefault();else if(n.shiftKey&&r&&null!==o&&x(e,n).pos!==o.pos)i(o,n),n.preventDefault();else if(!r)return!1;function i(t,n){var r=x(e,n),o=null==d.tableEditingKey.getState(e.state);if(!r||!u.inSameTable(t,r)){if(!o)return!1;r=t}var i=new s.CellSelection(t,r);if(o||!e.state.selection.eq(i)){var a=e.state.tr.setSelection(i);o&&a.setMeta(d.tableEditingKey,t.pos),e.dispatch(a)}}function a(){e.root.removeEventListener("mouseup",a),e.root.removeEventListener("dragstart",a),e.root.removeEventListener("mousemove",c),null!=d.tableEditingKey.getState(e.state)&&e.dispatch(e.state.tr.setMeta(d.tableEditingKey,-1))}function c(t){var o,s=d.tableEditingKey.getState(e.state);if(null!=s)o=e.state.doc.resolve(s);else if(E(e,t.target)!==r&&!(o=x(e,n)))return void a();o&&i(o,t)}return e.root.addEventListener("mouseup",a),e.root.addEventListener("dragstart",a),e.root.addEventListener("mousemove",c),!1}function y(e,t,n){if(!(e.state.selection instanceof a.TextSelection))return null;for(var r=e.state.selection.$head,o=r.depth-1;o>=0;o--){var i=r.node(o);if((n<0?r.index(o):r.indexAfter(o))!==(n<0?0:i.childCount))return null;if("cell"===i.type.spec.tableRole||"header_cell"===i.type.spec.tableRole){var s=r.before(o),c="vert"===t?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(c)?s:null}}return null}function E(e,t){for(var n=t;n&&n!==e.dom;n=n.parentNode)if("TD"===n.nodeName||"TH"===n.nodeName)return n;return null}function x(e,t){var n=e.posAtCoords({left:t.clientX,top:t.clientY});return n?l.cellAround(e.state.doc.resolve(n.pos)):null}})),r.register("3VkmK",(function(n,o){t(n.exports,"pluginConfig",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.advanced?s({allowBackgroundColor:!0,allowColumnResizing:!0,allowHeaderColumn:!0,allowHeaderRow:!0,allowMergeCells:!0,allowNumberColumn:!0,stickToolbarToBottom:!0,permittedLayouts:"all",allowControls:!0},e):e}})),r.register("b2tck",(function(n,o){t(n.exports,"createPlugin",(function(){return p}));var i=r("l15hj"),a=r("eBSbE"),s=r("hLVOy"),c=r("ekJGA"),l=r("5rpLS");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=new a.PluginKey("tableLocalIdPlugin"),p=function(e){return new a.Plugin({key:f,state:{init:function(){return{parsedForLocalIds:!1}},apply:function(t,n){var r=t.getMeta(f);if(r&&Object.keys(r).some((function(e){return n[e]!==r[e]}))){var o=d(d({},n),r);return e(f,o),o}return n}},view:function(){return{update:function(e){var t=e.state,n=function(e){return e&&f.getState(e)}(t);if(n&&!n.parsedForLocalIds){var r=t.schema.nodes.table;s.default((function(){var n=t.tr,o=!1;e.state.doc.descendants((function(e,t){var i=e.type===r,a=e.attrs.localId;return!(i&&!a)||(o=!0,n.setNodeMarkup(t,void 0,d(d({},e.attrs),{},{localId:c.uuid.generate()})),!1)})),o&&(n.setMeta("addToHistory",!1),e.dispatch(n))}))(),e.dispatch(t.tr.setMeta(f,{parsedForLocalIds:!0}))}}}},appendTransaction:function(e,t,n){var r=!1,o=n.tr,i=n.schema.nodes.table,a=new Set;if(e.forEach((function(e){if(e.docChanged&&"cut"!==e.getMeta("uiEvent")){var t=function(e,t){return e.steps.some((function(e){return l.stepAdds(e,t)}))}(e,i);t&&n.doc.descendants((function(e,t){var n=e.type===i,s=e.attrs.localId;return!n||(s&&!a.has(s)?a.add(s):s&&!a.has(s)||(r=!0,o.setNodeMarkup(t,void 0,d(d({},e.attrs),{},{localId:c.uuid.generate()}))),!1)}))}})),r)return o}})}})),r.register("5rpLS",(function(e,n){t(e.exports,"stepHasSlice",(function(){return r})),t(e.exports,"stepAdds",(function(){return o}));var r=function(e){return e&&e.hasOwnProperty("slice")};function o(e,t){var n=!1;return r(e)?(e.slice.content.descendants((function(e){return e.type===t&&(n=!0),!n})),n):n}})),r.register("6PGW3",(function(e,n){t(e.exports,"keymapPlugin",(function(){return p}));var o=r("6mFHM"),i=r("l5dFf"),a=r("7uC1r");r("cTu5S");var s=r("hNVBR"),c=r("9V1f8"),l=r("dC2AG"),u=r("3rXF5"),d=r("iIZaH"),f=r("1QFgo");l=r("dC2AG");function p(e){var t={};return a.bindKeymapWithCommand(a.nextCell.common,u.goToNextCell(1),t),a.bindKeymapWithCommand(a.previousCell.common,u.goToNextCell(-1),t),a.bindKeymapWithCommand(a.toggleTable.common,function(e){return s.withAnalytics({action:c.ACTION.INSERTED,actionSubject:c.ACTION_SUBJECT.DOCUMENT,actionSubjectId:c.ACTION_SUBJECT_ID.TABLE,attributes:{inputMethod:c.INPUT_METHOD.SHORTCUT},eventType:c.EVENT_TYPE.TRACK})(l.createTable(e))}(e),t),a.bindKeymapWithCommand(a.backspace.common,i.chainCommands(f.deleteTableIfSelectedWithAnalytics(c.INPUT_METHOD.KEYBOARD),f.emptyMultipleCellsWithAnalytics(c.INPUT_METHOD.KEYBOARD)),t),a.bindKeymapWithCommand(a.backspace.common,d.moveCursorBackward,t),a.bindKeymapWithCommand(a.addRowBefore.common,f.addRowAroundSelection("TOP"),t),a.bindKeymapWithCommand(a.addRowAfter.common,f.addRowAroundSelection("BOTTOM"),t),a.bindKeymapWithCommand(a.addColumnBefore.common,d.triggerUnlessTableHeader(l.addColumnBefore),t),a.bindKeymapWithCommand(a.addColumnAfter.common,l.addColumnAfter,t),o.keymap(t)}})),r.register("6P9AP",(function(e,n){t(e.exports,"tableSelectionKeymapPlugin",(function(){return s}));var o=r("6mFHM"),i=r("7uC1r"),a=r("6Xqlg");function s(){var e={};return i.bindKeymapWithCommand(i.moveRight.common,a.arrowRightFromTable,e),i.bindKeymapWithCommand(i.moveLeft.common,a.arrowLeftFromTable,e),o.keymap(e)}})),r.register("6Xqlg",(function(e,n){t(e.exports,"arrowLeftFromTable",(function(){return m})),t(e.exports,"arrowRightFromTable",(function(){return v}));var o,i,a=r("eBSbE"),s=r("jBp4v"),c=r("bKnyF"),l=r("kN6Qk"),u=r("eK4uv"),d=r("1wUBP"),f=r("ls4oX"),p=r("6Ms1b"),h=r("cRHRu"),g=r("eXD27");(i=o||(o={})).TopToBottom="TopToBottom",i.BottomToTop="BottomToTop";var m=function(e,t){var n=e.selection;return n instanceof c.CellSelection?b(n)(e,t):n instanceof d.GapCursorSelection?E(n)(e,t):n instanceof a.TextSelection&&k(n)(e,t)},v=function(e,t){var n=e.selection;return n instanceof c.CellSelection?y(n)(e,t):n instanceof d.GapCursorSelection?x(n)(e,t):n instanceof a.TextSelection&&C(n)(e,t)},b=function(e){return function(t,n){if(l.isTableSelected(t.selection)){var r=h.getPluginState(t).selectionRelativeToNode;if(r===p.RelativeSelectionPos.Start)return w()(t,n);if(r===p.RelativeSelectionPos.End)return O(e)(t,n);if(void 0===r)return T(e,p.RelativeSelectionPos.Before)(t,n)}return!1}},y=function(e){return function(t,n){if(l.isTableSelected(t.selection)){var r=h.getPluginState(t).selectionRelativeToNode;if(r===p.RelativeSelectionPos.Start)return T(e)(t,n);if(r===p.RelativeSelectionPos.End||void 0===r)return N()(t,n)}return!1}},E=function(e){return function(t,n){var r=t.doc,i=e.$from,a=e.from,s=e.side;if(s===d.Side.RIGHT){if(i.nodeBefore&&"table"===i.nodeBefore.type.name)return S({node:i.nodeBefore,startPos:r.resolve(a-1).start(i.depth+1),dir:o.TopToBottom})(t,n)}else if(s===d.Side.LEFT){var c=u.findTable(e);if(c&&P(i,e))return h.getPluginState(t).selectionRelativeToNode===p.RelativeSelectionPos.Before?w()(t,n):S({node:c.node,startPos:c.start,dir:o.BottomToTop})(t,n)}return!1}},x=function(e){return function(t,n){var r=e.$from,i=e.from,a=e.$to,s=e.side;if(s===d.Side.LEFT){if(r.nodeAfter&&"table"===r.nodeAfter.type.name)return S({node:r.nodeAfter,startPos:i+1,dir:o.BottomToTop})(t,n)}else if(s===d.Side.RIGHT){var c=u.findTable(e);if(c&&A(a,e))return S({node:c.node,startPos:c.start,dir:o.TopToBottom})(t,n)}return!1}},k=function(e){return function(t,n){var r=u.findTable(e);if(r){var i=e.$from;if(P(i,e)&&"paragraph"===i.parent.type.name&&i.depth===r.depth+3)return h.getPluginState(t).selectionRelativeToNode===p.RelativeSelectionPos.Before?w()(t,n):S({node:r.node,startPos:r.start,dir:o.BottomToTop})(t,n)}return!1}},C=function(e){return function(t,n){var r=u.findTable(e);if(r){var i=e.$to;if(A(i,e)&&"paragraph"===i.parent.type.name&&i.depth===r.depth+3)return S({node:r.node,startPos:r.start,dir:o.TopToBottom})(t,n)}return!1}},S=function(e){var t=e.node,n=e.startPos,r=e.dir;return function(e,i){var a,l,u=e.doc,d=s.TableMap.get(t).map,h=u.resolve(n+d[0]),g=u.resolve(n+d[d.length-1]);return r===o.TopToBottom?(a=new c.CellSelection(h,g),l=p.RelativeSelectionPos.End):(a=new c.CellSelection(g,h),l=p.RelativeSelectionPos.Start),f.setSelectionRelativeToNode(l,a)(e,i)}},T=function(e,t){return function(n,r){var o=e.$anchorCell,i=e.$headCell,s=o.pos<i.pos?o:i,c=n.doc.resolve(s.pos+1),l=d.GapCursorSelection.valid(c)?new d.GapCursorSelection(c,d.Side.LEFT):a.Selection.findFrom(c,1);return f.setSelectionRelativeToNode(t,l)(n,r)}},O=function(e,t){return function(n,r){var o=e.$anchorCell,i=e.$headCell,s=o.pos>i.pos?o:i,c=s.pos+(s.nodeAfter?s.nodeAfter.content.size:0)+1,l=n.doc.resolve(c),u=d.GapCursorSelection.valid(l)?new d.GapCursorSelection(l,d.Side.RIGHT):a.Selection.findFrom(l,-1);return f.setSelectionRelativeToNode(t,u)(n,r)}},w=function(){return function(e,t){var n=u.findTable(e.selection);if(n){var r=e.doc.resolve(n.pos);if(d.GapCursorSelection.valid(r)){var o=new d.GapCursorSelection(r,d.Side.LEFT);return f.setSelectionRelativeToNode(void 0,o)(e,t)}}return!1}},N=function(){return function(e,t){var n=u.findTable(e.selection);if(n){var r=e.doc.resolve(n.pos+n.node.nodeSize);if(d.GapCursorSelection.valid(r)){var o=new d.GapCursorSelection(r,d.Side.RIGHT);return f.setSelectionRelativeToNode(void 0,o)(e,t)}}return!1}},P=function(e,t){return g.isSelectionAtStartOfNode(e,u.findTable(t))},A=function(e,t){return g.isSelectionAtEndOfNode(e,u.findTable(t))}})),r.register("ls4oX",(function(e,n){t(e.exports,"setSelectionRelativeToNode",(function(){return f})),t(e.exports,"arrowRight",(function(){return p})),t(e.exports,"arrowLeft",(function(){return h}));var o=r("eBSbE"),i=r("1wUBP"),a=r("l3YLZ"),s=r("l9fpM"),c=r("IZpnz"),l=r("cRHRu"),u=r("cD9Ho"),d=r("6Ms1b"),f=function(e,t){return l.createCommand({type:c.SelectionActionTypes.SET_RELATIVE_SELECTION,selectionRelativeToNode:e},(function(e){return t?e.setSelection(t):e}))},p=function(e,t){var n=e.selection;return n instanceof i.GapCursorSelection?g(n)(e,t):n instanceof o.NodeSelection?v(n)(e,t):n instanceof o.TextSelection&&y(n)(e,t)},h=function(e,t){var n=e.selection;return n instanceof i.GapCursorSelection?m(n)(e,t):n instanceof o.NodeSelection?b(n)(e,t):n instanceof o.TextSelection&&E(n)(e,t)},g=function(e){return function(t,n){var r=e.$from,a=e.$to,s=e.side;if(s===i.Side.LEFT){var c=u.findSelectableContainerAfter(a,t.doc);if(c)return f(d.RelativeSelectionPos.Start,o.NodeSelection.create(t.doc,c.pos))(t,n)}else if(s===i.Side.RIGHT&&u.isSelectionAtEndOfParentNode(r,e)){var l=u.findSelectableContainerParent(e);if(l)return f(d.RelativeSelectionPos.End,o.NodeSelection.create(t.doc,l.pos))(t,n)}return!1}},m=function(e){return function(t,n){var r=e.$from,s=e.side,c=l.getPluginState(t).selectionRelativeToNode;if(s===i.Side.RIGHT){var p=u.findSelectableContainerBefore(r,t.doc);if(p)return f(d.RelativeSelectionPos.End,o.NodeSelection.create(t.doc,p.pos))(t,n)}else if(s===i.Side.LEFT&&u.isSelectionAtStartOfParentNode(r,e))if(c===d.RelativeSelectionPos.Before){var h=t.doc.resolve(e.$from.before(e.$from.depth));if(h){var g=u.findSelectableContainerBefore(h,t.doc);if(g&&a.isIgnored(g.node))return f(d.RelativeSelectionPos.End,o.NodeSelection.create(t.doc,g.pos))(t,n)}f()(t,n)}else{var m=u.findSelectableContainerParent(e);if(m)return f(d.RelativeSelectionPos.Start,o.NodeSelection.create(t.doc,m.pos))(t,n)}return!1}},v=function(e){return function(t,n){var r=e.node,i=e.from,s=e.$to,c=l.getPluginState(t).selectionRelativeToNode;if(r.isAtom)return!!u.isSelectionAtEndOfParentNode(s,e)&&x(d.RelativeSelectionPos.End,t.doc.resolve(i+1),d.SelectionDirection.After)(t,n);if(c===d.RelativeSelectionPos.Start)return k(d.RelativeSelectionPos.Inside,r,i)(t,n);if(a.isIgnored(r)&&(!c||c===d.RelativeSelectionPos.End)){var p=u.findSelectableContainerAfter(s,t.doc);if(p&&a.isIgnored(p.node))return f(d.RelativeSelectionPos.Start,o.NodeSelection.create(t.doc,p.pos))(t,n)}return!1}},b=function(e){return function(t,n){var r=e.node,i=e.from,s=e.to,c=e.$from,p=l.getPluginState(t).selectionRelativeToNode;if(r.isAtom)return!!u.isSelectionAtStartOfParentNode(c,e)&&x(d.RelativeSelectionPos.Start,t.doc.resolve(i),d.SelectionDirection.Before)(t,n);if(p===d.RelativeSelectionPos.End)return C(d.RelativeSelectionPos.Inside,r,i,s)(t,n);if(!p||p===d.RelativeSelectionPos.Inside)return k(d.RelativeSelectionPos.Before,r,i)(t,n);if(a.isIgnored(r)&&p===d.RelativeSelectionPos.Start){var h=u.findSelectableContainerBefore(c,t.doc);if(h&&a.isIgnored(h.node))return f(d.RelativeSelectionPos.End,o.NodeSelection.create(t.doc,h.pos))(t,n)}return!1}},y=function(e){return function(t,n){if(u.isSelectionAtEndOfParentNode(e.$to,e)){var r=u.findSelectableContainerParent(e);if(r)return f(d.RelativeSelectionPos.End,o.NodeSelection.create(t.doc,r.pos))(t,n)}return!1}},E=function(e){return function(t,n){if(l.getPluginState(t).selectionRelativeToNode===d.RelativeSelectionPos.Before){var r=u.findSelectableContainerBefore(e.$from,t.doc);if(r&&a.isIgnored(r.node))return f(d.RelativeSelectionPos.End,o.NodeSelection.create(t.doc,r.pos))(t,n);f(void 0)(t,n)}else if(u.isSelectionAtStartOfParentNode(e.$from,e)){var i=u.findSelectableContainerParent(e);if(i)return f(d.RelativeSelectionPos.Start,o.NodeSelection.create(t.doc,i.pos))(t,n)}return!1}},x=function(e,t,n){return function(r,i){var a=o.Selection.findFrom(t,n,!0);return!!a&&f(e,a)(r,i)}},k=function(e,t,n){return function(r,c){if(s.isNodeEmpty(t))return x(e,r.doc.resolve(n),d.SelectionDirection.After)(r,c);var l=u.findFirstChildNodeToSelect(t);if(l){var p=l.node,h=l.pos,g=n+h+1;if(p.isText||p.isAtom)return x(e,r.doc.resolve(g),d.SelectionDirection.Before)(r,c);if(s.isEmptyParagraph(p))return x(e,r.doc.resolve(g+1),d.SelectionDirection.Before)(r,c);if(!a.isIgnored(t))return f(e,new i.GapCursorSelection(r.doc.resolve(g),i.Side.LEFT))(r,c);if(u.isSelectableContainerNode(t))return f(e,o.NodeSelection.create(r.doc,g))(r,c)}return!1}},C=function(e,t,n,r){return function(c,l){if(s.isNodeEmpty(t))return x(e,c.doc.resolve(r),d.SelectionDirection.Before)(c,l);var p=u.findLastChildNodeToSelect(t);if(p){var h=p.node,g=p.pos,m=n+g+h.nodeSize;if(h.isText||h.isAtom)return x(e,c.doc.resolve(m+1),d.SelectionDirection.After)(c,l);if(s.isEmptyParagraph(h))return x(e,c.doc.resolve(m),d.SelectionDirection.After)(c,l);if(!a.isIgnored(t))return f(e,new i.GapCursorSelection(c.doc.resolve(m+1),i.Side.RIGHT))(c,l);if(u.isSelectableContainerNode(t))return f(e,o.NodeSelection.create(c.doc,m))(c,l)}return!1}}})),r.register("IZpnz",(function(e,n){var r,o;t(e.exports,"SelectionActionTypes",(function(){return r})),(o=r||(r={})).SET_DECORATIONS="SET_DECORATIONS",o.SET_RELATIVE_SELECTION="SET_RELATIVE_SELECTION"})),r.register("cRHRu",(function(n,o){t(n.exports,"createCommand",(function(){return m})),t(n.exports,"getPluginState",(function(){return v})),t(n.exports,"createPluginState",(function(){return b}));var i=r("l15hj"),a=r("eBSbE"),s=r("9MUi0"),c=r("bKnyF"),l=r("27k6c"),u=r("8StbV"),d=r("6Ms1b"),f=r("cD9Ho");function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?p(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var g=l.pluginFactory(d.selectionPluginKey,u.reducer,{onDocChanged:function(e,t){try{if(0===t.decorationSet.find().length&&(!e.selectionSet||0===f.getDecorations(e).find().length))return t;var n=t.decorationSet.map(e.mapping,e.doc);return h(h({},t),{},{decorationSet:n})}catch(e){return h(h({},t),{},{decorationSet:s.DecorationSet.empty})}},onSelectionChanged:function(e,t){return(e.selection instanceof a.NodeSelection&&f.isSelectableContainerNode(e.selection.node)||e.selection instanceof c.CellSelection)&&!e.getMeta(d.selectionPluginKey)?h(h({},t),{},{selectionRelativeToNode:void 0}):t}}),m=g.createCommand,v=g.getPluginState,b=g.createPluginState})),r.register("8StbV",(function(n,o){t(n.exports,"reducer",(function(){return l}));var i=r("l15hj"),a=r("IZpnz");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(e,t){switch(t.type){case a.SelectionActionTypes.SET_DECORATIONS:return c(c({},e),{},{decorationSet:t.decorationSet,selection:t.selection});case a.SelectionActionTypes.SET_RELATIVE_SELECTION:return c(c({},e),{},{selectionRelativeToNode:t.selectionRelativeToNode});default:return e}}})),r.register("cmcxP",(function(n,o){t(n.exports,"createPlugin",(function(){return I}));var i=r("l15hj"),a=r("eBSbE"),s=r("iFBc4"),c=r("eK4uv");r("igW5C");var l=r("4W5Y2"),u=r("eNOQT"),d=r("iIZaH"),f=r("8c6LP"),p=r("2JO0E"),h=r("bEATP"),g=r("ktk1y"),m=r("i1cGK"),v=r("jp8SX"),b=r("a3gyn"),y=r("22efJ"),E=r("hquSL");r("cTu5S");var x,k,C,S,T=r("9V1f8"),O=r("bTYtw"),w=r("cFImz"),N=r("esu0Y");function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?P(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var I=function(e,t,n,r,o,i,P,I,D){var R;x=i,k=o,C=P,S=I;var M=w.createPluginState(e,A({pluginConfig:r,insertColumnButtonIndex:void 0,insertRowButtonIndex:void 0,isFullWidthModeEnabled:C,isHeaderRowEnabled:!!r.allowHeaderRow,isHeaderColumnEnabled:!1},O.defaultTableSelection)),_={},j=null!==(R=window)&&void 0!==R&&R.ResizeObserver?new ResizeObserver((function(e){e.forEach((function(e){e.target.id&&(_[e.target.id]=e.contentRect)}))})):void 0,B=r.tableCellOptimization?{tableCell:function(e,t,n){return new N.default(e,t,n,j)},tableHeader:function(e,t,n){return new N.default(e,t,n,j)}}:{};return new a.Plugin({state:M,key:w.pluginKey,appendTransaction:function(e,t,n){var r=e.find((function(e){return"cut"===e.getMeta("uiEvent")}));if(r){var o=p.handleCut(r,t,n);return m.fixTables(o)||o}if(e.find((function(e){return e.docChanged})))return m.fixTables(n.tr)},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n,r,o=e.state,i=e.dispatch,a=o.selection,l=w.getPluginState(o);if(l.editorHasFocus){var u=s.findParentDomRefOfType(o.schema.nodes.table,t)(a);u&&(n=u.querySelector("table")||void 0),r=c.findTable(o.selection)}if((l.tableRef!==n&&d.setTableRef(n)(o,i),l.tableNode!==r&&y.updateResizeHandles(n),l.editorHasFocus&&l.tableRef)&&o.selection.$cursor){var f=s.findParentNodeOfType(o.schema.nodes.tableHeader)(o.selection);f&&d.addBoldInEmptyHeaderCells(f)(o,i)}},destroy:function(){j&&j.disconnect()}}},props:{handleClick:function(e,t,n){var r=e.state,o=e.dispatch,i=g.pluginKey.getState(r);if(E.findControlsHoverDecoration(i).length&&f.clearHoverSelection()(r,o),l.default.chrome&&n.target){var a=n.target.classList;if(a.contains(b.TableCssClassName.CONTROLS_BUTTON)||a.contains(b.TableCssClassName.CONTEXTUAL_MENU_BUTTON))return!0}return!1},handleScrollToSelection:function(e){var t=e.state.schema.nodes.tableHeader,n=s.findParentDomRefOfType(t,e.domAtPos.bind(e))(e.state.selection),r=u.closestElement(n,"tr");return!!r&&r.classList.contains("sticky")},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=v.replaceSelectedTable(o,r,T.INPUT_METHOD.KEYBOARD);return!!a.selectionSet&&(i(a),!0)},nodeViews:A(A({},B),{},{table:function(e,r,o){return h.createTableView(e,r,o,t,n,{isBreakoutEnabled:x,dynamicTextSizing:k,isFullWidthModeEnabled:C,wasFullWidthModeEnabled:S,allowLocalIdGeneration:D})}}),handleDOMEvents:{focus:p.handleFocus,blur:p.handleBlur,mousedown:p.handleMouseDown,mouseover:p.whenTableInFocus(p.handleMouseOver),mouseleave:p.whenTableInFocus(p.handleMouseLeave),mouseout:p.whenTableInFocus(p.handleMouseOut),mousemove:p.whenTableInFocus(p.handleMouseMove,_),click:p.whenTableInFocus(p.handleClick)},handleTripleClick:p.handleTripleClick}})}})),r.register("2JO0E",(function(n,o){t(n.exports,"handleBlur",(function(){return D})),t(n.exports,"handleFocus",(function(){return R})),t(n.exports,"handleClick",(function(){return M})),t(n.exports,"handleMouseOver",(function(){return _})),t(n.exports,"handleMouseDown",(function(){return j})),t(n.exports,"handleMouseOut",(function(){return B})),t(n.exports,"handleMouseLeave",(function(){return L})),t(n.exports,"handleMouseMove",(function(){return F})),t(n.exports,"handleTripleClick",(function(){return z})),t(n.exports,"handleCut",(function(){return W})),t(n.exports,"whenTableInFocus",(function(){return U}));var i=r("h67q9"),a=r("eBSbE"),s=r("bKnyF"),c=r("jBp4v"),l=r("eK4uv"),u=r("cCjod"),d=r("kB6gF"),f=r("i7mvx"),p=r("hLVOy");r("igW5C");var h=r("4W5Y2"),g=r("9J8af"),m=r("eXD27"),v=r("eNOQT");r("cTu5S");var b=r("hNVBR"),y=r("lMXcr"),E=r("9V1f8"),x=r("iIZaH"),k=r("8c6LP"),C=r("cFImz"),S=r("hIqrF"),T=r("cTtfQ"),O=r("jXSpZ"),w=r("a3gyn"),N=r("22efJ"),P=r("8yBl0"),A=r("kCMcP"),I=r("lWHVr"),D=function(e,t){var n=e.state,r=e.dispatch;return 11===h.default.ie_version||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&"calendar"===e.relatedTarget.getAttribute("aria-label")}(t)||function(e){return e instanceof FocusEvent&&e.relatedTarget instanceof HTMLElement&&e.relatedTarget.closest('[role="dialog"]')}(t)||x.setEditorFocus(!1)(n,r),t.preventDefault(),!1},R=function(e,t){var n=e.state,r=e.dispatch;return x.setEditorFocus(!0)(n,r),t.preventDefault(),!1},M=function(t,n){if(!(n.target instanceof HTMLElement))return!1;var r=n.target,o=l.findTable(t.state.selection);if(n instanceof MouseEvent&&N.isColumnControlsDecorations(r)){var a=N.getColumnOrRowIndex(r),s=e(i)(a,1)[0],u=t.state,d=t.dispatch;return x.selectColumn(s,n.shiftKey)(u,d)}var f=r.matches?r.matches:r.msMatchesSelector;if(!o||!g.isElementInTableCell(r)||!f||f.call(r,"table .image, table p, table .image div"))return!1;var p=c.TableMap.get(o.node),h=v.closestElement(r,"td")||v.closestElement(r,"th"),b=h&&h.cellIndex,y=v.closestElement(r,"tr"),E=y&&y.rowIndex,k=p.width*E+b,C=p.map[k+1],S=t.dispatch,T=t.state,O=T.tr,w=T.schema.nodes.paragraph,P=o.node.nodeAt(p.map[k]);return g.isLastItemMediaGroup(P)&&(O.insert(C+o.pos,w.create()),S(O),m.setNodeSelection(t,C+o.pos)),!0},_=function(t,n){if(!(n.target instanceof HTMLElement))return!1;var r=t.state,o=t.dispatch,a=n.target,s=C.getPluginState(r),c=s.insertColumnButtonIndex,l=s.insertRowButtonIndex;if(N.isInsertRowButton(a)){var u=N.getColumnOrRowIndex(a),d=e(i)(u,2),f=d[0],p=d[1],h="bottom"===N.getMousePositionVerticalRelativeByElement(n)?p:f;return x.showInsertRowButton(h)(r,o)}if(N.isColumnControlsDecorations(a)){var g=N.getColumnOrRowIndex(a),m=e(i)(g,1)[0],v=t.state,b=t.dispatch;return k.hoverColumns([m],!1)(v,b)}if((N.isCell(a)||N.isCornerButton(a))&&("number"==typeof c||"number"==typeof l))return x.hideInsertColumnOrRowButton()(r,o);if(N.isResizeHandleDecoration(a)){var y=N.getColumnOrRowIndex(a),E=e(i)(y,2),S=E[0],T=E[1];return k.showResizeHandleLine({left:S,right:T})(r,o)}return!1},j=function(e,t){var n=!!(t.target&&t.target instanceof HTMLElement&&(N.isTableContainerOrWrapper(t.target)||N.isColumnControlsDecorations(t.target)||N.isRowControlsButton(t.target)));return n&&t.preventDefault(),n},B=function(e,t){if(!(t instanceof MouseEvent&&t.target instanceof HTMLElement))return!1;var n=t.target;if(N.isColumnControlsDecorations(n)){var r=e.state,o=e.dispatch;return k.clearHoverSelection()(r,o)}var i=t.relatedTarget;if(N.isResizeHandleDecoration(n)&&!N.isResizeHandleDecoration(i)){var a=e.state,s=e.dispatch;return k.hideResizeHandleLine()(a,s)}return!1},L=function(e,t){if(!(t.target instanceof HTMLElement))return!1;var n=e.state,r=e.dispatch,o=C.getPluginState(n),i=o.insertColumnButtonIndex,a=o.insertRowButtonIndex,s=t.target;return!!N.isTableControlsButton(s)||!(void 0===i&&void 0===a||!x.hideInsertColumnOrRowButton()(n,r))},F=function(t,n,r,o){if(!(n.target instanceof HTMLElement))return!1;var a=n.target;if(N.isColumnControlsDecorations(a)){var s=t.state,c=t.dispatch,u=C.getPluginState(s).insertColumnButtonIndex,d=N.getColumnOrRowIndex(a),f=e(i)(d,2),p=f[0],h=f[1],g="right"===N.getMousePositionHorizontalRelativeByElement(n,r,o)?h:p;if(g!==u)return x.showInsertColumnButton(g)(s,c)}if(N.isRowControlsButton(a)){var m=t.state,b=t.dispatch,y=C.getPluginState(m).insertRowButtonIndex,E=N.getColumnOrRowIndex(a),k=e(i)(E,2),S=k[0],T=k[1],O="bottom"===N.getMousePositionVerticalRelativeByElement(n)?T:S;if(O!==y)return x.showInsertRowButton(O)(m,b)}var P=(I.getFeatureFlags(t.state)||{}).mouseMoveOptimization,A=r&&P;if(!N.isResizeHandleDecoration(a)&&N.isCell(a)){var D=N.getMousePositionHorizontalRelativeByElement(n,A,o,w.RESIZE_HANDLE_AREA_DECORATION_GAP);if(null!==D){var R=t.state,M=t.dispatch,_=C.getPluginState(R).resizeHandleColumnIndex,j=v.closestElement(a,"td, th"),B=t.posAtDOM(j,0),L=l.findCellRectClosestToPos(R.doc.resolve(B));if(L){var F="left"===D?L.left:L.right;if(F!==_||!N.hasResizeHandler({target:a,columnEndIndexTarget:F}))return x.addResizeHandleDecorations(F)(R,M)}}}return!1};function z(e,t){var n=e.state,r=e.dispatch,o=u.cellAround(n.doc.resolve(t));if(!o)return!1;var i=n.doc.nodeAt(o.pos);if(i){var s=a.Selection.findFrom(o,1,!0),c=a.Selection.findFrom(n.doc.resolve(o.pos+i.nodeSize),-1,!0);if(s&&c)return r(n.tr.setSelection(new a.TextSelection(s.$from,c.$to))),!0}return!1}var W=function(e,t,n){var r=t.tr.selection,o=n.tr;if(r instanceof s.CellSelection){var i=e.doc.resolve(e.mapping.map(r.$anchorCell.pos)),a=e.doc.resolve(e.mapping.map(r.$headCell.pos)),c=new s.CellSelection(i,a);if(o.setSelection(c),o.selection instanceof s.CellSelection){var l=d.getSelectionRect(c);if(l){var u=P.getSelectedCellInfo(o.selection),p=u.verticalCells,h=u.horizontalCells,g=u.totalCells,m=u.totalRowCount,v=u.totalColumnCount;if((o=b.addAnalytics(n,o,{action:y.TABLE_ACTION.CUT,actionSubject:E.ACTION_SUBJECT.TABLE,actionSubjectId:null,attributes:{verticalCells:p,horizontalCells:h,totalCells:g,totalRowCount:m,totalColumnCount:v},eventType:E.EVENT_TYPE.TRACK})).selection instanceof s.CellSelection)if(o.selection.isRowSelection()&&o.selection.isColSelection())o=f.removeTable(o);else if(o.selection.isRowSelection()){var x=C.getPluginState(n).pluginConfig.isHeaderRowRequired;o=T.deleteRows(l,x)(o)}else o.selection.isColSelection()&&(o=O.deleteColumns(l,A.getAllowAddColumnCustomStep(t))(o))}}}return o},U=function(e,t){return function(n,r){var o,i=S.getPluginState(n.state),a=C.getPluginState(n.state),s=i&&!!i.dragging,c=a&&a.tableNode,l=null==a||null===(o=a.pluginConfig)||void 0===o?void 0:o.tableCellOptimization;return!(!c||s)&&p.default(e(n,r,l,t))}}})),r.register("bEATP",(function(n,o){t(n.exports,"createTableView",(function(){return M}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("fw3Q6"),h=r("l15hj"),g=r("61szk"),m=r("jWbqG"),v=r("22Hec"),b=r("4s4wW"),y=r("9D9P7"),E=r("3VkmK"),x=r("cFImz"),k=r("eg9AV"),C=r("lWBTY"),S=r("4veFg"),T=r("iIZaH"),O=r("lWHVr"),w=r("86cZc");function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var D=function(t,n){var r=n?{"data-table-local-id":t.attrs.localId||"local-table"}:{};return function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?I(Object(r),!0).forEach((function(n){e(h)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({"data-number-column":t.attrs.isNumberColumnEnabled,"data-layout":t.attrs.layout,"data-autosize":t.attrs.__autoSize},r)},R=function(t){e(u)(r,t);var n=A(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t.node,t.view,t.getPos,t.portalProviderAPI,t.eventDispatcher,t),e(h)(e(c)(o),"getNode",(function(){return o.node})),e(h)(e(c)(o),"hasHoveredRows",!1),o.getPos=t.getPos,o.editorView=t.view,o.tableRenderOptimization=t.tableRenderOptimization,o.eventDispatcher=t.eventDispatcher,o}return e(s)(r,[{key:"getContentDOM",value:function(){var t,n,r,o,i,a,s=this,c=m.DOMSerializer.renderSpec(document,(n=this.node,r=this.reactComponentProps,a="",r.allowColumnResizing&&(a=["colgroup",{}].concat(e(p)(C.generateColgroup(n)))),["table",D(n,null!==(o=null===(i=r.options)||void 0===i?void 0:i.allowLocalIdGeneration)&&void 0!==o&&o),a,["tbody",0]]));return c.dom&&(this.table=c.dom),this.tableRenderOptimization&&this.table&&!this.resizeObserver&&null!==(t=window)&&void 0!==t&&t.ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(e){var t,n=N(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,o=r.contentRect?r.contentRect.height:r.target.offsetHeight,i=r.contentRect?r.contentRect.width:r.target.offsetWidth;T.setTableSize(o,i)(s.editorView.state,s.editorView.dispatch)}}catch(e){n.e(e)}finally{n.f()}})),this.resizeObserver.observe(this.table)),c}},{key:"setDomAttrs",value:function(e){var t,n,r,o=this;if(this.table){var i=D(e,null!==(t=null===(n=this.reactComponentProps)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.allowLocalIdGeneration)&&void 0!==t&&t);Object.keys(i).forEach((function(e){o.table.setAttribute(e,i[e])}))}}},{key:"render",value:function(t,n){var r=this;return e(g).createElement(b.default,{plugins:{containerWidth:y.pluginKey,pluginState:x.pluginKey,tableResizingPluginState:k.pluginKey},editorView:t.view,render:function(o){var i=o.tableResizingPluginState,a=o.pluginState,s=o.containerWidth,c=t.getPos()===a.tablePos;return e(g).createElement(S.default,{view:t.view,allowColumnResizing:t.allowColumnResizing,eventDispatcher:t.eventDispatcher,getPos:t.getPos,options:t.options,allowControls:a.pluginConfig.allowControls,isHeaderRowEnabled:a.isHeaderRowEnabled,isHeaderColumnEnabled:a.isHeaderColumnEnabled,tableActive:c,ordering:a.ordering,tableResizingPluginState:i,getNode:r.getNode,containerWidth:s,contentDOM:n})}})}},{key:"viewShouldUpdate",value:function(t){if(this.tableRenderOptimization){var n=x.getPluginState(this.view.state).hoveredRows,o=!(null==n||!n.length)!==this.hasHoveredRows;if(t.attrs.isNumberColumnEnabled&&o)return this.hasHoveredRows=!(null==n||!n.length),!0;var a=this.getNode();if(e(i)(a.attrs)!==e(i)(t.attrs))return!0;var s=Object.keys(a.attrs),c=Object.keys(t.attrs);return s.length!==c.length||s.some((function(e){return a.attrs[e]!==t.attrs[e]}))}return e(l)(e(f)(r.prototype),"viewShouldUpdate",this).call(this,t)}},{key:"ignoreMutation",value:function(){return!0}},{key:"destroy",value:function(){var t;this.resizeObserver&&this.resizeObserver.disconnect(),null===(t=this.eventDispatcher)||void 0===t||t.emit(w.EmitterEvents.TABLE_DELETED,this.node),e(l)(e(f)(r.prototype),"destroy",this).call(this)}}]),r}(v.default),M=function(e,t,n,r,o,i){var a=x.getPluginState(t.state).pluginConfig,s=E.pluginConfig(a).allowColumnResizing,c=(O.getFeatureFlags(t.state)||{}).tableRenderOptimization;return new R({node:e,view:t,allowColumnResizing:s,portalProviderAPI:r,eventDispatcher:o,getPos:n,options:i,tableRenderOptimization:c}).init()}})),r.register("4veFg",(function(n,o){t(n.exports,"default",(function(){return V}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hdR0w"),h=r("kN6Qk"),g=r("hLVOy");r("igW5C");var m=r("4W5Y2"),v=r("jPV1L");r("8iml0");var b=r("82cWi");r("9J8af");var y=r("eXD27"),E=r("dbjVR"),x=r("eNOQT"),k=r("iIZaH"),C=r("cFImz"),S=r("kV4mh"),T=r("78JCz"),O=r("krkdW"),w=r("fM5cb"),N=r("lWBTY"),P=r("9dHEx"),A=r("a3gyn"),I=r("bkjHO"),D=r("hiCRA"),R=r("3ruIm"),M=r("lWHVr"),_=r("6gvxN"),j=r("5qvxb");function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?B(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function F(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var z=11===m.default.ie_version,W=function(){},U=function(){return e(f).createElement("div",{style:{position:"absolute",top:"30px"}}," ")},H=function(t){e(c)(r,t);var n=F(r);function r(t){var o,a;e(i)(this,r),a=n.call(this,t),e(d)(e(s)(a),"state",(o={scroll:0,tableContainerWidth:"inherit",parentWidth:void 0,isLoading:!0},e(d)(o,A.ShadowEvent.SHOW_BEFORE_SHADOW,!1),e(d)(o,A.ShadowEvent.SHOW_AFTER_SHADOW,!1),o)),e(d)(e(s)(a),"updateShadowState",(function(t,n){if(a.state[t]!==n)return t===A.ShadowEvent.SHOW_BEFORE_SHADOW?a.setState(e(d)({},t,n)):void a.setState(e(d)({},t,n))})),e(d)(e(s)(a),"onStickyState",(function(e){var t=(M.getFeatureFlags(a.props.view.state)||{}).tableOverflowShadowsOptimization,n=a.props.getPos();if(y.isValidPosition(n,a.props.view.state)){var r=S.findStickyHeaderForTable(e,n);r!==a.state.stickyHeader&&(a.setState({stickyHeader:r}),t&&a.overflowShadowsObserver&&a.overflowShadowsObserver.updateStickyShadows())}})),e(d)(e(s)(a),"prevTableState",null),e(d)(e(s)(a),"getMarginLeft",(function(e){var t,n=a.props.containerWidth.lineLength;if("inherit"!==e&&n){var r=x.parsePx(e);r&&(t=(n-r)/2)}return t})),e(d)(e(s)(a),"handleScroll",(function(e){if(a.wrapper&&e.target===a.wrapper){if(a.table)for(var t=a.table.querySelectorAll("tr[data-header-row]"),n=0;n<t.length;n++){var r=t[n];r.scrollLeft=a.wrapper.scrollLeft,r.style.marginRight="2px"}(M.getFeatureFlags(a.props.view.state)||{}).tableOverflowShadowsOptimization||a.updateShadows()}})),e(d)(e(s)(a),"handleTableResizing",(function(){var e=a.props,t=e.getNode,n=e.containerWidth,r=e.options,o=a.node,i=t(),s=o.attrs,c=s.layout!==i.attrs.layout&&s.__autoSize===i.attrs.__autoSize,l=a.getParentNodeWidth(),u=l&&l!==a.state.parentWidth,d=a.tableNodeLayoutSize(i,n.width,r),f=s.isNumberColumnEnabled!==i.attrs.isNumberColumnEnabled;(c||u||f||D.tablesHaveDifferentNoOfColumns(i,o)||d!==a.layoutSize)&&(f||a.scaleTable({parentWidth:l,layoutChanged:c}),a.updateParentWidth(l)),a.updateTableContainerWidth(),a.node=i,a.containerWidth=n,a.layoutSize=d})),e(d)(e(s)(a),"scaleTable",(function(e){var t=a.props,n=t.view,r=t.getNode,o=t.getPos,i=t.containerWidth,s=t.options,c=r(),l=n.state,u=n.dispatch,d=o();if(y.isValidPosition(d,l)){var f=n.domAtPos.bind(n),p=i.width;a.frameId&&window&&window.cancelAnimationFrame(a.frameId),O.scaleTable(a.table,L(L({},e),{},{node:c,prevNode:a.node||c,start:d+1,containerWidth:p,previousContainerWidth:a.containerWidth.width||p},s),f)(l,u)}})),e(d)(e(s)(a),"handleAutoSize",(function(){if(a.table){var e=a.props,t=e.view,n=e.getNode,r=e.getPos,o=e.options,i=e.containerWidth,s=n(),c=r();if(!y.isValidPosition(c,t.state))return;k.autoSizeTable(t,s,a.table,c,{dynamicTextSizing:o&&o.dynamicTextSizing||!1,containerWidth:i.width})}})),e(d)(e(s)(a),"handleWindowResize",(function(){var e=a.props,t=e.getNode,n=e.containerWidth,r=a.tableNodeLayoutSize(t());if(!(n.width>r)){var o=a.getParentNodeWidth();a.frameId=a.scaleTableDebounced(o)}})),e(d)(e(s)(a),"updateTableContainerWidth",(function(){var e=a.props,t=e.getNode,n=e.containerWidth,r=e.options,o=t();if(!r||!1!==r.isBreakoutEnabled){var i=v.calcTableWidth(o.attrs.layout,n.width);if(a.state.tableContainerWidth===i)return null;a.setState((function(e){return r&&!1===r.isBreakoutEnabled&&"inherit"!==e.tableContainerWidth?{tableContainerWidth:"inherit"}:{tableContainerWidth:i}}))}})),e(d)(e(s)(a),"getParentNodeWidth",(function(){var e=a.props,t=e.getPos,n=e.containerWidth,r=e.options,o=e.view.state,i=t();if(y.isValidPosition(i,o))return E.getParentNodeWidth(i,o,n,r&&r.isFullWidthModeEnabled)})),e(d)(e(s)(a),"updateParentWidth",(function(e){a.setState({parentWidth:e})})),e(d)(e(s)(a),"tableNodeLayoutSize",(function(e,t,n){return w.getLayoutSize(e.attrs.layout,t||a.props.containerWidth.width,n||a.props.options||{})})),e(d)(e(s)(a),"scaleTableDebounced",g.default(a.scaleTable)),e(d)(e(s)(a),"handleTableResizingDebounced",g.default(a.handleTableResizing)),e(d)(e(s)(a),"handleScrollDebounced",g.default(a.handleScroll)),e(d)(e(s)(a),"handleAutoSizeDebounced",g.default(a.handleAutoSize)),e(d)(e(s)(a),"handleWindowResizeDebounced",g.default(a.handleWindowResize));var c=t.options,l=t.containerWidth,u=t.getNode,f=t.view;a.node=u(),a.containerWidth=l;var p=!!c&&c.dynamicTextSizing,h=!!c&&c.wasFullWidthModeEnabled;return a.layoutSize=a.tableNodeLayoutSize(a.node,l.width,{dynamicTextSizing:p,isFullWidthModeEnabled:h}),"execCommand"in document&&["enableObjectResizing","enableInlineTableEditing"].forEach((function(e){document.queryCommandSupported(e)&&document.execCommand(e,!1,"false")})),(M.getFeatureFlags(f.state)||{}).initialRenderOptimization||requestAnimationFrame((function(){a.setState({isLoading:!1})})),a}return e(a)(r,[{key:"componentDidMount",value:function(){var e=this.props,t=e.allowColumnResizing,n=e.eventDispatcher;t&&this.wrapper&&!z&&this.wrapper.addEventListener("scroll",this.handleScrollDebounced),t&&(window.addEventListener("resize",this.handleWindowResizeDebounced),this.updateTableContainerWidth(),this.frameId=this.handleTableResizingDebounced(this.props));var r=T.pluginKey.getState(this.props.view.state);r&&this.onStickyState(r),n.on(T.pluginKey.key,this.onStickyState)}},{key:"componentWillUnmount",value:function(){this.wrapper&&!z&&this.wrapper.removeEventListener("scroll",this.handleScrollDebounced),this.handleScrollDebounced.cancel(),this.props.allowColumnResizing&&window.removeEventListener("resize",this.handleWindowResizeDebounced),this.frameId&&window&&window.cancelAnimationFrame(this.frameId),this.overflowShadowsObserver&&this.overflowShadowsObserver.dispose(),this.props.eventDispatcher.off(T.pluginKey.key,this.onStickyState)}},{key:"componentDidUpdate",value:function(e){var t,n,r=this.props,o=r.view,i=r.getNode;(M.getFeatureFlags(o.state)||{}).tableOverflowShadowsOptimization?(null!==(t=this.wrapper)&&void 0!==t&&t.parentElement&&this.table&&!this.overflowShadowsObserver&&(this.overflowShadowsObserver=new j.OverflowShadowsObserver(this.updateShadowState,this.table,this.wrapper)),this.overflowShadowsObserver&&this.overflowShadowsObserver.observeCells(null===(n=this.state.stickyHeader)||void 0===n?void 0:n.sticky,D.containsHeaderRow(o.state,i()))):this.updateShadows();var a=i();if(a.attrs.__autoSize)this.handleAutoSizeDebounced();else if(this.props.allowColumnResizing&&this.table){var s=this.node;if(D.tablesHaveDifferentColumnWidths(a,s)||D.tablesHaveDifferentNoOfColumns(a,s)){var c=this.props.view;N.insertColgroupFromNode(this.table,a),P.updateControls(c.state)}this.frameId=this.handleTableResizingDebounced(e)}}},{key:"updateShadows",value:function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.parentElement;if(this.wrapper&&t){var n=t.querySelectorAll(".".concat(A.TableCssClassName.TABLE_RIGHT_SHADOW)),r=t.querySelectorAll(".".concat(A.TableCssClassName.TABLE_LEFT_SHADOW));R.updateOverflowShadows(this.props.view.state,this.wrapper,this.table,n,r)}}},{key:"render",value:function(){var t,n=this,r=this.props,o=r.view,i=r.getNode,a=r.tableResizingPluginState,s=r.allowControls,c=void 0===s||s,l=r.isHeaderRowEnabled,u=r.ordering,g=r.isHeaderColumnEnabled,m=r.tableActive,y=r.containerWidth,E=this.state,x=E.isLoading,k=E.tableContainerWidth,S=E.showBeforeShadow,T=E.showAfterShadow,O=i(),w=C.getPluginState(o.state),N=w.isInDanger,P=w.hoveredRows,R=M.getFeatureFlags(o.state)||{},j=R.stickyHeadersOptimization,B=R.initialRenderOptimization,L=R.tableRenderOptimization,F=R.tableOverflowShadowsOptimization,z=this.table||void 0,H=!!a&&!!a.dragging,V=z?z.querySelector("tr[data-header-row]"):void 0,K=z&&!L?z.offsetHeight:void 0,G=D.containsHeaderRow(o.state,O),J=e(f).createElement("div",{className:A.TableCssClassName.ROW_CONTROLS_WRAPPER},e(f).createElement(I.default,{editorView:o,tableRef:z,tableActive:m,hoveredRows:P,isInDanger:N,isResizing:H,isNumberColumnEnabled:O.attrs.isNumberColumnEnabled,isHeaderRowEnabled:l,ordering:u,isHeaderColumnEnabled:g,hasHeaderRow:G,selection:o.state.selection,tableHeight:K,headerRowHeight:V?V.offsetHeight:void 0,stickyHeader:this.state.stickyHeader})),q=c&&(!x||B)&&m?-b.akEditorTableToolbarSize:v.tableMarginSides,Y=F?_.default((function(e){return{visibility:e?"visible":"hidden"}})):W;return e(f).createElement("div",{style:{width:k,marginLeft:this.getMarginLeft(k)},className:e(p)(A.TableCssClassName.TABLE_CONTAINER,(t={},e(d)(t,A.TableCssClassName.WITH_CONTROLS,c&&m),e(d)(t,A.TableCssClassName.TABLE_STICKY,this.state.stickyHeader&&G),e(d)(t,A.TableCssClassName.HOVERED_DELETE_BUTTON,N),e(d)(t,A.TableCssClassName.TABLE_SELECTED,h.isTableSelected(o.state.selection)),e(d)(t,"less-padding",y.width<b.akEditorMobileBreakoutPoint),t)),"data-number-column":O.attrs.isNumberColumnEnabled,"data-layout":O.attrs.layout},j&&e(f).createElement("div",{className:A.TableCssClassName.TABLE_STICKY_SENTINEL_TOP}),e(f).createElement(U,null),c&&(!x||B)&&J,e(f).createElement("div",{style:Y(S),className:A.TableCssClassName.TABLE_LEFT_SHADOW}),this.state.stickyHeader&&e(f).createElement("div",{className:"".concat(A.TableCssClassName.TABLE_LEFT_SHADOW," ").concat(A.TableCssClassName.TABLE_STICKY_SHADOW),style:{visibility:F?S&&G?"visible":"hidden":void 0,top:"".concat(this.state.stickyHeader.top+this.state.stickyHeader.padding+q+2,"px")}}),e(f).createElement("div",{className:e(p)(A.TableCssClassName.TABLE_NODE_WRAPPER),ref:function(e){if(n.wrapper=e,e){n.props.contentDOM(e);var t=e.querySelector("table");t!==n.table&&(n.table=t)}}}),e(f).createElement("div",{style:Y(T),className:A.TableCssClassName.TABLE_RIGHT_SHADOW}),this.state.stickyHeader&&e(f).createElement("div",{style:{position:"absolute",right:"-2px"}},e(f).createElement("div",{className:"".concat(A.TableCssClassName.TABLE_RIGHT_SHADOW," ").concat(A.TableCssClassName.TABLE_STICKY_SHADOW),style:{visibility:F?T&&G?"visible":"hidden":void 0,top:"".concat(this.state.stickyHeader.top+this.state.stickyHeader.padding+q+2,"px")}})),j&&e(f).createElement("div",{className:A.TableCssClassName.TABLE_STICKY_SENTINEL_BOTTOM}))}}]),r}(e(f).Component);e(d)(H,"displayName","TableComponent");var V=H})),r.register("c2oqC",(function(e,n){t(e.exports,"createPlugin",(function(){return c}));var o=r("eBSbE"),i=r("l7H7X"),a=r("78JCz"),s=r("4ffLu"),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return[]};return new o.Plugin({state:s.createPluginState(e,n),key:a.pluginKey,props:{nodeViews:{tableRow:function(e,n,r){return new i.TableRowNodeView(e,n,r,t)}}}})}})),r.register("l7H7X",(function(n,o){t(n.exports,"TableRowNodeView",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj");r("igW5C");var c=r("a0H0L"),l=r("9D9P7"),u=r("hxFzZ"),d=r("a3gyn"),f=r("c7WcO"),p=r("cFImz"),h=r("9dHEx"),g=r("ePCQE"),m=r("03sf9"),v=r("lWHVr"),b=function(e){var t=u.mapChildren(e,(function(e){return"tableHeader"===e.type.name})).every(Boolean),n=u.mapChildren(e,(function(e){return e.attrs.rowspan||0})).some((function(e){return e>1}));return t&&!n},y=function(){function t(n,r,o,a){var c=this;e(i)(this,t),e(s)(this,"colControlsOffset",0),e(s)(this,"focused",!1),e(s)(this,"scrollElementTop",0),e(s)(this,"isSticky",!1),e(s)(this,"stickyHeadersOptimization",!1),e(s)(this,"sentinels",{}),e(s)(this,"listening",!1),e(s)(this,"onScroll",(function(){c.tree&&(c.latestDomTop=m.getTop(c.tree.wrapper),c.nextFrame||c.loop())})),e(s)(this,"loop",(function(){c.nextFrame=window.requestAnimationFrame((function(){if(c.previousDomTop!==c.latestDomTop||c.previousPadding!==c.padding){var e=c.tree;e?(c.paint(e),c.previousPadding=c.padding,c.previousDomTop=c.latestDomTop,c.loop()):c.nextFrame=void 0}else c.nextFrame=void 0}))})),e(s)(this,"paint",(function(e){var t=e.table,n=e.wrapper;c.shouldHeaderStick(e)?c.makeHeaderRowSticky(e):c.makeRowHeaderNotSticky(t),c.dom.scrollLeft=n.scrollLeft})),e(s)(this,"onTablePluginState",(function(e){var t=e.tableRef,n=c.tree;if(n){e.isHeaderRowEnabled||[c.sentinels.top,c.sentinels.bottom].forEach((function(e){e&&delete e.dataset.isObserved}));var r=t===n.table;c.focused=r;var o=n.wrapper.parentElement.parentElement,i=o&&o.parentElement;r?(c.colControlsOffset=f.tableControlsSpacing,i&&i.getAttribute("data-layout-content")&&(o.style.paddingLeft="11px")):(c.colControlsOffset=0,i&&i.getAttribute("data-layout-content")&&o.style.removeProperty("padding-left")),setTimeout((function(){c.stickyHeadersOptimization||c.paint(n),h.syncStickyRowToTable(n.table)}),0)}})),e(s)(this,"onWidthPluginState",(function(){var e=c.tree;e&&h.syncStickyRowToTable(e.table)})),e(s)(this,"shouldHeaderStick",(function(e){var t=e.wrapper,n=c.scrollElementTop,r=c.getWrapperRefTop(t),o=t.getBoundingClientRect(),i=!c.dom.previousElementSibling,a=!!c.dom.nextElementSibling,s=n-o.bottom<c.dom.clientHeight;return r<=n&&s&&i&&a})),e(s)(this,"makeHeaderRowSticky",(function(e){var t=e.table,n=c.getCurrentTableTop(e),r=n>0?c.scrollElementTop:c.scrollElementTop+n;c.isSticky||(h.syncStickyRowToTable(t),c.dom.classList.add("sticky"),t.classList.add(d.TableCssClassName.TABLE_STICKY),c.isSticky=!0),c.dom.style.top="".concat(r,"px"),h.updateStickyMargins(t),c.emitOn(r,c.colControlsOffset)})),e(s)(this,"getWrapperoffset",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?!c.focused:c.focused;return t?0:f.tableControlsSpacing})),e(s)(this,"getWrapperRefTop",(function(e){return Math.round(m.getTop(e))+c.getWrapperoffset()})),e(s)(this,"getScrolledTableTop",(function(e){return c.getWrapperRefTop(e)-c.scrollElementTop})),e(s)(this,"getCurrentTableTop",(function(e){return c.getScrolledTableTop(e.wrapper)+e.table.clientHeight})),e(s)(this,"makeRowHeaderNotSticky",(function(e){c.isSticky&&(c.dom.style.removeProperty("width"),c.dom.classList.remove("sticky"),e.classList.remove(d.TableCssClassName.TABLE_STICKY),c.isSticky=!1,c.dom.style.top="",e.style.removeProperty("margin-top"),c.emitOff())})),e(s)(this,"padding",0),e(s)(this,"top",0),e(s)(this,"emitOn",(function(e,t){e===c.top&&t===c.padding||(c.top=e,c.padding=t,g.updateStickyState({pos:c.getPos(),top:e,sticky:!0,padding:t})(c.view.state,c.view.dispatch,c.view))})),e(s)(this,"emitOff",(function(){0===c.top&&0===c.padding||(c.top=0,c.padding=0,g.updateStickyState({pos:c.getPos(),sticky:!1,top:c.top,padding:c.padding})(c.view.state,c.view.dispatch,c.view))})),this.view=r,this.node=n,this.getPos=o,this.eventDispatcher=a,this.dom=document.createElement("tr"),this.contentDOM=this.dom;var l=(v.getFeatureFlags(r.state)||{}).stickyHeadersOptimization;this.stickyHeadersOptimization=!!l,this.isHeaderRow=b(n),this.isHeaderRow&&(this.dom.setAttribute("data-header-row","true"),this.subscribe())}return e(a)(t,[{key:"tree",get:function(){return m.getTree(this.dom)}},{key:"subscribe",value:function(){this.scrollElement=c.findOverflowScrollParent(this.view.dom)||window,this.scrollElement&&(this.stickyHeadersOptimization?this.initObservers():this.scrollElement.addEventListener("scroll",this.onScroll),this.scrollElementTop=m.getTop(this.scrollElement)),this.eventDispatcher.on(l.pluginKey.key,this.onWidthPluginState),this.eventDispatcher.on(p.pluginKey.key,this.onTablePluginState),this.listening=!0}},{key:"unsubscribe",value:function(){this.listening&&(this.intersectionObserver&&this.intersectionObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.scrollElement&&!this.stickyHeadersOptimization&&this.scrollElement.removeEventListener("scroll",this.onScroll),this.eventDispatcher.off(l.pluginKey.key,this.onWidthPluginState),this.eventDispatcher.off(p.pluginKey.key,this.onTablePluginState),this.listening=!1)}},{key:"initObservers",value:function(){var e=this;this.dom&&!this.dom.dataset.isObserved&&(this.dom.dataset.isObserved="true",this.createIntersectionObserver(),this.createResizeObserver(),this.intersectionObserver&&this.resizeObserver&&(this.resizeObserver.observe(this.dom),window.requestAnimationFrame((function(){var t,n=null===(t=e.tree)||void 0===t?void 0:t.wrapper.closest(".".concat(d.TableCssClassName.NODEVIEW_WRAPPER));n&&(e.sentinels.top=n.getElementsByClassName(d.TableCssClassName.TABLE_STICKY_SENTINEL_TOP).item(0),e.sentinels.bottom=n.getElementsByClassName(d.TableCssClassName.TABLE_STICKY_SENTINEL_BOTTOM).item(0),[e.sentinels.top,e.sentinels.bottom].forEach((function(t){t&&!t.dataset.isObserved&&(t.dataset.isObserved="true",e.intersectionObserver.observe(t))})))}))))}},{key:"createResizeObserver",value:function(){var e=this;this.resizeObserver=new ResizeObserver((function(t){if(e.tree){var n=e.tree.table;t.forEach((function(t){var r=t.contentRect?t.contentRect.height:t.target.offsetHeight;e.sentinels.bottom&&Math.abs(r-(e.stickyRowHeight||0))>f.stickyHeaderBorderBottomWidth&&(e.stickyRowHeight=r,e.sentinels.bottom.style.bottom="".concat(f.tableScrollbarOffset+f.stickyRowOffsetTop+r,"px"),h.updateStickyMargins(n))}))}}))}},{key:"createIntersectionObserver",value:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t,n){if(e.tree){var r=e.tree.table;t.forEach((function(t){var n,o=t.target;if(0!==(null===(n=t.rootBounds)||void 0===n?void 0:n.height)){if(o.classList.contains(d.TableCssClassName.TABLE_STICKY_SENTINEL_TOP)){var i,a=((null===(i=t.rootBounds)||void 0===i?void 0:i.bottom)||0)<t.boundingClientRect.bottom;t.isIntersecting||a?r&&e.makeRowHeaderNotSticky(r):e.tree&&e.makeHeaderRowSticky(e.tree)}if(o.classList.contains(d.TableCssClassName.TABLE_STICKY_SENTINEL_BOTTOM)){var s,c=t.boundingClientRect.top-e.dom.offsetHeight<((null===(s=t.rootBounds)||void 0===s?void 0:s.top)||0);r&&!t.isIntersecting&&c?e.makeRowHeaderNotSticky(r):t.isIntersecting&&c&&e.tree&&e.makeHeaderRowSticky(e.tree)}}}))}}),{root:this.scrollElement})}},{key:"update",value:function(e){if(e===this.node)return!0;var t=b(e);if(this.isHeaderRow!==t)return!1;if(this.node=e,!this.isHeaderRow)return!0;var n=this.dom.parentElement,r=n&&n.parentElement;return h.syncStickyRowToTable(r),!0}},{key:"destroy",value:function(){this.unsubscribe(),this.tree&&this.makeRowHeaderNotSticky(this.tree.table),this.emitOff()}},{key:"ignoreMutation",value:function(e){return!("selection"===e.type&&"TR"===e.target.tagName)}}]),t}()})),r.register("ePCQE",(function(e,n){t(e.exports,"updateStickyState",(function(){return i}));var o=r("4ffLu"),i=function(e){return o.createCommand({name:"UPDATE",state:e},(function(e){return e.setMeta("addToHistory",!1)}))}})),r.register("4ffLu",(function(n,o){t(n.exports,"createPluginState",(function(){return d})),t(n.exports,"createCommand",(function(){return f}));var i=r("l15hj"),a=r("27k6c"),s=r("78JCz");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=a.pluginFactory(s.pluginKey,(function(e,t){if("UPDATE"===t.name){var n=!1,r=e.map((function(e){var r=e.pos===t.state.pos;return r&&(n=!0),r?t.state:e}));return n||r.push(t.state),r}return"REMOVE"===t.name?e.filter((function(e){return e.pos!==t.pos})):e}),{mapping:function(e,t){return e.docChanged?t.map((function(t){var n=e.mapping.mapResult(t.pos);return n?l(l({},t),{},{pos:n.pos}):void 0})).filter((function(e){return void 0!==e})):t}}),d=u.createPluginState,f=u.createCommand})),r.register("78JCz",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("stickyHeadersPlugin")})),r.register("03sf9",(function(e,n){t(e.exports,"getTree",(function(){return r})),t(e.exports,"getTop",(function(){return o}));var r=function(e){var t=e.parentElement;if(!t)return null;var n=t.parentElement;if(!n)return null;var r=n.parentElement;return r?{wrapper:r,table:n}:null},o=function(e){return!e||e instanceof Window?0:e.getBoundingClientRect().top}})),r.register("kV4mh",(function(e,n){t(e.exports,"findStickyHeaderForTable",(function(){return r}));var r=function(e,t){if(e&&void 0!==t){var n=e.find((function(e){return e.pos===t+1}));if(n)return n.sticky?n:void 0}}})),r.register("bkjHO",(function(n,o){t(n.exports,"default",(function(){return S}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("igW5C");var p=r("4W5Y2"),h=r("iIZaH"),g=r("8c6LP"),m=r("1008F"),v=r("bUHTy"),b=r("jXdUv"),y=r("3INsR"),E=r("lWHVr");function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var S=function(t){e(c)(r,t);var n=C(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"selectRow",(function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;11===p.default.ie_version&&r.dom.blur(),h.selectRow(e,n)(o,i)})),e(d)(e(s)(t),"hoverRows",(function(e,n){var r=t.props.editorView,o=r.state,i=r.dispatch;g.hoverRows(e,n)(o,i)})),t}return e(a)(r,[{key:"componentDidMount",value:function(){this.tryInitResizeObserver()}},{key:"componentDidUpdate",value:function(){this.tryInitResizeObserver()}},{key:"tryInitResizeObserver",value:function(){var e,t=this,n=this.props.tableRef;(E.getFeatureFlags(this.props.editorView.state)||{}).tableRenderOptimization&&n&&!this.resizeObserver&&null!==(e=window)&&void 0!==e&&e.ResizeObserver&&(this.resizeObserver=new ResizeObserver((function(e){var n,r=x(e);try{for(r.s();!(n=r.n()).done;){var o=n.value.contentRect.height;t.setState({tableHeight:o})}}catch(e){r.e(e)}finally{r.f()}})),this.resizeObserver.observe(n))}},{key:"shouldComponentUpdate",value:function(e,t){var n,r=this.props,o=r.tableRef,i=r.isInDanger,a=r.isResizing,s=r.isHeaderRowEnabled,c=r.isNumberColumnEnabled,l=r.hoveredRows,u=r.selection,d=r.tableActive,f=r.isHeaderColumnEnabled,p=r.ordering,h=r.headerRowHeight,g=r.stickyHeader,v=(E.getFeatureFlags(this.props.editorView.state)||{}).tableRenderOptimization,b=v?null===(n=this.state)||void 0===n?void 0:n.tableHeight:this.props.tableHeight,y=v?null==t?void 0:t.tableHeight:e.tableHeight;return p!==e.ordering||o!==e.tableRef||b!==y||d!==e.tableActive||i!==e.isInDanger||a!==e.isResizing||l!==e.hoveredRows||s!==e.isHeaderRowEnabled||f!==e.isHeaderColumnEnabled||c!==e.isNumberColumnEnabled||m.isSelectionUpdated(u,e.selection)||h!==e.headerRowHeight||g!==e.stickyHeader}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect()}},{key:"render",value:function(){var t=this.props,n=t.editorView,r=t.tableRef,o=t.isInDanger,i=t.isResizing,a=t.isNumberColumnEnabled,s=t.isHeaderRowEnabled,c=t.isHeaderColumnEnabled,l=t.tableActive,u=t.hasHeaderRow,d=t.hoveredRows,p=t.stickyHeader;if(!r)return null;var h=p&&p.sticky&&u?p.top:void 0;return e(f).createElement("div",{onMouseDown:function(e){return e.preventDefault()}},a?e(f).createElement(b.default,{editorView:n,hoverRows:this.hoverRows,tableRef:r,tableActive:l,hoveredRows:d,hasHeaderRow:u,isInDanger:o,isResizing:i,selectRow:this.selectRow,stickyTop:h}):null,l&&e(f).createElement(e(f).Fragment,null,e(f).createElement(v.default,{editorView:n,tableRef:r,isInDanger:o,isResizing:i,isHeaderRowEnabled:s,isHeaderColumnEnabled:c,hoveredRows:d,stickyTop:l?h:void 0}),e(f).createElement(y.default,{editorView:n,tableRef:r,hoverRows:this.hoverRows,hoveredRows:d,isInDanger:o,isResizing:i,selectRow:this.selectRow,stickyTop:l?h:void 0})))}}]),r}(f.Component);e(d)(S,"displayName","TableFloatingControls")})),r.register("bUHTy",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hdR0w"),h=r("jBp4v"),g=r("eK4uv"),m=r("kN6Qk"),v=r("5n8GX"),b=r("8c6LP"),y=r("a3gyn");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var x=function(t){e(c)(r,t);var n=E(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"isActive",(function(){var e=t.props,n=e.editorView,r=e.hoveredRows,o=e.isResizing,i=n.state.selection,a=g.findTable(i);return!!a&&(m.isTableSelected(i)||r&&r.length===h.TableMap.get(a.node).height&&!o)})),e(d)(e(s)(t),"clearHoverSelection",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;b.clearHoverSelection()(n,r)})),e(d)(e(s)(t),"selectTable",(function(){var e=t.props.editorView,n=e.state;(0,e.dispatch)(v.selectTable(n.tr).setMeta("addToHistory",!1))})),e(d)(e(s)(t),"hoverTable",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;b.hoverTable()(n,r)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.isInDanger,r=t.tableRef,o=t.isHeaderColumnEnabled,i=t.isHeaderRowEnabled;if(!r)return null;var a=this.isActive();return e(f).createElement("div",{className:e(p)(y.TableCssClassName.CORNER_CONTROLS,{active:a,sticky:void 0!==this.props.stickyTop}),style:{top:void 0!==this.props.stickyTop?"".concat(this.props.stickyTop,"px"):void 0}},e(f).createElement("button",{type:"button",className:e(p)(y.TableCssClassName.CONTROLS_CORNER_BUTTON,{danger:a&&n}),onClick:this.selectTable,onMouseOver:this.hoverTable,onMouseOut:this.clearHoverSelection}),!i&&e(f).createElement("div",{className:y.TableCssClassName.CORNER_CONTROLS_INSERT_ROW_MARKER},e(f).createElement("div",{className:y.TableCssClassName.CONTROLS_INSERT_MARKER})),!o&&e(f).createElement("div",{className:y.TableCssClassName.CORNER_CONTROLS_INSERT_COLUMN_MARKER},e(f).createElement("div",{className:y.TableCssClassName.CONTROLS_INSERT_MARKER})))}}]),r}(f.Component)})),r.register("jXdUv",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("eBSbE"),h=r("kN6Qk"),g=r("8c6LP"),m=r("a3gyn"),v=r("5m4YX");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"hoverRows",(function(e){return t.props.tableActive?t.props.hoverRows([e]):null})),e(d)(e(s)(t),"selectRow",(function(e,n){var r=t.props,o=r.tableActive,i=r.editorView,a=r.selectRow;if(!o&&n.target&&n.target instanceof Node){var s=i.state,c=s.doc,l=s.selection,u=s.tr,d=i.posAtDOM(n.target,1),f=c.resolve(d),h=l.head>d?p.Selection.near(c.resolve(d+(f.parent.nodeSize-3)),-1):p.Selection.near(f);i.dispatch(u.setSelection(h))}a(e,n.shiftKey)})),e(d)(e(s)(t),"clearHoverSelection",(function(){var e=t.props,n=e.tableActive,r=e.editorView;if(n){var o=r.state,i=r.dispatch;g.clearHoverSelection()(o,i)}})),e(d)(e(s)(t),"getClassNames",(function(e){var n=t.props,r=n.hoveredRows,o=n.editorView,i=n.isInDanger,a=n.isResizing,s=h.isRowSelected(e)(o.state.selection)||-1!==(r||[]).indexOf(e)&&!a;return[m.TableCssClassName.NUMBERED_COLUMN_BUTTON,s?m.TableCssClassName.HOVERED_CELL_ACTIVE:"",s&&i?m.TableCssClassName.HOVERED_CELL_IN_DANGER:""].join(" ")})),t}return e(a)(r,[{key:"render",value:function(){var t=this,n=this.props,r=n.tableRef,o=n.hasHeaderRow,i=v.getRowHeights(r);return e(f).createElement("div",{className:m.TableCssClassName.NUMBERED_COLUMN,style:{marginTop:o&&void 0!==this.props.stickyTop?i[0]:void 0}},i.map((function(n,r){return e(f).createElement("div",{key:"wrapper-".concat(r),className:t.getClassNames(r),"data-index":r,style:{height:n,top:void 0!==t.props.stickyTop&&o&&0===r?"".concat(t.props.stickyTop,"px"):void 0},onClick:function(e){return t.selectRow(r,e)},onMouseOver:function(){return t.hoverRows(r)},onMouseOut:t.clearHoverSelection},o?r>0?r:null:r+1)})))}}]),r}(f.Component)})),r.register("3INsR",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("8c6LP"),h=r("a3gyn"),g=r("5m4YX"),m=r("c7WcO");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=function(t){e(c)(r,t);var n=v(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"clearHoverSelection",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;p.clearHoverSelection()(n,r)})),t}return e(a)(r,[{key:"render",value:function(){var t=this,n=this.props,r=n.editorView,o=n.tableRef,i=n.hoveredRows,a=n.isInDanger,s=n.isResizing;if(!o)return null;var c=r.state.selection,l=g.getRowHeights(o),u=g.getRowsParams(l),d=o.querySelector("tr"),p=!!d&&d.getAttribute("data-header-row");return e(f).createElement("div",{className:h.TableCssClassName.ROW_CONTROLS},e(f).createElement("div",{className:h.TableCssClassName.ROW_CONTROLS_INNER},u.map((function(n,r){var o=n.startIndex,u=n.endIndex,d=n.height,v=-1;1===r&&p&&void 0!==t.props.stickyTop&&(v+=l[r-1]+m.tableToolbarSize);var b=void 0!==t.props.stickyTop&&0===r&&p;return e(f).createElement("div",{className:"".concat(h.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP," ").concat(g.getRowClassNames(o,c,i,a,s)," ").concat(b?"sticky":""),key:o,style:{height:d,marginTop:"".concat(v,"px"),top:b?"".concat(t.props.stickyTop+3,"px"):void 0,paddingTop:b?"".concat(m.tableControlsSpacing,"px"):void 0}},e(f).createElement("button",{type:"button",className:"".concat(h.TableCssClassName.ROW_CONTROLS_BUTTON,"\n                  ").concat(h.TableCssClassName.CONTROLS_BUTTON,"\n                "),onClick:function(e){return t.props.selectRow(o,e.shiftKey)},onMouseOver:function(){return t.props.hoverRows([o])},onMouseOut:t.clearHoverSelection,"data-start-index":o,"data-end-index":u}),e(f).createElement("div",{className:h.TableCssClassName.CONTROLS_INSERT_MARKER}))}))))}}]),r}(f.Component)})),r.register("5qvxb",(function(n,o){t(n.exports,"OverflowShadowsObserver",(function(){return f}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj");r("igW5C");var c=r("jPV1L"),l=r("a3gyn"),u=r("c7WcO"),d=r("3ruIm"),f=function(){function t(n,r,o){var a=this;e(i)(this,t),e(s)(this,"firstCell",null),e(s)(this,"lastCell",null),e(s)(this,"getFirstCell",(function(e,t){var n;return null===(n=a.table)||void 0===n?void 0:n.querySelector(e||!t?"table tbody tr td":"table tbody tr th")})),e(s)(this,"getLastCell",(function(e,t){var n;return null===(n=a.table)||void 0===n?void 0:n.querySelector(e||!t?"table tbody tr td:last-child":"table tbody tr th:last-child")})),e(s)(this,"isSticky",!1),e(s)(this,"stickyRowHeight",0),e(s)(this,"init",(function(){var e=a.table;if(a.wrapper&&e)if(a.tableIntersectionObserver);else{a.tableIntersectionObserver=new IntersectionObserver((function(e,t){e.forEach((function(e){return function(e){var t,n;(null!==(t=e.rootBounds)&&void 0!==t&&t.height||null!==(n=e.rootBounds)&&void 0!==n&&n.width)&&(e.target!==a.firstCell&&e.target!==a.lastCell||(a.updateStickyShadowsHeightIfChanged(),a.checkIntersectionEvent(e,a.firstCell===e.target?l.ShadowEvent.SHOW_BEFORE_SHADOW:l.ShadowEvent.SHOW_AFTER_SHADOW)))}(e)}))}),{threshold:[0,1],root:a.wrapper,rootMargin:"0px ".concat(u.tableInsertColumnButtonSize/2-c.tableCellBorderWidth,"px 0px 0px")})}})),e(s)(this,"checkIntersectionEvent",(function(e,t){e.isIntersecting&&1===e.intersectionRatio?a.updateShadowState(t,!1):e.intersectionRatio<1&&a.updateShadowState(t,!0)})),e(s)(this,"observeCells",(function(e,t){var n=!!e!==a.isSticky;if(a.isSticky=!!e,a.updateStickyShadowsHeightIfChanged(),!n){var r=a.getFirstCell(e,t),o=a.getLastCell(e,t);if(!r||!o||r===a.firstCell&&o===a.lastCell)return}a.firstCell=a.getFirstCell(e,t),a.lastCell=a.getLastCell(e,t),a.tableIntersectionObserver&&a.firstCell&&a.lastCell&&(a.tableIntersectionObserver.disconnect(),a.tableIntersectionObserver.observe(a.firstCell),a.tableIntersectionObserver.observe(a.lastCell))})),e(s)(this,"updateStickyShadows",(function(e){var t,n,r,o,i;if(a.isSticky){var s=a.getStickyCell();if(s&&null!==(t=a.wrapper)&&void 0!==t&&t.parentElement){var c="".concat(e||s.clientHeight+1,"px"),u=null===(n=a.wrapper)||void 0===n||null===(r=n.parentElement)||void 0===r?void 0:r.getElementsByClassName("".concat(l.TableCssClassName.TABLE_RIGHT_SHADOW)),f=null===(o=a.wrapper)||void 0===o||null===(i=o.parentElement)||void 0===i?void 0:i.getElementsByClassName("".concat(l.TableCssClassName.TABLE_LEFT_SHADOW));d.updateShadowListForStickyStyles(c,f),d.updateShadowListForStickyStyles(c,u)}}})),this.updateShadowState=n,this.table=r,this.wrapper=o,this.init()}return e(a)(t,[{key:"updateStickyShadowsHeightIfChanged",value:function(){if(this.isSticky){var e=this.getStickyCell();if(e){var t=e.clientHeight+1;t===this.stickyRowHeight&&(this.stickyRowHeight=t,this.updateStickyShadows(this.stickyRowHeight))}}}},{key:"getStickyCell",value:function(){var e,t=null===(e=this.wrapper)||void 0===e?void 0:e.querySelector("tr.sticky");return t&&t.firstElementChild}},{key:"dispose",value:function(){this.tableIntersectionObserver&&(this.tableIntersectionObserver.disconnect(),this.tableIntersectionObserver=void 0)}}]),t}()})),r.register("86cZc",(function(e,n){t(e.exports,"EmitterEvents",(function(){return r}));var r={TABLE_DELETED:"TABLE_DELETED"}})),r.register("esu0Y",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("h67q9"),a=r("go2dD"),s=r("4NDMl"),c=r("fjLyd"),l=r("jWbqG"),u=r("ekJGA"),d=r("lWHVr"),f=function(){function t(n,r,o,i){e(a)(this,t),this.view=r,this.node=n;var s=l.DOMSerializer.renderSpec(document,n.type.spec.toDOM(n)),u=s.dom,f=s.contentDOM;this.getPos=o,this.dom=u,this.contentDOM=f;var p=(d.getFeatureFlags(r.state)||{}).mouseMoveOptimization;p&&i&&(this.contentDOM.id=e(c)(),this.mouseMoveOptimization=p,this.observer=i,i.observe(this.contentDOM))}return e(s)(t,[{key:"shouldRecreateNodeView",value:function(t){var n=this;if(this.node.type!==t.type)return!1;var r=u.setCellAttrs(this.node),o=u.setCellAttrs(t),a=Object.entries(o).filter((function(t){var n=e(i)(t,2),o=n[0],a=n[1];return r[o]!==a})),s=Object.keys(r).filter((function(e){return!o.hasOwnProperty(e)}));return a.length||s.length?(a.forEach((function(t){var r=e(i)(t,2),o=r[0],a=r[1];return n.dom.setAttribute(o,a||"")})),s.forEach((function(e){return n.dom.removeAttribute(e)})),!0):!!this.node.sameMarkup(t)}},{key:"update",value:function(e){var t=this.shouldRecreateNodeView(e);return this.node=e,t}},{key:"destroy",value:function(){this.mouseMoveOptimization&&this.observer&&this.observer.unobserve(this.contentDOM)}}]),t}()})),r.register("8rxBy",(function(n,o){t(n.exports,"getToolbarConfig",(function(){return I}));var i=r("fw3Q6"),a=r("l15hj"),s=r("7RIig"),c=r("iOuu2"),l=r("ch3px"),u=r("8c6LP"),d=r("1QFgo"),f=r("cFImz"),p=r("eg9AV"),h=r("a3gyn"),g=r("hiCRA"),m=r("1YBbY");r("cTu5S");var v=r("9V1f8"),b=r("7QEXs"),y=r("1RK3w"),E=r("kB6gF"),x=r("eK4uv"),k=r("6VAV9"),C=(b=r("7QEXs"),y=r("1RK3w"),E=r("kB6gF"),x=r("eK4uv"),r("hhVcy")),S=r("a6Q2s"),T=r("iFBc4"),O=r("eNOQT");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P=s.defineMessages({tableOptions:{id:"fabric.editor.tableOptions",defaultMessage:"Table options",description:"Opens a menu with additional table options"},headerRow:{id:"fabric.editor.headerRow",defaultMessage:"Header row",description:"Marks the first table row as a header row"},headerColumn:{id:"fabric.editor.headerColumn",defaultMessage:"Header column",description:"Marks the first table column as a header row"},numberedColumn:{id:"fabric.editor.numberedColumn",defaultMessage:"Numbered column",description:"Adds an auto-numbering column to your table"}}),A=function(e){var t=e.selection;return y.isSelectionType(t,"cell")?E.getSelectionRect(t):x.findCellRectClosestToPos(t.$from)},I=function(t){return function(n,r){var o=x.findTable(n.selection),a=f.getPluginState(n),s=p.pluginKey.getState(n);if(o&&a.editorHasFocus){var v,b=n.schema.nodes.table,y=function(e,t,n){var r=n.formatMessage,o=[{id:"editor.table.headerRow",title:r(P.headerRow),onClick:d.toggleHeaderRowWithAnalytics(),selected:t.isHeaderRowEnabled,hidden:!e.allowHeaderRow},{id:"editor.table.headerColumn",title:r(P.headerColumn),onClick:d.toggleHeaderColumnWithAnalytics(),selected:t.isHeaderColumnEnabled,hidden:!e.allowHeaderColumn},{id:"editor.table.numberedColumn",title:r(P.numberedColumn),onClick:d.toggleNumberColumnWithAnalytics(),selected:t.isNumberColumnEnabled,hidden:!e.allowNumberColumn}];return{id:"editor.table.tableOptions",type:"dropdown",title:r(P.tableOptions),hidden:o.every((function(e){return e.hidden})),options:o}}(t,N(N({},a),{},{isNumberColumnEnabled:g.checkIfNumberColumnEnabled(n)}),r),E=R(t,n,r),k=o.node.attrs.localId;k&&m.isReferencedSource(n,k)&&(v={okButtonLabel:r.formatMessage(C.default.confirmDeleteLinkedModalOKButton),message:r.formatMessage(C.default.confirmDeleteLinkedModalMessage)});return{title:"Table floating controls",getDomRef:function(e){var t,r=e.domAtPos.bind(e),o=T.findParentDomRefOfType(b,r)(n.selection);if(o){var i=o.querySelector("table")||void 0;i&&(t=O.closestElement(i,".".concat(h.TableCssClassName.TABLE_NODE_WRAPPER))||void 0)}return t},nodeType:b,offset:[0,3],items:[y,D(y.hidden)].concat(e(i)(E),[{type:"extensions-placeholder",separator:"end"},{id:"editor.table.delete",type:"button",appearance:"danger",icon:e(c),onClick:d.deleteTableWithAnalytics(),disabled:!!s&&!!s.dragging,onMouseEnter:u.hoverTable(!0),onMouseLeave:u.clearHoverSelection(),title:r.formatMessage(l.default.remove),confirmDialog:v}])}}}},D=function(e){return{type:"separator",hidden:e}},R=function(e,t,n){var r=n.formatMessage;if(e.allowCellOptionsInFloatingToolbar){var o=A(t);if(o){var i=function(e,t,n){var r=n.formatMessage,o=t.top,i=t.bottom,a=t.right-t.left,s=i-o,c=[{id:"editor.table.insertColumn",title:r(C.default.insertColumn),onClick:function(e,t){var n=A(e),r=null==n?void 0:n.right;return r&&d.insertColumnWithAnalytics(v.INPUT_METHOD.FLOATING_TB,r)(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.insertRow",title:r(C.default.insertRow),onClick:function(e,t){var n=A(e),r=null==n?void 0:n.bottom;return r&&d.insertRowWithAnalytics(v.INPUT_METHOD.FLOATING_TB,{index:r,moveCursorToInsertedRow:!0})(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.removeColumns",title:r(C.default.removeColumns,{0:a}),onClick:function(e,t){var n=A(e);return n&&d.deleteColumnsWithAnalytics(v.INPUT_METHOD.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.removeRows",title:r(C.default.removeRows,{0:s}),onClick:function(e,t){var n=A(e);return n&&d.deleteRowsWithAnalytics(v.INPUT_METHOD.FLOATING_TB,n,!1)(e,t),!0},selected:!1,disabled:!1},{id:"editor.table.mergeCells",title:r(S.messages.mergeCells),onClick:d.mergeCellsWithAnalytics(),selected:!1,disabled:!k.canMergeCells(e.tr)},{id:"editor.table.splitCell",title:r(S.messages.splitCell),onClick:d.splitCellWithAnalytics(),selected:!1,disabled:!b.splitCell(e)},{id:"editor.table.clearCells",title:r(S.messages.clearCells,{0:Math.max(a,s)}),onClick:function(e,t){var n=f.getPluginState(e).targetCellPosition;return d.emptyMultipleCellsWithAnalytics(v.INPUT_METHOD.FLOATING_TB,n)(e,t),!0},selected:!1,disabled:!1}];return{id:"editor.table.cellOptions",type:"dropdown",title:r(C.default.cellOptions),hidden:!0,options:c}}(t,o,{formatMessage:r});return[i,D(i.hidden)]}}return[]}})),r.register("1YBbY",(function(e,n){t(e.exports,"isReferencedSource",(function(){return r}));var r=function(e,t){var n=!1;return e.doc.descendants((function(r){if(n)return!1;var o=r.marks.find((function(t){return t.type===e.schema.marks.dataConsumer}));return!o||!(n=(o.attrs.sources||[]).includes(t))})),n}})),r.register("hhVcy",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({insertColumn:{id:"fabric.editor.insertColumn",defaultMessage:"Insert column right",description:"Inserts a new column to the right of selected column."},removeColumns:{id:"fabric.editor.removeColumns",defaultMessage:"Delete {0, plural, one {column} other {columns}}",description:"Deletes a table column."},insertRow:{id:"fabric.editor.insertRow",defaultMessage:"Insert row below",description:"Inserts a new row below the selected row."},removeRows:{id:"fabric.editor.removeRows",defaultMessage:"Delete {0, plural, one {row} other {rows}}",description:"Deletes a table row."},cellOptions:{id:"fabric.editor.cellOptions",defaultMessage:"Cell options",description:"Opens a menu with options for the current table cell."},confirmDeleteLinkedModalOKButton:{id:"fabric.editor.tables.confirmDeleteLinkedModalOKButton",defaultMessage:"Remove table and data",description:"Action button label for confirm modal when deleting a table linked to an extension."},confirmDeleteLinkedModalMessage:{id:"fabric.editor.tables.confirmDeleteLinkedModalMessage",defaultMessage:"Removing this table will also remove all of the data contained in any connected charts.",description:"Message for confirm modal when deleting a table linked to an extension."}})})),r.register("a6Q2s",(function(n,o){t(n.exports,"messages",(function(){return L})),t(n.exports,"default",(function(){return z}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7QEXs"),h=r("7RIig"),g=r("7uC1r"),m=r("bcdGA"),v=r("8XHKi"),b=r("aYRkw"),y=r("xZbZL"),E=r("eNOQT");r("cTu5S");var x=r("9V1f8"),k=r("3sOIY"),C=r("8c6LP"),S=r("1QFgo"),T=r("cFImz"),O=r("6VAV9"),w=r("a3gyn");r("ksxA8");var N=r("lb3qx"),P=r("dy52z"),A=r("1008F"),I=r("hhVcy"),D=r("c7WcO"),R=r("aXMrY"),M=r("lWHVr");function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function B(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var L=h.defineMessages({cellBackground:{id:"fabric.editor.cellBackground",defaultMessage:"Cell background",description:"Change the background color of a table cell."},mergeCells:{id:"fabric.editor.mergeCells",defaultMessage:"Merge cells",description:"Merge tables cells together."},splitCell:{id:"fabric.editor.splitCell",defaultMessage:"Split cell",description:"Split a merged table cell."},clearCells:{id:"fabric.editor.clearCells",defaultMessage:"Clear {0, plural, one {cell} other {cells}}",description:"Clears the contents of the selected cells (this does not delete the cells themselves)."},sortColumnASC:{id:"fabric.editor.sortColumnASC",defaultMessage:"Sort column A \u2192 Z",description:"Sort column in ascending order"},sortColumnDESC:{id:"fabric.editor.sortColumnDESC",defaultMessage:"Sort column Z \u2192 A",description:"Sort column in descending order"},canNotSortTable:{id:"fabric.editor.canNotSortTable",defaultMessage:"\u26a0\ufe0f You can't sort a table with merged cells",description:"Split your cells to enable this feature"},distributeColumns:{id:"fabric.editor.distributeColumns",defaultMessage:"Distribute columns",description:"Distribute widths between selected columns"}}),F=function(t){e(c)(r,t);var n=B(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{isSubmenuOpen:!1}),e(d)(e(s)(t),"handleSubMenuRef",(function(e){var n=E.closestElement(t.props.editorView.dom,".fabric-editor-popup-scroll-parent");if(n&&e){var r=n.getBoundingClientRect(),o=e.getBoundingClientRect();o.left+o.width>r.width&&(e.style.left="-".concat(o.width,"px"))}})),e(d)(e(s)(t),"createItems",(function(){var n,r=t.props,o=r.allowMergeCells,i=r.allowColumnSorting,a=r.allowBackgroundColor,s=r.editorView.state,c=r.isOpen,l=r.selectionRect,u=r.intl.formatMessage,d=r.editorView,h=[],b=t.state.isSubmenuOpen,E=T.getPluginState(d.state).targetCellPosition;if(a){var x,k=c&&E?s.doc.nodeAt(E):null,C=(null==k||null===(x=k.attrs)||void 0===x?void 0:x.background)||"#ffffff";h.push({content:u(L.cellBackground),value:{name:"background"},elemAfter:e(f).createElement("div",null,e(f).createElement(y.CellColourPreview,{selectedColor:C,className:w.TableCssClassName.CONTEXTUAL_MENU_ICON}),b&&e(f).createElement("div",{className:w.TableCssClassName.CONTEXTUAL_SUBMENU,ref:t.handleSubMenuRef},e(f).createElement(m.default,{cols:7,palette:v.default,onClick:t.setColor,selectedColor:C})))})}h.push({content:u(I.default.insertColumn),value:{name:"insert_column"},elemAfter:e(f).createElement(y.Shortcut,null,g.tooltip(g.addColumnAfter))}),h.push({content:u(I.default.insertRow),value:{name:"insert_row"},elemAfter:e(f).createElement(y.Shortcut,null,g.tooltip(g.addRowAfter))});var S=l.top,N=l.bottom,A=l.right-l.left,D=N-S;if(h.push({content:u(I.default.removeColumns,{0:A}),value:{name:"delete_column"}}),h.push({content:u(I.default.removeRows,{0:D}),value:{name:"delete_row"}}),o&&(h.push({content:u(L.mergeCells),value:{name:"merge"},isDisabled:!O.canMergeCells(s.tr)}),h.push({content:u(L.splitCell),value:{name:"split"},isDisabled:!p.splitCell(s)})),null!==(n=M.getFeatureFlags(s))&&void 0!==n&&n.distributeColumns){var _,B=R.getNewResizeStateFromSelectedColumns(l,s,d.domAtPos.bind(d)),F=null!==(_=null==B?void 0:B.changed)&&void 0!==_&&_;h.push({content:u(L.distributeColumns),value:{name:"distribute_columns"},isDisabled:!F})}if(i){var z=P.getMergedCellsPositions(s.tr).length>0?{tooltipDescription:u(L.canNotSortTable),isDisabled:!0}:{};h.push(j({content:u(L.sortColumnASC),value:{name:"sort_column_asc"}},z)),h.push(j({content:u(L.sortColumnDESC),value:{name:"sort_column_desc"}},z))}return h.push({content:u(L.clearCells,{0:Math.max(A,D)}),value:{name:"clear"},elemAfter:e(f).createElement(y.Shortcut,null,g.tooltip(g.backspace))}),h.length?[{items:h}]:null})),e(d)(e(s)(t),"onMenuItemActivated",(function(e){var n=e.item,r=t.props,o=r.editorView,i=r.selectionRect,a=o.state,s=o.dispatch,c=T.getPluginState(a).targetCellPosition;switch(n.value.name){case"sort_column_desc":S.sortColumnWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,i.left,N.SortOrder.DESC)(a,s),t.toggleOpen();break;case"sort_column_asc":S.sortColumnWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,i.left,N.SortOrder.ASC)(a,s),t.toggleOpen();break;case"merge":S.mergeCellsWithAnalytics()(a,s),t.toggleOpen();break;case"split":S.splitCellWithAnalytics()(a,s),t.toggleOpen();break;case"distribute_columns":var l=R.getNewResizeStateFromSelectedColumns(i,a,o.domAtPos.bind(o));l&&(S.distributeColumnsWidthsWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,l)(a,s),t.toggleOpen());break;case"clear":S.emptyMultipleCellsWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,c)(a,s),t.toggleOpen();break;case"insert_column":S.insertColumnWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,i.right)(a,s),t.toggleOpen();break;case"insert_row":S.insertRowWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,{index:i.bottom,moveCursorToInsertedRow:!0})(a,s),t.toggleOpen();break;case"delete_column":S.deleteColumnsWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,i)(a,s),t.toggleOpen();break;case"delete_row":var u=T.getPluginState(a).pluginConfig.isHeaderRowRequired;S.deleteRowsWithAnalytics(x.INPUT_METHOD.CONTEXT_MENU,i,!!u)(a,s),t.toggleOpen()}})),e(d)(e(s)(t),"toggleOpen",(function(){var e=t.props,n=e.isOpen,r=e.editorView,o=r.state,i=r.dispatch;k.toggleContextualMenu()(o,i),n||t.setState({isSubmenuOpen:!1})})),e(d)(e(s)(t),"handleOpenChange",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;k.toggleContextualMenu()(n,r),t.setState({isSubmenuOpen:!1})})),e(d)(e(s)(t),"handleItemMouseEnter",(function(e){var n=e.item,r=t.props,o=r.editorView,i=o.state,a=o.dispatch,s=r.selectionRect;"background"===n.value.name&&(t.state.isSubmenuOpen||t.setState({isSubmenuOpen:!0})),"delete_column"===n.value.name&&C.hoverColumns(A.getSelectedColumnIndexes(s),!0)(i,a),"delete_row"===n.value.name&&C.hoverRows(A.getSelectedRowIndexes(s),!0)(i,a),["sort_column_asc","sort_column_desc"].indexOf(n.value.name)>-1&&0!==P.getMergedCellsPositions(i.tr).length&&C.hoverMergedCells()(i,a)})),e(d)(e(s)(t),"handleItemMouseLeave",(function(e){var n=e.item,r=t.props.editorView,o=r.state,i=r.dispatch;"background"===n.value.name&&t.closeSubmenu(),["sort_column_asc","sort_column_desc","delete_column","delete_row"].indexOf(n.value.name)>-1&&C.clearHoverSelection()(o,i)})),e(d)(e(s)(t),"closeSubmenu",(function(){t.state.isSubmenuOpen&&t.setState({isSubmenuOpen:!1})})),e(d)(e(s)(t),"setColor",(function(e){var n=t.props.editorView,r=T.getPluginState(n.state).targetCellPosition,o=n.state,i=n.dispatch;S.setColorWithAnalytics(e,r)(o,i),t.toggleOpen()})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.isOpen,r=t.mountPoint,o=t.offset,i=t.boundariesElement,a=this.createItems();return a?e(f).createElement("div",{onMouseLeave:this.closeSubmenu},e(f).createElement(b.default,{mountTo:r,items:a,isOpen:n,onOpenChange:this.handleOpenChange,onItemActivated:this.onMenuItemActivated,onMouseEnter:this.handleItemMouseEnter,onMouseLeave:this.handleItemMouseLeave,fitHeight:188,fitWidth:D.contextualMenuDropdownWidth,boundariesElement:i,offset:o})):null}}]),r}(f.Component);e(d)(F,"defaultProps",{boundariesElement:document.body});var z=h.injectIntl(F)})),r.register("bcdGA",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("61szk"),a=r("iGpAs"),s=r("4NYC1"),c=r("3YLhS"),l=r("7RIig"),u=r("cufhv");var d=l.injectIntl((function(t){var n=t.palette,r=t.cols,o=void 0===r?7:r,l=t.onClick,d=t.selectedColor,f=t.className,p=t.intl.formatMessage,h=e(i).useMemo((function(){return n.reduce((function(e,t,n){var r=Math.floor(n/o);return e[r]=e[r]||[],e[r].push(t),e}),[])}),[n,o]);return e(i).createElement(e(i).Fragment,null,h.map((function(t){return e(i).createElement(c.ColorPaletteWrapper,{className:f,key:"row-first-color-".concat(t[0].value)},t.map((function(t){var n,r,o=t.value,c=t.label,f=t.border,h=t.message;return e(i).createElement(s.default,{key:o,value:o,borderColor:f,label:h?p(h):c,onClick:l,isSelected:o===d,checkMarkColor:(n=o,r=[u.N0,u.N500],r.sort((function(e,t){return a.default.difference(t,n)-a.default.difference(e,n)}))[0])})})))})))}))})),r.register("4NYC1",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("7RIig")),h=r("7msEu"),g=r("cufhv"),m=r("aAWwc");r("k1QaE");var v=r("kzvDE");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=p.defineMessages({selected:{id:"fabric.editor.selected",defaultMessage:"Selected",description:"If the item is selected or not."}}),E=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onMouseDown",(function(e){e.preventDefault()})),e(d)(e(s)(t),"onClick",(function(e){var n=t.props,r=n.onClick,o=n.value,i=n.label;e.preventDefault(),r(o,i)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.tabIndex,r=t.value,o=t.label,i=t.isSelected,a=t.borderColor,s=t.checkMarkColor,c=void 0===s?g.N0:s,l=t.intl.formatMessage,u=i?"".concat(o," ").concat(l(y.selected)):o;return e(f).createElement(v.default,{content:o},e(f).createElement(m.ButtonWrapper,null,e(f).createElement(m.Button,{"aria-label":u,onClick:this.onClick,onMouseDown:this.onMouseDown,tabIndex:n,className:"".concat(i?"selected":""),style:{backgroundColor:r||"transparent",border:"1px solid ".concat(a)}},i&&e(f).createElement(e(h),{primaryColor:c,label:""}))))}}]),r}(f.PureComponent),x=p.injectIntl(E)})),r.register("7msEu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.356 10.942a.497.497 0 00-.713 0l-.7.701a.501.501 0 00-.003.71l3.706 3.707a.501.501 0 00.705.003l7.712-7.712a.493.493 0 00-.006-.708l-.7-.7a.504.504 0 00-.714 0l-6.286 6.286a.506.506 0 01-.713 0l-2.288-2.287z" fill="currentColor"/></svg>'},e));a.displayName="EditorDoneIcon";var s=a;e.exports.default=s})),r.register("aAWwc",(function(n,o){t(n.exports,"Button",(function(){return u})),t(n.exports,"ButtonWrapper",(function(){return d}));var i,a,s=r("lhkMJ"),c=r("SssiD"),l=r("cufhv"),u=c.default.button(i||(i=e(s)(["\n  height: 26px;\n  width: 26px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n"])),l.N900,l.N0),d=c.default.span(a||(a=e(s)(["\n  border: 1px solid transparent;\n  margin: 1px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border-color: ",";\n  }\n"])),l.N50)})),r.register("3YLhS",(function(n,o){t(n.exports,"ColorPaletteWrapper",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("kFKbx"),l=s.default.div(i||(i=e(a)(["\n  padding: 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n"])),c.gridSize())})),r.register("8XHKi",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("ekJGA"),i=r("7WWGO"),a=r("ii3cb"),s=[];o.tableBackgroundColorPalette.forEach((function(e,t){var n=e.toLowerCase().replace(" ","-"),r=i.default(a.default,n);s.push({value:t,label:e,border:o.tableBackgroundBorderColor,message:r})}));var c=s})),r.register("7WWGO",(function(e,n){function r(e,t){var n=e[t];return n||console.warn("Text color palette does not have an internationalization message for color ".concat(t.toUpperCase(),".\nYou must add a message description to properly translate this color.\nUsing current label as default message.\nThis could have happen when someone changed the 'colorPalette' from 'adf-schema' without updating this file.\n")),n}t(e.exports,"default",(function(){return r}))})),r.register("ii3cb",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({white:{id:"fabric.theme.white",defaultMessage:"White",description:"Name of a color"},"light-blue":{id:"fabric.theme.light-blue",defaultMessage:"Light blue",description:"Name of a color"},"light-teal":{id:"fabric.theme.light-teal",defaultMessage:"Light teal",description:"Name of a color"},"light-green":{id:"fabric.theme.light-green",defaultMessage:"Light green",description:"Name of a color"},"light-yellow":{id:"fabric.theme.light-yellow",defaultMessage:"Light yellow",description:"Name of a color"},"light-red":{id:"fabric.theme.light-red",defaultMessage:"Light red",description:"Name of a color"},"light-purple":{id:"fabric.theme.light-purple",defaultMessage:"Light purple",description:"Name of a color"},"light-gray":{id:"fabric.theme.light-gray",defaultMessage:"Light gray",description:"Name of a color"},blue:{id:"fabric.theme.blue",defaultMessage:"Blue",description:"Name of a color"},teal:{id:"fabric.theme.teal",defaultMessage:"Teal",description:"Name of a color"},green:{id:"fabric.theme.green",defaultMessage:"Green",description:"Name of a color"},yellow:{id:"fabric.theme.yellow",defaultMessage:"Yellow",description:"Name of a color"},red:{id:"fabric.theme.red",defaultMessage:"Red",description:"Name of a color"},orange:{id:"fabric.theme.orange",defaultMessage:"Orange",description:"Name of a color."},purple:{id:"fabric.theme.purple",defaultMessage:"Purple",description:"Name of a color"},gray:{id:"fabric.theme.gray",defaultMessage:"Gray",description:"Name of a color"},"dark-blue":{id:"fabric.theme.dark-blue",defaultMessage:"Dark blue",description:"Name of a color"},"dark-teal":{id:"fabric.theme.dark-teal",defaultMessage:"Dark teal",description:"Name of a color"},"dark-green":{id:"fabric.theme.dark-green",defaultMessage:"Dark green",description:"Name of a color"},"dark-yellow":{id:"fabric.theme.dark-yellow",defaultMessage:"Dark yellow",description:"Name of a color"},"dark-red":{id:"fabric.theme.dark-red",defaultMessage:"Dark red",description:"Name of a color"},"dark-purple":{id:"fabric.theme.dark-purple",defaultMessage:"Dark purple",description:"Name of a color"}})})),r.register("a6oJQ",(function(n,o){t(n.exports,"default",(function(){return R}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("iFBc4"),g=r("7RIig"),m=r("SssiD");r("igW5C");var v=r("5Dx14");r("8iml0");var b=r("82cWi"),y=r("6Vf6Q"),E=r("gCo6x"),x=r("eNOQT"),k=r("3sOIY"),C=r("a3gyn"),S=r("hhVcy");r("kH7oN");var T=r("9V1f8");r("cTu5S");T=r("9V1f8");var O,w=r("jCcwN"),N=r("aitud");function P(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var A=m.default.div(O||(O=e(f)(["\n  ","\n"])),w.tableFloatingCellButtonStyles),I=function(t){e(c)(r,t);var n=P(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleClick",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;t.props.isContextualMenuOpen||k.toggleContextualMenu()(n,r)})),t}return e(a)(r,[{key:"render",value:function(){var t,n=this.props,r=n.mountPoint,o=n.scrollableElement,i=n.editorView,a=n.targetCellPosition,s=n.isContextualMenuOpen,c=n.intl.formatMessage,l=n.dispatchAnalyticsEvent,u=i.domAtPos.bind(i);try{t=h.findDomRefAtPos(a,u)}catch(e){if(console.warn(e),l)l({action:T.ACTION.ERRORED,actionSubject:T.ACTION_SUBJECT.CONTENT_COMPONENT,eventType:T.EVENT_TYPE.OPERATIONAL,attributes:{component:T.CONTENT_COMPONENT.FLOATING_CONTEXTUAL_BUTTON,selection:i.state.selection.toJSON(),position:a,docSize:i.state.doc.nodeSize,error:e.toString(),errorStack:e.stack||void 0}})}if(!(t&&t instanceof HTMLElement))return null;var d=x.closestElement(t,".".concat(C.TableCssClassName.TABLE_NODE_WRAPPER)),f=c(S.default.cellOptions),g=e(p).createElement(A,null,e(p).createElement(E.default,{className:C.TableCssClassName.CONTEXTUAL_MENU_BUTTON,selected:s,title:f,onClick:this.handleClick,iconBefore:e(p).createElement(e(y),{label:f})})),m=t.parentElement&&t.parentElement.className.indexOf("sticky")>-1;if(this.props.stickyHeader&&m){var k=t.getBoundingClientRect();return e(p).createElement("div",{style:{position:"fixed",top:this.props.stickyHeader.top+this.props.stickyHeader.padding+3+3,zIndex:b.akEditorFloatingOverlapPanelZIndex,left:k.left+t.clientWidth-20-3}},g)}return e(p).createElement(v.default,{alignX:"right",alignY:"start",target:t,mountTo:d||r,boundariesElement:t,scrollableElement:o,offset:[3,-3],forcePlacement:!0,allowOutOfBounds:!0,zIndex:b.akEditorSmallZIndex},g)}},{key:"shouldComponentUpdate",value:function(e){return this.props.tableNode!==e.tableNode||this.props.targetCellPosition!==e.targetCellPosition||this.props.layout!==e.layout||this.props.isContextualMenuOpen!==e.isContextualMenuOpen||this.props.isNumberColumnEnabled!==e.isNumberColumnEnabled||this.props.stickyHeader!==e.stickyHeader}}]),r}(e(p).Component);e(d)(I,"displayName","FloatingContextualButton");var D=g.injectIntl(I);function R(t){return e(p).createElement(N.ErrorBoundary,{component:T.ACTION_SUBJECT.FLOATING_CONTEXTUAL_BUTTON,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,fallbackComponent:null},e(p).createElement(D,t))}})),r.register("jCcwN",(function(n,o){t(n.exports,"tableFloatingCellButtonStyles",(function(){return d}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("cufhv"),l=r("kFKbx"),u=r("c7WcO"),d=s.css(i||(i=e(a)(["\n  > div {\n    background: ",";\n    border-radius: ","px;\n    border: 2px solid ",";\n    display: flex;\n    height: ","px;\n    flex-direction: column;\n  }\n  && button {\n    flex-direction: column;\n    padding: 0;\n    height: 100%;\n    display: flex;\n  }\n  && button > span {\n    margin: 0px -4px;\n  }\n  && span {\n    pointer-events: none;\n  }\n"])),c.N20,l.borderRadius(),c.N0,u.contextualMenuTriggerSize-2)})),r.register("k2EFJ",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("lhkMJ"),a=r("61szk"),s=r("iFBc4"),c=r("1RK3w"),l=r("kB6gF"),u=r("eK4uv"),d=r("SssiD");r("igW5C");var f=r("5Dx14");r("8iml0");var p,h=r("82cWi"),g=r("cFImz"),m=r("c7WcO"),v=r("juPhY"),b=r("a6Q2s"),y=d.default.div(p||(p=e(i)(["\n  ","\n"])),v.tablePopupStyles),E=function(e,t){var n=g.pluginKey.getState(t).tableRef,r=-m.contextualMenuTriggerSize;if(n&&e){var o=e.getBoundingClientRect(),i=n.getBoundingClientRect(),a=o.top-i.top;a<200&&(r-=a+2)}return[m.contextualMenuTriggerSize/2,r]},x=function(t){var n=t.mountPoint,r=t.boundariesElement,o=t.scrollableElement,i=t.editorView,d=t.isOpen,p=t.pluginConfig,v=g.getPluginState(i.state).targetCellPosition;if(!d||!v||i.state.doc.nodeSize<=v)return null;var x=i.state.selection,k=c.isSelectionType(x,"cell")?l.getSelectionRect(x):u.findCellRectClosestToPos(x.$from);if(!k)return null;var C=i.domAtPos.bind(i),S=s.findDomRefAtPos(v,C);return S?e(a).createElement(f.default,{alignX:"right",alignY:"top",target:S,mountTo:n,boundariesElement:r,scrollableElement:o,fitHeight:188,fitWidth:m.contextualMenuDropdownWidth,zIndex:h.akEditorFloatingOverlapPanelZIndex,forcePlacement:!0,offset:[-7,0]},e(a).createElement(y,null,e(a).createElement(b.default,{editorView:i,offset:E(S,i.state),isOpen:d,targetCellPosition:v,allowColumnSorting:p&&p.allowColumnSorting,allowMergeCells:p.allowMergeCells,allowBackgroundColor:p.allowBackgroundColor,selectionRect:k,boundariesElement:r}))):null};x.displayName="FloatingContextualMenu";var k=x})),r.register("juPhY",(function(n,o){t(n.exports,"tablePopupStyles",(function(){return p}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("ekJGA"),l=r("cufhv"),u=r("c7WcO"),d=r("a3gyn"),f=r("kFKbx"),p=s.css(i||(i=e(a)(["\n  ."," {\n    border-radius: ","px;\n    background: white;\n    box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n    display: block;\n    position: absolute;\n    top: 0;\n    left: ","px;\n    padding: 8px;\n\n    > div {\n      padding: 0;\n    }\n  }\n\n  ."," {\n    display: flex;\n\n    &::before {\n      content: '';\n      display: block;\n      border: 1px solid ",";\n      border-radius: ","px;\n      width: 20px;\n      height: 20px;\n    }\n\n    &::after {\n      content: '\u203a';\n      margin-left: 4px;\n      line-height: 20px;\n      color: ",";\n    }\n  }\n"])),d.TableCssClassName.CONTEXTUAL_SUBMENU,f.borderRadius(),l.N60A,l.N60A,u.contextualMenuDropdownWidth,d.TableCssClassName.CONTEXTUAL_MENU_ICON,c.tableBackgroundBorderColor,f.borderRadius(),l.N90)})),r.register("hp4zw",(function(n,o){t(n.exports,"default",(function(){return j}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("bKnyF"),g=r("kN6Qk"),m=r("kB6gF"),v=r("c6wVG");r("igW5C");var b=r("5Dx14");r("8iml0");var y=r("82cWi"),E=r("eNOQT");r("cTu5S");var x=r("9V1f8"),k=r("8c6LP"),C=r("1QFgo"),S=r("cFImz"),T=r("a3gyn"),O=r("lQrmt"),w=r("5m4YX"),N=r("hhVcy"),P=r("c7WcO"),A=r("8b0hW"),I=r("3b54a");function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?D(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function M(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var _=function(t){e(l)(r,t);var n=M(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"wrapper",null),e(f)(e(c)(o),"updateWrapper",(function(){var e=E.closestElement(o.props.tableRef,".".concat(T.TableCssClassName.TABLE_NODE_WRAPPER));e?(o.wrapper=e,o.wrapper.addEventListener("scroll",o.onWrapperScrolled),o.setState({scrollLeft:e.scrollLeft})):(o.wrapper&&(o.wrapper.removeEventListener("scroll",o.onWrapperScrolled),o.setState({scrollLeft:0})),o.wrapper=null)})),e(f)(e(c)(o),"onWrapperScrolled",(function(e){var t=e.target;o.setState({scrollLeft:t.scrollLeft})})),e(f)(e(c)(o),"handleMouseEnter",(function(){var e=o.props.editorView,t=e.state,n=e.dispatch;switch(o.state.selectionType){case"row":return k.hoverRows(o.state.indexes,!0)(t,n,o.props.editorView);case"column":return k.hoverColumns(o.state.indexes,!0)(t,n,o.props.editorView)}return!1})),e(f)(e(c)(o),"handleMouseLeave",(function(){var e=o.props.editorView,t=e.state,n=e.dispatch;return k.clearHoverSelection()(t,n)})),e(f)(e(c)(o),"handleClick",(function(){var e=o.props.editorView,t=e.state,n=e.dispatch,r=S.getPluginState(t).pluginConfig.isHeaderRowRequired,i=m.getSelectionRect(t.selection);if(i)switch(o.state.selectionType){case"column":return void C.deleteColumnsWithAnalytics(x.INPUT_METHOD.BUTTON,i)(t,n);case"row":return void C.deleteRowsWithAnalytics(x.INPUT_METHOD.BUTTON,i,!!r)(t,n)}var a=o.props.editorView;t=a.state,n=a.dispatch,k.clearHoverSelection()(t,n)})),o.state={selectionType:void 0,top:0,left:0,indexes:[],scrollLeft:0},o}return e(s)(r,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.selectionType!==t.selectionType||this.state.left!==t.left||this.state.top!==t.top||this.state.scrollLeft!==t.scrollLeft}},{key:"componentDidMount",value:function(){this.updateWrapper()}},{key:"componentDidUpdate",value:function(){this.updateWrapper()}},{key:"componentWillUnmount",value:function(){this.wrapper&&this.wrapper.removeEventListener("scroll",this.onWrapperScrolled)}},{key:"render",value:function(){var t=this.props,n=t.mountPoint,r=t.boundariesElement,o=t.tableRef,a=this.state.selectionType;if(!a||!o)return null;var s=E.closestElement(o,".".concat(T.TableCssClassName.TABLE_CONTAINER)),c=e(p).createElement(A.default,{removeLabel:"column"===a?N.default.removeColumns:N.default.removeRows,onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave}),l=I.default({left:this.state.left,top:this.state.top,selectionType:this.state.selectionType,tableWrapper:this.wrapper}),u=s||n;if("sticky"===this.state.position&&u){var d=o.querySelector("tr.sticky");if(d){var f=d.getBoundingClientRect(),h=l.onPositionCalculated||function(e){return e},g=h({left:this.state.left,top:this.state.top});return v.createPortal(e(p).createElement("div",{style:{position:"fixed",top:g.top,zIndex:P.stickyRowZIndex,left:f.left+(g.left||0)-("column"===this.state.selectionType?this.state.scrollLeft:0)-(this.props.isNumberColumnEnabled?y.akEditorTableNumberColumnWidth:0)}},c),u)}}return e(p).createElement(b.default,e(i)({target:o,mountTo:u,boundariesElement:s||r,scrollableElement:this.wrapper||void 0,forcePlacement:!0,allowOutOfBounds:!0},l),c)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=function(e){if(!g.isTableSelected(e)&&e instanceof h.CellSelection){if(e.isRowSelection())return"row";if(e.isColSelection())return"column"}}(e.selection),r=e.stickyHeaders&&e.stickyHeaders.sticky,o=m.getSelectionRect(e.selection),i=o&&0===o.top&&1===o.bottom,a=r&&i,s=e.stickyHeaders?e.stickyHeaders.top+e.stickyHeaders.padding:0;if(n)switch(n){case"column":var c=O.getColumnsWidths(e.editorView),l=O.getColumnDeleteButtonParams(c,e.editorView.state.selection);return l?R(R({},l),{},{top:r?e.stickyHeaders.top:0,position:r?"sticky":void 0,selectionType:n}):null;case"row":if(e.tableRef){var u=w.getRowHeights(e.tableRef),d=r?-u[0]:0,f=w.getRowDeleteButtonParams(u,e.editorView.state.selection,a?s:d);if(f)return R(R({},f),{},{position:a?"sticky":void 0,left:0,selectionType:n})}return null}return t.selectionType!==n?{selectionType:void 0,top:0,left:0,indexes:[]}:null}}]),r}(p.Component);e(f)(_,"displayName","FloatingDeleteButton");var j=_})),r.register("8b0hW",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("61szk"),a=r("7RIig"),s=r("a3gyn"),c=a.injectIntl((function(t){var n=t.style,r=t.onClick,o=t.onMouseEnter,a=t.onMouseLeave,c=t.removeLabel,l=t.intl.formatMessage;return e(i).createElement("div",{className:s.TableCssClassName.CONTROLS_DELETE_BUTTON_WRAP,style:n,onMouseEnter:o,onMouseLeave:a},e(i).createElement("button",{type:"button",title:l(c,{0:1}),className:s.TableCssClassName.CONTROLS_DELETE_BUTTON,onMouseDown:r,onMouseMove:function(e){return e.preventDefault()}},e(i).createElement("svg",{className:s.TableCssClassName.CONTROLS_BUTTON_ICON},e(i).createElement("path",{d:"M12.242 10.828L9.414 8l2.828-2.829a.999.999 0 1 0-1.414-1.414L8 6.587l-2.829-2.83a1 1 0 0 0-1.414 1.414l2.83 2.83-2.83 2.827a1 1 0 0 0 1.414 1.414l2.83-2.828 2.827 2.828a.999.999 0 1 0 1.414-1.414",fill:"currentColor",fillRule:"evenodd"}))))}))})),r.register("3b54a",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("l15hj"),a=r("c7WcO");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=a.tableToolbarSize+a.tableDeleteButtonSize+a.tableDeleteButtonOffset;function u(e){var t=e.left,n=e.top,r=e.selectionType,o=e.tableWrapper;switch(r){case"column":return function(e,t){return{alignX:"left",alignY:"start",offset:[e,l],shouldRenderPopup:function(){if(t){var n=t.getBoundingClientRect().width+t.scrollLeft-a.tableDeleteButtonSize,r=t.scrollLeft;return n-e>0&&e>r}return!0}}}(t,o);case"row":return function(e){return{alignX:"left",alignY:"start",forcePlacement:!0,offset:[0,-e],onPositionCalculated:function(e){return c(c({},e),{},{left:-l})}}}(n);default:return{}}}})),r.register("9jXN4",(function(n,o){t(n.exports,"default",(function(){return P}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("jBp4v"),g=r("bKnyF"),m=r("iFBc4"),v=r("eK4uv"),b=r("7RIig");r("igW5C");var y=r("5Dx14"),E=r("eNOQT");r("cTu5S");var x=r("9V1f8"),k=r("1QFgo"),C=r("a3gyn"),S=r("hiCRA"),T=r("4wk1W"),O=r("lWcIU");x=r("9V1f8");function w(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var N=function(t){e(l)(r,t);var n=w(r);function r(t){var o;return e(a)(this,r),(o=n.call(this,t)).insertColumn=o.insertColumn.bind(e(c)(o)),o.insertRow=o.insertRow.bind(e(c)(o)),o}return e(s)(r,[{key:"render",value:function(){var t=this.props,n=t.tableNode,r=t.editorView,o=t.insertColumnButtonIndex,a=t.insertRowButtonIndex,s=t.tableRef,c=t.mountPoint,l=t.boundariesElement,u=t.isHeaderColumnEnabled,d=t.isHeaderRowEnabled,f=t.dispatchAnalyticsEvent,h=void 0!==o?"column":void 0!==a?"row":null;if(!n||!s||!h)return null;if("column"===h&&u&&0===o||"row"===h&&d&&0===a)return null;var b=r.state.tr;if(b.selection instanceof g.CellSelection&&(b.selection.isColSelection()||b.selection.isRowSelection()))return null;var k=this.getCellPosition(h);if(!k)return null;var w=v.findTable(r.state.selection);if(!w)return null;var N,P=r.domAtPos.bind(r),A=k+w.start+1;try{N=m.findDomRefAtPos(A,P)}catch(e){if(console.warn(e),f)f({action:x.ACTION.ERRORED,actionSubject:x.ACTION_SUBJECT.CONTENT_COMPONENT,eventType:x.EVENT_TYPE.OPERATIONAL,attributes:{component:x.CONTENT_COMPONENT.FLOATING_INSERT_BUTTON,selection:r.state.selection.toJSON(),position:A,docSize:r.state.doc.nodeSize,error:e.toString(),errorStack:e.stack||void 0}})}if(!(N&&N instanceof HTMLElement))return null;var I="row"===h?E.closestElement(N,"tr"):E.closestElement(N,"td, th");if(!I)return null;var D=E.closestElement(I,".".concat(C.TableCssClassName.TABLE_CONTAINER)),R=E.closestElement(I,".".concat(C.TableCssClassName.TABLE_NODE_WRAPPER)),M="column"===h?o:a,_=S.checkIfNumberColumnEnabled(r.state);return e(p).createElement(y.default,e(i)({target:I,mountTo:D||c,boundariesElement:D||l,scrollableElement:R,forcePlacement:!0,allowOutOfBounds:!0},T.default(h,M,_,D)),e(p).createElement(O.default,{type:h,tableRef:s,onMouseDown:"column"===h?this.insertColumn:this.insertRow,hasStickyHeaders:this.props.hasStickyHeaders||!1}))}},{key:"getCellPosition",value:function(e){var t=this.props,n=t.tableNode,r=t.insertColumnButtonIndex,o=t.insertRowButtonIndex,i=h.TableMap.get(n);if("column"===e){var a=0===r?0:r-1;return a>i.width-1?null:i.positionAt(0,a,n)}var s=0===o?0:o-1;return s>i.height-1?null:i.positionAt(s,0,n)}},{key:"insertRow",value:function(e){var t=this.props,n=t.editorView,r=t.insertRowButtonIndex;if(void 0!==r){e.preventDefault();var o=n.state,i=n.dispatch;k.insertRowWithAnalytics(x.INPUT_METHOD.BUTTON,{index:r,moveCursorToInsertedRow:!0})(o,i)}}},{key:"insertColumn",value:function(e){var t=this.props,n=t.editorView,r=t.insertColumnButtonIndex;if(void 0!==r){e.preventDefault();var o=n.state,i=n.dispatch;k.insertColumnWithAnalytics(x.INPUT_METHOD.BUTTON,r)(o,i)}}}]),r}(e(p).Component);e(f)(N,"displayName","FloatingInsertButton");var P=b.injectIntl(N)})),r.register("4wk1W",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("l15hj");r("8iml0");var a=r("82cWi"),s=r("c7WcO");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=-s.tableInsertColumnButtonSize/2,d=u+a.akEditorTableNumberColumnWidth,f=s.tableToolbarSize+s.tableInsertColumnButtonOffset,p=-(s.tableToolbarSize+s.tableInsertColumnButtonOffset+s.tableInsertColumnButtonSize),h=s.tableInsertColumnButtonSize/2;var g=function(e,t,n,r){switch(e){case"column":return function(e,t,n){var r={alignX:"end",alignY:"top",offset:[u,f],onPositionCalculated:function(r){var o=r.left;if(!o)return r;if(0===e)return l(l({},r),{},{left:n?d:u});var i=t?t.getBoundingClientRect():null;return l(l({},r),{},{left:i&&o>i.width?i.width:o})}};return 0===e?l(l({},r),{},{alignX:"left",alignY:"top"}):r}(t,r,n);case"row":return function(e){var t={alignX:"left",alignY:"bottom",offset:[0,h]};return 0===e&&(t=l(l({},t),{},{alignY:"top",offset:[0,-h]})),l(l({},t),{},{onPositionCalculated:function(e){return l(l({},e),{},{left:p})}})}(t);default:return{}}}})),r.register("lWcIU",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("61szk"),a=r("7RIig");r("igW5C");var s=r("jPV1L");r("8iml0");var c=r("82cWi");r("k1QaE");var l=r("kzvDE"),u=r("7uC1r"),d=r("eNOQT"),f=r("a3gyn"),p=r("hhVcy"),h=r("c7WcO"),g=function(e,t){var n=t?e.getBoundingClientRect().top-4*s.tableMarginTop-3:h.tableToolbarSize+3;return e.offsetHeight+n},m=function(e){var t=e.parentElement,n=e.offsetWidth,r=t.offsetWidth,o=t.scrollLeft,i=n-r,a=function(e){var t=d.closestElement(e,".".concat(f.TableCssClassName.TABLE_CONTAINER));return t&&t.querySelector(".".concat(f.TableCssClassName.NUMBERED_COLUMN))?h.tableToolbarSize+c.akEditorTableNumberColumnWidth-1:h.tableToolbarSize}(e);return Math.min(n+a,r+a-Math.max(o-i,0))+4},v=function(e){return"row"===e?p.default.insertRow:p.default.insertColumn},b=a.injectIntl((function(t){var n=t.onMouseDown,r=t.tableRef,o=t.type,a=t.intl.formatMessage,s=t.hasStickyHeaders,c=e(i).createElement(l.default,{content:e(i).createElement(u.ToolTipContent,{description:a(v(o)),keymap:"row"===o?u.addRowAfter:u.addColumnAfter}),position:"top"},e(i).createElement(e(i).Fragment,null,e(i).createElement("div",{className:f.TableCssClassName.CONTROLS_INSERT_BUTTON_INNER},e(i).createElement("button",{type:"button",className:f.TableCssClassName.CONTROLS_INSERT_BUTTON,onMouseDown:n},e(i).createElement("svg",{className:f.TableCssClassName.CONTROLS_BUTTON_ICON},e(i).createElement("path",{d:"M10 4a1 1 0 0 1 1 1v4h4a1 1 0 0 1 0 2h-4v4a1 1 0 0 1-2 0v-4H5a1 1 0 1 1 0-2h4V5a1 1 0 0 1 1-1z",fill:"currentColor",fillRule:"evenodd"})))),e(i).createElement("div",{className:f.TableCssClassName.CONTROLS_INSERT_LINE,style:"row"===o?{width:m(r)}:{height:g(r,s)}}))),d="column"===o?f.TableCssClassName.CONTROLS_FLOATING_BUTTON_COLUMN:f.TableCssClassName.CONTROLS_FLOATING_BUTTON_ROW;return e(i).createElement("div",{className:d},e(i).createElement("div",{className:"".concat(f.TableCssClassName.CONTROLS_INSERT_BUTTON_WRAP," ").concat(f.TableCssClassName.CONTROLS_INSERT_ROW)},c))}))})),r.register("3S3Ww",(function(n,o){t(n.exports,"default",(function(){return w}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hdR0w"),h=r("7RIig");r("igW5C");var g=r("5Dx14"),m=r("idEG6"),v=r("6plOy"),b=r("ch3px"),y=r("gCo6x"),E=r("1QFgo"),x=r("a3gyn");function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var T=function(e){return S(S({},e),{},{top:e.top?e.top+22:void 0})},O=function(t){e(c)(r,t);var n=k(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleClick",(function(){var e=t.props.editorView,n=e.state,r=e.dispatch;E.toggleTableLayoutWithAnalytics()(n,r)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.intl.formatMessage,r=t.mountPoint,o=t.boundariesElement,i=t.scrollableElement,a=t.targetRef,s=t.isResizing,c=t.layout,l=void 0===c?"default":c;if(!a)return null;var u=n(function(e){switch(e){case"default":return b.default.layoutWide;case"wide":return b.default.layoutFullWidth;default:return b.default.layoutFixedWidth}}(l));return e(f).createElement(g.default,{ariaLabel:u,target:a,alignY:"start",alignX:"end",onPositionCalculated:T,stick:!0,mountTo:r,boundariesElement:o,scrollableElement:i,forcePlacement:!0},e(f).createElement("div",{className:e(p)(x.TableCssClassName.LAYOUT_BUTTON,e(d)({},x.TableCssClassName.IS_RESIZING,s))},e(f).createElement(y.default,{title:u,onClick:this.handleClick,iconBefore:"full-width"===l?e(f).createElement(e(m),{label:u}):e(f).createElement(e(v),{label:u})})))}},{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.targetRef,r=t.layout,o=t.isResizing,i=t.tableWidth;return n!==e.targetRef||r!==e.layout||o!==e.isResizing||i!==e.tableWidth}}]),r}(e(f).Component);e(d)(O,"displayName","LayoutButton");var w=h.injectIntl(O)})),r.register("idEG6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8.062 11L6.5 9.914A1 1 0 017.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L7.914 15.5A1 1 0 116.5 14.086L8.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zm5.408 1.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L16.086 8.5A1 1 0 0117.5 9.914L15.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68l1.562 1.086a1 1 0 01-1.414 1.414l-2.616-2.616z" fill="currentColor"/></svg>'},e));a.displayName="EditorCollapseIcon";var s=a;e.exports.default=s})),r.register("6plOy",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M18.062 11L16.5 9.914A1 1 0 1117.914 8.5l2.616 2.616c.28.167.47.5.47.884s-.19.717-.47.884L17.914 15.5a1 1 0 01-1.414-1.414L18.062 13h-3.68c-.487 0-.882-.448-.882-1s.395-1 .882-1h3.68zM3.47 12.884c-.28-.167-.47-.5-.47-.884s.19-.717.47-.884L6.086 8.5A1 1 0 017.5 9.914L5.938 11h3.68c.487 0 .882.448.882 1s-.395 1-.882 1h-3.68L7.5 14.086A1 1 0 016.086 15.5L3.47 12.884z" fill="currentColor"/></svg>'},e));a.displayName="EditorExpandIcon";var s=a;e.exports.default=s})),r.register("GGUau",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD"),c=r("ekJGA");r("cTu5S");var l,u=r("9V1f8"),d=r("6UBHG"),f=r("iIrvw"),p=r("gAnDB"),h=r("jdkTq"),g=r("1ndsv"),m=r("3sz5I"),v=r("lqPY1"),b=r("jfFQ0"),y=s.default.div(l||(l=e(i)(["\n  display: flex;\n"]))),E=function(e,t,n){var r=p.getListTypes(n,t.schema),o=r.list,i=r.item;return p.insertTaskDecisionWithAnalytics(t,n,u.INPUT_METHOD.QUICK_INSERT,(function(t){var n=t.listLocalId,r=t.itemLocalId;return e(o.createChecked({localId:n},i.createChecked({localId:r})))}))},x=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.allowNestedTasks,r=t.consumeTabs,o=t.useLongPressSelection;return{name:"taskDecision",nodes:function(){return[{name:"decisionList",node:c.decisionList},{name:"decisionItem",node:c.decisionItem},{name:"taskList",node:c.taskList},{name:"taskItem",node:c.taskItem}]},pmPlugins:function(){return[{name:"tasksAndDecisions",plugin:function(e){var t=e.portalProviderAPI,n=e.providerFactory,r=e.eventDispatcher,i=e.dispatch;return m.createPlugin(t,r,n,i,o)}},{name:"tasksAndDecisionsInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return h.default(t,n)}},{name:"tasksAndDecisionsKeyMap",plugin:function(e){var t=e.schema;return g.default(t,n,r)}}]},secondaryToolbarComponent:function(t){var n=t.editorView,r=t.disabled;return e(a).createElement(y,null,e(a).createElement(v.default,{editorView:n,isDisabled:r,isReducedSpacing:!0}),e(a).createElement(b.default,{editorView:n,isDisabled:r,isReducedSpacing:!0}))},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"action",title:n(d.messages.action),description:n(d.messages.actionDescription),priority:100,keywords:["checkbox","task","todo"],keyshortcut:"[]",icon:function(){return e(a).createElement(f.IconAction,null)},action:function(e,t){return E(e,t,"taskList")}},{id:"decision",title:n(d.messages.decision),description:n(d.messages.decisionDescription),priority:900,keyshortcut:"<>",icon:function(){return e(a).createElement(f.IconDecision,null)},action:function(e,t){return E(e,t,"decisionList")}}]}}}}})),r.register("jdkTq",(function(e,n){t(e.exports,"default",(function(){return f}));var o=r("eBSbE"),i=r("iFBc4"),a=r("cky9Z"),s=r("k9AYs");r("cTu5S");var c=r("9V1f8"),l=r("gAnDB"),u=function(e,t){return a.createRule(e,(function(e,n,r,o){return l.insertTaskDecisionWithAnalytics(e,t,c.INPUT_METHOD.FORMATTING,d(r,o))}))},d=function(e,t){return function(n){var r=n.tr,a=n.state,s=n.list,c=n.item,u=n.listLocalId,d=n.itemLocalId,f=a.selection.$from,p=a.schema.nodes,h=p.paragraph,g=p.hardBreak,m=f.node(f.depth).content,v=!1;m.forEach((function(t,n){t.type===g&&n<e&&(v=!0)}));var b=a.doc.resolve(t),y=a.doc.resolve(b.after());if(b.parent.type!==h||!i.canInsert(y,s.createAndFill()))return null;if(v){var E=l.changeInDepth(f,r.selection.$from);r.split(f.pos).setSelection(new o.NodeSelection(r.doc.resolve(f.pos+1))).replaceSelectionWith(s.create({localId:u},[c.create({localId:d},r.doc.nodeAt(f.pos+1).content)])).setSelection(new o.TextSelection(r.doc.resolve(f.pos+E))).delete(e,t+1)}else r.replaceRangeWith(f.before(),f.after(),s.create({localId:u},[c.create({localId:d},m)])).delete(e+1,t+1).setSelection(new o.TextSelection(r.doc.resolve(e+1)));return r}};var f=function(e,t){var n=[],r=e.nodes,o=r.decisionList,i=r.decisionItem,c=r.taskList,l=r.taskItem;return o&&i&&n.push(u(new RegExp("(^|".concat(s.leafNodeReplacementCharacter,")\\<\\>\\s$")),"decisionList")),c&&l&&n.push(u(new RegExp("(^|".concat(s.leafNodeReplacementCharacter,")\\[\\]\\s$")),"taskList")),a.createPlugin("tasks-and-decisions",n,{isBlockNodeRule:!0,useUnpredictableInputRule:t.useUnpredictableInputRule})}})),r.register("1ndsv",(function(n,o){t(n.exports,"default",(function(){return P}));var i=r("l15hj"),a=r("l5dFf"),s=r("6mFHM"),c=r("jWbqG"),l=r("eBSbE"),u=r("iFBc4"),d=r("ekJGA"),f=r("jd53t");r("cTu5S");var p=r("9V1f8"),h=r("3HJS8"),g=r("hNVBR"),m=r("gAnDB"),v=r("jqEmb"),b=r("hzX7x");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var E=function(e,t){return{action:p.ACTION.FORMATTED,actionSubject:p.ACTION_SUBJECT.TEXT,actionSubjectId:p.ACTION_SUBJECT_ID.FORMAT_INDENT,eventType:p.EVENT_TYPE.TRACK,attributes:{inputMethod:p.INPUT_METHOD.KEYBOARD,previousIndentationLevel:e,newIndentLevel:t===h.INDENT_DIRECTION.OUTDENT?e-1:e+1,direction:t,indentType:h.INDENT_TYPE.TASK_LIST}}},x=function(e){var t=function(e){return e.doc.resolve(e.end()).nodeAfter}(e);return!t||b.isActionOrDecisionItem(t)},k=f.filter(b.isInsideTask,(function(e,t){var n=b.getCurrentIndentLevel(e.selection);return!(!n||1===n)&&g.withAnalytics(E(n,h.INDENT_DIRECTION.OUTDENT))(a.autoJoin(v.liftSelection,["taskList"]))(e,t)})),C=f.filter(b.isInsideTask,(function(e,t){var n=b.getCurrentIndentLevel(e.selection);if(!n||n>=6)return!0;var r=e.schema.nodes,o=r.taskList,i=r.taskItem,s=e.selection,c=s.$from,l=s.$to;return b.subtreeHeight(c,l,[o,i])>=6||g.withAnalytics(E(n,h.INDENT_DIRECTION.INDENT))(a.autoJoin(v.wrapSelectionInTaskList,["taskList"]))(e,t)})),S=f.filter(f.isEmptySelectionAtStart,a.autoJoin(a.chainCommands((function(e,t){return v.joinAtCut(e.selection.$from)(e,t)}),f.filter(b.isInsideTaskOrDecisionItem,(function(e,t){return(n=e.selection.$from,function(e,t){var r=n.doc.resolve(n.before());if(r.nodeBefore&&b.isActionOrDecisionItem(r.nodeBefore)&&2===r.nodeBefore.nodeSize)return!1;var o=e.schema.nodes,i=o.taskList,a=o.paragraph;if(n.node(n.depth-2).type===i)return k(e,t);if(x(n)){if(t){var s=e.doc.slice(n.start(),n.end()).content,c=s.size?a.createChecked(void 0,s):a.createChecked();t(w(e.tr,c,n,!0))}return!0}return!1})(e,t);var n}))),["taskList","decisionList"])),T=f.filter([b.isInsideTaskOrDecisionItem,f.isEmptySelectionAtEnd],a.chainCommands((function(e,t){var n=b.walkOut(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.taskItem,s=r.decisionList,c=r.decisionItem,l=r.paragraph,d=r.bulletList,f=r.orderedList,p=r.listItem;if(!u.findParentNodeOfTypeClosestToPos(n,[o,i,s,c])){if(n.parent.type===l)return v.joinAtCut(n.doc.resolve(n.pos))(e,t);if((n.parent.type===d||n.parent.type===f)&&n.parent.firstChild&&n.parent.firstChild.type===p){var h=e.doc.resolve(n.pos+1),g=b.liftBlock(e.tr,h,h);return a.autoJoin((function(e,t){return!!g&&(t&&t(g),!0)}),["bulletList","orderedList"])(e,t)}}return!1}),(function(e,t){var n=b.walkOut(e.selection.$from),r=e.schema.nodes,o=r.taskList,i=r.paragraph,a=r.doc;if(!n.parent||n.parent.type===a)return!1;var s=n.doc.resolve(n.before());if(s.nodeBefore&&b.isActionOrDecisionItem(s.nodeBefore)&&2===s.nodeBefore.nodeSize)return!1;if(n.node(n.depth-2).type===o||n.node(n.depth-1).type===o&&n.parent.type===o){var c=b.liftBlock(e.tr,n,n);return t&&c&&t(c),!0}if(b.isTable(s.nodeBefore))return!1;if(x(e.selection.$from)){if(t){var l=e.doc.slice(n.start(),n.end()).content,u=l.size?i.createChecked(void 0,l):[];t(w(e.tr,u,n,!1))}return!0}return!1}))),O=a.autoJoin(T,["taskList","decisionList"]),w=function(e,t,n,r){var o=e.doc,i=n.node(n.depth-2),a=n.index(n.depth-1),s=!(!b.isActionOrDecisionList(i)&&0===a);s&&(e=e.split(n.pos,1,[{type:n.parent.type,attrs:{localId:d.uuid.generate()}}]));var u=c.Fragment.from(t);e=e.replace(e.mapping.map(n.start()-2),e.mapping.map(n.end()+2),u.size?new c.Slice(u,0,0):c.Slice.empty),r&&(e=e.setSelection(new l.TextSelection(e.doc.resolve(n.pos+1-(s?0:2)))));var f=o.resolve(n.after());if(f.depth===n.depth-1&&f.nodeAfter&&b.isActionOrDecisionList(f.nodeAfter)){var p=e.mapping.map(f.pos+2),h=e.doc.resolve(p),g=b.getBlockRange(h,e.doc.resolve(h.after(h.depth-1)-1));g&&(e=e.lift(g,g.depth-1).scrollIntoView()),e=e.deleteRange(p-3,p-1)}return e},N=f.filter(b.isInsideTaskOrDecisionItem,a.chainCommands(f.filter(b.isEmptyTaskDecision,a.chainCommands(k,(function(e,t){var n=e.tr,r=e.selection.$from,o=e.schema.nodes.paragraph;return!!x(r)&&(t&&t(w(n,o.createChecked(),r,!0)),!0)}))),(function(e,t){var n=e.selection,r=e.schema.nodes.taskItem,o=n.$from,i=n.$to,a=o.node(o.depth),s=a&&a.type,c=s===r?"taskList":"decisionList",l=m.insertTaskDecisionWithAnalytics(e,c,p.INPUT_METHOD.KEYBOARD,(function(e){var t=e.tr,n=e.itemLocalId;if(o.pos===i.pos&&0===o.parentOffset){var r=s.createAndFill({localId:n});if(r)return t.insert(o.pos-1,r)}return t.split(o.pos,1,[{type:s,attrs:{localId:n}}])}));return l&&t&&(l.scrollIntoView(),t(l)),!0})));var P=function(t,n,r){var o={"Shift-Tab":r?a.chainCommands(k,b.isInsideTaskOrDecisionItem):k,Tab:r?a.chainCommands(C,b.isInsideTaskOrDecisionItem):C},c=r?{"Shift-Tab":b.isInsideTaskOrDecisionItem,Tab:b.isInsideTaskOrDecisionItem}:{},l=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({Backspace:S,Delete:O,Enter:N},n?o:c);return s.keymap(l)}})),r.register("jqEmb",(function(e,n){t(e.exports,"liftSelection",(function(){return s})),t(e.exports,"wrapSelectionInTaskList",(function(){return c})),t(e.exports,"joinAtCut",(function(){return l}));var o=r("6sW8E"),i=r("jd53t"),a=r("hzX7x"),s=function(e,t){var n=e.selection,r=n.$from,o=n.$to,i=a.liftBlock(e.tr,r,o);return t&&i&&t(i),!!i},c=function(e,t){var n=e.selection,r=n.$from,i=n.$to,s=a.getBlockRange(r,i);if(!s)return!0;var c=o.findWrapping(s,e.schema.nodes.taskList);return!c||(t&&t(e.tr.wrap(s,c).scrollIntoView()),!0)},l=function(e){return function(t,n){var r=i.findCutBefore(e);if(!r)return!1;var s=r.doc.type.schema.nodes.paragraph;if(r.nodeBefore&&a.isActionOrDecisionList(r.nodeBefore)&&r.nodeAfter&&r.nodeAfter.type===s){for(var c=r.doc.resolve(r.pos-1);!a.isActionOrDecisionItem(c.parent);)c=t.doc.resolve(c.pos-1);var l=t.tr.doc.slice(c.pos,r.pos),u=t.tr.step(new o.ReplaceAroundStep(c.pos,r.pos+r.nodeAfter.nodeSize,r.pos+1,r.pos+r.nodeAfter.nodeSize-1,l,0,!0));return n&&n(u),!0}return!1}}})),r.register("hzX7x",(function(e,n){t(e.exports,"isInsideTaskOrDecisionItem",(function(){return s})),t(e.exports,"isActionOrDecisionList",(function(){return c})),t(e.exports,"isActionOrDecisionItem",(function(){return l})),t(e.exports,"isInsideTask",(function(){return u})),t(e.exports,"isTable",(function(){return d})),t(e.exports,"getBlockRange",(function(){return f})),t(e.exports,"getCurrentIndentLevel",(function(){return p})),t(e.exports,"walkOut",(function(){return h})),t(e.exports,"subtreeHeight",(function(){return g})),t(e.exports,"isEmptyTaskDecision",(function(){return m})),t(e.exports,"liftBlock",(function(){return v}));var o=r("6sW8E"),i=r("iFBc4");r("9J8af");var a=r("l9fpM"),s=function(e){var t=e.schema.nodes,n=t.decisionItem,r=t.taskItem;return i.hasParentNodeOfType([n,r])(e.selection)},c=function(e){var t=e.type.schema.nodes;return[t.taskList,t.decisionList].indexOf(e.type)>-1},l=function(e){var t=e.type.schema.nodes;return[t.taskItem,t.decisionItem].indexOf(e.type)>-1},u=function(e){var t=e.schema.nodes.taskItem;return i.hasParentNodeOfType([t])(e.selection)},d=function(e){if(!e)return!1;var t=e.type.schema.nodes;return[t.table,t.tableHeader,t.tableCell,t.tableRow].includes(e.type)},f=function(e,t){var n=e.doc.type.schema.nodes.taskList,r=t.end(),o=t.doc.resolve(r+1),i=o.nodeAfter;return i&&i.type===n&&o.depth===t.depth-1&&(r+=i.nodeSize),e.blockRange(t.doc.resolve(r))},p=function(e){var t=e.$from,n=t.doc.type.schema.nodes.taskList,r=a.findFarthestParentNode((function(e){return e.type===n}))(t);return r?t.depth-r.depth:null},h=function(e){for(var t=e;t.pos<t.doc.nodeSize-2&&t.parentOffset>0;)t=t.doc.resolve(t.pos+1);return t},g=function(e,t,n){var r=a.findFarthestParentNode((function(e){return n.indexOf(e.type)>-1}))(e);if(!r)return-1;var o=e.depth-r.depth,i=f(e,t);if(!i)return-1;var s=e.depth;return e.doc.nodesBetween(i.start,i.end,(function(t,r,o){if(s=Math.max(e.doc.resolve(r).depth,s),n.indexOf(t.type)>-1)return!0})),o+(s-e.depth)},m=function(e){var t=e.selection,n=e.schema,r=t.$from,o=r.node(r.depth);return o&&(o.type===n.nodes.taskItem||o.type===n.nodes.decisionItem)&&0===o.content.size},v=function(e,t,n){var r=f(t,n);if(!r)return null;var i=o.liftTarget(r);return"number"!=typeof i?null:e.lift(r,i).scrollIntoView()}})),r.register("3sz5I",(function(n,o){t(n.exports,"createPlugin",(function(){return y}));var i=r("bRWI2"),a=r("l15hj"),s=r("eBSbE"),c=r("ekJGA");r("9J8af");var l,u,d=r("l9fpM"),f=r("cD9Ho"),p=r("6O5Rw"),h=r("gA009"),g=r("8hNhU");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(u=l||(l={}))[u.SET_CONTEXT_PROVIDER=0]="SET_CONTEXT_PROVIDER";var b=function(e){return function(t,n){return n&&n(t.tr.setMeta(g.stateKey,{action:l.SET_CONTEXT_PROVIDER,data:e})),!0}};function y(t,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return new s.Plugin({props:{nodeViews:{taskItem:h.taskItemNodeViewFactory(t,n,r),decisionItem:p.decisionItemNodeView(t,n)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.tr;return o.selection instanceof s.NodeSelection&&o.selection.node.type===e.state.schema.nodes.decisionItem&&(o.selection.replace(a),a.insertText(r),i&&i(a),!0)},handleClickOn:f.createSelectionClickHandler(["decisionItem"],(function(e){return e.hasAttribute("data-decision-wrapper")||"Decision"===e.getAttribute("aria-label")}),{useLongPressSelection:a})},state:{init:function(){return{insideTaskDecisionItem:!1}},apply:function(e,t){var n=e.getMeta(g.stateKey)||{action:null,data:null},r=n.action,i=n.data,a=t;if(r===l.SET_CONTEXT_PROVIDER)a=v(v({},t),{},{contextIdentifierProvider:i});return o(g.stateKey,a),a}},view:function(e){return r.subscribe("contextIdentifierProvider",(function(t,n){"contextIdentifierProvider"===t&&(n?n.then((function(t){b(t)(e.state,e.dispatch)})):b(void 0)(e.state,e.dispatch))})),{}},key:g.stateKey,appendTransaction:function(t,n,r){var o=r.tr,a=!1;if(t.forEach((function(t){t.docChanged&&d.nodesBetweenChanged(t,(function(t,n){var s=r.schema.nodes,l=s.decisionList,u=s.decisionItem,d=s.taskList,f=s.taskItem;if(t.type&&(t.type===l||t.type===u||t.type===d||t.type===f)){var p=t.attrs,h=p.localId,g=e(i)(p,["localId"]);null!=h&&""!==h||(o.setNodeMarkup(n,void 0,v({localId:c.uuid.generate()},g)),a=!0)}}))})),a)return o.setMeta("addToHistory",!1)}})}})),r.register("6O5Rw",(function(n,o){t(n.exports,"decisionItemNodeView",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("auQQv"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("61szk"),f=r("22Hec"),p=r("77RB6");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"isContentEmpty",value:function(e){return 0===e.content.childCount}},{key:"createDomRef",value:function(){var e=document.createElement("li");return e.style["list-style-type"]="none",e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="decision-item",{dom:e}}},{key:"render",value:function(t,n){return e(d).createElement(p.default,{contentRef:n,showPlaceholder:this.isContentEmpty(this.node)})}},{key:"viewShouldUpdate",value:function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}},{key:"update",value:function(t,n){var o=this;return e(s)(e(u)(r.prototype),"update",this).call(this,t,n,(function(e,t){return!o.isContentEmpty(t)}))}}]),r}(f.default),m=function(e,t){return function(n,r,o){return new g(n,r,o,e,t,{}).init()}}})),r.register("77RB6",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("l15hj"),d=r("61szk"),f=r("7RIig");r("hBSHB");var p=r("d7Msl");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var g=f.defineMessages({placeholder:{id:"fabric.editor.decisionPlaceholder",defaultMessage:"Add a decision\u2026",description:"Placeholder description for an empty decision in the editor"}}),m=function(t){e(s)(r,t);var n=h(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.contentRef,r=t.showPlaceholder,o=(0,t.intl.formatMessage)(g.placeholder);return e(d).createElement(p.default,{contentRef:n,placeholder:o,showPlaceholder:r})}}]),r}(e(d).Component);e(u)(m,"displayName","Decision");var v=f.injectIntl(m)})),r.register("gA009",(function(n,o){t(n.exports,"taskItemNodeViewFactory",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("auQQv"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk");r("lqsXI");var h=r("kZTqa"),g=r("22Hec"),m=r("4s4wW"),v=r("8hNhU"),b=r("4IPyj");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var k=function(t){e(l)(r,t);var n=x(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(f)(e(s)(t),"handleOnChange",(function(e,n){var r=t.view.state.tr,o=t.getPos();r.setNodeMarkup(o,void 0,{state:n?"DONE":"TODO",localId:e}),t.view.dispatch(r)})),e(f)(e(s)(t),"addListAnalyticsData",(function(e){try{var n=t.view.state.doc.resolve(t.getPos()),r=n.index(),o=n.parent.childCount,i=n.parent.attrs.localId;e.update((function(e){var t=e.attributes,n=void 0===t?{}:t;return"action"!==e.actionSubject?e:E(E({},e),{},{attributes:E(E({},n),{},{position:r,listSize:o,listLocalId:i})})}))}catch(e){}})),t}return e(a)(r,[{key:"isContentEmpty",value:function(e){return 0===e.content.childCount}},{key:"createDomRef",value:function(){var e=document.createElement("div");return e.style["list-style-type"]="none",e}},{key:"getContentDOM",value:function(){var e=document.createElement("div");return e.className="task-item",{dom:e}}},{key:"render",value:function(t,n){var r=this,o=this.node.attrs,i=o.localId,a=o.state;return e(p).createElement(h.default,{channel:"fabric-elements",onEvent:this.addListAnalyticsData},e(p).createElement(m.default,{plugins:{taskDecisionPlugin:v.stateKey},render:function(){return e(p).createElement(b.default,{taskId:i,contentRef:n,isDone:"DONE"===a,onChange:r.handleOnChange,showPlaceholder:r.isContentEmpty(r.node),providers:t.providerFactory})}}))}},{key:"viewShouldUpdate",value:function(e){return this.isContentEmpty(this.node)&&!!e.content.childCount}},{key:"update",value:function(t,n){var o=this;return e(c)(e(d)(r.prototype),"update",this).call(this,t,n,(function(e,t){return!(o.isContentEmpty(t)||e.attrs.state!==t.attrs.state)}))}}]),r}(g.default);function C(e,t,n){return function(r,o,i){return new k(r,o,i,e,t,{providerFactory:n}).init()}}})),r.register("4IPyj",(function(n,o){t(n.exports,"default",(function(){return k}));var i=r("jgze0"),a=r("bRWI2"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("7RIig");r("igW5C");var m=r("g4Rxo"),v=r("MsgJD"),b=r("eBSDi");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var E=g.defineMessages({placeholder:{id:"fabric.editor.taskPlaceholder",defaultMessage:"Type your action, use '@' to assign to someone.",description:"Placeholder description for an empty action/task in the editor"}}),x=function(t){e(u)(r,t);var n=y(r);function r(t){var o;return e(s)(this,r),o=n.call(this,t),e(p)(e(l)(o),"renderWithProvider",(function(t){var n=o.props,r=(n.providers,n.intl.formatMessage),s=e(a)(n,["providers","intl"]),c=t.taskDecisionProvider,l=t.contextIdentifierProvider,u=r(E.placeholder);return e(h).createElement(b.default,e(i)({},s,{placeholder:u,taskDecisionProvider:c,contextIdentifierProvider:l}))})),o.providerFactory=t.providers||new m.default,o}return e(c)(r,[{key:"componentWillUnmount",value:function(){this.props.providers||this.providerFactory.destroy()}},{key:"render",value:function(){return e(h).createElement(v.WithProviders,{providers:["taskDecisionProvider","contextIdentifierProvider"],providerFactory:this.providerFactory,renderNode:this.renderWithProvider})}}]),r}(h.PureComponent);e(p)(x,"displayName","TaskItem");var k=g.injectIntl(x)})),r.register("eBSDi",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("jgze0"),a=r("bRWI2"),s=r("9ePZF"),c=r("cNgp7"),l=r("go2dD"),u=r("4NDMl"),d=r("47NZN"),f=r("9OLyr"),p=r("89Kz4"),h=r("eP3fJ"),g=r("l15hj"),m=r("61szk"),v=r("gpCn2");r("hBSHB");var b=r("fuq3W");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(h)(t);if(n){var i=e(h)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(p)(this,r)}}var E=function(t){e(f)(o,t);var n,r=y(o);function o(){var t;e(l)(this,o);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return t=r.call.apply(r,[this].concat(i)),e(g)(e(d)(t),"state",{resolvedContextProvider:void 0}),e(g)(e(d)(t),"mounted",!1),t}return e(u)(o,[{key:"UNSAFE_componentWillMount",value:function(){this.mounted=!0,this.updateContextIdentifierProvider(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.contextIdentifierProvider!==this.props.contextIdentifierProvider&&this.updateContextIdentifierProvider(e)}},{key:"updateContextIdentifierProvider",value:(n=e(c)(e(s).mark((function t(n){var r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.contextIdentifierProvider){e.next=13;break}return e.prev=1,e.next=4,n.contextIdentifierProvider;case 4:r=e.sent,this.mounted&&this.setState({resolvedContextProvider:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.mounted&&this.setState({resolvedContextProvider:void 0});case 11:e.next=14;break;case 13:this.setState({resolvedContextProvider:void 0});case 14:case"end":return e.stop()}}),t,this,[[1,8]])}))),function(e){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this.props,n=(t.contextIdentifierProvider,e(a)(t,["contextIdentifierProvider"])),r=(this.state.resolvedContextProvider||{}).objectId,o=r?"edit":"new";return e(m).createElement(v.FabricElementsAnalyticsContext,{data:{userContext:o}},e(m).createElement(b.default,e(i)({},n,{objectAri:r})))}}]),o}(m.Component);e(g)(E,"displayName","TaskItemWithProviders")})),r.register("lqPY1",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig"),h=r("d3BCx"),g=r("gCo6x"),m=r("6UBHG"),v=r("gAnDB");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{disabled:!1}),e(d)(e(s)(t),"handleInsertDecision",(function(){var e=t.props.editorView;return!!e&&(v.insertTaskDecision(e,"decisionList")(e.state,e.dispatch),!0)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.state.disabled,n=this.props,r=n.isDisabled,o=n.isReducedSpacing,i=(0,n.intl.formatMessage)(m.messages.decision);return e(f).createElement(g.default,{buttonId:g.TOOLBAR_BUTTON.DECISION_LIST,onClick:this.handleInsertDecision,disabled:t||r,spacing:o?"none":"default",title:"".concat(i," <>"),iconBefore:e(f).createElement(e(h),{label:i})})}}]),r}(f.PureComponent),E=p.injectIntl(y)})),r.register("jfFQ0",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig"),h=r("6BQMW"),g=r("gCo6x"),m=r("6UBHG"),v=r("gAnDB");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{disabled:!1}),e(d)(e(s)(t),"handleInsertTask",(function(){var e=t.props.editorView;return!!e&&(v.insertTaskDecision(e,"taskList")(e.state,e.dispatch),!0)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.state.disabled,n=this.props,r=n.isDisabled,o=n.isReducedSpacing,i=(0,n.intl.formatMessage)(m.messages.action);return e(f).createElement(g.default,{buttonId:g.TOOLBAR_BUTTON.TASK_LIST,onClick:this.handleInsertTask,disabled:t||r,spacing:o?"none":"default",title:"".concat(i," []"),iconBefore:e(f).createElement(e(h),{label:i})})}}]),r}(f.PureComponent),E=p.injectIntl(y)})),r.register("j6ytT",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("61szk"),a=r("ekJGA"),s=r("4s4wW"),c=r("1IyZj"),l=r("biUdA"),u=function(e){if(e&&"boolean"!=typeof e)return e},d=function(t){return{name:"textColor",marks:function(){return[{name:"textColor",mark:a.textColor}]},pmPlugins:function(){return[{name:"textColor",plugin:function(e){var n=e.dispatch;return c.createPlugin(n,u(t))}}]},primaryToolbarComponent:function(n){var r=n.editorView,o=n.popupsMountPoint,a=n.popupsBoundariesElement,d=n.popupsScrollableElement,f=n.isToolbarReducedSpacing,p=n.dispatchAnalyticsEvent,h=n.disabled,g=u(t),m=null==g?void 0:g.allowMoreTextColors;return e(i).createElement(s.default,{plugins:{textColor:c.pluginKey},render:function(t){var n=t.textColor;return e(i).createElement(l.default,{pluginState:n,isReducedSpacing:f,editorView:r,popupsMountPoint:o,popupsBoundariesElement:a,popupsScrollableElement:d,showMoreColorsToggle:m,dispatchAnalyticsEvent:p,disabled:h})}})}}}})),r.register("1IyZj",(function(n,o){t(n.exports,"ACTIONS",(function(){return i})),t(n.exports,"pluginKey",(function(){return m})),t(n.exports,"createPlugin",(function(){return v}));var i,a,s=r("l15hj"),c=r("fw3Q6"),l=r("eBSbE"),u=r("ezXV9"),d=r("1LCMb"),f=r("aZFVr"),p=r("dZGmw");f=r("aZFVr");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}(a=i||(i={}))[a.RESET_COLOR=0]="RESET_COLOR",a[a.SET_COLOR=1]="SET_COLOR",a[a.DISABLE=2]="DISABLE";var m=new l.PluginKey("textColorPlugin");function v(t,n){return new l.Plugin({key:m,state:{init:function(t,r){return function(t,n){var r=(null==n?void 0:n.defaultColor)||f.DEFAULT_COLOR,o=(null==n?void 0:n.allowMoreTextColors)||!1,i=[{value:r.color,label:r.label,border:d.DEFAULT_BORDER_COLOR}].concat(e(c)(o?u.textColorPaletteExtended:u.textColorPalette)),a={color:f.getActiveColor(t),disabled:p.getDisabledState(t),palette:i,defaultColor:r.color};if(o){var s=i.slice(0,7),l=i.slice(7,14),h=i.slice(14),m=l.concat(s).concat(h),v=m[0];return m[0]=m[7],m[7]=v,g(g({},a),{},{palette:s,paletteExpanded:m})}return a}(r,n)},apply:function(e,n,r,o){var a,s=e.getMeta(m)||{};switch(s.action){case i.RESET_COLOR:a=g(g({},n),{},{color:n.defaultColor});break;case i.SET_COLOR:a=g(g({},n),{},{color:s.color,disabled:!1});break;case i.DISABLE:a=g(g({},n),{},{disabled:!0});break;default:a=g(g({},n),{},{color:f.getActiveColor(o),disabled:p.getDisabledState(o)})}return n&&n.color!==a.color||n&&n.disabled!==a.disabled?(t(m,a),a):n}}})}})),r.register("ezXV9",(function(e,n){t(e.exports,"textColorPalette",(function(){return l})),t(e.exports,"textColorPaletteExtended",(function(){return u}));var o=r("ekJGA"),i=r("7WWGO"),a=r("ii3cb"),s=r("1LCMb"),c=function(e,t){var n=e.toLowerCase().replace(" ","-"),r=i.default(a.default,n);return{value:t,label:e,border:s.DEFAULT_BORDER_COLOR,message:r}},l=[],u=[];o.colorPalette.forEach((function(e,t){l.push(c(e,t))})),o.colorPaletteExtended.forEach((function(e,t){u.push(c(e,t))}))})),r.register("aZFVr",(function(e,n){t(e.exports,"DEFAULT_COLOR",(function(){return o})),t(e.exports,"getActiveColor",(function(){return i}));var o={color:r("cufhv").N800.toLowerCase(),label:"Dark gray"},i=function(e){var t,n=e.selection,r=n.$from,i=n.$to,a=n.$cursor,s=e.schema.marks.textColor,c=[];a?c.push(s.isInSet(e.storedMarks||a.marks())||void 0):e.doc.nodesBetween(r.pos,i.pos,(function(e){if(e.isLeaf){var t=s.isInSet(e.marks)||void 0;return c.push(t),!t}return!0}));var l=(c=c.filter((function(e){return(!e||!t||e.attrs.color!==t.attrs.color)&&(t=e,!0)}))).filter((function(e){return!!e}));return l.length>1||1===l.length&&c.length>1?null:l.length?l[0].attrs.color:o.color}})),r.register("dZGmw",(function(e,n){t(e.exports,"getDisabledState",(function(){return i}));var o=r("4MrvE"),i=function(e){var t=e.schema.marks.textColor;if(t){var n=e.selection,r=n.empty,i=n.ranges,a=n.$cursor;return!((!r||a)&&!1!==o.isMarkAllowedInRange(e.doc,i,t))||!!o.isMarkExcluded(t,e.storedMarks||a&&a.marks())}return!0}})),r.register("biUdA",(function(n,o){t(n.exports,"default",(function(){return D}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig");r("31Xz9");var h=r("kInf8");r("8iml0");var g=r("82cWi"),m=r("6Vf6Q"),v=r("5yPTi"),b=r("bcdGA"),y=r("ezXV9"),E=r("4mXUu"),x=r("xZbZL"),k=r("gCo6x");r("cTu5S");var C=r("9V1f8"),S=r("dbJ9W"),T=r("hKfJR"),O=r("6iaVR");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){e(d)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function P(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var A=p.defineMessages({textColor:{id:"fabric.editor.textColor",defaultMessage:"Text color",description:""},moreColors:{id:"fabric.editor.textColor.moreColors",defaultMessage:"More colors",description:"More colors"},lessColors:{id:"fabric.editor.textColor.lessColors",defaultMessage:"Fewer colors",description:"Fewer colors"}}),I=function(t){e(c)(r,t);var n=P(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{isOpen:!1,isShowingMoreColors:!1}),e(d)(e(s)(t),"changeColor",(function(e){return S.changeColor(e)(t.props.editorView.state,t.props.editorView.dispatch)})),e(d)(e(s)(t),"changeTextColor",(function(e,n){if(!n){var r=t.props.pluginState,o=r.palette,i=r.paletteExpanded,a=r.defaultColor,s=t.state.isShowingMoreColors,c=(i||o).find((function(t){return t.value===e})),l=e!==a&&!y.textColorPalette.some((function(t){return t.value===e}));return t.dispatchAnalyticsEvent(t.buildAnalyticsSelectColor({color:(c?c.label:e).toLowerCase(),isShowingMoreColors:s,isNewColor:l})),t.handleOpenChange({isOpen:!1,logCloseEvent:!1}),t.changeColor(e)}return!1})),e(d)(e(s)(t),"toggleOpen",(function(){t.handleOpenChange({isOpen:!t.state.isOpen,logCloseEvent:!0})})),e(d)(e(s)(t),"handleOpenChange",(function(e){var n=e.isOpen,r=e.logCloseEvent,o=t.props.pluginState,i=o.palette,a=o.color,s=t.state.isShowingMoreColors,c=!i.find((function(e){return e.value===a}));t.setState({isOpen:n,isShowingMoreColors:c||s}),r&&t.dispatchAnalyticsEvent(t.buildAnalyticsPalette(n?C.ACTION.OPENED:C.ACTION.CLOSED,{isShowingMoreColors:c||s,noSelect:!1===n}))})),e(d)(e(s)(t),"hide",(function(e){var n=t.state,r=n.isOpen,o=n.isShowingMoreColors;e.defaultPrevented||!0===r&&(t.dispatchAnalyticsEvent(t.buildAnalyticsPalette(C.ACTION.CLOSED,{isShowingMoreColors:o,noSelect:!0})),t.setState({isOpen:!1}))})),e(d)(e(s)(t),"handleShowMoreToggle",(function(e){e.preventDefault(),e.stopPropagation(),e.nativeEvent.stopImmediatePropagation(),t.setState((function(e){return t.dispatchAnalyticsEvent(t.buildAnalyticsShowMore(e.isShowingMoreColors?C.ACTION.CLOSED:C.ACTION.OPENED,{showMoreButton:!e.isShowingMoreColors,showLessButton:e.isShowingMoreColors})),{isShowingMoreColors:!e.isShowingMoreColors}}))})),t}return e(a)(r,[{key:"render",value:function(){var t,n=this,r=this.state,o=r.isOpen,i=r.isShowingMoreColors,a=this.props,s=a.popupsMountPoint,c=a.popupsBoundariesElement,l=a.popupsScrollableElement,u=a.isReducedSpacing,d=a.pluginState,p=a.pluginState.paletteExpanded,y=a.intl.formatMessage,C=a.showMoreColorsToggle,S=a.disabled,w=y(A.textColor),N=i&&p?p:d.palette;return document.body.clientWidth<=740&&(t=242),e(f).createElement(x.MenuWrapper,null,e(f).createElement(E.default,{mountTo:s,boundariesElement:c,scrollableElement:l,isOpen:o&&!d.disabled,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,zIndex:g.akEditorMenuZIndex,fitWidth:t,trigger:e(f).createElement(k.default,{buttonId:k.TOOLBAR_BUTTON.TEXT_COLOR,spacing:u?"none":"default",disabled:S||d.disabled,selected:o,"aria-label":w,title:w,onClick:this.toggleOpen,iconBefore:e(f).createElement(x.TriggerWrapper,null,e(f).createElement(O.TextColorIconWrapper,null,e(f).createElement(T.EditorTextColorIcon,null),e(f).createElement(O.TextColorIconBar,{selectedColor:d.color!==d.defaultColor&&d.color,gradientColors:d.disabled?O.disabledRainbow:O.rainbow})),e(f).createElement(x.ExpandIconWrapper,null,e(f).createElement(e(m),{label:""})))})},e(f).createElement(b.default,{palette:N,onClick:function(e){return n.changeTextColor(e,d.disabled)},selectedColor:d.color}),C&&e(f).createElement(O.ShowMoreWrapper,null,e(f).createElement(h.default,{appearance:"subtle",onClick:this.handleShowMoreToggle,iconBefore:e(f).createElement(e(v),{label:""})},y(i?A.lessColors:A.moreColors)))),e(f).createElement(x.Separator,null))}},{key:"getCommonAnalyticsAttributes",value:function(){return{experiment:"editor.toolbarTextColor.moreColors",experimentGroup:this.props.showMoreColorsToggle?"subject":"control"}}},{key:"buildAnalyticsPalette",value:function(e,t){return{action:e,actionSubject:C.ACTION_SUBJECT.TOOLBAR,actionSubjectId:C.ACTION_SUBJECT_ID.FORMAT_COLOR,eventType:C.EVENT_TYPE.TRACK,attributes:N(N({},this.getCommonAnalyticsAttributes()),t)}}},{key:"buildAnalyticsShowMore",value:function(e,t){return{action:e,actionSubject:C.ACTION_SUBJECT.TOOLBAR,actionSubjectId:C.ACTION_SUBJECT_ID.FORMAT_COLOR,eventType:C.EVENT_TYPE.TRACK,attributes:N(N({},this.getCommonAnalyticsAttributes()),t)}}},{key:"buildAnalyticsSelectColor",value:function(e){return{action:C.ACTION.FORMATTED,actionSubject:C.ACTION_SUBJECT.TEXT,actionSubjectId:C.ACTION_SUBJECT_ID.FORMAT_COLOR,eventType:C.EVENT_TYPE.TRACK,attributes:N(N({},this.getCommonAnalyticsAttributes()),e)}}},{key:"dispatchAnalyticsEvent",value:function(e){var t=this.props.dispatchAnalyticsEvent;t&&t(e)}}]),r}(e(f).Component),D=p.injectIntl(I)})),r.register("5yPTi",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7.818 12.56l4.243 4.243 4.242-4.242-4.242-4.243-4.243 4.243zm-1.414 1.415a1.995 1.995 0 010-2.828l4.243-4.243a1.995 1.995 0 012.828 0l4.243 4.243c.78.78.786 2.041 0 2.828l-4.243 4.243a1.996 1.996 0 01-2.828 0l-4.243-4.243zM6.5 13h11l-5.44 5.218L6.5 13zm2.732-8.925a1 1 0 011.414 0l3.536 3.536-1.414 1.414L9.232 5.49a1 1 0 010-1.415zM18 16s1.5 2 1.5 3.5c0 1-1 1.5-1.5 1.5s-1.5-.4-1.5-1.5C16.5 18 18 16 18 16z" fill="currentColor"/></svg>'},e));a.displayName="EditorBackgroundColorIcon";var s=a;e.exports.default=s})),r.register("4mXUu",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("geQq6"));r("igW5C");var h=r("5Dx14"),g=r("lmfsj");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"handleRef",(function(e){o.setState({target:e||void 0})})),e(d)(e(s)(o),"updatePopupPlacement",(function(e){o.setState({popupPlacement:e})})),o.state={popupPlacement:["bottom","left"]},o}return e(a)(r,[{key:"renderDropdown",value:function(){var t=this.state,n=t.target,r=t.popupPlacement,o=this.props,i=o.children,a=o.mountTo,s=o.boundariesElement,c=o.scrollableElement,l=o.onOpenChange,u=o.fitHeight,d=o.fitWidth,g=o.zIndex;return e(f).createElement(h.default,{target:n,mountTo:a,boundariesElement:s,scrollableElement:c,onPlacementChanged:this.updatePopupPlacement,fitHeight:u,fitWidth:d,zIndex:g},e(f).createElement("div",{style:{height:0,minWidth:d||0}},e(f).createElement(p.default,{disabled:!0,isOpen:!0,onOpenChange:l,appearance:"tall",position:r.join(" "),shouldFlip:!1,shouldFitContainer:!0},i)))}},{key:"render",value:function(){var t=this.props,n=t.trigger,r=t.isOpen;return e(f).createElement(e(f).Fragment,null,e(f).createElement("div",{ref:this.handleRef},n),r?this.renderDropdown():null)}}]),r}(f.PureComponent),b=g.default(v)})),r.register("dbJ9W",(function(e,n){t(e.exports,"changeColor",(function(){return u})),r("cTu5S");var o=r("hNVBR"),i=r("9V1f8"),a=r("1IyZj"),s=r("aZFVr"),c=r("hK3dC"),l=r("8A6N3");var u=function(e){return function(t,n){var r,u,d,f,p,h,g;if(t.schema.marks.textColor){var m=a.pluginKey.getState(t),v=s.getActiveColor(t),b=(r=e,u=v,d=m.paletteExpanded||m.palette,f=d.find((function(e){return e.value===r})),p=d.find((function(e){return e.value===u})),h=f?f.label:r,g=p?p.label:u||"",o.withAnalytics({action:i.ACTION.FORMATTED,actionSubject:i.ACTION_SUBJECT.TEXT,actionSubjectId:i.ACTION_SUBJECT_ID.FORMAT_COLOR,eventType:i.EVENT_TYPE.TRACK,attributes:{newColor:h.toLowerCase(),previousColor:g.toLowerCase()}}));return!m.disabled&&(e===m.defaultColor?(b(c.removeColor())(t,n),!0):(b(l.toggleColor(e))(t,n),!0))}return!1}}})),r.register("hK3dC",(function(e,n){t(e.exports,"removeColor",(function(){return s}));var o=r("eBSbE"),i=r("bKnyF"),a=r("1IyZj"),s=function(){return function(e,t){var n=e.schema,r=e.selection,s=n.marks.textColor,c=e.tr;if(r instanceof o.TextSelection){var l=r.from,u=r.to,d=r.$cursor;c=d?e.tr.removeStoredMark(s):e.tr.removeMark(l,u,s)}return r instanceof i.CellSelection&&r.forEachCell((function(e,t){var n=t,r=t+e.nodeSize;c.doc.nodesBetween(c.mapping.map(n),c.mapping.map(r),(function(e,t){if(!e.isText)return!0;var o=Math.max(t,c.mapping.map(n)),i=Math.min(t+e.nodeSize,c.mapping.map(r));return c.removeMark(o,i,s),!0}))})),t&&t(c.setMeta(a.pluginKey,{action:a.ACTIONS.RESET_COLOR})),!0}}})),r.register("8A6N3",(function(e,n){t(e.exports,"toggleColor",(function(){return s}));var o=r("jd53t"),i=r("1IyZj"),a=r("dZGmw"),s=function(e){return function(t,n){var r=t.schema.marks.textColor,s=t.tr;return a.getDisabledState(t)?(n&&n(s.setMeta(i.pluginKey,{action:i.ACTIONS.DISABLE})),!1):(n&&(t.tr.setMeta(i.pluginKey,{action:i.ACTIONS.SET_COLOR,color:e}),t.tr.scrollIntoView(),o.toggleMark(r,{color:e})(t,n)),!0)}}})),r.register("hKfJR",(function(n,o){t(n.exports,"EditorTextColorIcon",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("050F7"),c=function(t){return e(a).createElement("svg",e(i)({},t,{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"}),e(a).createElement("path",{d:"M14 12.5h-4l-.874 2.186A.5.5 0 0 1 8.66 15H7.273a.5.5 0 0 1-.456-.705l4.05-9A.5.5 0 0 1 11.323 5h1.354a.5.5 0 0 1 .456.295l4.05 9a.5.5 0 0 1-.456.705h-1.388a.5.5 0 0 1-.465-.314L14 12.5zm-.6-1.5L12 7.5 10.6 11h2.8z",fill:"currentColor",fillRule:"evenodd"}))},l=function(){return e(a).createElement(s.default,{glyph:c,label:"Text color icon"})}})),r.register("6iaVR",(function(n,o){t(n.exports,"ShowMoreWrapper",(function(){return f})),t(n.exports,"TextColorIconWrapper",(function(){return p})),t(n.exports,"TextColorIconBar",(function(){return h})),t(n.exports,"rainbow",(function(){return m})),t(n.exports,"disabledRainbow",(function(){return v}));var i,a,s,c=r("lhkMJ"),l=r("SssiD"),u=r("kFKbx"),d=r("cufhv"),f=l.default.div(i||(i=e(c)(["\n  display: flex;\n  margin-top: ","px;\n  padding: ","px;\n  padding-bottom: 0;\n  border-top: 1px solid #dfe1e6;\n\n  > button {\n    flex-grow: 1;\n  }\n"])),u.gridSize()/2,u.gridSize()/2),p=l.default.div(a||(a=e(c)(["\n  position: relative;\n"]))),h=l.default.div(s||(s=e(c)(["\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 16px;\n  margin: auto;\n  width: 12px;\n  height: 3px;\n  border-radius: ",";\n\n  ",";\n"])),u.borderRadius()+"px",(function(e){var t=e.gradientColors,n=e.selectedColor;return"background: ".concat(n||t)})),g=function(e){return"\n    linear-gradient(\n      to right,\n      ".concat(e.map((function(t,n){var r=100/e.length,o=n+1;return 0===n?"".concat(t," ").concat(o*r,"%,"):n===e.length-1?"".concat(t," ").concat((o-1)*r,"%"):"\n            ".concat(t," ").concat((o-1)*r,"%,\n            ").concat(t," ").concat(o*r,"%,\n          ")})).join("\n"),"\n    );\n    ")},m=g([d.P300,d.T300,d.Y400,d.R400]),v=g([d.N80,d.N60,d.N40,d.N60])})),r.register("5cOWK",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("eBSbE"),i=r("ekJGA"),a=r("gJEZb"),s=r("lthRx"),c=(new o.PluginKey("cardPlugin"),function(e){return{name:"card",nodes:function(){var t=[{name:"inlineCard",node:i.inlineCard},{name:"blockCard",node:i.blockCard}];return e.allowEmbeds&&t.push({name:"embedCard",node:i.embedCard}),t},pmPlugins:function(){var t,n,r=null===(t=e.allowResizing)||void 0===t||t,o=null===(n=e.useAlternativePreloader)||void 0===n||n;return[{name:"card",plugin:a.createPlugin(e.platform,r,o,e.fullWidthMode)}]},pluginsOptions:{floatingToolbar:s.floatingToolbar(e,e.platform)}}})})),r.register("lthRx",(function(n,o){t(n.exports,"floatingToolbar",(function(){return R}));var i=r("l15hj"),a=r("fw3Q6"),s=r("61szk"),c=r("eBSbE"),l=r("iFBc4"),u=r("iOuu2"),d=r("a3dkO"),f=r("4Dv4D");r("cTu5S");var p=r("9V1f8"),h=r("hNVBR"),g=r("ch3px"),m=r("kjcUu"),v=(g=r("ch3px"),m=r("kjcUu"),r("hIycq")),b=r("cSjqO");r("gJEZb");var y=r("hHyX9");r("igW5C");var E=r("kIH45"),x=r("bhX6o"),k=r("9QOEL"),C=r("ekJGA"),S=r("d1fTn"),T=r("aeWwA"),O=r("7YbhR");function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var P=function(e,t){if(!(e.selection instanceof c.NodeSelection))return!1;var n=e.selection.node.type.name,r={action:p.ACTION.DELETED,actionSubject:p.ACTION_SUBJECT.SMART_LINK,actionSubjectId:n,attributes:{inputMethod:p.INPUT_METHOD.TOOLBAR,displayMode:n},eventType:p.EVENT_TYPE.TRACK};return t&&t(h.addAnalytics(e,l.removeSelectedNode(e.tr),r)),!0},A=function(e,t){if(!(e.selection instanceof c.NodeSelection))return!1;var n=e.selection.node.type,r=k.titleUrlPairFromNode(e.selection.node).url,o={action:p.ACTION.VISITED,actionSubject:p.ACTION_SUBJECT.SMART_LINK,actionSubjectId:n.name,attributes:{inputMethod:p.INPUT_METHOD.TOOLBAR},eventType:p.EVENT_TYPE.TRACK};return window.open(r),t&&t(h.addAnalytics(e,e.tr,o)),!0},I=function(e,t){var n=k.displayInfoForCard(e,k.findCardInfo(t)),r=n.title||n.url;return r?b.changeSelectedCardToText(r):function(){return!1}},D=function(t,n,r,o,i){return function(c){var l=k.titleUrlPairFromNode(c).url,p={};if(l&&!C.isSafeUrl(l))return[];var h=k.displayInfoForCard(c,k.findCardInfo(t)).title;p={url:l,title:h};var b=y.pluginKey.getState(t),E=k.appearanceForNodeType(c.type);if(b.showLinkingToolbar&&"mobile"!==i)return[x.buildEditLinkToolbar({providerFactory:r,node:c})];var T=[{id:"editor.link.edit",type:"button",selected:!1,metadata:p,title:n.formatMessage(g.linkToolbarMessages.editLink),showTitle:!0,testId:"link-toolbar-edit-link-button",onClick:x.editLink},{type:"separator"},{id:"editor.link.openLink",type:"button",icon:e(f),metadata:p,className:"hyperlink-open-link",title:n.formatMessage(m.linkMessages.openLink),onClick:A},{type:"separator"}].concat(e(a)(function(t,n,r){var o=n.schema.nodes.inlineCard,i={id:"editor.link.delete",type:"button",appearance:"danger",icon:e(u),onMouseEnter:v.hoverDecoration(t.type,!0),onMouseLeave:v.hoverDecoration(t.type,!1),title:r.formatMessage(g.default.remove),onClick:P};if(t.type===o){var a=[{id:"editor.link.unlink",type:"button",title:r.formatMessage(g.linkToolbarMessages.unlink),icon:e(d),onClick:I(t,n)},{type:"separator"}];return[].concat(a,[i])}return[i]}(c,t,n)));if("embed"===E){var w=function(e,t){return O.default(e,t,e.schema.nodes.embedCard,!0,!0)}(t,n);w.length&&w.push({type:"separator"}),T.unshift.apply(T,e(a)(w))}var N=o.allowBlockCards,D=o.allowEmbeds;return(N||D)&&E&&T.unshift({type:"custom",fallback:[],render:function(r){return e(s).createElement(S.LinkToolbarAppearance,{key:"link-appearance",url:l,intl:n,currentAppearance:E,editorView:r,editorState:t,allowEmbeds:D,platform:i})}},{type:"separator"}),T}},R=function(e,t){return function(n,r,o){var i=n.schema.nodes,a=[i.inlineCard,i.blockCard,i.embedCard],s=y.pluginKey.getState(n);if(n.selection instanceof c.NodeSelection){var u=n.selection.node;if(u){var d="embed"===k.appearanceForNodeType(u.type),f=d?{offset:[0,24]}:{};return N(N({title:r.formatMessage(T.messages.card),nodeType:a},f),{},{getDomRef:function(e){var t=l.findDomRefAtPos(e.state.selection.from,e.domAtPos.bind(e));if(t)return d?t.querySelector(".".concat(E.richMediaClassName)):t},items:D(n,r,o,e,t)},s.showLinkingToolbar?x.editLinkToolbarConfig:{})}}}}})),r.register("bhX6o",(function(n,o){t(n.exports,"editLink",(function(){return b})),t(n.exports,"buildEditLinkToolbar",(function(){return y})),t(n.exports,"editLinkToolbarConfig",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("hQISx"),f=r("buFsC"),p=r("7e0tR"),h=r("cSjqO"),g=r("9QOEL");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var v=function(t){e(s)(r,t);var n=m(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"componentDidUpdate",value:function(e){e.node!==this.props.node&&this.hideLinkToolbar()}},{key:"componentWillUnmount",value:function(){this.hideLinkToolbar()}},{key:"hideLinkToolbar",value:function(){var e=this.props.view;e.dispatch(f.hideLinkToolbar(e.state.tr))}},{key:"render",value:function(){var t=this,n=this.props,r=n.providerFactory,o=n.url,i=n.text,a=n.view,s=n.onSubmit;return e(u).createElement(d.default,{view:a,providerFactory:r,displayUrl:o,displayText:i,onSubmit:function(e,n,r){t.hideLinkToolbar(),s&&s(e,r||n)}})}}]),r}(e(u).Component),b=function(e,t){return!!t&&(t(f.showLinkToolbar(e.tr)),!0)},y=function(t){var n=t.providerFactory,r=t.node;return{type:"custom",fallback:[],render:function(t,o){if(!t||!n)return null;var i=g.displayInfoForCard(r,g.findCardInfo(t.state));return e(u).createElement(v,{key:o,view:t,providerFactory:n,url:i.url,text:i.title||"",node:r,onSubmit:function(e,n){var r=e!==i.url;return n!==i.title?h.changeSelectedCardToLink(n,e)(t.state,t.dispatch):r?h.updateCard(e)(t.state,t.dispatch):void 0}})}}},E={height:p.RECENT_SEARCH_HEIGHT_IN_PX,width:p.RECENT_SEARCH_WIDTH_IN_PX,forcePlacement:!0}})),r.register("hQISx",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");r("igW5C");var d=r("MsgJD"),f=r("eJQCK"),p=r("l68vJ"),h=r("4s4wW");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var m=function(t){e(s)(r,t);var n=g(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.onSubmit,r=t.displayText,o=t.displayUrl,i=t.providerFactory,a=t.view;return e(u).createElement(d.WithProviders,{providers:["activityProvider","searchProvider"],providerFactory:i,renderNode:function(t){var i=t.activityProvider,s=t.searchProvider;return e(u).createElement(h.default,{editorView:a,plugins:{hyperlinkPluginState:p.stateKey},render:function(t){var c=t.hyperlinkPluginState;return e(u).createElement(f.default,{activityProvider:i,searchProvider:s,onSubmit:n,displayText:r,displayUrl:o,pluginState:c,view:a})}})}})}}]),r}(e(u).PureComponent)})),r.register("eJQCK",(function(n,o){t(n.exports,"default",(function(){return ne}));var i=r("h67q9"),a=r("9ePZF"),s=r("fw3Q6"),c=r("cNgp7"),l=r("go2dD"),u=r("4NDMl"),d=r("47NZN"),f=r("9OLyr"),p=r("89Kz4"),h=r("eP3fJ"),g=r("l15hj"),m=r("lhkMJ"),v=r("61szk"),b=r("ekJGA"),y=r("954WD"),E=r("382lv"),x=r("kDqoK"),k=r("cufhv"),C=r("9K5b0");r("k1QaE");var S=r("kzvDE"),T=(v=r("61szk"),r("7RIig")),O=r("SssiD");r("lqsXI");var w=r("3nqc5"),N=r("ch3px"),P=r("71T2y"),A=r("4etPo"),I=r("7e0tR");r("cTu5S");var D,R,M,_=r("9V1f8"),j=r("4bO6W"),B=r("5eBbT"),L=r("3rmnP"),F=r("4ZjJ9"),z=r("jBYmq"),W=r("6wtTT"),U=r("buFsC"),H=r("bbuoM");function V(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(h)(t);if(n){var i=e(h)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(p)(this,r)}}var K=O.default.span(D||(D=e(m)(["\n  cursor: pointer;\n  padding-right: 8px;\n  color: ",";\n"])),k.N80),G=O.default.div(R||(R=e(m)(["\n  ",";\n  border-top: 1px solid ",";\n  border-bottom: 1px solid ",";\n"])),I.InputWrapper,k.N30,k.N30),J=O.default.span(M||(M=e(m)(["\n  color: ",";\n  padding: 4px 8px;\n  width: 18px;\n"])),k.N80),q=T.defineMessages({displayText:{id:"fabric.editor.displayText",defaultMessage:"Text to display",description:"Text to display"},clearText:{id:"fabric.editor.clearLinkText",defaultMessage:"Clear text",description:"Clears text on the link toolbar"},clearLink:{id:"fabric.editor.clearLink",defaultMessage:"Clear link",description:"Clears link in the link toolbar"},searchLinkAriaDescription:{id:"fabric.editor.hyperlink.searchLinkAriaDescription",defaultMessage:"Suggestions will appear below as you type into the field",description:"Describes what the search field does for screen reader users."},searchLinkResults:{id:"fabric.editor.hyperlink.searchLinkResults",defaultMessage:"{count, plural, =0 {no results} one {# result} other {# results}} found",description:"Announce search results for screen-reader users."}}),Y=e(v).createElement(e(C),{label:"page"}),Z=function(e){var t=e.name,n=e.container,r=e.iconUrl,o=e.objectId,i=e.url,a=e.viewedTimestamp;return{objectId:o,name:t,container:n,iconUrl:r,url:i,lastViewedDate:a?new Date(a):void 0}},X=function(e){var t=e.objectId,n=e.container,r=e.title,o=e.contentType,i=e.url,a=e.updatedTimestamp;return{objectId:t,container:n,name:r,url:i,lastUpdatedDate:a?new Date(a):void 0,icon:o&&z.mapContentTypeToIcon[o]||Y}},Q=function(t){e(f)(h,t);var n,r,o,p=V(h);function h(t){var n;return e(l)(this,h),n=p.call(this,t),e(g)(e(d)(n),"submitted",!1),e(g)(e(d)(n),"urlInputContainer",null),e(g)(e(d)(n),"displayTextInputContainer",null),e(g)(e(d)(n),"wrapperRef",e(v).createRef()),e(g)(e(d)(n),"quickSearchQueryVersion",0),e(g)(e(d)(n),"analyticSource","createLinkInlineDialog"),e(g)(e(d)(n),"quickSearch",function(){var t=e(c)(e(a).mark((function t(r,o,i){var c,l,u,d,f,p,h,g,m,v,b,y,E,x;return e(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(l=n.state,u=l.searchProvider,d=l.displayUrl,f=n.props.pluginState,u){t.next=4;break}return t.abrupt("return");case 4:return p=++n.quickSearchQueryVersion,n.fireAnalytics({action:_.ACTION.ENTERED,actionSubject:_.ACTION_SUBJECT.TEXT,actionSubjectId:_.ACTION_SUBJECT_ID.LINK_SEARCH_INPUT,attributes:{queryLength:r.length,queryVersion:p,queryHash:z.sha1(r),searchSessionId:null!==(c=f.searchSessionId)&&void 0!==c?c:"",wordCount:z.wordCount(r),source:n.analyticSource},nonPrivacySafeAttributes:{query:r},eventType:_.EVENT_TYPE.UI}),h=performance.now(),t.prev=7,t.next=10,u.quickSearch(r,i);case 10:m=t.sent,v=ee(L.filterUniqueItems([].concat(e(s)(o),e(s)(m.map(X))),(function(e,t){return e.objectId===t.objectId}))),d===r&&p===n.quickSearchQueryVersion&&n.setState({items:v,isLoading:!1}),b=performance.now(),y=b-h,n.fireAnalytics({action:_.ACTION.INVOKED,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,actionSubjectId:_.ACTION_SUBJECT_ID.QUICK_SEARCH,attributes:{duration:y,count:m.length},eventType:_.EVENT_TYPE.OPERATIONAL}),n.fireAnalytics({action:_.ACTION.SHOWN,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,actionSubjectId:_.ACTION_SUBJECT_ID.POST_QUERY_SEARCH_RESULTS,attributes:{source:n.analyticSource,postQueryRequestDurationMs:y,searchSessionId:null!==(g=f.searchSessionId)&&void 0!==g?g:"",resultCount:m.length,results:m.map((function(e){return{resultContentId:e.objectId,resultType:e.contentType}}))},eventType:_.EVENT_TYPE.UI}),t.next=24;break;case 19:t.prev=19,t.t0=t.catch(7),E=performance.now(),x=E-h,n.fireAnalytics({action:_.ACTION.INVOKED,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,actionSubjectId:_.ACTION_SUBJECT_ID.QUICK_SEARCH,attributes:{duration:x,count:-1,errorCode:t.t0.status},nonPrivacySafeAttributes:{error:t.t0.message},eventType:_.EVENT_TYPE.OPERATIONAL});case 24:case"end":return t.stop()}}),t,null,[[7,19]])})));return function(e,n,r){return t.apply(this,arguments)}}()),e(g)(e(d)(n),"updateInput",function(){var t=e(c)(e(a).mark((function t(r){var o,i,s,c,l;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=n.state,i=o.activityProvider,s=o.searchProvider,n.setState({displayUrl:r}),!i){e.next=23;break}if(0!==r.length){e.next=13;break}return e.t0=n,e.next=7,n.getRecentItems(i);case 7:e.t1=e.sent,e.t2=-1,e.t3={items:e.t1,selectedIndex:e.t2},e.t0.setState.call(e.t0,e.t3),e.next=23;break;case 13:if(!b.isSafeUrl(r)){e.next=17;break}n.setState({items:[],selectedIndex:-1,isLoading:!1}),e.next=23;break;case 17:return e.next=19,n.getRecentItems(i,r);case 19:c=e.sent,l=c.length<5&&!!s,n.setState({items:c,isLoading:l}),l&&n.debouncedQuickSearch(r,c,5);case 23:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e(g)(e(d)(n),"createClearHandler",(function(t){return e(c)(e(a).mark((function r(){var o,i;return e(a).wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=n.state.activityProvider){r.next=3;break}return r.abrupt("return");case 3:r.t0=t,r.next="displayUrl"===r.t0?6:"displayText"===r.t0?21:23;break;case 6:return r.t1=n,i={},e(g)(i,t,""),r.t2=e(g),r.t3=i,r.t4=ee,r.next=14,o.getRecentItems();case 14:return r.t5=r.sent,r.t6=r.t4(r.t5),r.t2(r.t3,"items",r.t6),r.t7=i,r.t1.setState.call(r.t1,r.t7),n.urlInputContainer&&n.urlInputContainer.focus(),r.abrupt("break",23);case 21:n.setState(e(g)({},t,"")),n.displayTextInputContainer&&n.displayTextInputContainer.focus();case 23:case"end":return r.stop()}}),r)})))})),e(g)(e(d)(n),"handleClickOutside",(function(e){if(e.target instanceof Element&&n.wrapperRef.current&&!n.wrapperRef.current.contains(e.target)){var t=n.props.view;W.hideLinkToolbar()(t.state,t.dispatch)}})),e(g)(e(d)(n),"isUrlPopulatedWithSelectedItem",(function(){var e=n.state,t=e.items,r=e.selectedIndex,o=e.displayUrl,i=t[r];return!(!i||i.url!==o)})),e(g)(e(d)(n),"handleSelected",(function(e,t){n.handleInsert(e,t,_.INPUT_METHOD.TYPEAHEAD,"click")})),e(g)(e(d)(n),"handleInsert",(function(e,t,r,o){var i=n.props,a=i.pluginState,s=i.onSubmit,c=n.state,l=c.items,u=c.selectedIndex,d=c.displayText;if(s&&(n.submitted=!0,s(e,t,d,r)),"click"===o||n.isUrlPopulatedWithSelectedItem()){var f,p=l[u];n.fireAnalytics({action:_.ACTION.SELECTED,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,attributes:{source:n.analyticSource,searchSessionId:null!==(f=a.searchSessionId)&&void 0!==f?f:"",trigger:o,resultCount:l.length,selectedResultId:p.objectId,selectedRelativePosition:u},eventType:_.EVENT_TYPE.UI})}})),e(g)(e(d)(n),"handleMouseEnterResultItem",(function(e){var t=$(n.state.items,(function(t){return t.objectId===e}));n.setState({selectedIndex:t})})),e(g)(e(d)(n),"handleMouseLeaveResultItem",(function(e){var t=n.state,r=t.items;t.selectedIndex===$(r,(function(t){return t.objectId===e}))&&n.setState({selectedIndex:-1})})),e(g)(e(d)(n),"handleSubmit",(function(){var e=n.state,t=e.displayUrl,r=e.selectedIndex,o=e.items[r];if(n.isUrlPopulatedWithSelectedItem())n.handleInsert(B.normalizeUrl(o.url),o.name,_.INPUT_METHOD.TYPEAHEAD,"keyboard");else if(t&&t.length>0){var i=B.normalizeUrl(t);i&&n.handleInsert(i,t,_.INPUT_METHOD.MANUAL,"notselected")}})),e(g)(e(d)(n),"handleTextKeyDown",(function(e){if(9!==e.keyCode)n.handleKeyDown(e);else{if(!n.submitted){var t=n.state,r=t.displayUrl,o=t.displayText,i=B.normalizeUrl(r);n.handleInsert(i,o||r,_.INPUT_METHOD.MANUAL,"notselected")}e.preventDefault()}})),e(g)(e(d)(n),"handleKeyDown",(function(e){var t=n.state,r=t.items,o=t.selectedIndex,i=n.props,a=i.pluginState,s=i.view,c=e.keyCode,l=40,u=38;if(27===c)return e.preventDefault(),W.hideLinkToolbar()(s.state,s.dispatch),void s.dispatch(U.hideLinkToolbar(s.state.tr));if(r&&r.length){var d,f=o;if(c===l?(e.preventDefault(),f=(o+1)%r.length):c===u&&(e.preventDefault(),f=o>0?o-1:r.length-1),[l,u].includes(c)&&r[f])n.setState({selectedIndex:f,displayUrl:r[f].url}),n.fireAnalytics({action:_.ACTION.HIGHLIGHTED,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,attributes:{source:n.analyticSource,searchSessionId:null!==(d=a.searchSessionId)&&void 0!==d?d:"",selectedResultId:r[f].objectId,selectedRelativePosition:f},eventType:_.EVENT_TYPE.UI})}})),e(g)(e(d)(n),"updateTextInput",(function(e){n.setState({displayText:e})})),e(g)(e(d)(n),"handleCancel",(function(e){var t=n.props.view;e.preventDefault(),W.hideLinkToolbar()(t.state,t.dispatch)})),n.state={selectedIndex:-1,isLoading:!1,displayUrl:B.normalizeUrl(t.displayUrl),displayText:t.displayText,items:[]},n.handleClearText=n.createClearHandler("displayUrl"),n.handleClearDisplayText=n.createClearHandler("displayText"),n.debouncedQuickSearch=e(F)(n.quickSearch,400),n.fireCustomAnalytics=j.fireAnalyticsEvent(t.createAnalyticsEvent),n}return e(u)(h,[{key:"componentDidMount",value:(o=e(c)(e(a).mark((function t(){var n,r,o,s,c,l,u;return e(a).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=this.props.pluginState,document.addEventListener("mousedown",this.handleClickOutside),this.fireAnalytics({action:_.ACTION.VIEWED,actionSubject:_.ACTION_SUBJECT.CREATE_LINK_INLINE_DIALOG,attributes:{timesViewed:o.timesViewed,searchSessionId:null!==(n=o.searchSessionId)&&void 0!==n?n:"",trigger:null!==(r=o.inputMethod)&&void 0!==r?r:""},eventType:_.EVENT_TYPE.SCREEN}),t.next=5,Promise.all([this.props.activityProvider,this.props.searchProvider]);case 5:return s=t.sent,c=e(i)(s,2),l=c[0],u=c[1],this.setState({activityProvider:l,searchProvider:u}),t.next=12,this.loadInitialLinkSearchResult();case 12:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var e,t=this.props.pluginState;(document.removeEventListener("mousedown",this.handleClickOutside),this.submitted)||this.fireAnalytics({action:_.ACTION.DISMISSED,actionSubject:_.ACTION_SUBJECT.CREATE_LINK_INLINE_DIALOG,attributes:{source:this.analyticSource,searchSessionId:null!==(e=t.searchSessionId)&&void 0!==e?e:"",trigger:"blur"},eventType:_.EVENT_TYPE.UI})}},{key:"getRecentItems",value:(r=e(c)(e(a).mark((function t(n,r){var o,i,s,c,l,u,d,f,p;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=this.props.pluginState,i=performance.now(),e.prev=2,e.t0=ee,!r){e.next=10;break}return e.next=7,n.searchRecent(r);case 7:e.t1=e.sent,e.next=13;break;case 10:return e.next=12,n.getRecentItems();case 12:e.t1=e.sent;case 13:return e.t2=e.t1,c=e.t0(e.t2),l=c.map(Z),u=performance.now(),d=u-i,this.fireAnalytics({action:_.ACTION.INVOKED,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,actionSubjectId:_.ACTION_SUBJECT_ID.RECENT_ACTIVITIES,attributes:{duration:d,count:l.length},eventType:_.EVENT_TYPE.OPERATIONAL}),this.fireAnalytics({action:_.ACTION.SHOWN,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,actionSubjectId:_.ACTION_SUBJECT_ID.PRE_QUERY_SEARCH_RESULTS,attributes:{source:this.analyticSource,preQueryRequestDurationMs:d,searchSessionId:null!==(s=o.searchSessionId)&&void 0!==s?s:"",resultCount:l.length,results:c.map((function(e){var t;return{resultContentId:e.objectId,resultType:null!==(t=e.type)&&void 0!==t?t:""}}))},eventType:_.EVENT_TYPE.UI}),e.abrupt("return",l);case 23:return e.prev=23,e.t3=e.catch(2),f=performance.now(),p=f-i,this.fireAnalytics({action:_.ACTION.INVOKED,actionSubject:_.ACTION_SUBJECT.SEARCH_RESULT,actionSubjectId:_.ACTION_SUBJECT_ID.RECENT_ACTIVITIES,attributes:{duration:p,count:-1,errorCode:e.t3.status},nonPrivacySafeAttributes:{error:e.t3.message},eventType:_.EVENT_TYPE.OPERATIONAL}),e.abrupt("return",[]);case 29:case"end":return e.stop()}}),t,this,[[2,23]])}))),function(e,t){return r.apply(this,arguments)})},{key:"fireAnalytics",value:function(e){this.props.createAnalyticsEvent&&this.fireCustomAnalytics&&this.fireCustomAnalytics({payload:e})}},{key:"loadInitialLinkSearchResult",value:(n=e(c)(e(a).mark((function t(){var n,r,o,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.displayUrl,o=n.activityProvider,e.prev=1,r||!o){e.next=8;break}return this.setState({isLoading:!0}),e.next=6,this.getRecentItems(o);case 6:i=e.sent,this.setState({items:i});case 8:return e.prev=8,this.setState({isLoading:!1}),e.finish(8);case 11:case"end":return e.stop()}}),t,this,[[1,,8,11]])}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){var t=this,n=this.state,r=n.items,o=n.isLoading,i=n.selectedIndex,a=n.displayUrl,s=n.displayText,c=this.props,l=c.intl.formatMessage,u=c.activityProvider,d=l(u?N.linkToolbarMessages.placeholder:N.linkToolbarMessages.linkPlaceholder),f=l(N.linkToolbarMessages.linkAddress),p=l(q.clearLink),h=l(q.displayText),g="search-recent-links-field-description";return e(v).createElement("div",{className:"recent-list"},e(v).createElement(I.Container,{provider:!!u,innerRef:this.wrapperRef},e(v).createElement(I.UrlInputWrapper,null,e(v).createElement(J,null,e(v).createElement(S.default,{content:f},e(v).createElement(e(x),{label:f}))),e(v).createElement(H.ScreenReaderText,{"aria-hidden":"true",id:g},l(q.searchLinkAriaDescription)),e(v).createElement(P.default,{describedById:g,ref:function(e){return t.urlInputContainer=e},placeholder:d,testId:"link-url",onSubmit:this.handleSubmit,onChange:this.updateInput,autoFocus:{preventScroll:!0},onCancel:this.handleCancel,defaultValue:a,onKeyDown:this.handleKeyDown}),a&&e(v).createElement(S.default,{content:p},e(v).createElement(K,{onClick:this.handleClearText},e(v).createElement(e(y),{label:p})))),e(v).createElement(G,null,e(v).createElement(J,null,e(v).createElement(S.default,{content:h},e(v).createElement(e(E),{label:h}))),e(v).createElement(P.default,{ref:function(e){return t.displayTextInputContainer=e},placeholder:h,ariaLabel:"Link label",testId:"link-label",onChange:this.updateTextInput,onCancel:this.handleCancel,defaultValue:s,onSubmit:this.handleSubmit,onKeyDown:this.handleTextKeyDown}),s&&e(v).createElement(S.default,{content:l(q.clearText)},e(v).createElement(K,{onClick:this.handleClearDisplayText},e(v).createElement(e(y),{label:l(q.clearText)})))),e(v).createElement(H.ScreenReaderText,{"aria-live":"assertive",id:"fabric.editor.hyperlink.suggested.results"},a&&l(q.searchLinkResults,{count:r.length})),e(v).createElement(A.default,{ariaControls:"fabric.editor.hyperlink.suggested.results",items:r,isLoading:o,selectedIndex:i,onSelect:this.handleSelected,onMouseEnter:this.handleMouseEnterResultItem,onMouseLeave:this.handleMouseLeaveResultItem})))}}]),h}(v.PureComponent);function $(e,t){var n=-1;return e.some((function(e,r){return!!t(e)&&(n=r,!0)})),n}function ee(e){return e.slice(0,5)}var te=T.injectIntl(Q),ne=w.default()(te)})),r.register("382lv",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 7h10a1 1 0 010 2H7a1 1 0 110-2zm0 4h10a1 1 0 010 2H7a1 1 0 010-2zm0 4h5a1 1 0 010 2H7a1 1 0 010-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignLeftIcon";var s=a;e.exports.default=s})),r.register("9K5b0",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=i(r("61szk")),o=i(r("050F7"));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>n.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm2 3a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 100 2h8a1 1 0 000-2H4zm0 4a1 1 0 000 2h4a1 1 0 000-2H4z"/></svg>'},e,{size:"small"}));a.displayName="Page16Icon";var s=a;e.exports.default=s})),r.register("3rmnP",(function(e,n){function r(e,t,n){return e.filter((function(e){return-1===t.findIndex((function(t){return n?n(e,t):e===t}))}))}function o(e,t){return e.filter((function(e,n,r){return r.findIndex((function(n){return t?t(e,n):e===n}))===n}))}t(e.exports,"findUniqueItemsIn",(function(){return r})),t(e.exports,"filterUniqueItems",(function(){return o}))})),r.register("jBYmq",(function(n,o){t(n.exports,"mapContentTypeToIcon",(function(){return p})),t(n.exports,"sha1",(function(){return h})),t(n.exports,"wordCount",(function(){return g}));var i=r("61szk"),a=r("hHLFp"),s=r("j63tH"),c=r("18YnW"),l=r("dn5Pl"),u=r("enSvG"),d=r("9K5b0"),f=r("acWcZ"),p={"jira.issue":e(i).createElement(e(s),{label:"Issue"}),"jira.issue.bug":e(i).createElement(e(c),{label:"Bug"}),"jira.issue.story":e(i).createElement(e(l),{label:"Story"}),"jira.issue.task":e(i).createElement(e(u),{label:"Task"}),"confluence.page":e(i).createElement(e(d),{label:"Page"}),"confluence.blogpost":e(i).createElement(e(f),{label:"Blog"})},h=function(t){return e(a).createHash().update(t).digest("hex")},g=function(e){return e.split(" ").length}})),r.register("hHLFp",(function(e,t){var n,r;n="undefined"!=typeof self?self:e.exports,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var r=n(5),o=n(1),i=o.toHex,a=o.ceilHeapSize,s=n(6),c=function(e){for(e+=9;e%64>0;e+=1);return e},l=function(e,t){var n=new Int32Array(e,t+320,5),r=new Int32Array(5),o=new DataView(r.buffer);return o.setInt32(0,n[0],!1),o.setInt32(4,n[1],!1),o.setInt32(8,n[2],!1),o.setInt32(12,n[3],!1),o.setInt32(16,n[4],!1),r},u=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(t=t||65536)%64>0)throw new Error("Chunk size must be a multiple of 128 bit");this._offset=0,this._maxChunkLen=t,this._padMaxChunkLen=c(t),this._heap=new ArrayBuffer(a(this._padMaxChunkLen+320+20)),this._h32=new Int32Array(this._heap),this._h8=new Int8Array(this._heap),this._core=new r({Int32Array:Int32Array},{},this._heap)}return e.prototype._initState=function(e,t){this._offset=0;var n=new Int32Array(e,t+320,5);n[0]=1732584193,n[1]=-271733879,n[2]=-1732584194,n[3]=271733878,n[4]=-1009589776},e.prototype._padChunk=function(e,t){var n=c(e),r=new Int32Array(this._heap,0,n>>2);return function(e,t){var n=new Uint8Array(e.buffer),r=t%4,o=t-r;switch(r){case 0:n[o+3]=0;case 1:n[o+2]=0;case 2:n[o+1]=0;case 3:n[o+0]=0}for(var i=1+(t>>2);i<e.length;i++)e[i]=0}(r,e),function(e,t,n){e[t>>2]|=128<<24-(t%4<<3),e[14+(2+(t>>2)&-16)]=n/536870912|0,e[15+(2+(t>>2)&-16)]=n<<3}(r,e,t),n},e.prototype._write=function(e,t,n,r){s(e,this._h8,this._h32,t,n,r||0)},e.prototype._coreCall=function(e,t,n,r,o){var i=n;this._write(e,t,n),o&&(i=this._padChunk(n,r)),this._core.hash(i,this._padMaxChunkLen)},e.prototype.rawDigest=function(e){var t=e.byteLength||e.length||e.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,r=this._maxChunkLen;for(n=0;t>n+r;n+=r)this._coreCall(e,n,r,t,!1);return this._coreCall(e,n,t-n,t,!0),l(this._heap,this._padMaxChunkLen)},e.prototype.digest=function(e){return i(this.rawDigest(e).buffer)},e.prototype.digestFromString=function(e){return this.digest(e)},e.prototype.digestFromBuffer=function(e){return this.digest(e)},e.prototype.digestFromArrayBuffer=function(e){return this.digest(e)},e.prototype.resetState=function(){return this._initState(this._heap,this._padMaxChunkLen),this},e.prototype.append=function(e){var t=0,n=e.byteLength||e.length||e.size||0,r=this._offset%this._maxChunkLen,o=void 0;for(this._offset+=n;t<n;)o=Math.min(n-t,this._maxChunkLen-r),this._write(e,t,o,r),t+=o,(r+=o)===this._maxChunkLen&&(this._core.hash(this._maxChunkLen,this._padMaxChunkLen),r=0);return this},e.prototype.getState=function(){var e=void 0;if(this._offset%this._maxChunkLen)e=this._heap.slice(0);else{var t=new Int32Array(this._heap,this._padMaxChunkLen+320,5);e=t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}return{offset:this._offset,heap:e}},e.prototype.setState=function(e){return this._offset=e.offset,20===e.heap.byteLength?new Int32Array(this._heap,this._padMaxChunkLen+320,5).set(new Int32Array(e.heap)):this._h32.set(new Int32Array(e.heap)),this},e.prototype.rawEnd=function(){var e=this._offset,t=e%this._maxChunkLen,n=this._padChunk(t,e);this._core.hash(n,this._padMaxChunkLen);var r=l(this._heap,this._padMaxChunkLen);return this._initState(this._heap,this._padMaxChunkLen),r},e.prototype.end=function(){return i(this.rawEnd().buffer)},e}();e.exports=u,e.exports._core=r},function(e,t){for(var n=new Array(256),r=0;r<256;r++)n[r]=(r<16?"0":"")+r.toString(16);e.exports.toHex=function(e){for(var t=new Uint8Array(e),r=new Array(e.byteLength),o=0;o<r.length;o++)r[o]=n[t[o]];return r.join("")},e.exports.ceilHeapSize=function(e){var t=0;if(e<=65536)return 65536;if(e<16777216)for(t=1;t<e;t<<=1);else for(t=16777216;t<e;t+=16777216);return t},e.exports.isDedicatedWorkerScope=function(e){var t="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope,n="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope,r="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return t&&!n&&!r}},function(e,t,n){e.exports=function(){var e=n(0),t=function(e,n,r,o,i){var a=new self.FileReader;a.onloadend=function(){if(a.error)return i(a.error);var s=a.result;n+=a.result.byteLength;try{e.append(s)}catch(e){return void i(e)}n<o.size?t(e,n,r,o,i):i(null,e.end())},a.readAsArrayBuffer(o.slice(n,n+r))},r=!0;return self.onmessage=function(n){if(r){var o=n.data.data,i=n.data.file,a=n.data.id;if(void 0!==a&&(i||o)){var s=n.data.blockSize||4194304,c=new e(s);c.resetState();var l=function(e,t){e?self.postMessage({id:a,error:e.name}):self.postMessage({id:a,hash:t})};o&&function(e,t,n){try{n(null,e.digest(t))}catch(e){return n(e)}}(c,o,l),i&&t(c,0,s,i,l)}}},function(){r=!1}}},function(e,t,n){var r=n(4),o=n(0),i=n(7),a=n(2),s=n(1).isDedicatedWorkerScope,c="undefined"!=typeof self&&s(self);o.disableWorkerBehaviour=c?a():function(){},o.createWorker=function(){var e=r(2),t=e.terminate;return e.terminate=function(){URL.revokeObjectURL(e.objectURL),t.call(e)},e},o.createHash=i,e.exports=o},function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var o="[\\.|\\-|\\+|\\w|/|@]+",i="\\((/\\*.*?\\*/)?s?.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,r){var s={};s[r]=[];var c=t.toString(),l=c.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!l)return s;for(var u,d=l[1],f=new RegExp("(\\\\n|\\W)"+a(d)+i,"g");u=f.exec(c);)"dll-reference"!==u[3]&&s[r].push(u[3]);for(f=new RegExp("\\("+a(d)+'\\("(dll-reference\\s('+o+'))"\\)\\)'+i,"g");u=f.exec(c);)e[u[2]]||(s[r].push(u[1]),e[u[2]]=n(u[1]).m),s[u[2]]=s[u[2]]||[],s[u[2]].push(u[4]);return s}function c(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var o={main:n.m},i=t.all?{main:Object.keys(o)}:function(e,t){for(var n={main:[t]},r={main:[]},o={main:{}};c(n);)for(var i=Object.keys(n),a=0;a<i.length;a++){var l=i[a],u=n[l].pop();if(o[l]=o[l]||{},!o[l][u]&&e[l][u]){o[l][u]=!0,r[l]=r[l]||[],r[l].push(u);for(var d=s(e,e[l][u],l),f=Object.keys(d),p=0;p<f.length;p++)n[f[p]]=n[f[p]]||[],n[f[p]]=n[f[p]].concat(d[f[p]])}}return r}(o,e),a="";Object.keys(i).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;i[e][t];)t++;i[e].push(t),o[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+i[e].map((function(t){return JSON.stringify(t)+": "+o[e][t].toString()})).join(",")+"});\n"})),a=a+"("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+i.main.map((function(e){return JSON.stringify(e)+": "+o.main[e].toString()})).join(",")+"})(self);";var l=new window.Blob([a],{type:"text/javascript"});if(t.bare)return l;var u=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),d=new window.Worker(u);return d.objectURL=u,d}},function(e,t){e.exports=function(e,t,n){var r=new e.Int32Array(n);return{hash:function(e,t){e|=0;var n=0,o=0,i=0,a=0,s=0,c=0,l=0,u=0,d=0,f=0,p=0,h=0,g=0,m=0;for(i=0|r[320+(t|=0)>>2],s=0|r[t+324>>2],l=0|r[t+328>>2],d=0|r[t+332>>2],p=0|r[t+336>>2],n=0;(0|n)<(0|e);n=n+64|0){for(a=i,c=s,u=l,f=d,h=p,o=0;(0|o)<64;o=o+4|0)g=((i<<5|i>>>27)+(s&l|~s&d)|0)+(1518500249+((m=0|r[n+o>>2])+p|0)|0)|0,p=d,d=l,l=s<<30|s>>>2,s=i,i=g,r[e+o>>2]=m;for(o=e+64|0;(0|o)<(e+80|0);o=o+4|0)g=((i<<5|i>>>27)+(s&l|~s&d)|0)+(1518500249+((m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31)+p|0)|0)|0,p=d,d=l,l=s<<30|s>>>2,s=i,i=g,r[o>>2]=m;for(o=e+80|0;(0|o)<(e+160|0);o=o+4|0)g=((i<<5|i>>>27)+(s^l^d)|0)+(1859775393+((m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31)+p|0)|0)|0,p=d,d=l,l=s<<30|s>>>2,s=i,i=g,r[o>>2]=m;for(o=e+160|0;(0|o)<(e+240|0);o=o+4|0)g=((i<<5|i>>>27)+(s&l|s&d|l&d)|0)+(((m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31)+p|0)-1894007588|0)|0,p=d,d=l,l=s<<30|s>>>2,s=i,i=g,r[o>>2]=m;for(o=e+240|0;(0|o)<(e+320|0);o=o+4|0)g=((i<<5|i>>>27)+(s^l^d)|0)+(((m=(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])<<1|(r[o-12>>2]^r[o-32>>2]^r[o-56>>2]^r[o-64>>2])>>>31)+p|0)-899497514|0)|0,p=d,d=l,l=s<<30|s>>>2,s=i,i=g,r[o>>2]=m;i=i+a|0,s=s+c|0,l=l+u|0,d=d+f|0,p=p+h|0}r[t+320>>2]=i,r[t+324>>2]=s,r[t+328>>2]=l,r[t+332>>2]=d,r[t+336>>2]=p}}}},function(e,t){var n=this,r=void 0;"undefined"!=typeof self&&void 0!==self.FileReaderSync&&(r=new self.FileReaderSync);var o=function(e,t,n,r,o,i){var a=void 0,s=i%4,c=(o+s)%4,l=o-c;switch(s){case 0:t[i]=e[r+3];case 1:t[i+1-(s<<1)|0]=e[r+2];case 2:t[i+2-(s<<1)|0]=e[r+1];case 3:t[i+3-(s<<1)|0]=e[r]}if(!(o<c+(4-s))){for(a=4-s;a<l;a=a+4|0)n[i+a>>2|0]=e[r+a]<<24|e[r+a+1]<<16|e[r+a+2]<<8|e[r+a+3];switch(c){case 3:t[i+l+1|0]=e[r+l+2];case 2:t[i+l+2|0]=e[r+l+1];case 1:t[i+l+3|0]=e[r+l]}}};e.exports=function(e,t,i,a,s,c){if("string"==typeof e)return function(e,t,n,r,o,i){var a=void 0,s=i%4,c=(o+s)%4,l=o-c;switch(s){case 0:t[i]=e.charCodeAt(r+3);case 1:t[i+1-(s<<1)|0]=e.charCodeAt(r+2);case 2:t[i+2-(s<<1)|0]=e.charCodeAt(r+1);case 3:t[i+3-(s<<1)|0]=e.charCodeAt(r)}if(!(o<c+(4-s))){for(a=4-s;a<l;a=a+4|0)n[i+a>>2]=e.charCodeAt(r+a)<<24|e.charCodeAt(r+a+1)<<16|e.charCodeAt(r+a+2)<<8|e.charCodeAt(r+a+3);switch(c){case 3:t[i+l+1|0]=e.charCodeAt(r+l+2);case 2:t[i+l+2|0]=e.charCodeAt(r+l+1);case 1:t[i+l+3|0]=e.charCodeAt(r+l)}}}(e,t,i,a,s,c);if(e instanceof Array)return o(e,t,i,a,s,c);if(n&&n.Buffer&&n.Buffer.isBuffer(e))return o(e,t,i,a,s,c);if(e instanceof ArrayBuffer)return o(new Uint8Array(e),t,i,a,s,c);if(e.buffer instanceof ArrayBuffer)return o(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t,i,a,s,c);if(e instanceof Blob)return function(e,t,n,o,i,a){var s=void 0,c=a%4,l=(i+c)%4,u=i-l,d=new Uint8Array(r.readAsArrayBuffer(e.slice(o,o+i)));switch(c){case 0:t[a]=d[3];case 1:t[a+1-(c<<1)|0]=d[2];case 2:t[a+2-(c<<1)|0]=d[1];case 3:t[a+3-(c<<1)|0]=d[0]}if(!(i<l+(4-c))){for(s=4-c;s<u;s=s+4|0)n[a+s>>2|0]=d[s]<<24|d[s+1]<<16|d[s+2]<<8|d[s+3];switch(l){case 3:t[a+u+1|0]=d[u+2];case 2:t[a+u+2|0]=d[u+1];case 1:t[a+u+3|0]=d[u]}}}(e,t,i,a,s,c);throw new Error("Unsupported data type.")}},function(e,t,n){var r=n(0),o=n(1).toHex,i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._rusha=new r,this._rusha.resetState()}return e.prototype.update=function(e){return this._rusha.append(e),this},e.prototype.digest=function(e){var t=this._rusha.rawEnd().buffer;if(!e)return t;if("hex"===e)return o(t);throw new Error("unsupported digest encoding")},e}();e.exports=function(){return new i}}])},"object"==typeof e.exports?e.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof e.exports?e.exports.Rusha=r():n.Rusha=r()})),r.register("j63tH",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=i(r("61szk")),o=i(r("050F7"));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>n.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 4a1 1 0 00-1 1v6a1 1 0 001 1h10a1 1 0 001-1V5a1 1 0 00-1-1H3zm1 2v4h8V6H4z"/></svg>'},e,{size:"small"}));a.displayName="Issue16Icon";var s=a;e.exports.default=s})),r.register("18YnW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=i(r("61szk")),o=i(r("050F7"));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>n.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#FF5630" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 12a4 4 0 100-8 4 4 0 000 8z"/></svg>'},e,{size:"small"}));a.displayName="Bug16Icon";var s=a;e.exports.default=s})),r.register("dn5Pl",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=i(r("61szk")),o=i(r("050F7"));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>n.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#36B37E" fill-rule="evenodd" d="M2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm6 11l-2.863 1.822c-.42.38-1.137.111-1.137-.427v-8.19C4 3.54 4.596 3 5.333 3h5.334C11.403 3 12 3.539 12 4.206v8.19c0 .537-.719.806-1.139.426L8 11zm0-2.371l2 1.274V5H6v4.902L8 8.63z"/></svg>'},e,{size:"small"}));a.displayName="Story16Icon";var s=a;e.exports.default=s})),r.register("acWcZ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n=i(r("61szk")),o=i(r("050F7"));function i(e){return e&&e.__esModule?e:{default:e}}const a=e=>n.default.createElement(o.default,Object.assign({dangerouslySetGlyph:'<svg width="16" height="16" viewBox="0 0 16 16" role="presentation"><path fill="#2684FF" fill-rule="evenodd" d="M6.972 6.128a2.5 2.5 0 10-2.37 2.87c-.277.394-.616.815-1.016 1.265a.916.916 0 00-.058 1.147.607.607 0 00.948.043c1.939-2.221 2.77-3.996 2.496-5.325zm7 0a2.5 2.5 0 10-2.37 2.87c-.277.394-.616.815-1.016 1.265a.916.916 0 00-.058 1.147.607.607 0 00.948.043c1.939-2.221 2.77-3.996 2.496-5.325zM2 0h12a2 2 0 012 2v12a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2z"/></svg>'},e,{size:"small"}));a.displayName="Blog16Icon";var s=a;e.exports.default=s})),r.register("bbuoM",(function(n,o){t(n.exports,"linkStyles",(function(){return d})),t(n.exports,"ScreenReaderText",(function(){return p}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s,c,l,u=r("jTCDl"),d=a.css(s||(s=e(i)(["\n  .ProseMirror {\n    ","\n  }\n"])),u.linkSharedStyle),f=a.css(c||(c=e(i)(["\n  clip: rect(1px, 1px, 1px, 1px);\n  clip-path: inset(50%);\n  height: 1px;\n  width: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n"]))),p=a.default.div(l||(l=e(i)(["\n  ",";\n"])),f)})),r.register("d1fTn",(function(n,o){t(n.exports,"LinkToolbarAppearance",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hm2s2"),h=r("jWbqG"),g=r("cSjqO"),m=r("lGsoF"),v=r("fGJu4"),b=r("aeWwA"),y=r("ch3px");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var x=function(t){e(c)(r,t);var n=E(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"renderDropdown",(function(n,r){var o=t.props,i=o.url,a=o.intl,s=o.currentAppearance,c=o.editorState,l=o.allowEmbeds,u=o.platform,d=l&&r&&i&&r.extractors.getPreview(i,u);if(i){var p,y,E=null==r||null===(p=r.store)||void 0===p?void 0:p.getState()[i];if("fatal"===(null==E||null===(y=E.error)||void 0===y?void 0:y.kind))return null}var x=m.isSupportedInParent(c,h.Fragment.from(c.schema.nodes.blockCard.createChecked({})),s),C=x?void 0:k(c,a),S=l&&d&&{title:a.formatMessage(b.messages.embed),onClick:g.setSelectedCardAppearance("embed"),selected:"embed"===s,hidden:!1,testId:"embed-appearance",disabled:!x,tooltip:C},T=[{title:a.formatMessage(b.messages.url),onClick:function(){return g.changeSelectedCardToLink(i,i,!0)(c,null==n?void 0:n.dispatch)},selected:!s,testId:"url-appearance"},{title:a.formatMessage(b.messages.inline),onClick:g.setSelectedCardAppearance("inline"),selected:"inline"===s,hidden:!1,testId:"inline-appearance"},{title:a.formatMessage(b.messages.block),onClick:g.setSelectedCardAppearance("block"),selected:"block"===s,hidden:!1,testId:"block-appearance",disabled:!x,tooltip:C}],O=a.formatMessage(s?b.messages[s]:b.messages.url);return S&&T.push(S),e(f).createElement(v.default,{key:"link-toolbar",buttonTestId:"link-toolbar-appearance-button",title:O,dispatchCommand:function(e){e&&e(c,n&&n.dispatch)},options:T})})),t}return e(a)(r,[{key:"render",value:function(){var e=this.context.contextAdapter?this.context.contextAdapter.card:void 0,t=this.props.editorView;return this.renderDropdown(t,e&&e.value)}}]),r}(e(f).Component);e(d)(x,"contextTypes",{contextAdapter:e(p).object});var k=function(e,t){try{var n=e.selection.$from.node(1),r=t.formatMessage(y.default[n.type.name]);return t.formatMessage(b.messages.displayOptionUnavailableInParentNode,{node:r})}catch(e){return t.formatMessage(b.messages.displayOptionUnavailableInParentNode,{node:t.formatMessage(y.default.defaultBlockNode)})}}})),r.register("fGJu4",(function(n,o){t(n.exports,"default",(function(){return T}));var i,a,s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("lhkMJ"),g=r("61szk"),m=r("SssiD"),v=r("6Vf6Q"),b=r("4mXUu"),y=r("2Zops"),E=r("igEl1");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var k=m.default.span(i||(i=e(h)(["\n  margin: 0px -4px;\n"]))),C=m.default.div(a||(a=e(h)(["\n  display: flex;\n"]))),S=function(t){var n=t.icon;return e(g).createElement(C,null,n,e(g).createElement(k,null,e(g).createElement(e(v),{label:"Expand dropdown menu"})))},T=function(t){e(u)(r,t);var n=x(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i)),e(p)(e(l)(t),"state",{isOpen:!1}),e(p)(e(l)(t),"renderArrayOptions",(function(n){return e(g).createElement(E.default,{hide:t.hide,dispatchCommand:t.props.dispatchCommand,items:n})})),e(p)(e(l)(t),"toggleOpen",(function(){t.setState({isOpen:!t.state.isOpen})})),e(p)(e(l)(t),"hide",(function(){t.setState({isOpen:!1})})),t}return e(c)(r,[{key:"render",value:function(){var t,n=this.state.isOpen,r=this.props,o=r.title,i=r.icon,a=r.options,s=r.dispatchCommand,c=r.mountPoint,l=r.boundariesElement,u=r.scrollableElement,d=r.hideExpandIcon,f=r.disabled,p=r.tooltip,h=r.buttonTestId;if(i){var m=d?i:e(g).createElement(S,{icon:i});t=e(g).createElement(y.default,{testId:h,title:o,icon:m,onClick:this.toggleOpen,selected:n,disabled:f,tooltipContent:p})}else t=e(g).createElement(y.default,{testId:h,iconAfter:e(g).createElement(k,null,e(g).createElement(e(v),{label:"Expand dropdown menu"})),onClick:this.toggleOpen,selected:n,disabled:f,tooltipContent:p},o);var x=Array.isArray(a)?E.menuItemDimensions.width:a.width,C=Array.isArray(a)?a.length*E.menuItemDimensions.height+2*E.itemSpacing:a.height;return e(g).createElement(b.default,{mountTo:c,boundariesElement:l,scrollableElement:u,isOpen:n,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:x+10,fitHeight:C+10,trigger:t},Array.isArray(a)?this.renderArrayOptions(a):a.render({hide:this.hide,dispatchCommand:s}))}}]),r}(g.Component)})),r.register("igEl1",(function(n,o){t(n.exports,"menuItemDimensions",(function(){return k})),t(n.exports,"itemSpacing",(function(){return O})),t(n.exports,"default",(function(){return N}));var i=r("l15hj"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("lhkMJ"),f=r("61szk"),p=(f=r("61szk"),r("SssiD")),h=r("kFKbx"),g=r("cufhv"),m=r("cNHiQ"),v=r("7msEu");r("k1QaE");var b,y,E=r("kzvDE");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var k={width:175,height:32},C=p.default.span(b||(b=e(d)(["\n  display: flex;\n  flex: 1;\n  padding: 8px;\n"]))),S=p.default.div(y||(y=e(d)(["\n  min-width: ","px;\n"])),k.width),T=h.gridSize(),O=h.gridSize()/2,w={borderRadius:0,beforeItemSpacing:{compact:O},padding:{compact:{bottom:T,left:T,right:T,top:T}},height:{compact:k.height}},N=function(t){e(c)(r,t);var n=x(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"render",value:function(){var t=this,n=this.props,r=n.hide,o=n.dispatchCommand,a=n.items;return e(f).createElement(p.ThemeProvider,{theme:e(i)({},m.itemThemeNamespace,w)},e(f).createElement(S,null,a.filter((function(e){return!e.hidden})).map((function(n,i){var a=e(f).createElement(m.default,{key:i,isCompact:!0,elemBefore:t.renderSelected(n),onClick:function(){o(n.onClick),r()},"data-testid":n.testId,isDisabled:n.disabled},n.title);return n.tooltip?e(f).createElement(E.default,{key:i,content:n.tooltip},a):a}))))}},{key:"renderSelected",value:function(t){var n=t.selected;if(void 0!==n)return n?e(f).createElement(e(v),{primaryColor:g.B400,size:"small",label:"test question"}):e(f).createElement(C,null)}}]),r}(f.Component)})),r.register("aeWwA",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({url:{id:"fabric.editor.url",defaultMessage:"Display URL",description:"Convert the card to become a regular text-based hyperlink."},block:{id:"fabric.editor.displayBlock",defaultMessage:"Display card",description:"Display link as a card with a rich preview similar to in a Facebook feed with page title, description, and potentially an image."},inline:{id:"fabric.editor.displayInline",defaultMessage:"Display inline",description:"Display link with the title only."},embed:{id:"fabric.editor.displayEmbed",defaultMessage:"Display embed",description:"Display link as an embedded object"},link:{id:"fabric.editor.displayLink",defaultMessage:"Display as text",description:"Convert the card to become a regular text-based hyperlink."},card:{id:"fabric.editor.cardFloatingControls",defaultMessage:"Card options",description:"Options to change card type"},blockCardUnavailable:{id:"fabric.editor.blockCardUnavailable",defaultMessage:"The inline link is inside {node} and cannot have its view changed",description:"Warning message to show the user that this node cannot change its view"},displayOptionUnavailableInParentNode:{id:"fabric.editor.displayOptionUnavailableInParentNode",defaultMessage:"This display option isn't available inside {node}",description:"Warning message to show the user that this node option is not available inside a parent node type"}})})),r.register("f5ZB1",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("61szk"),a=r("iFBc4"),s=r("ekJGA"),c=r("4s4wW");r("cTu5S");var l=r("hNVBR"),u=r("9V1f8"),d=r("6UBHG"),f=r("iIrvw"),p=r("gx217"),h=r("jGpk2"),g=r("3Dqbe"),m=r("cbVtj"),v=r("hq5W4"),b=function(t){return function(t,n){return!0===n.menuDisabled||(t.pluginsOptions={quickInsert:function(t){var n=t.formatMessage;return[{id:"status",title:n(d.messages.status),description:n(d.messages.statusDescription),priority:700,keywords:["lozenge"],icon:function(){return e(i).createElement(f.IconStatus,null)},action:function(e,t){return l.addAnalytics(t,p.createStatus()(e,t),{action:u.ACTION.INSERTED,actionSubject:u.ACTION_SUBJECT.DOCUMENT,actionSubjectId:u.ACTION_SUBJECT_ID.STATUS,attributes:{inputMethod:u.INPUT_METHOD.QUICK_INSERT},eventType:u.EVENT_TYPE.TRACK})}}]}}),t}(function(t){return{name:"status",nodes:function(){return[{name:"status",node:s.status}]},pmPlugins:function(){return[{name:"status",plugin:function(e){var n=e.dispatch,r=e.portalProviderAPI,o=e.eventDispatcher;return g.default(n,r,o,t)}},{name:"statusKeymap",plugin:h.keymapPlugin}]},contentComponent:function(t){var n=t.editorView,r=n.domAtPos.bind(n);return e(i).createElement(c.default,{plugins:{statusState:m.pluginKey},render:function(t){var o=t.statusState,s=void 0===o?{}:o,c=s.showStatusPickerAt;if("number"!=typeof c)return null;var l=a.findDomRefAtPos(c,r),u=n.state.doc.nodeAt(c);if(!u||"status"!==u.type.name)return null;var d=u.attrs,f=d.text,h=d.color,g=d.localId;return e(i).createElement(v.default,{isNew:s.isNew,target:l,defaultText:f,defaultColor:h,defaultLocalId:g,onSelect:function(e){p.updateStatus(e)(n.state,n.dispatch)},onTextChanged:function(e){p.updateStatus(e)(n.state,n.dispatch)},closeStatusPicker:function(){p.commitStatusPicker()(n)},onEnter:function(){p.commitStatusPicker()(n)}})}})}}}(t),t)}})),r.register("jGpk2",(function(e,n){t(e.exports,"keymapPlugin",(function(){return s}));var o=r("6mFHM"),i=r("7uC1r"),a=r("7oqxX");function s(){var e={};return i.bindKeymapWithCommand(i.enter.common,c,e),i.bindKeymapWithCommand(i.tab.common,c,e),o.keymap(e)}var c=function(e,t){return!!a.mayGetStatusAtSelection(e.tr.selection)}})),r.register("7oqxX",(function(e,n){t(e.exports,"mayGetStatusAtSelection",(function(){return i})),t(e.exports,"isEmptyStatus",(function(){return a}));var o=r("eBSbE"),i=function(e){if(e&&e instanceof o.NodeSelection&&"status"===e.node.type.name)return e.node.attrs||null;return null},a=function(e){return e&&(e.text&&0===e.text.trim().length||""===e.text)}})),r.register("3Dqbe",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("l15hj"),a=r("eBSbE"),s=r("9MUi0");r("igW5C");var c=r("b6rQF"),l=r("9h1sV"),u=r("cbVtj"),d=r("7oqxX");u=r("cbVtj");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var h=function(e,t,n,r){return new a.Plugin({state:{init:function(){return{isNew:!1,showStatusPickerAt:null}},apply:function(t,n,r){var o=t.getMeta(u.pluginKey);if(o){var i=p(p({},n),o);return e(u.pluginKey,i),i}if(t.docChanged&&n.showStatusPickerAt){var s=t.mapping.mapResult(n.showStatusPickerAt),c=s.pos,l=s.deleted?null:c,d=p(p({},n),{},{showStatusPickerAt:l});if(d.showStatusPickerAt!==n.showStatusPickerAt)return e(u.pluginKey,d),d}if(!t.selection.eq(r.selection)){var f=t.selection.from,h=t.doc.nodeAt(f),g=null;if(h&&h.type===r.schema.nodes.status&&t.selection instanceof a.NodeSelection&&(g=f),g!==n.showStatusPickerAt){var m=p(p({},n),{},{isNew:!1,showStatusPickerAt:g});return e(u.pluginKey,m),m}}return n}},filterTransaction:function(e,t){if(e.selectionSet&&!e.steps.length&&e.isGeneric&&e.selection instanceof a.TextSelection&&t.selection instanceof a.NodeSelection){var n=u.pluginKey.getState(t),r=n.isNew,o=n.showStatusPickerAt,i=e.doc.nodeAt(e.selection.from);if(r&&o&&i&&i.type===t.schema.nodes.status)return!1}return!0},appendTransaction:function(e,t,n){var r=!1,o=n.tr;if(e.find((function(e){return e.selectionSet}))){var i=d.mayGetStatusAtSelection(t.selection),a=d.mayGetStatusAtSelection(n.selection);if(i&&(a&&i.localId!==a.localId||!a)&&d.isEmptyStatus(i)){var s=t.selection.from;o.delete(o.mapping.map(s),o.mapping.map(s+1)),r=!0}}return r?o:void 0},key:u.pluginKey,props:{nodeViews:{status:l.default(t,n,r)},decorations:function(e){var t=e.tr,n=t.doc.nodeAt(t.selection.from);if(r&&r.allowZeroWidthSpaceAfter&&n&&n.type===e.schema.nodes.status){var o=s.Decoration.widget(t.selection.from,(function(){return document.createTextNode(c.ZERO_WIDTH_SPACE)}),{side:1,key:"#status-zero-width-char-decoration"}),i=e.doc;return s.DecorationSet.create(i,[o])}return null}}})}})),r.register("9h1sV",(function(n,o){t(n.exports,"default",(function(){return N}));var i=r("auQQv"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("7RIig"),m=r("SssiD");r("igW5C");var v=r("b6rQF");r("c7gHn");var b,y=r("8W8Rs"),E=r("22Hec"),x=r("75Prg"),k=r("2G4N9");function C(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var S=m.default.span(b||(b=e(p)(["\n  opacity: ",";\n"])),(function(e){return e.placeholderStyle?.5:1})),T=function(t){e(l)(r,t);var n=C(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(f)(e(c)(o),"handleClick",(function(e){e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()})),o}return e(s)(r,[{key:"render",value:function(){var t=this.props,n=t.text,r=t.color,o=t.localId,i=t.style,a=t.intl.formatMessage,s=n||a(k.messages.placeholder);return e(h).createElement(S,{placeholderStyle:!n},e(h).createElement(y.Status,{text:s,color:r,localId:o,style:i,onClick:this.handleClick}))}}]),r}(e(h).Component);e(f)(T,"displayName","StatusContainerView");var O=g.injectIntl(T),w=function(t){e(l)(r,t);var n=C(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"createDomRef",value:function(){return this.reactComponentProps.options&&this.reactComponentProps.options.useInlineWrapper?x.createMobileInlineDomRef():e(i)(e(d)(r.prototype),"createDomRef",this).call(this)}},{key:"setDomAttrs",value:function(e,t){var n=e.attrs,r=n.color,o=n.localId,i=n.style;t.dataset.color=r,t.dataset.localId=o,t.dataset.style=i}},{key:"render",value:function(t){var n=t.options,r=this.node.attrs,o=r.text,i=r.color,a=r.localId,s=r.style;return e(h).createElement(x.default,{useInlineWrapper:n&&n.useInlineWrapper},e(h).createElement(O,{view:this.view,text:o,color:i,style:s,localId:a}),n&&n.allowZeroWidthSpaceAfter&&v.ZERO_WIDTH_SPACE)}}]),r}(E.default);function N(e,t,n){return function(r,o,i){return new w(r,o,i,e,t,{options:n}).init()}}})),r.register("c7gHn",(function(e,n){t(e.exports,"Status",(function(){return r("8W8Rs").Status}));r("8W8Rs")})),r.register("8W8Rs",(function(n,o){t(n.exports,"Status",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("8uJR9")),h=r("lsGYe"),g=r("29YKF"),m=r("5gUqJ");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b={neutral:"default",purple:"new",blue:"inprogress",red:"removed",yellow:"moved",green:"success"},y=function(t){e(c)(r,t);var n=v(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"hoverStartTime",0),e(d)(e(s)(t),"handleMouseEnter",(function(e){t.hoverStartTime=Date.now()})),e(d)(e(s)(t),"handleMouseLeave",(function(e){var n=t.props.onHover;Date.now()-t.hoverStartTime>=m.ANALYTICS_HOVER_DELAY&&n&&n(),t.hoverStartTime=0})),t}return e(a)(r,[{key:"componentWillUnmount",value:function(){this.hoverStartTime=0}},{key:"render",value:function(){var t=this.props,n=t.text,r=t.color,o=t.style,i=t.onClick;if(0===n.trim().length)return null;var a=b[r]||"default";return e(f).createElement("span",{className:"status-lozenge-span",title:n,onClick:i,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,"data-node-type":"status","data-color":r,"data-style":o},e(f).createElement(p.default,{appearance:a,maxWidth:200},n))}}]),r}(f.PureComponent);e(d)(y,"displayName","StatusInternal");var E=h.default({onClick:function(e,t){var n=t.localId;return g.createStatusAnalyticsAndFire(e)({action:"clicked",actionSubject:"statusLozenge",attributes:{localId:n}})},onHover:function(e,t){var n=t.localId;return g.createStatusAnalyticsAndFire(e)({action:"hovered",actionSubject:"statusLozenge",attributes:{localId:n}})}})(y)})),r.register("8uJR9",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7Yn6A"),h=r("1Bl8u"),g=r("4v3jT");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"render",value:function(){var t=this.props,n=t.theme,r=t.children,o=t.testId;return e(f).createElement(p.Theme.Provider,{value:n},e(f).createElement(p.Theme.Consumer,this.props,(function(t){return e(f).createElement(h.default,e(i)({testId:o},t),e(f).createElement(g.default,t,r))})))}}]),r}(f.PureComponent);e(d)(v,"defaultProps",{isBold:!1,appearance:"default",maxWidth:200})})),r.register("7Yn6A",(function(n,o){t(n.exports,"Theme",(function(){return g}));var i=r("EwJf3"),a=r("l15hj"),s=r("7e7iA");r("739GV");var c=r("62m6k");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={default:{light:s.N40,dark:s.N40},inprogress:{light:s.B50,dark:s.B50},moved:{light:s.Y75,dark:s.Y75},new:{light:s.P50,dark:s.P50},removed:{light:s.R50,dark:s.R50},success:{light:s.G50,dark:s.G50}},f={default:{light:s.N500,dark:s.N500},inprogress:{light:s.B500,dark:s.B500},moved:{light:s.N800,dark:s.N800},new:{light:s.P500,dark:s.P500},removed:{light:s.R500,dark:s.R500},success:{light:s.G500,dark:s.G500}},p={default:{light:s.N500,dark:s.N500},inprogress:{light:s.B400,dark:s.B400},moved:{light:s.Y500,dark:s.Y500},new:{light:s.P400,dark:s.P400},removed:{light:s.R400,dark:s.R400},success:{light:s.G400,dark:s.G400}},h={default:{light:s.N0,dark:s.N0},inprogress:{light:s.N0,dark:s.N0},moved:{light:s.N800,dark:s.N800},new:{light:s.N0,dark:s.N0},removed:{light:s.N0,dark:s.N0},success:{light:s.N0,dark:s.N0}},g=c.createTheme((function(t){var n=t.appearance,r=t.isBold,o=t.maxWidth;return u(u({},"object"===e(i)(n)?u({backgroundColor:(r?p:d).default.light,textColor:(r?h:f).default.light},n):{backgroundColor:(r?p[n]:d[n]).light,textColor:(r?h[n]:f[n]).light}),{},{maxWidth:o})}))})),r.register("7e7iA",(function(e,n){t(e.exports,"R50",(function(){return i})),t(e.exports,"R400",(function(){return s})),t(e.exports,"R500",(function(){return c})),t(e.exports,"Y75",(function(){return l})),t(e.exports,"Y400",(function(){return d})),t(e.exports,"Y500",(function(){return f})),t(e.exports,"G50",(function(){return p})),t(e.exports,"G400",(function(){return g})),t(e.exports,"G500",(function(){return m})),t(e.exports,"B50",(function(){return v})),t(e.exports,"B75",(function(){return b})),t(e.exports,"B100",(function(){return y})),t(e.exports,"B400",(function(){return x})),t(e.exports,"B500",(function(){return k})),t(e.exports,"P50",(function(){return C})),t(e.exports,"P400",(function(){return S})),t(e.exports,"P500",(function(){return T})),t(e.exports,"N0",(function(){return O})),t(e.exports,"N10",(function(){return w})),t(e.exports,"N30",(function(){return N})),t(e.exports,"N40",(function(){return P})),t(e.exports,"N50",(function(){return A})),t(e.exports,"N70",(function(){return I})),t(e.exports,"N100",(function(){return D})),t(e.exports,"N400",(function(){return M})),t(e.exports,"N500",(function(){return _})),t(e.exports,"N800",(function(){return j})),t(e.exports,"N900",(function(){return B})),t(e.exports,"N30A",(function(){return L})),t(e.exports,"DN600",(function(){return F})),t(e.exports,"DN90",(function(){return W})),t(e.exports,"DN40",(function(){return H})),t(e.exports,"DN30",(function(){return V})),t(e.exports,"DN10",(function(){return K})),t(e.exports,"skeleton",(function(){return G}));var o=r("7SJF0"),i="#FFEBE6",a="#FF5630",s="#DE350B",c="#BF2600",l="#FFF0B3",u="#FFAB00",d="#FF991F",f="#FF8B00",p="#E3FCEF",h="#36B37E",g="#00875A",m="#006644",v="#DEEBFF",b="#B3D4FF",y="#4C9AFF",E="#2684FF",x="#0052CC",k="#0747A6",C="#EAE6FF",S="#5243AA",T="#403294",O="#FFFFFF",w="#FAFBFC",N="#EBECF0",P="#DFE1E6",A="#C1C7D0",I="#A5ADBA",D="#7A869A",R="#6B778C",M="#505F79",_="#42526E",j="#172B4D",B="#091E42",L="rgba(9, 30, 66, 0.08)",F="#B8C7E0",z="#8C9CB8",W="#56637A",U="#283447",H="#202B3D",V="#1B2638",K="#0E1624",G=(o.default({light:O,dark:V}),o.default({light:v,dark:b}),o.default({light:N,dark:"#3B475C"}),o.default({light:O,dark:U}),o.default({light:B,dark:F}),o.default({light:j,dark:F}),o.default({light:x,dark:x}),o.default({light:R,dark:z}),o.default({light:D,dark:"#7988A3"}),o.default({light:j,dark:F}),o.default({light:R,dark:z}),o.default({light:"#F4F5F7",dark:U}),o.default({light:x,dark:y}),o.default({light:"#0065FF",dark:E}),o.default({light:k,dark:y}),o.default({light:y,dark:E}),o.default({light:x,dark:y}),o.default({light:x,dark:y}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:a,dark:a}),o.default({light:u,dark:u}),o.default({light:h,dark:h}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("7SJF0",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("2rlVV");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}}));r.register("2rlVV",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("739GV",(function(e,n){t(e.exports,"useGlobalTheme",(function(){return r("aBAfE").useGlobalTheme})),t(e.exports,"createTheme",(function(){return r("62m6k").createTheme}));r("aBAfE"),r("62m6k")})),r.register("aBAfE",(function(e,n){t(e.exports,"useGlobalTheme",(function(){return a}));var o=r("62m6k").createTheme((function(){return{mode:"light"}})),i=(o.Provider,o.Consumer,o.useTheme),a=function(){return i()}})),r.register("62m6k",(function(n,o){t(n.exports,"createTheme",(function(){return s}));var i=r("bRWI2"),a=r("61szk");function s(t){var n=function(e,t){return e(t)},r=a.createContext(t);function o(e){return(a.useContext(r)||n)(e)}return{Consumer:function(t){var n=t.children,r=o(e(i)(t,["children"]));return e(a).createElement(e(a).Fragment,null,n(r))},Provider:function(t){var o=a.useContext(r),i=t.value||n,s=a.useCallback((function(e){return i(o,e)}),[o,i]);return e(a).createElement(r.Provider,{value:s},t.children)},useTheme:o}}})),r.register("1Bl8u",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("eB44R"),s=r("5wA8S"),c="".concat(s.borderRadius(),"px"),l=function(t){var n=t.backgroundColor,r=t.textColor,o=t.children,s=t.testId;return e(i).createElement(a.CC,null,e(i).createElement(a.CS,null,["._bfhkaxbu{background-color:var(--_1ly4823)}","._2rko1nwa{border-radius:var(--_fer9fa)}","._vchhusvi{box-sizing:border-box}","._syaz1u00{color:var(--_srel9g)}","._1e0c1o8l{display:inline-block}","._1wyb1skh{font-size:11px}","._k48p1fw0{font-weight:700}","._vwz4kb7n{line-height:1}","._p12f1osq{max-width:100%}","._ca0qyh40{padding-top:2px}","._u5f3idpf{padding-right:0}","._n3td1l7b{padding-bottom:3px}","._19bvidpf{padding-left:0}","._1p1dangw{text-transform:uppercase}","._s7n41q9y{vertical-align:baseline}"]),e(i).createElement("span",{"data-testid":s,className:a.ax(["_bfhkaxbu _2rko1nwa _vchhusvi _syaz1u00 _1e0c1o8l _1wyb1skh _k48p1fw0 _vwz4kb7n _p12f1osq _ca0qyh40 _u5f3idpf _n3td1l7b _19bvidpf _1p1dangw _s7n41q9y"]),style:{"--_1ly4823":n,"--_fer9fa":c,"--_srel9g":r}},o))}})),r.register("5wA8S",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i})),t(e.exports,"fontSize",(function(){return a})),t(e.exports,"fontFamily",(function(){return s})),t(e.exports,"codeFontFamily",(function(){return c}));r("8VhMN"),r("7e7iA");var o=function(){return 3},i=function(){return 8},a=function(){return 14},s=function(){return"-apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif"},c=function(){return"'SFMono-Medium', 'SF Mono', 'Segoe UI Mono', 'Roboto Mono', 'Ubuntu Mono', Menlo, Consolas, Courier, monospace"}})),r.register("8VhMN",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("ekfdu");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("ekfdu",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("4v3jT",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("eB44R"),s=r("5wA8S"),c="".concat(s.gridSize()/2,"px"),l=function(t){var n=t.maxWidth,r=t.children;return e(i).createElement(a.CC,null,e(i).createElement(a.CS,null,["._1e0c1o8l{display:inline-block}","._s7n4jp4b{vertical-align:top}","._1reo15vq{overflow-x:hidden}","._18m915vq{overflow-y:hidden}","._1bto1l2s{text-overflow:ellipsis}","._o5721q9c{white-space:nowrap}","._vchhusvi{box-sizing:border-box}","._ca0qidpf{padding-top:0}","._u5f370xm{padding-right:var(--_1xlms2h)}","._n3tdidpf{padding-bottom:0}","._19bv70xm{padding-left:var(--_1xlms2h)}","._p12fvyns{max-width:var(--_1w406pq)}","._1bsb1osq{width:100%}"]),e(i).createElement("span",{className:a.ax(["_1e0c1o8l _s7n4jp4b _1reo15vq _18m915vq _1bto1l2s _o5721q9c _vchhusvi _ca0qidpf _u5f370xm _n3tdidpf _19bv70xm _p12fvyns _1bsb1osq"]),style:{"--_1xlms2h":c,"--_1w406pq":"number"==typeof n?"".concat(n,"px"):n}},r))}})),r.register("lsGYe",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("6uXWt"),c=r("gJNZY"),l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(n){var r=a.forwardRef((function(r,o){var l=c.usePatchedProps(t,r).patchedEventProps,u=s.useAnalyticsEvents().createAnalyticsEvent;return e(a).createElement(n,e(i)({},r,l,{createAnalyticsEvent:u,ref:o}))}));return r.displayName="WithAnalyticsEvents(".concat(n.displayName||n.name,")"),r}}})),r.register("6uXWt",(function(e,n){t(e.exports,"useAnalyticsEvents",(function(){return s}));var o=r("aAeQc"),i=r("bUhUQ"),a=r("451DN");function s(){var e=a.useAnalyticsContext();return{createAnalyticsEvent:o.useCallbackOne((function(t){return new i.default({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}})),r.register("bUhUQ",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("auQQv"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var g=function(t){e(u)(r,t);var n=h(r);function r(t){var o;return e(a)(this,r),o=n.call(this,t),e(p)(e(c)(o),"clone",(function(){return o.hasFired?null:new r({context:e(i)(o.context),handlers:e(i)(o.handlers),payload:JSON.parse(JSON.stringify(o.payload))})})),e(p)(e(c)(o),"fire",(function(t){o.hasFired||(o.handlers.forEach((function(n){return n(e(c)(o),t)})),o.hasFired=!0)})),o.context=t.context||[],o.handlers=t.handlers||[],o.hasFired=!1,o}return e(s)(r,[{key:"update",value:function(t){return this.hasFired?this:e(l)(e(f)(r.prototype),"update",this).call(this,t)}}]),r}(r("89G72").default)})),r.register("89G72",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("EwJf3"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"clone",(function(){return new t({payload:u({},r.payload)})})),this.payload=n.payload}return e(s)(t,[{key:"update",value:function(t){return"function"==typeof t&&(this.payload=t(this.payload)),"object"===e(i)(t)&&(this.payload=u(u({},this.payload),t)),this}}]),t}()})),r.register("451DN",(function(e,n){t(e.exports,"useAnalyticsContext",(function(){return a}));var o=r("61szk"),i=r("7lFfQ"),a=function(){return o.useContext(i.default)}})),r.register("gJNZY",(function(n,o){t(n.exports,"usePatchedProps",(function(){return d}));var i=r("l15hj"),a=r("EwJf3"),s=r("61szk"),c=r("6uXWt");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=c.useAnalyticsEvents(),o=r.createAnalyticsEvent,l=s.useRef({}),d=s.useMemo((function(){var r=l.current;return Object.keys(r).filter((function(e){return!(e in t)})).forEach((function(e){return delete r[e]})),Object.keys(t).reduce((function(s,c){var l=t[c];if(!["object","function"].includes(e(a)(l)))return s;var d=n[c];if(c in r&&r[c].eventCreator===l&&r[c].propValue===d)return u(u({},s),{},e(i)({},c,r[c].wrappedCallback));var f=function(){var e="function"==typeof l?l(o,n):o(l);if(d&&"function"==typeof d){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];d.apply(void 0,r.concat([e]))}};return r[c]={eventCreator:l,wrappedCallback:f,propValue:d},u(u({},s),{},e(i)({},c,f))}),{})}),[t,n,o,l]);return{patchedEventProps:d}}})),r.register("847H2",(function(n,o){t(n.exports,"usePlatformLeafEventHandler",(function(){return u}));var i=r("l15hj"),a=r("61szk"),s=r("6uXWt"),c=r("1JJC4");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){var n=t.fn,r=t.action,o=t.componentName,u=t.actionSubject,d=t.packageName,f=t.packageVersion,p=t.analyticsData,h=s.useAnalyticsEvents().createAnalyticsEvent,g=c.useTrackedRef(p),m=c.useTrackedRef(n),v=a.useCallback((function(t){var n=h({action:r,actionSubject:u||o,attributes:{componentName:o,packageName:d,packageVersion:f}}),a=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({componentName:o,packageName:d,packageVersion:f},g.current);n.context.push(a);var s=n.clone();s&&s.fire("atlaskit"),m.current(t,n)}),[r,o,u,d,f,h,g,m]);return v}})),r.register("1JJC4",(function(e,n){t(e.exports,"useTrackedRef",(function(){return i}));var o=r("61szk"),i=function(e){var t=o.useRef(e);return o.useEffect((function(){t.current=e}),[e]),t}})),r.register("29YKF",(function(n,o){t(n.exports,"createStatusAnalyticsAndFire",(function(){return l}));var i=r("l15hj"),a=r("91z4u");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e){return function(t){var n=c(c({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=a.name,n.attributes.packageVersion=a.version,n.attributes.componentName="status";var r=e(n);return r.fire("fabric-elements"),r}}})),r.register("91z4u",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/status","version":"0.11.0"}')})),r.register("5gUqJ",(function(e,n){t(e.exports,"ANALYTICS_HOVER_DELAY",(function(){return r}));var r=1e3})),r.register("2G4N9",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({placeholder:{id:"fabric.editor.statusPlaceholder",defaultMessage:"Set a status",description:"Placeholder description for an empty (new) status item in the editor"}})})),r.register("hq5W4",(function(n,o){t(n.exports,"default",(function(){return D}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD");r("lqsXI");var g=r("3nqc5");r("igW5C");var m=r("5Dx14");r("8iml0");var v=r("82cWi");r("5wiUI");var b,y=r("gWhQk"),E=r("kFKbx"),x=r("cufhv"),k=r("xZbZL"),C=r("lmfsj"),S=r("gx217"),T=r("iKio2");function O(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var w,N,P=C.default(m.default);(N=w||(w={})).blur="blur",N.escKey="escKey",N.enterKey="enterKey";var A=h.default.div(b||(b=e(f)(["\n  background: ",";\n  padding: ","px 0;\n  border-radius: ","px;\n  ",";\n  input {\n    text-transform: uppercase;\n  }\n"])),x.N0,E.gridSize(),E.borderRadius(),k.dropShadow),I=function(t){e(c)(r,t);var n=O(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"handleClickOutside",(function(e){e.preventDefault(),o.inputMethod=w.blur,o.props.closeStatusPicker()})),e(d)(e(s)(o),"handleEscapeKeydown",(function(e){e.preventDefault(),o.inputMethod=w.escKey,o.props.onEnter(o.state)})),e(d)(e(s)(o),"onColorHover",(function(e){o.createStatusAnalyticsAndFireFunc({action:"hovered",actionSubject:"statusColorPicker",attributes:{color:e,localId:o.state.localId,state:T.analyticsState(o.props.isNew)}})})),e(d)(e(s)(o),"onColorClick",(function(e){var t=o.state,n=t.text,r=t.localId;e===o.state.color?(o.createStatusAnalyticsAndFireFunc({action:"clicked",actionSubject:"statusColorPicker",attributes:{color:e,localId:r,state:T.analyticsState(o.props.isNew)}}),o.onEnter()):(o.setState({color:e}),o.props.onSelect({text:n,color:e,localId:r}))})),e(d)(e(s)(o),"onTextChanged",(function(e){var t=o.state,n=t.color,r=t.localId;o.setState({text:e}),o.props.onTextChanged({text:e,color:n,localId:r},!!o.props.isNew)})),e(d)(e(s)(o),"onEnter",(function(){o.inputMethod=w.enterKey,o.props.onEnter(o.state)})),e(d)(e(s)(o),"handlePopupClick",(function(e){return e.nativeEvent.stopImmediatePropagation()})),o.state=o.extractStateFromProps(t),o.createStatusAnalyticsAndFireFunc=T.createStatusAnalyticsAndFire(t.createAnalyticsEvent),o}return e(a)(r,[{key:"fireStatusPopupOpenedAnalytics",value:function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.startTime=Date.now(),this.createStatusAnalyticsAndFireFunc({action:"opened",actionSubject:"statusPopup",attributes:{textLength:n?n.length:0,selectedColor:t,localId:r,state:T.analyticsState(o)}})}},{key:"fireStatusPopupClosedAnalytics",value:function(e){var t=e.color,n=e.text,r=e.localId,o=e.isNew;this.createStatusAnalyticsAndFireFunc({action:"closed",actionSubject:"statusPopup",attributes:{inputMethod:this.inputMethod,duration:Date.now()-this.startTime,textLength:n?n.length:0,selectedColor:t,localId:r,state:T.analyticsState(o)}})}},{key:"reset",value:function(){this.startTime=Date.now(),this.inputMethod=w.blur}},{key:"componentDidMount",value:function(){this.reset(),this.fireStatusPopupOpenedAnalytics(this.state)}},{key:"componentWillUnmount",value:function(){this.fireStatusPopupClosedAnalytics(this.state),this.startTime=0}},{key:"componentDidUpdate",value:function(e,t,n){var r=this.props.target;if(e.target!==r){var o=this.extractStateFromProps(this.props);this.setState(o),this.fireStatusPopupClosedAnalytics(t),this.reset(),this.fireStatusPopupOpenedAnalytics(o)}}},{key:"extractStateFromProps",value:function(e){var t=e.defaultColor,n=e.defaultText,r=e.defaultLocalId,o=e.isNew;return{color:t||S.DEFAULT_STATUS.color,text:n||S.DEFAULT_STATUS.text,localId:r,isNew:o}}},{key:"render",value:function(){var t=this.props,n=t.isNew,r=t.target,o=this.state,i=o.color,a=o.text;return r&&e(p).createElement(P,{target:r,offset:[0,8],handleClickOutside:this.handleClickOutside,handleEscapeKeydown:this.handleEscapeKeydown,zIndex:v.akEditorFloatingDialogZIndex,fitHeight:40},e(p).createElement(A,{onClick:this.handlePopupClick},e(p).createElement(y.StatusPicker,{autoFocus:n,selectedColor:i,text:a,onColorClick:this.onColorClick,onColorHover:this.onColorHover,onTextChanged:this.onTextChanged,onEnter:this.onEnter})))}}]),r}(e(p).Component),D=g.default()(I)})),r.register("5wiUI",(function(e,n){t(e.exports,"StatusPicker",(function(){return r("gWhQk").StatusPicker}));r("gWhQk")})),r.register("gWhQk",(function(n,o){t(n.exports,"StatusPicker",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("bUAte"),h=r("5wA8S"),g=r("61szk"),m=(g=r("61szk"),r("SssiD")),v=r("fty2Q");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function y(){var t=e(f)(["\n  margin: 0 ","px;\n"]);return y=function(){return t},t}var E=m.default.div(y(),h.gridSize()),x=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"fieldTextWrapperKey",Math.random().toString()),e(d)(e(s)(t),"colorPaletteKey",Math.random().toString()),e(d)(e(s)(t),"onChange",(function(e){t.props.onTextChanged(e.target.value)})),e(d)(e(s)(t),"onKeyPress",(function(e){"Enter"===e.key&&t.props.onEnter()})),e(d)(e(s)(t),"handleInputRef",(function(e){e&&t.props.autoFocus&&setTimeout((function(){e.focus()}))})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.text,r=t.selectedColor,o=t.onColorClick,i=t.onColorHover;return e(g).createElement(e(g).Fragment,null,e(g).createElement(E,{key:this.fieldTextWrapperKey},e(g).createElement(p.default,{css:null,value:n,isCompact:!0,ref:this.handleInputRef,onChange:this.onChange,onKeyPress:this.onKeyPress,spellCheck:!1,autoComplete:"off"})),e(g).createElement(v.default,{key:this.colorPaletteKey,onClick:o,onHover:i,selectedColor:r}))}}]),r}(g.PureComponent);e(d)(x,"defaultProps",{autoFocus:!0})})),r.register("bUAte",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("jgze0"),a=r("EwJf3"),s=r("l15hj"),c=r("bRWI2"),l=r("61szk"),u=r("4JuWt"),d=r("847H2");r("739GV");var f=r("aBAfE"),p=r("3Uit4");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m={componentName:"textField",packageName:"@atlaskit/textfield",packageVersion:"5.1.1"},v=l.forwardRef((function(t,n){var r=t.appearance,o=void 0===r?"standard":r,s=t.isCompact,h=void 0!==s&&s,v=t.isDisabled,b=void 0!==v&&v,y=t.isInvalid,E=void 0!==y&&y,x=t.isRequired,k=void 0!==x&&x,C=t.isReadOnly,S=void 0!==C&&C,T=t.isMonospaced,O=void 0!==T&&T,w=t.width,N=t.elemAfterInput,P=t.elemBeforeInput,A=t.testId,I=t.onFocus,D=t.onBlur,R=t.onMouseDown,M=t.className,_=e(c)(t,["appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","width","elemAfterInput","elemBeforeInput","testId","onFocus","onBlur","onMouseDown","className"]),j=l.useRef(null),B=f.useGlobalTheme().mode,L=d.usePlatformLeafEventHandler(g({fn:function(e){I&&I(e)},action:"focused"},m)),F=d.usePlatformLeafEventHandler(g({fn:function(e){D&&D(e)},action:"blurred"},m)),z=l.useCallback((function(e){"INPUT"!==e.target.tagName&&e.preventDefault(),j&&j.current&&!b&&document.activeElement!==j.current&&j.current.focus(),R&&R(e)}),[R,b]),W=l.useCallback((function(t){j.current=t,n&&("object"===e(a)(n)&&(n.current=t),"function"==typeof n&&n(t))}),[n]),U=l.useMemo((function(){return p.containerStyles(o,B,w)}),[o,B,w]),H=l.useMemo((function(){return p.inputStyles(B)}),[B]);return u.jsx("div",{"data-disabled":b||void 0,"data-invalid":E||void 0,"data-ds--text-field--container":!0,"data-testid":A&&"".concat(A,"-container"),onMouseDown:z,css:U,className:M},P,u.jsx("input",e(i)({},_,{"data-compact":h||void 0,"data-monospaced":O||void 0,"data-ds--text-field--input":!0,"data-testid":A,"aria-invalid":E||void 0,disabled:b,readOnly:S,required:k,onBlur:F,onFocus:L,ref:W,css:H})),N)}));v.displayName="Textfield";var b=l.memo(v)})),r.register("3Uit4",(function(n,o){t(n.exports,"containerStyles",(function(){return C})),t(n.exports,"inputStyles",(function(){return S}));var i=r("l15hj"),a=r("7e7iA"),s=r("5wA8S"),c=r("8VhMN"),l=r("lgQ5C");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=s.fontSize(),p=s.gridSize(),h={light:{backgroundColor:l.disabledBackgroundColor.light,backgroundColorHover:l.disabledBackgroundColor.light,borderColor:l.disabledBackgroundColor.light,textColor:l.disabledTextColor.light},dark:{backgroundColor:l.disabledBackgroundColor.dark,backgroundColorHover:l.disabledBackgroundColor.dark,borderColor:l.disabledBackgroundColor.dark,textColor:l.disabledTextColor.dark}},g={light:{backgroundColor:l.defaultBackgroundColor.light,backgroundColorHover:l.defaultBackgroundColorHover.light,backgroundColorFocus:l.defaultBackgroundColorFocus.light,borderColor:c.default("color.iconBorder.danger",a.R400),borderColorFocus:l.defaultBorderColorFocus.light},dark:{backgroundColor:l.defaultBackgroundColor.dark,backgroundColorHover:l.defaultBackgroundColorHover.dark,backgroundColorFocus:l.defaultBackgroundColorFocus.dark,borderColor:c.default("color.iconBorder.danger",a.R400),borderColorFocus:l.defaultBorderColorFocus.dark}},m={standard:l.defaultBackgroundColor,subtle:l.transparent,none:l.transparent},v={standard:l.defaultBackgroundColorFocus,subtle:l.defaultBackgroundColorFocus,none:l.transparent},b={standard:l.defaultBackgroundColorHover,subtle:l.subtleBackgroundColorHover,none:l.transparent},y={standard:l.defaultBorderColor,subtle:l.transparent,none:l.transparent},E={standard:l.defaultBorderColorFocus,subtle:l.defaultBorderColorFocus,none:l.transparent},x={xsmall:80,small:160,medium:240,large:320,xlarge:480},k=function(e){return e?e in x?x[e]:+e:"100%"},C=function(e,t,n){return d(d({alignItems:"center"},function(e,t){return{backgroundColor:m[e][t],borderColor:y[e][t],color:l.textColor[t],cursor:"text","&:hover":{backgroundColor:b[e][t]},"&:focus-within":{backgroundColor:v[e][t],borderColor:E[e][t]},"&[data-disabled]":{backgroundColor:h[t].backgroundColor,borderColor:h[t].borderColor,color:h[t].textColor,cursor:"not-allowed"},"&[data-invalid]":{borderColor:g[t].borderColor},"&[data-invalid]:focus-within":{backgroundColor:g[t].backgroundColorFocus,borderColor:g[t].borderColorFocus},"@media screen and (-ms-high-contrast: active)":{"&[data-invalid]:focus-within":{borderColor:"Highlight"},"&:focus-within":{borderColor:"Highlight"},"&[data-disabled]":{borderColor:"GrayText"}}}}(e,t)),{},{borderRadius:3,borderWidth:2,borderStyle:"none"===e?"none":"solid",boxSizing:"border-box",display:"flex",flex:"1 1 100%",fontSize:f,justifyContent:"space-between",maxWidth:k(n),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"})},S=function(e){return{backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:f,minWidth:"0",outline:"none",width:"100%",lineHeight:2.5*p/f,fontFamily:s.fontFamily(),"&[data-monospaced]":{fontFamily:s.codeFontFamily()},"&[data-compact]":{padding:"".concat(p/2,"px ").concat(p-2,"px"),height:"".concat((3.5*p/f).toFixed(2),"em")},"&:not([data-compact])":{padding:"".concat(p,"px ").concat(p-2,"px"),height:"".concat((4.5*p/f).toFixed(2),"em")},"&[disabled]":{WebkitTextFillColor:h[e].textColor},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"},"&::placeholder":{color:l.placeholderTextColor[e],"&:disabled":{color:h[e].textColor}},"@media screen and (-ms-high-contrast: active)":{"&[disabled]":{color:"GrayText"}}}};l.placeholderTextColor,l.textColor})),r.register("lgQ5C",(function(e,n){t(e.exports,"disabledBackgroundColor",(function(){return a})),t(e.exports,"defaultBackgroundColor",(function(){return s})),t(e.exports,"defaultBackgroundColorFocus",(function(){return c})),t(e.exports,"defaultBackgroundColorHover",(function(){return l})),t(e.exports,"subtleBackgroundColorHover",(function(){return u})),t(e.exports,"defaultBorderColor",(function(){return d})),t(e.exports,"defaultBorderColorFocus",(function(){return f})),t(e.exports,"transparent",(function(){return p})),t(e.exports,"textColor",(function(){return h})),t(e.exports,"disabledTextColor",(function(){return g})),t(e.exports,"placeholderTextColor",(function(){return m}));var o=r("7e7iA"),i=r("8VhMN"),a={light:i.default("color.background.disabled",o.N10),dark:i.default("color.background.disabled",o.DN10)},s={light:i.default("color.background.subtleBorderedNeutral.resting",o.N10),dark:i.default("color.background.subtleBorderedNeutral.resting",o.DN10)},c={light:i.default("color.background.default",o.N0),dark:i.default("color.background.default",o.DN10)},l={light:i.default("color.background.default",o.N30),dark:i.default("color.background.default",o.DN30)},u={light:i.default("color.background.transparentNeutral.hover",o.N30),dark:i.default("color.background.transparentNeutral.hover",o.DN30)},d={light:i.default("color.border.neutral",o.N40),dark:i.default("color.border.neutral",o.DN40)},f={light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},p={light:"transparent",dark:"transparent"},h={light:i.default("color.text.highEmphasis",o.N900),dark:i.default("color.text.highEmphasis",o.DN600)},g={light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN90)},m={light:i.default("color.text.lowEmphasis",o.N100),dark:i.default("color.text.lowEmphasis",o.DN90)}})),r.register("fty2Q",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("h67q9"),a=r("lhkMJ"),s=r("5wA8S"),c=r("7e7iA"),l=r("61szk"),u=r("SssiD"),d=r("164vz");function f(){var t=e(a)(["\n  margin: ","px ","px 0 ","px;\n  /* Firefox bug fix: https://product-fabric.atlassian.net/browse/ED-1789 */\n  display: flex;\n  flex-wrap: wrap;\n"]);return f=function(){return t},t}var p=[["neutral",c.N40,c.N400],["purple",c.P50,c.P400],["blue",c.B50,c.B400],["red",c.R50,c.R400],["yellow",c.Y75,c.Y400],["green",c.G50,c.G400]],h=u.default.div(f(),s.gridSize(),s.gridSize(),s.gridSize()),g=function(t){var n=t.cols,r=void 0===n?7:n,o=t.onClick,a=t.selectedColor,s=t.className,c=t.onHover;return e(l).createElement(h,{className:s,style:{maxWidth:32*r}},p.map((function(t){var n=e(i)(t,3),r=n[0],s=n[1],u=n[2];return e(l).createElement(d.default,{key:r,value:r,backgroundColor:s,borderColor:u,onClick:o,onHover:c,isSelected:r===a})})))}})),r.register("164vz",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("7msEu"),h=r("7e7iA"),g=r("61szk"),m=(g=r("61szk"),r("7RIig")),v=r("SssiD"),b=r("5gUqJ"),y=r("cjy70");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function x(){var t=e(f)(["\n  border: 1px solid transparent;\n  margin: 0 2px;\n  font-size: 0;\n  display: flex;\n  align-items: center;\n  padding: 1px;\n  border-radius: 6px;\n  &:hover {\n    border: 1px solid ",";\n  }\n"]);return x=function(){return t},t}function k(){var t=e(f)(["\n  height: 24px;\n  width: 24px;\n  background: ",";\n  padding: 0;\n  border-radius: 4px;\n  border: 1px solid ",";\n  cursor: pointer;\n  display: block;\n  box-sizing: border-box;\n  overflow: hidden;\n"]);return k=function(){return t},t}var C=v.default.button(k(),h.N900,h.N0),S=v.default.span(x(),h.N50),T=function(t){e(c)(r,t);var n=E(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"hoverStartTime",0),e(d)(e(s)(t),"onMouseEnter",(function(){t.hoverStartTime=Date.now()})),e(d)(e(s)(t),"onMouseLeave",(function(){var e=t.props.onHover;Date.now()-t.hoverStartTime>=b.ANALYTICS_HOVER_DELAY&&e&&e(t.props.value),t.hoverStartTime=0})),e(d)(e(s)(t),"onMouseDown",(function(e){e.preventDefault()})),e(d)(e(s)(t),"onClick",(function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)})),t}return e(a)(r,[{key:"render",value:function(){var t=this,n=this.props,r=n.tabIndex,o=n.backgroundColor,i=n.isSelected,a=n.borderColor,s=n.value,c="1px solid ".concat(a);return e(g).createElement(S,null,e(g).createElement(m.FormattedMessage,y.messages["".concat(s,"Color")],(function(n){return e(g).createElement(C,{onClick:t.onClick,onMouseEnter:t.onMouseEnter,onMouseLeave:t.onMouseLeave,onMouseDown:t.onMouseDown,tabIndex:r,className:"".concat(i?"selected":""),title:n,style:{backgroundColor:o||"transparent",border:c}},i&&e(g).createElement(e(p),{primaryColor:a,label:n}))})))}},{key:"componentWillUnmount",value:function(){this.hoverStartTime=0}}]),r}(g.PureComponent)})),r.register("cjy70",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({neutralColor:{id:"fabric.status.color.grey",defaultMessage:"Grey",description:"Tooltip for the grey color in color palette"},purpleColor:{id:"fabric.status.color.purple",defaultMessage:"Purple",description:"Tooltip for the purple color in color palette"},blueColor:{id:"fabric.status.color.blue",defaultMessage:"Blue",description:"Tooltip for the blue color in color palette"},redColor:{id:"fabric.status.color.red",defaultMessage:"Red",description:"Tooltip for the red color in color palette"},yellowColor:{id:"fabric.status.color.yellow",defaultMessage:"Yellow",description:"Tooltip for the yellow color in color palette"},greenColor:{id:"fabric.status.color.green",defaultMessage:"Green",description:"Tooltip for the green color in color palette"}})})),r.register("iKio2",(function(n,o){t(n.exports,"createStatusAnalyticsAndFire",(function(){return l})),t(n.exports,"analyticsState",(function(){return u}));var i=r("l15hj"),a=r("8n9XV");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e){return function(t){if(e&&t){var n=c(c({},t),{},{eventType:"ui"});n.attributes||(n.attributes={}),n.attributes.packageName=a.name,n.attributes.packageVersion=a.version,n.attributes.componentName="status",e(n).fire("fabric-elements")}}},u=function(e){return e?"new":"update"}})),r.register("beWlT",(function(n,o){t(n.exports,"default",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("61szk"),l=r("eBSbE"),u=r("ekJGA");r("igW5C");var d=r("3cpVm"),f=r("4s4wW"),p=r("9D9P7"),h=r("deFao"),g=r("4j1e7"),m=r("amgxC"),v=r("eNOQT"),b=r("eToGL");function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var x=function(){function t(n,r,o){var a=this;e(i)(this,t),e(s)(this,"updateWidth",(function(e){var t=d.calcBreakoutWidth(a.node.attrs.mode,e.width),n="width: ".concat(t,"; "),r=e.lineLength,o=v.parsePx(t);r&&o?n+="transform: none; margin-left: ".concat(-(o-r)/2,"px;"):n+="transform: translateX(-50%); margin-left: 50%;";var i=a.view.domObserver;i&&a.view.dom&&(i.stop(),setTimeout((function(){i.start()}),0)),void 0!==a.dom.style.cssText?a.dom.style.cssText=n:a.dom.setAttribute("style",n)}));var c=document.createElement("div");c.className=g.BreakoutCssClassName.BREAKOUT_MARK_DOM;var l=document.createElement("div");l.className=g.BreakoutCssClassName.BREAKOUT_MARK,l.setAttribute("data-layout",n.attrs.mode),l.appendChild(c),this.dom=l,this.node=n,this.view=r,this.contentDOM=c,this.eventDispatcher=o,o.on(p.pluginKey.key,this.updateWidth),this.updateWidth(p.pluginKey.getState(this.view.state))}return e(a)(t,[{key:"destroy",value:function(){this.eventDispatcher.off(p.pluginKey.key,this.updateWidth)}}]),t}();function k(e){var t=e.dispatch,n=e.eventDispatcher;return new l.Plugin({state:{init:function(){return{breakoutNode:null}},apply:function(e,n){var r,o,i=b.findSupportedNodeForBreakout(e.selection),a=i?i.node:null;if(r=a,o=n.breakoutNode,r&&o?!r.eq(o):r||o){var s=E(E({},n),{},{breakoutNode:a});return t(m.pluginKey,s),s}return n}},key:m.pluginKey,props:{nodeViews:{breakout:function(e,t){return new x(e,t,n)}}}})}var C=function(t){return{name:"breakout",pmPlugins:function(){return[{name:"breakout",plugin:k}]},marks:function(){return[{name:"breakout",mark:u.breakout}]},contentComponent:function(n){var r=n.editorView,o=n.popupsMountPoint,i=n.popupsBoundariesElement,a=n.popupsScrollableElement;return t&&!t.allowBreakoutButton?null:e(c).createElement(f.default,{plugins:{pluginState:m.pluginKey},render:function(t){var n,s=t.pluginState;return e(c).createElement(h.default,{editorView:r,mountPoint:o,boundariesElement:i,scrollableElement:a,node:null!==(n=null==s?void 0:s.breakoutNode)&&void 0!==n?n:null})}})}}}})),r.register("deFao",(function(n,o){t(n.exports,"default",(function(){return F}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("cufhv"),g=r("7RIig"),m=r("iFBc4");r("igW5C");var v,b=r("5Dx14"),y=r("idEG6"),E=r("6plOy"),x=r("gCo6x"),k=r("SssiD"),C=r("e218p"),S=r("e1sWj"),T=r("4WHpL"),O=r("ch3px"),w=r("4j1e7"),N=r("4ghK7"),P=r("amgxC"),A=r("eBSbE"),I=r("Yf7E2");function D(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var R=h.B300,M=h.N300,_=h.N20A,j=k.default.div(v||(v=e(f)(["\n  && button {\n    background: ",";\n    color: ",";\n    :hover {\n      background: ",";\n      color: white !important;\n    }\n  }\n"])),_,M,R),B={FULL_WIDTH:"full-width",CENTER:"center",WIDE:"wide"};var L=function(t){e(c)(r,t);var n=D(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleClick",(function(e){return function(){var n=t.props.editorView,r=n.state,o=n.dispatch;-1!==[B.WIDE,B.FULL_WIDTH].indexOf(e)?S.setBreakoutMode(e)(r,o):T.removeBreakout()(r,o)}})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.intl.formatMessage,r=t.mountPoint,o=t.boundariesElement,i=t.scrollableElement,a=t.editorView,s=t.node,c=a.state;if(!s||!N.isBreakoutMarkAllowed(c))return null;var l,u=C.getBreakoutMode(a.state),d=function(e){switch(e){case B.FULL_WIDTH:return O.default.layoutFixedWidth;case B.WIDE:return O.default.layoutFullWidth;default:return O.default.layoutWide}}(u),f=n(d),h=(l=u)===B.FULL_WIDTH?B.CENTER:l===B.WIDE?B.FULL_WIDTH:B.WIDE,g=function(e,t,n){return t instanceof A.NodeSelection&&I.isSupportedNodeForBreakout(t.node)?m.findDomRefAtPos(t.from,n.domAtPos.bind(n)):m.findParentDomRefOfType(e.breakoutNode.type,n.domAtPos.bind(n))(t)}(P.getPluginState(c),c.selection,a);if(!g)return null;var v=g.querySelector(".".concat(w.BreakoutCssClassName.BREAKOUT_MARK_DOM));return v&&v.firstChild&&(g=v.firstChild),e(p).createElement(b.default,{ariaLabel:f,target:g,offset:[5,0],alignY:"start",alignX:"end",mountTo:r,boundariesElement:o,scrollableElement:i,stick:!0,forcePlacement:!0},e(p).createElement(j,null,e(p).createElement(x.default,{title:f,testId:d.id,onClick:this.handleClick(h),iconBefore:u===B.FULL_WIDTH?e(p).createElement(e(y),{label:f}):e(p).createElement(e(E),{label:f})})))}}]),r}(e(p).Component);e(d)(L,"displayName","LayoutButton");var F=g.injectIntl(L)})),r.register("e218p",(function(e,n){t(e.exports,"getBreakoutMode",(function(){return i}));var o=r("eToGL");function i(e){var t=o.findSupportedNodeForBreakout(e.selection);if(t){var n=t.node.marks.find((function(e){return"breakout"===e.type.name}));if(n)return n.attrs.mode}}})),r.register("eToGL",(function(e,n){t(e.exports,"findSupportedNodeForBreakout",(function(){return s}));var o=r("eBSbE"),i=r("iFBc4"),a=r("Yf7E2");function s(e){if(e instanceof o.NodeSelection&&a.isSupportedNodeForBreakout(e.node))return{pos:e.from,start:e.from,node:e.node,depth:e.$anchor.depth};var t=i.findParentNode(a.isSupportedNodeForBreakout)(e);if(t&&0!==t.depth)return{node:t.node,start:t.start,pos:t.pos,depth:t.depth-1}}})),r.register("Yf7E2",(function(e,n){t(e.exports,"isSupportedNodeForBreakout",(function(){return o}));var r=["codeBlock","layoutSection","expand"];function o(e){return-1!==r.indexOf(e.type.name)}})),r.register("e1sWj",(function(e,n){t(e.exports,"setBreakoutMode",(function(){return a}));var o=r("eToGL"),i=r("eBSbE");function a(e){return function(t,n){var r=o.findSupportedNodeForBreakout(t.selection);if(!r)return!1;var a=t.tr.setNodeMarkup(r.pos,r.node.type,r.node.attrs,[t.schema.marks.breakout.create({mode:e})]);return a.setMeta("scrollIntoView",!1),t.selection instanceof i.NodeSelection&&t.selection.$anchor.pos===r.pos&&a.setSelection(i.NodeSelection.create(a.doc,r.pos)),n&&n(a),!0}}})),r.register("4WHpL",(function(e,n){t(e.exports,"removeBreakout",(function(){return a}));var o=r("eToGL"),i=r("eBSbE");function a(){return function(e,t){var n=o.findSupportedNodeForBreakout(e.selection);if(!n)return!1;var r=n.node.marks.filter((function(e){return"breakout"!==e.type.name})),a=e.tr.setNodeMarkup(n.pos,n.node.type,n.node.attrs,r);return a.setMeta("scrollIntoView",!1),e.selection instanceof i.NodeSelection&&e.selection.$anchor.pos===n.pos&&a.setSelection(i.NodeSelection.create(a.doc,n.pos)),t&&t(a),!0}}})),r.register("4j1e7",(function(e,n){t(e.exports,"BreakoutCssClassName",(function(){return r}));var r={BREAKOUT_MARK:"fabric-editor-breakout-mark",BREAKOUT_MARK_DOM:"fabric-editor-breakout-mark-dom"}})),r.register("4ghK7",(function(e,n){t(e.exports,"isBreakoutMarkAllowed",(function(){return i}));var o=r("eToGL");function i(e){if(!e.schema.marks.breakout)return!1;var t=o.findSupportedNodeForBreakout(e.selection);return!!t&&e.selection.$from.node(t.depth).type.allowsMarkType(e.schema.marks.breakout)}})),r.register("amgxC",(function(e,n){t(e.exports,"pluginKey",(function(){return o})),t(e.exports,"getPluginState",(function(){return i}));var o=new(r("eBSbE").PluginKey)("breakoutPlugin"),i=function(e){return o.getState(e)}})),r.register("klHCz",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("61szk"),a=r("ekJGA"),s=r("4s4wW"),c=r("9vnxb"),l=r("dEgeP"),u=r("gEp5V"),d={align:"start"},f=function(){return{name:"alignment",marks:function(){return[{name:"alignment",mark:a.alignment}]},pmPlugins:function(){return[{name:"alignmentPlugin",plugin:function(e){var t=e.dispatch;return c.createPlugin(t,d)}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.popupsMountPoint,o=t.popupsBoundariesElement,a=t.popupsScrollableElement,d=t.disabled,f=t.isToolbarReducedSpacing;return e(i).createElement(s.default,{plugins:{align:c.pluginKey},render:function(t){var s=t.align;return e(i).createElement(u.default,{pluginState:s,isReducedSpacing:f,changeAlignment:function(e){return l.changeAlignment(e)(n.state,n.dispatch)},disabled:d||!s.isEnabled,popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:a})}})}}}})),r.register("9vnxb",(function(n,o){t(n.exports,"pluginKey",(function(){return d})),t(n.exports,"createPlugin",(function(){return f}));var i=r("l15hj"),a=r("eBSbE"),s=r("dEgeP"),c=r("5PEb8");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=new a.PluginKey("alignmentPlugin");function f(e,t){return new a.Plugin({key:d,state:{init:function(e,n){return function(e,t){return{align:c.getActiveAlignment(e)||t.align,isEnabled:!0}}(n,t)},apply:function(t,n,r,o){var i=c.getActiveAlignment(o),a=s.isAlignable(i)(o),l=u(u({},n),{},{align:i,isEnabled:a});return i===n.align&&a===n.isEnabled||e(d,l),l}}})}})),r.register("dEgeP",(function(e,n){t(e.exports,"isAlignable",(function(){return a})),t(e.exports,"changeAlignment",(function(){return s}));var o=r("k6sjS"),i=r("1NNGa"),a=function(e){return function(t,n){var r=t.schema,i=r.nodes,a=i.paragraph,s=i.heading,c=r.marks.alignment;return o.toggleBlockMark(c,(function(){return e?"start"!==e&&{align:e}:void 0}),[a,s])(t,n)}},s=function(e){return function(t,n){var r=t.schema,a=r.nodes,s=a.paragraph,c=a.heading,l=r.marks.alignment;return i.cascadeCommands([o.changeImageAlignment(e),o.toggleBlockMark(l,(function(){return e?"start"!==e&&{align:e}:void 0}),[s,c])])(t,n)}}})),r.register("5PEb8",(function(e,n){t(e.exports,"getActiveAlignment",(function(){return a}));var o=r("iFBc4"),i=r("bKnyF"),a=function(e){if(e.selection instanceof i.CellSelection){var t=[];return e.selection.forEachCell((function(n){var r=n.firstChild.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];t.push(r?r.attrs.align:"start")})),t.every((function(e){return e===t[0]}))?t[0]:"start"}var n=o.findParentNodeOfType([e.schema.nodes.paragraph,e.schema.nodes.heading])(e.selection),r=n&&n.node.marks.filter((function(t){return t.type===e.schema.marks.alignment}))[0];return r&&r.attrs.align||"start"}})),r.register("gEp5V",(function(n,o){t(n.exports,"default",(function(){return C}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig"),h=r("6Vf6Q"),g=r("gCo6x"),m=r("4mXUu"),v=r("4TsAz"),b=r("eMsHN"),y=r("iN21a"),E=r("ICpNn");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var k=function(t){e(c)(r,t);var n=x(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{isOpen:!1}),e(d)(e(s)(t),"changeAlignment",(function(e){return t.toggleOpen(),t.props.changeAlignment(e)})),e(d)(e(s)(t),"toggleOpen",(function(){t.handleOpenChange({isOpen:!t.state.isOpen})})),e(d)(e(s)(t),"handleOpenChange",(function(e){var n=e.isOpen;t.setState({isOpen:n})})),e(d)(e(s)(t),"hide",(function(){!0===t.state.isOpen&&t.setState({isOpen:!1})})),t}return e(a)(r,[{key:"render",value:function(){var t=this,n=this.state.isOpen,r=this.props,o=r.popupsMountPoint,i=r.popupsBoundariesElement,a=r.popupsScrollableElement,s=r.isReducedSpacing,c=r.pluginState,l=r.disabled,u=r.intl.formatMessage(E.messages.alignment);return e(f).createElement(b.Wrapper,null,e(f).createElement(m.default,{mountTo:o,boundariesElement:i,scrollableElement:a,isOpen:this.state.isOpen,handleClickOutside:this.hide,handleEscapeKeydown:this.hide,fitWidth:112,fitHeight:80,trigger:e(f).createElement(g.default,{spacing:s?"none":"default",disabled:l,selected:n,title:u,"aria-label":"Text alignment",className:"align-btn",onClick:this.toggleOpen,iconBefore:e(f).createElement(b.TriggerWrapper,null,y.iconMap[c.align],e(f).createElement(b.ExpandIconWrapper,null,e(f).createElement(e(h),{label:""})))})},e(f).createElement(v.default,{onClick:function(e){return t.changeAlignment(e)},selectedAlignment:c.align})),e(f).createElement(b.Separator,null))}}]),r}(e(f).Component);e(d)(k,"displayName","AlignmentToolbar");var C=p.injectIntl(k)})),r.register("4TsAz",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=(u=r("61szk"),r("7RIig")),f=r("iN21a"),p=r("cCZbS"),h=r("9ka92"),g=r("fgvK4");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var v=[{title:h.alignmentMessages.alignLeft,value:"start"},{title:h.alignmentMessages.alignCenter,value:"center"},{title:h.alignmentMessages.alignRight,value:"end"}],b=function(t){e(s)(r,t);var n=m(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.onClick,r=t.selectedAlignment,o=t.className,i=t.intl;return e(u).createElement(g.AlignmentWrapper,{className:o,style:{maxWidth:96}},v.map((function(t){var o=t.value,a=t.title,s=i.formatMessage(a);return e(u).createElement(p.default,{content:f.iconMap[o],key:o,value:o,label:s,onClick:n,isSelected:o===r})})))}}]),r}(u.PureComponent),y=d.injectIntl(b)})),r.register("iN21a",(function(n,o){t(n.exports,"iconMap",(function(){return l}));var i=r("382lv"),a=r("7V05q"),s=r("iB1y6"),c=r("61szk"),l={start:e(c).createElement(e(i),{label:"Align left"}),end:e(c).createElement(e(a),{label:"Align right"}),center:e(c).createElement(e(s),{label:"Align center"})}})),r.register("7V05q",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm5 4h5a1 1 0 010 2h-5a1 1 0 010-2zM7 7h10a1 1 0 010 2H7a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignRightIcon";var s=a;e.exports.default=s})),r.register("iB1y6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M7 11h10a1 1 0 010 2H7a1 1 0 010-2zm2.5 4h5a1 1 0 010 2h-5a1 1 0 010-2zm0-8h5a1 1 0 010 2h-5a1 1 0 110-2z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorAlignCenterIcon";var s=a;e.exports.default=s})),r.register("cCZbS",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("gCo6x"));function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"onClick",(function(e){var n=t.props,r=n.onClick,o=n.value;e.preventDefault(),r(o)})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.label,r=t.isSelected,o=t.content;return e(f).createElement(p.default,{disabled:!1,selected:r,title:n,"aria-label":n,onClick:this.onClick,iconBefore:o})}}]),r}(f.PureComponent),m=g})),r.register("9ka92",(function(e,n){t(e.exports,"alignmentMessages",(function(){return o}));var o=r("7RIig").defineMessages({alignLeft:{id:"fabric.editor.alignLeft",defaultMessage:"Align left",description:"Action to align/justify text to the left"},alignCenter:{id:"fabric.editor.alignCenter",defaultMessage:"Align center",description:"Action to align/justify text to the center/middle"},alignRight:{id:"fabric.editor.alignRight",defaultMessage:"Align right",description:"Action to align/justify text to the right"}})})),r.register("fgvK4",(function(n,o){t(n.exports,"AlignmentWrapper",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("kFKbx"),l=s.default.div(i||(i=e(a)(["\n  padding: 0 ","px;\n  display: flex;\n  flex-wrap: wrap;\n"])),c.gridSize())})),r.register("eMsHN",(function(n,o){t(n.exports,"TriggerWrapper",(function(){return f})),t(n.exports,"Separator",(function(){return p})),t(n.exports,"Wrapper",(function(){return h})),t(n.exports,"ExpandIconWrapper",(function(){return g}));var i,a,s,c,l=r("lhkMJ"),u=r("SssiD"),d=r("cufhv"),f=u.default.div(i||(i=e(l)(["\n  display: flex;\n"]))),p=u.default.span(a||(a=e(l)(["\n  background: ",";\n  width: 1px;\n  height: 24px;\n  display: inline-block;\n  margin: 0 8px;\n"])),d.N30),h=u.default.span(s||(s=e(l)(["\n  display: flex;\n  align-items: center;\n  div {\n    display: flex;\n  }\n"]))),g=u.default.span(c||(c=e(l)(["\n  margin-left: -8px;\n"])))})),r.register("ICpNn",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({alignment:{id:"fabric.editor.alignment",defaultMessage:"Text alignment",description:"Opens drop down menu of options to configure text alignment"}})})),r.register("iEBY6",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("ekJGA");r("eBSbE"),r("lDQpF");var i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"dataConsumerPlugin",marks:function(){return e.allowDataConsumerMarks?[{name:"dataConsumer",mark:o.dataConsumer}]:[]}}}})),r.register("lDQpF",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("dataConsumerMarkPlugin")})),r.register("4BQuA",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("ekJGA"),i=r("atYPN"),a=function(){return{name:"indentation",marks:function(){return[{name:"indentation",mark:o.indentation}]},pmPlugins:function(){return[{name:"indentationKeymap",plugin:function(){return i.keymapPlugin()}}]}}}})),r.register("atYPN",(function(e,n){t(e.exports,"keymapPlugin",(function(){return c}));var o=r("6mFHM"),i=r("7uC1r"),a=r("9J8af"),s=r("kWXZA");function c(){var e={};return i.bindKeymapWithCommand(i.findShortcutByKeymap(i.indent),s.indent,e),i.bindKeymapWithCommand(i.findShortcutByKeymap(i.outdent),s.outdent,e),i.bindKeymapWithCommand(i.findShortcutByKeymap(i.backspace),(function(e,t){var n=e.selection;return!(!a.isTextSelection(n)||!n.$cursor||0!==n.$cursor.parentOffset)&&(!!t&&s.outdent(e,t))}),e),o.keymap(e)}})),r.register("kWXZA",(function(e,n){t(e.exports,"indent",(function(){return u})),t(e.exports,"outdent",(function(){return d}));var o=r("k6sjS"),i=r("jowX5");r("cTu5S");var a=r("3HJS8"),s=r("1sMcQ"),c=function(e,t){var n=e.nodes,r=n.paragraph,o=n.heading,i=e.marks.alignment;return[r,o].indexOf(t.type)>-1&&(!i||!t.marks.filter((function(e){return e.type===i}))[0])};function l(e,t){var n=s.default(e,{direction:t}),r=n.getAttrs,a=n.getAndResetAttrsChanges,l=function(e){return function(t,n){var r=t.schema.marks.indentation;return o.toggleBlockMark(r,e,c)(t,n)}}(r);return function(e,t){return l(e,i.createAnalyticsDispatch(a,e,t))}}var u=l((function(e){if(!e)return{level:1};var t=e.level;return t>=6?void 0:{level:t+1}}),a.INDENT_DIRECTION.INDENT),d=l((function(e){if(e){var t=e.level;return!(t<=1)&&{level:t-1}}}),a.INDENT_DIRECTION.OUTDENT)})),r.register("jowX5",(function(e,n){t(e.exports,"createAnalyticsDispatch",(function(){return u})),r("cTu5S");var o=r("3HJS8"),i=r("hNVBR"),a=r("9V1f8"),s={paragraph:o.INDENT_TYPE.PARAGRAPH,heading:o.INDENT_TYPE.HEADING};function c(e,t){return void 0===t?l(e):!1===t?0:t.level}function l(e){return void 0===e?0:e.level}function u(e,t,n){return function(r){var o=r;e().forEach((function(e){var n=e.node,r=e.prevAttrs,u=e.newAttrs,d=e.options.direction,f=s[n.type.name];f&&(o=i.addAnalytics(t,o,{action:a.ACTION.FORMATTED,actionSubject:a.ACTION_SUBJECT.TEXT,actionSubjectId:a.ACTION_SUBJECT_ID.FORMAT_INDENT,eventType:a.EVENT_TYPE.TRACK,attributes:{inputMethod:a.INPUT_METHOD.KEYBOARD,previousIndentationLevel:l(r),newIndentLevel:c(r,u),direction:d,indentType:f}}))})),n&&n(r)}}})),r.register("1sMcQ",(function(e,n){function r(e,t){var n=[];return{getAttrs:function(r,o){var i=e(r,o);return n.push({node:o,prevAttrs:r,newAttrs:i,options:t}),i},getAndResetAttrsChanges:function(){var e=n;return n=[],e}}}t(e.exports,"default",(function(){return r}))})),r.register("7jCsY",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("61szk"),a=r("ekJGA"),s=r("4s4wW"),c=r("hHskd"),l=r("eysT7"),u=r("aqmgi"),d=r("7J1UD"),f=r("etBqR"),p=r("fnt1p"),h=function(t){return{name:"annotation",marks:function(){return[{name:"annotation",mark:a.annotation}]},pmPlugins:function(){return[{name:"annotation",plugin:function(e){var n=e.dispatch,r=e.portalProviderAPI,o=e.eventDispatcher;if(t)return u.inlineCommentPlugin({dispatch:n,portalProviderAPI:r,eventDispatcher:o,provider:t.inlineComment})}},{name:"annotationKeymap",plugin:function(){if(t)return l.keymapPlugin()}}]},pluginsOptions:{floatingToolbar:function(e,n){if(t){var r=d.getPluginState(e);if(r&&r.isVisible&&!r.bookmark&&!r.mouseData.isSelecting){var o=t.inlineComment.isToolbarAbove;return f.buildToolbar(e,n,o)}}}},contentComponent:function(n){var r=n.editorView,o=n.dispatchAnalyticsEvent;return t?e(i).createElement(s.default,{plugins:{selectionState:c.stateKey,inlineCommentState:d.inlineCommentPluginKey},render:function(n){var a=n.inlineCommentState;return a&&!a.isVisible?null:e(i).createElement(p.InlineCommentView,{providers:t,editorView:r,dispatchAnalyticsEvent:o})}}):null}}}})),r.register("eysT7",(function(e,n){t(e.exports,"keymapPlugin",(function(){return c}));var o=r("6mFHM"),i=r("7uC1r"),a=r("Uftn8");r("cTu5S");var s=r("9V1f8");function c(){var e={};return i.bindKeymapWithCommand(i.addInlineComment.common,a.setInlineCommentDraftState(!0,s.INPUT_METHOD.SHORTCUT),e),o.keymap(e)}})),r.register("Uftn8",(function(n,o){t(n.exports,"updateInlineCommentResolvedState",(function(){return p})),t(n.exports,"closeComponent",(function(){return h})),t(n.exports,"clearDirtyMark",(function(){return g})),t(n.exports,"removeInlineCommentNearSelection",(function(){return m})),t(n.exports,"setInlineCommentDraftState",(function(){return b})),t(n.exports,"updateMouseState",(function(){return E})),t(n.exports,"createAnnotation",(function(){return x})),t(n.exports,"setInlineCommentsVisibility",(function(){return k}));var i=r("l15hj"),a=r("ekJGA"),s=r("kPyWy");r("cTu5S");var c=r("9V1f8"),l=r("7J1UD"),u=r("jGpVK"),d=r("ex3kk"),f=r("fQ2bL"),p=function(e,t){var n={type:u.ACTIONS.UPDATE_INLINE_COMMENT_STATE,data:e},r=Object.values(e).every((function(e){return e}));return t&&r?s.createCommand(n,d.default.addResolveAnalytics(t)):s.createCommand(n)},h=function(){return s.createCommand({type:u.ACTIONS.CLOSE_COMPONENT})},g=function(){return s.createCommand({type:u.ACTIONS.INLINE_COMMENT_CLEAR_DIRTY_MARK})},m=function(e){return function(t,n){var r=t.tr,o=t.selection.$from,i=t.schema.marks.annotation;return!!o.marks().some((function(e){return e.type===i}))&&(r.removeMark(o.start(),o.end(),i.create({id:e,type:a.AnnotationTypes.INLINE_COMMENT})),n&&n(r),!0)}},v=function(e){return function(t){return(!e||l.isSelectionValid(t)===f.AnnotationSelectionType.VALID)&&{type:u.ACTIONS.SET_INLINE_COMMENT_DRAFT_STATE,data:{drafting:e,editorState:t}}}},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.INPUT_METHOD.TOOLBAR,n=v(e);return s.createCommand(n,d.default.addOpenCloseAnalytics(e,t))},y=function(t){return s.createCommand((function(n){return{type:u.ACTIONS.ADD_INLINE_COMMENT,data:{drafting:!1,inlineComments:e(i)({},t,!1),selectedAnnotations:[{id:t,type:a.AnnotationTypes.INLINE_COMMENT}],editorState:n}}}),d.default.addInlineComment(t))},E=function(e){return s.createCommand({type:u.ACTIONS.INLINE_COMMENT_UPDATE_MOUSE_STATE,data:{mouseData:e}})},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.AnnotationTypes.INLINE_COMMENT;return function(n,r){return!(!(l.getPluginState(n)||{}).bookmark||!r)&&(t===a.AnnotationTypes.INLINE_COMMENT&&y(e)(n,r))}},k=function(e){return s.createCommand({type:u.ACTIONS.INLINE_COMMENT_SET_VISIBLE,data:{isVisible:e}})}})),r.register("kPyWy",(function(n,o){t(n.exports,"createPluginState",(function(){return p})),t(n.exports,"createCommand",(function(){return h}));var i=r("l15hj"),a=r("27k6c"),s=r("7J1UD"),c=r("9mjUS");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(e,t){var n=s.findAnnotationsInSelection(e.selection,e.doc);return n.length!==t.selectedAnnotations.length||n.some((function(e){return!t.selectedAnnotations.some((function(t){return t.type===e.id}))}))?u(u({},t),{},{selectedAnnotations:n}):t},f=a.pluginFactory(s.inlineCommentPluginKey,c.default,{onSelectionChanged:d,onDocChanged:function(e,t){return e.getMeta("replaceDocument")?u(u({},t),{},{dirtyAnnotations:!0}):d(e,t)},mapping:function(e,t){var n,r,o=t.draftDecorationSet,i=t.bookmark;return o&&(n=o.map(e.mapping,e.doc)),i&&(r=i.map(e.mapping)),r===i&&n===o?t:u(u({},t),{},{draftDecorationSet:n,bookmark:r})}}),p=f.createPluginState,h=f.createCommand})),r.register("7J1UD",(function(e,n){t(e.exports,"getAllAnnotations",(function(){return h})),t(e.exports,"addDraftDecoration",(function(){return m})),t(e.exports,"getAnnotationViewKey",(function(){return v})),t(e.exports,"findAnnotationsInSelection",(function(){return b})),t(e.exports,"getSelectionPositions",(function(){return y})),t(e.exports,"inlineCommentPluginKey",(function(){return E})),t(e.exports,"getPluginState",(function(){return x})),t(e.exports,"getDraftCommandAnalyticsPayload",(function(){return C})),t(e.exports,"isSelectionValid",(function(){return S})),t(e.exports,"containsAnyAnnotations",(function(){return w})),t(e.exports,"stripNonExistingAnnotations",(function(){return N}));var o=r("eBSbE"),i=r("9MUi0");r("igW5C");var a=r("kDGkE"),s=r("2PqpS"),c=r("ekJGA"),l=r("fQ2bL"),u=r("9J8af");r("cTu5S");var d=r("9V1f8"),f=function(e){if(!e.length)return[];var t=e[0].type.schema.marks.annotation;return e.filter((function(e){return e.type===t})).map((function(e){return e.attrs.id}))},p=function(e,t){var n,r,o,i,a,s=(n=t,r=n.nodeBefore,o=n.nodeAfter,i=r&&n.doc.nodeAt(Math.max(0,n.pos-r.nodeSize-1)),a=o&&n.doc.nodeAt(n.pos+o.nodeSize),[i&&i.marks||[],a&&a.marks||[]]).map(f);e.sort((function(e,t){return u.sum(s,(function(t){return t.indexOf(e.id)}))-u.sum(s,(function(e){return e.indexOf(t.id)}))}))},h=function(e){var t=new Set;return e.descendants((function(e){return e.marks.filter((function(e){return"annotation"===e.type.name})).filter(g).forEach((function(e){return t.add(e.attrs.id)})),!0})),Array.from(t)},g=function(e){var t,n=e.attrs,r=n.id,o=n.annotationType;return function(e){return!(!e||"string"!=typeof e)&&!["null","undefined"].includes(e.toLowerCase())}(r)&&(!(!(t=o)||"string"!=typeof t)&&Object.values(c.AnnotationTypes).includes(t))},m=function(e,t){return i.Decoration.inline(e,t,{class:"".concat(a.AnnotationSharedClassNames.draft)})},v=function(e){var t=e.map((function(e){return e.id})).join("_");return"view-annotation-wrapper_".concat(t)},b=function(e,t){var n=e.empty,r=e.$anchor,o=e.anchor;if(!n||!t)return[];var i=t.nodeAt(o);if(!i&&!r.nodeBefore)return[];var a=t.type.schema.marks.annotation,s=r.nodeBefore,c=i&&i.marks||[],l=[];a.isInSet(c)?l=c:s&&a.isInSet(s.marks)&&(l=s.marks);var u=l.filter((function(e){return"annotation"===e.type.name})).map((function(e){return{id:e.attrs.id,type:e.attrs.annotationType}}));return p(u,r),u};function y(e,t){var n=t.bookmark;return n?n.resolve(e.doc):e.selection}var E=new o.PluginKey("inlineCommentPluginKey"),x=function(e){return E.getState(e)},k=function(e){var t=e.selection,n=t.from,r=t.to;return s.getAnnotationIdsFromRange({from:n,to:r},e.doc,e.schema).length},C=function(e,t){return function(n){var r={};return e&&(r={inputMethod:t,overlap:k(n)}),{action:e?d.ACTION.OPENED:d.ACTION.CLOSED,actionSubject:d.ACTION_SUBJECT.ANNOTATION,actionSubjectId:d.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:d.EVENT_TYPE.TRACK,attributes:r}}},S=function(e){var t=e.selection,n=x(e).disallowOnWhitespace;if(t.empty||!(t instanceof o.TextSelection||t instanceof o.AllSelection))return l.AnnotationSelectionType.INVALID;var r=T(e);return r&&t.to-t.from==1?l.AnnotationSelectionType.INVALID:r?l.AnnotationSelectionType.DISABLED:n&&function(e){var t=!1;return e.content().content.descendants((function(e){return""===e.textContent.trim()&&(t=!0),!t})),t}(t)||function(e,t){var n=t.nodes,r=n.text,o=n.paragraph,i=!1;return e.content().content.descendants((function(e){return!(e.type===o&&!e.content.size)&&(e.type===r&&e.textContent||(i=!0),!i)})),!i}(t,e.schema)?l.AnnotationSelectionType.INVALID:l.AnnotationSelectionType.VALID},T=function(e){var t=e.selection,n=e.doc,r=e.schema;return!s.canApplyAnnotationOnRange({from:t.from,to:t.to},n,r)};function O(e,t){var n=t.schema.marks.annotation;return!!(n&&e&&e.marks.length&&n.isInSet(e.marks))}function w(e,t){if(!e.content.size)return!1;var n=!1;return e.content.forEach((function(e){if(n=n||O(e,t))return!0;e.descendants((function(e){return!O(e,t)||(n=!0,!1)}))})),n}function N(e,t){if(!e.content.size)return!1;e.content.forEach((function(e){P(e,t),e.content.descendants((function(e){return P(e,t),!0}))}))}function P(e,t){return O(e,t)&&(e.marks=e.marks.filter((function(e){return"annotation"!==e.type.name||function(e,t){var n=x(t);return n.annotations&&Object.keys(n.annotations).includes(e)}(e.attrs.id,t)}))),e}})),r.register("fQ2bL",(function(e,n){var r,o;t(e.exports,"AnnotationSelectionType",(function(){return r})),t(e.exports,"AnnotationTestIds",(function(){return a})),(o=r||(r={})).INVALID="invalid",o.DISABLED="disabled",o.VALID="valid";var i="ak-editor-annotation",a={prefix:i,floatingComponent:"".concat(i,"-floating-component"),floatingToolbarCreateButton:"".concat(i,"-toolbar-create-button"),componentSave:"".concat(i,"-dummy-save-button"),componentClose:"".concat(i,"-dummy-close-button")}})),r.register("9mjUS",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("fw3Q6"),a=r("l15hj"),s=r("jGpVK"),c=r("9MUi0"),l=r("7J1UD");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=function(t,n){switch(n.type){case s.ACTIONS.UPDATE_INLINE_COMMENT_STATE:return d(d({},t),{},{annotations:d(d({},t.annotations),n.data)});case s.ACTIONS.INLINE_COMMENT_UPDATE_MOUSE_STATE:var r=Object.assign({},t.mouseData,n.data.mouseData);return d(d({},t),{},{mouseData:r});case s.ACTIONS.SET_INLINE_COMMENT_DRAFT_STATE:return p(t,n.data.drafting,n.data.editorState);case s.ACTIONS.INLINE_COMMENT_CLEAR_DIRTY_MARK:return d(d({},t),{},{dirtyAnnotations:!1,annotations:{}});case s.ACTIONS.CLOSE_COMPONENT:return d(d({},t),{},{selectedAnnotations:[]});case s.ACTIONS.ADD_INLINE_COMMENT:var o=p(t,n.data.drafting,n.data.editorState);return d(d({},o),{},{selectedAnnotations:[].concat(e(i)(o.selectedAnnotations),e(i)(n.data.selectedAnnotations)),annotations:d(d({},t.annotations),n.data.inlineComments)});case s.ACTIONS.INLINE_COMMENT_SET_VISIBLE:var a=n.data.isVisible;return a===t.isVisible?t:d(d({},a?t:p(t,!1)),{},{isVisible:a});default:return t}};function p(e,t,n){var r=e.draftDecorationSet;r&&t||(r=c.DecorationSet.empty);var o=d(d({},e),{},{draftDecorationSet:r});if(o.bookmark=void 0,t&&n){o.bookmark=n.selection.getBookmark();var i=o.bookmark.resolve(n.doc),a=l.addDraftDecoration(i.from,i.to);o.draftDecorationSet=r.add(n.doc,[a])}return o}})),r.register("jGpVK",(function(e,n){var r,o;t(e.exports,"ACTIONS",(function(){return r})),(o=r||(r={}))[o.UPDATE_INLINE_COMMENT_STATE=0]="UPDATE_INLINE_COMMENT_STATE",o[o.SET_INLINE_COMMENT_DRAFT_STATE=1]="SET_INLINE_COMMENT_DRAFT_STATE",o[o.INLINE_COMMENT_UPDATE_MOUSE_STATE=2]="INLINE_COMMENT_UPDATE_MOUSE_STATE",o[o.INLINE_COMMENT_CLEAR_DIRTY_MARK=3]="INLINE_COMMENT_CLEAR_DIRTY_MARK",o[o.ADD_INLINE_COMMENT=4]="ADD_INLINE_COMMENT",o[o.INLINE_COMMENT_SET_VISIBLE=5]="INLINE_COMMENT_SET_VISIBLE",o[o.CLOSE_COMPONENT=6]="CLOSE_COMPONENT"})),r.register("ex3kk",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("eBSbE"),i=r("ekJGA");r("cTu5S");var a=r("9V1f8"),s=r("hNVBR"),c=r("7J1UD"),l=r("jd53t"),u=function(e){return function(t,n){var r=c.getPluginState(n),a=c.getSelectionPositions(n,r),s=a.from,u=a.to,d=a.head,f=n.schema.marks.annotation.create({id:e,type:i.AnnotationTypes.INLINE_COMMENT}),p=l.applyMarkOnRange(s,u,!1,f,t);return p.setSelection(o.TextSelection.create(p.doc,d)),p}},d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.INPUT_METHOD.TOOLBAR;return function(n,r){var o=c.getDraftCommandAnalyticsPayload(e,t)(r);return s.addAnalytics(r,n,o)}},f=function(e,t){return s.addAnalytics(t,e,{action:a.ACTION.INSERTED,actionSubject:a.ACTION_SUBJECT.ANNOTATION,eventType:a.EVENT_TYPE.TRACK,actionSubjectId:a.ACTION_SUBJECT_ID.INLINE_COMMENT})},p={addAnnotationMark:u,addInlineComment:function(e){return function(t,n){var r=u(e)(t,n);return r=f(r,n),r=d(!1,a.INPUT_METHOD.TOOLBAR)(r,n)}},addOpenCloseAnalytics:d,addInsertAnalytics:f,addResolveAnalytics:function(e){return function(t,n){var r={action:a.ACTION.RESOLVED,actionSubject:a.ACTION_SUBJECT.ANNOTATION,actionSubjectId:a.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:a.EVENT_TYPE.TRACK,attributes:{method:e}};return s.addAnalytics(n,t,r)}}}})),r.register("aqmgi",(function(n,o){t(n.exports,"inlineCommentPlugin",(function(){return b}));var i=r("l15hj"),a=r("9ePZF"),s=r("cNgp7"),c=r("57GOJ"),l=r("eBSbE"),u=r("ekJGA"),d=r("g41HY"),f=r("Uftn8"),p=r("7J1UD"),h=r("kPyWy"),g=function(){var t=e(s)(e(a).mark((function t(n,r){var o,i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getState(r);case 2:return o=e.sent,i={},o.forEach((function(e){e.annotationType===u.AnnotationTypes.INLINE_COMMENT&&(i[e.id]=e.state.resolved)})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),m=function(){var t=e(s)(e(a).mark((function t(n,r,o){var i;return e(a).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&r.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g(n,r);case 4:i=e.sent,o.dispatch&&f.updateInlineCommentResolvedState(i)(o.state,o.dispatch);case 6:case"end":return e.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),v=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{annotations:{},selectedAnnotations:[],mouseData:{isSelecting:!1},disallowOnWhitespace:e,isVisible:!0}},b=function(t){var n=t.provider,r=t.portalProviderAPI,o=t.eventDispatcher;return new l.Plugin({key:p.inlineCommentPluginKey,state:h.createPluginState(t.dispatch,v(n.disallowOnWhitespace)),view:function(t){m(n,p.getAllAnnotations(t.state.doc),t);var r=function(n){return(r=t.state,o=t.dispatch,function(t){f.updateInlineCommentResolvedState(e(i)({},t,!0),c.RESOLVE_METHOD.CONSUMER)(r,o)})(n);var r,o},o=function(n){return(r=t.state,o=t.dispatch,function(t){f.updateInlineCommentResolvedState(e(i)({},t,!1))(r,o)})(n);var r,o},a=function(e){return(n=t.state,r=t.dispatch,function(e){p.getPluginState(n).mouseData.isSelecting&&f.updateMouseState({isSelecting:!1})(n,r)})(e);var n,r},s=function(e){return function(e){return function(t){var n=e.state,r=e.dispatch;f.setInlineCommentsVisibility(t)(n,r),t&&e.focus()}}(t)(e)},l=n.updateSubscriber;return l&&l.on("resolve",r).on("delete",r).on("unresolve",o).on("create",o).on("setvisibility",s),t.root.addEventListener("mouseup",a),{update:function(e,t){p.getPluginState(e.state).dirtyAnnotations&&(f.clearDirtyMark()(e.state,e.dispatch),m(n,p.getAllAnnotations(e.state.doc),e))},destroy:function(){t.root.removeEventListener("mouseup",a),l&&l.off("resolve",r).off("delete",r).off("unresolve",o).off("create",o).off("setvisibility",s)}}},props:{nodeViews:{annotation:function(e,t,n){return new d.AnnotationNodeView(e,t,n,r,o).init()}},handleDOMEvents:{mousedown:function(e){var t,n;return p.getPluginState(e.state).mouseData.isSelecting||(t=e.state,n=e.dispatch,function(){f.updateMouseState({isSelecting:!0})(t,n)})(),!1}},decorations:function(e){return p.getPluginState(e).draftDecorationSet}}})}})),r.register("57GOJ",(function(e,n){var r,o;t(e.exports,"RESOLVE_METHOD",(function(){return r})),(o=r||(r={})).COMPONENT="component",o.CONSUMER="consumer",o.ORPHANED="orphaned"})),r.register("g41HY",(function(n,o){t(n.exports,"AnnotationNodeView",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk");r("igW5C");var d=r("kDGkE"),f=r("22Hec"),p=r("4s4wW"),h=r("7J1UD");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var m=function(t){e(s)(r,t);var n=g(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"createDomRef",value:function(){return document.createElement("span")}},{key:"getContentDOM",value:function(){var e=document.createElement("span");return e.className="ak-editor-annotation",{dom:e}}},{key:"render",value:function(t,n){var r=this;return e(u).createElement(p.default,{plugins:{inlineCommentState:h.inlineCommentPluginKey},editorView:this.view,render:function(t){var o=t.inlineCommentState;if(null==o||!o.isVisible)return e(u).createElement("span",{ref:n});var i=o.annotations,a=o.selectedAnnotations,s=r.node.attrs.id,c=!1===i[s],l=a.some((function(e){return e.id===s})),d=v(c,l);return e(u).createElement("span",{className:d,ref:n})}})}}]),r}(f.default),v=function(e,t){if(e)return t?d.AnnotationSharedClassNames.focus:d.AnnotationSharedClassNames.blur}})),r.register("etBqR",(function(n,o){t(n.exports,"annotationMessages",(function(){return f})),t(n.exports,"buildToolbar",(function(){return g}));var i=r("61szk"),a=r("7RIig"),s=r("djEnX"),c=r("7uC1r"),l=r("Uftn8"),u=r("fQ2bL"),d=r("7J1UD"),f=a.defineMessages({createComment:{id:"fabric.editor.createComment",defaultMessage:"Comment",description:"Create/add an inline comment based on the users selection"},createCommentInvalid:{id:"fabric.editor.createCommentInvalid",defaultMessage:"You can only comment on text and headings",description:"Error message to communicate to the user they can only do the current action in certain contexts"},toolbar:{id:"fabric.editor.annotationToolbar",defaultMessage:"Annotation toolbar",description:"A label for a toolbar (UI element) that creates annotations/comments in the document"}}),p=function(e){return function(t,n){var r=document.querySelector('div[aria-label="'.concat(e,'"]'));if(!r)return n;var o=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=o.getBoundingClientRect(),a=window&&window.getSelection(),s=a&&!a.isCollapsed&&a.getRangeAt(0);if(!s)return n;var c=r.getBoundingClientRect(),l=t.state.selection,u=l.head,d=l.anchor,f=t.coordsAtPos(Math.min(u,d)),p=t.coordsAtPos(Math.max(u,d)-Math.min(s.endOffset,1)),h=(f.top||0)-1.5*c.height,g=0;if(f.top!==p.top){g=u>d?Math.max(f.right,p.right):Math.min(f.left,p.left);var m=s.getClientRects()[0];m.right<g&&(g=m.left+m.width/2)}else g=f.left+(p.right-f.left)/2;return g-=c.width/2,{top:h-i.top+o.scrollTop,left:Math.max(0,g-i.left)}}},h=function(e){return function(t,n){var r=document.querySelector('div[aria-label="'.concat(e,'"]'));if(!r)return n;var o=t.dom.closest(".fabric-editor-popup-scroll-parent")||document.body,i=o.getBoundingClientRect(),a=window&&window.getSelection(),s=a&&!a.isCollapsed&&a.getRangeAt(0);if(!s)return n;var c,l=r.getBoundingClientRect(),u=t.state.selection,d=u.head,f=u.anchor,p=t.coordsAtPos(Math.min(d,f)),h=t.coordsAtPos(Math.max(d,f)-Math.min(s.endOffset,1));c=d>f&&p.top!==h.top?(h.top||0)+l.height/1.15:(p.top||0)-1.5*l.height;var g=(d>f?h.right:p.left)-l.width/2;return{top:c-i.top+o.scrollTop,left:Math.max(0,g-i.left)}}},g=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.schema,a=d.isSelectionValid(t);if(a!==u.AnnotationSelectionType.INVALID){var g=n.formatMessage(f.createComment),m=n.formatMessage(f.createCommentInvalid),v={type:"button",showTitle:!0,disabled:a===u.AnnotationSelectionType.DISABLED,testId:u.AnnotationTestIds.floatingToolbarCreateButton,icon:e(s),tooltipContent:a===u.AnnotationSelectionType.DISABLED?m:e(i).createElement(c.ToolTipContent,{description:g,keymap:c.addInlineComment}),title:g,onClick:function(e,t){return l.setInlineCommentDraftState(!0)(e,t)}},b=o.marks.annotation,y=Object.keys(o.nodes).reduce((function(e,t){var n=o.nodes[t];return n.allowsMarkType(b)&&e.push(n),e}),[]),E=n.formatMessage(f.toolbar),x=r?p:h,k=x(E);return{title:E,nodeType:y,items:[v],onPositionCalculated:k}}}})),r.register("fnt1p",(function(n,o){t(n.exports,"InlineCommentView",(function(){return h}));var i=r("l15hj"),a=r("61szk"),s=r("iFBc4"),c=r("95m9e"),l=r("fQ2bL"),u=r("7J1UD"),d=r("Uftn8");r("cTu5S");var f=r("9V1f8");r("kH7oN");f=r("9V1f8");var p=r("57GOJ");function h(t){var n,r,o,h,g,m=t.providers,v=t.editorView,b=t.dispatchAnalyticsEvent,y=m.inlineComment,E=v.state,x=v.dispatch,k=y.createComponent,C=y.viewComponent,S=u.getPluginState(E),T=S.bookmark,O=S.selectedAnnotations,w=S.annotations,N=u.getSelectionPositions(E,S),P=(r=(n=N).$from,o=n.from,!((h=r.index())<r.parent.childCount&&r.parent.child(h))&&r.nodeBefore&&r.nodeBefore.isText&&r.nodeBefore.marks.find((function(e){return"annotation"===e.type.name}))?o-1:o);try{g=s.findDomRefAtPos(P,v.domAtPos.bind(v))}catch(e){if(console.warn(e),b){var A={action:f.ACTION.ERRORED,actionSubject:f.ACTION_SUBJECT.CONTENT_COMPONENT,eventType:f.EVENT_TYPE.OPERATIONAL,attributes:{component:f.CONTENT_COMPONENT.INLINE_COMMENT,selection:N.toJSON(),position:P,docSize:v.state.doc.nodeSize,error:e.toString(),errorStack:e.stack||void 0}};b(A)}}if(!g)return null;if(T){if(!k)return null;var I=E.doc.textBetween(N.from,N.to);return e(a).createElement("div",{"data-testid":l.AnnotationTestIds.floatingComponent},e(a).createElement(k,{dom:g,textSelection:I,onCreate:function(e){d.createAnnotation(e)(v.state,v.dispatch),!v.hasFocus()&&v.focus()},onClose:function(){d.setInlineCommentDraftState(!1)(v.state,v.dispatch),!v.hasFocus()&&v.focus()}}))}var D=O.filter((function(e){return!1===w[e.id]}));if(!C||0===D.length)return null;return O?e(a).createElement(c.AnnotationViewWrapper,{"data-testid":l.AnnotationTestIds.floatingComponent,key:u.getAnnotationViewKey(D),onViewed:function(){if(b){var e={action:f.ACTION.VIEWED,actionSubject:f.ACTION_SUBJECT.ANNOTATION,actionSubjectId:f.ACTION_SUBJECT_ID.INLINE_COMMENT,eventType:f.EVENT_TYPE.TRACK,attributes:{overlap:D.length?D.length-1:0}};b(e)}}},e(a).createElement(C,{annotations:D,dom:g,onDelete:function(e){return d.removeInlineCommentNearSelection(e)(E,x)},onResolve:function(t){return d.updateInlineCommentResolvedState(e(i)({},t,!0),p.RESOLVE_METHOD.COMPONENT)(v.state,v.dispatch)},onClose:function(){d.closeComponent()(v.state,v.dispatch)}})):null}})),r.register("95m9e",(function(n,o){t(n.exports,"AnnotationViewWrapper",(function(){return d}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ");function u(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var d=function(t){e(s)(r,t);var n=u(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"componentDidMount",value:function(){var e=this.props.onViewed;e&&e()}},{key:"render",value:function(){return this.props.children}}]),r}(e(r("61szk")).PureComponent)})),r.register("EY0qU",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("9ePZF"),a=r("cNgp7"),s=r("l15hj"),c=r("eBSbE"),l=r("6mFHM"),u=r("hzNux"),d=r("5eEmv"),f=r("9PfZd"),p=r("hSc9s");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m=function(t){var n=t.providerFactory,r=[];return new c.Plugin({state:{init:function(){return{resolving:[],matches:[]}},apply:function(e,t){if(!t)return t;var n=g(g({},t),{},{resolving:t.resolving.map((function(t){return g(g({},t),{},{start:e.mapping.map(t.start),end:e.mapping.map(t.end,-1)})}))}),r=e.getMeta(p.pluginKey);return r?u.default(n,r):n}},props:{handleTextInput:function(e,t,n,o){return d.triggerInputRule(e,r,t,n,o),!1},handleKeyDown:l.keydownHandler({Enter:function(e,t,n){return d.triggerInputRule(n,r,n.state.selection.from,n.state.selection.to,""),!1}})},view:function(){var t=function(t,n){"autoformattingProvider"===t&&n&&n.then(function(){var t=e(a)(e(i).mark((function t(n){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getRules();case 2:o=e.sent,Object.keys(o).forEach((function(e){var t={matchTyping:new RegExp("(\\s+|^)"+e+"(\\s|,|\\.)$"),matchEnter:new RegExp("(\\s+|^)"+e+"()$"),handler:f.buildHandler(e,o[e])};r.push(t)}));case 4:case"end":return e.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())};return n.subscribe("autoformattingProvider",t),{update:function(e){var t=p.getPluginState(e.state);t&&t.matches&&f.completeReplacements(e,t)},destroy:function(){n.unsubscribe("autoformattingProvider",t)}}},key:p.pluginKey})},v=function(){return{name:"customAutoformat",pmPlugins:function(){return[{name:"customAutoformat",plugin:m}]}}}})),r.register("hzNux",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("fw3Q6"),a=r("l15hj");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(t,n){switch(n.action){case"matched":return function(t,n){return c(c({},t),{},{resolving:[].concat(e(i)(t.resolving),[{start:n.start,end:n.end,match:n.match}])})}(t,n);case"resolved":return function(t,n){return c(c({},t),{},{matches:[].concat(e(i)(t.matches),[{replacement:n.replacement,matchString:n.matchString}])})}(t,n);case"finish":return function(e,t){return c(c({},e),{},{resolving:e.resolving.filter((function(e){return e.match[0]!==t.matchString})),matches:e.matches.filter((function(e){return e.matchString!==t.matchString}))})}(t,n);default:return t}}})),r.register("5eEmv",(function(e,n){t(e.exports,"triggerInputRule",(function(){return r}));var r=function(e,t,n,r,o){var i=e.state.doc.resolve(n);if(i.parent.type.spec.code)return!1;for(var a=i.parent.textBetween(Math.max(0,i.parentOffset-500),i.parentOffset,void 0,"\ufffc")+o,s=0;s<t.length;s++){var c=void 0;if(c=o.length?t[s].matchTyping.exec(a):t[s].matchEnter.exec(a)){var l=n-(c[0].length-o.length);return t[s].handler(e,c,l,r),!0}}return!1}})),r.register("9PfZd",(function(n,o){t(n.exports,"buildHandler",(function(){return u})),t(n.exports,"completeReplacements",(function(){return d}));var i=r("9ePZF"),a=r("cNgp7"),s=r("9VelW");r("9J8af");var c=r("l9fpM"),l=r("hSc9s"),u=function(t,n){return function(){var t=e(a)(e(i).mark((function t(r,o,a,s){var u,d,f;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=n(o.slice(1,o.length-1)),r.dispatch(l.autoformatAction(r.state.tr,{action:"matched",match:o,start:a,end:s})),e.next=4,u;case 4:return d=e.sent,f=c.processRawValue(r.state.schema,d),r.dispatch(l.autoformatAction(r.state.tr,{action:"resolved",matchString:o[0],replacement:f})),e.abrupt("return",d);case 8:case"end":return e.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}()},d=function(e,t){var n=e.state.schema.nodes.inlineCard;t.matches.forEach((function(r){var o=t.resolving.filter((function(e){return e.match[0]===r.matchString})),i=e.state.tr;o.forEach((function(t){var o=t.match,a=t.start,s=t.end,c=r.replacement,l=o[1],u=s+o[o.length-1].length;c&&(c.type===n||c.isText)&&(e.state.doc.textBetween(a,u,"#","|")===o[0]&&(i=i.replaceWith(i.mapping.map(a+l.length),i.mapping.map(s,-1),c)))})),i=l.autoformatAction(i,{action:"finish",matchString:r.matchString}),e.dispatch(s.closeHistory(i))}))}})),r.register("hSc9s",(function(e,n){t(e.exports,"pluginKey",(function(){return o})),t(e.exports,"getPluginState",(function(){return i})),t(e.exports,"autoformatAction",(function(){return a}));var o=new(r("eBSbE").PluginKey)("customAutoformatPlugin"),i=function(e){return o.getState(e)},a=function(e,t){return e.setMeta(o,t)}})),r.register("7Rd80",(function(n,o){t(n.exports,"openFeedbackDialog",(function(){return C})),t(n.exports,"default",(function(){return S}));var i=r("9ePZF"),a=r("l15hj"),s=r("cNgp7"),c=r("fw3Q6"),l=r("61szk"),u=r("eBSbE"),d=r("iIrvw"),f=r("8n9XV");r("cTu5S");var p=r("hNVBR"),h=r("9V1f8"),g=r("dxfZn"),m=r("6UBHG");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}new u.PluginKey("feedbackDialogPlugin");var y,E,x,k=function(t){var n=t.product,r=t.packageName,o=t.packageVersion,i=t.labels;return[n,r,o].concat(e(c)(i||[])).join("|")},C=function(){var t=e(s)(e(i).mark((function t(n){return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(){var t=e(s)(e(i).mark((function t(r,o){var a,s,l;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=b(b(b({},{product:"n/a",labels:[],packageName:"",packageVersion:"",sessionId:"",contentId:"",tabId:""}),x),n),s=k(a),y&&E===s){t.next=13;break}return t.prev=3,t.next=6,g.default([a.product].concat(e(c)(a.labels)),a.packageName,f.version,a.packageVersion,a.sessionId,a.contentId,a.tabId);case 6:y=t.sent,E=s,t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),o(t.t0);case 13:l=window.setTimeout(y,0),r(l);case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),S=function(t){return x=t,{name:"feedbackDialog",pluginsOptions:{quickInsert:function(n){var r=n.formatMessage;return[{id:"feedbackdialog",title:r(m.messages.feedbackDialog),description:r(m.messages.feedbackDialogDescription),priority:400,keywords:["bug"],icon:function(){return e(l).createElement(d.IconFeedback,null)},action:function(e,n){var r=e("");return C(t),p.addAnalytics(n,r,{action:h.ACTION.OPENED,actionSubject:h.ACTION_SUBJECT.FEEDBACK_DIALOG,attributes:{inputMethod:h.INPUT_METHOD.QUICK_INSERT},eventType:h.EVENT_TYPE.UI})}}]}}}}})),r.register("dxfZn",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("9ePZF"),a=r("cNgp7"),s=r("gO8MW"),c=r("ecfQb"),l=function(t,n,r,o,l,u,d){return new Promise(function(){var f=e(a)(e(i).mark((function a(f,p){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:window.jQuery?(window.ATL_JQ_PAGE_PROPS={triggerFunction:function(e){"function"==typeof e?f(e):p("Failed to initialize showCollectorDialog")},fieldValues:{description:"Please describe the problem you're having or feature you'd like to see:\n\n\n",customfield_11711:t||[],customfield_11712:"version: ".concat(n,"@").concat(o," (").concat(r,")\n              Browser: ").concat(c.default(navigator.userAgent),"\n              OS: ").concat(s.default(navigator.userAgent,navigator.appVersion))},environment:{"Editor Package":n,"Editor Version":o,"Editor Core Version":r,sessionId:l,contentId:u,tabId:d},priority:"1",components:"15306"},window.jQuery.ajax({url:"https://product-fabric.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e-T/-w0bwo4/b/14/e73395c53c3b10fde2303f4bf74ffbf6/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?locale=en-US&collectorId=98644b9c",type:"get",cache:!0,dataType:"script"})):p("jQuery is not defined");case 1:case"end":return e.stop()}}),a)})));return function(e,t){return f.apply(this,arguments)}}())}})),r.register("gO8MW",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e,t){var n,r="",o="",i=[{s:"Windows 3.11",r:/Win16/},{s:"Windows 95",r:/(Windows 95|Win95|Windows_95)/},{s:"Windows ME",r:/(Win 9x 4.90|Windows ME)/},{s:"Windows 98",r:/(Windows 98|Win98)/},{s:"Windows CE",r:/Windows CE/},{s:"Windows 2000",r:/(Windows NT 5.0|Windows 2000)/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows NT 4.0",r:/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/},{s:"Android",r:/Android/},{s:"Open BSD",r:/OpenBSD/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"QNX",r:/QNX/},{s:"UNIX",r:/UNIX/},{s:"BeOS",r:/BeOS/},{s:"OS/2",r:/OS\/2/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}];for(var a in i){var s=i[a];if(s.r.test(e)){r=s.s;break}}switch(/Windows/.test(r)&&(o=(n=/Windows (.*)/.exec(r))&&n[1],r="Windows"),r){case"Mac OS X":o=(n=/Mac OS X (10[\.\_\d]+)/.exec(e))&&n[1];break;case"Android":o=(n=/Android ([\.\_\d]+)/.exec(e))&&n[1];break;case"iOS":o=(n=/OS (\d+)_(\d+)_?(\d+)?/.exec(t))&&n[1]+"."+n[2]+"."+(n[3]||0)}return"".concat(r," ").concat(o)}})),r.register("ecfQb",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e){var t,n,r,o,i;return-1!==(o=e.indexOf("OPR/"))?(t="Opera",n=e.substring(o+4)):-1!==(o=e.indexOf("Opera"))?(t="Opera",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+6)):-1!==(o=e.indexOf("MSIE"))?(t="Microsoft Internet Explorer",n=e.substring(o+5)):-1!==(o=e.indexOf("Chrome"))?(t="Chrome",n=e.substring(o+7)):-1!==(o=e.indexOf("Safari"))?(t="Safari",n=-1!==(o=e.indexOf("Version"))?e.substring(o+8):e.substring(o+7)):-1!==(o=e.indexOf("Firefox"))?(t="Firefox",n=e.substring(o+8)):(r=e.lastIndexOf(" ")+1)<(o=e.lastIndexOf("/"))?(t=e.substring(r,o),n=e.substring(o+1),t.toLowerCase()===t.toUpperCase()&&(t=navigator.appName)):(t=navigator.appName,n=""+parseFloat(navigator.appVersion)),-1!==(i=n.indexOf(";"))&&(n=n.substring(0,i)),-1!==(i=n.indexOf(" "))&&(n=n.substring(0,i)),"".concat(t," ").concat(n)}})),r.register("jWTGF",(function(e,n){t(e.exports,"historyPluginKey",(function(){return l})),t(e.exports,"default",(function(){return h}));var o=r("27k6c"),i=r("eBSbE"),a=r("fXHOc"),s=r("47T2H"),c=r("bLJMJ"),l=new i.PluginKey("historyPlugin"),u=function(){return{canUndo:!1,canRedo:!1}},d=o.pluginFactory(l,a.default),f=d.createPluginState,p=d.getPluginState,h=function(){return{name:"history",pmPlugins:function(){return[{name:"history",plugin:function(e){return function(e){return new i.Plugin({state:f(e,u),key:l,appendTransaction:function(e,t,n){if(e.find((function(e){return e.docChanged&&!1!==e.getMeta("addToHistory")}))){var r=c.getPmHistoryPluginState(n);if(!r)return;var o=r.done.eventCount>0,i=r.undone.eventCount>0,a=p(n),u=a.canUndo,d=a.canRedo;if(o!==u||i!==d){var f={type:s.HistoryActionTypes.UPDATE,canUndo:o,canRedo:i};return n.tr.setMeta(l,f)}}}})}(e.dispatch)}}]}}}})),r.register("fXHOc",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("47T2H"),i=function(e,t){return t.type===o.HistoryActionTypes.UPDATE?{canUndo:t.canUndo,canRedo:t.canRedo}:e}})),r.register("47T2H",(function(e,n){var r;t(e.exports,"HistoryActionTypes",(function(){return r})),(r||(r={})).UPDATE="UPDATE"})),r.register("bLJMJ",(function(e,n){t(e.exports,"getPmHistoryPluginState",(function(){return i}));var o=r("7lvT4"),i=function(e){var t=function(e){return e.plugins.find((function(e){return e.key===o.pmHistoryPluginKey}))}(e);if(t)return t.getState(e)}})),r.register("8etVI",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("ekJGA"),i=r("3Vcb5"),a=r("5U96G"),s=function(){return{name:"caption",nodes:function(){return[{name:"caption",node:o.caption}]},pmPlugins:function(){return[{name:"caption",plugin:function(e){var t=e.portalProviderAPI,n=e.providerFactory,r=e.eventDispatcher,o=e.dispatch;return i.default(t,r,n,o)}},{name:"captionKeymap",plugin:a.captionKeymap}]}}}})),r.register("3Vcb5",(function(e,n){t(e.exports,"default",(function(){return d}));var o=r("eBSbE"),i=r("iFBc4"),a=r("1V79T"),s=r("7eEur");r("cTu5S");var c=r("hNVBR"),l=r("9V1f8"),u=function(e,t,n){c.addAnalytics(e,t,{action:n,eventType:l.EVENT_TYPE.TRACK,actionSubject:l.ACTION_SUBJECT.MEDIA_SINGLE,actionSubjectId:l.ACTION_SUBJECT_ID.CAPTION})},d=function(e,t,n,r){return new o.Plugin({appendTransaction:function(e,t,n){if(e.find((function(e){return e.selectionSet}))){var r=!n.selection.eq(t.selection),o=i.findParentNodeOfType(t.schema.nodes.caption)(t.selection),a=n.tr;if(r&&o){if(0===o.node.childCount)return a.delete(o.start-1,o.start),a.setMeta("scrollIntoView",!1),u(n,a,l.ACTION.DELETED),a;u(n,a,l.ACTION.EDITED)}}},key:a.pluginKey,props:{nodeViews:{caption:s.default(e,t)}}})}})),r.register("1V79T",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("caption")})),r.register("7eEur",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");r("igW5C");var p=r("cvuuR");function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"selected",t.insideSelection()),t}return e(a)(r,[{key:"createDomRef",value:function(){var e=document.createElement("figcaption");return e.setAttribute("data-caption","true"),e}},{key:"getContentDOM",value:function(){return{dom:document.createElement("div")}}},{key:"render",value:function(t,n){return e(f).createElement(p.default,{selected:this.insideSelection(),hasContent:this.node.content.childCount>0},e(f).createElement("div",{ref:n}))}},{key:"viewShouldUpdate",value:function(e){if(this.node.childCount!==e.childCount)return!0;var t=this.insideSelection(),n=this.selected!==t;return this.selected=t,n}}]),r}(r("lgqyB").SelectionBasedNodeView);function m(e,t){return function(n,r,o){return new g(n,r,o,e,t,{}).init()}}})),r.register("5U96G",(function(e,n){t(e.exports,"captionKeymap",(function(){return u}));var o=r("6mFHM"),i=r("eBSbE"),a=r("7uC1r"),s=r("iFBc4"),c=r("k6sjS"),l=r("1wUBP");function u(){var e={};return a.bindKeymapWithCommand(a.moveDown.common,d,e),a.bindKeymapWithCommand(a.enter.common,d,e),a.bindKeymapWithCommand(a.moveDown.common,f,e),a.bindKeymapWithCommand(a.enter.common,f,e),a.bindKeymapWithCommand(a.moveUp.common,p,e),a.bindKeymapWithCommand(a.shiftTab.common,p,e),a.bindKeymapWithCommand(a.tab.common,f,e),a.bindKeymapWithCommand(a.moveLeft.common,h,e),o.keymap(e)}var d=function(e,t){return!!s.findParentNodeOfType(e.schema.nodes.caption)(e.selection)&&c.createNewParagraphBelow(e,t)},f=function(e,t){var n=s.findParentNodeOfType(e.schema.nodes.caption)(e.selection);if(n){if(t)t(e.tr.setSelection(i.Selection.near(e.tr.doc.resolve(n.pos+n.node.nodeSize))));return!0}return!1},p=function(e,t){if(s.findParentNodeOfType(e.schema.nodes.caption)(e.selection)){var n=s.findParentNodeOfType(e.schema.nodes.mediaSingle)(e.selection);if(n){if(t)t(e.tr.setSelection(i.Selection.near(e.tr.doc.resolve(n.pos))));return!0}}return!1},h=function(e,t){if(s.findParentNodeOfType(e.schema.nodes.caption)(e.selection)){var n=s.findParentNodeOfType(e.schema.nodes.mediaSingle)(e.selection);if(n&&e.selection.empty&&0===e.tr.doc.resolve(e.selection.from).parentOffset){var r=l.GapCursorSelection.findFrom(e.tr.doc.resolve(n.pos),0,!1);if(r){if(t)t(e.tr.setSelection(r));return!0}}}return!1}})),r.register("2PyWs",(function(n,o){t(n.exports,"default",(function(){return m})),t(n.exports,"isExpandInsertionEnabled",(function(){return v}));var i=r("EwJf3"),a=r("61szk"),s=r("ekJGA"),c=r("eyqGS"),l=r("e8I5c"),u=r("iIrvw");r("cTu5S");var d=r("hNVBR"),f=r("9V1f8"),p=r("gRTWj"),h=r("jF2qR"),g=r("6UBHG"),m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"expand",nodes:function(){return[{name:"expand",node:s.expand},{name:"nestedExpand",node:s.nestedExpand}]},pmPlugins:function(){return[{name:"expand",plugin:function(e){var n=e.dispatch,r=e.reactContext;return c.createPlugin(n,r,t.useLongPressSelection)}},{name:"expandKeymap",plugin:l.expandKeymap}]},pluginsOptions:{floatingToolbar:p.getToolbarConfig,quickInsert:function(n){var r=n.formatMessage;return t&&!0!==t.allowInsertion?[]:[{id:"expand",title:r(g.messages.expand),description:r(g.messages.expandDescription),keywords:["accordion","collapse"],priority:600,icon:function(){return e(a).createElement(u.IconExpand,null)},action:function(e,t){var n=h.createExpandNode(t),r=e(n);return d.addAnalytics(t,r,{action:f.ACTION.INSERTED,actionSubject:f.ACTION_SUBJECT.DOCUMENT,actionSubjectId:n.type===t.schema.nodes.nestedExpand?f.ACTION_SUBJECT_ID.NESTED_EXPAND:f.ACTION_SUBJECT_ID.EXPAND,attributes:{inputMethod:f.INPUT_METHOD.QUICK_INSERT},eventType:f.EVENT_TYPE.TRACK})}}]}}}};function v(t){var n=t.allowExpand;return!(!n||"object"!==e(i)(n))&&!!n.allowInsertion}})),r.register("eyqGS",(function(e,n){t(e.exports,"createPlugin",(function(){return p}));var o=r("eBSbE"),i=r("iFBc4"),a=r("cD9Ho"),s=r("9uyV6"),c=r("jF2qR"),l=r("d9wIc"),u=r("agYmX"),d=r("cw59o");function f(e,t){return!!e&&e.classList.contains(t)}var p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=d.createPluginState(e,{});return new o.Plugin({state:r,key:d.pluginKey,props:{nodeViews:{expand:s.default(t),nestedExpand:s.default(t)},handleKeyDown:function(e,t){return f(t.target,u.expandClassNames.titleContainer)},handleKeyPress:function(e,t){return f(t.target,u.expandClassNames.titleContainer)},handleScrollToSelection:function(){return f(document.activeElement,u.expandClassNames.titleInput)},handleClickOn:a.createSelectionClickHandler(["expand","nestedExpand"],(function(e){return e.classList.contains(u.expandClassNames.prefix)}),{useLongPressSelection:n})},filterTransaction:function(e){return!(f(document.activeElement,u.expandClassNames.titleInput)&&e.selectionSet&&(!e.steps.length||e.isGeneric))},view:function(e){var t=e.domAtPos.bind(e);return{update:function(e){var n=e.state,r=e.dispatch,o=l.findExpand(n);if(o){var a=i.findDomRefAtPos(o.pos,t);d.getPluginState(n).expandRef!==a&&c.setExpandRef(a)(n,r)}}}}})}})),r.register("9uyV6",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("61szk"),l=r("c6wVG"),u=r("eBSbE"),d=r("2gplO"),f=r("gC0In"),p=r("jWbqG");r("igW5C");var h=r("iTrTE"),g=r("9J8af"),m=r("jF2qR"),v=r("agYmX"),b=r("1wUBP"),y=r("lWHVr"),E=r("eNOQT"),x=r("6Ms1b"),k=r("ls4oX"),C=r("cRHRu");var S=function(){function t(n,r,o,a){var c=this;e(i)(this,t),e(s)(this,"allowInteractiveExpand",!0),e(s)(this,"focusTitle",(function(){if(c.input){var e=c.view,t=e.state,n=e.dispatch;k.setSelectionRelativeToNode(x.RelativeSelectionPos.Start)(t,n),m.setSelectionInsideExpand(t,n,c.view),c.input.focus()}})),e(s)(this,"handleIconKeyDown",(function(e){switch(f.keyName(e)){case"Tab":e.preventDefault(),c.focusTitle();break;case"Enter":e.preventDefault(),c.handleClick(e)}})),e(s)(this,"isAllowInteractiveExpandEnabled",(function(){var e=c.view.state,t=y.getFeatureFlags(e);return t&&!!t.interactiveExpand})),e(s)(this,"handleClick",(function(e){var t=e.target,n=c.view,r=n.state,o=n.dispatch;if(E.closestElement(t,".".concat(v.expandClassNames.icon))){if(!c.isAllowInteractiveExpandEnabled())return;return e.stopPropagation(),c.view.dom instanceof HTMLElement&&c.view.dom.blur(),void m.toggleExpandExpanded(c.getPos(),c.node.type)(r,o)}if(t===c.input)return e.stopPropagation(),void c.focusTitle()})),e(s)(this,"handleInput",(function(e){var t=e.target;if(t===c.input){e.stopPropagation();var n=c.view,r=n.state,o=n.dispatch;m.updateExpandTitle(t.value,c.getPos(),c.node.type)(r,o)}})),e(s)(this,"handleFocus",(function(e){e.stopImmediatePropagation()})),e(s)(this,"handleTitleKeydown",(function(e){switch(f.keyName(e)){case"Enter":c.toggleExpand();break;case"Tab":case"ArrowDown":c.moveToOutsideOfTitle(e);break;case"ArrowRight":c.handleArrowRightFromTitle(e);break;case"ArrowLeft":c.handleArrowLeftFromTitle(e);break;case"ArrowUp":c.setLeftGapCursor(e);break;case"Backspace":c.deleteExpand(e)}})),e(s)(this,"deleteExpand",(function(e){if(c.input){var t=c.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){var r=c.view.state,o=c.node;o&&g.isEmptyNode(r.schema)(o)&&m.deleteExpandAtPos(c.getPos(),o)(r,c.view.dispatch)}}})),e(s)(this,"toggleExpand",(function(){if(c.isAllowInteractiveExpandEnabled()){var e=c.view,t=e.state,n=e.dispatch;m.toggleExpandExpanded(c.getPos(),c.node.type)(t,n)}})),e(s)(this,"moveToOutsideOfTitle",(function(e){e.preventDefault();var t=c.view,n=t.state,r=t.dispatch,o=c.getPos();if("number"==typeof o){var i=o;c.isCollapsed()&&(i=o+c.node.nodeSize);var a=n.doc.resolve(i);if(a){if(c.isCollapsed()&&a.nodeAfter&&["expand","nestedExpand"].indexOf(a.nodeAfter.type.name)>-1)return c.setRightGapCursor(e);var s=u.Selection.findFrom(a,1,!0);s&&(c.view.focus(),r(n.tr.setSelection(s)))}}})),e(s)(this,"isCollapsed",(function(){return!c.node.attrs.__expanded})),e(s)(this,"setRightGapCursor",(function(e){if(c.input){var t=c.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){var o=c.view,i=o.state,a=o.dispatch;e.preventDefault(),c.view.focus(),a(i.tr.setSelection(new b.GapCursorSelection(i.doc.resolve(c.node.nodeSize+c.getPos()),b.Side.RIGHT)))}}})),e(s)(this,"setLeftGapCursor",(function(e){if(c.input){var t=c.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=c.view,o=r.state,i=r.dispatch;c.view.focus(),i(o.tr.setSelection(new b.GapCursorSelection(o.doc.resolve(c.getPos()),b.Side.LEFT)))}}})),e(s)(this,"handleArrowRightFromTitle",(function(e){if(c.input){var t=c.input,n=t.value,r=t.selectionStart;if(r===t.selectionEnd&&r===n.length){e.preventDefault();var o=c.view,i=o.state,a=o.dispatch;c.view.focus(),k.setSelectionRelativeToNode(x.RelativeSelectionPos.End,u.NodeSelection.create(i.doc,c.getPos()))(i,a)}}})),e(s)(this,"handleArrowLeftFromTitle",(function(e){if(c.input){var t=c.input,n=t.selectionStart;if(n===t.selectionEnd&&0===n){e.preventDefault();var r=c.view,o=r.state,i=r.dispatch;c.view.focus(),void 0===C.getPluginState(o).selectionRelativeToNode?k.setSelectionRelativeToNode(void 0,new b.GapCursorSelection(o.doc.resolve(c.getPos()),b.Side.LEFT))(o,i):k.setSelectionRelativeToNode(x.RelativeSelectionPos.Start,u.NodeSelection.create(o.doc,c.getPos()))(o,i)}}})),this.reactContext=a()||{};var l=p.DOMSerializer.renderSpec(document,function(e,t){return["div",{class:(n=e.type.name,r=e.attrs.__expanded,"".concat(v.expandClassNames.prefix," ").concat(v.expandClassNames.type(n)," ").concat(r?v.expandClassNames.expanded:"")),"data-node-type":e.type.name,"data-title":e.attrs.title},["div",{class:v.expandClassNames.titleContainer,contenteditable:"false",tabindex:"-1"},["div",{class:v.expandClassNames.icon}],["div",{class:v.expandClassNames.inputContainer},["input",{class:v.expandClassNames.titleInput,value:e.attrs.title,placeholder:t&&t.formatMessage(h.messages.expandPlaceholderText)||h.messages.expandPlaceholderText.defaultMessage,type:"text"}]]],["div",{class:v.expandClassNames.content},0]];var n,r}(n,this.reactContext.intl)),d=l.dom,S=l.contentDOM;this.getPos=o,this.pos=o(),this.view=r,this.node=n,this.dom=d,this.contentDOM=S,this.icon=this.dom.querySelector(".".concat(v.expandClassNames.icon)),this.input=this.dom.querySelector(".".concat(v.expandClassNames.titleInput)),this.titleContainer=this.dom.querySelector(".".concat(v.expandClassNames.titleContainer)),this.content=this.dom.querySelector(".".concat(v.expandClassNames.content)),this.renderIcon(this.reactContext.intl),this.initHandlers()}return e(a)(t,[{key:"initHandlers",value:function(){this.dom&&(this.dom.addEventListener("click",this.handleClick),this.dom.addEventListener("input",this.handleInput)),this.input&&this.input.addEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.addEventListener("focus",this.handleFocus),this.icon&&this.icon.addEventListener("keydown",this.handleIconKeyDown)}},{key:"renderIcon",value:function(t,n){if(this.icon){var r=(n&&n.attrs||this.node.attrs).__expanded;e(l).render(e(c).createElement(d.ExpandIconButton,{allowInteractiveExpand:this.isAllowInteractiveExpandEnabled(),expanded:r}),this.icon)}}},{key:"stopEvent",value:function(e){var t=e.target;return t===this.input||t===this.icon||!!E.closestElement(t,".".concat(v.expandClassNames.icon))}},{key:"ignoreMutation",value:function(e){return"selection"!==e.type}},{key:"update",value:function(e,t){var n=this;return this.node.type===e.type&&(this.node.attrs.__expanded!==e.attrs.__expanded&&(this.dom&&(this.dom.classList.toggle(v.expandClassNames.expanded),this.renderIcon(this.reactContext&&this.reactContext.intl,e)),this.content&&this.content.setAttribute("contenteditable",e.attrs.__expanded)),window.requestAnimationFrame((function(){n.input&&n.node.attrs.title!==n.input.value&&(n.input.value=n.node.attrs.title)})),this.node=e,!0)}},{key:"destroy",value:function(){this.dom&&(this.dom.removeEventListener("click",this.handleClick),this.dom.removeEventListener("input",this.handleInput)),this.input&&this.input.removeEventListener("keydown",this.handleTitleKeydown),this.titleContainer&&this.titleContainer.removeEventListener("focus",this.handleFocus),this.icon&&(this.icon.removeEventListener("keydown",this.handleIconKeyDown),e(l).unmountComponentAtNode(this.icon)),this.dom=void 0,this.contentDOM=void 0,this.icon=void 0,this.input=void 0,this.titleContainer=void 0,this.content=void 0}}]),t}();function T(e){return function(t,n,r){return new S(t,n,r,e)}}})),r.register("2gplO",(function(n,o){t(n.exports,"ExpandIconButton",(function(){return N}));var i=r("l15hj"),a=r("bRWI2"),s=r("go2dD"),c=r("4NDMl"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("jgze0"),p=r("61szk");r("31Xz9");var h=r("kInf8");r("igW5C");var g=r("iTrTE");r("8iml0");var m=r("82cWi"),v=r("kb3XG");r("k1QaE");var b=r("kzvDE"),y=r("agYmX");function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?E(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var C,S=p.forwardRef((function(t,n){return e(p).createElement(g.ExpandLayoutWrapper,e(f)({},t,{innerRef:n}))})),T=function(t){var n=t.label,r=t.allowInteractiveExpand,o=p.useCallback((function(n,r){var o=n(r),i=o.buttonStyles,s=e(a)(o,["buttonStyles"]);return x({buttonStyles:x(x({},i),{},{height:"100%","& svg":{transform:t.expanded?"transform: rotate(90deg);":"tranform: rotate(0deg);",transition:"transform 0.2s ".concat(m.akEditorSwoopCubicBezier,";")}})},s)}),[t]);return e(p).createElement(h.default,{appearance:"subtle",className:y.expandClassNames.iconContainer,iconBefore:e(p).createElement(e(v),{label:n}),shouldFitContainer:!0,theme:o,isDisabled:!r})},O=(C=T,function(t){e(l)(r,t);var n=k(r);function r(t){return e(s)(this,r),n.call(this,t)}return e(c)(r,[{key:"render",value:function(){var t=this.props.label;return e(p).createElement(b.default,{content:t,position:"top",tag:S},e(p).createElement(C,this.props))}}]),r}(e(p).Component)),w=T,N=function(t){var n=t.expanded,r=t.intl,o=n?g.messages.collapseNode:g.messages.expandNode,i=r&&r.formatMessage(o)||o.defaultMessage,a=!(!!window.matchMedia&&window.matchMedia("(any-hover: hover)").matches!==window.matchMedia("(any-hover: none)").matches)||window.matchMedia("(any-hover: hover)").matches;return t.allowInteractiveExpand&&a?e(p).createElement(O,e(f)({label:i},t)):e(p).createElement(g.ExpandLayoutWrapper,null,e(p).createElement(w,e(f)({label:i},t)))}})),r.register("agYmX",(function(e,n){t(e.exports,"expandClassNames",(function(){return o}));var r="ak-editor-expand",o={prefix:r,expanded:"".concat(r,"__expanded"),titleContainer:"".concat(r,"__title-container"),inputContainer:"".concat(r,"__input-container"),iconContainer:"".concat(r,"__icon-container"),icon:"".concat(r,"__icon"),titleInput:"".concat(r,"__title-input"),content:"".concat(r,"__content"),type:function(e){return"".concat(r,"__type-").concat(e)}}})),r.register("e8I5c",(function(e,n){t(e.exports,"expandKeymap",(function(){return m}));var o=r("6mFHM"),i=r("eBSbE"),a=r("7uC1r"),s=r("1wUBP"),c=r("d9wIc"),l=r("5nxkt"),u=r("9J8af"),d=r("agYmX"),f=r("jF2qR"),p=r("cRHRu"),h=r("6Ms1b"),g=function(e){return e instanceof i.NodeSelection&&("expand"===e.node.type.name||"nestedExpand"===e.node.type.name)};function m(){var e={};return a.bindKeymapWithCommand(a.moveRight.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=p.getPluginState(e).selectionRelativeToNode;return!(!g(r)||o!==h.RelativeSelectionPos.Start)&&f.focusTitle(r.from+1)(e,t,n)}),e),a.bindKeymapWithCommand(a.moveLeft.common,(function(e,t,n){if(!n)return!1;var r=e.selection,o=p.getPluginState(e).selectionRelativeToNode;return!(!g(r)||void 0!==o&&o!==h.RelativeSelectionPos.End)&&f.focusTitle(r.from+1)(e,t,n)}),e),a.bindKeymapWithCommand(a.tab.common,(function(e,t,n){if(e.selection instanceof i.NodeSelection&&e.selection.node.type===e.schema.nodes.expand&&n&&n.dom instanceof HTMLElement){var r=e.selection.from,o=n.nodeDOM(r);if(!(o&&o instanceof HTMLElement))return!1;var a=o.querySelector(".".concat(d.expandClassNames.iconContainer));if(a&&a.focus){var s=e.tr,c=e.selection.from;s.setSelection(new i.TextSelection(s.doc.resolve(c))),t&&t(s),n.dom.blur(),a.focus()}return!0}return!1}),e),a.bindKeymapWithCommand(a.moveUp.common,(function(e,t,n){var r=l.findTypeAheadQuery(e);if(-1!==r.start&&-1!==r.end||!n)return!1;var o=e.selection,a=e.schema,u=o.$from.nodeBefore;if(o instanceof s.GapCursorSelection&&o.side===s.Side.RIGHT&&u&&(u.type===a.nodes.expand||u.type===a.nodes.nestedExpand)&&!u.attrs.__expanded){var d=o.$from;return f.focusTitle(Math.max(d.pos-1,0))(e,t,n)}var p=e.selection.$from;if(n.endOfTextblock("up")){var h=c.findExpand(e),g=Math.max(p.pos-p.parentOffset-1,0);if(h&&h.start===g)return f.focusTitle(h.start)(e,t,n);var m=i.Selection.findFrom(e.doc.resolve(g),-1),v=c.findExpand(e,m);if(m&&v)return v.node.attrs.__expanded?(t&&t(e.tr.setSelection(m)),!0):f.focusTitle(v.start)(e,t,n)}return!1}),e),a.bindKeymapWithCommand(a.moveDown.common,(function(e,t,n){if(!n)return!1;var r=e.schema.nodes,o=r.expand,i=r.nestedExpand,a=e.selection,c=a.$from.nodeAfter;if(a instanceof s.GapCursorSelection&&a.side===s.Side.LEFT&&c&&(c.type===o||c.type===i)&&!c.attrs.__expanded){var l=a.$from;return f.focusTitle(l.pos+1)(e,t,n)}if(n.endOfTextblock("down")){var u=e.selection.$from,d=e.doc.resolve(u.after());if(d.nodeAfter&&(d.nodeAfter.type===o||d.nodeAfter.type===i))return f.focusTitle(d.pos+1)(e,t,n)}return!1}),e),a.bindKeymapWithCommand(a.backspace.common,(function(e,t,n){var r=e.selection;if(!n||!r.empty)return!1;var o=e.schema.nodes,a=o.expand,s=o.nestedExpand,l=c.findExpand(e);if(!l){var d=i.Selection.findFrom(e.doc.resolve(Math.max(r.$from.pos-1,0)),-1),p=c.findExpand(e,d);return!(!p||p.node.type!==a&&p.node.type!==s||p.node.attrs.__expanded)&&f.focusTitle(p.start)(e,t,n)}var h=i.Selection.findFrom(e.doc.resolve(l.pos),1,!0);return!!(h&&r.$from.pos===h.$from.pos&&u.isEmptyNode(e.schema)(l.node)&&t)&&f.deleteExpand()(e,t)}),e),o.keymap(e)}})),r.register("gRTWj",(function(n,o){t(n.exports,"getToolbarConfig",(function(){return u}));var i=r("iOuu2"),a=r("ch3px"),s=r("jF2qR"),c=r("hIycq"),l=r("cw59o"),u=function(t,n){var r=n.formatMessage,o=l.getPluginState(t).expandRef;if(o){var u=t.schema.nodes,d=u.nestedExpand,f=u.expand;return{title:"Expand toolbar",getDomRef:function(){return o},nodeType:[d,f],offset:[0,6],items:[{id:"editor.expand.delete",type:"button",appearance:"danger",icon:e(i),onClick:s.deleteExpand(),onMouseEnter:c.hoverDecoration([d,f],!0),onMouseLeave:c.hoverDecoration([d,f],!1),title:r(a.default.remove)}]}}}})),r.register("dxzo9",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("eBSbE"),i=r("larhf"),a=r("k9AYs"),s=new o.PluginKey("scrollIntoViewPlugin"),c=function(){return{name:"scrollIntoView",pmPlugins:function(){return[{name:"scrollIntoView",plugin:function(){return new o.Plugin({key:s,appendTransaction:function(e,t,n){if(e.length){var r=e[0];return!r.docChanged&&!r.storedMarksSet||r.scrolledIntoView||!1===r.getMeta("scrollIntoView")||!1===r.getMeta("addToHistory")||r.getMeta("isRemote")||r.getMeta(i.typeAheadInputRulesPluginKey)||r.getMeta(a.TEXT_INPUT_RULE_TRANSACTION_KEY)?void 0:n.tr.scrollIntoView()}}})}}]}}}})),r.register("larhf",(function(n,o){t(n.exports,"typeAheadInputRulesPluginKey",(function(){return l})),t(n.exports,"inputRulePlugin",(function(){return u}));var i=r("fw3Q6"),a=r("cky9Z"),s=r("k9AYs");r("hVc61");var c=r("dm770"),l="";function u(t,n,r){var o=n.map((function(e){return e.customRegex||e.trigger})).join("|");if(o.length){var u=new RegExp("(^|[.!?\\s".concat(s.leafNodeReplacementCharacter,"])(").concat(o,")$")),d=a.createRule(u,(function(n,r){var o=c.pluginKey.getState(n),a=r[3]||r[2];if(!o.isAllowed||!a)return null;var s=t.mark("typeAheadQuery",{trigger:a}),l=n.tr,u=n.selection.$from.marks();return l.replaceSelectionWith(t.text(a,[s].concat(e(i)(u))),!1)})),f=a.createPlugin("type-ahead",[d],{allowInsertTextOnDocument:!1,useUnpredictableInputRule:r.useUnpredictableInputRule});return l=f.key,f}}})),r.register("6jQdx",(function(e,n){t(e.exports,"default",(function(){return d}));var o=r("eBSbE"),i=r("k7Rma"),a=r("2xQ3g"),s=r("cS8zP"),c=function(){return{keyboardHeight:-1,heightDiff:-1,mobilePaddingTop:0,windowHeight:window.innerHeight}},l=function(e,t){if(-1!==e&&-1!==t){var n=u(e,t),r=n.scrollThreshold,o=n.scrollMargin;this.props&&(this.props.scrollThreshold=r,this.props.scrollMargin=o)}},u=function(e,t){return{scrollThreshold:{top:0,bottom:e+44-t,left:0,right:0},scrollMargin:{top:5,bottom:e-t+44,left:0,right:0}}},d=function(){return{name:"mobileScroll",pmPlugins:function(){return[{name:"mobileScroll",plugin:function(e){return function(e){var t;return new o.Plugin({state:s.createPluginState(e,c),key:s.mobileScrollPluginKey,props:{scrollThreshold:void 0,scrollMargin:void 0,handleScrollToSelection:function(e){var t=document.scrollingElement;if(!t)return!1;var n=s.getPluginState(e.state),r=n.keyboardHeight,o=n.heightDiff,i=t.clientHeight-window.innerHeight;return o!==i&&(a.setHeightDiff(i)(e.state,e.dispatch),l.call(this,r,i)),!1}},appendTransaction:function(e,t,n){if(e.find((function(e){var t=e.getMeta(s.mobileScrollPluginKey);return t&&(t.type===i.MobileScrollActionTypes.SET_KEYBOARD_HEIGHT||t.type===i.MobileScrollActionTypes.SET_WINDOW_HEIGHT)}))){var r=s.getPluginState(t),o=r.keyboardHeight,a=r.windowHeight,c=s.getPluginState(n),u=c.keyboardHeight,d=c.heightDiff,f=c.windowHeight;if(o!==u&&l.call(this,u,d),f<a)return n.tr.scrollIntoView()}},view:function(e){var n=function(){var n=window.innerHeight,r=0;t=requestAnimationFrame((function o(){window.innerHeight===n&&(++r>=5?(t=void 0,a.setWindowHeight(window.innerHeight)(e.state,e.dispatch)):t=requestAnimationFrame(o))}))};return window.addEventListener("resize",n),{destroy:function(){window.removeEventListener("resize",n),t&&window.cancelAnimationFrame(t)}}}})}(e.dispatch)}}]}}}})),r.register("k7Rma",(function(e,n){var r,o;t(e.exports,"MobileScrollActionTypes",(function(){return r})),(o=r||(r={})).SET_KEYBOARD_HEIGHT="SET_KEYBOARD_HEIGHT",o.SET_HEIGHT_DIFF="SET_HEIGHT_DIFF",o.SET_WINDOW_HEIGHT="SET_WINDOW_HEIGHT",o.SET_MOBILE_PADDING_TOP="SET_MOBILE_PADDING_TOP"})),r.register("2xQ3g",(function(e,n){t(e.exports,"setHeightDiff",(function(){return a})),t(e.exports,"setWindowHeight",(function(){return s}));var o=r("k7Rma"),i=r("cS8zP"),a=function(e){return i.createCommand({type:o.MobileScrollActionTypes.SET_HEIGHT_DIFF,heightDiff:e})},s=function(e){return i.createCommand({type:o.MobileScrollActionTypes.SET_WINDOW_HEIGHT,windowHeight:e})}})),r.register("cS8zP",(function(e,n){t(e.exports,"mobileScrollPluginKey",(function(){return s})),t(e.exports,"createPluginState",(function(){return l})),t(e.exports,"getPluginState",(function(){return u})),t(e.exports,"createCommand",(function(){return d}));var o=r("eBSbE"),i=r("27k6c"),a=r("7LmVT"),s=new o.PluginKey("mobileScroll"),c=i.pluginFactory(s,a.default),l=c.createPluginState,u=c.getPluginState,d=c.createCommand})),r.register("7LmVT",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("l15hj"),a=r("k7Rma");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function l(e,t){switch(t.type){case a.MobileScrollActionTypes.SET_KEYBOARD_HEIGHT:return c(c({},e),{},{keyboardHeight:t.keyboardHeight});case a.MobileScrollActionTypes.SET_HEIGHT_DIFF:return c(c({},e),{},{heightDiff:t.heightDiff});case a.MobileScrollActionTypes.SET_WINDOW_HEIGHT:return c(c({},e),{},{windowHeight:t.windowHeight});case a.MobileScrollActionTypes.SET_MOBILE_PADDING_TOP:return c(c({},e),{},{mobilePaddingTop:t.paddingTop})}return e}})),r.register("h7KVa",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("61szk"),a=r("X9oNZ"),s=r("bdkkl"),c=r("jFbms"),l=r("4s4wW"),u=r("9aUdx"),d=r("1ZvE5"),f=r("5lVoD");r("cTu5S");var p=r("9V1f8"),h=r("lWHVr"),g=function(t){return{name:"findReplace",pmPlugins:function(){return[{name:"findReplace",plugin:function(e){var t=e.dispatch;return a.createPlugin(t)}},{name:"findReplaceKeymap",plugin:function(){return c.default()}}]},primaryToolbarComponent:function(n){var r=n.popupsBoundariesElement,o=n.popupsMountPoint,a=n.popupsScrollableElement,c=n.isToolbarReducedSpacing,g=n.editorView,m=n.containerElement,v=n.dispatchAnalyticsEvent,b=function(e){var t=document.activeElement;g.focus(),e(),null==t||t.focus()},y=function(e){e(g.state,g.dispatch)},E=function(){b((function(){return y(u.activateWithAnalytics({triggerMethod:p.TRIGGER_METHOD.TOOLBAR}))}))},x=function(e){b((function(){return y(u.findWithAnalytics({editorView:g,containerElement:m,keyword:e}))}))},k=function(e){var t=e.triggerMethod;b((function(){return y(u.findNextWithAnalytics({triggerMethod:t}))}))},C=function(e){var t=e.triggerMethod;b((function(){return y(u.findPrevWithAnalytics({triggerMethod:t}))}))},S=function(e){var t=e.triggerMethod,n=e.replaceText;b((function(){return y(u.replaceWithAnalytics({triggerMethod:t,replaceText:n}))}))},T=function(e){var t=e.replaceText;b((function(){return y(u.replaceAllWithAnalytics({replaceText:t}))}))},O=function(){y(d.blur())},w=function(e){var t=e.triggerMethod;y(u.cancelSearchWithAnalytics({triggerMethod:t})),g.focus()},N=function(){y(d.toggleMatchCase())},P=h.getFeatureFlags(g.state).findReplaceMatchCase;return e(i).createElement(l.default,{debounce:!1,plugins:{findReplaceState:s.findReplacePluginKey},render:function(n){var s=n.findReplaceState;return e(i).createElement(f.default,{allowMatchCase:P,shouldMatchCase:s.shouldMatchCase,onToggleMatchCase:N,isActive:s.isActive,findText:s.findText,index:s.index,numMatches:s.matches.length,replaceText:s.replaceText,shouldFocus:s.shouldFocus,popupsBoundariesElement:r,popupsMountPoint:o,popupsScrollableElement:a,isReducedSpacing:c,dispatchAnalyticsEvent:v,onFindBlur:O,onCancel:w,onActivate:E,onFind:x,onFindNext:k,onFindPrev:C,onReplace:S,onReplaceAll:T,takeFullWidth:t.takeFullWidth})}})}}}})),r.register("X9oNZ",(function(n,o){t(n.exports,"createCommand",(function(){return y})),t(n.exports,"getPluginState",(function(){return E})),t(n.exports,"createPlugin",(function(){return k}));var i=r("l15hj"),a=r("fw3Q6"),s=r("eBSbE"),c=r("9MUi0"),l=r("27k6c"),u=r("9oiJg"),d=r("bdkkl"),f=r("dOVhp"),p=r("3rmnP"),h=r("5rpLS");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v={isActive:!1,shouldFocus:!1,findText:"",replaceText:"",index:0,matches:[],decorationSet:c.DecorationSet.empty,shouldMatchCase:!1},b=l.pluginFactory(d.findReplacePluginKey,u.default((function(){return v})),{onDocChanged:function(t,n){var r=n.isActive,o=n.findText;if(!r||!o)return n;if(!t.steps.find(h.stepHasSlice))return n;var i=n.index,s=n.decorationSet,l=n.matches,u=n.shouldMatchCase,d=f.findMatches(t.doc,o,u),g=(s=s.map(t.mapping,t.doc)).find().length,v=l.map((function(e){return{start:t.mapping.map(e.start),end:t.mapping.map(e.end)}})),b=[],y=[];if(d.length>0&&0===g?b=d:0===d.length&&g>0?s=c.DecorationSet.empty:(d.length>0||g>0)&&t.steps.forEach((function(n){h.stepHasSlice(n)&&(b=[].concat(e(a)(b),e(a)(d.filter((function(e){return f.isMatchAffectedByStep(e,n,t)&&!f.findDecorationFromMatch(s,e)})))),y=[].concat(e(a)(y),e(a)(p.findUniqueItemsIn(v.filter((function(e){return f.isMatchAffectedByStep(e,n,t)&&!!f.findDecorationFromMatch(s,e)})),d,(function(e,t){return e.start===t.start&&e.end===t.end})))))})),y.length>0){var E=y.reduce((function(t,n){return[].concat(e(a)(t),e(a)(s.find(n.start,n.end)))}),[]);s=f.removeDecorationsFromSet(s,E,t.doc)}b.length>0&&(s=s.add(t.doc,f.createDecorations(t.selection.from,b)));var x=i,k=v[i];k&&(x=d.findIndex((function(e){return e.start===k.start}))),void 0!==x&&-1!==x||(x=f.findSearchIndex(t.selection.from,d));var C=d[x];return s=f.removeMatchesFromSet(s,[k,C],t.doc),C&&(s=s.add(t.doc,f.createDecorations(0,[C]))),m(m({},n),{},{matches:d,index:x,decorationSet:s})}}),y=b.createCommand,E=b.getPluginState,x=b.createPluginState,k=function(e){return new s.Plugin({key:d.findReplacePluginKey,state:x(e,(function(){return v})),props:{decorations:function(e){var t=E(e),n=t.isActive,r=t.findText,o=t.decorationSet;if(n&&r)return o}}})}})),r.register("9oiJg",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("l15hj"),a=r("55QHU");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=function(e){return function(t,n){switch(n.type){case a.FindReplaceActionTypes.ACTIVATE:case a.FindReplaceActionTypes.FIND:return c(c({},t),{},{isActive:!0,shouldFocus:n.type===a.FindReplaceActionTypes.ACTIVATE,findText:void 0!==n.findText?n.findText:t.findText,matches:n.matches||t.matches,index:void 0!==n.index?n.index:t.index});case a.FindReplaceActionTypes.UPDATE_DECORATIONS:return c(c({},t),{},{decorationSet:n.decorationSet});case a.FindReplaceActionTypes.FIND_NEXT:case a.FindReplaceActionTypes.FIND_PREVIOUS:return c(c({},t),{},{index:n.index,decorationSet:n.decorationSet});case a.FindReplaceActionTypes.REPLACE:case a.FindReplaceActionTypes.REPLACE_ALL:return c(c({},t),{},{replaceText:n.replaceText,decorationSet:n.decorationSet,matches:n.matches,index:n.index});case a.FindReplaceActionTypes.CANCEL:return e();case a.FindReplaceActionTypes.BLUR:return c(c({},t),{},{shouldFocus:!1});case a.FindReplaceActionTypes.TOGGLE_MATCH_CASE:return c(c({},t),{},{shouldMatchCase:!t.shouldMatchCase});default:return t}}}})),r.register("55QHU",(function(e,n){var r,o;t(e.exports,"FindReplaceActionTypes",(function(){return r})),(o=r||(r={})).ACTIVATE="ACTIVATE",o.FIND="FIND",o.UPDATE_DECORATIONS="UPDATE_DECORATIONS",o.FIND_NEXT="FIND_NEXT",o.FIND_PREVIOUS="FIND_PREVIOUS",o.REPLACE="REPLACE",o.REPLACE_ALL="REPLACE_ALL",o.CANCEL="CANCEL",o.BLUR="BLUR",o.TOGGLE_MATCH_CASE="TOGGLE_MATCH_CASE"})),r.register("bdkkl",(function(e,n){t(e.exports,"findReplacePluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("findReplace")})),r.register("dOVhp",(function(e,n){t(e.exports,"getSelectedText",(function(){return s})),t(e.exports,"createDecorations",(function(){return c})),t(e.exports,"createDecoration",(function(){return l})),t(e.exports,"findMatches",(function(){return u})),t(e.exports,"findSearchIndex",(function(){return d})),t(e.exports,"nextIndex",(function(){return f})),t(e.exports,"prevIndex",(function(){return p})),t(e.exports,"getSelectionForMatch",(function(){return h})),t(e.exports,"findDecorationFromMatch",(function(){return g})),t(e.exports,"removeDecorationsFromSet",(function(){return m})),t(e.exports,"removeMatchesFromSet",(function(){return v})),t(e.exports,"isMatchAffectedByStep",(function(){return E}));var o=r("9MUi0"),i=r("eBSbE"),a=r("22Kvz");function s(e){for(var t="",n=e.content().content,r=0;r<n.childCount;r++)t+=n.child(r).textContent;return t}var c=function(e,t){return t.map((function(t,n){var r=t.start,o=t.end;return l(r,o,n===e)}))},l=function(e,t,n){var r=a.searchMatchClass;return n&&(r+=" ".concat(a.selectedSearchMatchClass)),o.Decoration.inline(e,t,{class:r})};function u(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=[],i=t.length,a=null,s=function(e){if(e){var a=e.text,s=e.pos,c=r+s;n||(t=t.toLowerCase(),a=a.toLowerCase());for(var l=a.indexOf(t);-1!==l;){var u=l+i;o.push({start:c+l,end:c+u}),l=a.indexOf(t,u)}}};return i>0&&(e.descendants((function(e,t){e.isText?null===a?a={text:e.text,pos:t}:a.text=a.text+e.text:(s(a),a=null)})),a&&s(a)),o}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r=t.findIndex((function(t){return t.start>=e}))-1;return r<0&&(r=t.length-1),r}return Math.max(t.findIndex((function(t){return t.start>=e})),0)}var f=function(e,t){return(e+1)%t},p=function(e,t){return(e-1+t)%t},h=function(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return r[n]?i.TextSelection.create(t,r[n].start+o):e},g=function(e,t){if(t){var n=e.find(t.start,t.end);return n.length?n.find((function(e){return e.from===t.start&&e.to===t.end})):void 0}},m=function(e,t,n){var r=e.find(),o=(e=e.remove(t.map((function(e){return e.copy(e.from,e.to)})))).find(),i=b(t,r,o);return i.length>0&&(e=e.add(n,i)),e},v=function(e,t,n){return t.filter((function(e){return!!e})).map((function(t){return g(e,t)})).forEach((function(t){t&&(e=m(e,[t],n))})),e},b=function(e,t,n){var r=[];if(t.length-e.length>n.length){for(var o=e.length>0?e[0].from:0,i=y(t,o),a=y(n,o),s=Math.min(i,a),c=t.slice(s),l=n.slice(s),u=[],d=c.length-l.length,f=!1,p=0,h=function(t){var n=c[t];if(e.find((function(e){return e.from===n.from})))return p-=1,"continue";var r=t+p;for(r>=l.length&&(u.push(n),u.length===d&&(f=!0));r<l.length;r++){var o=l[r];if(n.from===o.from)break;if(o.from>n.from||r===l.length-1){u.push(n),p-=1,u.length===d&&(f=!0);break}}return f?"break":void 0},g=0;g<c.length;g++){var m=h(g);if("continue"!==m&&"break"===m)break}r=u.filter((function(t){return!e.find((function(e){return t.from===e.from}))}))}return r},y=function(e,t){for(var n=0,r=e.length-1;r>=0;r-=100){if(e[r].from<t){n=r;for(var o=r;o<=e.length-1&&e[o].from<=t;o++)n=o;break}r<100&&r>0&&(r=100)}return n},E=function(e,t,n){var r=t.from,o=t.to,i=t.slice.content.size;return r+i>=e.start&&o-i<=e.end||n.mapping.map(r)+i>=e.start&&n.mapping.map(o)-i<=e.end}})),r.register("22Kvz",(function(n,o){t(n.exports,"searchMatchClass",(function(){return d})),t(n.exports,"selectedSearchMatchClass",(function(){return f})),t(n.exports,"findReplaceStyles",(function(){return p}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("cufhv"),l=c.B75,u=c.B200,d="search-match",f="selected-search-match",p=s.css(i||(i=e(a)(["\n  ."," {\n    background-color: ",";\n  }\n\n  ."," {\n    background-color: ",";\n    color: white;\n  }\n"])),d,l,f,u)})),r.register("jFbms",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("6mFHM"),i=r("7uC1r"),a=r("9aUdx");r("cTu5S");var s=r("9V1f8"),c=function(){var e={};return i.bindKeymapWithCommand(i.find.common,(function(e,t){return a.activateWithAnalytics({triggerMethod:s.TRIGGER_METHOD.SHORTCUT})(e,t),!0}),e),o.keymap(e)}})),r.register("9aUdx",(function(e,n){t(e.exports,"activateWithAnalytics",(function(){return c})),t(e.exports,"findWithAnalytics",(function(){return l})),t(e.exports,"findNextWithAnalytics",(function(){return u})),t(e.exports,"findPrevWithAnalytics",(function(){return d})),t(e.exports,"replaceWithAnalytics",(function(){return f})),t(e.exports,"replaceAllWithAnalytics",(function(){return p})),t(e.exports,"cancelSearchWithAnalytics",(function(){return h}));var o=r("eBSbE");r("cTu5S");var i=r("hNVBR"),a=r("9V1f8"),s=r("1ZvE5"),c=function(e){var t=e.triggerMethod;return i.withAnalytics((function(e){return{eventType:a.EVENT_TYPE.UI,action:a.ACTION.ACTIVATED,actionSubject:a.ACTION_SUBJECT.FIND_REPLACE_DIALOG,attributes:{inputMethod:e.selection instanceof o.TextSelection&&!e.selection.empty?a.INPUT_METHOD.PREFILL:a.INPUT_METHOD.KEYBOARD,triggerMethod:t}}}))(s.activate())},l=function(e){var t=e.editorView,n=e.containerElement,r=e.keyword;return i.withAnalytics({eventType:a.EVENT_TYPE.TRACK,action:a.ACTION.FIND_PERFORMED,actionSubject:a.ACTION_SUBJECT.TEXT})(s.find(t,n,r))},u=function(e){var t=e.triggerMethod;return i.withAnalytics({eventType:a.EVENT_TYPE.TRACK,action:a.ACTION.FIND_NEXT_PERFORMED,actionSubject:a.ACTION_SUBJECT.TEXT,attributes:{triggerMethod:t}})(s.findNext())},d=function(e){var t=e.triggerMethod;return i.withAnalytics({eventType:a.EVENT_TYPE.TRACK,action:a.ACTION.FIND_PREV_PERFORMED,actionSubject:a.ACTION_SUBJECT.TEXT,attributes:{triggerMethod:t}})(s.findPrevious())},f=function(e){var t=e.triggerMethod,n=e.replaceText;return i.withAnalytics({eventType:a.EVENT_TYPE.TRACK,action:a.ACTION.REPLACED_ONE,actionSubject:a.ACTION_SUBJECT.TEXT,attributes:{triggerMethod:t}})(s.replace(n))},p=function(e){var t=e.replaceText;return i.withAnalytics({eventType:a.EVENT_TYPE.TRACK,action:a.ACTION.REPLACED_ALL,actionSubject:a.ACTION_SUBJECT.TEXT})(s.replaceAll(t))},h=function(e){var t=e.triggerMethod;return i.withAnalytics({eventType:a.EVENT_TYPE.UI,action:a.ACTION.DEACTIVATED,actionSubject:a.ACTION_SUBJECT.FIND_REPLACE_DIALOG,attributes:{triggerMethod:t}})(s.cancelSearch())}})),r.register("1ZvE5",(function(e,n){t(e.exports,"activate",(function(){return d})),t(e.exports,"find",(function(){return f})),t(e.exports,"findNext",(function(){return p})),t(e.exports,"findPrevious",(function(){return h})),t(e.exports,"replace",(function(){return m})),t(e.exports,"replaceAll",(function(){return v})),t(e.exports,"cancelSearch",(function(){return E})),t(e.exports,"blur",(function(){return x})),t(e.exports,"toggleMatchCase",(function(){return k}));var o=r("eBSbE"),i=r("9MUi0"),a=r("X9oNZ"),s=r("55QHU"),c=r("dOVhp"),l=r("jd53t"),u=r("6mC1B"),d=function(){return a.createCommand((function(e){var t,n,r,i=e.selection;if(i instanceof o.TextSelection&&!i.empty){t=c.getSelectedText(i);var l=a.getPluginState(e).shouldMatchCase;n=c.findMatches(e.doc,t,l),r=c.findSearchIndex(i.from,n)}return{type:s.FindReplaceActionTypes.ACTIVATE,findText:t,matches:n,index:r}}))},f=function(e,t,n){return l.withScrollIntoView(a.createCommand((function(r){var o=r.selection,i=a.getPluginState(r).shouldMatchCase,l=void 0!==n?c.findMatches(r.doc,n,i):[],d=c.findSearchIndex(o.from,l);return u.default.applyAllSearchDecorations(e,t,(function(t){return b(t)(e.state,e.dispatch)}),(function(t){return y(t)(e.state,e.dispatch)})),{type:s.FindReplaceActionTypes.FIND,findText:n||"",matches:l,index:d}}),(function(e,t){var r=t.selection,o=a.getPluginState(t).shouldMatchCase,i=void 0!==n?c.findMatches(t.doc,n,o):[];if(i.length>0){var s=c.findSearchIndex(r.from,i);return e.setSelection(c.getSelectionForMatch(e.selection,e.doc,s,i))}return e})))},p=function(){return l.withScrollIntoView(a.createCommand((function(e){return g(e,"next")}),(function(e,t){var n=a.getPluginState(t),r=n.matches,o=n.index,i=c.findSearchIndex(t.selection.from,r);return i===o&&(i=c.nextIndex(i,r.length)),e.setSelection(c.getSelectionForMatch(e.selection,e.doc,i,r))})))},h=function(){return l.withScrollIntoView(a.createCommand((function(e){return g(e,"previous")}),(function(e,t){var n=a.getPluginState(t).matches,r=c.findSearchIndex(t.selection.from,n,!0);return e.setSelection(c.getSelectionForMatch(e.selection,e.doc,r,n))})))},g=function(e,t){var n=a.getPluginState(e),r=n.matches,o=n.findText,i=n.decorationSet,l=n.index;if(o){var u=c.findSearchIndex(e.selection.from,r,"previous"===t);l=l===u?"next"===t?c.nextIndex(l,r.length):c.prevIndex(l,r.length):u,i=C(e,l)}return{type:"next"===t?s.FindReplaceActionTypes.FIND_NEXT:s.FindReplaceActionTypes.FIND_PREVIOUS,index:l,decorationSet:i}},m=function(e){return l.withScrollIntoView(a.createCommand((function(t){var n=a.getPluginState(t),r=n.findText,o=n.decorationSet,i=n.matches,l=n.index;return o=C(t,c.nextIndex(l,i.length)),-1===e.toLowerCase().indexOf(r.toLowerCase())?(o=c.removeMatchesFromSet(o,[i[l]],t.doc),i.splice(l,1),l>i.length-1&&(l=0)):l=c.nextIndex(l,i.length),{type:s.FindReplaceActionTypes.REPLACE,replaceText:e,decorationSet:o,matches:i,index:l}}),(function(t,n){var r=a.getPluginState(n),o=r.matches,i=r.index,s=r.findText;if(o[i]){var l=o[i],u=l.start,d=l.end,f=c.nextIndex(i,o.length);t.insertText(e,u,d).setSelection(c.getSelectionForMatch(t.selection,t.doc,f,o,0===f?0:e.length-s.length))}return t})))},v=function(e){return a.createCommand({type:s.FindReplaceActionTypes.REPLACE_ALL,replaceText:e,decorationSet:i.DecorationSet.empty,matches:[],index:0},(function(t,n){return a.getPluginState(n).matches.forEach((function(n){t.insertText(e,t.mapping.map(n.start),t.mapping.map(n.end))})),t.setMeta("scrollIntoView",!1),t}))},b=function(e){return a.createCommand((function(t){var n=a.getPluginState(t).decorationSet;return{type:s.FindReplaceActionTypes.UPDATE_DECORATIONS,decorationSet:n.add(t.doc,e)}}))},y=function(e){return a.createCommand((function(t){var n=a.getPluginState(t).decorationSet;return{type:s.FindReplaceActionTypes.UPDATE_DECORATIONS,decorationSet:c.removeDecorationsFromSet(n,e,t.doc)}}))},E=function(){return a.createCommand((function(){return u.default.stop(),{type:s.FindReplaceActionTypes.CANCEL}}))},x=function(){return a.createCommand({type:s.FindReplaceActionTypes.BLUR})},k=function(){return a.createCommand({type:s.FindReplaceActionTypes.TOGGLE_MATCH_CASE})},C=function(e,t){var n=a.getPluginState(e),r=n.decorationSet,o=n.index,i=n.matches,s=i[o],l=i[t];if(o===t)return r;var u=c.findDecorationFromMatch(r,s),d=c.findDecorationFromMatch(r,l),f=[];return u&&f.push(u),d&&f.push(d),f.length>0&&(f.sort((function(e,t){return e.from<t.from?-1:1})),r=c.removeDecorationsFromSet(r,f,e.doc)),s&&(r=r.add(e.doc,[c.createDecoration(s.start,s.end)])),l&&(r=r.add(e.doc,[c.createDecoration(l.start,l.end,!0)])),r}})),r.register("6mC1B",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("dOVhp"),u=r("X9oNZ"),d=100,f=2e3,p=function(){function t(){e(s)(this,t)}var n,r,o,p;return e(c)(t,[{key:"stop",value:function(){this.rafId&&cancelAnimationFrame(this.rafId)}},{key:"applyAllSearchDecorations",value:(p=e(a)(e(i).mark((function t(n,r,o,a){var s,c,l,u,d,p,h,g,m,v;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stop(),this.addDecorations=o,this.removeDecorations=a,r){e.next=5;break}return e.abrupt("return");case 5:if(s=r.querySelector(".ProseMirror")){e.next=8;break}return e.abrupt("return");case 8:return c=this.calcDecorationPositions(n,r,s),l=c.startPos,u=c.endPos,d=c.viewportStartPos,p=c.viewportEndPos,h=0,g=d,m=p-f,e.next=15,this.updateDecorationsBetween(n,d,p);case 15:if(!(g>l||m<u)){e.next=28;break}if(!(h++%2==0&&g>l||m>=u)){e.next=23;break}return v=g-l,g=Math.max(g-f,l),e.next=21,this.updateDecorationsBetween(n,g,g+Math.min(v,f));case 21:e.next=26;break;case 23:return m=Math.min(m+f,u),e.next=26,this.updateDecorationsBetween(n,m,Math.min(m+f,u));case 26:e.next=15;break;case 28:case"end":return e.stop()}}),t,this)}))),function(e,t,n,r){return p.apply(this,arguments)})},{key:"updateDecorationsBetween",value:(o=e(a)(e(i).mark((function t(n,r,o){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.removeDecorationsBetween(n,r,o);case 2:return e.next=4,this.addDecorationsBetween(n,r,o);case 4:case"end":return e.stop()}}),t,this)}))),function(e,t,n){return o.apply(this,arguments)})},{key:"addDecorationsBetween",value:(r=e(a)(e(i).mark((function t(n,r,o){var a,s,c,f,p,h,g,m=this;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.state.selection,s=u.getPluginState(n.state),c=s.matches,f=s.decorationSet,0!==c.length){e.next=4;break}return e.abrupt("return");case 4:return p=c.filter((function(e){return e.start>=r&&(void 0===o||e.start<o)})),h=c.find((function(e){return e.start>=a.from})),g=p.findIndex((function(e){return e===h})),e.next=9,this.batchRequests((function(e){var t=p.slice(e,e+d);if(0===t.length)return!1;var n=g>=e&&g<e+d;h&&n&&l.findDecorationFromMatch(f,h)&&(t.splice(g%d,1),n=!1),m.addDecorations&&m.addDecorations(l.createDecorations(n?g%d:-1,t))}),{increment:d,until:p.length});case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),t,this)}))),function(e,t,n){return r.apply(this,arguments)})},{key:"removeDecorationsBetween",value:(n=e(a)(e(i).mark((function t(n,r,o){var a,s,c,l=this;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.getPluginState(n.state),s=a.decorationSet,0!==(c=s.find(r,o)).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,this.batchRequests((function(e){var t=c.slice(e,e+d);if(0===t.length)return!1;for(var n=0;n<t.length&&!(t[n].from>=r);n++)t=t.slice(1);l.removeDecorations&&l.removeDecorations(t)}),{increment:d,until:c.length});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),t,this)}))),function(e,t,r){return n.apply(this,arguments)})},{key:"calcDecorationPositions",value:function(e,t,n){var r=t.getBoundingClientRect(),o=n.getBoundingClientRect();return{viewportStartPos:this.getStartPos(e,0,o.left),viewportEndPos:this.getEndPos(e,r.top+r.height,o.left),startPos:1,endPos:e.state.doc.nodeSize}}},{key:"getStartPos",value:function(e,t,n){var r=e.posAtCoords({top:t,left:n});return r?r.pos:1}},{key:"getEndPos",value:function(e,t,n){var r=e.state.doc.nodeSize,o=e.posAtCoords({top:t,left:n});return o?o.pos:r}},{key:"batchRequests",value:function(e,t){var n=this,r=0,o=t.increment,i=t.until;return new Promise((function(t){n.rafId=requestAnimationFrame((function a(){for(var s=e(r);!1===s&&r<i;)s=e(r+=o);r<i?(r+=o,n.rafId=requestAnimationFrame(a)):(n.rafId=void 0,t())}))}))}}]),t}(),h=new p})),r.register("5lVoD",(function(n,o){t(n.exports,"default",(function(){return I}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("SssiD"),m=r("7RIig"),v=r("e85ck");r("8iml0");var b=r("82cWi"),y=r("gCo6x"),E=r("4mXUu"),x=r("fLIZZ");r("kH7oN");var k,C,S=r("9V1f8"),T=r("7uC1r");function O(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var w=g.default.div(k||(k=e(p)(["\n  display: flex;\n  flex: 1 1 auto;\n  flex-grow: ",";\n  justify-content: flex-end;\n  align-items: center;\n  padding: 0 8px;\n  @media (max-width: ","px) {\n    justify-content: center;\n    padding: 0;\n  }\n"])),(function(e){return e.takeFullWidth?1:0}),b.akEditorMobileMaxWidth),N=g.default.div(C||(C=e(p)(["\n  display: flex;\n  flex-direction: column;\n"]))),P=m.defineMessages({findReplaceToolbarButton:{id:"fabric.editor.findReplaceToolbarButton",defaultMessage:"Find and replace",description:'"Find" highlights all instances of a word or phrase on the document, and "Replace" changes one or all of those instances to something else'}}),A=function(t){e(l)(r,t);var n=O(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"handleKeydown",(function(e){e.metaKey&&"f"===e.key&&e.preventDefault()})),e(f)(e(c)(t),"toggleOpen",(function(){t.props.isActive?t.props.onCancel({triggerMethod:S.TRIGGER_METHOD.TOOLBAR}):t.props.onActivate()})),t}return e(s)(r,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeydown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeydown)}},{key:"render",value:function(){var t=this,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,a=n.popupsScrollableElement,s=n.isReducedSpacing,c=n.findText,l=n.replaceText,u=n.isActive,d=n.index,f=n.numMatches,p=n.intl.formatMessage,g=n.takeFullWidth,m=p(P.findReplaceToolbarButton),k=b.akEditorFloatingPanelZIndex-1;return e(h).createElement(w,{takeFullWidth:g},e(h).createElement(E.default,{mountTo:r,boundariesElement:o,scrollableElement:a,isOpen:u,handleEscapeKeydown:function(){u&&t.props.onCancel({triggerMethod:S.TRIGGER_METHOD.KEYBOARD})},fitWidth:352,zIndex:k,trigger:e(h).createElement(y.default,{buttonId:y.TOOLBAR_BUTTON.FIND_REPLACE,spacing:s?"none":"default",selected:u,title:e(h).createElement(T.ToolTipContent,{description:m,keymap:T.findKeymapByDescription("Find")}),iconBefore:e(h).createElement(e(v),{label:m}),onClick:this.toggleOpen})},e(h).createElement(N,null,e(h).createElement(x.default,e(i)({findText:c,replaceText:l,count:{index:d,total:f}},this.props)))))}}]),r}(e(h).PureComponent),I=m.injectIntl(A)})),r.register("fLIZZ",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("4R7wz"),h=r("cJkTO"),g=r("gx4z7");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"findTextfield",null),e(d)(e(s)(t),"replaceTextfield",null),e(d)(e(s)(t),"setFindTextfieldRef",(function(e){t.findTextfield=e.current})),e(d)(e(s)(t),"setReplaceTextfieldRef",(function(e){t.replaceTextfield=e.current})),e(d)(e(s)(t),"setFocusToFind",(function(){t.findTextfield&&t.findTextfield.focus()})),e(d)(e(s)(t),"setFocusToReplace",(function(){t.replaceTextfield&&t.replaceTextfield.focus()})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.findText,r=t.count,o=t.shouldFocus,i=t.onFind,a=t.onFindBlur,s=t.onFindNext,c=t.onFindPrev,l=t.onCancel,u=t.replaceText,d=t.onReplace,m=t.onReplaceAll,v=t.dispatchAnalyticsEvent,b=t.allowMatchCase,y=t.shouldMatchCase,E=t.onToggleMatchCase;return e(f).createElement(g.Wrapper,null,e(f).createElement(p.default,{allowMatchCase:b,shouldMatchCase:y,onToggleMatchCase:E,findText:n,count:r,shouldFocus:o,onFind:i,onFindBlur:a,onFindPrev:c,onFindNext:s,onFindTextfieldRefSet:this.setFindTextfieldRef,onCancel:l,onArrowDown:this.setFocusToReplace}),e(f).createElement(g.Rule,null),e(f).createElement(h.default,{canReplace:r.total>0,replaceText:u,onReplace:d,onReplaceAll:m,onReplaceTextfieldRefSet:this.setReplaceTextfieldRef,onArrowUp:this.setFocusToFind,dispatchAnalyticsEvent:v}))}}]),r}(e(f).PureComponent),b=v})),r.register("4R7wz",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig"),h=r("eZURw"),g=r("3btxm"),m=r("bgDkJ"),v=r("jYVov");r("e1DL3");var b=r("2jxtK"),y=r("gx4z7");r("kH7oN");var E=r("9V1f8"),x=r("hxT5E");function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var C=p.defineMessages({find:{id:"fabric.editor.find",defaultMessage:"Find",description:"The word or phrase to search for on the document"},matchCase:{id:"fabric.editor.matchCase",defaultMessage:"Match case",description:"Toggle whether should also match case when searching for text"},findNext:{id:"fabric.editor.findNext",defaultMessage:"Find next",description:"Locate the next occurrence of the word or phrase that was searched for"},findPrevious:{id:"fabric.editor.findPrevious",defaultMessage:"Find previous",description:"Locate the previous occurrence of the word or phrase that was searched for"},closeFindReplaceDialog:{id:"fabric.editor.closeFindReplaceDialog",defaultMessage:"Close",description:'Cancel search and close the "Find and Replace" dialog'},noResultsFound:{id:"fabric.editor.noResultsFound",defaultMessage:"No results",description:"No matches were found for the word or phrase that was searched for"},resultsCount:{id:"fabric.editor.resultsCount",description:"Text for selected search match position and total results count",defaultMessage:"{selectedMatchPosition} of {totalResultsCount}"}}),S=function(t){e(c)(r,t);var n=k(r);function r(t){var o;e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"findTextfieldRef",e(f).createRef()),e(d)(e(s)(o),"isComposing",!1),e(d)(e(s)(o),"skipWhileComposing",(function(e){o.isComposing||e()})),e(d)(e(s)(o),"focusFindTextfield",(function(){var e=o.findTextfieldRef.current;o.props.shouldFocus&&e&&e.select()})),e(d)(e(s)(o),"handleFindChange",(function(e){return o.skipWhileComposing((function(){o.updateFindValue(e.target.value)}))})),e(d)(e(s)(o),"updateFindValue",(function(e){o.props.onFind(e)})),e(d)(e(s)(o),"handleFindKeyDown",(function(e){return o.skipWhileComposing((function(){"Enter"===e.key?e.shiftKey?o.props.onFindPrev({triggerMethod:E.TRIGGER_METHOD.KEYBOARD}):o.props.onFindNext({triggerMethod:E.TRIGGER_METHOD.KEYBOARD}):"ArrowDown"===e.key&&o.props.onArrowDown()}))})),e(d)(e(s)(o),"handleFindNextClick",(function(e){return o.skipWhileComposing((function(){o.props.onFindNext({triggerMethod:E.TRIGGER_METHOD.BUTTON})}))})),e(d)(e(s)(o),"handleFindPrevClick",(function(e){return o.skipWhileComposing((function(){o.props.onFindPrev({triggerMethod:E.TRIGGER_METHOD.BUTTON})}))})),e(d)(e(s)(o),"handleCompositionStart",(function(){o.isComposing=!0})),e(d)(e(s)(o),"handleCompositionEnd",(function(e){o.isComposing=!1,o.updateFindValue(e.target.value)})),e(d)(e(s)(o),"clearSearch",(function(){o.props.onCancel({triggerMethod:E.TRIGGER_METHOD.BUTTON})})),e(d)(e(s)(o),"handleMatchCaseClick",(function(e){o.props.allowMatchCase&&o.props.onToggleMatchCase&&(o.props.onToggleMatchCase(),o.props.onFind(o.props.findText))}));var a=t.intl.formatMessage;return o.find=a(C.find),o.closeFindReplaceDialog=a(C.closeFindReplaceDialog),o.noResultsFound=a(C.noResultsFound),o.findNext=a(C.findNext),o.findPrevious=a(C.findPrevious),o.matchCase=a(C.matchCase),o.matchCaseIcon=e(f).createElement(e(v),{label:o.matchCase}),o.findNextIcon=e(f).createElement(e(g),{label:o.findNext}),o.findPrevIcon=e(f).createElement(e(m),{label:o.findPrevious}),o.closeIcon=e(f).createElement(e(h),{label:o.closeFindReplaceDialog}),o}return e(a)(r,[{key:"componentDidMount",value:function(){this.props.onFindTextfieldRefSet(this.findTextfieldRef),this.focusFindTextfield()}},{key:"componentDidUpdate",value:function(){this.focusFindTextfield()}},{key:"render",value:function(){var t=this.props,n=t.findText,r=t.count,o=t.allowMatchCase,i=t.shouldMatchCase,a=(0,t.intl.formatMessage)(C.resultsCount,{selectedMatchPosition:r.index+1,totalResultsCount:r.total});return e(f).createElement(y.SectionWrapper,null,e(f).createElement(b.default,{name:"find",appearance:"none",placeholder:this.find,value:n,ref:this.findTextfieldRef,autoComplete:"off",onChange:this.handleFindChange,onKeyDown:this.handleFindKeyDown,onBlur:this.props.onFindBlur,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),n&&e(f).createElement(y.Count,null,0===r.total?this.noResultsFound:a),o&&e(f).createElement(x.FindReplaceTooltipButton,{title:this.matchCase,icon:this.matchCaseIcon,onClick:this.handleMatchCaseClick,isPressed:i}),e(f).createElement(x.FindReplaceTooltipButton,{title:this.findNext,icon:this.findNextIcon,keymapDescription:"Enter",onClick:this.handleFindNextClick,disabled:r.total<=1}),e(f).createElement(x.FindReplaceTooltipButton,{title:this.findPrevious,icon:this.findPrevIcon,keymapDescription:"Shift Enter",onClick:this.handleFindPrevClick,disabled:r.total<=1}),e(f).createElement(x.FindReplaceTooltipButton,{title:this.closeFindReplaceDialog,icon:this.closeIcon,keymapDescription:"Escape",onClick:this.clearSearch}))}}]),r}(e(f).Component),T=p.injectIntl(S)})),r.register("3btxm",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.744 8.744a1.053 1.053 0 000 1.49l4.547 4.557a1 1 0 001.416 0l4.55-4.558a1.051 1.051 0 10-1.488-1.488l-3.77 3.776-3.768-3.776a1.051 1.051 0 00-1.487 0z" fill="currentColor"/></svg>'},e));a.displayName="HipchatChevronDownIcon";var s=a;e.exports.default=s})),r.register("bgDkJ",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M11.294 8.708l-.001.001-4.549 4.559a1.051 1.051 0 101.486 1.488l.001-.001 3.77-3.776 3.768 3.776a1.05 1.05 0 001.486.001h.001a1.054 1.054 0 00.001-1.489l-4.548-4.558a1 1 0 00-1.415-.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="HipchatChevronUpIcon";var s=a;e.exports.default=s})),r.register("jYVov",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M5.836 6.95l-3.825 9.97a.5.5 0 00.467.68h1.208a.5.5 0 00.47-.33l.683-1.877a.5.5 0 01.47-.33H9.12a.5.5 0 01.47.33l.683 1.878a.5.5 0 00.47.329h1.272a.5.5 0 00.468-.678L8.685 6.95a.7.7 0 00-.655-.45H6.49a.7.7 0 00-.654.45zm1.566 2.457l1.25 3.414a.2.2 0 01-.188.269H5.966a.2.2 0 01-.188-.269l1.249-3.414a.2.2 0 01.375 0zm10.148 6.465c1.222 0 2.142-1.01 2.142-2.603 0-1.594-.902-2.532-2.142-2.532-1.256 0-2.178.938-2.178 2.532 0 1.575.904 2.603 2.178 2.603zm2.161.602c-.372.833-1.276 1.433-2.445 1.433-2.567 0-4.266-2-4.266-4.638 0-2.551 1.664-4.569 4.195-4.569 1.56 0 2.284.833 2.497 1.329v-.34c0-.247.007-.392.213-.576.137-.122.344-.177.62-.165h.764a.581.581 0 01.496.165c.213.203.192.421.192.577v6.394c0 .227.008.526.023.899 0 .191-.041.336-.124.434a.628.628 0 01-.508.242h-.93c-.193 0-.45-.084-.533-.184-.083-.1-.165-.23-.183-.532a6.342 6.342 0 01-.01-.364v-.105z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EmojiKeyboardIcon";var s=a;e.exports.default=s})),r.register("e1DL3",(function(e,n){t(e.exports,"default",(function(){return r("2jxtK").default}));r("2jxtK")})),r.register("2jxtK",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("jgze0"),a=r("EwJf3"),s=r("l15hj"),c=r("bRWI2"),l=r("61szk"),u=r("4JuWt");r("lqsXI");var d=r("gOvM5");r("cPjBT");var f=r("7d0Hx"),p=r("9IFdX");function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?h(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var m={componentName:"textField",packageName:"@atlaskit/textfield",packageVersion:"5.1.1"},v=l.forwardRef((function(t,n){var r=t.appearance,o=void 0===r?"standard":r,s=t.isCompact,h=void 0!==s&&s,v=t.isDisabled,b=void 0!==v&&v,y=t.isInvalid,E=void 0!==y&&y,x=t.isRequired,k=void 0!==x&&x,C=t.isReadOnly,S=void 0!==C&&C,T=t.isMonospaced,O=void 0!==T&&T,w=t.width,N=t.elemAfterInput,P=t.elemBeforeInput,A=t.testId,I=t.onFocus,D=t.onBlur,R=t.onMouseDown,M=t.className,_=e(c)(t,["appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","width","elemAfterInput","elemBeforeInput","testId","onFocus","onBlur","onMouseDown","className"]),j=l.useRef(null),B=f.useGlobalTheme().mode,L=d.usePlatformLeafEventHandler(g({fn:function(e){I&&I(e)},action:"focused"},m)),F=d.usePlatformLeafEventHandler(g({fn:function(e){D&&D(e)},action:"blurred"},m)),z=l.useCallback((function(e){"INPUT"!==e.target.tagName&&e.preventDefault(),j&&j.current&&!b&&document.activeElement!==j.current&&j.current.focus(),R&&R(e)}),[R,b]),W=l.useCallback((function(t){j.current=t,n&&("object"===e(a)(n)&&(n.current=t),"function"==typeof n&&n(t))}),[n]),U=l.useMemo((function(){return p.containerStyles(o,B,w)}),[o,B,w]),H=l.useMemo((function(){return p.inputStyles(B)}),[B]);return u.jsx("div",{"data-disabled":b||void 0,"data-invalid":E||void 0,"data-ds--text-field--container":!0,"data-testid":A&&"".concat(A,"-container"),onMouseDown:z,css:U,className:M},P,u.jsx("input",e(i)({},_,{"data-compact":h||void 0,"data-monospaced":O||void 0,"data-ds--text-field--input":!0,"data-testid":A,"aria-invalid":E||void 0,disabled:b,readOnly:S,required:k,onBlur:F,onFocus:L,ref:W,css:H})),N)}));v.displayName="Textfield";var b=l.memo(v)})),r.register("9IFdX",(function(n,o){t(n.exports,"containerStyles",(function(){return C})),t(n.exports,"inputStyles",(function(){return S}));var i=r("l15hj"),a=r("cufhv"),s=r("kFKbx");r("aAFiG");var c=r("lBYhg"),l=r("1CZWD");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f=s.fontSize(),p=s.gridSize(),h={light:{backgroundColor:l.disabledBackgroundColor.light,backgroundColorHover:l.disabledBackgroundColor.light,borderColor:l.disabledBackgroundColor.light,textColor:l.disabledTextColor.light},dark:{backgroundColor:l.disabledBackgroundColor.dark,backgroundColorHover:l.disabledBackgroundColor.dark,borderColor:l.disabledBackgroundColor.dark,textColor:l.disabledTextColor.dark}},g={light:{backgroundColor:l.defaultBackgroundColor.light,backgroundColorHover:l.defaultBackgroundColorHover.light,backgroundColorFocus:l.defaultBackgroundColorFocus.light,borderColor:c.default("color.iconBorder.danger",a.R400),borderColorFocus:l.defaultBorderColorFocus.light},dark:{backgroundColor:l.defaultBackgroundColor.dark,backgroundColorHover:l.defaultBackgroundColorHover.dark,backgroundColorFocus:l.defaultBackgroundColorFocus.dark,borderColor:c.default("color.iconBorder.danger",a.R400),borderColorFocus:l.defaultBorderColorFocus.dark}},m={standard:l.defaultBackgroundColor,subtle:l.transparent,none:l.transparent},v={standard:l.defaultBackgroundColorFocus,subtle:l.defaultBackgroundColorFocus,none:l.transparent},b={standard:l.defaultBackgroundColorHover,subtle:l.subtleBackgroundColorHover,none:l.transparent},y={standard:l.defaultBorderColor,subtle:l.transparent,none:l.transparent},E={standard:l.defaultBorderColorFocus,subtle:l.defaultBorderColorFocus,none:l.transparent},x={xsmall:80,small:160,medium:240,large:320,xlarge:480},k=function(e){return e?e in x?x[e]:+e:"100%"},C=function(e,t,n){return d(d({alignItems:"center"},function(e,t){return{backgroundColor:m[e][t],borderColor:y[e][t],color:l.textColor[t],cursor:"text","&:hover":{backgroundColor:b[e][t]},"&:focus-within":{backgroundColor:v[e][t],borderColor:E[e][t]},"&[data-disabled]":{backgroundColor:h[t].backgroundColor,borderColor:h[t].borderColor,color:h[t].textColor,cursor:"not-allowed"},"&[data-invalid]":{borderColor:g[t].borderColor},"&[data-invalid]:focus-within":{backgroundColor:g[t].backgroundColorFocus,borderColor:g[t].borderColorFocus},"@media screen and (-ms-high-contrast: active)":{"&[data-invalid]:focus-within":{borderColor:"Highlight"},"&:focus-within":{borderColor:"Highlight"},"&[data-disabled]":{borderColor:"GrayText"}}}}(e,t)),{},{borderRadius:3,borderWidth:2,borderStyle:"none"===e?"none":"solid",boxSizing:"border-box",display:"flex",flex:"1 1 100%",fontSize:f,justifyContent:"space-between",maxWidth:k(n),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"})},S=function(e){return{backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontSize:f,minWidth:"0",outline:"none",width:"100%",lineHeight:2.5*p/f,fontFamily:s.fontFamily(),"&[data-monospaced]":{fontFamily:s.codeFontFamily()},"&[data-compact]":{padding:"".concat(p/2,"px ").concat(p-2,"px"),height:"".concat((3.5*p/f).toFixed(2),"em")},"&:not([data-compact])":{padding:"".concat(p,"px ").concat(p-2,"px"),height:"".concat((4.5*p/f).toFixed(2),"em")},"&[disabled]":{WebkitTextFillColor:h[e].textColor},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"},"&::placeholder":{color:l.placeholderTextColor[e],"&:disabled":{color:h[e].textColor}},"@media screen and (-ms-high-contrast: active)":{"&[disabled]":{color:"GrayText"}}}};l.placeholderTextColor,l.textColor})),r.register("1CZWD",(function(e,n){t(e.exports,"disabledBackgroundColor",(function(){return a})),t(e.exports,"defaultBackgroundColor",(function(){return s})),t(e.exports,"defaultBackgroundColorFocus",(function(){return c})),t(e.exports,"defaultBackgroundColorHover",(function(){return l})),t(e.exports,"subtleBackgroundColorHover",(function(){return u})),t(e.exports,"defaultBorderColor",(function(){return d})),t(e.exports,"defaultBorderColorFocus",(function(){return f})),t(e.exports,"transparent",(function(){return p})),t(e.exports,"textColor",(function(){return h})),t(e.exports,"disabledTextColor",(function(){return g})),t(e.exports,"placeholderTextColor",(function(){return m}));var o=r("cufhv");r("aAFiG");var i=r("lBYhg"),a={light:i.default("color.background.disabled",o.N10),dark:i.default("color.background.disabled",o.DN10)},s={light:i.default("color.background.subtleBorderedNeutral.resting",o.N10),dark:i.default("color.background.subtleBorderedNeutral.resting",o.DN10)},c={light:i.default("color.background.default",o.N0),dark:i.default("color.background.default",o.DN10)},l={light:i.default("color.background.default",o.N30),dark:i.default("color.background.default",o.DN30)},u={light:i.default("color.background.transparentNeutral.hover",o.N30),dark:i.default("color.background.transparentNeutral.hover",o.DN30)},d={light:i.default("color.border.neutral",o.N40),dark:i.default("color.border.neutral",o.DN40)},f={light:i.default("color.border.focus",o.B100),dark:i.default("color.border.focus",o.B75)},p={light:"transparent",dark:"transparent"},h={light:i.default("color.text.highEmphasis",o.N900),dark:i.default("color.text.highEmphasis",o.DN600)},g={light:i.default("color.text.disabled",o.N70),dark:i.default("color.text.disabled",o.DN90)},m={light:i.default("color.text.lowEmphasis",o.N100),dark:i.default("color.text.lowEmphasis",o.DN90)}})),r.register("gx4z7",(function(n,o){t(n.exports,"ReplaceSectionButton",(function(){return m})),t(n.exports,"Rule",(function(){return v})),t(n.exports,"Wrapper",(function(){return b})),t(n.exports,"SectionWrapper",(function(){return y})),t(n.exports,"Count",(function(){return E}));var i=r("lhkMJ"),a=r("61szk"),s=r("SssiD"),c=r("cufhv");r("6uXFe");var l=r("3Oefy");r("8iml0");var u,d,f,p,h,g=r("82cWi");var m=s.default((function(t){return e(a).createElement(l.default,t)}))(u||(u=e(i)(["\n  /* increase specificity to override default Button styles */\n  && {\n    margin-left: 4px;\n  }\n"]))),v=s.default.hr(d||(d=e(i)(["\n  width: 100%;\n  border: none;\n  background-color: ",";\n  margin: 4px 0px;\n  height: 1px;\n  border-radius: 1px;\n"])),c.N30A),b=s.default.div(f||(f=e(i)(["\n  display: flex;\n  flex-direction: column;\n  > *:not(",") {\n    margin: 0px 4px;\n  }\n"])),v),y=s.default.div(p||(p=e(i)(["\n  display: flex;\n  align-items: center;\n\n  > * {\n    flex: 0 0 auto;\n    display: inline-flex;\n    height: 32px;\n  }\n"]))),E=s.default.span(h||(h=e(i)(["\n  color: ",";\n  font-size: ",";\n  flex: 0 0 auto;\n  justify-content: center;\n  align-items: center;\n  margin-left: 4px;\n  margin-right: 8px;\n"])),c.N60,g.relativeFontSizeToBase16(12))})),r.register("hxT5E",(function(n,o){t(n.exports,"FindReplaceTooltipButton",(function(){return y}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk");r("k1QaE");var h=r("kzvDE"),g=r("7uC1r");r("6uXFe");var m=r("3Oefy");function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var y=function(t){e(l)(r,t);var n=b(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"buttonRef",e(p).createRef()),e(f)(e(c)(t),"handleClick",(function(){t.props.onClick(t.buttonRef)})),t}return e(s)(r,[{key:"render",value:function(){var t=this.props,n=t.title,r=t.icon,o=t.keymapDescription,a=t.disabled,s=t.isPressed,c=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?v(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},"boolean"==typeof s&&{"aria-pressed":s});return e(p).createElement(h.default,{content:e(p).createElement(g.ToolTipContent,{description:n,keymap:g.findKeymapByDescription(o)}),hideTooltipOnClick:!0,position:"top"},e(p).createElement(m.default,e(i)({label:n,appearance:"subtle",testId:n,ref:this.buttonRef,iconBefore:r,isDisabled:a,onClick:this.handleClick,isSelected:s,shouldFitContainer:!0},c)))}}]),r}(e(p).PureComponent);e(f)(y,"defaultProps",{keymapDescription:"no-keymap"})})),r.register("cJkTO",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("7RIig");r("e1DL3");var h=r("2jxtK"),g=r("gx4z7");r("kH7oN");var m=r("9V1f8");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var b=p.defineMessages({replaceWith:{id:"fabric.editor.replaceWith",defaultMessage:"Replace with",description:"The value that will replace the word or phrase that was searched for"},replace:{id:"fabric.editor.replace",defaultMessage:"Replace",description:"Replace only the currently selected instance of the word or phrase"},replaceAll:{id:"fabric.editor.replaceAll",defaultMessage:"Replace all",description:"Replace all instances of the word or phrase throughout the entire document"}}),y=function(t){e(c)(r,t);var n=v(r);function r(t){var o;e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"replaceTextfieldRef",e(f).createRef()),e(d)(e(s)(o),"skipWhileComposing",(function(e){o.state.isComposing||e()})),e(d)(e(s)(o),"handleReplaceClick",(function(){return o.skipWhileComposing((function(){o.props.onReplace({triggerMethod:m.TRIGGER_METHOD.BUTTON,replaceText:o.state.replaceText})}))})),e(d)(e(s)(o),"handleReplaceChange",(function(e){return o.skipWhileComposing((function(){o.updateReplaceValue(e.target.value)}))})),e(d)(e(s)(o),"updateReplaceValue",(function(e){var t=o.props.dispatchAnalyticsEvent;t&&t({eventType:m.EVENT_TYPE.TRACK,action:m.ACTION.CHANGED_REPLACEMENT_TEXT,actionSubject:m.ACTION_SUBJECT.FIND_REPLACE_DIALOG}),o.setState({replaceText:e})})),e(d)(e(s)(o),"handleReplaceKeyDown",(function(e){return o.skipWhileComposing((function(){"Enter"===e.key?o.props.onReplace({triggerMethod:m.TRIGGER_METHOD.KEYBOARD,replaceText:o.state.replaceText}):"ArrowUp"===e.key&&o.props.onArrowUp()}))})),e(d)(e(s)(o),"handleReplaceAllClick",(function(){return o.skipWhileComposing((function(){o.props.onReplaceAll({replaceText:o.state.replaceText})}))})),e(d)(e(s)(o),"handleCompositionStart",(function(){o.setState({isComposing:!0})})),e(d)(e(s)(o),"handleCompositionEnd",(function(e){o.setState({isComposing:!1}),o.updateReplaceValue(e.target.value)}));var a=t.replaceText,c=t.intl.formatMessage;return o.state={replaceText:a||"",isComposing:!1},o.replaceWith=c(b.replaceWith),o.replace=c(b.replace),o.replaceAll=c(b.replaceAll),o}return e(a)(r,[{key:"componentDidMount",value:function(){this.props.onReplaceTextfieldRefSet(this.replaceTextfieldRef)}},{key:"componentDidUpdate",value:function(e){var t=e.replaceText,n=this.props.replaceText;n&&n!==t&&this.setState({replaceText:n,isComposing:!1})}},{key:"render",value:function(){var t=this.state.replaceText,n=this.props.canReplace;return e(f).createElement(g.SectionWrapper,null,e(f).createElement(h.default,{name:"replace",appearance:"none",placeholder:this.replaceWith,defaultValue:t,ref:this.replaceTextfieldRef,autoComplete:"off",onChange:this.handleReplaceChange,onKeyDown:this.handleReplaceKeyDown,onCompositionStart:this.handleCompositionStart,onCompositionEnd:this.handleCompositionEnd}),e(f).createElement(g.ReplaceSectionButton,{testId:this.replace,onClick:this.handleReplaceClick,isDisabled:!n},this.replace),e(f).createElement(g.ReplaceSectionButton,{testId:this.replaceAll,onClick:this.handleReplaceAllClick,isDisabled:!n},this.replaceAll))}}]),r}(e(f).PureComponent),E=p.injectIntl(y)})),r.register("fq1GI",(function(e,n){t(e.exports,"mobileSelectionPlugin",(function(){return c}));var o=r("eBSbE"),i=r("iFBc4"),a=r("2W9Kl"),s=new o.PluginKey("mobile-selection"),c=function(){return{name:"mobileSelection",pmPlugins:function(){return[{name:"mobileSelection",plugin:function(e){return function(e){return new o.Plugin({view:function(t){var n=t.domAtPos.bind(t);return{update:function(t,r){var o=t.state,c=t.state,l=c.selection,u=c.doc;if(!r.doc.eq(u)||!r.selection.eq(l)){var d=i.findDomRefAtPos(l.$anchor.pos,n).getBoundingClientRect(),f=d.top,p=d.left,h=a.contentInSelection(o),g=h.nodeTypes,m=h.markTypes;e(s,{rect:{top:Math.round(f),left:Math.round(p)},selection:o.selection.toJSON(),nodeTypes:g,markTypes:m})}}}}})}(e.dispatch)}}]}}}})),r.register("2W9Kl",(function(e,n){t(e.exports,"contentInSelection",(function(){return r}));var r=function(e){var t=e.selection,n=e.doc,r=new Set,o=new Set;return n.nodesBetween(t.from,t.to,(function(e){return r.add(e.type.name),e.marks.forEach((function(e){return o.add(e.type.name)})),!0})),{nodeTypes:Array.from(r),markTypes:Array.from(o)}}})),r.register("ilAl4",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("aEe6p"),i=function(){return{name:"codeBidiWarning",pmPlugins:function(){return[{name:"codeBidiWarning",plugin:function(e){return o.createPlugin(e)}}]}}}})),r.register("aEe6p",(function(e,n){t(e.exports,"createPlugin",(function(){return c}));var o=r("eBSbE");r("8gPA0");var i=r("3wDH5"),a=r("k3Z21"),s=r("9w2fm"),c=function(e){var t=e.dispatch,n=(0,e.reactContext)().intl.formatMessage(i.codeBidiWarningMessages.label);return new o.Plugin({key:a.codeBidiWarningPluginKey,state:s.createPluginState(t,(function(e){return{decorationSet:s.createBidiWarningsDecorationSetFromDoc({doc:e.doc,codeBidiWarningLabel:n}),codeBidiWarningLabel:n}})),props:{decorations:function(e){return s.getPluginState(e).decorationSet}}})}})),r.register("k3Z21",(function(e,n){t(e.exports,"codeBidiWarningPluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("codeBidiWarningPlugin")})),r.register("9w2fm",(function(n,o){t(n.exports,"createBidiWarningsDecorationSetFromDoc",(function(){return E})),t(n.exports,"createPluginState",(function(){return b})),t(n.exports,"getPluginState",(function(){return y}));var i=r("l15hj"),a=r("61szk"),s=r("c6wVG"),c=r("9MUi0"),l=r("zIeE8"),u=r("b55XE"),d=r("27k6c"),f=r("5rpLS"),p=r("k3Z21"),h=r("itTQq");function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?g(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var v=d.pluginFactory(p.codeBidiWarningPluginKey,h.default,{onDocChanged:function(e,t){if(!e.steps.find(f.stepHasSlice))return t;var n=E({doc:e.doc,codeBidiWarningLabel:t.codeBidiWarningLabel});return m(m({},t),{},{decorationSet:n})}}),b=v.createPluginState,y=v.getPluginState;function E(t){var n=t.doc,r=t.codeBidiWarningLabel,o=[];if(n.descendants((function(e,t){if("text"===e.type.name&&e.marks&&e.marks.some((function(e){return"code"===e.type.name})))return u.default(e.textContent,(function(e){var n=e.bidiCharacter,r=e.index;o.push({position:t+r,bidiCharacter:n})})),!1;"codeBlock"===e.type.name&&u.default(e.textContent,(function(e){var n=e.bidiCharacter,r=e.index;o.push({position:t+r+1,bidiCharacter:n})}))})),0===o.length)return c.DecorationSet.empty;var i=c.DecorationSet.create(n,o.map((function(t){var n=t.position,o=t.bidiCharacter;return c.Decoration.widget(n,(function(){return function(t,n){var r=document.createElement("span");return e(s).render(e(a).createElement(l.default,{bidiCharacter:t,skipChildren:!0,label:n}),r),r}(o,r)}))})));return i}})),r.register("itTQq",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e,t){return e}})),r.register("kYmAs",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk"),a=r("bxI1z"),s=function(t){return{name:"avatarGroup",primaryToolbarComponent:function(n){var r=n.editorView,o=(n.popupsMountPoint,n.popupsBoundariesElement,n.popupsScrollableElement,n.disabled,n.isToolbarReducedSpacing,n.eventDispatcher),s=n.dispatchAnalyticsEvent;return e(i).createElement(a.AvatarGroupPluginWrapper,{dispatchAnalyticsEvent:s,editorView:r,eventDispatcher:o,collabEdit:t.collabEdit})}}}})),r.register("bxI1z",(function(n,o){t(n.exports,"AvatarGroupPluginWrapper",(function(){return f}));var i=r("lhkMJ"),a=r("61szk"),s=r("dVumR"),c=r("SssiD");r("cTu5S");var l,u=r("9V1f8"),d=c.default.div(l||(l=e(i)(["\n  display: flex;\n  flex-grow: 1;\n  justify-content: flex-end;\n  align-items: center;\n  & > div {\n    margin-right: 0;\n  }\n"]))),f=function(t){var n=t.dispatchAnalyticsEvent;return a.useEffect((function(){n&&n({action:u.ACTION.VIEWED,actionSubject:u.ACTION_SUBJECT.BUTTON,actionSubjectId:u.ACTION_SUBJECT_ID.AVATAR_GROUP_PLUGIN,eventType:u.EVENT_TYPE.UI})}),[n]),e(a).createElement(d,{"aria-label":"Editors","data-testid":"avatar-group-in-plugin"},e(a).createElement(s.default,{editorView:t.editorView,eventDispatcher:t.eventDispatcher,inviteToEditComponent:t.collabEdit&&t.collabEdit.inviteToEditComponent,inviteToEditHandler:t.collabEdit&&t.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:t.collabEdit&&t.collabEdit.isInviteToEditButtonSelected}))}})),r.register("dVumR",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("61szk"),a=r("7RIig"),s=r("4s4wW");r("7ayR4");var c=r("7AegD"),l=r("ch3px"),u=r("lBMCF"),d=r("kTUyJ"),f=a.injectIntl((function(t){var n=t.intl.formatMessage(l.default.inviteToEditButtonTitle),r=t.isInviteToEditButtonSelected,o=t.inviteToEditHandler,a=t.inviteToEditComponent,f=e(i).useCallback((function(t){var s=t.data;return s?e(i).createElement(u.Avatars,{sessionId:s.sessionId,participants:s.activeParticipants},e(i).createElement(d.InviteToEditButton,{title:n,selected:r,onClick:o,Component:a})):null}),[r,o,a,n]);return e(i).createElement(s.default,{plugins:{data:c.pluginKey},render:f,editorView:t.editorView})}))})),r.register("lBMCF",(function(n,o){t(n.exports,"Avatars",(function(){return l}));var i=r("61szk"),a=r("2eNBI"),s=r("jwpVe"),c=r("iOArV"),l=e(i).memo((function(t){var n=t.sessionId,r=t.participants.toArray().sort((function(e){return e.sessionId===n?-1:1})).map(c.default);return r.length?e(i).createElement(s.AvatarContainer,null,e(i).createElement(a.default,{appearance:"stack",size:"medium",data:r,maxCount:3}),t.children):null}))})),r.register("jwpVe",(function(n,o){t(n.exports,"InviteTeamWrapper",(function(){return p})),t(n.exports,"AvatarContainer",(function(){return h})),t(n.exports,"Badge",(function(){return g}));var i=r("lhkMJ"),a=r("SssiD"),s=r("kFKbx"),c=r("cufhv");r("8iml0");var l,u,d,f=r("82cWi"),p=a.default.div(l||(l=e(i)(["\n  background: ",";\n  border-radius: 50%;\n  min-width: ","px;\n  margin-left: -","px;\n"])),c.N20,4*s.gridSize(),s.gridSize()/2),h=a.default.div(u||(u=e(i)(["\n  margin-right: ","px;\n  display: flex;\n  align-items: center;\n\n  // ED-13102: This is to override list styles that come from the\n  // .wiki-content class in Confluence that should not apply within\n  // the toolbar. Has to be extra specific to override.\n  && > ul {\n    list-style-type: none;\n  }\n\n  div:last-child button.invite-to-edit {\n    border-radius: 50%;\n    height: 32px;\n    width: 32px;\n    padding: 2px;\n  }\n"])),s.gridSize()),g=a.default.div(d||(d=e(i)(["\n  display: block;\n  position: absolute;\n  right: 1px;\n  bottom: 1px;\n  width: 13px;\n  height: 13px;\n  z-index: ",";\n  border-radius: 3px;\n  background: ",";\n  color: #fff;\n  font-size: ",";\n  line-height: 0;\n  padding-top: 7px;\n  text-align: center;\n  box-shadow: 0 0 1px #fff;\n  box-sizing: border-box;\n"])),f.akEditorSmallZIndex,(function(e){return e.color}),f.relativeFontSizeToBase16(9))})),r.register("iOArV",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("h67q9"),a=r("61szk"),s=r("6gvxN"),c=r("3GDv6"),l=s.default((function(t){return{name:t.name,src:t.avatar,size:"medium",presence:e(a).createElement(c.ColoredAvatarItem,{name:t.name,sessionId:t.sessionId})}}),(function(t,n){var r=e(i)(t,1)[0],o=e(i)(n,1)[0];return r.name===o.name&&r.avatar===o.avatar&&r.sessionId===o.sessionId}))})),r.register("3GDv6",(function(n,o){t(n.exports,"ColoredAvatarItem",(function(){return c}));var i=r("61szk"),a=r("bZAC6"),s=r("jwpVe"),c=function(t){var n=a.getAvatarColor(t.sessionId).color.solid,r=t.name.substr(0,1).toUpperCase();return e(i).createElement(s.Badge,{color:n,"data-testid":"editor-collab-badge"},r)}})),r.register("kTUyJ",(function(n,o){t(n.exports,"InviteToEditButton",(function(){return u}));var i=r("61szk"),a=r("d26cn"),s=r("gCo6x"),c=r("jwpVe"),l=function(t){return e(i).createElement(e(i).Fragment,null,t.children)},u=function(t){var n=t.Component,r=t.onClick,o=t.selected,u=t.title,d=e(i).useMemo((function(){return e(i).createElement(e(a),{label:u})}),[u]);if(!n&&!r)return null;var f=n||l;return e(i).createElement(c.InviteTeamWrapper,null,e(i).createElement(f,null,e(i).createElement(s.default,{className:"invite-to-edit",onClick:r,selected:o,title:u,titlePosition:"bottom",iconBefore:d})))}})),r.register("4Ty4K",(function(e,n){function r(e){return"full-page"===e||"full-width"===e}t(e.exports,"isFullPage",(function(){return r}))})),r.register("2I9mb",(function(e,n){t(e.exports,"GUTTER_SIZE_MOBILE_IN_PX",(function(){return s})),t(e.exports,"default",(function(){return d}));var o=r("eBSbE");r("9J8af");var i=r("l9fpM"),a=r("chYel"),s=36;function c(e,t){if("undefined"!=typeof window&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return new IntersectionObserver((function(e,n){e.forEach((function(e){t(e.intersectionRatio>0)}))}),{root:e,rootMargin:"0px",threshold:0})}function l(e){var t=document.createElement("div");t.style.paddingBottom="".concat(e,"px"),t.id="#editor-scroll-gutter".substr(1);var n,r=!1,o=!1,i=null,a=!1;return{addGutter:function(e){e&&(i=e,e.appendChild(t),o=!0,n&&n.observe(t))},removeGutter:function(){i&&o&&(o=!1,i.removeChild(t),n&&n.unobserve(t))},element:function(){return t},isMounted:function(){return o},visible:function(){return n?a:o},observe:function(e){r||(r=!0,n=c(e,(function(e){return a=e})))},destroy:function(){n&&n.disconnect(),n=void 0,this.removeGutter(),r=o=!1}}}function u(e,t,n){var r=e.offsetHeight,o=e.getBoundingClientRect().top,i=function(){var e=window.getSelection();if(e&&e.rangeCount>0){var t=e.getRangeAt(0);if(t){var n=t.getClientRects();if(n&&n.length>0)return n[0].top;var r=t.startContainer;if(r&&r.getBoundingClientRect)return r.getBoundingClientRect().top}}}();return!!i&&(!(i-o<r-n-80)&&(t.scrollIntoView(!1),!0))}var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getScrollElement,n=e.allowCustomScrollHandler,r=e.gutterSize,s=void 0===r?120:r;if(t){var c=l(s),d=null;return new o.Plugin({props:{scrollThreshold:s/2,scrollMargin:s,handleScrollToSelection:function(){return!1!==n&&(!!(c.isMounted()&&c.visible()&&d)&&u(d,c.element(),s))}},view:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(n){d=t(n);var r=n.dom,o=r.parentElement;return{destroy:function(){c.destroy(),d=o=r=null},update:function(t,n){if(d&&o){var r=t.state;if(n.selection!==r.selection){var l=c.isMounted(),u=function(){l||(c.observe(d),c.addGutter(o))};if(e.persistScrollGutter)i.isEmptyDocument(r.doc)?c.removeGutter():u();else{var f=a.getmobileScrollPluginState(r),p=d.offsetHeight-(f&&f.keyboardHeight?f.keyboardHeight:0);o.offsetHeight-(l?s:0)>=p-s?u():l&&c.removeGutter()}}}}}}))})}}})),r.register("chYel",(function(e,n){t(e.exports,"getmobileScrollPluginState",(function(){return i}));var o=r("cS8zP"),i=function(e){var t=e.plugins.find((function(e){return e.key===o.mobileScrollPluginKey.key}));if(t)return t.getState(e)}})),r.register("6Oaav",(function(n,o){t(n.exports,"createFeatureFlagsFromProps",(function(){return u}));var i=r("EwJf3"),a=r("l15hj"),s=r("h1Mq5");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t){var n,r,o,a,c,u,d,f,p,h,g,m,v,b,y,E,x,k,C,S,T,O,w,N,P,A,I,D,R,M,_,j;return l(l({},s.normalizeFeatureFlags(t.featureFlags)),{},{newInsertionBehaviour:t.allowNewInsertionBehaviour,interactiveExpand:"boolean"==typeof t.allowExpand?t.allowExpand:Boolean(t.allowExpand&&!1!==t.allowExpand.allowInteractiveExpand),placeholderBracketHint:!!t.placeholderBracketHint,placeholderHints:Array.isArray(t.placeholderHints)&&t.placeholderHints.length>0,moreTextColors:"boolean"!=typeof t.allowTextColor&&Boolean(!0===(null===(n=t.allowTextColor)||void 0===n?void 0:n.allowMoreTextColors)),findReplace:!!t.allowFindReplace,findReplaceMatchCase:"object"===e(i)(t.allowFindReplace)&&Boolean(t.allowFindReplace.allowMatchCase),keyboardAccessibleDatepicker:"boolean"==typeof t.allowKeyboardAccessibleDatepicker&&t.allowKeyboardAccessibleDatepicker,addColumnWithCustomStep:!(!t.allowTables||"boolean"==typeof t.allowTables)&&Boolean(t.allowTables.allowAddColumnWithCustomStep),undoRedoButtons:t.UNSAFE_allowUndoRedoButtons,catchAllTracking:null===(r=t.performanceTracking)||void 0===r||null===(o=r.catchAllTracking)||void 0===o?void 0:o.enabled,nextEmojiNodeView:!0===(null===(a=t.featureFlags)||void 0===a?void 0:a.nextEmojiNodeView),stickyHeadersOptimization:"boolean"==typeof(null===(c=t.featureFlags)||void 0===c?void 0:c.stickyHeadersOptimization)?!(null===(u=t.featureFlags)||void 0===u||!u.stickyHeadersOptimization):"object"===e(i)(t.allowTables)&&!(null===(d=t.allowTables)||void 0===d||!d.stickyHeadersOptimization),initialRenderOptimization:"boolean"==typeof(null===(f=t.featureFlags)||void 0===f?void 0:f.initialRenderOptimization)?!(null===(p=t.featureFlags)||void 0===p||!p.initialRenderOptimization):"object"===e(i)(t.allowTables)&&!(null===(h=t.allowTables)||void 0===h||!h.initialRenderOptimization),mouseMoveOptimization:"boolean"==typeof(null===(g=t.featureFlags)||void 0===g?void 0:g.mouseMoveOptimization)?!(null===(m=t.featureFlags)||void 0===m||!m.mouseMoveOptimization):"object"===e(i)(t.allowTables)&&!(null===(v=t.allowTables)||void 0===v||!v.mouseMoveOptimization),tableRenderOptimization:"boolean"==typeof(null===(b=t.featureFlags)||void 0===b?void 0:b.tableRenderOptimization)?!(null===(y=t.featureFlags)||void 0===y||!y.tableRenderOptimization):"object"===e(i)(t.allowTables)&&!(null===(E=t.allowTables)||void 0===E||!E.tableRenderOptimization),tableOverflowShadowsOptimization:"boolean"==typeof(null===(x=t.featureFlags)||void 0===x?void 0:x.tableOverflowShadowsOptimization)?!(null===(k=t.featureFlags)||void 0===k||!k.tableOverflowShadowsOptimization):"object"===e(i)(t.allowTables)&&!(null===(C=t.allowTables)||void 0===C||!C.tableOverflowShadowsOptimization),extendFloatingToolbar:Boolean("object"===e(i)(t.allowExtension)&&(null===(S=t.allowExtension)||void 0===S?void 0:S.allowExtendFloatingToolbars)),displayInlineBlockForInlineNodes:Boolean("boolean"==typeof(null===(T=t.featureFlags)||void 0===T?void 0:T.displayInlineBlockForInlineNodes)&&!(null===(O=t.featureFlags)||void 0===O||!O.displayInlineBlockForInlineNodes)),useUnpredictableInputRule:Boolean("boolean"==typeof(null===(w=t.featureFlags)||void 0===w?void 0:w.useUnpredictableInputRule)?!(null===(N=t.featureFlags)||void 0===N||!N.useUnpredictableInputRule):!t.UNSAFE_allowUndoRedoButtons),showAvatarGroupAsPlugin:Boolean("boolean"==typeof(null===(P=t.featureFlags)||void 0===P?void 0:P.showAvatarGroupAsPlugin)&&!(null===(A=t.featureFlags)||void 0===A||!A.showAvatarGroupAsPlugin)),errorBoundaryDocStructure:Boolean("boolean"==typeof(null===(I=t.featureFlags)||void 0===I?void 0:I.useErrorBoundaryDocStructure)&&!(null===(D=t.featureFlags)||void 0===D||!D.useErrorBoundaryDocStructure)),synchronyErrorDocStructure:Boolean("boolean"==typeof(null===(R=t.featureFlags)||void 0===R?void 0:R.synchronyErrorDocStructure)&&!(null===(M=t.featureFlags)||void 0===M||!M.synchronyErrorDocStructure)),codeBidiWarnings:Boolean("boolean"!=typeof(null===(_=t.featureFlags)||void 0===_?void 0:_.codeBidiWarnings)||!(null===(j=t.featureFlags)||void 0===j||!j.codeBidiWarnings))})}})),r.register("4ZGJ8",(function(e,n){t(e.exports,"createDefaultPreset",(function(){return O}));r("h67q9"),r("61szk");var o=r("1Mn1Z"),i=r("85W3i"),a=r("67a0U"),s=r("gfpIb"),c=r("cMryx"),l=r("9D9P7"),u=r("iOvr3"),d=r("enaCI"),f=r("6CSp2"),p=r("9dL7e"),h=r("cWoXC"),g=r("9ktKU"),m=r("lWHVr"),v=r("fGbVs"),b=(r("g4Uee"),r("ecag0")),y=r("fe46j"),E=r("1RpqH"),x=r("7jCsY"),k=r("94CQt"),C=r("5Nkb4"),S=r("gYRps"),T=r("kGMnb");function O(e){var t,n=new b.Preset;return n.add([o.default,e.paste]),n.add(y.default),n.add([d.default,e.base]),null!==(t=e.featureFlags)&&void 0!==t&&t.undoRedoButtons&&n.add(T.default),n.add([i.default,e.blockType]),n.add([E.default,e.placeholder]),n.add(a.default),e.annotationProviders&&n.add([x.default,e.annotationProviders]),n.add([s.default,e.cardOptions]),n.add([c.default,e.textFormatting]),n.add(l.default),n.add([k.default,e.quickInsert]),n.add([p.default,{createAnalyticsEvent:e.createAnalyticsEvent}]),n.add(u.default),n.add(f.default),n.add([h.default,e.submitEditor]),n.add(g.default),n.add(v.default),n.add([m.default,e.featureFlags||{}]),n.add([C.default,e.selection]),n.add([S.default,e.codeBlock]),n}})),r.register("1Mn1Z",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("hdQZ4"),i=function(e){var t=e.cardOptions,n=e.sanitizePrivateContent;return{name:"paste",pmPlugins:function(){return[{name:"paste",plugin:function(e){var r=e.schema,i=e.providerFactory,a=e.dispatchAnalyticsEvent;return o.createPlugin(r,a,t,n,i)}}]}}}})),r.register("hdQZ4",(function(n,o){t(n.exports,"createPlugin",(function(){return F}));var i=r("9ePZF"),a=r("cNgp7"),s=r("67bLC"),c=r("jWbqG"),l=r("eBSbE"),u=r("fjLyd"),d=r("bNh7G");r("5Nf4u");var f=r("ecVYb"),p=r("5QFvk"),h=r("e3QKe"),g=r("5xOWw"),m=r("5eBbT"),v=r("9ZtoQ"),b=r("fOW3Z"),y=r("d9wIc"),E=r("awEYr"),x=r("iIZaH"),k=r("k8eoj"),C=r("1Ixgv"),S=r("ZCEj9"),T=r("cTu5S"),O=r("lqz6P");r("9J8af");var w=r("lKo0v"),N=r("9J8af");r("igW5C");var P=r("f7OFS"),A=r("laj9D"),I=(x=r("iIZaH"),r("hiQ5y")),D=r("cO1D6"),R=r("cFImz"),M=r("9QOEL"),_=r("bKGVC"),j=r("7J1UD"),B=r("hW7rL"),L=(D=r("cO1D6"),new l.PluginKey("pastePlugin"));function F(t,n,r,o,F){var z,W=new d.MarkdownTransformer(t,D.md);function U(){return(U=e(a)(e(i).mark((function t(n,r){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("extensionProvider"===n&&r){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,f.getExtensionAutoConvertersFromProvider(r);case 5:z=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.error(e.t0);case 11:case"end":return e.stop()}}),t,null,[[2,8]])})))).apply(this,arguments)}return F&&F.subscribe("extensionProvider",(function(e,t){return U.apply(this,arguments)})),new l.Plugin({key:L,props:{handlePaste:function(o,i,a){var l,d,f=i;if(!f.clipboardData)return!1;var v=f.clipboardData.getData("text/plain"),b=f.clipboardData.getData("text/html"),E=f.clipboardData.getData("text/uri-list");!E||v||b||(v=E,a=new c.Slice(c.Fragment.from(t.text(v)),1,1));var C=p.isPastedFile(f),A=v&&!b,I=!!b;if(C){if(!b)return!0;if(g.htmlContainsSingleFile(b))return!0;f.stopPropagation()}var D=o.state,_=T.analyticsPluginKey.getState(D);if(null==_||null===(l=_.performanceTracking)||void 0===l||null===(d=l.pasteTracking)||void 0===d?void 0:d.enabled){var L=S.getContentNodeTypes(a.content),F=e(u)(),U="".concat(w.default.PASTE,"_").concat(F);P.measureRender(U,(function(e){var t=S.createPasteMeasurePayload(o,e,L);t&&n(t)}))}var H,V=function(e){var t,n=D.schema.nodes.placeholder;(null===(t=D.doc.resolve(D.selection.$anchor.pos).nodeAfter)||void 0===t?void 0:t.type)!==n&&e.setMeta(B.pluginKey,!0),o.dispatch(e)};if(a=k.handleParagraphBlockMarks(D,a),S.handlePasteAsPlainTextWithAnalytics(o,f,a)(D,V,o))return!0;if(a=h.transformSliceForMedia(a,t)(D.selection),A&&(H=function(e,t,n){var r=W.parse(g.escapeLinks(e));if(r&&r.content)return new c.Slice(r.content,t,n)}(v,a.openStart,a.openEnd),H)){if(S.handlePasteLinkOnSelectedTextWithAnalytics(o,f,H,O.PasteTypes.markdown)(D,V))return!0;if(k.handleMacroAutoConvert(v,H,r,z)(D,V,o))return S.sendPasteAnalyticsEvent(o,f,H,{type:O.PasteTypes.markdown}),!0}return a=M.transformUnsupportedBlockCardToInline(a,D),!!S.handlePasteIntoTaskAndDecisionWithAnalytics(o,f,a,A?O.PasteTypes.plain:O.PasteTypes.richText)(D,V)||(!!S.handleCodeBlockWithAnalytics(o,f,a,v)(D,V)||(!!S.handleMediaSingleWithAnalytics(o,f,a,C?O.PasteTypes.binary:O.PasteTypes.richText)(D,V,o)||(!!S.handleSelectedTableWithAnalytics(o,f,a)(D,V)||(A&&H?!!S.handlePastePreservingMarksWithAnalytics(o,f,H,O.PasteTypes.markdown)(D,V)||S.handleMarkdownWithAnalytics(o,f,H)(D,V):!!I&&(a=m.linkifyContent(D.schema)(a),!!S.handlePasteLinkOnSelectedTextWithAnalytics(o,f,a,O.PasteTypes.richText)(D,V)||(k.handleMacroAutoConvert(v,a,r,z)(D,V,o)?(S.sendPasteAnalyticsEvent(o,f,a,{type:O.PasteTypes.richText}),!0):(!N.insideTable(D)&&function(e){var t=R.getPluginState(e);return t&&t.pluginConfig.isHeaderRowRequired}(D)&&(a=x.transformSliceToAddTableHeaders(a,D.schema)),function(e){var t=R.getPluginState(e);return t&&t.pluginConfig.allowColumnResizing}(D)||(a=x.transformSliceToRemoveColumnsWidths(a,D.schema)),function(e){var t=R.getPluginState(e);return t&&t.pluginConfig.allowBackgroundColor}(D)||(a=x.transformSliceRemoveCellBackgroundColor(a,D.schema)),s.handlePaste(o,null,a)?(S.sendPasteAnalyticsEvent(o,f,a,{type:O.PasteTypes.richText}),!0):(a.content.size&&j.containsAnyAnnotations(a,D)&&j.stripNonExistingAnnotations(a,D),!!S.handlePastePreservingMarksWithAnalytics(o,f,a,O.PasteTypes.richText)(D,V)||(!!S.handleExpandWithAnalytics(o,f,a)(D,V)||(N.insideTable(D)||(a=y.transformSliceNestedExpandToExpand(a,D.schema)),S.handleRichTextWithAnalytics(o,f,a)(D,V)))))))))))},transformPasted:function(e){return o&&(e=k.handleMention(e,t)),e=E.transformSliceToFixHardBreakProblemOnCopyFromCell(e,t),e=b.transformSliceToRemoveOpenLayoutNodes(e,t),e=y.transformSliceToRemoveOpenExpand(e,t),e=E.transformSliceToRemoveOpenTable(e,t),e=v.transformSliceToRemoveOpenBodiedExtension(e,t),e=C.transformSliceToJoinAdjacentCodeBlocks(e),e=C.transformSingleLineCodeBlockToCodeMark(e,t),e=A.transformSliceToCorrectMediaWrapper(e,t),e=E.transformSliceToCorrectEmptyTableCells(e,t),e=_.transformSliceToDecisionList(e,t),e=I.splitParagraphs(e,t),(e=I.upgradeTextToLists(e,t)).content.childCount&&e.content.lastChild.type===t.nodes.codeBlock&&(e=new c.Slice(e.content.append(c.Fragment.from(t.nodes.paragraph.createAndFill())),e.openStart,1)),e},transformPastedHTML:function(e){return e.indexOf('id="docs-internal-guid-')>=0&&(e=(e=e.replace(/white-space:pre/g,"")).replace(/white-space:pre-wrap/g,"")),!g.isPastedFromWord(e)&&!g.isPastedFromExcel(e)&&e.indexOf("<img ")>=0&&(e=A.unwrapNestedMediaElements(e)),e}}})}})),r.register("bNh7G",(function(n,o){t(n.exports,"MarkdownTransformer",(function(){return m}));var i=r("go2dD"),a=r("4NDMl"),s=r("ekJGA"),c=r("9ebs3"),l=r("l6WdO"),u=r("8zry2"),d=r("idfkk");function f(e,t){return Object.keys(t).reduce((function(n,r){var o=t[r],i=o.block||o.node,a=o.mark;return(i&&e.nodes[i]||a&&e.marks[a])&&(n[r]=o),n}),{})}var p={nodes:{blockquote:"blockquote",paragraph:"paragraph",rule:"hr",heading:["heading","lheading"],codeBlock:["code","fence"],listItem:"list",image:"image"},marks:{em:"emphasis",strong:"text",link:["link","autolink","reference","linkify"],strike:"strikethrough",code:"backticks"}},h={blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",attrs:function(e){return{href:e.attrGet("href"),title:e.attrGet("title")||null}}},hr:{node:"rule"},heading:{block:"heading",attrs:function(e){return{level:+e.tag.slice(1)}}},softbreak:{node:"hardBreak"},hardbreak:{node:"hardBreak"},code_block:{block:"codeBlock"},list_item:{block:"listItem"},bullet_list:{block:"bulletList"},ordered_list:{block:"orderedList",attrs:function(e){return{order:+e.attrGet("order")||1}}},code_inline:{mark:"code"},fence:{block:"codeBlock",attrs:function(e){return{language:e.info&&e.info.trim()||null}}},media_single:{block:"mediaSingle",attrs:function(){return{}}},media:{node:"media",attrs:function(e){return{url:e.attrGet("url"),type:"external"}}},emoji:{node:"emoji",attrs:function(e){return{shortName:":".concat(e.markup,":"),text:e.content}}},table:{block:"table"},tr:{block:"tableRow"},th:{block:"tableHeader"},td:{block:"tableCell"},s:{mark:"strike"}},g=e(c)("zero",{html:!1,linkify:!0});g.enable(["entity","escape"]);var m=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.defaultSchema,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;e(i)(this,t),["nodes","marks"].forEach((function(e){for(var t in p[e])n[e][t]&&r.enable(p[e][t])})),n.nodes.table&&r.use(l.markdownItTable),n.nodes.media&&n.nodes.mediaSingle&&r.use(d.markdownItMedia),this.markdownParser=new u.MarkdownParser(n,r,f(n,h))}return e(a)(t,[{key:"encode",value:function(e){throw new Error("This is not implemented yet")}},{key:"parse",value:function(e){return this.markdownParser.parse(e)}}]),t}()})),r.register("l6WdO",(function(n,o){t(n.exports,"markdownItTable",(function(){return a}));var i=r("5U4X3"),a=function(t,n){t.block.ruler.before("paragraph","table",e(i),{alt:["paragraph","reference"]})}})),r.register("5U4X3",(function(e,t){function n(e){switch(e){case 9:case 32:return!0}return!1}function r(e,t){var n=e.bMarks[t]+e.blkIndent,r=e.eMarks[t];return e.src.substr(n,r-n)}function o(e){var t,n=[],r=0,o=e.length,i=0,a=0,s=!1,c=0;for(t=e.charCodeAt(r);r<o;)96===t?s?(s=!1,c=r):i%2==0&&(s=!0,c=r):124!==t||i%2!=0||s||(n.push(e.substring(a,r)),a=r+1),92===t?i++:i=0,++r===o&&s&&(s=!1,r=c+1),t=e.charCodeAt(r);return n.push(e.substring(a)),n}e.exports=function(e,t,i,a){var s,c,l,u,d,f,p,h,g,m,v;if(t+2>i)return!1;if(d=t+1,e.sCount[d]<e.blkIndent)return!1;if(e.sCount[d]-e.blkIndent>=4)return!1;if((l=e.bMarks[d]+e.tShift[d])>=e.eMarks[d])return!1;if(124!==(s=e.src.charCodeAt(l++))&&45!==s&&58!==s)return!1;for(;l<e.eMarks[d];){if(124!==(s=e.src.charCodeAt(l))&&45!==s&&58!==s&&!n(s))return!1;l++}for(f=(c=r(e,t+1)).split("|"),h=[],u=0;u<f.length;u++){if(!(g=f[u].trim())){if(0===u||u===f.length-1)continue;return!1}if(!/^:?-+:?$/.test(g))return!1;58===g.charCodeAt(g.length-1)?h.push(58===g.charCodeAt(0)?"center":"right"):58===g.charCodeAt(0)?h.push("left"):h.push("")}if(-1===(c=r(e,t).trim()).indexOf("|"))return!1;if(e.sCount[t]-e.blkIndent>=4)return!1;if((f=o(c.replace(/^\||\|$/g,""))).length>h.length)return!1;if(a)return!0;for((p=e.push("table_open","table",1)).map=m=[t,0],(p=e.push("tr_open","tr",1)).map=[t,t+1],u=0;u<f.length;u++)(p=e.push("th_open","th",1)).map=[t,t+1],h[u]&&(p.attrs=[["style","text-align:"+h[u]]]),p=e.push("paragraph_open","p",1),(p=e.push("inline","",0)).content=f[u].trim(),p.map=[t,t+1],p.children=[],p=e.push("paragraph_close","p",-1),p=e.push("th_close","th",-1);for((p=e.push("tr_close","tr",-1)).map=v=[t+2,0],d=t+2;d<i&&!(e.sCount[d]<e.blkIndent)&&-1!==(c=r(e,d).trim()).indexOf("|")&&!(e.sCount[d]-e.blkIndent>=4);d++){f=o(c.replace(/^\||\|$/g,"")),p=e.push("tr_open","tr",1);for(var b=0,y=1;b<f.length;b++){p=e.push("td_open","td",1),h[b]&&(p.attrs=[["style","text-align:"+h[b]]]);var E=" "===f[b][0]||/^(\d+\.|\*|-)$/.test(f[b].trim())?1:0;e.bMarks[d]+=y+E,y=(f[b]||"").length+(E?0:1),e.eMarks[d]=e.bMarks[d]+y-1,e.lineMax=1,e.md.block.tokenize(e,d,d+1),p=e.push("td_close","td",-1)}p=e.push("tr_close","tr",-1)}return p=e.push("table_close","table",-1),m[1]=v[1]=d,e.line=d,!0}})),r.register("idfkk",(function(n,o){t(n.exports,"markdownItMedia",(function(){return s}));var i=r("fw3Q6");function a(){var t=/!\[[^\]]*\]\([^)]+\)/g,n=["th_open","td_open","list_item_open"];return function(r){var o=function(e){var t=r.md.helpers.parseLinkDestination(e,e.indexOf("(")+1,e.length);if(t.ok){var n=r.md.normalizeLink(t.str);if(r.md.validateLink(n))return n}return""},a=function(t,n,o){if(!t||0===t.length)return[];var a=new r.Token("inline","",1);return a.content=t,a.children=[],[].concat(e(i)(n),[a],e(i)(o))},s=[],c=r.tokens.reduce((function(c,l,u,d){if("inline"===l.type&&t.test(l.content)){for(var f=[],p=u-1,h=d[p],g=[];h&&h.level>0&&-1===n.indexOf(h.type);)f.unshift(h),h=d[--p];-1===n.indexOf(h.type)?f.unshift(h):p++;var m=f.map((function(e){return new r.Token(e.type.replace("_open","_close"),e.tag,-1)})).reverse(),v=l.content.match(t),b=l.content;v.forEach((function(t){var n=b.indexOf(t),s=b.substr(0,n);b=b.substr(n+t.length),g=[].concat(e(i)(g),e(i)(a(s,f,m)),e(i)(function(e){var t=new r.Token("media_single_open","",1),n=new r.Token("media","",0);return n.attrs=[["url",o(e)],["type","external"]],[t,n,new r.Token("media_single_close","",-1)]}(t)))})),b.length&&(g=[].concat(e(i)(g),e(i)(a(b,f,m)))),s=[].concat(e(i)(s),e(i)(m.map((function(e){return e.type})))),c=[].concat(e(i)(c.slice(0,p)),e(i)(g))}else-1!==s.indexOf(l.type)?s.splice(s.indexOf(l.type),1):c.push(l);return c}),[]);return r.tokens=c,!0}}var s=function(e){e.core.ruler.before("inline","media",a())}})),r.register("5xOWw",(function(n,o){t(n.exports,"isPastedFromWord",(function(){return u})),t(n.exports,"isPastedFromExcel",(function(){return d})),t(n.exports,"htmlContainsSingleFile",(function(){return f})),t(n.exports,"getPasteSource",(function(){return p})),t(n.exports,"escapeLinks",(function(){return h})),t(n.exports,"hasOnlyNodesOfType",(function(){return g})),t(n.exports,"applyTextMarksToSlice",(function(){return m})),t(n.exports,"isEmptyNode",(function(){return v})),t(n.exports,"isCursorSelectionAtTextStartOrEnd",(function(){return b})),t(n.exports,"isSelectionInsidePanel",(function(){return y}));var i=r("fw3Q6"),a=r("jWbqG"),s=r("bKhep"),c=r("eBSbE"),l=r("iFBc4");function u(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:word")>=0}function d(e){return!!e&&e.indexOf("urn:schemas-microsoft-com:office:excel")>=0}function f(e){return!!e.match(/<img .*>/)&&!s.isMediaBlobUrl(e)}function p(e){var t=e.clipboardData.getData("text/html");return function(e){return!!e&&!!e.match(/class=\"\s?author-d-.+"/gim)}(t)?"dropbox-paper":u(t)?"microsoft-word":d(t)?"microsoft-excel":function(e){return!!e&&!!e.match(/id=\"docs-internal-guid-.+"/gim)}(t)?"google-docs":function(e){return!!e&&!!e.match(/data-sheets-.+=/gim)}(t)?"google-spreadsheets":function(e){return!!e&&e.indexOf('content="Cocoa HTML Writer"')>=0}(t)?"apple-pages":function(e){return!!e&&e.indexOf('data-pm-slice="')>=0}(t)?"fabric-editor":"uncategorized"}function h(e){return e.replace(/(\[([^\]]+)\]\()?((https?|ftp):\/\/[^\s]+)/g,(function(e){return e.match(/^(https?|ftp):\/\/[^\s]+$/)?"<".concat(e,">"):e}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=!0;return e.content.descendants((function(e){return n=n&&t.indexOf(e.type)>-1})),n}}function m(t,n){return function(r){var o=t.marks,s=o.code,c=o.link,l=o.annotation;if(!Array.isArray(n)||0===n.length)return r;var u=a.Slice.fromJSON(t,r.toJSON()||{}),d=[c,l];return u.content.descendants((function(t,r,o){return!(t.isText&&o&&o.isBlock)||(t.marks=[].concat(e(i)(t.marks&&!s.isInSet(n)&&t.marks.filter((function(e){return d.includes(e.type)}))||[]),e(i)(o.type.allowedMarks(n).filter((function(e){return e.type!==c})))),!1)})),u}}function v(e){if(!e)return!1;var t=e.type.createAndFill();return t&&t.nodeSize===e.nodeSize&&t.content.eq(e.content)&&a.Mark.sameSet(t.marks,e.marks)}function b(e){return e instanceof c.TextSelection&&e.empty&&e.$cursor&&(!e.$cursor.nodeBefore||!e.$cursor.nodeAfter)}function y(e){if(e instanceof c.NodeSelection&&(t=e.node,Boolean(t&&"panel"===t.type.name)))return e.node;var t,n=e.$from.doc.type.schema.nodes.panel,r=l.findParentNodeOfType(n)(e);return r?r.node:null}})),r.register("fOW3Z",(function(e,n){t(e.exports,"transformSliceToRemoveOpenLayoutNodes",(function(){return l}));var o=r("jWbqG"),i=r("hxFzZ");function a(e){var t=i.mapFragment(o.Fragment.from(e),(function(e){return function(e){return e.type===e.type.schema.nodes.layoutSection||e.type===e.type.schema.nodes.layoutColumn}(e)?e.content:e})),n=[];return t.forEach((function(e){return n.push(e)})),n}function s(e,t){return 0===t?a(e):e}function c(e,t,n){return t===n.childCount-1?a(e):e}function l(e,t){if(e.openStart&&e.openEnd&&1===e.content.childCount&&e.content.firstChild.type===t.nodes.layoutSection)return new o.Slice(i.flatmap(e.content,s),e.openStart-2,e.openEnd-2);return e.openStart&&e.content.firstChild.type===t.nodes.layoutSection&&(e=new o.Slice(i.flatmap(e.content,s),e.openStart-2,e.openEnd)),e.openEnd&&e.content.lastChild.type===t.nodes.layoutSection&&(e=new o.Slice(i.flatmap(e.content,c),e.openStart,e.openEnd-2)),e}})),r.register("k8eoj",(function(n,o){t(n.exports,"handleMention",(function(){return D})),t(n.exports,"handlePasteIntoTaskAndDecision",(function(){return R})),t(n.exports,"handlePasteLinkOnSelectedText",(function(){return M})),t(n.exports,"handlePasteAsPlainText",(function(){return _})),t(n.exports,"handlePastePreservingMarks",(function(){return j})),t(n.exports,"handleMacroAutoConvert",(function(){return F})),t(n.exports,"handleCodeBlock",(function(){return z})),t(n.exports,"handleMediaSingle",(function(){return W})),t(n.exports,"handleExpand",(function(){return U})),t(n.exports,"handleMarkdown",(function(){return H})),t(n.exports,"handleParagraphBlockMarks",(function(){return K})),t(n.exports,"handleRichText",(function(){return J})),t(n.exports,"handleSelectedTable",(function(){return q}));var i=r("9ePZF"),a=r("cNgp7"),s=r("l15hj"),c=r("9VelW"),l=r("jWbqG"),u=r("eBSbE"),d=r("iFBc4"),f=r("9J8af"),p=r("lGsoF"),h=r("l9fpM"),g=r("hxFzZ");r("cTu5S");var m=r("9V1f8"),v=r("cSjqO"),b=r("1wUBP"),y=r("5eBbT");r("5cZja");var E=r("4JxMX"),x=r("e3QKe");r("izdX5");var k=r("d7We5"),C=r("jp8SX"),S=r("5xOWw"),T=r("6q2D0"),O=r("l68vJ"),w=r("gKKum");function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?A(Object(r),!0).forEach((function(n){e(s)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function D(e,t){return g.mapSlice(e,(function(e){if(e.type.name===t.nodes.mention.name){var n=I(I({},e.attrs),{},{text:""});return t.nodes.mention.create(n,e.content,e.marks)}return e}))}function R(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks.code,a=r.nodes,s=a.decisionItem,l=a.decisionList,p=a.emoji,h=a.hardBreak,g=a.mention,b=a.paragraph,E=a.taskList,x=a.taskItem,C=a.text;if(!(s&&l&&E&&x&&d.hasParentNodeOfType([s,x])(t.selection)))return!1;var T=[y.linkifyContent(r)],O=o.$head.marks(),w=k.pluginKey.getState(t);o instanceof u.TextSelection&&Array.isArray(O)&&O.length>0&&S.hasOnlyNodesOfType(b,C,p,g,h)(e)&&(!i.isInSet(O)||w.codeActive)&&T.push(S.applyTextMarksToSlice(r,o.$head.marks()));var N=f.compose.apply(null,T)(e),P=c.closeHistory(t.tr).replaceSelection(N).scrollIntoView();return v.queueCardsFromChangedTr(t,P,m.INPUT_METHOD.CLIPBOARD),n&&n(P),!0}}function M(e){return function(t,n){var r,o=t.schema,i=t.selection,a=t.selection,s=a.from,c=a.to,l=t.tr;if(1===e.content.childCount&&p.isParagraph(e.content.child(0),o)){var d=e.content.child(0);if(1===d.content.childCount&&p.isText(d.content.child(0),o)){var f=d.content.child(0);r=f.marks.find((function(e){return p.isLinkMark(e,o)&&e.attrs.href===f.text}))}}return!!(r&&i instanceof u.TextSelection&&!i.empty&&O.canLinkBeCreatedInRange(s,c)(t))&&(l.addMark(s,c,r),n&&n(l),!0)}}function _(e,t){return function(t,n,r){if(r&&r.shiftKey){var o=c.closeHistory(t.tr),i=o.selection;return(o=C.replaceSelectedTable(t,e,m.INPUT_METHOD.CLIPBOARD)).docChanged||o.replaceSelection(e),(t.storedMarks||[]).forEach((function(t){o.addMark(i.from,i.from+e.size,t)})),o.scrollIntoView(),n&&n(o),!0}return!1}}function j(e){return function(t,n){var r=t.schema,o=t.tr.selection,i=r.marks,a=i.code,s=i.link,l=r.nodes,d=l.bulletList,f=l.emoji,p=l.hardBreak,h=l.heading,g=l.listItem,b=l.mention,y=l.orderedList,E=l.paragraph,x=l.text;if(!(o instanceof u.TextSelection))return!1;var C=o.$head.marks();if(0===C.length)return!1;var T=k.pluginKey.getState(t);if(a.isInSet(C)&&!T.codeActive)return!1;if(1===e.content.childCount&&e.content.firstChild.type===E&&1===e.content.firstChild.content.childCount&&e.content.firstChild.firstChild.type===x&&s.isInSet(C)&&1===C.length){var O=c.closeHistory(t.tr).replaceSelectionWith(e.content.firstChild.firstChild,!0).setStoredMarks(C).scrollIntoView();return v.queueCardsFromChangedTr(t,O,m.INPUT_METHOD.CLIPBOARD),n&&n(O),!0}if(S.hasOnlyNodesOfType(d,p,h,g,E,x,f,b,y)(e)){var w=S.applyTextMarksToSlice(r,C)(e),N=c.closeHistory(t.tr).replaceSelection(w).setStoredMarks(C).scrollIntoView();return v.queueCardsFromChangedTr(t,N,m.INPUT_METHOD.CLIPBOARD),n&&n(N),!0}return!1}}function B(){return(B=e(a)(e(i).mark((function t(n,r,o){var a;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o.provider){e.next=2;break}throw Error("No card provider found");case 2:return e.next=4,o.provider;case 4:return a=e.sent,e.next=7,a.resolve(n,r);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),t)})))).apply(this,arguments)}function L(e,t,n){if(n){var r=n.state.tr.selection,o=n.state.tr.replaceSelection(e),i=o.mapping.map(r.from,-1);return n.dispatch(o),n.dispatch(c.closeHistory(n.state.tr).replaceRangeWith(i,i+e.size,t).scrollIntoView()),!0}return!1}function F(e,t,n,r){return function(o,i,a){var s=null;if(r){var c=r(e);c&&(s=l.Node.fromJSON(o.schema,c))}return s||(s=E.runMacroAutoConvert(o,e)),s?n&&n.resolveBeforeMacros&&n.resolveBeforeMacros.length?n.resolveBeforeMacros.indexOf(s.attrs.extensionKey)<0?L(t,s,a):(function(e,t,n){return B.apply(this,arguments)}(e,"inline",n).then((function(e){if(!a)throw new Error("Missing view");var t=a.state,n=t.schema,r=t.tr,o=h.processRawValue(n,e);if(!o)throw new Error("Received invalid ADF from CardProvider");a.dispatch(v.insertCard(r,o,n))})).catch((function(){return L(t,s,a)})),!0):L(t,s,a):!!s}}function z(e){return function(t,n){var r=t.schema.nodes.codeBlock;if(e&&d.hasParentNodeOfType(r)(t.selection)){var o=c.closeHistory(t.tr);return o.scrollIntoView(),n&&n(o.insertText(e)),!0}return!1}}function W(e){return function(t){return function(n,r,o){if(o){if(function(e,t){var n=e.schema.nodes.media;return 1===t.content.childCount&&t.content.firstChild.type===n}(n,t))return x.insertMediaAsMediaSingle(o,t.content.firstChild,e);if(f.insideTable(n)&&function(e,t){var n=e.schema.nodes.mediaSingle;return n&&1===t.content.childCount&&t.content.firstChild.type===n}(n,t)){var i=n.tr.replaceSelection(t),a=i.doc.resolve(i.mapping.map(n.selection.$from.pos));return r&&r(i.setSelection(new b.GapCursorSelection(a,b.Side.RIGHT))),!0}}return!1}}}function U(e){return function(t,n){if(!f.insideTable(t))return!1;var r=t.schema.nodes,o=r.expand,i=r.nestedExpand,a=t.tr,s=!1,c=g.mapSlice(e,(function(e){if(e.type===o){s=!0;try{return i.createChecked(e.attrs,e.content,e.marks)}catch(t){return a=d.safeInsert(e,a.selection.$to.pos)(a),l.Fragment.empty}}return e}));return!(!s||!n)&&(e.openStart>1&&e.openEnd>1?n(a.replaceSelection(c)):n(d.safeInsert(c.content)(a)),!0)}}function H(e){return function(t,n){var r=c.closeHistory(t.tr);return r.replaceSelection(e),v.queueCardsFromChangedTr(t,r,m.INPUT_METHOD.CLIPBOARD),n&&n(r.scrollIntoView()),!0}}function V(e,t){e.content.forEach((function(e){T.isListNode(e)||T.isListItemNode(e)&&T.isListNode(e.firstChild)?V(e,t):t.push(e)}))}function K(e,t){if(0===t.content.size)return t;var n=e.schema,r=e.selection.$from;if(!function(e){var t=!1;return e.content.descendants((function(e){return e.marks.length>0&&(t=!0),!1})),t}(t))return t;var o=r.parent.textContent.length>0;if(1===t.content.childCount&&o)return t;var i,a=r.node(Math.max(0,r.depth-1)),s=function(e){var t=new Set;return e.content.descendants((function(e){return e.marks.map((function(e){return e.type})).forEach((function(e){return t.add(e)})),!1})),t}(t),c=[],u=N(s);try{for(u.s();!(i=u.n()).done;){var d=i.value;a.type.allowsMarkType(d)||c.push(d)}}catch(e){u.e(e)}finally{u.f()}if(0===c.length){var f=Math.max(0,t.openStart-1);return new l.Slice(t.content,f,t.openEnd)}return g.mapSlice(t,(function(e){return e.type===n.nodes.paragraph?n.nodes.paragraph.createChecked(void 0,e.content,e.marks.filter((function(e){return!c.includes(e.type)}))):e}))}function G(e){if(!e.content.firstChild)return e;var t=e.content.firstChild,n=[];V(t,n);var r=e.content.replaceChild(0,t.type.createChecked(t.attrs,n));return new l.Slice(r,e.openEnd,e.openEnd)}function J(e){return function(t,n){var r,o=t.schema.nodes,i=o.codeBlock,a=o.panel,s=t.tr;(function(e,t){return t.content.firstChild&&t.content.firstChild.marks.some((function(t){return t.type===e.schema.marks.code}))})(t,e)&&function(e){var t=e.selection,n=t.$from.nodeBefore,r=t.from;n&&n.isText&&n.text.endsWith("`")&&e.delete(r-1,r)}(s),function(e,t){var n=t.content.firstChild;return n&&f.insideTable(e)&&T.isListNode(n)&&t.openStart>t.openEnd}(t,e)&&(e=G(e)),c.closeHistory(s);var l=d.findParentNodeOfType(a)(s.selection),p=T.isListNode(e.content.firstChild),h=T.isListNode(e.content.lastChild),g=p||h,b=l&&2===(null===(r=l.node)||void 0===r?void 0:r.content.size);return g||b?w.insertSliceForLists({tr:s,slice:e}):function(e,t,n){var r=d.findParentNodeOfType(n)(e.selection);if(e.selection.$from===e.selection.$to&&r&&!r.node.textContent){e=d.safeInsert(t.content,e.selection.$to.pos)(e);var o=d.findParentNodeOfType(n)(e.selection);o&&e.setSelection(u.TextSelection.near(e.doc.resolve(o.pos+o.node.nodeSize)))}else e.replaceSelection(t)}(s,e,a),s.setStoredMarks([]),s.selection.empty&&s.selection.$from.parent.type===i&&s.setSelection(u.TextSelection.near(s.selection.$from,1)),s.scrollIntoView(),n&&n(v.queueCardsFromChangedTr(t,s,m.INPUT_METHOD.CLIPBOARD)),!0}}var q=function(e){return function(t,n){var r=C.replaceSelectedTable(t,e,m.INPUT_METHOD.CLIPBOARD);return!!r.docChanged&&(n&&n(r),!0)}}})),r.register("izdX5",(function(e,n){t(e.exports,"plugin",(function(){return f})),t(e.exports,"pluginKey",(function(){return r("d7We5").pluginKey}));var o=r("l5dFf"),i=r("eBSbE"),a=r("7uC1r"),s=r("9J8af"),c=r("is04y"),l=(c=r("is04y"),r("1qU8Q")),u=r("d7We5"),d=function(e){var t=e.schema.marks,n=t.em,r=t.code,i=t.strike,a=t.strong,s=t.subsup,c=t.underline,u={};if(r&&(u.codeActive=l.anyMarkActive(e,r.create()),u.codeDisabled=!o.toggleMark(r)(e)),n&&(u.emActive=l.anyMarkActive(e,n),u.emDisabled=!!u.codeActive||!o.toggleMark(n)(e)),i&&(u.strikeActive=l.anyMarkActive(e,i),u.strikeDisabled=!!u.codeActive||!o.toggleMark(i)(e)),a&&(u.strongActive=l.anyMarkActive(e,a),u.strongDisabled=!!u.codeActive||!o.toggleMark(a)(e)),s){var d=s.create({type:"sub"}),f=s.create({type:"sup"});u.subscriptActive=l.anyMarkActive(e,d),u.subscriptDisabled=!!u.codeActive||!o.toggleMark(s,{type:"sub"})(e),u.superscriptActive=l.anyMarkActive(e,f),u.superscriptDisabled=!!u.codeActive||!o.toggleMark(s,{type:"sup"})(e)}return c&&(u.underlineActive=l.anyMarkActive(e,c),u.underlineDisabled=!!u.codeActive||!o.toggleMark(c)(e)),u},f=function(e){return new i.Plugin({state:{init:function(e,t){return d(t)},apply:function(t,n,r,o){var i=d(o);return s.shallowEqual(n,i)?n:(e(u.pluginKey,i),i)}},key:u.pluginKey,props:{handleKeyDown:function(e,t){var n=e.state,r=e.dispatch;return t.key===a.moveRight.common?c.moveRight()(n,r):t.key===a.moveLeft.common&&c.moveLeft()(n,r)},handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch,a=o.schema;return!!o.selection.$from.parent.type.allowsMarkType(a.marks.code)&&c.createInlineCodeFromTextInputWithAnalytics(t,n,r)(o,i)}}})}})),r.register("is04y",(function(e,n){t(e.exports,"moveRight",(function(){return l})),t(e.exports,"moveLeft",(function(){return u})),t(e.exports,"toggleEmWithAnalytics",(function(){return d})),t(e.exports,"toggleStrikeWithAnalytics",(function(){return f})),t(e.exports,"toggleStrongWithAnalytics",(function(){return p})),t(e.exports,"toggleUnderlineWithAnalytics",(function(){return h})),t(e.exports,"toggleSuperscriptWithAnalytics",(function(){return g})),t(e.exports,"toggleSubscriptWithAnalytics",(function(){return m})),t(e.exports,"toggleCodeWithAnalytics",(function(){return v})),t(e.exports,"createInlineCodeFromTextInputWithAnalytics",(function(){return b}));var o=r("eBSbE"),i=r("jd53t");r("cTu5S");var a=r("hNVBR"),s=r("9V1f8"),c=r("1qU8Q"),l=function(){return function(e,t){var n=e.schema.marks.code,r=e.selection,o=r.empty,i=r.$cursor;if(!o||!i)return!1;var a=e.tr.storedMarks;if(n){var s=c.markActive(e,n.create()),l=e.doc.rangeHasMark(i.pos,i.pos,n),u=e.doc.rangeHasMark(i.pos,i.pos+1,n),d=!(l||u||a&&!a.length),f=!l&&u&&(!a||!a.length);if(!s&&f)return t&&t(e.tr.addStoredMark(n.create())),!0;if(s&&d)return t&&t(e.tr.removeStoredMark(n)),!0}return!1}},u=function(){return function(e,t){var n=e.schema.marks.code,r=e.selection,i=r.empty,a=r.$cursor;if(!i||!a)return!1;var s=e.tr.storedMarks;if(n){var l=n&&c.markActive(e,n.create()),u=c.hasCode(e,a.pos),d=c.hasCode(e,a.pos-1),f=c.hasCode(e,a.pos-2),p=u&&!d&&Array.isArray(s),h=d&&!f&&(null===s||Array.isArray(s)&&!!s.length),g=(p&&Array.isArray(s)&&!s.length||!p&&null===s)&&!d&&f,m=!u&&d&&Array.isArray(s)&&!s.length;if(!l&&g){var v=e.tr.setSelection(o.Selection.near(e.doc.resolve(a.pos-1)));return t&&t(v.removeStoredMark(n)),!0}if(!l&&m)return t&&t(e.tr.addStoredMark(n.create())),!0;if(l&&h){var b=e.tr.setSelection(o.Selection.near(e.doc.resolve(a.pos-1)));return t&&t(b.addStoredMark(n.create())),!0}var y=0===a.index(a.depth-1);if(l&&(p||!a.nodeBefore&&y))return t&&t(e.tr.removeStoredMark(n)),!0}return!1}},d=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_ITALIC,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.em;return!!n&&i.toggleMark(n)(e,t)}))},f=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_STRIKE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.strike;return!!n&&i.toggleMark(n)(e,t)}))},p=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_STRONG,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.strong;return!!n&&i.toggleMark(n)(e,t)}))},h=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_UNDERLINE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.underline;return!!n&&i.toggleMark(n)(e,t)}))},g=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_SUPER,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.subsup;return!!n&&i.toggleMark(n,{type:"sup"})(e,t)}))},m=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_SUB,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.subsup;return!!n&&i.toggleMark(n,{type:"sub"})(e,t)}))},v=function(e){var t=e.inputMethod;return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_CODE,attributes:{inputMethod:t}})((function(e,t){var n=e.schema.marks.code;return!!n&&i.toggleMark(n)(e,t)}))},b=function(e,t,n){return a.withAnalytics({action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,eventType:s.EVENT_TYPE.TRACK,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_CODE,attributes:{inputMethod:s.INPUT_METHOD.FORMATTING}})(function(e,t,n){return function(r,o){if(r.selection.empty){var a=r.doc.resolve(e).nodeBefore,s=r.doc.resolve(t).nodeAfter,c=a&&a.text&&a.text.endsWith("`"),l=s&&s.text&&s.text.startsWith("`");if(c&&l){var u=r.tr.replaceRangeWith(e-1,t+1,r.schema.text(n));if(o){var d=r.schema.marks.code.create();o(u=i.applyMarkOnRange(u.mapping.map(e-1),u.mapping.map(t+1),!1,d,u).setStoredMarks([d]))}return!0}}return!1}}(e,t,n))}})),r.register("1qU8Q",(function(e,n){t(e.exports,"hasCode",(function(){return a})),t(e.exports,"markActive",(function(){return s})),t(e.exports,"anyMarkActive",(function(){return c})),t(e.exports,"checkFormattingIsPresent",(function(){return l}));var o=r("bKnyF"),i=r("1xiz7"),a=function(e,t){var n=e.schema.marks.code,r=t>=0&&e.doc.nodeAt(t);return!!r&&!!r.marks.filter((function(e){return e.type===n})).length},s=function(e,t){var n=e.selection,r=n.from,o=n.to;if(n.empty)return!!t.isInSet(e.tr.storedMarks||e.selection.$from.marks());var i=!1;return e.doc.nodesBetween(r,o,(function(e){i=i||t.isInSet(e.marks)})),i},c=function(e,t){var n=e.selection,r=n.$from,i=n.from,a=n.to;if(n.empty)return!!t.isInSet(e.storedMarks||r.marks());var s=!1;return e.selection instanceof o.CellSelection?e.selection.forEachCell((function(n,r){var o=r,i=r+n.nodeSize;s||(s=e.doc.rangeHasMark(o,i,t))})):s=e.doc.rangeHasMark(i,a,t),s},l=function(e){return function(e){return i.FORMATTING_MARK_TYPES.filter((function(t){if(e.schema.marks[t]){var n=e.selection,r=n.$from,o=n.empty,i=e.schema.marks;return o?!!i[t].isInSet(e.storedMarks||r.marks()):c(e,i[t])}return!1})).length>0}(e)||function(e){var t=e.selection,n=t.from,r=t.to,o=!1;return e.doc.nodesBetween(n,r,(function(e){return-1===i.FORMATTING_NODE_TYPES.indexOf(e.type.name)||(o=!0,!1)})),o}(e)}})),r.register("1xiz7",(function(e,n){t(e.exports,"FORMATTING_NODE_TYPES",(function(){return l})),t(e.exports,"FORMATTING_MARK_TYPES",(function(){return u})),t(e.exports,"clearFormattingWithAnalytics",(function(){return f}));var o=r("bKnyF"),i=r("6sW8E"),a=r("kT6or");r("cTu5S");var s=r("9V1f8"),c=r("hNVBR"),l=["heading","codeBlock","blockquote"],u=["em","code","strike","strong","underline","textColor","subsup"],d={em:s.ACTION_SUBJECT_ID.FORMAT_ITALIC,code:s.ACTION_SUBJECT_ID.FORMAT_CODE,strike:s.ACTION_SUBJECT_ID.FORMAT_STRIKE,strong:s.ACTION_SUBJECT_ID.FORMAT_STRONG,underline:s.ACTION_SUBJECT_ID.FORMAT_UNDERLINE,textColor:s.ACTION_SUBJECT_ID.FORMAT_COLOR,subsup:"subsup"};function f(e){return function(e){return function(t,n){var r=t.tr,i=[];return u.forEach((function(e){var n=r.selection,s=n.from,c=n.to,l=t.schema.marks[e];l&&(r.selection instanceof o.CellSelection?a.cellSelectionNodesBetween(r.selection,r.doc,(function(n,o){return n.type!==t.schema.nodes.tableCell&&n.type!==t.schema.nodes.tableHeader||(r.doc.rangeHasMark(o,o+n.nodeSize,l)&&(i.push(d[e]),r.removeMark(o,o+n.nodeSize,l)),!1)})):r.doc.rangeHasMark(s,c,l)&&(i.push(d[e]),r.removeMark(s,c,l)))})),l.forEach((function(e){var n=t.schema.nodes[e],s=r.selection,c=s.$from,l=s.$to;r.selection instanceof o.CellSelection?a.cellSelectionNodesBetween(r.selection,r.doc,p(t,r,n,e,i)):r.doc.nodesBetween(c.pos,l.pos,p(t,r,n,e,i))})),r.setStoredMarks([]),i.length&&e&&c.addAnalytics(t,r,{action:s.ACTION.FORMATTED,eventType:s.EVENT_TYPE.TRACK,actionSubject:s.ACTION_SUBJECT.TEXT,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_CLEAR,attributes:{inputMethod:e,formattingCleared:i}}),n&&n(r),!0}}(e)}function p(e,t,n,r,o){return function(a,s){if(a.type===n){if(n.isTextblock)return t.setNodeMarkup(s,e.schema.nodes.paragraph),o.push(r),!1;var c=t.doc.resolve(s+1),l=t.doc.resolve(s+a.nodeSize-1),u=c.blockRange(l);if(u){var d=i.liftTarget(u);(d||0===d)&&(o.push(r),t.lift(u,d))}}return!0}}})),r.register("kT6or",(function(e,n){t(e.exports,"cellSelectionNodesBetween",(function(){return r}));var r=function(e,t,n,r){e.forEachCell((function(e,o){t.nodesBetween(o,o+e.nodeSize,n,r)}))}})),r.register("d7We5",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("textFormatting")})),r.register("gKKum",(function(e,n){t(e.exports,"insertSliceForLists",(function(){return s}));var o=r("3BuyN"),i=r("6q2D0"),a=r("5xOWw");function s(e){var t=e.tr,n=e.slice,r=t.selection,s=t.selection,c=s.$to,l=s.$from,u=r.$cursor,d=a.isSelectionInsidePanel(r),f=l.blockRange(c,i.isListNode);return!u&&f?o.insertSliceIntoRangeSelectionInsideList({tr:t,slice:n}):d&&a.isEmptyNode(d)&&l.node()===c.node()?o.insertSliceInsideOfPanelNodeSelected(d)({tr:t,slice:n}):!u||f?t.replaceSelection(n):a.isEmptyNode(t.doc.resolve(u.pos).node())?o.insertSliceIntoEmptyNode({tr:t,slice:n}):a.isCursorSelectionAtTextStartOrEnd(r)?o.insertSliceAtNodeEdge({tr:t,slice:n}):void t.replaceSelection(n)}})),r.register("3BuyN",(function(e,n){t(e.exports,"insertSliceIntoEmptyNode",(function(){return c})),t(e.exports,"insertSliceAtNodeEdge",(function(){return l})),t(e.exports,"insertSliceIntoRangeSelectionInsideList",(function(){return u})),t(e.exports,"insertSliceInsideOfPanelNodeSelected",(function(){return d}));var o=r("jWbqG"),i=r("eBSbE"),a=r("6sW8E");r("9J8af");var s=r("l9fpM");function c(e){var t=e.tr,n=e.slice;t.replaceSelection(n)}function l(e){var t=e.tr,n=e.slice,r=t.selection.$cursor;if(r){var o=r.nodeBefore?r.after():r.before();t.replaceRange(o,o,n);var a=t.doc.resolve(Math.min(o+n.content.size-n.openEnd,t.doc.content.size));t.setSelection(i.TextSelection.near(a,-1))}}function u(e){var t=e.tr,n=e.slice,r=t.selection,o=r.$to,a=r.$from,s=r.to,c=r.from;if(a.sameParent(o)||a.depth===o.depth)return t.replaceSelection(n);var l=a.blockRange(o);if(l){var u=c,d=o.nodeAfter?s:s+2,f=t.doc.slice(d,l.end);t.deleteRange(u,l.end);var p=t.mapping.map(u);if(t.replaceRange(p,p,n),!(f.size<=0)){var h=i.TextSelection.near(t.doc.resolve(t.mapping.map(p)),-1);f.openEnd=f.openStart,t.replaceRange(h.from,h.from,f),t.setSelection(i.TextSelection.near(t.doc.resolve(h.from),-1))}}}function d(e){return function(t){var n=t.tr,r=t.slice,c=n.selection,l=n.selection,u=l.$to,d=l.$from,f=c.from;if(!e||e.type.validContent(o.Fragment.from(r.content))){var p=new a.Transform(n.doc.type.createAndFill());p.replaceRange(0,p.doc.content.size,r);var h=p.doc.slice(0),g=e.copy(h.content),m=c instanceof i.NodeSelection?c.node:null,v=m?f:n.doc.resolve(f).start(),b=m?f+m.nodeSize:v;n.replaceRangeWith(v,b,g),n.setSelection(i.TextSelection.near(n.doc.resolve(d.pos+g.content.size),-1))}else{var y,E=u.pos+1;n.replaceRange(E,E,r);var x=n.doc.resolve(d.before()).node();if(x&&x.childCount>1&&"paragraph"===(null===(y=x.firstChild)||void 0===y?void 0:y.type.name)&&s.isEmptyParagraph(x.firstChild)){var k=n.doc.resolve(d.before()).posAtIndex(0),C=n.doc.resolve(d.before()).posAtIndex(1);C-k==2&&n.delete(k,C)}n.setSelection(i.TextSelection.near(n.doc.resolve(E+r.content.size-r.openStart-r.openEnd+1)))}}}})),r.register("1Ixgv",(function(e,n){t(e.exports,"transformSliceToJoinAdjacentCodeBlocks",(function(){return c})),t(e.exports,"transformSingleLineCodeBlockToCodeMark",(function(){return l})),t(e.exports,"findCodeBlock",(function(){return u}));var o=r("jWbqG"),i=r("hxFzZ"),a=r("iFBc4");function s(e){var t=[];return e.forEach((function(e){if(e.type===e.type.schema.nodes.codeBlock){var n=t[t.length-1];if(n&&n.type===e.type)return t.push((r=t.pop(),o=e,i="".concat(r.textContent,"\n").concat(o.textContent),r.type.create(r.attrs,r.type.schema.text(i))))}var r,o,i;return t.push(e)})),o.Fragment.from(t)}function c(e){return e=i.mapSlice(e,(function(e){return e.isBlock&&!e.isTextblock?e.copy(s(e.content)):e})),new o.Slice(s(e.content),e.openStart,e.openEnd)}var l=function(e,t){if(1===e.content.childCount&&(e.openStart||e.openEnd)){var n=e.content.firstChild;if(n&&n.type===t.nodes.codeBlock&&n.textContent&&-1===n.textContent.indexOf("\n"))return new o.Slice(o.Fragment.from(t.text(n.textContent,[t.marks.code.create()])),0,0)}return e},u=function(e,t){var n=e.schema.nodes.codeBlock;return a.findSelectedNodeOfType(n)(t||e.selection)||a.findParentNodeOfType(n)(t||e.selection)}})),r.register("ZCEj9",(function(n,o){t(n.exports,"sendPasteAnalyticsEvent",(function(){return C})),t(n.exports,"handlePasteAsPlainTextWithAnalytics",(function(){return T})),t(n.exports,"handlePasteIntoTaskAndDecisionWithAnalytics",(function(){return O})),t(n.exports,"handleCodeBlockWithAnalytics",(function(){return w})),t(n.exports,"handleMediaSingleWithAnalytics",(function(){return N})),t(n.exports,"handlePastePreservingMarksWithAnalytics",(function(){return P})),t(n.exports,"handleMarkdownWithAnalytics",(function(){return A})),t(n.exports,"handleRichTextWithAnalytics",(function(){return I})),t(n.exports,"handleExpandWithAnalytics",(function(){return D})),t(n.exports,"handleSelectedTableWithAnalytics",(function(){return R})),t(n.exports,"handlePasteLinkOnSelectedTextWithAnalytics",(function(){return M})),t(n.exports,"createPasteMeasurePayload",(function(){return _})),t(n.exports,"getContentNodeTypes",(function(){return j}));var i=r("fw3Q6"),a=r("l15hj");r("cTu5S");var s=r("lqz6P"),c=r("9V1f8"),l=r("hNVBR"),u=r("5xOWw"),d=r("k8eoj"),f=r("9J8af"),p=r("iFBc4"),h=r("hxFzZ"),g=r("5eBbT");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b={url:s.PasteContents.url,paragraph:s.PasteContents.text,bulletList:s.PasteContents.bulletList,orderedList:s.PasteContents.orderedList,heading:s.PasteContents.heading,blockquote:s.PasteContents.blockquote,codeBlock:s.PasteContents.codeBlock,panel:s.PasteContents.panel,rule:s.PasteContents.rule,mediaSingle:s.PasteContents.mediaSingle,mediaCard:s.PasteContents.mediaCard,mediaGroup:s.PasteContents.mediaGroup,table:s.PasteContents.table,tableCells:s.PasteContents.tableCells,tableHeader:s.PasteContents.tableHeader,tableRow:s.PasteContents.tableRow,decisionList:s.PasteContents.decisionList,decisionItem:s.PasteContents.decisionItem,taskList:s.PasteContents.taskItem,extension:s.PasteContents.extension,bodiedExtension:s.PasteContents.bodiedExtension,blockCard:s.PasteContents.blockCard,layoutSection:s.PasteContents.layoutSection},y={blockquote:c.ACTION_SUBJECT_ID.PASTE_BLOCKQUOTE,blockCard:c.ACTION_SUBJECT_ID.PASTE_BLOCK_CARD,bodiedExtension:c.ACTION_SUBJECT_ID.PASTE_BODIED_EXTENSION,bulletList:c.ACTION_SUBJECT_ID.PASTE_BULLET_LIST,codeBlock:c.ACTION_SUBJECT_ID.PASTE_CODE_BLOCK,decisionList:c.ACTION_SUBJECT_ID.PASTE_DECISION_LIST,extension:c.ACTION_SUBJECT_ID.PASTE_EXTENSION,heading:c.ACTION_SUBJECT_ID.PASTE_HEADING,mediaGroup:c.ACTION_SUBJECT_ID.PASTE_MEDIA_GROUP,mediaSingle:c.ACTION_SUBJECT_ID.PASTE_MEDIA_SINGLE,orderedList:c.ACTION_SUBJECT_ID.PASTE_ORDERED_LIST,panel:c.ACTION_SUBJECT_ID.PASTE_PANEL,rule:c.ACTION_SUBJECT_ID.PASTE_RULE,table:c.ACTION_SUBJECT_ID.PASTE_TABLE,tableCell:c.ACTION_SUBJECT_ID.PASTE_TABLE_CELL,tableHeader:c.ACTION_SUBJECT_ID.PASTE_TABLE_HEADER,tableRow:c.ACTION_SUBJECT_ID.PASTE_TABLE_ROW,taskList:c.ACTION_SUBJECT_ID.PASTE_TASK_LIST};function E(e){var t=e.state,n=t.selection,r=t.schema.nodes,o=r.paragraph,i=r.listItem,a=r.taskItem,s=r.decisionItem,l=p.findParentNode((function(e){return e.type!==o&&e.type!==i&&e.type!==a&&e.type!==s}))(n);if(!l)return c.ACTION_SUBJECT_ID.PASTE_PARAGRAPH;var u=l.node.type,d=y[u.name];return d||c.ACTION_SUBJECT_ID.PASTE_PARAGRAPH}function x(e,t,n){return v({action:c.ACTION.PASTED,actionSubject:c.ACTION_SUBJECT.DOCUMENT,actionSubjectId:e,eventType:c.EVENT_TYPE.TRACK,attributes:v({inputMethod:c.INPUT_METHOD.KEYBOARD},t)},n&&n.length>0?{nonPrivacySafeAttributes:{linkDomain:n}}:{})}function k(e,t,n,r){var o=t.clipboardData?t.clipboardData.getData("text/plain")||t.clipboardData.getData("text/uri-list"):"",i=E(e);if(r.asPlain)return function(e,t){return{action:c.ACTION.PASTED_AS_PLAIN,actionSubject:c.ACTION_SUBJECT.DOCUMENT,actionSubjectId:e,eventType:c.EVENT_TYPE.TRACK,attributes:{inputMethod:c.INPUT_METHOD.KEYBOARD,pasteSize:t.length}}}(i,o);var a=u.getPasteSource(t);if(r.type===s.PasteTypes.plain)return x(i,{pasteSize:o.length,type:r.type,content:s.PasteContents.text,source:a});var l=n.size,d=function(e,t){var n=e.schema,r=n.nodes.paragraph,o=n.marks.link,i=new Set;if(t.content.forEach((function(e){e.type===r&&0===e.content.size||("text"===e.type.name&&o.isInSet(e.marks)||e.type===r&&e.rangeHasMark(0,e.nodeSize-2,o)?i.add("url"):i.add(e.type.name))})),i.size>1)return s.PasteContents.mixed;if(0===i.size)return s.PasteContents.uncategorized;var a=i.values().next().value;return b[a]||s.PasteContents.uncategorized}(e.state,n),f=[];d!==s.PasteContents.url&&d!==s.PasteContents.mixed||h.mapSlice(n,(function(e){var t=e.marks.find((function(e){return"link"===e.type.name}));return t&&f.push(t.attrs.href),e}));var p=f.map(g.getLinkDomain);return x(i,{type:r.type,pasteSize:l,content:d,source:a},p)}function C(e,t,n,r){var o=k(e,t,n,r);e.dispatch(l.addAnalytics(e.state,e.state.tr,o))}function S(e,t,n,r){return l.withAnalytics((function(){return k(e,t,n,r)}))}var T=function(e,t,n){return f.pipe(d.handlePasteAsPlainText,S(e,t,n,{type:s.PasteTypes.plain,asPlain:!0}))(n,t)},O=function(e,t,n,r){return f.pipe(d.handlePasteIntoTaskAndDecision,S(e,t,n,{type:r}))(n)},w=function(e,t,n,r){return f.pipe(d.handleCodeBlock,S(e,t,n,{type:s.PasteTypes.plain}))(r)},N=function(e,t,n,r){return f.pipe(d.handleMediaSingle(c.INPUT_METHOD.CLIPBOARD),S(e,t,n,{type:r}))(n)},P=function(e,t,n,r){return f.pipe(d.handlePastePreservingMarks,S(e,t,n,{type:r}))(n)},A=function(e,t,n){return f.pipe(d.handleMarkdown,S(e,t,n,{type:s.PasteTypes.markdown}))(n)},I=function(e,t,n){return f.pipe(d.handleRichText,S(e,t,n,{type:s.PasteTypes.richText}))(n)},D=function(e,t,n){return f.pipe(d.handleExpand,S(e,t,n,{type:s.PasteTypes.richText}))(n)},R=function(e,t,n){return f.pipe(d.handleSelectedTable,S(e,t,n,{type:s.PasteTypes.richText}))(n)},M=function(e,t,n,r){return f.pipe(d.handlePasteLinkOnSelectedText,S(e,t,n,{type:r}))(n)},_=function(e,t,n){var r=E(e);return{action:c.ACTION.PASTED_TIMED,actionSubject:c.ACTION_SUBJECT.EDITOR,eventType:c.EVENT_TYPE.OPERATIONAL,attributes:{pasteIntoNode:r,content:n,time:t}}},j=function t(n){var r=new Set;return n.size&&n.forEach((function(n){n.content&&n.content.size&&(r=new Set([].concat(e(i)(r),e(i)(t(n.content))))),r.add(n.type.name)})),Array.from(r)}})),r.register("bKGVC",(function(e,n){t(e.exports,"transformSliceToDecisionList",(function(){return i}));var o=r("jWbqG"),i=function(e,t){var n=e.content.firstChild;if(1===e.content.childCount&&n&&"decisionItem"===n.type.name){var r=t.nodes.decisionList.create({},n);return new o.Slice(o.Fragment.from(r),e.openStart,e.openEnd)}return e}})),r.register("hW7rL",(function(e,n){t(e.exports,"pluginKey",(function(){return c})),t(e.exports,"default",(function(){return l}));var o=r("eBSbE"),i=r("jWbqG"),a=r("9VelW"),s=r("6sW8E"),c=(o=r("eBSbE"),new o.PluginKey("betterTypeHistoryPlugin")),l=function(){return new o.Plugin({key:c,appendTransaction:function(e,t,n){if(e.find((function(e){return e.getMeta(c)})))return a.closeHistory(n.tr);var r=function(e){var t=1===e.length&&e[0];if(!(t&&t.docChanged&&t.isGeneric&&t.selection instanceof o.TextSelection))return null;var n=t.selection,r=t.steps.filter((function(e){return e instanceof s.ReplaceStep||e instanceof s.ReplaceAroundStep}));return n.$cursor&&1===r.length?r[0]:null}(e);if(r){var l,u=(l=r)instanceof s.ReplaceStep||l instanceof s.ReplaceAroundStep?l.slice:null,d=n.schema;return u&&(function(e){if(!(e.size>1&&2===e.content.childCount))return!1;var t=e.content.child(0),n=e.content.child(1);return t&&n&&t.type===n.type}(u)||function(e,t){var n=i.Fragment.from(t.text("\n"));return e.content.eq(n)}(u,d))?a.closeHistory(n.tr):void 0}}})}})),r.register("85W3i",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("fw3Q6"),a=r("61szk"),s=r("ekJGA"),c=r("lkg3Z"),l=r("3C1q0"),u=r("9zQbx"),d=r("gsoE2"),f=r("4s4wW"),p=r("cSYwZ");r("cTu5S");var h=r("hNVBR"),g=r("9V1f8"),m=r("7uC1r"),v=r("iIrvw"),b=r("cZJAh"),y=r("aWU3p"),E=(c=r("lkg3Z"),function(t){return{name:"blockType",nodes:function(){var e=[{name:"heading",node:s.heading},{name:"blockquote",node:s.blockquote},{name:"hardBreak",node:s.hardBreak}];if(t&&t.allowBlockType){var n=t.allowBlockType.exclude?t.allowBlockType.exclude:[];return e.filter((function(e){return-1===n.indexOf(e.name)}))}return e},pmPlugins:function(){return[{name:"blockType",plugin:function(e){var n=e.dispatch;return c.createPlugin(n,t&&t.lastNodeMustBeParagraph)}},{name:"blockTypeInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return u.default(t,n)}},{name:"blockTypeKeyMap",plugin:function(e){var t=e.schema,n=e.featureFlags;return l.default(t,n)}}]},primaryToolbarComponent:function(n){var r=n.editorView,o=n.popupsMountPoint,i=n.popupsBoundariesElement,s=n.popupsScrollableElement,l=n.toolbarSize,u=n.disabled,h=n.isToolbarReducedSpacing,m=n.eventDispatcher,v=t&&t.isUndoRedoButtonsEnabled?l<y.ToolbarSize.XXL:l<y.ToolbarSize.XL,b=function(e){return p.setBlockTypeWithAnalytics(e,g.INPUT_METHOD.TOOLBAR)(r.state,r.dispatch)};return e(a).createElement(f.default,{editorView:r,eventDispatcher:m,plugins:{pluginState:c.pluginKey},render:function(t){var n=t.pluginState;return e(a).createElement(d.default,{isSmall:v,isDisabled:u,isReducedSpacing:h,setBlockType:b,pluginState:n,popupsMountPoint:o,popupsBoundariesElement:i,popupsScrollableElement:s})}})},pluginsOptions:{quickInsert:function(n){var r,o,s,c=t&&t.allowBlockType&&t.allowBlockType.exclude?t.allowBlockType.exclude:[];return[].concat(e(i)((r=n,o=-1===c.indexOf("blockquote"),s=r.formatMessage,o?[{id:"blockquote",title:s(b.messages.blockquote),description:s(b.messages.blockquoteDescription),priority:1300,keyshortcut:m.tooltip(m.toggleBlockQuote),icon:function(){return e(a).createElement(v.IconQuote,null)},action:function(e,t){var n=e(t.schema.nodes.blockquote.createChecked({},t.schema.nodes.paragraph.createChecked()));return h.addAnalytics(t,n,{action:g.ACTION.FORMATTED,actionSubject:g.ACTION_SUBJECT.TEXT,eventType:g.EVENT_TYPE.TRACK,actionSubjectId:g.ACTION_SUBJECT_ID.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:g.INPUT_METHOD.QUICK_INSERT}})}}]:[])),e(i)(function(t,n){var r=t.formatMessage;return n?Array.from({length:6},(function(t,n){var o=n+1,i=b.messages["heading".concat(o,"Description")],s=m.tooltip(m["toggleHeading".concat(o)]),c="heading".concat(o);return{id:c,title:r(b.messages[c]),description:r(i),priority:1300,keywords:["h".concat(o)],keyshortcut:s,icon:function(){return e(a).createElement(v.IconHeading,{level:o})},action:function(e,t){var n=e(t.schema.nodes.heading.createChecked({level:o}));return h.addAnalytics(t,n,{action:g.ACTION.FORMATTED,actionSubject:g.ACTION_SUBJECT.TEXT,eventType:g.EVENT_TYPE.TRACK,actionSubjectId:g.ACTION_SUBJECT_ID.FORMAT_HEADING,attributes:{inputMethod:g.INPUT_METHOD.QUICK_INSERT,newHeadingLevel:o}})}}})):[]}(n,-1===c.indexOf("heading"))))}}}})})),r.register("3C1q0",(function(e,n){t(e.exports,"default",(function(){return h}));var o=r("l5dFf"),i=r("emNKv"),a=r("9VelW"),s=r("7uC1r"),c=r("k6sjS"),l=r("gVL0U"),u=r("hnx3x"),d=r("cSYwZ");r("cTu5S");var f=r("9V1f8"),p=o.chainCommands(i.undoInputRule,a.undo);function h(e,t){var n={};return s.bindKeymapWithCommand(s.insertNewLine.common,c.insertNewLineWithAnalytics,n),s.bindKeymapWithCommand(s.moveUp.common,c.createNewParagraphAbove,n),s.bindKeymapWithCommand(s.moveDown.common,c.createNewParagraphBelow,n),s.bindKeymapWithCommand(s.findKeyMapForBrowser(s.redo),a.redo,n),s.bindKeymapWithCommand(s.undo.common,t.useUnpredictableInputRule?p:a.undo,n),s.bindKeymapWithCommand(s.backspace.common,d.cleanUpAtTheStartOfDocument,n),e.nodes[l.BLOCK_QUOTE.nodeName]&&s.bindKeymapWithCommand(s.findShortcutByKeymap(s.toggleBlockQuote),d.insertBlockTypesWithAnalytics(l.BLOCK_QUOTE.name,f.INPUT_METHOD.KEYBOARD),n),u.keymap(n)}})),r.register("hnx3x",(function(e,n){t(e.exports,"keymap",(function(){return s}));var o=r("eBSbE"),i=r("6mFHM"),a=r("gC0In");function s(e){return new o.Plugin({props:{handleKeyDown:function(t,n){var r=a.keyName(n),o=n;return n.ctrlKey&&1===r.length&&/[^\u0000-\u007f]/.test(r)&&(o=new KeyboardEvent("keydown",{key:a.base[n.keyCode],code:n.code,ctrlKey:!0})),i.keydownHandler(e)(t,o)}}})}})),r.register("9zQbx",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("cky9Z"),s=r("k9AYs"),c=r("iW3F0"),l=r("bmE3O"),u=r("iFBc4");r("cTu5S");var d=r("9V1f8");function f(e){return{level:e[1].length}}function p(e){var t,n,r=(t=e.nodes.heading,n=6,a.createWrappingTextBlockRule({match:new RegExp("^(#{1,"+n+"})\\s$"),nodeType:t,getAttrs:f})),o=a.createRule(new RegExp("".concat(s.leafNodeReplacementCharacter,"(#{1,6})\\s$")),(function(t,n,r,o){var i=n[1].length;return l.insertBlock(t,e.nodes.heading,"heading".concat(i),r,o,{level:i})})),i=a.ruleWithAnalytics((function(e,t){return{action:d.ACTION.FORMATTED,actionSubject:d.ACTION_SUBJECT.TEXT,eventType:d.EVENT_TYPE.TRACK,actionSubjectId:d.ACTION_SUBJECT_ID.FORMAT_HEADING,attributes:{inputMethod:d.INPUT_METHOD.FORMATTING,newHeadingLevel:f(t).level}}}));return[i(r),i(o)]}function h(e){var t,n=(t=e.nodes.blockquote,a.createJoinNodesRule(/^\s*>\s$/,t)),r=a.createRule(new RegExp("".concat(s.leafNodeReplacementCharacter,"\\s*>\\s$")),(function(t,n,r,o){return l.insertBlock(t,e.nodes.blockquote,"blockquote",r,o)})),o=a.ruleWithAnalytics({action:d.ACTION.FORMATTED,actionSubject:d.ACTION_SUBJECT.TEXT,eventType:d.EVENT_TYPE.TRACK,actionSubjectId:d.ACTION_SUBJECT_ID.FORMAT_BLOCK_QUOTE,attributes:{inputMethod:d.INPUT_METHOD.FORMATTING}});return[o(n),o(r)]}var g=function(t,n){var r=[];if(t.nodes.heading&&r.push.apply(r,e(i)(p(t))),t.nodes.blockquote&&r.push.apply(r,e(i)(h(t))),t.nodes.codeBlock&&r.push.apply(r,e(i)(function(e){var t=a.ruleWithAnalytics({action:d.ACTION.INSERTED,actionSubject:d.ACTION_SUBJECT.DOCUMENT,actionSubjectId:d.ACTION_SUBJECT_ID.CODE_BLOCK,attributes:{inputMethod:d.INPUT_METHOD.FORMATTING},eventType:d.EVENT_TYPE.TRACK}),n=a.createRule(/(?!\s)(`{3,})$/,(function(e,t,n,r){var o={};if(t[4]&&(o.language=t[4]),c.isConvertableToCodeBlock(e))return c.transformToCodeBlockAction(e,n,r,o);var i=e.tr;i.delete(n,r);var a=i.doc.type.schema.nodes.codeBlock.createChecked();return u.safeInsert(a)(i),i})),r=a.createRule(new RegExp("((".concat(s.leafNodeReplacementCharacter,"`{3,})|^\\s(`{3,}))(\\S*)$")),(function(t,n,r,o){var i={};n[4]&&(i.language=n[4]);var a=Math.max(n.index+t.selection.$from.start(),1);return l.insertBlock(t,e.nodes.codeBlock,"codeblock",a,o,i)}));return[t(n),t(r)]}(t))),0!==r.length)return a.createPlugin("block-type",r,{isBlockNodeRule:!0,useUnpredictableInputRule:n.useUnpredictableInputRule})}})),r.register("iW3F0",(function(e,n){t(e.exports,"transformToCodeBlockAction",(function(){return a})),t(e.exports,"isConvertableToCodeBlock",(function(){return s}));var o=r("eBSbE"),i=r("hxFzZ");function a(e,t,n,r){if(!e.selection.empty)return e.tr;var a=e.selection.$from,s=a.end(),c=a.start(),l=a.before(),u=i.mapSlice(e.doc.slice(a.pos,s),(function(t){return t.type===e.schema.nodes.hardBreak?e.schema.text("\n"):t.isText?t.mark([]):t.isInline?t.attrs.text?e.schema.text(t.attrs.text):null:t.content.childCount?t.content:null})),d=e.tr,f=c===t?l:t,p=e.schema.nodes.codeBlock.createChecked(r,u.content);d.replaceWith(f,Math.min(s,d.doc.content.size),p);var h=d.doc.resolve(d.mapping.map(f)+1),g=o.TextSelection.findFrom(h,1,!0);return g?d.setSelection(g):d.setSelection(o.TextSelection.create(d.doc,Math.min(t+a.node().nodeSize-1,d.doc.content.size)))}function s(e){if(!e.selection)return!1;var t=e.selection.$from,n=t.parent;if(!n.isTextblock||n.type===e.schema.nodes.codeBlock)return!1;var r=t.depth-1,o=t.node(r),i=t.index(r);return o.canReplaceWith(i,i+1,e.schema.nodes.codeBlock)}})),r.register("bmE3O",(function(e,n){t(e.exports,"insertBlock",(function(){return a}));var o=r("iFBc4"),i=r("eBSbE"),a=function(e,t,n,r,a,s){var c=e.schema.nodes,l=c.hardBreak,u=c.codeBlock,d=c.listItem,f=e.doc.resolve(r);if(f.nodeAfter.type!==l)return null;if(f.depth>1&&(t!==u||!o.hasParentNodeOfType(d)(e.selection)))return null;var p=e.tr.delete(r,a).split(r),h=p.doc.nodeAt(r+1),g=!1;p.doc.nodesBetween(r,r+h.nodeSize,(function(e,t){g||e.type!==l||(g=!0,p=p.split(t+1).delete(t,t+1))})),g&&(h=p.doc.nodeAt(r+1));var m,v,b=e.schema.nodes,y=b.blockquote,E=b.paragraph;t===y?(v=3,m=[E.create({},h.content)]):(v=2,m=h.content);var x=t.create(s,m);return p=p.setSelection(new i.NodeSelection(p.doc.resolve(r+1))).replaceSelectionWith(x).setSelection(new i.TextSelection(p.doc.resolve(r+v)))}})),r.register("gsoE2",(function(n,o){t(n.exports,"default",(function(){return S}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("7RIig");r("8iml0");var g=r("82cWi"),m=r("aYRkw"),v=r("xZbZL"),b=r("gVL0U"),y=r("ezegZ"),E=r("7uC1r"),x=r("q6q3G");function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var C=function(t){e(l)(r,t);var n=k(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{active:!1}),e(f)(e(c)(t),"onOpenChange",(function(e){t.setState({active:e.isOpen})})),e(f)(e(c)(t),"handleTriggerClick",(function(){t.onOpenChange({isOpen:!t.state.active})})),e(f)(e(c)(t),"createItems",(function(){var n=t.props.intl.formatMessage,r=t.props.pluginState,o=r.currentBlockType;return[{items:r.availableBlockTypes.map((function(t,r){var i=o===t,a=t.tagName||"p";return{content:e(p).createElement(y.BlockTypeMenuItem,{tagName:a,selected:i},e(p).createElement(a,null,n(t.title))),value:t,key:"".concat(t.name,"-").concat(r),elemAfter:e(p).createElement(y.KeyboardShortcut,{selected:i},E.tooltip(E.findKeymapByDescription(t.title.defaultMessage))),isActive:i}}))}]})),e(f)(e(c)(t),"handleSelectBlockType",(function(e){var n=e.item.value;t.props.setBlockType(n.name),t.setState({active:!1})})),t}return e(s)(r,[{key:"render",value:function(){var t=this.state.active,n=this.props,r=n.popupsMountPoint,o=n.popupsBoundariesElement,a=n.popupsScrollableElement,s=n.isSmall,c=n.isReducedSpacing,l=n.pluginState,u=l.currentBlockType,d=l.blockTypesDisabled,f=l.availableBlockTypes,h=n.intl.formatMessage;if(!f.some((function(e){return"heading"===e.nodeName})))return null;var y=f.filter((function(e){return e.name===u.name})).map((function(e){return e.title})),E=[b.NORMAL_TEXT].concat(e(i)(f)).reduce((function(e,t){var n=h(t.title);return n.length>=e.length?n:e}),"");if(!this.props.isDisabled&&!d){var k=this.createItems();return e(p).createElement(v.MenuWrapper,null,e(p).createElement(m.default,{items:k,onOpenChange:this.onOpenChange,onItemActivated:this.handleSelectBlockType,isOpen:t,mountTo:r,boundariesElement:o,scrollableElement:a,zIndex:g.akEditorMenuZIndex,fitHeight:360,fitWidth:106},e(p).createElement(x.BlockTypeButton,{isSmall:s,isReducedSpacing:c,selected:t,disabled:!1,title:y[0],onClick:this.handleTriggerClick,formatMessage:h},E)),e(p).createElement(v.Separator,null))}return e(p).createElement(v.Wrapper,null,e(p).createElement(x.BlockTypeButton,{isSmall:s,isReducedSpacing:c,selected:t,disabled:!0,title:y[0],onClick:this.handleTriggerClick,formatMessage:h},E),e(p).createElement(v.Separator,null))}}]),r}(e(p).PureComponent),S=h.injectIntl(C)})),r.register("ezegZ",(function(n,o){t(n.exports,"BlockTypeMenuItem",(function(){return f})),t(n.exports,"KeyboardShortcut",(function(){return p}));var i=r("lhkMJ"),a=r("cufhv"),s=r("SssiD");r("igW5C");var c,l,u=r("cQf9L"),d=r("xZbZL"),f=s.default.div(c||(c=e(i)(["\n  ",";\n  > {\n    h1,\n    h2,\n    h3,\n    h4,\n    h5,\n    h6 {\n      margin-top: 0;\n    }\n  }\n  ",";\n"])),u.headingsSharedStyles,(function(e){return e.selected?"".concat(e.tagName," { color: white }"):""})),p=s.default(d.Shortcut)(l||(l=e(i)(["\n  ","\n  margin-left: 16px;\n"])),(function(e){return e.selected?"color: ".concat(a.N400,";"):""}))})),r.register("q6q3G",(function(n,o){t(n.exports,"BlockTypeButton",(function(){return p}));var i=r("61szk"),a=r("7RIig"),s=r("6Vf6Q"),c=r("1INSM"),l=r("gCo6x"),u=r("xZbZL"),d=r("gVL0U"),f=a.defineMessages({textStyles:{id:"fabric.editor.textStyles",defaultMessage:"Text styles",description:"Menu provides access to various heading styles or normal text"}}),p=function(t){var n=t.formatMessage(f.textStyles);return e(i).createElement(l.default,{spacing:t.isReducedSpacing?"none":"default",selected:t.selected,className:"block-type-btn",disabled:t.disabled,onClick:t.onClick,title:n,"aria-label":n,iconAfter:e(i).createElement(u.Wrapper,{isSmall:t.isSmall},t.isSmall&&e(i).createElement(e(c),{label:n}),e(i).createElement(u.ExpandIconWrapper,null,e(i).createElement(e(s),{label:""})))},!t.isSmall&&e(i).createElement(u.ButtonContent,{spacing:t.isReducedSpacing?"none":"default"},e(i).createElement(a.FormattedMessage,t.title||d.NORMAL_TEXT.title),e(i).createElement("div",{style:{overflow:"hidden",height:0}},t.children)))}})),r.register("1INSM",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M6.26 6.678l-3.237 9.534a.5.5 0 00.473.66h1.032a.75.75 0 00.717-.53l.648-2.107H9.63l.647 2.107a.75.75 0 00.717.53h1.113a.5.5 0 00.473-.66L9.337 6.677A1 1 0 008.39 6H7.207a1 1 0 00-.947.678zM7.736 8.08h.051l1.364 4.453H6.372L7.736 8.08zm11.113 2.043v-.327a1 1 0 011-1H20a1 1 0 011 1v6.078a1 1 0 01-1 1h-.151a1 1 0 01-1-1v-.312h-.088c-.392.874-1.232 1.439-2.418 1.439-1.975 0-3.221-1.613-3.221-4.182 0-2.546 1.254-4.15 3.221-4.15 1.172 0 2.026.595 2.418 1.454h.088zm-.045 2.712c0-1.47-.685-2.404-1.754-2.404-1.068 0-1.725.92-1.725 2.404 0 1.491.657 2.395 1.725 2.395 1.076 0 1.754-.911 1.754-2.395z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorTextStyleIcon";var s=a;e.exports.default=s})),r.register("67a0U",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("eBSbE");r("9J8af");var i=r("l9fpM"),a=new o.PluginKey("clearMarksOnChangeToEmptyDocumentPlugin");function s(){return new o.Plugin({key:a,appendTransaction:function(e,t,n){if(!i.isEmptyDocument(t.doc)&&i.isEmptyDocument(n.doc))return n.tr.setStoredMarks([])}})}var c=function(){return{name:"clearMarksOnEmptyDoc",pmPlugins:function(){return[{name:"clearMarksOnChange",plugin:s}]}}}})),r.register("gfpIb",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("61szk"),a=r("ekJGA"),s=r("jySqE"),c=r("5yqho"),l=r("l68vJ"),u=r("hNHh0");r("cTu5S");var d=r("hNVBR"),f=r("9V1f8"),p=r("eJUrc"),h=r("7uC1r"),g=r("iIrvw"),m=r("6UBHG"),v=function(t){return{name:"hyperlink",marks:function(){return[{name:"link",mark:a.link}]},pmPlugins:function(){var e=!!t&&!!t.provider;return[{name:"hyperlink",plugin:function(e){var t=e.dispatch;return l.plugin(t)}},{name:"fakeCursorToolbarPlugin",plugin:function(){return u.default}},{name:"hyperlinkInputRule",plugin:function(t){var n=t.schema,r=t.featureFlags;return s.createInputRulePlugin(n,e,r)}},{name:"hyperlinkKeymap",plugin:function(){return c.createKeymapPlugin(e)}}]},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"hyperlink",title:n(m.messages.link),description:n(m.messages.linkDescription),keywords:["hyperlink","url"],priority:1200,keyshortcut:h.tooltip(h.addLink),icon:function(){return e(i).createElement(g.IconLink,null)},action:function(e,t){var n=t.selection.from,r=t.selection.$from.nodeBefore;if(!r)return!1;var o=t.tr.setMeta(l.stateKey,{type:l.LinkAction.SHOW_INSERT_TOOLBAR}).delete(n-r.nodeSize,n);return d.addAnalytics(t,o,{action:f.ACTION.INVOKED,actionSubject:f.ACTION_SUBJECT.TYPEAHEAD,actionSubjectId:f.ACTION_SUBJECT_ID.TYPEAHEAD_LINK,attributes:{inputMethod:f.INPUT_METHOD.QUICK_INSERT},eventType:f.EVENT_TYPE.UI})}}]},floatingToolbar:function(e,n,r){return p.getToolbarConfig(e,n,r,t)}}}}})),r.register("jySqE",(function(n,o){t(n.exports,"createInputRulePlugin",(function(){return p}));var i=r("h67q9"),a=r("cky9Z"),s=r("5eBbT"),c=r("buFsC");r("cTu5S");var l=r("9V1f8"),u=r("hNVBR"),d=r("991EG");function f(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a.createRule(e,(function(e,r,o,i){var a=e.schema;if(e.doc.rangeHasMark(o,i,a.marks.link))return null;var f=r,p=s.normalizeUrl(f.url),h=a.mark("link",{href:p}),g=o,m=Math.min(o+f.text.length,e.doc.content.size),v=c.queueCards([{url:f.url,pos:g,appearance:"inline",compareLinkText:!0,source:l.INPUT_METHOD.AUTO_DETECT}])(e.tr.addMark(g,m,h));return(n||m===i)&&v.insertText(" "),t?v:u.addAnalytics(e,v,d.getLinkCreationAnalyticsEvent(l.INPUT_METHOD.AUTO_DETECT,p))}))}function p(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;if(t.marks.link){var o="boolean"==typeof r.useUnpredictableInputRule,c=!o||Boolean(r.useUnpredictableInputRule),p=f(s.LinkMatcher.create(c),n,r.useUnpredictableInputRule),h=a.createRule(/(^|[^!])\[(.*?)\]\((\S+)\)$/,(function(t,r,o,a){var c=t.schema,f=e(i)(r,4),p=f[1],h=f[2],g=f[3],m=s.normalizeUrl(g).trim(),v=c.mark("link",{href:m}),b=t.tr.replaceWith(o+p.length,a,c.text((h||"").trim(),[v]));return n?b:u.addAnalytics(t,b,d.getLinkCreationAnalyticsEvent(l.INPUT_METHOD.FORMATTING,m))}));return a.createPlugin("hyperlink",[p,h],{useUnpredictableInputRule:r.useUnpredictableInputRule})}}})),r.register("5yqho",(function(e,n){t(e.exports,"createKeymapPlugin",(function(){return p}));var o=r("6mFHM"),i=r("7uC1r"),a=r("5eBbT"),s=r("l68vJ"),c=r("6wtTT"),l=r("buFsC");r("cTu5S");var u=r("9V1f8"),d=r("hNVBR"),f=r("991EG");function p(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t={};return i.bindKeymapWithCommand(i.addLink.common,c.showLinkToolbar(u.INPUT_METHOD.SHORTCUT),t),i.bindKeymapWithCommand(i.enter.common,h(e),t),i.bindKeymapWithCommand(i.insertNewLine.common,h(e),t),i.bindKeymapWithCommand(i.escape.common,(function(e,t,n){return!!s.stateKey.getState(e).activeLinkMark&&(c.hideLinkToolbar()(e,t),n&&n.focus(),!1)}),t),o.keymap(t)}var h=function(e){return function(t,n){var r=t.selection.$from.nodeBefore;if(!r||!r.isText)return!1;var o=r.text.split(" "),i=o[o.length-1],s=a.getLinkMatch(i);if(s){var c=s.raw,p=t.selection.$from.pos-c.length,h=t.selection.$from.pos;if(t.doc.rangeHasMark(p,h,t.schema.marks.link))return!1;var g=s.url,m=t.schema.mark("link",{href:g}),v=l.queueCards([{url:g,pos:p,appearance:"inline",compareLinkText:!0,source:u.INPUT_METHOD.AUTO_DETECT}])(t.tr.addMark(p,h,m));n&&n(e?v:d.addAnalytics(t,v,f.getLinkCreationAnalyticsEvent(u.INPUT_METHOD.AUTO_DETECT,g)))}return!1}}})),r.register("hNHh0",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("eBSbE"),i=r("9MUi0"),a=r("bJFrE"),s=r("l68vJ"),c=function(e,t){return i.Decoration.inline(e,t,{class:"ProseMirror-fake-text-selection"})},l=function(e){var t=s.stateKey.getState(e);if(t&&t.activeLinkMark&&t.activeLinkMark.type===s.InsertStatus.INSERT_LINK_TOOLBAR)return t.activeLinkMark},u=new o.Plugin({key:a.fakeCursorForToolbarPluginKey,state:{init:function(){return i.DecorationSet.empty},apply:function(e,t,n,r){var o,a,s=l(n),u=l(r);if(s&&u){var d=u.from,f=u.to,p=e.mapping.map(s.from),h=e.mapping.map(s.to);if(p===d&&h===f)return t.map(e.mapping,e.doc)}if(u){var g=u.from,m=u.to;return i.DecorationSet.create(e.doc,[g===m?(o=g,a=document.createElement("div"),a.className="ProseMirror-fake-text-cursor",i.Decoration.widget(o,a,{key:"hyperlink-text-cursor"})):c(g,m)])}return i.DecorationSet.empty}},props:{decorations:function(e){return a.fakeCursorForToolbarPluginKey.getState(e)}}})})),r.register("bJFrE",(function(e,n){t(e.exports,"fakeCursorForToolbarPluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("fakeCursorToolbarPlugin")})),r.register("eJUrc",(function(n,o){t(n.exports,"getToolbarConfig",(function(){return x}));var i=r("l15hj"),a=r("61szk"),s=r("l68vJ"),c=r("6wtTT"),l=r("hQISx"),u=r("a3dkO"),d=r("4Dv4D"),f=r("5eBbT");r("ch3px");var p=r("kjcUu"),h=r("ch3px"),g=r("ekJGA"),m=r("7e0tR"),v=r("8Y6xB");function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?b(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function E(e){return void 0!==e.pos}var x=function(t,n,r,o){var i=n.formatMessage,b=s.stateKey.getState(t);if(b&&b.activeLinkMark){var x=b.activeLinkMark,k={title:"Hyperlink floating controls",nodeType:[t.schema.nodes.text,t.schema.nodes.paragraph,t.schema.nodes.heading,t.schema.nodes.taskItem,t.schema.nodes.decisionItem,t.schema.nodes.caption].filter((function(e){return!!e})),align:"left",className:x.type.match("INSERT|EDIT_INSERTED")?"hyperlink-floating-toolbar":""};switch(x.type){case"EDIT":var C=x.pos,S=x.node.marks.filter((function(e){return e.type===t.schema.marks.link})),T=S[0]&&S[0].attrs.href,O=g.isSafeUrl(T),w=i(O?p.linkMessages.openLink:h.linkToolbarMessages.unableToOpenLink),N=i(h.linkToolbarMessages.unlink),P=i(h.linkToolbarMessages.editLink),A={url:T,title:""};return x.node.text&&(A.title=x.node.text),y(y({},k),{},{height:32,width:250,items:[{type:"custom",fallback:[],render:function(i){return e(a).createElement(v.HyperlinkToolbarAppearance,{key:"link-appearance",url:T,intl:n,editorView:i,editorState:t,cardOptions:o,providerFactory:r})}},{id:"editor.link.edit",type:"button",onClick:c.editInsertedLink(),selected:!1,title:P,showTitle:!0,metadata:A},{type:"separator"},{id:"editor.link.openLink",type:"button",disabled:!O,target:"_blank",href:O?T:void 0,onClick:function(){return!0},selected:!1,title:w,icon:e(d),className:"hyperlink-open-link",metadata:A},{type:"separator"},{id:"editor.link.unlink",type:"button",onClick:c.removeLink(C),selected:!1,title:N,icon:e(u)}]});case"EDIT_INSERTED":case"INSERT":var I;if(E(x)&&x.node){var D=x.node.marks.filter((function(e){return e.type===t.schema.marks.link}));I=D[0]&&D[0].attrs.href}var R=E(x)?function(e,t){if(e.node){var n=f.normalizeUrl(e.node.text),r=e.node.marks.find((function(e){return e.type===t.schema.marks.link}));if(n!==(r&&r.attrs.href))return e.node.text}}(x,t):b.activeText;return y(y({},k),{},{height:m.RECENT_SEARCH_HEIGHT_IN_PX,width:m.RECENT_SEARCH_WIDTH_IN_PX,items:[{type:"custom",fallback:[],render:function(t,n){return t?e(a).createElement(l.default,{view:t,key:n,displayUrl:I,displayText:R||"",providerFactory:r,onSubmit:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0;E(x)?c.updateLink(e,r||n,x.pos)(t.state,t.dispatch):c.insertLinkWithAnalytics(i,x.from,x.to,e,n,r,!(!o||!o.provider))(t.state,t.dispatch),t.focus()}}):null}}]})}}}})),r.register("8Y6xB",(function(n,o){t(n.exports,"HyperlinkToolbarAppearance",(function(){return v}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=(h=r("61szk"),r("d1fTn"));function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var v=function(t){e(u)(r,t);var n=m(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return t=n.call.apply(n,[this].concat(c)),e(p)(e(l)(t),"state",{supportedUrlsMap:new Map}),e(p)(e(l)(t),"getProvider",e(a)(e(i).mark((function n(){return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.cardProvider){n.next=2;break}return n.abrupt("return",t.cardProvider);case 2:return n.abrupt("return",new Promise((function(n){t.props.providerFactory.subscribe("cardProvider",function(){var r=e(a)(e(i).mark((function r(o,a){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,a;case 4:t.cardProvider=e.sent,n(t.cardProvider);case 6:case"end":return e.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())})));case 3:case"end":return n.stop()}}),n)})))),e(p)(e(l)(t),"resolveUrl",function(){var n=e(a)(e(i).mark((function n(r){var o,a,s;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o=t.state.supportedUrlsMap).has(r)){e.next=3;break}return e.abrupt("return");case 3:return a=!1,e.prev=4,e.next=7,t.getProvider();case 7:return s=e.sent,e.next=10,s.findPattern(r);case 10:a=e.sent,e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),a=!1;case 16:o.set(r,a),t.setState({supportedUrlsMap:o});case 18:case"end":return e.stop()}}),n,null,[[4,13]])})));return function(e){return n.apply(this,arguments)}}()),e(p)(e(l)(t),"componentDidMount",(function(){return t.resolveUrl(t.props.url)})),t}return e(c)(r,[{key:"componentWillReceiveProps",value:function(e){e.url!==this.props.url&&this.resolveUrl(e.url)}},{key:"render",value:function(){var t=this.props,n=t.url,r=t.intl,o=t.editorView,i=t.editorState,a=t.cardOptions,s=t.platform;return this.state.supportedUrlsMap.get(n)?e(h).createElement(g.LinkToolbarAppearance,{key:"link-appearance",url:n,intl:r,editorView:o,editorState:i,allowEmbeds:null==a?void 0:a.allowEmbeds,platform:s}):null}}]),r}(h.Component)})),r.register("cMryx",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("61szk"),a=r("ekJGA"),s=r("4s4wW"),c=r("izdX5"),l=r("d7We5"),u=r("GMgAV"),d=r("1dA9U"),f=r("daF8Z"),p=r("5ZCzt"),h=r("aoZmx"),g=r("9XTuU"),m=r("dSbpJ"),v=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"textFormatting",marks:function(){return[{name:"em",mark:a.em},{name:"strong",mark:a.strong},{name:"strike",mark:a.strike}].concat(t.disableCode?[]:{name:"code",mark:a.code}).concat(t.disableSuperscriptAndSubscript?[]:{name:"subsup",mark:a.subsup}).concat(t.disableUnderline?[]:{name:"underline",mark:a.underline})},pmPlugins:function(){return[{name:"textFormatting",plugin:function(e){var t=e.dispatch;return c.plugin(t)}},{name:"textFormattingCursor",plugin:function(){return f.default}},{name:"textFormattingInputRule",plugin:function(e){var t=e.schema,n=e.featureFlags;return p.default(t,n)}},{name:"textFormattingSmartRule",plugin:function(e){var n=e.featureFlags;return t.disableSmartTextCompletion?void 0:g.default(n)}},{name:"textFormattingClear",plugin:function(e){var t=e.dispatch;return u.plugin(t)}},{name:"textFormattingClearKeymap",plugin:function(){return d.default()}},{name:"textFormattingKeymap",plugin:function(e){var t=e.schema;return h.default(t)}}]},primaryToolbarComponent:function(n){var r=n.editorView,o=n.popupsMountPoint,a=n.popupsScrollableElement,c=n.isToolbarReducedSpacing,u=n.toolbarSize,d=n.disabled;return e(i).createElement(s.default,{plugins:{textFormattingState:l.pluginKey},render:function(){return e(i).createElement(m.default,{editorState:r.state,popupsMountPoint:o,popupsScrollableElement:a,toolbarSize:u,isReducedSpacing:c,editorView:r,isToolbarDisabled:d,shouldUseResponsiveToolbar:Boolean(t.responsiveToolbarMenu)})}})}}}})),r.register("GMgAV",(function(e,n){t(e.exports,"pluginKey",(function(){return a})),t(e.exports,"plugin",(function(){return s}));var o=r("eBSbE"),i=r("1qU8Q"),a=new o.PluginKey("clearFormattingPlugin"),s=function(e){return new o.Plugin({state:{init:function(e,t){return{formattingIsPresent:i.checkFormattingIsPresent(t)}},apply:function(t,n,r,o){var s=i.checkFormattingIsPresent(o);return s!==n.formattingIsPresent?(e(a,{formattingIsPresent:s}),{formattingIsPresent:s}):n}},key:a})}})),r.register("1dA9U",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("6mFHM"),i=r("7uC1r");r("cTu5S");var a=r("9V1f8"),s=r("1xiz7");var c=function(){var e={};return i.bindKeymapWithCommand(i.clearFormatting.common,s.clearFormattingWithAnalytics(a.INPUT_METHOD.SHORTCUT),e),o.keymap(e)}})),r.register("daF8Z",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("eBSbE"),i=new o.Plugin({props:{handleClick:function(e,t,n){if(navigator&&/Edge\/\d/.test(navigator.userAgent))return!1;if(t>e.state.doc.content.size)return!1;var r=e.state.schema.marks.code,i=e.state.schema.nodes.paragraph,a=e.state.doc.resolve(t),s=(a.nodeBefore?a.nodeBefore.isInline:a.nodeAfter)&&(a.nodeAfter?a.nodeAfter.isInline:a.nodeBefore)&&0===a.textOffset,c=r&&(a.nodeBefore&&r.isInSet(a.nodeBefore.marks)||a.nodeAfter&&r.isInSet(a.nodeAfter.marks)),l=n.target&&n.target instanceof Node&&e.posAtDOM(n.target),u=e.state.doc.nodeAt(t),d=!(!u||!u.isText),f=a.parent.type===i&&0===a.textOffset&&null===a.nodeAfter;if(s&&c&&l&&(d||f)){var p=n.target.parentNode===e.domAtPos(l).node&&r.isInSet(e.state.doc.resolve(l).nodeAfter.marks),h=a.nodeBefore&&r.isInSet(a.nodeBefore.marks)?a.nodeAfter:a.nodeBefore,g=e.state.tr.setSelection(o.TextSelection.near(a));return p?g.setStoredMarks([r.create()]):g.setStoredMarks(h?h.marks:[]),e.dispatch(g),!0}return!1}}})})),r.register("5ZCzt",(function(n,o){t(n.exports,"default",(function(){return R}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("auQQv"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("7XnVF"),p=r("l15hj"),h=r("cky9Z"),g=r("lWHVr"),m=r("k9AYs");r("cTu5S");var v,b,y,E=r("9V1f8"),x=r("lsrn4");function k(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}(y=b||(b={})).STRONG="__",y.STRIKE="~~",y.STRONG_MARKDOWN="**",y.ITALIC_MARKDOWN="*",y.ITALIC="_",y.CODE="`";var C=(v={},e(p)(v,b.STRIKE,[b.ITALIC,b.STRONG,b.STRONG_MARKDOWN,b.ITALIC_MARKDOWN]),e(p)(v,b.STRONG,[b.STRIKE,b.ITALIC_MARKDOWN]),e(p)(v,b.STRONG_MARKDOWN,[b.ITALIC,b.STRIKE]),e(p)(v,b.ITALIC_MARKDOWN,[b.STRIKE,b.STRONG]),e(p)(v,b.ITALIC,[b.STRIKE,b.STRONG_MARKDOWN]),e(p)(v,b.CODE,["( "]),v);function S(e,t,n){return function(t,r,o,i){var a,s,c,l=t.doc,u=t.schema,d=t.tr,f=t.doc.textBetween(o,o+n.length);if(f!==n||null!=u&&null!==(a=u.marks)&&void 0!==a&&null!==(s=a.code)&&void 0!==s&&s.isInSet(l.resolve(o+1).marks()))return null;if(l.nodesBetween(o,i,(function(e){return e.type===u.nodes.hardBreak?(c=!0,null):!c})),c)return null;var p=l.resolve(o),h=l.resolve(i);if(p.sameParent(h)&&!p.parent.type.allowsMarkType(e))return null;"code"===e.name&&x.transformSmartCharsMentionsAndEmojis(d.mapping.map(o),d.mapping.map(i),d);var m=d.mapping.map(o),v=d.mapping.map(i);return d.addMark(m,v,e.create()),d.doc.textBetween(v-n.length,v)===n&&d.delete(v-n.length,v),g.getFeatureFlags(t).useUnpredictableInputRule&&(2===n.length&&d.delete(v-1,v),d.selection.empty||d.deleteSelection()),f===n&&d.delete(m,m+n.length),d.removeStoredMark(e)}}var T=function(t){e(l)(r,t);var n=k(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"exec",value:function(t){if(!t)return null;var n=e(i)(t).reverse().join(""),o=e(c)(e(d)(r.prototype),"exec",this).call(this,n);if(!o)return null;for(var a=0;a<o.length;a++)o[a]&&"string"==typeof o[a]&&(o[a]=e(i)(o[a]).reverse().join(""));return o.input&&"string"==typeof o.input&&(o.input=e(i)(o.input).reverse().join("")),o.input&&o[0]&&(o.index=o.input.length-o[0].length),o}}]),r}(e(f)(RegExp)),O=function(e){var t=e.replace(/(\W)/g,"\\$1"),n=C[e].map((function(e){return e.replace(/(\W)/g,"\\$1")})).join("|"),r="^X(?=[^X\\s]).*?[^\\sX]X(?=[\\sOBJECT_REPLACEMENT_CHARACTER]COMBINATIONS|$)".replace("OBJECT_REPLACEMENT_CHARACTER",m.leafNodeReplacementCharacter).replace("COMBINATIONS",n?"|".concat(n):""),o=r.replaceAll?r.replaceAll("X",t):r.replace(/X/g,t);return new T(o)},w=O(b.STRONG),N=O(b.STRONG_MARKDOWN),P=O(b.ITALIC),A=O(b.ITALIC_MARKDOWN),I=O(b.STRIKE),D=O(b.CODE);var R=function(t,n){var r=[];if(t.marks.strong&&r.push.apply(r,e(i)(function(e){var t=h.ruleWithAnalytics((function(){return{action:E.ACTION.FORMATTED,actionSubject:E.ACTION_SUBJECT.TEXT,actionSubjectId:E.ACTION_SUBJECT_ID.FORMAT_STRONG,eventType:E.EVENT_TYPE.TRACK,attributes:{inputMethod:E.INPUT_METHOD.FORMATTING}}})),n=h.createRule(w,S(e.marks.strong,0,b.STRONG)),r=h.createRule(N,S(e.marks.strong,0,b.STRONG_MARKDOWN));return[t(n),t(r)]}(t))),t.marks.em&&r.push.apply(r,e(i)(function(e){var t=h.ruleWithAnalytics((function(){return{action:E.ACTION.FORMATTED,actionSubject:E.ACTION_SUBJECT.TEXT,actionSubjectId:E.ACTION_SUBJECT_ID.FORMAT_ITALIC,eventType:E.EVENT_TYPE.TRACK,attributes:{inputMethod:E.INPUT_METHOD.FORMATTING}}})),n=h.createRule(P,S(e.marks.em,0,b.ITALIC)),r=h.createRule(A,S(e.marks.em,0,b.ITALIC_MARKDOWN));return[t(n),t(r)]}(t))),t.marks.strike&&r.push.apply(r,e(i)(function(e){return[h.ruleWithAnalytics((function(){return{action:E.ACTION.FORMATTED,actionSubject:E.ACTION_SUBJECT.TEXT,actionSubjectId:E.ACTION_SUBJECT_ID.FORMAT_STRIKE,eventType:E.EVENT_TYPE.TRACK,attributes:{inputMethod:E.INPUT_METHOD.FORMATTING}}}))(h.createRule(I,S(e.marks.strike,0,b.STRIKE)))]}(t))),t.marks.code&&r.push.apply(r,e(i)(function(e){return[h.ruleWithAnalytics((function(){return{action:E.ACTION.FORMATTED,actionSubject:E.ACTION_SUBJECT.TEXT,actionSubjectId:E.ACTION_SUBJECT_ID.FORMAT_CODE,eventType:E.EVENT_TYPE.TRACK,attributes:{inputMethod:E.INPUT_METHOD.FORMATTING}}}))(h.createRule(D,S(e.marks.code,0,b.CODE)))]}(t))),0!==r.length)return h.createPlugin("text-formatting",r,{useUnpredictableInputRule:n.useUnpredictableInputRule})}})),r.register("aoZmx",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("7uC1r"),i=r("hnx3x");r("cTu5S");var a=r("9V1f8"),s=r("is04y");function c(e){var t={};return e.marks.strong&&o.bindKeymapWithCommand(o.toggleBold.common,s.toggleStrongWithAnalytics({inputMethod:a.INPUT_METHOD.SHORTCUT}),t),e.marks.em&&o.bindKeymapWithCommand(o.toggleItalic.common,s.toggleEmWithAnalytics({inputMethod:a.INPUT_METHOD.SHORTCUT}),t),e.marks.code&&o.bindKeymapWithCommand(o.toggleCode.common,s.toggleCodeWithAnalytics({inputMethod:a.INPUT_METHOD.SHORTCUT}),t),e.marks.strike&&o.bindKeymapWithCommand(o.toggleStrikethrough.common,s.toggleStrikeWithAnalytics({inputMethod:a.INPUT_METHOD.SHORTCUT}),t),e.marks.underline&&o.bindKeymapWithCommand(o.toggleUnderline.common,s.toggleUnderlineWithAnalytics({inputMethod:a.INPUT_METHOD.SHORTCUT}),t),i.keymap(t)}})),r.register("9XTuU",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("fw3Q6"),a=r("l15hj"),s=r("h67q9"),c=r("eBSbE"),l=r("cky9Z");r("cTu5S");var u=r("9V1f8"),d=r("iNKox");function f(t,n){return l.createRule(n,(r=t,function(t,n,o,i){var a=e(s)(n,4),l=a[1],u=a[3],d=(l||"")+r+(u||""),f=t.tr,p=t.selection.$to;return f.replaceWith(o,i,t.schema.text(d,p.marks())),f.setSelection(c.Selection.near(f.doc.resolve(f.selection.to))),f}));var r}function p(e,t){return Object.keys(e).map((function(n){var r=f(n,e[n]);return t?t(n)(r):r}))}function h(){var t=e(a)({"\u2013":d.PUNC.DASH,"\u2026":d.PUNC.ELLIPSIS,"\u201c":d.PUNC.QUOTE_DOUBLE,"\u201d":d.PUNC.QUOTE_DOUBLE},d.PUNC.QUOTE_SINGLE,d.PUNC.QUOTE_SINGLE),n=function(e){return l.ruleWithAnalytics((function(){return{action:u.ACTION.SUBSTITUTED,actionSubject:u.ACTION_SUBJECT.TEXT,actionSubjectId:u.ACTION_SUBJECT_ID.PUNC,eventType:u.EVENT_TYPE.TRACK,attributes:{punctuation:t[e]}}}))},r=p({"\u2013":/(\s+|^)(--)(\s)$/,"\u2026":/()(\.\.\.)$/},n),o=p({"\u201c":/((?:^|[\s\{\[\(\<'"\u2018\u201C]))(")$/,"\u201d":/"$/},n),c=[l.createRule(/(\s+|^)'(\S+.*\S+)'$/,(function(t,n,r,o){var i=e(s)(n,3),a=i[1]+"\u2018"+i[2]+"\u2019";return t.tr.insertText(a,r,o)})),f("\u2019",/(\w+)(')(\w+)$/)];return[].concat(e(i)(r),e(i)(o),e(i)(c.map((function(e){return n(d.PUNC.QUOTE_SINGLE)(e)}))))}var g=function(t){return l.createPlugin("text-formatting:smart-input",[].concat(e(i)(p({Atlassian:/(\s+|^)(atlassian)(\s)$/,Jira:/(\s+|^)(jira|JIRA)(\s)$/,Bitbucket:/(\s+|^)(bitbucket|BitBucket)(\s)$/,Hipchat:/(\s+|^)(hipchat|HipChat)(\s)$/,Trello:/(\s+|^)(trello)(\s)$/},(function(e){return l.ruleWithAnalytics((function(t,n){return{action:u.ACTION.SUBSTITUTED,actionSubject:u.ACTION_SUBJECT.TEXT,actionSubjectId:u.ACTION_SUBJECT_ID.PRODUCT_NAME,eventType:u.EVENT_TYPE.TRACK,attributes:{product:e,originalSpelling:n[2]}}}))}))),e(i)((n={"\u2192":d.SYMBOL.ARROW_RIGHT,"\u2190":d.SYMBOL.ARROW_LEFT,"\u2194\ufe0e":d.SYMBOL.ARROW_DOUBLE},p({"\u2192":/(\s+|^)(--?>)(\s)$/,"\u2190":/(\s+|^)(<--?)(\s)$/,"\u2194\ufe0e":/(\s+|^)(<->?)(\s)$/},(function(e){return l.ruleWithAnalytics((function(){return{action:u.ACTION.SUBSTITUTED,actionSubject:u.ACTION_SUBJECT.TEXT,actionSubjectId:u.ACTION_SUBJECT_ID.SYMBOL,eventType:u.EVENT_TYPE.TRACK,attributes:{symbol:n[e]}}}))})))),e(i)(h())),{useUnpredictableInputRule:t.useUnpredictableInputRule});var n}})),r.register("dSbpJ",(function(n,o){t(n.exports,"default",(function(){return S}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("fw3Q6"),d=r("61szk"),f=r("7RIig"),p=r("xZbZL"),h=r("kO2Tu"),g=r("l4f8d"),m=r("dw2zG"),v=r("7ob7t"),b=r("4S9J8"),y=r("admPw"),E=r("1YDQq");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var k=function(t){var n=t.shouldUseResponsiveToolbar,r=t.popupsMountPoint,o=t.popupsBoundariesElement,i=t.popupsScrollableElement,a=t.editorView,s=t.toolbarSize,c=t.isReducedSpacing,l=t.isToolbarDisabled,f=t.intl,x=d.useMemo((function(){return a.state}),[a.state]),k=h.useFormattingIcons({editorState:x,intl:f,isToolbarDisabled:l}),C=g.useClearIcon({editorState:x,intl:f}),S=m.useResponsiveIconTypeMenu({toolbarSize:s,responsivenessEnabled:n}),T=h.useHasFormattingActived({editorState:a.state,iconTypeList:S}),O=m.useResponsiveToolbarButtons({icons:k,toolbarSize:s,responsivenessEnabled:n}),w=O.dropdownItems,N=O.singleItems,P=d.useMemo((function(){return C?[].concat(e(u)(w),[C]):w}),[C,w]),A=f.formatMessage(E.toolbarMessages.moreFormatting);return e(d).createElement(p.ButtonGroup,{width:c?"small":"large"},e(d).createElement(v.SingleToolbarButtons,{items:N,editorView:a,isReducedSpacing:c}),e(d).createElement(p.Wrapper,null,l?e(d).createElement("div",null,e(d).createElement(b.MoreButton,{label:A,isReducedSpacing:c,isDisabled:!0,isSelected:!1})):e(d).createElement(y.FormattingTextDropdownMenu,{popupsMountPoint:r,popupsBoundariesElement:o,popupsScrollableElement:i,editorView:a,isReducedSpacing:c,moreButtonLabel:A,hasFormattingActive:T,items:P}),e(d).createElement(p.Separator,null)))},C=function(t){e(s)(r,t);var n=x(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.popupsMountPoint,r=t.popupsScrollableElement,o=t.toolbarSize,i=t.isReducedSpacing,a=t.editorView,s=t.isToolbarDisabled,c=t.shouldUseResponsiveToolbar,l=t.intl;return e(d).createElement(k,{popupsMountPoint:n,popupsScrollableElement:r,toolbarSize:o,isReducedSpacing:i,editorView:a,isToolbarDisabled:s,shouldUseResponsiveToolbar:c,intl:l})}}]),r}(e(d).PureComponent),S=f.injectIntl(C)})),r.register("kO2Tu",(function(n,o){t(n.exports,"useFormattingIcons",(function(){return A})),t(n.exports,"useHasFormattingActived",(function(){return I}));var i,a=r("l15hj"),s=r("61szk"),c=r("b6VpF"),l=r("6Qn3c"),u=r("xZbZL"),d=r("1YDQq"),f=r("is04y"),p=r("1zgpj"),h=r("d7We5"),g=r("7uC1r"),m=r("9V1f8"),v=r("hacry"),b=function(e){return e({inputMethod:m.INPUT_METHOD.TOOLBAR})},y={strong:{buttonId:p.TOOLBAR_ACTION_SUBJECT_ID.TEXT_FORMATTING_STRONG,command:b(f.toggleStrongWithAnalytics),message:d.toolbarMessages.bold,tooltipKeymap:g.toggleBold,component:function(t){var n=t.label;return e(s).createElement(e(c),{label:n})}},em:{buttonId:p.TOOLBAR_ACTION_SUBJECT_ID.TEXT_FORMATTING_ITALIC,command:b(f.toggleEmWithAnalytics),message:d.toolbarMessages.italic,tooltipKeymap:g.toggleItalic,component:function(t){var n=t.label;return e(s).createElement(e(l),{label:n})}},underline:{command:b(f.toggleUnderlineWithAnalytics),message:d.toolbarMessages.underline,tooltipKeymap:g.toggleUnderline},strike:{command:b(f.toggleStrikeWithAnalytics),message:d.toolbarMessages.strike,tooltipKeymap:g.toggleStrikethrough},code:{command:b(f.toggleCodeWithAnalytics),message:d.toolbarMessages.code,tooltipKeymap:g.toggleCode},subscript:{command:b(f.toggleSubscriptWithAnalytics),message:d.toolbarMessages.subscript},superscript:{command:b(f.toggleSuperscriptWithAnalytics),message:d.toolbarMessages.superscript}},E=(i={},e(a)(i,v.IconTypes.strong,"strong"),e(a)(i,v.IconTypes.em,"em"),e(a)(i,v.IconTypes.strike,"strike"),e(a)(i,v.IconTypes.code,"code"),e(a)(i,v.IconTypes.underline,"underline"),e(a)(i,v.IconTypes.superscript,"subsup"),e(a)(i,v.IconTypes.subscript,"subsup"),i),x=function(t){var n=function(e){return function(t){var n=t.schema,r=t.textFormattingPluginState,o=Boolean(r),i=E[e],a=Boolean(n.marks[i]);if(!o)return{isActive:!1,isDisabled:!0,isHidden:!1,hasSchemaMark:a};var s=r["".concat(e,"Active")],c=r["".concat(e,"Disabled")],l=r["".concat(e,"Hidden")];return{isActive:Boolean(s),isDisabled:Boolean(c),isHidden:Boolean(l),hasSchemaMark:a}}}(t);return function(r){var o=r.schema,i=r.textFormattingPluginState,a=r.intl,c=r.isToolbarDisabled,l=n({schema:o,textFormattingPluginState:i}),d=l.isActive,f=l.isDisabled,p=l.isHidden,h=l.hasSchemaMark,m=s.useMemo((function(){return function(t){var n=t.iconType,r=t.isDisabled,o=t.isActive,i=t.intl,a=y[n],c=i.formatMessage(a.message),l=a.tooltipKeymap;return{content:c,buttonId:a.buttonId,iconMark:n,key:n,command:a.command,iconElement:a.component?a.component({label:c}):void 0,tooltipElement:l?e(s).createElement(g.ToolTipContent,{description:c,keymap:l}):void 0,elemAfter:l?e(s).createElement(u.Shortcut,null,g.tooltip(l)):void 0,value:{name:n},isActive:o,isDisabled:r}}({iconType:v.IconTypes[t],isDisabled:c||f,isActive:d,intl:a})}),[c,f,d,a]),b=h&&!p;return s.useMemo((function(){return b?m:null}),[b,m])}},k=x(v.IconTypes.strong),C=x(v.IconTypes.em),S=x(v.IconTypes.underline),T=x(v.IconTypes.strike),O=x(v.IconTypes.code),w=x(v.IconTypes.subscript),N=x(v.IconTypes.superscript),P=function(e){return s.useMemo((function(){return h.pluginKey.getState(e)}),[e])},A=function(e){var t=e.isToolbarDisabled,n=e.editorState,r=e.intl,o=P(n),i={schema:n.schema,textFormattingPluginState:o,intl:r,isToolbarDisabled:Boolean(t)},a=k(i),c=C(i),l=S(i),u=T(i),d=O(i),f=w(i),p=N(i);return s.useMemo((function(){return[a,c,l,u,d,f,p]}),[a,c,l,u,d,f,p])},I=function(e){var t=e.editorState,n=e.iconTypeList,r=P(t);return s.useMemo((function(){return!!r&&n.some((function(e){return r["".concat(e,"Active")]}))}),[r,n])}})),r.register("b6VpF",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M8 6h4.832C13.908 6 16 6.5 16 9c0 1.333-.333 2.167-1 2.5 1.333.333 2 1.333 2 3 0 .5 0 3.5-4 3.5H8a1 1 0 01-1-1V7a1 1 0 011-1zm1 10h3.5c1 0 2-.25 2-1.5s-1.104-1.5-2-1.5H9v3zm0-4.975h3c.504 0 2 0 2-1.525S12 8 12 8H9v3.025z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorBoldIcon";var s=a;e.exports.default=s})),r.register("6Qn3c",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M10 6h6a1 1 0 010 2h-6a1 1 0 110-2zM8 16h6a1 1 0 010 2H8a1 1 0 010-2zm4-8h2l-2 8h-2l2-8z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="EditorItalicIcon";var s=a;e.exports.default=s})),r.register("1YDQq",(function(e,n){t(e.exports,"toolbarMessages",(function(){return o}));var o=r("7RIig").defineMessages({underline:{id:"fabric.editor.underline",defaultMessage:"Underline",description:"Whether the text selection has underlined text"},strike:{id:"fabric.editor.strike",defaultMessage:"Strikethrough",description:"Whether the text selection has crossed out text"},code:{id:"fabric.editor.code",defaultMessage:"Code",description:"Whether the text selection has monospaced/code font"},subscript:{id:"fabric.editor.subscript",defaultMessage:"Subscript",description:"Whether the text selection is written below the line in a slightly smaller size"},superscript:{id:"fabric.editor.superscript",defaultMessage:"Superscript",description:"Whether the text selection is written above the line in a slightly smaller size"},clearFormatting:{id:"fabric.editor.clearFormatting",defaultMessage:"Clear formatting",description:"Remove all rich text formatting from the selected text"},moreFormatting:{id:"fabric.editor.moreFormatting",defaultMessage:"More formatting",description:"Clicking this will show a menu with additional formatting options"},bold:{id:"fabric.editor.bold",defaultMessage:"Bold",description:"This refers to bold or \u201cstrong\u201d formatting, indicates that its contents have strong importance, seriousness, or urgency."},italic:{id:"fabric.editor.italic",defaultMessage:"Italic",description:"This refers to italics or emphasized formatting."}})})),r.register("hacry",(function(e,n){var r,o;t(e.exports,"IconTypes",(function(){return r})),(o=r||(r={})).strong="strong",o.em="em",o.underline="underline",o.strike="strike",o.code="code",o.subscript="subscript",o.superscript="superscript"})),r.register("l4f8d",(function(n,o){t(n.exports,"useClearIcon",(function(){return p}));var i=r("61szk"),a=r("xZbZL"),s=r("1YDQq"),c=r("1xiz7"),l=r("GMgAV"),u=r("7uC1r"),d=r("9V1f8"),f=c.clearFormattingWithAnalytics(d.INPUT_METHOD.TOOLBAR),p=function(t){var n=t.intl,r=function(e){return i.useMemo((function(){return l.pluginKey.getState(e)}),[e])}(t.editorState),o=Boolean(r),c=Boolean(null==r?void 0:r.formattingIsPresent),d=n.formatMessage(s.toolbarMessages.clearFormatting);return i.useMemo((function(){return o?{key:"clearFormatting",command:f,content:d,elemAfter:e(i).createElement(a.Shortcut,null,u.tooltip(u.clearFormatting)),value:{name:"clearFormatting"},isActive:!1,isDisabled:!c}:null}),[d,o,c])}})),r.register("dw2zG",(function(n,o){t(n.exports,"useResponsiveIconTypeMenu",(function(){return c})),t(n.exports,"useResponsiveToolbarButtons",(function(){return l}));var i=r("fw3Q6"),a=r("61szk"),s=r("4zlqo"),c=function(e){var t=e.toolbarSize,n=e.responsivenessEnabled,r=a.useMemo((function(){return s.ResponsiveCustomMenu[t]}),[t]);return n?r:s.DefaultButtonsMenu},l=function(t){var n=t.icons,r=function(e){var t=e.toolbarSize,n=e.responsivenessEnabled,r=a.useMemo((function(){return s.ResponsiveCustomButtonToolbar[t]}),[t]);return n?r:s.DefaultButtonsToolbar}({toolbarSize:t.toolbarSize,responsivenessEnabled:t.responsivenessEnabled});return a.useMemo((function(){return n.reduce((function(t,n){return n&&n.iconMark?r.includes(n.iconMark)?{dropdownItems:t.dropdownItems,singleItems:[].concat(e(i)(t.singleItems),[n])}:{dropdownItems:[].concat(e(i)(t.dropdownItems),[n]),singleItems:t.singleItems}:t}),{dropdownItems:[],singleItems:[]})}),[n,r])}})),r.register("4zlqo",(function(n,o){t(n.exports,"DefaultButtonsToolbar",(function(){return u})),t(n.exports,"DefaultButtonsMenu",(function(){return d})),t(n.exports,"ResponsiveCustomButtonToolbar",(function(){return f})),t(n.exports,"ResponsiveCustomMenu",(function(){return p}));var i,a,s=r("l15hj"),c=r("aWU3p"),l=r("hacry"),u=[l.IconTypes.strong,l.IconTypes.em],d=[l.IconTypes.underline,l.IconTypes.strike,l.IconTypes.code,l.IconTypes.subscript,l.IconTypes.superscript],f=(i={},e(s)(i,c.ToolbarSize.XXL,u),e(s)(i,c.ToolbarSize.XL,u),e(s)(i,c.ToolbarSize.L,u),e(s)(i,c.ToolbarSize.M,[]),e(s)(i,c.ToolbarSize.S,[]),e(s)(i,c.ToolbarSize.XXXS,[]),i),p=(a={},e(s)(a,c.ToolbarSize.XXL,d),e(s)(a,c.ToolbarSize.XL,d),e(s)(a,c.ToolbarSize.L,d),e(s)(a,c.ToolbarSize.M,[l.IconTypes.strong,l.IconTypes.em].concat(d)),e(s)(a,c.ToolbarSize.S,[l.IconTypes.strong,l.IconTypes.em].concat(d)),e(s)(a,c.ToolbarSize.XXXS,[l.IconTypes.strong,l.IconTypes.em].concat(d)),a)})),r.register("7ob7t",(function(n,o){t(n.exports,"SingleToolbarButtons",(function(){return c}));var i=r("61szk"),a=r("xZbZL"),s=r("gCo6x"),c=e(i).memo((function(t){var n=t.items,r=t.isReducedSpacing,o=t.editorView,c=i.useCallback((function(e){return function(){return e(o.state,o.dispatch),!1}}),[o.state,o.dispatch]);return e(i).createElement(a.ButtonGroup,{width:r?"small":"large"},n.map((function(t){return e(i).createElement(s.default,{key:t.key,buttonId:t.buttonId,spacing:r?"none":"default",onClick:c(t.command),selected:t.isActive,disabled:t.isDisabled,title:t.tooltipElement,iconBefore:t.iconElement})})))}))})),r.register("4S9J8",(function(n,o){t(n.exports,"MoreButton",(function(){return l}));var i=r("61szk"),a=r("jWECT"),s=r("xZbZL"),c=r("gCo6x"),l=e(i).memo((function(t){var n=t.label,r=t.isReducedSpacing,o=t.isSelected,l=t.isDisabled,u=t.onClick,d=i.useMemo((function(){return e(i).createElement(s.TriggerWrapper,null,e(i).createElement(e(a),{label:n}))}),[n]);return e(i).createElement(c.default,{disabled:l,selected:o,onClick:u,spacing:r?"none":"default",title:n,iconBefore:d})}))})),r.register("admPw",(function(n,o){t(n.exports,"FormattingTextDropdownMenu",(function(){return d}));var i=r("h67q9"),a=r("61szk");r("8iml0");var s=r("82cWi"),c=r("aYRkw"),l=r("6ZCO0"),u=r("4S9J8"),d=e(a).memo((function(t){var n=t.editorView,r=t.moreButtonLabel,o=t.isReducedSpacing,d=t.items,f=t.hasFormattingActive,p=t.popupsBoundariesElement,h=t.popupsMountPoint,g=t.popupsScrollableElement,m=l.useMenuState(),v=e(i)(m,3),b=v[0],y=v[1],E=v[2],x=a.useMemo((function(){return[{items:d}]}),[d]),k=a.useCallback((function(e){e.item.command(n.state,n.dispatch),E()}),[n.state,n.dispatch,E]);return e(a).createElement(c.default,{mountTo:h,onOpenChange:E,boundariesElement:p,scrollableElement:g,onItemActivated:k,isOpen:b,items:x,zIndex:s.akEditorMenuZIndex,fitHeight:188,fitWidth:136},e(a).createElement(u.MoreButton,{isSelected:b||f,label:r,isReducedSpacing:o,isDisabled:!1,onClick:y}))}))})),r.register("6ZCO0",(function(n,o){t(n.exports,"useMenuState",(function(){return s}));var i=r("h67q9"),a=r("61szk"),s=function(){var t=a.useState(!1),n=e(i)(t,2),r=n[0],o=n[1],s=a.useCallback((function(){o(!r)}),[r]),c=a.useCallback((function(){o(!1)}),[]);return[r,s,c]}})),r.register("iOvr3",(function(e,n){t(e.exports,"default",(function(){return d}));var o=r("eBSbE"),i=r("ekJGA");r("igW5C");var a=r("isabZ"),s=r("lFBSu"),c=r("22Hec"),l=new o.PluginKey("unsupportedContentPlugin"),u=function(e){var t=e.portalProviderAPI,n=e.eventDispatcher,r=e.dispatchAnalyticsEvent;return new o.Plugin({key:l,props:{nodeViews:{confluenceUnsupportedBlock:c.default.fromComponent(a.default,t,n,{dispatchAnalyticsEvent:r}),confluenceUnsupportedInline:c.default.fromComponent(s.default,t,n,{dispatchAnalyticsEvent:r}),unsupportedBlock:c.default.fromComponent(a.default,t,n,{dispatchAnalyticsEvent:r}),unsupportedInline:c.default.fromComponent(s.default,t,n,{dispatchAnalyticsEvent:r})}}})},d=function(){return{name:"unsupportedContent",marks:function(){return[{name:"unsupportedMark",mark:i.unsupportedMark},{name:"unsupportedNodeAttribute",mark:i.unsupportedNodeAttribute}]},nodes:function(){return[{name:"confluenceUnsupportedBlock",node:i.confluenceUnsupportedBlock},{name:"confluenceUnsupportedInline",node:i.confluenceUnsupportedInline},{name:"unsupportedBlock",node:i.unsupportedBlock},{name:"unsupportedInline",node:i.unsupportedInline}]},pmPlugins:function(){return[{name:"unsupportedContent",plugin:u}]}}}})),r.register("enaCI",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("l15hj"),a=r("l5dFf"),s=r("9VelW");r("igW5C");var c=r("4W5Y2"),l=r("ekJGA"),u=r("eFDY2"),d=r("isefA"),f=r("lH4Ah"),p=r("5SXlo"),h=r("4l61F"),g=r("60ETS"),m=r("hW7rL"),v=r("hHskd"),b=r("hIycq"),y=r("2I9mb"),E=r("hnx3x"),x=r("lAwwl");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?k(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var S=c.default.chrome&&c.default.chrome_version>=88,T=function(e){return{name:"base",pmPlugins:function(){var t=[{name:"filterStepsPlugin",plugin:function(e){var t=e.dispatchAnalyticsEvent;return u.default(t)}},{name:"inlineCursorTargetPlugin",plugin:function(){return e&&e.allowInlineCursorTarget?g.default():void 0}},{name:"focusHandlerPlugin",plugin:function(e){var t=e.dispatch;return d.default(t)}},{name:"newlinePreserveMarksPlugin",plugin:h.default},{name:"reactNodeView",plugin:function(){return v.plugin}},{name:"frozenEditor",plugin:function(t){var n=t.dispatchAnalyticsEvent;t.providerFactory;return e&&e.inputTracking&&e.inputTracking.enabled?x.default(n,e.inputTracking,e.browserFreezeTracking):void 0}},{name:"decorationPlugin",plugin:function(){return b.default()}},{name:"history",plugin:function(){return s.history()}},{name:"codeBlockIndent",plugin:function(){return E.keymap(C(C({},a.baseKeymap),{},{"Mod-[":function(){return!0},"Mod-]":function(){return!0}}))}},{name:"contextIdentifier",plugin:function(e){var t=e.dispatch,n=e.providerFactory;return p.default(t,n)}},{name:"betterTypeHistory",plugin:function(e){e.dispatch,e.providerFactory;return m.default()}}];return e&&e.allowScrollGutter&&t.push({name:"scrollGutterPlugin",plugin:function(){return y.default(e.allowScrollGutter)}}),S&&t.push({name:"fixChrome88SelectionPlugin",plugin:function(){return f.default()}}),t},nodes:function(){return[{name:"doc",node:l.doc},{name:"paragraph",node:l.paragraph},{name:"text",node:l.text}]}}}})),r.register("eFDY2",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("eBSbE");r("cTu5S");var i=r("9V1f8"),a=r("hNVBR"),s=function(e){return new o.Plugin({filterTransaction:function(t){return!(t.steps||[]).some((function(e){return e.from>e.to}))||(console.warn("The transaction was blocked because it contains invalid steps",t.steps),e({action:i.ACTION.DISCARDED_INVALID_STEPS_FROM_TRANSACTION,actionSubject:i.ACTION_SUBJECT.EDITOR,attributes:{analyticsEventPayloads:a.getAnalyticsEventsFromTransaction(t)},eventType:i.EVENT_TYPE.OPERATIONAL}),!1)}})}})),r.register("lH4Ah",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("eBSbE"),i=r("iFBc4");var a=new o.PluginKey("fixChromeSelectionPlugin"),s=function(){return new o.Plugin({key:a,props:{handleDOMEvents:{focus:function(e){return"div"!==e.dom.tagName.toLowerCase()||i.isNodeSelection(e.state.selection)||(e.dom.style.display="inline-block",e.dom.offsetHeight,e.dom.style.display="block"),!1}}}})}})),r.register("5SXlo",(function(n,o){t(n.exports,"getContextIdentifier",(function(){return u})),t(n.exports,"default",(function(){return d}));var i=r("l15hj"),a=r("eBSbE");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var l=new a.PluginKey("contextIdentiferPlugin"),u=function(e){var t;if(e)return null===(t=l.getState(e))||void 0===t?void 0:t.contextIdentifierProvider},d=function(e,t){return new a.Plugin({key:l,state:{init:function(){return{}},apply:function(e,t){return e.getMeta(l)?e.getMeta(l):t}},view:function(e){var n=function(t,n){n&&"contextIdentifierProvider"===t&&n.then((function(t){var n=e.state.tr.setMeta(l,{contextIdentifierProvider:c({},t)});e.dispatch(n)}))};return t&&t.subscribe("contextIdentifierProvider",n),{destroy:function(){t&&t.unsubscribe("contextIdentifierProvider",n)}}}})}})),r.register("4l61F",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("eBSbE"),i=r("6mFHM"),a=r("jd53t");r("9dL7e");var s=r("dm770");r("9J8af");var c=r("l9fpM"),l=new o.PluginKey("newlinePreserveMarksPlugin"),u=function(e){return!!e.selection.$to.parent.marks.find((function(t){return t.type===e.schema.marks.alignment}))},d=function(e){return!s.pluginKey.getState(e).active},f=function(e,t){return t&&t(e.tr.split(e.tr.mapping.map(e.selection.$from.pos),1)),!0},p=function(){return new o.Plugin({key:l,props:{handleKeyDown:i.keydownHandler({Enter:a.filter([c.isSelectionEndOfParagraph,u,d],f)})}})}})),r.register("9dL7e",(function(n,o){t(n.exports,"default",(function(){return p})),t(n.exports,"typeAheadPluginKey",(function(){return r("dm770").pluginKey}));var i=r("61szk"),a=r("ekJGA"),s=r("4s4wW"),c=r("larhf"),l=r("5LBVH"),u=r("hVc61"),d=r("dm770"),f=r("ls1lM"),p=function(t){return{name:"typeAhead",marks:function(){return[{name:"typeAheadQuery",mark:a.typeAheadQuery}]},pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"typeAhead",plugin:function(t){var n=t.dispatch,r=t.reactContext;return u.createPlugin(n,r,e)}},{name:"typeAheadInputRule",plugin:function(t){var n=t.schema,r=t.featureFlags;return c.inputRulePlugin(n,e,r)}},{name:"typeAheadKeymap",plugin:function(){return l.keymapPlugin()}}]},contentComponent:function(n){var r=n.editorView,o=n.popupsMountPoint,a=n.popupsBoundariesElement,c=n.popupsScrollableElement;return e(i).createElement(s.default,{plugins:{typeAhead:d.pluginKey},render:function(n){var s=n.typeAhead,l=void 0===s?u.createInitialPluginState():s;if(l.typeAheadHandler&&l.typeAheadHandler.headless)return null;var d=l.queryMarkPos,p=null;if(null!==d)try{p=r.domAtPos(d)}catch(e){return null}var h=p?p.node.childNodes[p.offset]:void 0;return e(i).createElement(f.TypeAhead,{editorView:r,popupsMountPoint:o,popupsBoundariesElement:a,popupsScrollableElement:c,anchorElement:h,active:l.active,isLoading:!!l.itemsLoader,items:l.items,currentIndex:l.currentIndex,highlight:l.highlight,createAnalyticsEvent:null==t?void 0:t.createAnalyticsEvent,query:l.query})}})}}}})),r.register("5LBVH",(function(e,n){t(e.exports,"keymapPlugin",(function(){return u}));var o=r("6mFHM"),i=r("7uC1r"),a=r("d9nvS"),s=r("k3G8M");r("hVc61");var c=r("dm770"),l=r("ga0dY");function u(){var e={};return i.bindKeymapWithCommand(i.enter.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&s.selectCurrentItem("enter")(e,t)}),e),i.bindKeymapWithCommand(i.moveUp.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(c.pluginKey,{action:l.ACTIONS.SELECT_PREV})),!0)}),e),i.bindKeymapWithCommand(i.moveDown.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&(t&&t(e.tr.setMeta(c.pluginKey,{action:l.ACTIONS.SELECT_NEXT})),!0)}),e),i.bindKeymapWithCommand(i.insertNewLine.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&s.selectCurrentItem("shift-enter")(e,t)}),e),i.bindKeymapWithCommand(i.tab.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&s.selectCurrentItem("tab")(e,t)}),e),i.bindKeymapWithCommand(i.escape.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&(window.event&&window.event.stopPropagation(),a.dismissCommand()(e,t))}),e),i.bindKeymapWithCommand(i.space.common,(function(e,t){var n=c.pluginKey.getState(e);return!(!n||!n.active)&&s.selectSingleItemOrDismiss("space")(e,t)}),e),o.keymap(e)}})),r.register("ls1lM",(function(n,o){t(n.exports,"TypeAhead",(function(){return P}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD");r("igW5C");var g=r("5Dx14");r("8iml0");var m=r("82cWi"),v=r("kFKbx"),b=r("cufhv");r("c4zMH");var y=r("h8W7Z"),E=r("k3G8M"),x=r("1KbBo"),k=r("5gvnP");r("cTu5S");var C,S=r("9V1f8"),T=r("4bO6W"),O=r("46vX8");function w(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var N=h.default.div(C||(C=e(f)(["\n  background: ",";\n  border-radius: ","px;\n  box-shadow: 0 0 1px ",", 0 4px 8px -2px ",";\n  padding: ","px 0;\n  width: 320px;\n  max-height: 380px; /* ~5.5 visibile items */\n  overflow-y: auto;\n  -ms-overflow-style: -ms-autohiding-scrollbar;\n  position: relative;\n"])),b.N0,v.borderRadius(),b.N60A,b.N50A,y.divide(v.gridSize,2)),P=function(t){e(c)(r,t);var n=w(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"composing",!1),e(d)(e(s)(t),"shouldFireRendered",!1),e(d)(e(s)(t),"handleKeyPress",(function(){t.composing=!0})),e(d)(e(s)(t),"handleMouseMove",(function(){t.composing=!1})),e(d)(e(s)(t),"fireRendered",(function(){if(t.shouldFireRendered){var e,n={action:S.ACTION.RENDERED,actionSubject:S.ACTION_SUBJECT.TYPEAHEAD,eventType:S.EVENT_TYPE.OPERATIONAL,attributes:{time:t.renderStart?performance.now()-t.renderStart:void 0,items:null===(e=t.props.items)||void 0===e?void 0:e.length,initial:""===t.props.query}};T.fireAnalyticsEvent(t.props.createAnalyticsEvent)({channel:O.editorAnalyticsChannel,payload:n}),t.renderStart=void 0,t.shouldFireRendered=!1}})),e(d)(e(s)(t),"fireItemViewed",(function(){if(t.props.currentIndex!==t.sentIndex){var e,n={action:S.ACTION.VIEWED,actionSubject:S.ACTION_SUBJECT.TYPEAHEAD_ITEM,eventType:S.EVENT_TYPE.OPERATIONAL,attributes:{index:t.props.currentIndex,items:null===(e=t.props.items)||void 0===e?void 0:e.length}};T.fireAnalyticsEvent(t.props.createAnalyticsEvent)({channel:O.editorAnalyticsChannel,payload:n}),t.sentIndex=t.props.currentIndex}})),e(d)(e(s)(t),"componentDidMount",(function(){window.addEventListener("keypress",t.handleKeyPress),window.addEventListener("mousemove",t.handleMouseMove),t.fireRendered(),t.fireItemViewed()})),e(d)(e(s)(t),"componentWillUnmount",(function(){window.removeEventListener("keypress",t.handleKeyPress),window.removeEventListener("mousemove",t.handleMouseMove)})),e(d)(e(s)(t),"componentDidUpdate",(function(){t.fireRendered(),t.fireItemViewed()})),e(d)(e(s)(t),"insertByIndex",(function(e){E.selectByIndex(e)(t.props.editorView.state,t.props.editorView.dispatch)})),e(d)(e(s)(t),"setCurrentIndex",(function(e){t.composing||e!==t.props.currentIndex&&x.setCurrentIndex(e)(t.props.editorView.state,t.props.editorView.dispatch)})),t}return e(a)(r,[{key:"componentWillReceiveProps",value:function(e){var t,n,r,o;(null!==(t=null===(n=this.props.items)||void 0===n?void 0:n.map((function(e){return e.title})).join("-"))&&void 0!==t?t:"")!==(null!==(r=null===(o=e.items)||void 0===o?void 0:o.map((function(e){return e.title})).join("-"))&&void 0!==r?r:"")&&(this.renderStart=performance.now(),this.shouldFireRendered=!0)}},{key:"render",value:function(){var t=this.props,n=t.active,r=t.items,o=t.isLoading,i=t.anchorElement,a=t.currentIndex,s=t.popupsMountPoint,c=t.popupsBoundariesElement,l=t.popupsScrollableElement,u=t.highlight;return n&&i&&r&&r.length?e(p).createElement(g.default,{zIndex:m.akEditorFloatingDialogZIndex,target:i,mountTo:s,boundariesElement:c,scrollableElement:l,fitHeight:300,fitWidth:340,offset:[0,8]},e(p).createElement(N,{className:"fabric-editor-typeahead"},u,Array.isArray(r)?e(p).createElement(k.TypeAheadItemsList,{insertByIndex:this.insertByIndex,setCurrentIndex:this.setCurrentIndex,items:r,currentIndex:a}):!r&&o?"loading...":"no items")):null}}]),r}(e(p).Component);e(d)(P,"displayName","TypeAhead")})),r.register("c4zMH",(function(e,n){t(e.exports,"multiply",(function(){return r("h8W7Z").multiply})),t(e.exports,"divide",(function(){return r("h8W7Z").divide}));r("h8W7Z")})),r.register("h8W7Z",(function(e,n){function r(e,t){return function(n){return e(n)*t}}function o(e,t){return function(n){return e(n)/t}}t(e.exports,"multiply",(function(){return r})),t(e.exports,"divide",(function(){return o}))})),r.register("1KbBo",(function(e,n){t(e.exports,"setCurrentIndex",(function(){return a})),r("hVc61");var o=r("dm770"),i=r("ga0dY"),a=function(e){return function(t,n){return n&&n(t.tr.setMeta(o.pluginKey,{action:i.ACTIONS.SET_CURRENT_INDEX,params:{currentIndex:e}})),!0}}})),r.register("5gvnP",(function(n,o){t(n.exports,"ItemIcon",(function(){return P})),t(n.exports,"TypeAheadItemsList",(function(){return R}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("lhkMJ"),f=r("l15hj"),p=r("61szk"),h=r("SssiD"),g=r("cNHiQ");r("cPjBT");var m=r("4Slod"),v=r("kFKbx"),b=r("cufhv");r("8iml0");var y,E,x,k,C=r("82cWi"),S=r("xZbZL"),T=r("9Lz2h");function O(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var w={overflow:"hidden"},N=e(f)({},g.itemThemeNamespace,{padding:{default:{bottom:12,left:12,right:12,top:12}},beforeItemSpacing:{default:function(){return 12}},borderRadius:function(){return 0},hover:{text:b.text,secondaryText:b.N200},selected:{background:m.default({light:b.N20,dark:b.DN70}),text:m.default({light:b.N800,dark:b.DN600}),secondaryText:m.default({light:b.N200,dark:b.DN300})}}),P=h.default.div(y||(y=e(d)(["\n  width: 40px;\n  height: 40px;\n  overflow: hidden;\n  border: 1px solid rgba(223, 225, 229, 0.5); /* N60 at 50% */\n  border-radius: ","px;\n  box-sizing: border-box;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  div {\n    width: 40px;\n    height: 40px;\n  }\n"])),v.borderRadius()),A=h.default.div(E||(E=e(d)(["\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  justify-content: space-between;\n  line-height: 1.4;\n"]))),I=h.default.div(x||(x=e(d)(["\n  white-space: initial;\n  .item-description {\n    font-size: ",";\n    color: ",";\n    margin-top: 4px;\n  }\n"])),C.relativeFontSizeToBase16(11.67),b.N200),D=h.default.div(k||(k=e(d)(["\n  flex: 0 0 auto;\n"])));function R(t){var n=t.items,r=t.currentIndex,o=t.insertByIndex,i=t.setCurrentIndex;return Array.isArray(n)?e(p).createElement(h.ThemeProvider,{theme:N},e(p).createElement(g.ItemGroup,null,n.map((function(t,n){return e(p).createElement(M,{key:t.key||t.title,item:t,index:n,currentIndex:r,insertByIndex:o,setCurrentIndex:i})})))):null}var M=function(t){e(c)(r,t);var n=O(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(f)(e(s)(t),"state",{ref:null}),e(f)(e(s)(t),"insertByIndex",(function(){t.props.insertByIndex(t.props.index)})),e(f)(e(s)(t),"setCurrentIndex",(function(){t.isSelected(t.props)||t.props.setCurrentIndex(t.props.index)})),e(f)(e(s)(t),"handleRef",(function(e){var n=function(e){return e&&e.ref}(e)?e.ref:e;t.setState({ref:n})})),t}return e(a)(r,[{key:"shouldComponentUpdate",value:function(e){return this.isSelected(this.props)!==this.isSelected(e)}},{key:"isSelected",value:function(e){return e.index===e.currentIndex}},{key:"componentDidUpdate",value:function(){var e,t,n,r,o,i,a,s,c=this.state.ref;this.props.index===this.props.currentIndex&&c&&(t=(e=c).offsetTop,n=e.offsetHeight,r=e.offsetParent,i=(o=r).offsetHeight,a=o.scrollTop,0!==(s=t+n>i+a?1:a>t?-1:0)&&r&&(r.scrollTop=1===s?t+n-i:t))}},{key:"render",value:function(){var t=this.props.item;return t.render?e(p).createElement("div",{onMouseMove:this.setCurrentIndex,ref:this.handleRef,style:w},e(p).createElement(t.render,{onClick:this.insertByIndex,onHover:this.setCurrentIndex,isSelected:this.isSelected(this.props)})):e(p).createElement(g.default,{onClick:this.insertByIndex,onMouseMove:this.setCurrentIndex,elemBefore:e(p).createElement(P,null,t.icon?t.icon():e(p).createElement(T.default,null)),isSelected:this.isSelected(this.props),"aria-describedby":t.title,ref:this.handleRef},e(p).createElement(A,null,e(p).createElement(I,null,e(p).createElement("div",{className:"item-title"},t.title),t.description&&e(p).createElement("div",{className:"item-description"},t.description)),e(p).createElement(D,null,t.keyshortcut&&e(p).createElement(S.Shortcut,null,t.keyshortcut))))}}]),r}(e(p).Component)})),r.register("60ETS",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("9MUi0"),i=r("eBSbE");r("igW5C");var a=r("b6rQF"),s=new i.PluginKey("inlineCursorTargetPlugin"),c=["mention","emoji"],l=function(e){return e&&-1!==c.indexOf(e.type.name)},u=function(){return new i.Plugin({key:s,state:{init:function(){return{positions:[]}},apply:function(e){var t=e.selection.$from,n=[],r=function(e,t){if(l(e.nodeAfter))return e.pos+1;var n=e.parentOffset,r=e.parent,o=t.doc.nodeSize-2;if(n===r.content.size&&e.pos+1<o-2){var i=t.doc.resolve(e.pos+1).nodeAfter;if(i&&l(i.firstChild))return e.pos+2}}(t,e),o=function(e,t){if(l(e.nodeBefore))return e.pos-1;if(0!==e.pos&&0===e.parentOffset){var n=t.doc.resolve(e.pos-1).nodeBefore;if(n&&l(n.firstChild))return e.pos-2}}(t,e);return void 0!==r&&n.push(r),void 0!==o&&n.push(o),{positions:n}}},props:{decorations:function(e){var t=e.doc,n=s.getState(e).positions;if(n&&n.length){var r=n.map((function(e){var t=document.createElement("span");return t.appendChild(document.createTextNode(a.ZERO_WIDTH_SPACE)),o.Decoration.widget(e,t,{raw:!0,side:-1,key:"inlineCursor"})}));return o.DecorationSet.create(t,r)}return null}}})}})),r.register("lAwwl",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("l15hj"),a=r("eBSbE");r("igW5C");var s=r("iJTyt"),c=r("a8mog");r("cTu5S");var l=r("9V1f8"),u=r("hHCgI"),d=r("hyqM3"),f=r("fL7Qr"),p=r("5SXlo"),h=r("jGCsF"),g=r("ju5bQ");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=function(e,t,n,r,o,i){var a,s=t.state,c=r?f.countNodes(t.state):{};return e({action:l.ACTION.BROWSER_FREEZE,actionSubject:l.ACTION_SUBJECT.EDITOR,attributes:v(v({objectId:null===(a=p.getContextIdentifier(s))||void 0===a?void 0:a.objectId,freezeTime:n,nodeSize:s.doc.nodeSize},c),{},{participants:d.getParticipantsCount(t.state),interactionType:o,severity:i}),eventType:l.EVENT_TYPE.OPERATIONAL})},y=function(e,t,n){var r,o=0;null!=n&&n.trackInteractionType&&(r=h.setInteractionType(u.BROWSER_FREEZE_INTERACTION_TYPE.LOADING));var i=t&&"number"==typeof t.samplingRate?t.samplingRate:100,m=t&&"number"==typeof t.slowThreshold?t.slowThreshold:300,y=t&&"number"==typeof t.freezeThreshold?t.freezeThreshold:600,E=t&&t.countNodes,x=(null==t?void 0:t.trackSeverity)||false,k=(null==t?void 0:t.severityNormalThreshold)||100,C=(null==t?void 0:t.severityDegradedThreshold)||500;return new a.Plugin({props:s.isPerformanceAPIAvailable()?{handleTextInput:function(t){var a=t.state,s=performance.now();return null!=n&&n.trackInteractionType&&(r=u.BROWSER_FREEZE_INTERACTION_TYPE.TYPING),requestAnimationFrame((function(){var n=g.getTimeSince(s);if(i&&++o===i){var r,u=E?f.countNodes(t.state):{};o=0;var h={action:l.ACTION.INPUT_PERF_SAMPLING,actionSubject:l.ACTION_SUBJECT.EDITOR,attributes:v(v({time:n,nodeSize:a.doc.nodeSize},u),{},{participants:d.getParticipantsCount(a),objectId:null===(r=p.getContextIdentifier(a))||void 0===r?void 0:r.objectId}),eventType:l.EVENT_TYPE.OPERATIONAL};x&&(h.attributes.severity=c.getAnalyticsEventSeverity(n,k,C)),e(h)}if(n>m){var b,y=E?f.countNodes(t.state):{};e({action:l.ACTION.SLOW_INPUT,actionSubject:l.ACTION_SUBJECT.EDITOR,attributes:v(v({time:n,nodeSize:a.doc.nodeSize},y),{},{participants:d.getParticipantsCount(a),objectId:null===(b=p.getContextIdentifier(a))||void 0===b?void 0:b.objectId}),eventType:l.EVENT_TYPE.OPERATIONAL})}})),!1},handleDOMEvents:null!=n&&n.trackInteractionType?{click:function(){return r=h.setInteractionType(u.BROWSER_FREEZE_INTERACTION_TYPE.CLICKING),!1},paste:function(){return r=h.setInteractionType(u.BROWSER_FREEZE_INTERACTION_TYPE.PASTING),!1}}:void 0}:void 0,view:function(t){if(!s.isPerformanceObserverAvailable())return{};var o;try{new PerformanceObserver((function(o){for(var i=o.getEntries(),a=0;a<i.length;a++){var s=i[a].duration;s>y&&b(e,t,s,E,null!=n&&n.trackInteractionType?r:void 0,null!=n&&n.trackSeverity?c.getAnalyticsEventSeverity(s,n.severityNormalThreshold||2e3,n.severityDegradedThreshold||3e3):void 0)}})).observe({entryTypes:["longtask"]})}catch(e){}return{destroy:function(){o}}}})}})),r.register("fL7Qr",(function(e,n){function r(e){var t,n,r,o={},i={},a=e.schema.nodes,s=[null===(t=a.extension)||void 0===t?void 0:t.name,null===(n=a.inlineExtension)||void 0===n?void 0:n.name,null===(r=a.bodiedExtension)||void 0===r?void 0:r.name];return e.doc.descendants((function(e){var t,n=e.type.name;n in o?o[n]++:o[n]=1;var r,a=n;s.includes(a)&&null!==(t=e.attrs)&&void 0!==t&&t.extensionType&&((a="".concat(e.attrs.extensionType," - ").concat(null===(r=e.attrs)||void 0===r?void 0:r.extensionKey))in i?i[a]++:i[a]=1);return!0})),{nodeCount:o,extensionNodeCount:i}}t(e.exports,"countNodes",(function(){return r}))})),r.register("jGCsF",(function(e,n){t(e.exports,"setInteractionType",(function(){return r}));var r=function(e){return e}})),r.register("ju5bQ",(function(e,n){t(e.exports,"getTimeSince",(function(){return r}));var r=function(e){return performance.now()-e}})),r.register("cWoXC",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("l15hj"),a=r("6mFHM"),s=r("7uC1r");r("cTu5S");var c=r("9V1f8"),l=r("bjJNi"),u=r("46vX8");var d=function(e){return{payload:{action:c.ACTION.STOPPED,actionSubject:c.ACTION_SUBJECT.EDITOR,actionSubjectId:c.ACTION_SUBJECT_ID.SAVE,attributes:{inputMethod:c.INPUT_METHOD.SHORTCUT,documentSize:e.doc.nodeSize},eventType:c.EVENT_TYPE.UI}}},f=function(t){return{name:"submitEditor",pmPlugins:function(){return[{name:"submitEditor",plugin:function(n){return function(t,n){if(n)return a.keymap(e(i)({},"".concat(s.submit.common),(function(e,r,o){var i=l.stateKey.getState(e);return i&&i.waitForMediaUpload&&!i.allUploadsFinished||(t(u.analyticsEventKey,d(e)),n(o)),!0})))}(n.dispatch,t)}}]}}}})),r.register("9ktKU",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("eBSbE"),i=(o=r("eBSbE"),r("kVscW")),a=new o.PluginKey("fakeTextCursorPlugin"),s=function(){return{name:"fakeTextCursor",pmPlugins:function(){return[{name:"fakeTextCursor",plugin:function(){return new o.Plugin({key:a,props:{decorations:i.drawFakeTextCursor}})}}]}}}})),r.register("fGbVs",(function(n,o){t(n.exports,"default",(function(){return O}));var i=r("l15hj"),a=r("61szk"),s=r("eBSbE"),c=r("iFBc4"),l=r("ezhT8");r("igW5C");var u=r("5Dx14"),d=r("4s4wW");r("kH7oN");var f=r("9V1f8");r("cTu5S");f=r("9V1f8");var p=r("gOGfy"),h=r("6CSp2"),g=r("aztl1"),m=r("lEgWH"),v=r("eKm63"),b=r("8Wyfh"),y=r("eQFaq"),E=r("1Eg6c"),x=r("aitud");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?k(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var S=function(e,t){try{return c.findDomRefAtPos(e.state.selection.from,e.domAtPos.bind(e))}catch(n){if(console.warn(n),t)t({action:f.ACTION.ERRORED,actionSubject:f.ACTION_SUBJECT.CONTENT_COMPONENT,eventType:f.EVENT_TYPE.OPERATIONAL,attributes:{component:f.CONTENT_COMPONENT.FLOATING_TOOLBAR,selection:e.state.selection.toJSON(),position:e.state.selection.from,docSize:e.state.doc.nodeSize,error:n.toString(),errorStack:n.stack||void 0}})}};function T(e){return!!e}var O=function(){return{name:"floatingToolbar",pmPlugins:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[{name:"floatingToolbar",plugin:function(t){var n=t.dispatch,r=t.reactContext,o=t.providerFactory;return N({floatingToolbarHandlers:e,dispatch:n,reactContext:r,providerFactory:o})}},{name:"floatingToolbarData",plugin:function(e){var t=e.dispatch;return m.createPlugin(t)}}]},contentComponent:function(t){var n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=t.editorView,s=t.providerFactory,c=t.dispatchAnalyticsEvent;return e(a).createElement(d.default,{plugins:{floatingToolbarState:w,floatingToolbarData:g.pluginKey,editorDisabledPlugin:h.pluginKey,extensionsState:p.pluginKey},render:function(t){var d,p,h=t.editorDisabledPlugin,g=t.floatingToolbarState,m=t.floatingToolbarData,E=t.extensionsState,k=null==g?void 0:g.getConfigWithNodeInfo(i.state);if(!k||!k.config||void 0!==(null===(d=k.config)||void 0===d?void 0:d.visible)&&(null===(p=k.config)||void 0===p||!p.visible))return null;var C,T=k.config,O=k.node,w=T.title,N=T.getDomRef,P=void 0===N?S:N,A=T.items,I=T.align,D=void 0===I?"center":I,R=T.className,M=void 0===R?"":R,_=T.height,j=T.width,B=T.offset,L=void 0===B?[0,12]:B,F=T.forcePlacement,z=T.onPositionCalculated,W=P(i,c);if(!W||h&&h.editorDisabled)return null;var U=Array.isArray(A)?A:A(O);z&&(C=function(e){return z(i,e)});var H=function(e){return e&&e(i.state,i.dispatch,i)},V=(m||{}).confirmDialogForItem,K=V?U[V]:void 0;return e(a).createElement(x.ErrorBoundary,{component:f.ACTION_SUBJECT.FLOATING_TOOLBAR_PLUGIN,componentId:e(l)(w),dispatchAnalyticsEvent:c,fallbackComponent:null},e(a).createElement(u.default,{ariaLabel:w,offset:L,target:W,alignY:"bottom",forcePlacement:F,fitHeight:_,fitWidth:j,alignX:D,stick:!0,mountTo:n,boundariesElement:r,scrollableElement:o,onPositionCalculated:C},e(a).createElement(y.ToolbarLoader,{target:W,items:U,node:O,dispatchCommand:H,editorView:i,className:M,focusEditor:function(){return i.focus()},providerFactory:s,popupsMountPoint:n,popupsBoundariesElement:r,popupsScrollableElement:o,dispatchAnalyticsEvent:c,extensionsProvider:null==E?void 0:E.extensionProvider})),e(a).createElement(b.ConfirmationModal,{options:null==K?void 0:K.confirmDialog,onConfirm:function(){H(K.onClick),H(v.hideConfirmDialog())},onClose:function(){H(v.hideConfirmDialog())}}))}})}}},w=new s.PluginKey("floatingToolbarPluginKey");function N(e){var t=e.floatingToolbarHandlers,n=e.dispatch,r=e.reactContext,o=e.providerFactory,i=r().intl,a=function(e){var n=t.map((function(t){return t(e,i,o)})).filter(T).map((function(e){return function(e){return Array.isArray(e.nodeType)?C(C({},e),{},{nodeType:e.nodeType.filter(T)}):e}(e)}));return n&&function(e,t){var n;if(t.find((function(t){var r=c.findSelectedNodeOfType(t.nodeType)(e);return r&&(n={node:r.node,pos:r.pos,config:t}),!!r})),n)return n;var r={};t.forEach((function(e){Array.isArray(e.nodeType)?e.nodeType.forEach((function(t){r[t.name]=e})):r[e.nodeType.name]=e}));for(var o=e.$from,i=o.depth;i>0;i--){var a=o.node(i),l=r[a.type.name];if(l)return{config:l,node:a,pos:o.pos}}if(e instanceof s.AllSelection){var u=o.node(0),d=null,f=E.findNode(u,(function(e){return!!(d=r[e.type.name])}));if(f&&d)return{config:d,node:f,pos:o.pos}}}(e.selection,n)};return new s.Plugin({key:w,state:{init:function(){return y.ToolbarLoader.preload(),{getConfigWithNodeInfo:a}},apply:function(e,t){var r={getConfigWithNodeInfo:a};return n(w,r),r}}})}})),r.register("aztl1",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("floatingToolbarData")})),r.register("lEgWH",(function(e,n){t(e.exports,"createPlugin",(function(){return s}));var o=r("eBSbE"),i=r("aztl1"),a=r("anOfI"),s=function(e){return new o.Plugin({state:a.createPluginState(e,{}),key:i.pluginKey})}})),r.register("anOfI",(function(e,n){t(e.exports,"createPluginState",(function(){return c})),t(e.exports,"createCommand",(function(){return l}));var o=r("27k6c"),i=r("aztl1"),a=r("JH3et"),s=o.pluginFactory(i.pluginKey,a.reducer),c=s.createPluginState,l=s.createCommand;s.getPluginState})),r.register("JH3et",(function(n,o){t(n.exports,"reducer",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(e,t){switch(t.type){case"SHOW_CONFIRM_DIALOG":return s(s({},e),{},{confirmDialogForItem:t.data.buttonIndex});case"HIDE_CONFIRM_DIALOG":return s(s({},e),{},{confirmDialogForItem:void 0});default:return e}}})),r.register("eKm63",(function(e,n){t(e.exports,"showConfirmDialog",(function(){return i})),t(e.exports,"hideConfirmDialog",(function(){return a}));var o=r("anOfI"),i=function(e){return o.createCommand({type:"SHOW_CONFIRM_DIALOG",data:{buttonIndex:e}},(function(e){return e.setMeta("addToHistory",!1)}))},a=function(){return o.createCommand({type:"HIDE_CONFIRM_DIALOG"},(function(e){return e.setMeta("addToHistory",!1)}))}})),r.register("8Wyfh",(function(n,o){t(n.exports,"ConfirmationModal",(function(){return l}));var i=r("61szk"),a=r("7RIig"),s=r("35ixb"),c=r("7xwnx"),l=a.injectIntl((function(t){var n=t.onConfirm,r=t.onClose,o=t.options,a=t.intl.formatMessage,l=t.testId,u=(null==o?void 0:o.title)||a(c.default.confirmModalDefaultHeading),d=(null==o?void 0:o.okButtonLabel)||a(c.default.confirmModalOK),f=[{text:(null==o?void 0:o.cancelButtonLabel)||a(c.default.confirmModalCancel),appearance:"default",onClick:r,testId:l?"".concat(l,"-cancel-button"):void 0},{text:d,appearance:"warning",onClick:n,testId:l?"".concat(l,"-confirm-button"):void 0}];return e(i).createElement(s.ModalTransition,null,o&&e(i).createElement(s.default,{actions:f,onClose:r,heading:u,appearance:"warning",testId:l},e(i).createElement("p",null,o.message)))}))})),r.register("7xwnx",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({confirmModalDefaultHeading:{id:"fabric.editor.floatingToolbar.confirmModalHeading",defaultMessage:"Are you sure?",description:"Default heading of floating toolbar confirmation modal."},confirmModalOK:{id:"fabric.editor.floatingToolbar.confirmModalOK",defaultMessage:"OK",description:"OK button for floating toolbar confirmation modal."},confirmModalCancel:{id:"fabric.editor.floatingToolbar.confirmModalCancel",defaultMessage:"Cancel",description:"Cancel button for floating toolbar confirmation modal."}})})),r.register("eQFaq",(function(n,o){t(n.exports,"ToolbarLoader",(function(){return i}));var i=e(r("2l34k"))({loader:function(){return r("gIHWd").then((function(e){return e.default}))},loading:function(){return null}})})),r.register("gIHWd",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("Rx6ju")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("7MgwH")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("kEzrN")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("29kGQ"))]).then((()=>r("dOFQr")))})),r.register("1Eg6c",(function(e,n){t(e.exports,"shallowEqual",(function(){return r})),t(e.exports,"compareArrays",(function(){return o})),t(e.exports,"findNode",(function(){return i}));var r=function(e,t){if(e===t)return!0;if(null==e||null==t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),i=0;i<n.length;i++){var a=n[i];if(!o(a))return!1;if(e[a]!==t[a])return!1}return!0},o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;if(e.length!==t.length)return!1;for(var o=0;o<e.length;o++)if(!n(e[o],t[o]))return!1;return!0};function i(e,t){var n;return e.descendants((function(e){return!n&&(!t(e)||(n=e,!1))})),n}})),r.register("9LP3P",(function(n,o){t(n.exports,"PortalProvider",(function(){return C})),t(n.exports,"PortalRenderer",(function(){return S}));var i,a,s=r("h67q9"),c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("61szk"),m=r("c6wVG"),v=r("hm2s2"),b=r("7lFfQ"),y=r("8PQwY"),E=r("9V1f8");function x(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var k=function(t){e(d)(r,t);var n=x(r);function r(t,o){var i;return e(c)(this,r),i=n.call(this),e(h)(e(u)(i),"portals",new Map),e(h)(e(u)(i),"setContext",(function(e){i.context=e})),i.onAnalyticsEvent=t,i.useAnalyticsContext=o,i}return e(l)(r,[{key:"render",value:function(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.portals.set(n,{children:t,hasReactContext:r});var o=this.useAnalyticsContext?e(g).createElement(O,null,t()):t();m.unstable_renderSubtreeIntoContainer(this.context,o,n)}},{key:"forceUpdate",value:function(){var t=this;this.portals.forEach((function(n,r){if(n.hasReactContext||t.useAnalyticsContext){var o=t.useAnalyticsContext?e(g).createElement(O,null,n.children()):n.children();m.unstable_renderSubtreeIntoContainer(t.context,o,r)}}))}},{key:"remove",value:function(e){this.portals.delete(e);try{m.unmountComponentAtNode(e)}catch(t){this.onAnalyticsEvent&&this.onAnalyticsEvent({payload:{action:E.ACTION.FAILED_TO_UNMOUNT,actionSubject:E.ACTION_SUBJECT.EDITOR,actionSubjectId:E.ACTION_SUBJECT_ID.REACT_NODE_VIEW,attributes:{error:t,domNodes:{container:e?e.className:void 0,child:e.firstElementChild?e.firstElementChild.className:void 0}},eventType:E.EVENT_TYPE.OPERATIONAL}})}}}]),r}(y.EventDispatcher),C=function(t){e(d)(r,t);var n=x(r);function r(t){var o;return e(c)(this,r),(o=n.call(this,t)).portalProviderAPI=new k(t.onAnalyticsEvent,t.useAnalyticsContext),o}return e(l)(r,[{key:"render",value:function(){return this.props.render(this.portalProviderAPI)}},{key:"componentDidUpdate",value:function(){this.portalProviderAPI.forceUpdate()}}]),r}(e(g).Component);e(h)(C,"displayName","PortalProvider");var S=function(t){e(d)(r,t);var n=x(r);function r(t){var o;return e(c)(this,r),o=n.call(this,t),e(h)(e(u)(o),"handleUpdate",(function(e){return o.setState({portals:e})})),t.portalProviderAPI.setContext(e(u)(o)),t.portalProviderAPI.on("update",o.handleUpdate),o.state={portals:new Map},o}return e(l)(r,[{key:"render",value:function(){var t=this.state.portals;return e(g).createElement(e(g).Fragment,null,Array.from(t.entries()).map((function(t){var n=e(s)(t,2),r=n[0],o=n[1];return m.createPortal(o,r)})))}}]),r}(e(g).Component),T={getAtlaskitAnalyticsContext:function(){},getAtlaskitAnalyticsEventHandlers:function(){}},O=(a=i=function(t){e(d)(r,t);var n=x(r);function r(){return e(c)(this,r),n.apply(this,arguments)}return e(l)(r,[{key:"render",value:function(){var t=(this.context.contextAdapter.analytics||{value:T}).value;return e(g).createElement(b.default.Provider,{value:t},this.props.children)}}]),r}(e(g).Component),e(h)(i,"contextTypes",{contextAdapter:e(v).object}),a)})),r.register("1YDGj",(function(n,o){t(n.exports,"EditorInternal",(function(){return m}));var i=r("h67q9"),a=r("61szk"),s=r("7RIig"),c=r("hm2s2");r("igW5C");var l=r("jZsbJ");r("9w2Xf");var u=r("88AWt"),d=r("5f4Cw"),f=r("7FBL9"),p=r("3OXK9"),h=r("64zvn"),g=r("4QxYE");function m(t,n){var r=t.onAnalyticsEvent,o=t.disabled,s=t.transformer,c=t.defaultValue,m=t.plugins,v=t.portalProviderAPI,b=t.popupsMountPoint,y=t.popupsBoundariesElement,E=t.popupsScrollableElement,x=t.onChange,k=t.onDestroy,C=t.onMount,S=t.children,T=(n||{}).editorActions,O=e(a).useMemo((function(){return T||new f.default}),[T]),w=u.useProviderFactory(),N=h.useEditor({context:n,editorActions:O,onAnalyticsEvent:r,disabled:o,transformer:s,defaultValue:c,plugins:m,portalProviderAPI:v,popupsMountPoint:b,popupsBoundariesElement:y,popupsScrollableElement:E,onChange:x,onDestroy:k,onMount:C,providerFactory:w,featureFlags:{}}),P=e(i)(N,2),A=P[0],I=P[1];return e(a).createElement(l.WidthProvider,null,e(a).createElement(d.default,{editorActions:O},e(a).createElement(p.EditorSharedConfigProvider,{value:A},e(a).createElement(g.EditorContentProvider,{value:I},S))))}m.contextTypes={editorActions:e(c).object,intl:s.intlShape}})),r.register("3OXK9",(function(n,o){t(n.exports,"EditorSharedConfigProvider",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("l15hj"),d=r("61szk"),f=r("hm2s2");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var h=e(d).createContext(null),g=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"getChildContext",value:function(){return{editorSharedConfig:this.props.value}}},{key:"render",value:function(){return e(d).createElement(h.Provider,{value:this.props.value},this.props.children)}}]),r}(e(d).Component);e(u)(g,"childContextTypes",{editorSharedConfig:e(f).object});var m=function(t){e(s)(r,t);var n=p(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this;return e(d).createElement(h.Consumer,null,(function(e){return t.props.children(t.context.editorSharedConfig||e)}))}}]),r}(e(d).Component);e(u)(m,"contextTypes",{editorSharedConfig:e(f).object})})),r.register("64zvn",(function(n,o){t(n.exports,"useEditor",(function(){return C}));var i=r("l15hj"),a=r("h67q9"),s=r("61szk");r("igW5C");var c=r("6qQ9w"),l=r("f7OFS"),u=r("4cO4S"),d=r("lKo0v");r("9J8af");var f=r("l9fpM");r("cTu5S");var p=r("9V1f8"),h=r("hHCgI"),g=r("OtLXQ"),m=r("lWHVr"),v=r("kaPbt"),b=r("fTB3k"),y=r("2qaOA"),E=r("46vX8");function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?x(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function C(t){c.startMeasure(d.default.EDITOR_MOUNTED);var n=function(t){var n=e(s).useState(null),r=e(a)(n,2),o=r[0],i=r[1];return[o,e(s).useCallback((function(e){e&&i((function(n){n||l.measureRender(d.default.PROSEMIRROR_RENDERED,(function(e,t){r&&r.dispatch&&r.dispatch(E.analyticsEventKey,{payload:{action:p.ACTION.PROSEMIRROR_RENDERED,actionSubject:p.ACTION_SUBJECT.EDITOR,attributes:{duration:e,startTime:t,nodes:f.getNodesCount(r.editorView.state.doc),ttfb:u.getResponseEndTime()},eventType:p.EVENT_TYPE.OPERATIONAL}})}));var r=n||y.createEditor(k(k({},t),{},{ref:e}));return c.stopMeasure(d.default.EDITOR_MOUNTED,(function(e,t){r&&r.dispatch(E.analyticsEventKey,{payload:{action:p.ACTION.EDITOR_MOUNTED,actionSubject:p.ACTION_SUBJECT.EDITOR,attributes:{duration:e,startTime:t},eventType:p.EVENT_TYPE.OPERATIONAL}})})),r}))}),[t])]}(t),r=e(a)(n,2),o=r[0],i=r[1];return function(t,n){e(s).useEffect((function(){t&&(t.editorView.setProps({dispatchTransaction:b.createDispatchTransaction(t)}),t.editorView.setProps({editable:function(e){return!n}}))}),[t,n])}(o,t.disabled),function(t){e(s).useEffect((function(){if(t){var e=t.onMount,n=t.editorActions,r=t.editorView,o=t.eventDispatcher,i=t.dispatch;n._privateRegisterEditor(r,o),e&&e(n);var a=m.getFeatureFlags(t.editorView.state),s=a?g.getEnabledFeatureFlagKeys(a):[];i(E.analyticsEventKey,{payload:{action:p.ACTION.STARTED,actionSubject:p.ACTION_SUBJECT.EDITOR,attributes:{platform:h.PLATFORMS.WEB,featureFlags:s},eventType:p.EVENT_TYPE.UI}})}return function(){if(t){var e=t.eventDispatcher,n=t.editorView,r=t.onDestroy,o=t.editorActions;if(e&&e.destroy(),r&&r(),o._privateUnregisterEditor(),n){n.setProps({dispatchTransaction:function(e){}});var i=n.state;i.plugins.forEach((function(e){var t=e.getState(i);t&&t.destroy&&t.destroy()})),n.destroy()}}}}),[t])}(o),v.useAnalyticsHandler(o),[o,i]}})),r.register("OtLXQ",(function(e,n){function r(e){return Object.keys(e).filter((function(t){return!0===e[t]}))}t(e.exports,"getEnabledFeatureFlagKeys",(function(){return r}))})),r.register("kaPbt",(function(n,o){t(n.exports,"useAnalyticsHandler",(function(){return s}));var i=r("61szk");r("cTu5S");r("4bO6W");var a=r("46vX8");function s(t){var n=e(i).useCallback((function(e){var n=t&&t.dispatchAnalyticsEvent;n&&n(e)}),[t]);t&&t.eventDispatcher.on(a.analyticsEventKey,n),e(i).useEffect((function(){return function(){t&&t.eventDispatcher&&t.eventDispatcher.off(a.analyticsEventKey,n)}}),[t,n])}})),r.register("fTB3k",(function(e,n){t(e.exports,"createDispatchTransaction",(function(){return d}));var o=r("jWbqG");r("cTu5S");var i=r("9V1f8"),a=r("hNVBR"),s=r("lGsoF"),c=r("9J8af"),l=r("3pogS"),u=r("46vX8");function d(e){return function(t){var n=e.editorView,r=e.onChange,d=e.transformer,f=e.dispatch;if(n){var p=s.findChangedNodesFromTransaction(t);if(s.validateNodes(p)){var h=n.state.apply(t);n.updateState(h),r&&t.docChanged&&r(function(e,t){return c.compose((function(n){return t&&t.encode?t.encode(o.Node.fromJSON(e.state.schema,n)):n}),c.toJSON)(e.state.doc)}(n,d),{source:"local"})}else if(f){var g=p.filter((function(e){return!s.validNode(e)})).map((function(e){return l.getDocStructure(e)}));!function(e,t){e(u.analyticsEventKey,t)}(f,{action:i.ACTION.DISPATCHED_INVALID_TRANSACTION,actionSubject:i.ACTION_SUBJECT.EDITOR,eventType:i.EVENT_TYPE.OPERATIONAL,attributes:{analyticsEventPayloads:a.getAnalyticsEventsFromTransaction(t),invalidNodes:g}})}}}}})),r.register("2qaOA",(function(e,n){t(e.exports,"createEditor",(function(){return u}));var o=r("9MUi0"),i=r("eBSbE"),a=r("8PQwY"),s=r("8MERi");r("9J8af");var c=r("l9fpM"),l=r("bEtus");function u(e){var t=e.context,n=e.onAnalyticsEvent,r=e.transformer,u=e.providerFactory,d=e.plugins,f=e.portalProviderAPI,p=e.defaultValue,h=e.ref,g=e.popupsMountPoint,m=e.popupsBoundariesElement,v=e.popupsScrollableElement,b=e.editorActions,y=e.disabled,E=e.onChange,x=e.onDestroy,k=e.onMount,C=e.featureFlags;if(!h)return null;var S=new a.EventDispatcher,T=a.createDispatch(S),O=s.processPluginsList(d||[]),w=l.createSchema(O),N=r&&r(w),P=s.createPMPlugins({editorConfig:O,schema:w,dispatch:T,eventDispatcher:S,portalProviderAPI:f,providerFactory:u,reactContext:function(){return t},dispatchAnalyticsEvent:n,performanceTracking:{},featureFlags:C}),A=i.EditorState.create({schema:w,plugins:P,doc:N?N.parse(p):c.processRawValue(w,p)});return{editorView:new o.EditorView({mount:h},{state:A,attributes:{"data-gramm":"false"},dispatchTransaction:function(){},editable:function(e){return!!y}}),transformer:N,dispatchAnalyticsEvent:n,eventDispatcher:S,dispatch:T,primaryToolbarComponents:O.primaryToolbarComponents,contentComponents:O.contentComponents,popupsMountPoint:g,popupsBoundariesElement:m,popupsScrollableElement:v,providerFactory:u,editorActions:b,onChange:E,onDestroy:x,onMount:k}}})),r.register("8MERi",(function(n,o){t(n.exports,"fixExcludes",(function(){return l})),t(n.exports,"processPluginsList",(function(){return u})),t(n.exports,"createPMPlugins",(function(){return f})),t(n.exports,"createErrorReporter",(function(){return p}));var i=r("fw3Q6");r("igW5C");var a=r("9ztLe"),s=r("h2VUF"),c=r("cWjsf");function l(e){var t=Object.keys(e),n=new Set(t.map((function(t){return e[t].group})));return t.forEach((function(t){var r=e[t];r.excludes&&(r.excludes=r.excludes.split(" ").filter((function(e){return n.has(e)})).join(" "))})),e}function u(t){var n=t.reduce((function(e,t){return t.pluginsOptions&&Object.keys(t.pluginsOptions).forEach((function(n){e[n]||(e[n]=[]),e[n].push(t.pluginsOptions[n])})),e}),{});return t.reduce((function(t,r){var o,a,s;r.pmPlugins&&(o=t.pmPlugins).push.apply(o,e(i)(r.pmPlugins(r.name?n[r.name]:void 0)));r.nodes&&(a=t.nodes).push.apply(a,e(i)(r.nodes()));r.marks&&(s=t.marks).push.apply(s,e(i)(r.marks()));return r.contentComponent&&t.contentComponents.push(r.contentComponent),r.primaryToolbarComponent&&t.primaryToolbarComponents.push(r.primaryToolbarComponent),r.secondaryToolbarComponent&&t.secondaryToolbarComponents.push(r.secondaryToolbarComponent),r.onEditorViewStateUpdated&&t.onEditorViewStateUpdatedCallbacks.push({pluginName:r.name,callback:r.onEditorViewStateUpdated}),t}),{nodes:[],marks:[],pmPlugins:[],contentComponents:[],primaryToolbarComponents:[],secondaryToolbarComponents:[],onEditorViewStateUpdatedCallbacks:[]})}var d={enabled:!1};function f(e){var t=e.editorConfig,n=e.performanceTracking,r=void 0===n?{}:n,o=e.transactionTracker,i=r.uiTracking,a=void 0===i?d:i,l=r.transactionTracking,u=void 0===l?d:l,f=a.enabled||u.enabled?function(e){return c.InstrumentedPlugin.fromPlugin(e,{uiTracking:a,transactionTracking:u},o)}:function(e){return e};return t.pmPlugins.sort(s.sortByOrder("plugins")).map((function(t){return(0,t.plugin)({schema:e.schema,dispatch:e.dispatch,eventDispatcher:e.eventDispatcher,providerFactory:e.providerFactory,errorReporter:e.errorReporter,portalProviderAPI:e.portalProviderAPI,reactContext:e.reactContext,dispatchAnalyticsEvent:e.dispatchAnalyticsEvent,featureFlags:e.featureFlags||{}})})).filter((function(e){return void 0!==e})).map(f)}function p(e){var t=new a.default;return e&&(t.handler=e),t}})),r.register("h2VUF",(function(e,n){t(e.exports,"sortByOrder",(function(){return i}));var o=r("3XUTW");function i(e){return function(t,n){return o.default[e].indexOf(t.name)-o.default[e].indexOf(n.name)}}})),r.register("3XUTW",(function(e,n){t(e.exports,"default",(function(){return r}));var r={plugins:["featureFlagsContextPlugin","compositionPlugin","inlineCursorTargetPlugin","focusHandlerPlugin","frozenEditor","submitEditor","saveOnEnter","customAutoformatting","newlinePreserveMarksPlugin","imageUpload","imageUploadInputRule","clipboard","paste","pasteKeymap","mention","mentionInputRule","mentionKeymap","emoji","placeholderText","emojiInputRule","emojiKeymap","emojiAsciiInputRule","blockType","quickInsert","tasksAndDecisions","blockTypeInputRule","tasksAndDecisionsInputRule","list","typeAhead","typeAheadKeymap","typeAheadInputRule","date","dateKeymap","indentationKeymap","textColor","alignmentPlugin","listInputRule","listKeymap","codeBlock","codeBlockIDEKeyBindings","codeBlockKeyMap","textFormatting","textFormattingCursor","textFormattingInputRule","textFormattingSmartRule","textFormattingClear","textFormattingKeymap","tasksAndDecisionsKeyMap","expandKeymap","tableSelectionKeymap","tableKeymap","captionKeymap","selectionKeymap","gapCursorKeymap","gapCursor","syncUrlText","fakeCursorToolbarPlugin","hyperLink","table","tableDecorations","hyperlinkInputRule","tablePMColResizing","hyperlinkKeymap","tableColResizing","undoRedoKeyMap","blockTypeKeyMap","tableEditing","filterStepsPlugin","pmCollab","collab","ruleInputRule","ruleKeymap","panel","media","mediaKeymap","mediaSingleKeymap","mediaEditor","unsupportedContent","jiraIssue","fakeTextCursor","helpDialog","helpDialogKeymap","macro","expand","extension","layout","contextPanel","floatingToolbar","clearMarksOnChange","reactNodeView","history","undoRedoPlugin","codeBlockIndent","placeholder","width","maxContentSize","multilineContent","grid","mobileScroll","scrollGutterPlugin","analytics","findReplace","selection","avatarGroup"],nodes:["doc","paragraph","text","bulletList","orderedList","listItem","heading","blockquote","codeBlock","rule","panel","mention","confluenceUnsupportedBlock","confluenceUnsupportedInline","unsupportedBlock","unsupportedInline","confluenceJiraIssue","hardBreak","emoji","placeholder","mediaSingle","mediaGroup","table","expand","nestedExpand","media","tableHeader","decisionList","tableRow","decisionItem","tableCell","taskList","taskItem","extension","bodiedExtension","inlineExtension","layoutSection","layoutColumn","inlineCard","blockCard","embedCard"],marks:["link","em","strong","textColor","strike","subsup","underline","code","typeAheadQuery","alignment","breakout","indentation","annotation","unsupportedMark","unsupportedNodeAttribute"]}})),r.register("cWjsf",(function(n,o){t(n.exports,"InstrumentedPlugin",(function(){return h}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("eBSbE");r("igW5C");var f=r("6qQ9w");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var h=function(t){e(c)(r,t);var n=p(r);function r(t){var o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2?arguments[2]:void 0;e(i)(this,r);var l=a.transactionTracking,u=void 0===l?{enabled:!1}:l,d=a.uiTracking,p=void 0===d?{enabled:!1}:d;if(u.enabled&&t.state&&c){var h=t.state.apply.bind(t.state);t.state.apply=function(t,n,r,i){if(!c.shouldTrackTransaction(u))return h(t,n,r,i);var a=c.getMeasureHelpers(u),l=a.startMeasure,d=a.stopMeasure,f=e(s)(o),p="\ud83e\udd89".concat(f.key,"::apply");l(p);var g=h(t,n,r,i);return d(p),g}}if(p.enabled&&t.view){var g=t.view.bind(t);t.view=function(t){var n=e(s)(o),r="\ud83e\udd89".concat(n.key,"::view::update"),i=g(t);if(i.update){var a=i.update;i.update=function(e,t){f.startMeasure(r),a(e,t),f.stopMeasure(r,(function(){}))}}return i}}return o=n.call(this,t)}return e(a)(r,null,[{key:"fromPlugin",value:function(e,t,n){return new r(e.spec,t,n)}}]),r}(d.Plugin)})),r.register("bEtus",(function(e,n){t(e.exports,"createSchema",(function(){return c}));var o=r("h2VUF"),i=r("jWbqG"),a=r("ekJGA"),s=r("8MERi");function c(e){var t=s.fixExcludes(e.marks.sort(o.sortByOrder("marks")).reduce((function(e,t){return e[t.name]=t.mark,e}),{})),n=a.sanitizeNodes(e.nodes.sort(o.sortByOrder("nodes")).reduce((function(e,t){return e[t.name]=t.node,e}),{}),t);return new i.Schema({nodes:n,marks:t})}})),r.register("4QxYE",(function(n,o){t(n.exports,"EditorContentProvider",(function(){return s}));var i=r("61szk"),a=e(i).createContext((function(){})),s=a.Provider})),r.register("g4Uee",(function(n,o){t(n.exports,"PresetProvider",(function(){return s})),t(n.exports,"usePresetContext",(function(){return c}));var i=r("61szk"),a=e(i).createContext([]),s=a.Provider,c=function(){return e(i).useContext(a)}})),r.register("ecag0",(function(n,o){t(n.exports,"Preset",(function(){return c}));var i=r("h67q9"),a=r("go2dD"),s=r("4NDMl"),c=function(){function t(){e(a)(this,t),this.plugins=[]}return e(s)(t,[{key:"add",value:function(e){return this.plugins.push(e),this}},{key:"has",value:function(e){return this.plugins.some((function(t){return Array.isArray(t)?t[0]===e:t===e}))}},{key:"getEditorPlugins",value:function(e){var t=this.processEditorPlugins();return this.removeExcludedPlugins(t,e)}},{key:"processEditorPlugins",value:function(){var t=new Map;this.plugins.forEach((function(n){if(Array.isArray(n)){var r=e(i)(n,2),o=r[0],a=r[1];t.set(o,a)}else{if(t.has(n)&&void 0===t.get(n))throw new Error("".concat(n," is already included!"));t.set(n,void 0)}}));var n=[];return t.forEach((function(e,t){n.push(t(e))})),n}},{key:"removeExcludedPlugins",value:function(e,t){return t?e.filter((function(e){return!e||!t.has(e.name)})):e}}]),t}()})),r.register("fe46j",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("koLzf"),i=function(){return{name:"clipboard",pmPlugins:function(){return[{name:"clipboard",plugin:function(e){return o.createPlugin(e)}}]}}}})),r.register("koLzf",(function(n,o){t(n.exports,"createPlugin",(function(){return u}));var i=r("fw3Q6"),a=r("eBSbE"),s=r("icjBA"),c=r("cD9Ho"),l=r("9V1f8"),u=function(e){var t=e.dispatchAnalyticsEvent;return new a.Plugin({key:s.clipboardPluginKey,props:{handleDOMEvents:{cut:function(e){return d(e,t,l.ACTION.CUT)},copy:function(e){return d(e,t,l.ACTION.COPIED)}}}})},d=function(e,t,n){var r=f(e.state,n);return r&&t(r),!1},f=function(t,n){var r=t.selection,o=t.doc,s=c.getNodeSelectionAnalyticsPayload(r)||c.getRangeSelectionAnalyticsPayload(r,o)||c.getAllSelectionAnalyticsPayload(r)||c.getCellSelectionAnalyticsPayload(t);if(s){var u=[];switch(s.actionSubjectId){case l.ACTION_SUBJECT_ID.NODE:u.push(s.attributes.node);break;case l.ACTION_SUBJECT_ID.RANGE:u.push.apply(u,e(i)(s.attributes.nodes));break;case l.ACTION_SUBJECT_ID.ALL:u.push("all");break;case l.ACTION_SUBJECT_ID.CELL:var d=s.attributes.selectedCells;u.push.apply(u,e(i)(Array(d).fill("tableCell")))}return{eventType:l.EVENT_TYPE.TRACK,action:n,actionSubject:l.ACTION_SUBJECT.DOCUMENT,attributes:{content:u}}}if(r instanceof a.TextSelection&&r.$cursor)return{eventType:l.EVENT_TYPE.TRACK,action:n,actionSubject:l.ACTION_SUBJECT.DOCUMENT,attributes:{content:["caret"]}}}})),r.register("icjBA",(function(e,n){t(e.exports,"clipboardPluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("clipboardPlugin")})),r.register("1RpqH",(function(e,n){t(e.exports,"default",(function(){return g}));var o=r("eBSbE"),i=r("9MUi0"),a=r("l9fpM"),s=r("9vnxb"),c=r("68CY3"),l=r("isefA"),u=new o.PluginKey("placeholderPlugin");function d(e,t){return{hasPlaceholder:!0,placeholderText:e,pos:t||1}}var f={hasPlaceholder:!1};function p(e,t,n,r){var o=l.focusStateKey.getState(e);if(n&&a.isEmptyDocument(e.doc))return d(n);var i=t();return i&&a.isInEmptyLine(e)&&o?d(i,e.selection.$from.pos):r&&a.bracketTyped(e)&&o?d("  "+r,e.selection.$from.pos-1):f}function h(e,t,n){if(e||t||n){var r=function(e){var t=0;return function(){if(e&&0!==e.length){var n=e.length,r=e[t++];return t%=n,r}}}(t);return new o.Plugin({key:u,state:{init:function(t,o){return p(o,r,e,n)},apply:function(t,o,i,a){var s=t.getMeta(u);if(s){if(s.removePlaceholder)return f;if(s.applyPlaceholderIfEmpty)return p(a,r,e,n)}return p(a,r,e,n)}},props:{decorations:function(e){var t=function(e){return u.getState(e)}(e),n=t.hasPlaceholder,r=t.placeholderText,o=t.pos;if(n&&r&&void 0!==o)return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=document.createElement("span"),o=c.placeHolderClassName,a=s.pluginKey.getState(e);a&&"end"===a.align?o+=" align-end":a&&"center"===a.align&&(o+=" align-center"),r.className=o;var l=document.createElement("span");return l.textContent=t,r.appendChild(l),i.DecorationSet.create(e.doc,[i.Decoration.widget(n,r,{side:-1,key:"placeholder"})])}(e,r,o)}}})}}var g=function(e){return{name:"placeholder",pmPlugins:function(){return[{name:"placeholder",plugin:function(){return h(e&&e.placeholder,e&&e.placeholderHints,e&&e.placeholderBracketHint)}}]}}}})),r.register("68CY3",(function(n,o){t(n.exports,"placeHolderClassName",(function(){return l})),t(n.exports,"placeholderStyles",(function(){return u}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("cufhv"),l="placeholder-decoration",u=s.css(i||(i=e(a)(["\n  .ProseMirror ."," {\n    position: relative;\n    color: ",";\n    width: 100%;\n\n    pointer-events: none;\n    display: block;\n    user-select: none;\n\n    > span {\n      position: absolute;\n      pointer-events: none;\n    }\n\n    &.align-end > span {\n      right: 0;\n    }\n\n    &.align-center > span {\n      left: 0;\n    }\n  }\n"])),l,c.N200)})),r.register("5Nkb4",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("a9YDQ"),i=r("h7JC1"),a=r("6FRwa"),s=r("Jj7Ks"),c=function(e){return{name:"selection",pmPlugins:function(){return[{name:"selection",plugin:function(t){var n=t.dispatch,r=t.dispatchAnalyticsEvent;return o.createPlugin(n,r,e)}},{name:"selectionKeymap",plugin:i.default},{name:"gapCursorKeymap",plugin:function(){return s.default()}},{name:"gapCursor",plugin:function(){return a.default}}]}}}})),r.register("a9YDQ",(function(e,n){t(e.exports,"createPlugin",(function(){return d}));var o=r("eBSbE");r("igW5C");var i=r("4W5Y2"),a=r("cRHRu"),s=r("6Ms1b"),c=r("cD9Ho"),l=r("IZpnz"),u=function(e){return{decorationSet:c.getDecorations(e.tr),selection:e.selection}},d=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new o.Plugin({key:s.selectionPluginKey,state:a.createPluginState(e,u),view:function(){return{update:function(e,n){var r=e.state;if(c.shouldRecalcDecorations({oldEditorState:n,newEditorState:r})){var o=c.getNodeSelectionAnalyticsPayload(r.selection)||c.getAllSelectionAnalyticsPayload(r.selection)||!e.mouseDown&&(c.getRangeSelectionAnalyticsPayload(r.selection,r.doc)||c.getCellSelectionAnalyticsPayload(r));o&&t(o)}}}},appendTransaction:function(e,t,n){if(c.shouldRecalcDecorations({oldEditorState:t,newEditorState:n})){var r=n.tr;return r.setMeta(s.selectionPluginKey,{type:l.SelectionActionTypes.SET_DECORATIONS,selection:r.selection,decorationSet:c.getDecorations(r)}),r}},filterTransaction:function(e,t){return!(n.useLongPressSelection&&e.selectionSet&&e.selection instanceof o.NodeSelection&&!e.getMeta(s.selectionPluginKey))&&!(t.selection instanceof o.NodeSelection&&e.selection instanceof o.TextSelection&&t.selection.from===e.selection.from&&t.selection.to===e.selection.to)},props:{decorations:function(e){return a.getPluginState(e).decorationSet},handleDOMEvents:{mouseup:function(e,n){if(!n.shiftKey){var r=c.getRangeSelectionAnalyticsPayload(e.state.selection,e.state.doc)||c.getCellSelectionAnalyticsPayload(e.state);r&&t(r)}return!1},keydown:function(e,t){if(i.default.gecko){var n=e.nodeDOM(e.state.selection.head);n instanceof HTMLElement&&"false"===n.getAttribute("contenteditable")&&(n.removeAttribute("contenteditable"),requestAnimationFrame((function(){n.setAttribute("contenteditable","false")})))}return!1}}}})}})),r.register("h7JC1",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("6mFHM"),i=r("7uC1r"),a=r("ls4oX");var s=function(){var e={};return i.bindKeymapWithCommand(i.moveRight.common,a.arrowRight,e),i.bindKeymapWithCommand(i.moveLeft.common,a.arrowLeft,e),o.keymap(e)}})),r.register("6FRwa",(function(e,n){t(e.exports,"default",(function(){return g}));var o=r("eBSbE"),i=r("9MUi0"),a=r("iFBc4"),s=r("bKnyF"),c=r("d9SyS"),l=r("1wUBP"),u=r("b0Be6"),d=r("5HOYY"),f=r("YdbsB"),p=r("2KIlg"),h=r("2dCL5"),g=new o.Plugin({key:h.gapCursorPluginKey,state:{init:function(){return!1},apply:function(e,t,n,r){return r.selection instanceof l.GapCursorSelection}},view:function(e){return 0===e.state.selection.anchor&&e.state.selection instanceof o.NodeSelection&&window.requestAnimationFrame((function(){e.dispatch(e.state.tr.setSelection(new l.GapCursorSelection(e.state.doc.resolve(0),l.Side.LEFT)))})),{update:function(e,t){var n=h.gapCursorPluginKey.getState(t);e.dom.classList.toggle(c.hideCaretModifier,n)}}},props:{decorations:function(e){var t=e.doc,n=e.selection;if(n instanceof l.GapCursorSelection){var r=n.$from,o=n.side,s=n.head,c=o===l.Side.RIGHT;if(c&&r.nodeBefore){var f=a.findPositionOfNodeBefore(n);"number"==typeof f&&(s=f)}var p=c?r.nodeBefore:r.nodeAfter,h=p&&u.getBreakoutModeFromTargetNode(p);return i.DecorationSet.create(t,[i.Decoration.widget(s,d.toDOM,{key:"".concat(l.JSON_ID,"-").concat(o,"-").concat(h),side:h?-1:0})])}return null},createSelectionBetween:function(e,t,n){if(!(e&&e.state&&e.state.selection instanceof s.CellSelection))return t.pos===n.pos&&l.GapCursorSelection.valid(n)?new l.GapCursorSelection(n):void 0},handleClick:function(e,t,n){var r=e.posAtCoords({left:n.clientX,top:n.clientY});if(r&&r.inside!==t&&!u.isIgnoredClick(n.target)){var o=n.offsetX>20?l.Side.RIGHT:l.Side.LEFT;return f.setGapCursorAtPos(t,o)(e.state,e.dispatch)}return!1},handleDOMEvents:{beforeinput:function(e,t){return"deleteContentBackward"===t.inputType&&e.state.selection instanceof l.GapCursorSelection&&(t.preventDefault(),f.deleteNode(p.Direction.BACKWARD)(e.state,e.dispatch))}}}})})),r.register("d9SyS",(function(n,o){t(n.exports,"hideCaretModifier",(function(){return c})),t(n.exports,"gapCursorStyles",(function(){return p}));var i,a=r("lhkMJ"),s=r("SssiD").keyframes(i||(i=e(a)(["\n  from, to {\n    opacity: 0;\n  }\n  50% {\n    opacity: 1;\n  }\n"]))),c="ProseMirror-hide-gapcursor",l=".ProseMirror-gapcursor",u=".ProseMirror-widget",d='[layout="wrap-left"]',f='[layout="wrap-right"]',p="\n  /* =============== GAP CURSOR ================== */\n  .ProseMirror {\n    &.".concat(c," {\n      caret-color: transparent;\n    }\n\n    ").concat(l," {\n      display: none;\n      pointer-events: none;\n      position: relative;\n\n      & span {\n        caret-color: transparent;\n        position: absolute;\n        height: 100%;\n        width: 100%;\n        display: block;\n      }\n\n      & span::after {\n        animation: 1s ").concat(s," step-end infinite;\n        border-left: 1px solid;\n        content: '';\n        display: block;\n        position: absolute;\n        top: 0;\n        height: 100%;\n      }\n      &.-left span::after {\n        left: -3px;\n      }\n      &.-right span::after {\n        right: -3px;\n      }\n      & span[layout='full-width'],\n      & span[layout='wide'] {\n        margin-left: 50%;\n        transform: translateX(-50%);\n      }\n      &").concat(f," {\n        float: right;\n      }\n\n      /* fix vertical alighment of gap cursor */\n      &:first-child + ul,\n      &:first-child + span + ul,\n      &:first-child + ol,\n      &:first-child + span + ol,\n      &:first-child + pre,\n      &:first-child + span + pre,\n      &:first-child + blockquote,\n      &:first-child + span + blockquote {\n        margin-top: 0;\n      }\n    }\n    &.ProseMirror-focused ").concat(l," {\n      display: block;\n      border-color: transparent;\n    }\n  }\n\n  /* This hack below is for two images aligned side by side */\n  ").concat(l).concat(d," + span + ").concat(d,",\n  ").concat(l).concat(f," + span + ").concat(f,",\n  ").concat(l," + ").concat(d," + ").concat(f,",\n  ").concat(l," + ").concat(d," + span + ").concat(f,",\n  ").concat(l," + ").concat(f," + ").concat(d,",\n  ").concat(l," + ").concat(f," + span + ").concat(d,",\n  ").concat(d," + ").concat(l," + ").concat(f,",\n  ").concat(d," + ").concat(l," + span ").concat(f,",\n  ").concat(f," + ").concat(l," + ").concat(d,",\n  ").concat(f," + ").concat(l," + span + ").concat(d,",\n  ").concat(d," + ").concat(l," {\n    clear: none;\n  }\n\n  ").concat(d," + ").concat(l," + ").concat(f," > div,\n  ").concat(d," + ").concat(l," + span + ").concat(f," > div,\n  ").concat(f," + ").concat(l," + ").concat(d," > div,\n  ").concat(f," + ").concat(l," + span + ").concat(d," > div,\n  ").concat(l," + ").concat(f," + ").concat(d," > div,\n  ").concat(l," + ").concat(f," + span + ").concat(d," > div,\n  ").concat(l," + ").concat(d," + ").concat(f," > div,\n  ").concat(l," + ").concat(d," + span + ").concat(f," > div {\n    margin-right: 0;\n    margin-left: 0;\n    margin-bottom: 0;\n  }\n\n  ").concat(d," + ").concat(l,",\n  ").concat(f," + ").concat(l," {\n    float: left;\n  }\n\n  ").concat(l," + ").concat(d," + span + ").concat(f,"::after,\n  ").concat(l," + ").concat(f," + span + ").concat(d,"::after,\n  ").concat(d," + ").concat(l," + ").concat(f,"::after,\n  ").concat(d," + ").concat(l," + span + ").concat(f,"::after,\n  ").concat(f," + ").concat(l," + ").concat(d,"::after,\n  ").concat(f," + ").concat(l," + span + ").concat(d,"::after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: ' ';\n    clear: both;\n    height: 0;\n  }\n\n  ").concat(d," + ").concat(l," + ").concat(f," + *,\n  ").concat(d," + ").concat(l," + ").concat(f," + span + *,\n  ").concat(f," + ").concat(l," + ").concat(d," + *,\n  ").concat(f," + ").concat(l," + ").concat(d," + span + *,\n  ").concat(d," + ").concat(l," + span + ").concat(f," + *,\n  ").concat(f," + ").concat(l," + span + ").concat(d," + *,\n  ").concat(l," + ").concat(d," + span + ").concat(f," + *,\n  ").concat(l," + ").concat(f," + span + ").concat(d," + *,\n  ").concat(d," + ").concat(l," + ").concat(f," + * > *,\n  ").concat(d," + ").concat(l," + ").concat(f," + span + * > *,\n  ").concat(f," + ").concat(l," + ").concat(d," + * > *,\n  ").concat(f," + ").concat(l," + ").concat(d," + span + * > *,\n  ").concat(d," + ").concat(l," + span + ").concat(f," + * > *,\n  ").concat(f," + ").concat(l," + span + ").concat(d," + * > *,\n  ").concat(l," + ").concat(d," + span + ").concat(f," + * > *,\n  ").concat(l," + ").concat(f," + span + ").concat(d," + * > *,\n  ").concat(u," + ").concat(l," + *,\n  ").concat(u," + ").concat(l," + span + * {\n    margin-top: 0;\n  }\n")})),r.register("5HOYY",(function(n,o){t(n.exports,"toDOM",(function(){return u}));var i=r("kx07m"),a=r("b0Be6"),s=r("1wUBP"),c={"tableView-content-wrap":"table","mediaSingleView-content-wrap":".rich-media-item"},l=function(t,n){var r=e(i)(n),o=r[0],a=r.slice(1),s=[t.getPropertyValue(o)];"content-box"===t.getPropertyValue("box-sizing")&&a.forEach((function(e){s.push(t.getPropertyValue(e))}));for(var c=0,l=0;l<s.length;l++)c+=parseFloat(s[l]);return c},u=function(e,t){var n=e.state.selection,r=n.$from,o=n.side===s.Side.RIGHT,i=o?r.nodeBefore:r.nodeAfter,u=t(),d=e.nodeDOM(u),f=document.createElement("span");if(f.className="ProseMirror-gapcursor ".concat(o?"-right":"-left"),f.appendChild(document.createElement("span")),d instanceof HTMLElement&&f.firstChild){var p=function(e){var t=Object.keys(c).find((function(t){return e.classList.contains(t)})),n=t&&c[t];if(n){var r=e.querySelector(n);if(r)return window.getComputedStyle(r)}}(d)||window.getComputedStyle(d),h=f.firstChild;h.style.height="".concat(function(e){return l(e,["height","padding-top","padding-bottom","border-top-width","border-bottom-width"])}(p),"px"),(0!==u||i&&"table"===i.type.name)&&(h.style.marginTop=p.getPropertyValue("margin-top"));var g=i&&a.getBreakoutModeFromTargetNode(i);g?(h.setAttribute("layout",g),h.style.width="".concat(function(e){return l(e,["width","padding-left","padding-right","border-left-width","border-right-width"])}(p),"px")):function(e,t,n){if(a.isLeftCursor(n))e.style.marginLeft=t.getPropertyValue("margin-left");else{var r=parseFloat(t.getPropertyValue("margin-right"));r>0?e.style.marginLeft="-".concat(Math.abs(r),"px"):e.style.paddingRight="".concat(Math.abs(r),"px")}}(h,p,n.side)}return f}})),r.register("kx07m",(function(e,t){var n=r("4MoKs"),o=r("59rBV"),i=r("PHdCJ"),a=r("g8iru");e.exports=function(e){return n(e)||o(e)||i(e)||a()},e.exports.default=e.exports,e.exports.__esModule=!0})),r.register("Jj7Ks",(function(e,n){t(e.exports,"default",(function(){return u}));var o=r("6mFHM"),i=r("7uC1r"),a=r("YdbsB"),s=r("2KIlg"),c=r("1wUBP"),l=r("l5dFf");function u(){var e={};return i.bindKeymapWithCommand(i.insertNewLine.common,(function(e,t,n){return!!(e.selection instanceof c.GapCursorSelection)&&l.createParagraphNear(e,t)}),e),i.bindKeymapWithCommand(i.moveLeft.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return a.arrow(s.Direction.LEFT,r)(e,t,n)}),e),i.bindKeymapWithCommand(i.moveRight.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return a.arrow(s.Direction.RIGHT,r)(e,t)}),e),i.bindKeymapWithCommand(i.moveUp.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return a.arrow(s.Direction.UP,r)(e,t)}),e),i.bindKeymapWithCommand(i.moveDown.common,(function(e,t,n){var r=n?n.endOfTextblock.bind(n):void 0;return a.arrow(s.Direction.DOWN,r)(e,t)}),e),i.bindKeymapWithCommand(i.backspace.common,a.deleteNode(s.Direction.BACKWARD),e),i.bindKeymapWithCommand(i.deleteKey.common,a.deleteNode(s.Direction.FORWARD),e),o.keymap(e)}})),r.register("gYRps",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("61szk"),a=r("ekJGA"),s=r("3ZHGH"),c=r("5e0KI"),l=r("ekCHh"),u=r("hkbrt");r("cTu5S");var d=r("hNVBR"),f=r("9V1f8"),p=r("iIrvw"),h=r("cZJAh"),g=r("4ldYS"),m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{name:"codeBlock",nodes:function(){return[{name:"codeBlock",node:a.codeBlock}]},pmPlugins:function(){return[{name:"codeBlock",plugin:function(e){var n=e.reactContext;return s.createPlugin({useLongPressSelection:t.useLongPressSelection,reactContext:n})}},{name:"codeBlockIDEKeyBindings",plugin:function(){return u.default}},{name:"codeBlockKeyMap",plugin:function(e){var t=e.schema;return l.default(t)}}]},onEditorViewStateUpdated:function(e){g.default(e.originalTransaction,e.newEditorState)},pluginsOptions:{quickInsert:function(t){var n=t.formatMessage;return[{id:"codeblock",title:n(h.messages.codeblock),description:n(h.messages.codeblockDescription),keywords:["code block"],priority:700,keyshortcut:"```",icon:function(){return e(i).createElement(p.IconCode,null)},action:function(e,t){var n=e(t.schema.nodes.codeBlock.createChecked());return d.addAnalytics(t,n,{action:f.ACTION.INSERTED,actionSubject:f.ACTION_SUBJECT.DOCUMENT,actionSubjectId:f.ACTION_SUBJECT_ID.CODE_BLOCK,attributes:{inputMethod:f.INPUT_METHOD.QUICK_INSERT},eventType:f.EVENT_TYPE.TRACK})}}]},floatingToolbar:c.getToolbarConfig(t.allowCopyToClipboard)}}}})),r.register("3ZHGH",(function(n,o){t(n.exports,"createPlugin",(function(){return b}));var i=r("l15hj"),a=r("eBSbE");r("8gPA0");var s=r("3wDH5"),c=r("37EzH"),l=r("6mj8k"),u=r("cD9Ho"),d=r("8D5Wq"),f=r("dOsuX"),p=r("1Ixgv"),h=r("h78KB"),g=r("lWHVr");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?m(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b=function(e){var t=e.useLongPressSelection,n=void 0!==t&&t,r=(0,e.reactContext)().intl.formatMessage(s.codeBidiWarningMessages.label);return new a.Plugin({state:{init:function(e,t){var n=p.findCodeBlock(t,t.selection);return{pos:n?n.pos:null,contentCopied:!1,isNodeSelected:!1}},apply:function(e,t,n,r){if(e.docChanged||e.selectionSet){var o=p.findCodeBlock(r,e.selection);return v(v({},t),{},{pos:o?o.pos:null,isNodeSelected:e.selection instanceof a.NodeSelection})}var i=e.getMeta(d.pluginKey);return(null==i?void 0:i.type)===f.ACTIONS.SET_COPIED_TO_CLIPBOARD?v(v({},t),{},{contentCopied:i.data}):t}},key:d.pluginKey,props:{nodeViews:{codeBlock:function(e,t,n){var o=g.getFeatureFlags(t.state);return(null!=o&&o.codeBlockSyntaxHighlighting?l.highlightingCodeBlockNodeView({codeBidiWarnings:null==o?void 0:o.codeBidiWarnings,codeBidiWarningLabel:r}):c.codeBlockNodeView())(e,t,n)}},handleClickOn:u.createSelectionClickHandler(["codeBlock"],(function(e){return!(!e.closest(".".concat(h.codeBlockClassNames.gutter))&&!e.classList.contains(h.codeBlockClassNames.content))}),{useLongPressSelection:n})}})}})),r.register("37EzH",(function(n,o){t(n.exports,"codeBlockNodeView",(function(){return p}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("hLVOy"),l=r("jWbqG"),u=r("h78KB"),d=new RegExp("\n","g"),f=function(){function t(n,r,o){var a=this;e(i)(this,t),e(s)(this,"ensureLineNumbers",c.default((function(){var e=1;for(a.node.forEach((function(t){t.text&&(e+=(t.text.match(d)||[]).length)}));a.lineNumberGutter.childElementCount<e;)a.lineNumberGutter.appendChild(document.createElement("span"));for(;a.lineNumberGutter.childElementCount>e;)a.lineNumberGutter.removeChild(a.lineNumberGutter.lastChild)})));var f,p=l.DOMSerializer.renderSpec(document,(f=n,["div",{class:"code-block"},["div",{class:u.codeBlockClassNames.gutter,contenteditable:"false"}],["div",{class:u.codeBlockClassNames.content},["code",{"data-language":f.attrs.language||"",spellcheck:"false",contenteditable:"true"},0]]])),h=p.dom,g=p.contentDOM;this.getPos=o,this.view=r,this.node=n,this.dom=h,this.contentDOM=g,this.lineNumberGutter=this.dom.querySelector(".".concat(u.codeBlockClassNames.gutter)),this.ensureLineNumbers()}return e(a)(t,[{key:"update",value:function(e){return e.type===this.node.type&&(e!==this.node&&(e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),this.node=e,this.ensureLineNumbers()),!0)}},{key:"ignoreMutation",value:function(e){return e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter}}]),t}(),p=function(){return function(e,t,n){return new f(e,t,n)}}})),r.register("h78KB",(function(e,n){t(e.exports,"codeBlockClassNames",(function(){return r}));var r={gutter:"line-number-gutter",content:"code-content",highlighting:"code-highlighting"}})),r.register("6mj8k",(function(n,o){t(n.exports,"highlightingCodeBlockNodeView",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj"),c=r("c6wVG"),l=r("jWbqG");r("agVPB");var u=r("imeKI"),d=r("h78KB"),f=r("61szk"),p=r("b0Npo"),h=".".concat(d.codeBlockClassNames.gutter),g=".".concat(d.codeBlockClassNames.highlighting),m=".".concat(d.codeBlockClassNames.content),v=[null,void 0,"none","plaintext"],b=function(){function t(n,r,o,a){var c=this;e(i)(this,t),e(s)(this,"highlighting",null),e(s)(this,"highlighter",null),e(s)(this,"measurements",[]),e(s)(this,"count",0),e(s)(this,"shouldDebounce",!1),e(s)(this,"timer",null),e(s)(this,"ensureLineNumbers",(function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.node,t=e.textContent.split("\n").length;c.lineNumberGutter.childElementCount<t;)c.lineNumberGutter.appendChild(document.createElement("span"));for(;c.lineNumberGutter.childElementCount>t;)c.lineNumberGutter.removeChild(c.lineNumberGutter.lastChild)}));var u,f=l.DOMSerializer.renderSpec(document,(u=n,["div",{class:"code-block"},["div",{class:d.codeBlockClassNames.gutter,contenteditable:"false"}],["div",{class:d.codeBlockClassNames.content,"data-debounce":"false"},["code",{"data-language":u.attrs.language||"",spellcheck:"false",contenteditable:"true"},0],["div",{class:d.codeBlockClassNames.highlighting,contenteditable:"false"}]]])),p=f.dom,g=f.contentDOM;this.codeBidiWarningOptions=a,this.getPos=o,this.view=r,this.node=n,this.dom=p,this.contentDOM=g,this.lineNumberGutter=this.dom.querySelector(h),this.ensureLineNumbers(),this.highlight(n)}return e(a)(t,[{key:"measure",value:function(e){var t=this.count%10;this.count++,this.measurements[t]=e}},{key:"highlight",value:function(){var t,n,r=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.node,i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!v.includes(o.attrs.language)){var a,s=this.dom.querySelector(g),l=this.dom.querySelector(m);if(this.timer&&clearTimeout(this.timer),this.shouldDebounce&&!i&&l)return l.setAttribute("data-debounce","true"),void(this.timer=setTimeout((function(){return r.highlight(o,!0)}),10*(null!==(a=p.percentile(this.measurements,.99))&&void 0!==a?a:100)));var d=performance.now();e(c).render(e(f).createElement(u.default,{text:o.textContent,language:o.attrs.language,showLineNumbers:!1,codeBidiWarnings:this.codeBidiWarningOptions.enabled,codeBidiWarningLabel:this.codeBidiWarningOptions.label}),s),this.measure(performance.now()-d),null==l||l.setAttribute("data-debounce","false"),this.shouldDebounce=(null!==(t=p.percentile(this.measurements,.99))&&void 0!==t?t:0)>=100||(null!==(n=p.percentile(this.measurements,.95))&&void 0!==n?n:0)>=30}}},{key:"update",value:function(e){return e.type===this.node.type&&(e.textContent!==this.node.textContent&&this.ensureLineNumbers(e),e.attrs.language!==this.node.attrs.language&&this.contentDOM.setAttribute("data-language",e.attrs.language||""),e.textContent===this.node.textContent&&e.attrs.language===this.node.attrs.language||this.highlight(e),this.node=e,!0)}},{key:"ignoreMutation",value:function(e){var t,n,r=e.target===this.lineNumberGutter||e.target.parentNode===this.lineNumberGutter,o=null!==(t=null===(n=this.highlighting)||void 0===n?void 0:n.contains(e.target))&&void 0!==t&&t,i="attributes"===e.type&&"aria-describedby"===e.attributeName;return r||o||i}}]),t}(),y=function(e){var t=e.codeBidiWarnings,n=e.codeBidiWarningLabel;return function(e,r,o){return new b(e,r,o,{enabled:t,label:n})}}})),r.register("agVPB",(function(e,n){t(e.exports,"Code",(function(){return r("jWgTb").default})),t(e.exports,"CodeBlock",(function(){return r("imeKI").default}));r("jWgTb"),r("9duCv"),r("imeKI")})),r.register("imeKI",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("61szk"),i=r("4JuWt"),a=r("iSzsV");r("4khVu");var s=r("3MYVF"),c=r("bnt3Q"),l=r("9duCv"),u=r("eMfCd"),d=r("3vF0L"),f=o.memo((function(e){var t=e.showLineNumbers,n=void 0===t||t,r=e.language,f=void 0===r?"text":r,p=e.highlight,h=void 0===p?"":p,g=e.highlightedStartText,m=void 0===g?"Highlight start":g,v=e.highlightedEndText,b=void 0===v?"Highlight end":v,y=e.testId,E=e.text,x=e.codeBidiWarnings,k=void 0===x||x,C=e.codeBidiWarningLabel,S=(E||"").split("\n").length,T=s.useGlobalTheme(),O=o.useMemo((function(){return l.getCodeBlockTheme(T,S)}),[T,S]),w=o.useMemo((function(){return l.getCodeBlockStyles(O)}),[O]),N=o.useMemo((function(){return w(m,b,n)}),[m,b,n,w]),P=c.useHighlightLines({highlight:h,testId:y}),A=P.getHighlightStyles,I=P.highlightedLines,D=o.useCallback((function(e){return A(e,I)}),[A,I]),R=o.useMemo((function(){return u.normalizeLanguage(f)}),[f]),M=E?R:"text",_=k?d.createBidiWarningRenderer(C):void 0;return i.jsx(a.default,{"data-testid":y,"data-code-lang":R,"data-ds--code--code-block":"",css:N,language:M,PreTag:"span",showLineNumbers:n,wrapLines:h.length>0||!!y,lineProps:D,useInlineStyles:!1,renderer:_},E)}));f.displayName="CodeBlock";var p=f})),r.register("iSzsV",(function(e,n){t(e.exports,"default",(function(){return a}));var o=r("2qAoO"),i=r("4l1zV"),a=o.default({loader:function(){return r("dKP49").then((function(e){return e.default||e}))},noAsyncLoadingLanguages:!0,supportedLanguages:i.default})})),r.register("2qAoO",(function(n,o){t(n.exports,"default",(function(){return m}));var i=r("9ePZF"),a=r("cNgp7"),s=r("jgze0"),c=r("go2dD"),l=r("4NDMl"),u=r("89Kz4"),d=r("eP3fJ"),f=r("9OLyr"),p=r("l15hj"),h=r("61szk"),g=r("iNStP"),m=function(t){var n=t.loader,r=t.isLanguageRegistered,o=t.registerLanguage,m=t.languageLoaders,v=t.noAsyncLoadingLanguages,b=function(t){function r(){return e(c)(this,r),e(u)(this,e(d)(r).apply(this,arguments))}var p;return e(f)(r,t),e(l)(r,[{key:"componentDidUpdate",value:function(){!r.isRegistered(this.props.language)&&m&&this.loadLanguage()}},{key:"componentDidMount",value:function(){var e=this;r.astGeneratorPromise||r.loadAstGenerator(),r.astGenerator||r.astGeneratorPromise.then((function(){e.forceUpdate()})),!r.isRegistered(this.props.language)&&m&&this.loadLanguage()}},{key:"loadLanguage",value:function(){var e=this,t=this.props.language;"text"!==t&&r.loadLanguage(t).then((function(){return e.forceUpdate()})).catch((function(){}))}},{key:"normalizeLanguage",value:function(e){return r.isSupportedLanguage(e)?e:"text"}},{key:"render",value:function(){return e(h).createElement(r.highlightInstance,e(s)({},this.props,{language:this.normalizeLanguage(this.props.language),astGenerator:r.astGenerator}))}}],[{key:"preload",value:function(){return r.loadAstGenerator()}},{key:"loadLanguage",value:(p=e(a)(e(i).mark((function t(n){var o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"!=typeof(o=m[n])){e.next=5;break}return e.abrupt("return",o(r.registerLanguage));case 5:throw new Error("Language ".concat(n," not supported"));case 6:case"end":return e.stop()}}),t,this)}))),function(e){return p.apply(this,arguments)})},{key:"isSupportedLanguage",value:function(e){return r.isRegistered(e)||"function"==typeof m[e]}},{key:"loadAstGenerator",value:function(){return r.astGeneratorPromise=n().then((function(e){r.astGenerator=e,o&&r.languages.forEach((function(t,n){return o(e,n,t)}))})),r.astGeneratorPromise}}]),r}(e(h).PureComponent);return e(p)(b,"astGenerator",null),e(p)(b,"highlightInstance",g.default(null,{})),e(p)(b,"astGeneratorPromise",null),e(p)(b,"languages",new Map),e(p)(b,"supportedLanguages",t.supportedLanguages||Object.keys(m||{})),e(p)(b,"isRegistered",(function(e){if(v)return!0;if(!o)throw new Error("Current syntax highlighter doesn't support registration of languages");return b.astGenerator?r(b.astGenerator,e):b.languages.has(e)})),e(p)(b,"registerLanguage",(function(e,t){if(!o)throw new Error("Current syntax highlighter doesn't support registration of languages");if(b.astGenerator)return o(b.astGenerator,e,t);b.languages.set(e,t)})),b}})),r.register("iNStP",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("bRWI2"),a=r("fw3Q6"),s=r("5IFs7"),c=r("61szk"),l=r("iK1AT"),u=r("hCG2q"),d=/\n/g;function f(t){var n=t.codeString,r=t.codeStyle,o=t.containerStyle,i=void 0===o?{float:"left",paddingRight:"10px"}:o,a=t.numberStyle,s=void 0===a?{}:a,l=t.startingLineNumber;return e(c).createElement("code",{style:Object.assign({},r,i)},function(t){var n=t.lines,r=t.startingLineNumber,o=t.style;return n.map((function(t,n){var i=n+r;return e(c).createElement("span",{key:"line-".concat(n),className:"react-syntax-highlighter-line-number",style:"function"==typeof o?o(i):o},"".concat(i,"\n"))}))}({lines:n.replace(/\n$/,"").split("\n"),style:s,startingLineNumber:l}))}function p(e,t){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:t},children:[{type:"text",value:e}]}}function h(t,n,r){var o,i={display:"inline-block",minWidth:(o=r,"".concat(o.toString().length,".25em")),paddingRight:"1em",textAlign:"right",userSelect:"none"},a="function"==typeof t?t(n):t;return e(s)({},i,a)}function g(t){var n=t.children,r=t.lineNumber,o=t.lineNumberStyle,i=t.largestLineNumber,a=t.showInlineLineNumbers,c=t.lineProps,l=void 0===c?{}:c,u=t.className,d=void 0===u?[]:u,f=t.showLineNumbers,g=t.wrapLongLines,m="function"==typeof l?l(r):l;if(m.className=d,r&&a){var v=h(o,r,i);n.unshift(p(r,v))}return g&f&&(m.style=e(s)({},m.style,{display:"flex"})),{type:"element",tagName:"span",properties:m,children:n}}function m(t){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=0;o<t.length;o++){var i=t[o];if("text"===i.type)r.push(g({children:[i],className:e(a)(new Set(n))}));else if(i.children){var s=n.concat(i.properties.className);r=r.concat(m(i.children,s))}}return r}function v(e,t,n,r,o,i,a,s,c){var l,u=m(e.value),f=[],v=-1,b=0;function y(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return g({children:e,lineNumber:t,lineNumberStyle:s,largestLineNumber:a,showInlineLineNumbers:o,lineProps:n,className:i,showLineNumbers:r,wrapLongLines:c})}function E(e,t){if(r&&t&&o){var n=h(s,t,a);e.unshift(p(t,n))}return e}function x(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return t||r.length>0?y(e,n,r):E(e,n)}for(var k=function(){var e=u[b],t=e.children[0].value;if(t.match(d)){var n=t.split("\n");n.forEach((function(t,o){var a=r&&f.length+i,s={type:"text",value:"".concat(t,"\n")};if(0===o){var c=x(u.slice(v+1,b).concat(g({children:[s],className:e.properties.className})),a);f.push(c)}else if(o===n.length-1){if(u[b+1]&&u[b+1].children&&u[b+1].children[0]){var l=g({children:[{type:"text",value:"".concat(t)}],className:e.properties.className});u.splice(b+1,0,l)}else{var d=x([s],a,e.properties.className);f.push(d)}}else{var p=x([s],a,e.properties.className);f.push(p)}})),v=b}b++};b<u.length;)k();if(v!==u.length-1){var C=u.slice(v+1,u.length);if(C&&C.length){var S=x(C,r&&f.length+i);f.push(S)}}return t?f:(l=[]).concat.apply(l,f)}function b(e){var t=e.rows,n=e.stylesheet,r=e.useInlineStyles;return t.map((function(e,t){return l.default({node:e,stylesheet:n,useInlineStyles:r,key:"code-segement".concat(t)})}))}function y(e){return e&&void 0!==e.highlightAuto}function E(t,n){return function(r){var o=r.language,a=r.children,l=r.style,d=void 0===l?n:l,p=r.customStyle,h=void 0===p?{}:p,g=r.codeTagProps,m=void 0===g?{className:o?"language-".concat(o):void 0,style:e(s)({},d['code[class*="language-"]'],d['code[class*="language-'.concat(o,'"]')])}:g,E=r.useInlineStyles,x=void 0===E||E,k=r.showLineNumbers,C=void 0!==k&&k,S=r.showInlineLineNumbers,T=void 0===S||S,O=r.startingLineNumber,w=void 0===O?1:O,N=r.lineNumberContainerStyle,P=r.lineNumberStyle,A=void 0===P?{}:P,I=r.wrapLines,D=r.wrapLongLines,R=void 0!==D&&D,M=r.lineProps,_=void 0===M?{}:M,j=r.renderer,B=r.PreTag,L=void 0===B?"pre":B,F=r.CodeTag,z=void 0===F?"code":F,W=r.code,U=void 0===W?Array.isArray(a)?a[0]:a:W,H=r.astGenerator,V=e(i)(r,["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"]);H=H||t;var K=C?e(c).createElement(f,{containerStyle:N,codeStyle:m.style||{},numberStyle:A,startingLineNumber:w,codeString:U}):null,G=d.hljs||d['pre[class*="language-"]']||{backgroundColor:"#fff"},J=y(H)?"hljs":"prismjs",q=x?Object.assign({},V,{style:Object.assign({},G,h)}):Object.assign({},V,{className:V.className?"".concat(J," ").concat(V.className):J,style:Object.assign({},h)});if(!H)return e(c).createElement(L,q,K,e(c).createElement(z,m,U));(void 0===I&&j||R)&&(I=!0),j=j||b;var Y=[{type:"text",value:U}],Z=function(e){var t=e.astGenerator,n=e.language,r=e.code,o=e.defaultCodeValue;if(y(t)){var i=u.default(t,n);return"text"===n?{value:o,language:"text"}:i?t.highlight(n,r):t.highlightAuto(r)}try{return n&&"text"!==n?{value:t.highlight(r,n)}:{value:o}}catch(e){return{value:o}}}({astGenerator:H,language:o,code:U,defaultCodeValue:Y});null===Z.language&&(Z.value=Y);var X=v(Z,I,_,C,T,w,Z.value.length+w,A,R);return m.style=e(s)({},m.style,R?{whiteSpace:"pre-wrap"}:{whiteSpace:"pre"}),e(c).createElement(L,q,e(c).createElement(z,m,!T&&K,j({rows:X,stylesheet:d,useInlineStyles:x})))}}})),r.register("iK1AT",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("jgze0"),a=r("5IFs7"),s=r("61szk");var c={};function l(e){if(0===e.length||1===e.length)return e;var t,n,r=e.join(".");return c[r]||(c[r]=0===(n=(t=e).length)||1===n?t:2===n?[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])]:3===n?[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])]:n>=4?[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]:void 0),c[r]}function u(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,o=t.filter((function(e){return"token"!==e})),i=l(o);return i.reduce((function(t,n){return e(a)({},t,r[n])}),n)}function d(e){return e.join(" ")}function f(t){var n=t.node,r=t.stylesheet,o=t.style,c=void 0===o?{}:o,l=t.useInlineStyles,p=t.key,h=n.properties,g=n.type,m=n.tagName,v=n.value;if("text"===g)return v;if(m){var b,y=function(e,t){var n=0;return function(r){return n+=1,r.map((function(r,o){return f({node:r,stylesheet:e,useInlineStyles:t,key:"code-segment-".concat(n,"-").concat(o)})}))}}(r,l);if(l){var E=Object.keys(r).reduce((function(e,t){return t.split(".").forEach((function(t){e.includes(t)||e.push(t)})),e}),[]),x=h.className&&h.className.includes("token")?["token"]:[],k=h.className&&x.concat(h.className.filter((function(e){return!E.includes(e)})));b=e(a)({},h,{className:d(k)||void 0,style:u(h.className,Object.assign({},h.style,c),r)})}else b=e(a)({},h,{className:d(h.className)});var C=y(n.children);return e(s).createElement(m,e(i)({key:p},b),C)}}})),r.register("hCG2q",(function(e,n){t(e.exports,"default",(function(){return r}));var r=function(e,t){return-1!==e.listLanguages().indexOf(t)}})),r.register("4l1zV",(function(e,n){t(e.exports,"default",(function(){return r}));var r=["abap","abnf","actionscript","ada","agda","al","antlr4","apacheconf","apl","applescript","aql","arduino","arff","asciidoc","asm6502","aspnet","autohotkey","autoit","bash","basic","batch","bbcode","birb","bison","bnf","brainfuck","brightscript","bro","bsl","c","cil","clike","clojure","cmake","coffeescript","concurnas","cpp","crystal","csharp","csp","css-extras","css","cypher","d","dart","dax","dhall","diff","django","dns-zone-file","docker","ebnf","editorconfig","eiffel","ejs","elixir","elm","erb","erlang","etlua","excel-formula","factor","firestore-security-rules","flow","fortran","fsharp","ftl","gcode","gdscript","gedcom","gherkin","git","glsl","gml","go","graphql","groovy","haml","handlebars","haskell","haxe","hcl","hlsl","hpkp","hsts","http","ichigojam","icon","iecst","ignore","inform7","ini","io","j","java","javadoc","javadoclike","javascript","javastacktrace","jolie","jq","js-extras","js-templates","jsdoc","json","json5","jsonp","jsstacktrace","jsx","julia","keyman","kotlin","latex","latte","less","lilypond","liquid","lisp","livescript","llvm","lolcode","lua","makefile","markdown","markup-templating","markup","matlab","mel","mizar","mongodb","monkey","moonscript","n1ql","n4js","nand2tetris-hdl","naniscript","nasm","neon","nginx","nim","nix","nsis","objectivec","ocaml","opencl","oz","parigp","parser","pascal","pascaligo","pcaxis","peoplecode","perl","php-extras","php","phpdoc","plsql","powerquery","powershell","processing","prolog","properties","protobuf","pug","puppet","pure","purebasic","purescript","python","q","qml","qore","r","racket","reason","regex","renpy","rest","rip","roboconf","robotframework","ruby","rust","sas","sass","scala","scheme","scss","shell-session","smali","smalltalk","smarty","sml","solidity","solution-file","soy","sparql","splunk-spl","sqf","sql","stan","stylus","swift","t4-cs","t4-templating","t4-vb","tap","tcl","textile","toml","tsx","tt2","turtle","twig","typescript","typoscript","unrealscript","vala","vbnet","velocity","verilog","vhdl","vim","visual-basic","warpscript","wasm","wiki","xeora","xml-doc","xojo","xquery","yaml","yang","zig"]})),r.register("dKP49",(function(e,t){e.exports=r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("5UWBP")).then((()=>r("6yZJp")))})),r.register("bnt3Q",(function(n,o){t(n.exports,"useHighlightLines",(function(){return f}));var i=r("h67q9"),a=r("l15hj"),s=r("61szk");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u={"data-ds--code--row":""},d=function(e,t){return t?l({"data-testid":"".concat(t,"-line-").concat(e)},u):u},f=function(t){var n=t.highlight,r=void 0===n?"":n,o=t.testId,a=s.useMemo((function(){return r&&r.split(",").map((function(t){if(t.indexOf("-")>0){var n=t.split("-").map(Number).sort((function(e,t){return e-t})),r=e(i)(n,2),o=r[0],a=r[1];return Array(a+1).fill(void 0).map((function(e,t){return t})).slice(o,a+1)}return Number(t)})).reduce((function(e,t){return e.concat(t)}),[])||[]}),[r]),c=s.useCallback((function(e,t){if(!r||0===t.length)return d(e,o);if(t.includes(e)){return l(l({},{"data-ds--code--row--highlight":""}),d(e,o))}return d(e,o)}),[r,o]);return{getHighlightStyles:c,highlightedLines:a}}})),r.register("eMfCd",(function(e,n){t(e.exports,"normalizeLanguage",(function(){return a}));var o=r("6gvxN"),i=r("lzGtQ"),a=o.default((function(e){if(!e)return"";var t=i.SUPPORTED_LANGUAGES.find((function(t){return t.name===e||t.alias.includes(e)}));return t?t.value:"text"}))})),r.register("lzGtQ",(function(e,n){t(e.exports,"SUPPORTED_LANGUAGES",(function(){return r}));var r=[{name:"PHP",alias:["php","php3","php4","php5"],value:"php"},{name:"Java",alias:["java"],value:"java"},{name:"CSharp",alias:["csharp","c#"],value:"cs"},{name:"Python",alias:["python","py"],value:"python"},{name:"JavaScript",alias:["javascript","js"],value:"javascript"},{name:"Html",alias:["html"],value:"xml"},{name:"C++",alias:["c++","cpp","clike"],value:"cpp"},{name:"Ruby",alias:["ruby","rb","duby"],value:"ruby"},{name:"Objective-C",alias:["objective-c","objectivec","obj-c","objc"],value:"objectivec"},{name:"C",alias:["c"],value:"cpp"},{name:"Swift",alias:["swift"],value:"swift"},{name:"TeX",alias:["tex","latex"],value:"tex"},{name:"Shell",alias:["shell","bash","sh","ksh","zsh"],value:"shell"},{name:"Scala",alias:["scala"],value:"scala"},{name:"Go",alias:["go"],value:"go"},{name:"ActionScript",alias:["actionscript","actionscript3","as"],value:"actionscript"},{name:"ColdFusion",alias:["coldfusion"],value:"xml"},{name:"JavaFX",alias:["javafx","jfx"],value:"java"},{name:"VbNet",alias:["vbnet","vb.net","vfp","clipper","xbase"],value:"vbnet"},{name:"JSON",alias:["json"],value:"json"},{name:"MATLAB",alias:["matlab"],value:"matlab"},{name:"Groovy",alias:["groovy"],value:"groovy"},{name:"SQL",alias:["sql","postgresql","postgres","plpgsql","psql","postgresql-console","postgres-console","tsql","t-sql","mysql","sqlite"],value:"sql"},{name:"R",alias:["r"],value:"r"},{name:"Perl",alias:["perl","pl"],value:"perl"},{name:"Lua",alias:["lua"],value:"lua"},{name:"Pascal",alias:["pas","pascal","objectpascal","delphi"],value:"pascal"},{name:"XML",alias:["xml"],value:"xml"},{name:"TypeScript",alias:["typescript","ts"],value:"typescript"},{name:"CoffeeScript",alias:["coffeescript","coffee-script","coffee"],value:"coffeescript"},{name:"Haskell",alias:["haskell","hs"],value:"haskell"},{name:"Puppet",alias:["puppet"],value:"puppet"},{name:"Arduino",alias:["arduino"],value:"arduino"},{name:"Fortran",alias:["fortran"],value:"fortran"},{name:"Erlang",alias:["erlang","erl"],value:"erlang"},{name:"PowerShell",alias:["powershell","posh","ps1","psm1"],value:"powershell"},{name:"Haxe",alias:["haxe","hx","hxsl"],value:"haxe"},{name:"Elixir",alias:["elixir","ex","exs"],value:"elixir"},{name:"Verilog",alias:["verilog","v"],value:"verilog"},{name:"Rust",alias:["rust"],value:"rust"},{name:"VHDL",alias:["vhdl"],value:"vhdl"},{name:"Sass",alias:["sass"],value:"less"},{name:"OCaml",alias:["ocaml"],value:"ocaml"},{name:"Dart",alias:["dart"],value:"dart"},{name:"CSS",alias:["css"],value:"css"},{name:"reStructuredText",alias:["restructuredtext","rst","rest"],value:"rest"},{name:"Kotlin",alias:["kotlin"],value:"kotlin"},{name:"D",alias:["d"],value:"d"},{name:"Octave",alias:["octave"],value:"matlab"},{name:"QML",alias:["qbs","qml"],value:"qml"},{name:"Prolog",alias:["prolog"],value:"prolog"},{name:"FoxPro",alias:["foxpro","purebasic"],value:"purebasic"},{name:"Scheme",alias:["scheme","scm"],value:"scheme"},{name:"CUDA",alias:["cuda","cu"],value:"cpp"},{name:"Julia",alias:["julia","jl"],value:"julia"},{name:"Racket",alias:["racket","rkt"],value:"lisp"},{name:"Ada",alias:["ada","ada95","ada2005"],value:"ada"},{name:"Tcl",alias:["tcl"],value:"tcl"},{name:"Mathematica",alias:["mathematica","mma","nb"],value:"mathematica"},{name:"Autoit",alias:["autoit"],value:"autoit"},{name:"StandardML",alias:["standardmL","sml","standardml"],value:"sml"},{name:"Objective-J",alias:["objective-j","objectivej","obj-j","objj"],value:"objectivec"},{name:"Smalltalk",alias:["smalltalk","squeak","st"],value:"smalltalk"},{name:"Vala",alias:["vala","vapi"],value:"vala"},{name:"ABAP",alias:["abap"],value:"sql"},{name:"LiveScript",alias:["livescript","live-script"],value:"livescript"},{name:"XQuery",alias:["xquery","xqy","xq","xql","xqm"],value:"xquery"},{name:"PlainText",alias:["text","plaintext"],value:"text"},{name:"Yaml",alias:["yaml","yml"],value:"yaml"},{name:"GraphQL",alias:["graphql"],value:"graphql"},{name:"AppleScript",alias:["applescript"],value:"applescript"},{name:"Clojure",alias:["clojure"],value:"clojure"},{name:"Diff",alias:["diff"],value:"diff"},{name:"VisualBasic",alias:["visualbasic"],value:"visual-basic"},{name:"JSX",alias:["jsx"],value:"jsx"},{name:"TSX",alias:["tsx"],value:"tsx"},{name:"SplunkSPL",alias:["splunk-spl"],value:"splunk-spl"}]})),r.register("3vF0L",(function(n,o){t(n.exports,"createBidiWarningRenderer",(function(){return f}));var i=r("jgze0"),a=r("l15hj"),s=r("61szk"),c=r("zIeE8"),l=r("b55XE");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?u(Object(r),!0).forEach((function(n){e(a)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function f(e){return function(t){var n=t.rows,r=t.stylesheet,o=t.useInlineStyles;return n.map((function(t,n){return v({node:t,stylesheet:r,useInlineStyles:o,codeBidiWarningLabel:e,key:"code-segement".concat(n)})}))}}var p={};function h(e){if(0===e.length||1===e.length)return e;var t,n,r=e.join(".");return p[r]||(p[r]=0===(n=(t=e).length)||1===n?t:2===n?[t[0],t[1],"".concat(t[0],".").concat(t[1]),"".concat(t[1],".").concat(t[0])]:3===n?[t[0],t[1],t[2],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0])]:n>=4?[t[0],t[1],t[2],t[3],"".concat(t[0],".").concat(t[1]),"".concat(t[0],".").concat(t[2]),"".concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[0]),"".concat(t[1],".").concat(t[2]),"".concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[1]),"".concat(t[2],".").concat(t[3]),"".concat(t[3],".").concat(t[0]),"".concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[0]),"".concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[0],".").concat(t[1],".").concat(t[2],".").concat(t[3]),"".concat(t[0],".").concat(t[1],".").concat(t[3],".").concat(t[2]),"".concat(t[0],".").concat(t[2],".").concat(t[1],".").concat(t[3]),"".concat(t[0],".").concat(t[2],".").concat(t[3],".").concat(t[1]),"".concat(t[0],".").concat(t[3],".").concat(t[1],".").concat(t[2]),"".concat(t[0],".").concat(t[3],".").concat(t[2],".").concat(t[1]),"".concat(t[1],".").concat(t[0],".").concat(t[2],".").concat(t[3]),"".concat(t[1],".").concat(t[0],".").concat(t[3],".").concat(t[2]),"".concat(t[1],".").concat(t[2],".").concat(t[0],".").concat(t[3]),"".concat(t[1],".").concat(t[2],".").concat(t[3],".").concat(t[0]),"".concat(t[1],".").concat(t[3],".").concat(t[0],".").concat(t[2]),"".concat(t[1],".").concat(t[3],".").concat(t[2],".").concat(t[0]),"".concat(t[2],".").concat(t[0],".").concat(t[1],".").concat(t[3]),"".concat(t[2],".").concat(t[0],".").concat(t[3],".").concat(t[1]),"".concat(t[2],".").concat(t[1],".").concat(t[0],".").concat(t[3]),"".concat(t[2],".").concat(t[1],".").concat(t[3],".").concat(t[0]),"".concat(t[2],".").concat(t[3],".").concat(t[0],".").concat(t[1]),"".concat(t[2],".").concat(t[3],".").concat(t[1],".").concat(t[0]),"".concat(t[3],".").concat(t[0],".").concat(t[1],".").concat(t[2]),"".concat(t[3],".").concat(t[0],".").concat(t[2],".").concat(t[1]),"".concat(t[3],".").concat(t[1],".").concat(t[0],".").concat(t[2]),"".concat(t[3],".").concat(t[1],".").concat(t[2],".").concat(t[0]),"".concat(t[3],".").concat(t[2],".").concat(t[0],".").concat(t[1]),"".concat(t[3],".").concat(t[2],".").concat(t[1],".").concat(t[0])]:void 0),p[r]}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=e.filter((function(e){return"token"!==e})),o=h(r);return o.reduce((function(e,t){return d(d({},e),n[t])}),t)}function m(e){return e.join(" ")}function v(t){var n=t.node,r=t.stylesheet,o=t.style,a=void 0===o?{}:o,u=t.useInlineStyles,f=t.codeBidiWarningLabel,p=t.key,h=n.properties,b=n.type,y=n.tagName,E=n.value;if("text"===b){var x=E+"";return l.default(x,(function(t){var n=t.bidiCharacter,r=t.index;return e(s).createElement(c.default,{bidiCharacter:n,key:r,label:f})}))}if(y){var k,C=function(e,t,n){var r=0;return function(o){return r+=1,o.map((function(o,i){return v({node:o,stylesheet:e,useInlineStyles:t,codeBidiWarningLabel:n,key:"code-segment-".concat(r,"-").concat(i)})}))}}(r,u,f);if(u){var S=Object.keys(r).reduce((function(e,t){return t.split(".").forEach((function(t){e.includes(t)||e.push(t)})),e}),[]),T=h.className&&h.className.includes("token")?["token"]:[],O=h.className&&T.concat(h.className.filter((function(e){return!S.includes(e)})));k=d(d({},h),{},{className:m(O)||void 0,style:g(h.className,Object.assign({},h.style,a),r)})}else k=d(d({},h),{},{className:m(h.className)});var w=C(n.children);return e(s).createElement(y,e(i)({key:p},k),w)}}})),r.register("b0Npo",(function(e,n){t(e.exports,"percentile",(function(){return r}));var r=function(e,t){var n=e.sort((function(e,t){return e-t})),r=n.length*t,o=Math.floor(r);if(r-o>0)return n[o];var i=n[o-1],a=n[o];return void 0!==i&&void 0!==a?(i+a)/2:void 0}})),r.register("8D5Wq",(function(e,n){t(e.exports,"pluginKey",(function(){return o}));var o=new(r("eBSbE").PluginKey)("codeBlockPlugin")})),r.register("dOsuX",(function(e,n){t(e.exports,"ACTIONS",(function(){return r}));var r={SET_COPIED_TO_CLIPBOARD:"SET_COPIED_TO_CLIPBOARD"}})),r.register("5e0KI",(function(n,o){t(n.exports,"getToolbarConfig",(function(){return m}));var i=r("7RIig"),a=r("iOuu2"),s=r("k2OhN"),c=r("iFBc4"),l=r("cUtMf"),u=r("ch3px"),d=r("hIycq"),f=r("8D5Wq"),p=r("3yI9l"),h=i.defineMessages({selectLanguage:{id:"fabric.editor.selectLanguage",defaultMessage:"Select language",description:"Code blocks display software code. A prompt to select the software language the code is written in."}}),g=p.createLanguageList(p.DEFAULT_LANGUAGES),m=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r){var o,i,m=r.formatMessage,b=f.pluginKey.getState(n),y=null!==(o=null==b?void 0:b.pos)&&void 0!==o?o:null;if(b&&null!==y){var E=n.doc.nodeAt(y),x=n.schema.nodes.codeBlock;if((null==E?void 0:E.type)===x){var k=null==E||null===(i=E.attrs)||void 0===i?void 0:i.language,C=g.map((function(e){return{label:e.name,value:p.getLanguageIdentifier(e),alias:e.alias}})),S={id:"editor.codeBlock.languageOptions",type:"select",selectType:"list",onChange:function(e){return l.changeLanguage(e.value)},defaultValue:k?C.find((function(e){return e.value===k}))||C.find((function(e){return e.alias.includes(k)})):void 0,placeholder:m(h.selectLanguage),options:C,filterOption:v},T={type:"separator"},O=t?[{id:"editor.codeBlock.copy",type:"button",appearance:"subtle",icon:e(s),onClick:l.copyContentToClipboard,title:m(b.contentCopied?u.default.copiedToClipboard:u.default.copyToClipboard),onMouseLeave:l.resetCopiedState,hideTooltipOnClick:!1,disabled:b.isNodeSelected},T]:[],w={id:"editor.codeBlock.delete",type:"button",appearance:"danger",icon:e(a),onMouseEnter:d.hoverDecoration(x,!0),onMouseLeave:d.hoverDecoration(x,!1),onClick:l.removeCodeBlock,title:m(u.default.remove)};return{title:"CodeBlock floating controls",getDomRef:function(e){return c.findDomRefAtPos(y,e.domAtPos.bind(e))},nodeType:x,items:[S,T].concat(O,[w])}}}}},v=function(e,t){var n=e.data,r=t.toLowerCase();return n.label.toLowerCase().includes(r)||n.alias.some((function(e){return e.toLowerCase()===r}))}})),r.register("cUtMf",(function(e,n){t(e.exports,"removeCodeBlock",(function(){return d})),t(e.exports,"changeLanguage",(function(){return f})),t(e.exports,"copyContentToClipboard",(function(){return p})),t(e.exports,"resetCopiedState",(function(){return h}));var o=r("iFBc4"),i=r("eBSbE"),a=r("8D5Wq"),s=r("dOsuX"),c=r("5QFvk"),l=r("hNVBR");r("kH7oN");var u=r("9V1f8"),d=function(e,t){var n=e.schema.nodes,r=e.tr;if(t){t(o.findSelectedNodeOfType(n.codeBlock)(r.selection)?o.removeSelectedNode(r):o.removeParentNodeOfType(n.codeBlock)(r))}return!0},f=function(e){return function(t,n){var r,s=t.schema.nodes.codeBlock,c=null===(r=a.pluginKey.getState(t))||void 0===r?void 0:r.pos;if("number"!=typeof c)return!1;var d=t.tr.setNodeMarkup(c,s,{language:e}).setMeta("scrollIntoView",!1),f=o.isNodeSelection(t.selection)?i.NodeSelection.create(d.doc,c):d.selection,p=d.setSelection(f);return n&&n(l.addAnalytics(t,p,{action:u.ACTION.LANGUAGE_SELECTED,actionSubject:u.ACTION_SUBJECT.CODE_BLOCK,attributes:{language:e},eventType:u.EVENT_TYPE.TRACK})),!0}},p=function(e,t){var n=e.schema.nodes,r=e.tr,i=o.findParentNodeOfType(n.codeBlock)(r.selection),l=i&&i.node.textContent;if(l){c.copyToClipboard(l);var u=r;u.setMeta(a.pluginKey,{type:s.ACTIONS.SET_COPIED_TO_CLIPBOARD,data:!0}),t&&t(u)}return!0},h=function(e,t){var n=e.tr,r=a.pluginKey.getState(e),o=n;return r&&r.contentCopied&&(o.setMeta(a.pluginKey,{type:s.ACTIONS.SET_COPIED_TO_CLIPBOARD,data:!1}),t&&t(o)),!0}})),r.register("3yI9l",(function(n,o){t(n.exports,"DEFAULT_LANGUAGES",(function(){return s})),t(n.exports,"getLanguageIdentifier",(function(){return c})),t(n.exports,"createLanguageList",(function(){return l}));var i=r("fw3Q6");r("aBlxP");var a=r("lzGtQ"),s=[{name:"(None)",alias:["none"],value:"none"}].concat(e(i)(a.SUPPORTED_LANGUAGES));function c(e){return e.alias[0]}function l(e){return e.sort((function(e,t){return"none"===e.alias[0]?-1:e.name.toLowerCase()>t.name.toLowerCase()?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:0}))}})),r.register("aBlxP",(function(e,n){t(e.exports,"SUPPORTED_LANGUAGES",(function(){return r("lzGtQ").SUPPORTED_LANGUAGES}));r("lzGtQ")})),r.register("ekCHh",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("6mFHM"),i=r("eBSbE"),a=r("iFBc4"),s=r("9J8af"),c=function(e){return function(t){return t.delete(e.before(e.depth)-1,e.end(e.depth)+1)}};var l=function(e){return o.keymap({Backspace:function(t,n){var r,o=s.getCursor(t.selection),l=t.schema.nodes,u=l.paragraph,d=l.codeBlock,f=l.listItem,p=l.table,h=l.layoutColumn;if(!o||o.parent.type!==d)return!1;if(1===o.pos||a.hasParentNodeOfType(f)(t.selection)&&0===o.parentOffset){var g=a.findParentNodeOfTypeClosestToPos(o,d);return!!g&&(n(t.tr.setNodeMarkup(g.pos,g.node.type,g.node.attrs,[]).setBlockType(o.pos,o.pos,u)),!0)}if(n&&o.node&&s.isEmptyNode(e)(o.node())&&(a.hasParentNodeOfType(h)(t.selection)||a.hasParentNodeOfType(p)(t.selection))){var m=t.tr,v=o.pos;return n(s.pipe(c(o),(r=v,function(e){var t=i.Selection.findFrom(e.doc.resolve(r),-1,!0);return t&&e.setSelection(t),e}))(m).scrollIntoView()),!0}return!!s.isEmptyNode(e)(o.node())&&(n(c(o)(null==t?void 0:t.tr)),!0)}})}})),r.register("hkbrt",(function(e,n){t(e.exports,"default",(function(){return h}));var o=r("eBSbE"),i=r("6mFHM"),a=r("iFBc4"),s=r("9J8af"),c=r("jd53t"),l=r("cDWPP"),u=r("nufv5"),d=r("1rvQ2"),f=r("6ZueA"),p=r("1pAFk"),h=new o.Plugin({props:{handleTextInput:function(e,t,n,r){var o=e.state,i=e.dispatch;if(f.isCursorInsideCodeBlock(o)){var s=f.getStartOfCurrentLine(o).text,c=f.getEndOfCurrentLine(o).text;if(l.isCursorBeforeClosingCharacter(c)&&l.isClosingCharacter(r)&&c.startsWith(r))return i(a.setTextSelection(n+r.length)(o.tr)),!0;if(u.shouldAutoCloseBracket(s,c)){var p=u.getAutoClosingBracketInfo(s+r,c),h=p.left,g=p.right;if(h&&g){var m=o.schema.text(r+g),v=o.tr.replaceWith(t,n,m);return i(a.setTextSelection(t+r.length)(v)),!0}}if(d.shouldAutoCloseQuote(s,c)){var b=d.getAutoClosingQuoteInfo(s+r,c),y=b.left,E=b.right;if(y&&E){var x=o.schema.text(r+E),k=o.tr.replaceWith(t,n,x);return i(a.setTextSelection(t+r.length)(k)),!0}}}return!1},handleKeyDown:i.keydownHandler({Backspace:function(e,t){if(f.isCursorInsideCodeBlock(e)){var n=s.getCursor(e.selection),r=f.getStartOfCurrentLine(e).text,o=f.getEndOfCurrentLine(e).text,i=u.getAutoClosingBracketInfo(r,o),a=i.left,c=i.right,l=i.hasTrailingMatchingBracket;if(a&&c&&l&&t)return t(e.tr.delete(n.pos-a.length,n.pos+c.length)),!0;var p=d.getAutoClosingQuoteInfo(r,o),h=p.left,g=p.right,m=p.hasTrailingMatchingQuote;if(h&&g&&m&&t)return t(e.tr.delete(n.pos-h.length,n.pos+g.length)),!0;var v=f.getLineInfo(r),b=v.indentToken,y=b.size,E=b.token,x=v.indentText;if(r===x&&x.endsWith(E.repeat(y))&&t)return t(e.tr.delete(n.pos-(y-x.length%y||y),n.pos)),!0}return!1},Enter:c.filter(f.isSelectionEntirelyInsideCodeBlock,p.insertNewlineWithIndent),"Mod-]":c.filter(f.isSelectionEntirelyInsideCodeBlock,p.indent),"Mod-[":c.filter(f.isSelectionEntirelyInsideCodeBlock,p.outdent),Tab:c.filter(f.isSelectionEntirelyInsideCodeBlock,(function(e,t){return!!t&&(f.isCursorInsideCodeBlock(e)?p.insertIndent(e,t):p.indent(e,t))})),"Shift-Tab":c.filter(f.isSelectionEntirelyInsideCodeBlock,p.outdent),"Mod-a":function(e,t){if(f.isSelectionEntirelyInsideCodeBlock(e)){var n=e.selection,r=n.$from,i=n.$to;if(!(0===r.parentOffset&&i.parentOffset===i.parent.nodeSize-2)&&t)return t(e.tr.setSelection(o.TextSelection.create(e.doc,r.start(),i.end()))),!0}return!1}})}})})),r.register("cDWPP",(function(n,o){t(n.exports,"isCursorBeforeClosingCharacter",(function(){return d})),t(n.exports,"isClosingCharacter",(function(){return f}));var i=r("l15hj"),a=r("nufv5"),s=r("1rvQ2");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var u=l(l({},a.BRACKET_MAP),s.QUOTE_MAP),d=function(e){return Object.keys(u).some((function(t){return e.startsWith(u[t])}))},f=function(e){return Object.keys(u).some((function(t){return e===u[t]}))}})),r.register("nufv5",(function(e,n){t(e.exports,"BRACKET_MAP",(function(){return r})),t(e.exports,"shouldAutoCloseBracket",(function(){return o})),t(e.exports,"getAutoClosingBracketInfo",(function(){return i}));var r={"{":"}","[":"]","(":")"},o=function(e,t){return!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)},i=function(e,t){var n=Object.keys(r).find((function(t){return e.endsWith(t)})),o=n?r[n]:void 0;return{left:n,right:o,hasTrailingMatchingBracket:!!o&&t.startsWith(o)}}})),r.register("1rvQ2",(function(e,n){t(e.exports,"QUOTE_MAP",(function(){return r})),t(e.exports,"shouldAutoCloseQuote",(function(){return o})),t(e.exports,"getAutoClosingQuoteInfo",(function(){return i}));var r={"'":"'",'"':'"',"`":"`"},o=function(e,t){return!!/^[}\])]/.test(t)||!/^[^\s]/.test(t)&&(!/[A-Za-z0-9]$/.test(e)&&!/[\'\"\`]$/.test(e))},i=function(e,t){var n=Object.keys(r).find((function(t){return e.endsWith(t)})),o=n?r[n]:void 0;return{left:n,right:o,hasTrailingMatchingQuote:!!o&&t.startsWith(o)}}})),r.register("6ZueA",(function(e,n){t(e.exports,"isSelectionEntirelyInsideCodeBlock",(function(){return i})),t(e.exports,"isCursorInsideCodeBlock",(function(){return a})),t(e.exports,"getStartOfCurrentLine",(function(){return s})),t(e.exports,"getEndOfCurrentLine",(function(){return c})),t(e.exports,"getLinesFromSelection",(function(){return l})),t(e.exports,"forEachLine",(function(){return u})),t(e.exports,"getLineInfo",(function(){return p}));var o=r("9J8af"),i=function(e){return e.selection.$from.sameParent(e.selection.$to)&&e.selection.$from.parent.type===e.schema.nodes.codeBlock},a=function(e){return!!o.getCursor(e.selection)&&i(e)},s=function(e){var t=e.selection.$from;if(t.nodeBefore&&t.nodeBefore.isText){var n=t.nodeBefore.text.lastIndexOf("\n");return{text:t.nodeBefore.text.substring(n+1),pos:t.start()+n+1}}return{text:"",pos:t.pos}},c=function(e){var t=e.selection.$to;if(t.nodeAfter&&t.nodeAfter.isText){var n=t.nodeAfter.text.indexOf("\n");return{text:t.nodeAfter.text.substring(0,n>=0?n:void 0),pos:n>=0?t.pos+n:t.end()}}return{text:"",pos:t.pos}};function l(e){var t=s(e).pos,n=c(e).pos;return{text:e.doc.textBetween(t,n),start:t,end:n}}var u=function(e,t){var n=0;e.split("\n").forEach((function(e){t(e,n),n+=e.length+1}))},d={token:" ",size:2,regex:/[^ ]/},f={token:"\t",size:1,regex:/[^\t]/},p=function(e){var t=e.startsWith("\t")?f:d,n=e.search(t.regex);return{indentToken:t,indentText:e.substring(0,n>=0?n:e.length)}}})),r.register("1pAFk",(function(e,n){t(e.exports,"indent",(function(){return u})),t(e.exports,"outdent",(function(){return d})),t(e.exports,"insertIndent",(function(){return f})),t(e.exports,"insertNewlineWithIndent",(function(){return p}));var o=r("eBSbE"),i=r("6ZueA");r("cTu5S");var a=r("hNVBR"),s=r("9V1f8"),c=r("3HJS8");function l(e,t){return 0===t||0===e.length?0:e.length/t}function u(e,t){var n=i.getLinesFromSelection(e),r=n.text,u=n.start,d=e.tr,f=e.selection;return i.forEachLine(r,(function(t,n){var r=i.getLineInfo(t),p=r.indentText,h=r.indentToken,g=l(p,h.size),m=h.token.repeat(h.size-p.length%h.size||h.size);d.insertText(m,d.mapping.map(u+n,-1)),a.addAnalytics(e,d,{action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_INDENT,eventType:s.EVENT_TYPE.TRACK,attributes:{inputMethod:s.INPUT_METHOD.KEYBOARD,previousIndentationLevel:g,newIndentLevel:g+1,direction:c.INDENT_DIRECTION.INDENT,indentType:c.INDENT_TYPE.CODE_BLOCK}}),f.empty||d.setSelection(o.TextSelection.create(d.doc,d.mapping.map(f.from,-1),d.selection.to))})),t&&t(d),!0}function d(e,t){var n=i.getLinesFromSelection(e),r=n.text,o=n.start,u=e.tr;return i.forEachLine(r,(function(t,n){var r=i.getLineInfo(t),d=r.indentText,f=r.indentToken;if(d){var p=l(d,f.size),h=d.length%f.size||f.size;u.delete(u.mapping.map(o+n),u.mapping.map(o+n+h)),a.addAnalytics(e,u,{action:s.ACTION.FORMATTED,actionSubject:s.ACTION_SUBJECT.TEXT,actionSubjectId:s.ACTION_SUBJECT_ID.FORMAT_INDENT,eventType:s.EVENT_TYPE.TRACK,attributes:{inputMethod:s.INPUT_METHOD.KEYBOARD,previousIndentationLevel:p,newIndentLevel:p-1,direction:c.INDENT_DIRECTION.OUTDENT,indentType:c.INDENT_TYPE.CODE_BLOCK}})}})),t&&t(u),!0}function f(e,t){var n=i.getStartOfCurrentLine(e).text,r=i.getLineInfo(n).indentToken,o=r.token.repeat(r.size-n.length%r.size||r.size);return t(e.tr.insertText(o)),!0}function p(e,t){var n=i.getStartOfCurrentLine(e).text,r=i.getLineInfo(n).indentText;return!(!r||!t)&&(t(e.tr.insertText("\n"+r)),!0)}})),r.register("4ldYS",(function(e,n){t(e.exports,"default",(function(){return a})),r("igW5C");var o=r("4W5Y2"),i=r("8D5Wq"),a=function(e,t){var n;o.default.gecko&&e.docChanged&&"number"==typeof(null===(n=i.pluginKey.getState(t))||void 0===n?void 0:n.pos)&&function(){var e=window.getSelection();if(e){var t=e&&1===e.rangeCount&&e.getRangeAt(0).cloneRange();t&&(e.removeAllRanges(),e.addRange(t))}}()}})),r.register("kGMnb",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("61szk"),a=r("gFKE0"),s=r("1eYg1"),c=r("jWTGF"),l=r("ljMk4"),u=r("4s4wW"),d=function(){return{name:"undoRedoPlugin",pmPlugins:function(){return[{name:"undoRedoKeyMap",plugin:function(){return a.keymapPlugin()}},{name:"undoRedoPlugin",plugin:function(e){return s.createPlugin(e)}}]},primaryToolbarComponent:function(t){var n=t.editorView,r=t.disabled,o=t.isToolbarReducedSpacing;return e(i).createElement(u.default,{plugins:{historyState:c.historyPluginKey},render:function(t){var a=t.historyState;return e(i).createElement(l.default,{isReducedSpacing:o,disabled:r,historyState:a,editorView:n})}})}}}})),r.register("gFKE0",(function(e,n){t(e.exports,"keymapPlugin",(function(){return s}));var o=r("7uC1r"),i=r("hnx3x"),a=r("l90bS");function s(){var e={};return o.bindKeymapWithCommand(o.findKeyMapForBrowser(o.redo),a.redoFromKeyboard,e),o.bindKeymapWithCommand(o.undo.common,a.undoFromKeyboard,e),i.keymap(e)}})),r.register("l90bS",(function(e,n){t(e.exports,"undoFromKeyboard",(function(){return s})),t(e.exports,"redoFromKeyboard",(function(){return c})),t(e.exports,"undoFromToolbar",(function(){return l})),t(e.exports,"redoFromToolbar",(function(){return u}));var o=r("9VelW"),i=r("bj4Kg"),a=r("ev3W0"),s=i.attachInputMeta(a.InputSource.KEYBOARD)(o.undo),c=i.attachInputMeta(a.InputSource.KEYBOARD)(o.redo),l=i.attachInputMeta(a.InputSource.TOOLBAR)(o.undo),u=i.attachInputMeta(a.InputSource.TOOLBAR)(o.redo)})),r.register("bj4Kg",(function(e,n){t(e.exports,"attachInputMeta",(function(){return i}));var o=r("hRsXM"),i=function(e){return function(t){return function(n,r){var i=n.tr;return t(n,(function(e){i=e})),!(!i||!i.docChanged)&&(i.setMeta(o.pluginKey,e),r&&r(i),!0)}}}})),r.register("ev3W0",(function(e,n){t(e.exports,"InputSource",(function(){return o}));var o,i,a=r("9V1f8");(i=o||(o={}))[i.TOOLBAR=a.INPUT_METHOD.TOOLBAR]="TOOLBAR",i[i.KEYBOARD=a.INPUT_METHOD.KEYBOARD]="KEYBOARD"})),r.register("1eYg1",(function(e,n){t(e.exports,"createPlugin",(function(){return a}));var o=r("eBSbE"),i=r("hRsXM"),a=function(e){e.dispatch;return new o.Plugin({key:i.pluginKey})}})),r.register("ljMk4",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("61szk"),d=r("7RIig"),f=r("3HfO7"),p=r("1bxJs"),h=r("7uC1r"),g=r("xZbZL"),m=r("gCo6x"),v=r("gKUIr"),b=r("l90bS");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var E=function(t){e(s)(r,t);var n=y(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"render",value:function(){var t=this.props,n=t.disabled,r=t.isReducedSpacing,o=t.historyState,i=t.editorView,a=t.intl.formatMessage,s=a(v.messages.undo),c=a(v.messages.redo),l=o.canUndo,d=o.canRedo;return e(u).createElement(g.ButtonGroup,{width:r?"small":"large"},e(u).createElement(m.default,{buttonId:m.TOOLBAR_BUTTON.UNDO,spacing:r?"none":"default",onClick:function(){b.undoFromToolbar(i.state,i.dispatch)},disabled:!l||n,title:e(u).createElement(h.ToolTipContent,{description:s,keymap:h.undo}),iconBefore:e(u).createElement(e(f),{label:s}),testId:"ak-editor-toolbar-button-undo"}),e(u).createElement(m.default,{spacing:r?"none":"default",buttonId:m.TOOLBAR_BUTTON.REDO,onClick:function(){b.redoFromToolbar(i.state,i.dispatch)},disabled:!d||n,title:e(u).createElement(h.ToolTipContent,{description:c,keymap:h.redo}),iconBefore:e(u).createElement(e(p),{label:c}),testId:"ak-editor-toolbar-button-redo"}),e(u).createElement(g.Separator,null))}}]),r}(u.PureComponent),x=d.injectIntl(E)})),r.register("3HfO7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M5.138 13.026a.98.98 0 00.386 1.366 1.066 1.066 0 001.421-.371C8.051 12.167 10.104 11 12.37 11c2.437 0 4.619 1.351 5.648 3.429.246.498.868.71 1.388.473.519-.238.74-.833.493-1.333C18.528 10.802 15.618 9 12.37 9c-3.02 0-5.759 1.557-7.232 4.026z"/><path d="M4.5 10v3.9c0 .607.494 1.1 1.102 1.1h3.896a1 1 0 100-2H6.503v-3A1 1 0 004.5 10z"/></g></svg>'},e));a.displayName="UndoIcon";var s=a;e.exports.default=s})),r.register("1bxJs",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M4.101 13.569c-.247.5-.026 1.095.493 1.333.52.237 1.142.025 1.388-.473C7.011 12.351 9.193 11 11.63 11c2.266 0 4.319 1.167 5.425 3.021.286.479.922.645 1.421.371a.98.98 0 00.386-1.366C17.389 10.557 14.65 9 11.63 9c-3.247 0-6.158 1.802-7.529 4.569z"/><path d="M17.497 10v3h-2.995a1 1 0 100 2h3.896c.608 0 1.102-.493 1.102-1.1V10a1.001 1.001 0 00-2.003 0z"/></g></svg>'},e));a.displayName="RedoIcon";var s=a;e.exports.default=s})),r.register("gKUIr",(function(e,n){t(e.exports,"messages",(function(){return o}));var o=r("7RIig").defineMessages({undo:{id:"fabric.editor.undo",defaultMessage:"Undo",description:"Undo the previously performed action."},redo:{id:"fabric.editor.redo",defaultMessage:"Redo",description:"Redo the previously undone action."}})})),r.register("iH2WU",(function(n,o){t(n.exports,"PluginPerformanceObserver",(function(){return f}));var i=r("fw3Q6"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj"),l=r("itUi7"),u=r("5dnlo"),d=r("f4NHe"),f=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"getNodeCounts",(function(){return[{nodeCount:{},extensionNodeCount:{}},0]})),e(c)(this,"getPlugins",(function(){return[]})),e(c)(this,"getOptions",(function(){return{}})),e(c)(this,"reportCount",0),e(c)(this,"simpleObserver",new d.SimpleMeasurementLogger),e(c)(this,"onObserveration",(function(t){t.getEntriesByName(u.EVENT_NAME_DISPATCH_TRANSACTION).map((function(n){var o;return(o=l.PluginPerformanceReport.fromEntry(n).withCount(++r.reportCount).withEntryList(t)).withNodes.apply(o,e(i)(r.getNodeCounts())).withPlugins(r.getPlugins()).withOptions(r.getOptions()).toJSON()})).filter((function(e){return"none"!==e.trigger})).forEach((function(e){return r.callback(e)}))})),this.callback=n,this.observer=window.PerformanceObserver?new PerformanceObserver(this.onObserveration):{observe:function(){},disconnect:function(){},takeRecords:function(){return[]}}}return e(s)(t,[{key:"isSimpleTracking",get:function(){var e=this.getOptions().usePerformanceMarks;return!(void 0===e?u.DEFAULT_USE_PERFORMANCE_MARK:e)}},{key:"withNodeCounts",value:function(e){return this.getNodeCounts=function(){var t=performance.now();return[e(),performance.now()-t]},this}},{key:"withPlugins",value:function(e){return this.getPlugins=e,this}},{key:"withOptions",value:function(e){return this.getOptions=e,this}},{key:"withTransactionTracker",value:function(e){return this.getTransactionTracker=e,this}},{key:"observe",value:function(){var e=this;if(this.isSimpleTracking)this.simpleObserver.setPluginNames(this.getPlugins()),this.simpleObserver.setOnObservation((function(t){e.onObserveration(t,e.observer)})),this.getTransactionTracker&&this.getTransactionTracker().addMeasureListener(this.simpleObserver.observed);else try{this.observer.observe({buffered:!1,type:"measure"})}catch(e){this.observer.observe({entryTypes:["measure"]})}}},{key:"disconnect",value:function(){this.isSimpleTracking?this.getTransactionTracker&&this.getTransactionTracker().removeMeasureListener(this.simpleObserver.observed):this.observer.disconnect()}},{key:"takeRecords",value:function(){return this.observer.takeRecords()}}]),t}()})),r.register("itUi7",(function(n,o){t(n.exports,"PluginPerformanceReport",(function(){return p}));var i=r("h67q9"),a=r("go2dD"),s=r("4NDMl"),c=r("l15hj"),l=r("dW9FO"),u=r("5dnlo");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){e(c)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var p=function(){function t(n){var r=this;e(a)(this,t),e(c)(this,"count",0),e(c)(this,"pluginNames",[]),e(c)(this,"nodes",{}),e(c)(this,"extensionNodes",{}),e(c)(this,"nodesDuration",0),e(c)(this,"plugins",{}),e(c)(this,"slowPlugins",{}),e(c)(this,"options",{samplingRate:100,slowThreshold:300,outlierThreshold:30,outlierFactor:3}),e(c)(this,"isChild",(function(e){return e.startTime>=r.entry.startTime&&e.startTime+e.duration<=r.entry.startTime+r.entry.duration})),this.entry=n}return e(s)(t,[{key:"getEntryByName",value:function(e,t){return e.getEntriesByName(t).find(this.isChild)}},{key:"getMethodSum",value:function(e){return Object.values(e).reduce((function(e,t){return e+t}),0)}},{key:"greaterEquals",value:function(e,t){return"number"==typeof t&&e>=t}},{key:"hasOutlierMethods",value:function(e,t){return this.greaterEquals(e.stateApply,t.stateApplyOutlier)||this.greaterEquals(e.viewUpdate,t.viewUpdateOutlier)}},{key:"trigger",get:function(){return this.entry.duration>this.options.slowThreshold?"slow":this.hasSlowPlugins&&this.entry.duration>this.options.outlierThreshold?"distribution":this.count>0&&this.count%this.options.samplingRate==0?"sample":"none"}},{key:"hasSlowPlugins",get:function(){return Object.keys(this.slowPlugins).length>0}},{key:"withEntryList",value:function(e){return this.entryList=e,this.stateApplied=this.getEntryByName(e,u.EVENT_NAME_STATE_APPLY),this.viewUpdated=this.getEntryByName(e,u.EVENT_NAME_UPDATE_STATE),this.onChangeCalled=this.getEntryByName(e,u.EVENT_NAME_ON_CHANGE),this.onEditorViewStateUpdatedCalled=this.getEntryByName(e,u.EVENT_NAME_VIEW_STATE_UPDATED),this.withPlugins(this.pluginNames),this}},{key:"withPlugins",value:function(t){var n=this,r={duration:0};if(this.pluginNames=t,this.plugins=t.reduce((function(e,t){var o=n.entryList&&n.getEntryByName(n.entryList,"\ud83e\udd89".concat(t,"::apply"))||r,i=n.entryList&&n.getEntryByName(n.entryList,"\ud83e\udd89".concat(t,"::view::update"))||r,a=n.entryList&&n.getEntryByName(n.entryList,"\ud83e\udd89".concat(t,"::onEditorViewStateUpdated"))||r;return e[t]={stateApply:o.duration,viewUpdate:i.duration,onEditorViewStateUpdated:a.duration},e}),{}),this.stateApplied&&t.length>0){var o=Object.entries(this.plugins),a=l.outlier(o.map((function(t){return e(i)(t,2)[1].stateApply})),this.options.outlierFactor),s=l.outlier(o.map((function(t){return e(i)(t,2)[1].viewUpdate})),this.options.outlierFactor),u=this.options.outlierThreshold/o.length;this.slowPlugins=o.filter((function(t){var r=e(i)(t,2)[1];return n.getMethodSum(r)>u&&n.hasOutlierMethods(r,{stateApplyOutlier:a,viewUpdateOutlier:s})})).reduce((function(t,n){var r=e(i)(n,2),o=r[0],a=r[1];return f(f({},t),{},e(c)({},o,a))}),{})}return this}},{key:"withNodes",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.nodes=e.nodeCount,this.extensionNodes=e.extensionNodeCount,this.nodesDuration=t,this}},{key:"withCount",value:function(e){return this.count=e,this}},{key:"withOptions",value:function(e){return Object.assign(this.options,e),this}},{key:"toJSON",value:function(){return{trigger:this.trigger,duration:this.entry.duration,nodes:this.nodes,extensionNodes:this.extensionNodes,plugins:this.plugins,slowPlugins:this.slowPlugins,stepDurations:{stateApply:this.stateApplied?this.stateApplied.duration:0,viewUpdate:this.viewUpdated?this.viewUpdated.duration:0,onChange:this.onChangeCalled?this.onChangeCalled.duration:0,onEditorViewStateUpdated:this.onEditorViewStateUpdatedCalled?this.onEditorViewStateUpdatedCalled.duration:0,countNodes:this.nodesDuration}}}}],[{key:"fromEntry",value:function(e){return new t(e)}}]),t}()})),r.register("dW9FO",(function(e,n){t(e.exports,"outlier",(function(){return i}));var o=r("b0Npo"),i=function(e,t){var n=o.percentile(e,.25),r=o.percentile(e,.75);if(void 0!==n&&void 0!==r)return r+(r-n)*t}})),r.register("5dnlo",(function(n,o){t(n.exports,"EVENT_NAME_STATE_APPLY",(function(){return d})),t(n.exports,"EVENT_NAME_UPDATE_STATE",(function(){return f})),t(n.exports,"EVENT_NAME_VIEW_STATE_UPDATED",(function(){return p})),t(n.exports,"EVENT_NAME_ON_CHANGE",(function(){return h})),t(n.exports,"EVENT_NAME_DISPATCH_TRANSACTION",(function(){return g})),t(n.exports,"DEFAULT_USE_PERFORMANCE_MARK",(function(){return m})),t(n.exports,"TransactionTracker",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("l15hj");r("igW5C");var c=r("6qQ9w"),l=r("iJTyt"),u=r("ju5bQ"),d="\ud83e\udd89 EditorView::state::apply",f="\ud83e\udd89 EditorView::updateState",p="\ud83e\udd89 EditorView::onEditorViewStateUpdated",h="\ud83e\udd89 ReactEditorView::onChange",g="\ud83e\udd89 ReactEditorView::dispatchTransaction",m=!1,v=function(){},b=function(){function t(){var n=this;e(i)(this,t),e(s)(this,"dispatchCallCounter",0),e(s)(this,"measureMap",new Map),e(s)(this,"measureListeners",[]),e(s)(this,"bumpDispatchCounter",(function(e){var t=e.enabled,r=e.samplingRate,o=void 0===r?100:r;return t&&(n.dispatchCallCounter>=o&&(n.dispatchCallCounter=0),n.dispatchCallCounter++),n.dispatchCallCounter})),e(s)(this,"getMeasureHelpers",(function(e){var t=e.usePerformanceMarks,r=void 0===t?m:t;return n.shouldTrackTransaction(e)?{startMeasure:r?c.startMeasure:n.startMeasureSimple,stopMeasure:r?c.stopMeasure:n.stopMeasureSimple}:{startMeasure:v,stopMeasure:v}})),e(s)(this,"startMeasureSimple",(function(e){l.isPerformanceAPIAvailable()&&n.measureMap.set(e,performance.now())})),e(s)(this,"stopMeasureSimple",(function(e,t){if(l.isPerformanceAPIAvailable()){var r=n.measureMap.get(e);if(r){var o=u.getTimeSince(r);n.measureMap.delete(e),t&&t(o,r),n.measureListeners.forEach((function(t){return t({name:e,duration:o,startTime:r})}))}}}))}return e(a)(t,[{key:"addMeasureListener",value:function(e){this.measureListeners.push(e)}},{key:"removeMeasureListener",value:function(e){var t=this.measureListeners.indexOf(e);t>-1&&this.measureListeners.splice(t,1)}},{key:"shouldTrackTransaction",value:function(e){var t=e.enabled,n=e.samplingRate,r=void 0===n?100:n;return t&&this.dispatchCallCounter===r}}]),t}()})),r.register("f4NHe",(function(n,o){t(n.exports,"SimpleMeasurementLogger",(function(){return u}));var i=r("fw3Q6"),a=r("go2dD"),s=r("l15hj"),c=r("5dnlo"),l=[c.EVENT_NAME_STATE_APPLY,c.EVENT_NAME_UPDATE_STATE,c.EVENT_NAME_VIEW_STATE_UPDATED,c.EVENT_NAME_ON_CHANGE,c.EVENT_NAME_DISPATCH_TRANSACTION],u=function t(){var n=this;e(a)(this,t),e(s)(this,"currentBatch",[]),e(s)(this,"pluginNameCache",new Set),e(s)(this,"setPluginNames",(function(e){n.pluginNameCache=new Set(e)})),e(s)(this,"setOnObservation",(function(e){n.observationCallback=e})),e(s)(this,"createPerformanceEntry",(function(e){return{entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration,toJSON:function(){return JSON.stringify({entryType:"mark",name:e.name,startTime:e.startTime,duration:e.duration})}}})),e(s)(this,"convertToEntryList",(function(e){return{getEntries:function(){return e},getEntriesByName:function(t,n){return e.filter((function(e){return e.name===t}))},getEntriesByType:function(t){return e}}})),e(s)(this,"observed",(function(t){var r=t.name;if(r.startsWith("\ud83e\udd89")){var o,a=(null===(o=r.split(":")[0])||void 0===o?void 0:o.split("\ud83e\udd89")[1])||"",s=n.pluginNameCache.has(a),u=l.includes(r);(s||u)&&n.currentBatch.push(n.createPerformanceEntry(t))}if(r===c.EVENT_NAME_DISPATCH_TRANSACTION){if(n.observationCallback){var d=n.convertToEntryList(e(i)(n.currentBatch));n.observationCallback(d)}n.currentBatch=[]}}))}})),r.register("jNgqd",(function(e,n){t(e.exports,"PROSEMIRROR_RENDERED_NORMAL_SEVERITY_THRESHOLD",(function(){return r})),t(e.exports,"PROSEMIRROR_RENDERED_DEGRADED_SEVERITY_THRESHOLD",(function(){return o})),t(e.exports,"DEFAULT_SAMPLING_RATE_VALID_TRANSACTIONS",(function(){return i}));var r=2e3,o=3e3,i=100})),r.register("fBhB1",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("jMMM2"),i=r("dTJEX"),a=r("7koxa"),s=r("5p8xy");function c(e){switch(e=e||"comment"){case"full-page":case"full-width":return o.FullPageEditor;case"chromeless":return i.default;case"comment":return a.CommentEditorWithIntl;case"mobile":return s.default;default:throw new Error("Appearance '".concat(e,"' is not supported by the editor."))}}})),r.register("jMMM2",(function(n,o){t(n.exports,"FullPageEditor",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hLVOy");r("8iml0");var h=r("82cWi"),g=r("bsR2s"),m=r("c2ofG"),v=r("adUAa"),b=r("5q1kW"),y=r("lWHVr");function E(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var x=function(t){e(c)(r,t);var n=E(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"state",{showKeyline:!1}),e(d)(e(s)(t),"scrollContainer",null),e(d)(e(s)(t),"contentAreaRef",(function(e){t.contentArea=e})),e(d)(e(s)(t),"scrollContainerRef",(function(e){var n=t.scrollContainer;n&&n.removeEventListener("scroll",t.updateToolbarKeyline),t.scrollContainer=e||null,t.scrollContainer&&(t.scrollContainer.addEventListener("scroll",t.updateToolbarKeyline,!1),t.updateToolbarKeyline())})),e(d)(e(s)(t),"updateToolbarKeyline",p.default((function(){if(!t.scrollContainer)return!1;var e=t.scrollContainer.scrollTop>h.akEditorToolbarKeylineHeight;return e!==t.state.showKeyline&&t.setState({showKeyline:e}),!1}))),e(d)(e(s)(t),"handleResize",(function(){t.scheduledKeylineUpdate=t.updateToolbarKeyline()})),t}return e(a)(r,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),this.scheduledKeylineUpdate&&cancelAnimationFrame(this.scheduledKeylineUpdate)}},{key:"render",value:function(){var t,n=this.props,r=this.state.showKeyline,o=null!==(t=n.editorView)&&void 0!==t&&t.state?y.getFeatureFlags(n.editorView.state):void 0;return e(f).createElement(m.ContextPanelWidthProvider,null,e(f).createElement(g.FullPageEditorWrapper,{className:"akEditor"},e(f).createElement(b.FullPageToolbar,{appearance:n.appearance,beforeIcon:n.primaryToolbarIconBefore,collabEdit:n.collabEdit,containerElement:this.scrollContainer,customPrimaryToolbarComponents:n.customPrimaryToolbarComponents,disabled:!!n.disabled,dispatchAnalyticsEvent:n.dispatchAnalyticsEvent,editorActions:n.editorActions,editorDOMElement:n.editorDOMElement,editorView:n.editorView,eventDispatcher:n.eventDispatcher,hasMinWidth:n.enableToolbarMinWidth,popupsBoundariesElement:n.popupsBoundariesElement,popupsMountPoint:n.popupsMountPoint,popupsScrollableElement:n.popupsScrollableElement,primaryToolbarComponents:n.primaryToolbarComponents,providerFactory:n.providerFactory,showKeyline:r,featureFlags:o}),e(f).createElement(v.FullPageContentArea,{allowAnnotation:n.allowAnnotation,appearance:n.appearance,contentArea:this.contentArea,contentAreaRef:this.contentAreaRef,contentComponents:n.contentComponents,contextPanel:n.contextPanel,customContentComponents:n.customContentComponents,disabled:n.disabled,dispatchAnalyticsEvent:n.dispatchAnalyticsEvent,editorActions:n.editorActions,editorDOMElement:n.editorDOMElement,editorView:n.editorView,eventDispatcher:n.eventDispatcher,popupsBoundariesElement:n.popupsBoundariesElement,popupsMountPoint:n.popupsMountPoint,popupsScrollableElement:n.popupsScrollableElement,providerFactory:n.providerFactory,scrollContainer:this.scrollContainer,scrollContainerRef:this.scrollContainerRef})))}}]),r}(e(f).Component);e(d)(x,"displayName","FullPageEditor")})),r.register("bsR2s",(function(n,o){t(n.exports,"FullPageEditorWrapper",(function(){return x})),t(n.exports,"ScrollContainer",(function(){return k})),t(n.exports,"ContentArea",(function(){return C})),t(n.exports,"SidebarArea",(function(){return S})),t(n.exports,"EditorContentArea",(function(){return T})),t(n.exports,"EditorContentGutter",(function(){return O}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c,l,u,d,f,p=r("82cWi"),h=r("ekJGA"),g=r("5zDIC"),m=r("hcXhI"),v=r("c7WcO"),b=r("xZbZL"),y="0.5s ".concat(p.akEditorSwoopCubicBezier),E=2*p.akEditorGutterPadding,x=a.default.div(s||(s=e(i)(["\n  min-width: 340px;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n"])));x.displayName="FullPageEditorWrapper";var k=a.default(g.default)(c||(c=e(i)(["\n  flex-grow: 1;\n  height: 100%;\n  overflow-y: scroll;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  scroll-behavior: smooth;\n  ",";\n"])),b.scrollbarStyles);k.displayName="ScrollContainer";var C=a.default.div(l||(l=e(i)(["\n  display: flex;\n  flex-direction: row;\n  height: calc(100% - ",");\n  box-sizing: border-box;\n  margin: 0;\n  padding: 0\n    ","px;\n\n  // transition used to match scrollbar with config panel opening animation\n  // only use animation when opening as there is a bug with floating toolbars.\n  transition: padding ","ms\n    ",";\n"])),p.ATLASSIAN_NAVIGATION_HEIGHT,(function(e){return e.positionedOverEditor?p.akEditorContextPanelWidth:0}),(function(e){return e.positionedOverEditor?500:0}),p.akEditorSwoopCubicBezier);C.displayName="ContentArea";var S=a.default.div(u||(u=e(i)(["\n  height: 100%;\n  box-sizing: border-box;\n  align-self: flex-end;\n"])));S.displayName="SidebarArea";var T=a.default.div(d||(d=e(i)(["\n  line-height: 24px;\n  padding-top: 50px;\n  padding-bottom: 55px;\n  height: calc(\n    100% - 105px\n  ); /* fill the viewport: 100% - (padding top & bottom) */\n  width: 100%;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n\n  max-width: ","px;\n  transition: max-width ",";\n\n  & .ProseMirror {\n    flex-grow: 1;\n    box-sizing: border-box;\n  }\n\n  & .ProseMirror {\n    & > * {\n      /* pre-emptively clear all direct descendant content, just in case any are adjacent floated content */\n      clear: both;\n    }\n    > p,\n    > ul,\n    > ol:not(","):not(","),\n    > h1,\n    > h2,\n    > h3,\n    > h4,\n    > h5,\n    > h6 {\n      /* deliberately allow wrapping of text based nodes, just in case any are adjacent floated content */\n      clear: none;\n    }\n\n    > p:last-child {\n      margin-bottom: 24px;\n    }\n  }\n\n  ",";\n\n  .fabric-editor--full-width-mode {\n    /* Full Width Mode styles for ignoring breakout sizes */\n    .fabric-editor-breakout-mark,\n    .extension-container.block,\n    .pm-table-container {\n      width: 100% !important;\n    }\n\n    .fabric-editor-breakout-mark {\n      margin-left: unset !important;\n      transform: none !important;\n    }\n\n    /* Prevent horizontal scroll on page in full width mode */\n    ","\n  }\n"])),(function(e){var t=e.theme;return(e.fullWidthMode?p.akEditorFullWidthLayoutWidth:t.layoutMaxWidth)+E}),y,h.taskListSelector,h.decisionListSelector,m.tableFullPageEditorStyles,(function(e){var t=e.containerWidth;return t?"\n        .pm-table-container,\n        .code-block,\n        .extension-container {\n          max-width: ".concat(t-E-2*v.tableMarginFullWidthMode,"px;\n        }\n\n        [data-layout-section] {\n          max-width: ").concat(t-E+2*p.akLayoutGutterOffset,"px;\n        }\n      "):"\n          .pm-table-container,\n          .code-block,\n          .extension-container {\n            display: none;\n          }\n        "}));T.displayName="EditorContentArea";var O=a.default.div(f||(f=e(i)(["\n  box-sizing: border-box;\n  padding: 0 ","px;\n"])),p.akEditorGutterPadding);O.displayName="EditorContentGutter"})),r.register("5zDIC",(function(n,o){t(n.exports,"default",(function(){return Q}));var i=r("jgze0"),a=r("lhkMJ"),s=r("61szk"),c=r("SssiD");r("igW5C");var l=r("i9jUF"),u=r("l9pPY"),d=r("bUt3T"),f=r("gY7bO"),p=r("62D4f"),h=r("c7GqT"),g=r("1FVDX"),m=r("1CZPU"),v=r("6zqMi"),b=r("kDGkE"),y=r("ixNv2");r("8iml0");var E,x=r("82cWi"),k=r("ds2rN"),C=r("6Xk32"),S=r("d9SyS"),T=r("hcXhI"),O=r("68CY3"),w=r("6kDrI"),N=r("4OCY9"),P=r("aj6eu"),A=r("tY9F2"),I=r("6T3eQ"),D=r("eXeuK"),R=r("4fbkH"),M=r("gIXxM"),_=r("aBP12"),j=r("kMGvc"),B=r("kv5yQ"),L=r("6QUWH"),F=r("irVnw"),z=r("bbuoM"),W=r("dYgdV"),U=r("gKvqj"),H=r("k6z1x"),V=r("22Kvz"),K=r("gbrlJ"),G=r("38OEo"),J=r("klUxX"),q=r("39e3d"),Y=r("cwJAC"),Z=r("lWHVr"),X=c.default.div(E||(E=e(a)(["\n  .ProseMirror {\n    outline: none;\n    font-size: ","px;\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n  }\n\n  .ProseMirror[contenteditable='false'] .taskItemView-content-wrap {\n    pointer-events: none;\n    opacity: 0.7;\n  }\n\n  .ProseMirror-hideselection *::selection {\n    background: transparent;\n  }\n\n  .ProseMirror-hideselection *::-moz-selection {\n    background: transparent;\n  }\n\n  .ProseMirror-selectednode {\n    outline: none;\n  }\n\n  .ProseMirror-selectednode:empty {\n    outline: 2px solid #8cf;\n  }\n\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ",";\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n\n  .panelView-content-wrap {\n    box-sizing: border-box;\n  }\n\n  .mediaGroupView-content-wrap ul {\n    padding: 0;\n  }\n\n  /** Needed to override any cleared floats, e.g. image wrapping */\n\n  div.fabric-editor-block-mark[class^='fabric-editor-align'] {\n    clear: none !important;\n  }\n\n  .fabric-editor-align-end {\n    text-align: right;\n  }\n\n  .fabric-editor-align-start {\n    text-align: left;\n  }\n\n  .fabric-editor-align-center {\n    text-align: center;\n  }\n\n  .pm-table-header-content-wrap,\n  .pm-table-cell-content-wrap div.fabric-editor-block-mark {\n    p {\n      margin-top: 0;\n    }\n  }\n\n  .hyperlink-floating-toolbar,\n  ."," {\n    padding: 0;\n  }\n\n  /* Link icon in the Atlaskit package\n     is bigger than the others\n  */\n  .hyperlink-open-link {\n    svg {\n      max-width: 18px;\n    }\n    &[href] {\n      padding: 0 4px;\n    }\n  }\n"])),x.editorFontSize,l.whitespaceSharedStyles,u.paragraphSharedStyles,d.listsSharedStyles,f.indentationSharedStyles,p.shadowSharedStyle,h.inlineNodeSharedStyle,w.blocktypeStyles,B.textFormattingStyles,L.placeholderTextStyles,O.placeholderStyles,(function(e){var t=e.featureFlags;return null!=t&&t.codeBlockSyntaxHighlighting?N.highlightingCodeBlockStyles:N.codeBlockStyles}),P.listsStyles,A.ruleStyles,I.mediaStyles,D.layoutStyles,C.telepointerStyle,S.gapCursorStyles,T.tableStyles,R.panelStyles,M.fakeCursorStyles,_.mentionsStyles,(function(e){var t=e.featureFlags;return null!=t&&t.nextEmojiNodeView?j.emojiStylesNext:j.emojiStyles}),g.tasksAndDecisionsStyles,F.gridStyles,z.linkStyles,m.blockMarksSharedStyles,v.dateSharedStyle,W.extensionStyles,U.expandStyles,V.findReplaceStyles,K.taskDecisionStyles,G.statusStyles,b.annotationSharedStyles,J.smartCardStyles,y.smartCardSharedStyles,q.dateStyles,Y.embedCardStyles,k.unsupportedStyles,H.ClassNames.FLOATING_TOOLBAR_COMPONENT),Q=e(s).forwardRef((function(t,n){var r=Z.useFeatureFlags();return e(s).createElement(X,e(i)({},t,{innerRef:n,featureFlags:r}))}))})),r.register("6Xk32",(function(n,o){t(n.exports,"telepointerStyle",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD"),s=r("lJHy3"),c=r("bZAC6");r("8iml0");var l,u=r("82cWi"),d=a.css(l||(l=e(i)(["\n  .ProseMirror .telepointer {\n    position: relative;\n    transition: opacity 200ms;\n\n    &.telepointer-selection {\n      line-height: 1.2;\n      pointer-events: none;\n      user-select: none;\n    }\n\n    &.telepointer-selection-badge::after {\n      content: attr(data-initial);\n      position: absolute;\n      display: block;\n      top: -14px;\n      font-size: ",";\n      padding: 2px;\n      color: white;\n      left: -1px;\n      border-radius: 2px 2px 2px 0;\n      line-height: initial;\n    }\n\n    &."," {\n      opacity: 0.2;\n    }\n\n    ",";\n  }\n"])),u.relativeFontSizeToBase16(9),s.TELEPOINTER_DIM_CLASS,c.colors.map((function(e,t){return function(e,t){return"\n  &.color-".concat(t," {\n    background-color: ").concat(e.selection,";\n    &::after {\n      background-color: ").concat(e.solid,";\n      color: #fff;\n      border-color: ").concat(e.solid,";\n    }\n  }\n")}(e,t)})))})),r.register("hcXhI",(function(n,o){t(n.exports,"tableStyles",(function(){return x})),t(n.exports,"tableFullPageEditorStyles",(function(){return k})),t(n.exports,"tableCommentEditorStyles",(function(){return C}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("jPV1L"),c=r("kFKbx"),l=r("cufhv");r("8iml0");var u,d,f,p=r("82cWi"),h=r("4PSyH"),g=r("xZbZL"),m=r("a3gyn"),v=r("c7WcO"),b=r("3R88g"),y="\n.".concat(m.TableCssClassName.NODEVIEW_WRAPPER,".").concat(p.akEditorSelectedNodeClassName," table tbody tr {\n  th,td {\n    ").concat(h.getSelectionStyles([h.SelectionStyle.Blanket,h.SelectionStyle.Border]),"\n  }\n}\n"),E=".".concat(m.TableCssClassName.TABLE_CONTAINER," {\n  > .").concat(m.TableCssClassName.TABLE_STICKY_SENTINEL_TOP,", > .").concat(m.TableCssClassName.TABLE_STICKY_SENTINEL_BOTTOM," {\n    position: absolute;\n    width: 100%;\n    height: 0px;\n  }\n  > .").concat(m.TableCssClassName.TABLE_STICKY_SENTINEL_TOP," {\n    top: ").concat(v.columnControlsDecorationHeight,"px;\n  }\n  > .").concat(m.TableCssClassName.TABLE_STICKY_SENTINEL_BOTTOM," {\n      bottom: ").concat(v.tableScrollbarOffset+v.stickyRowOffsetTop+2*v.tablePadding+23,"px;\n  }\n  &.").concat(m.TableCssClassName.WITH_CONTROLS," {\n    > .").concat(m.TableCssClassName.TABLE_STICKY_SENTINEL_TOP," {\n      top: 0px;\n    }\n    > .").concat(m.TableCssClassName.TABLE_STICKY_SENTINEL_BOTTOM," {\n      margin-bottom: ").concat(v.columnControlsDecorationHeight,"px;\n    }\n  }\n}"),x=a.css(u||(u=e(i)(["\n  ."," button {\n    background: ",";\n    color: ",";\n    cursor: none;\n  }\n\n  .",":not(.",") button:hover {\n    background: ",";\n    color: white !important;\n    cursor: pointer;\n  }\n\n  .ProseMirror {\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n    ",";\n\n    ."," {\n      margin-bottom: 0;\n    }\n\n    ."," {\n      td.",", th."," {\n        position: relative;\n        overflow: visible;\n      }\n\n      td."," {\n        background-color: ",";\n      }\n    }\n\n    ."," {\n      ","\n    }\n\n    ."," {\n      ","\n    }\n\n    /* Delete button*/\n    ","\n    /* Ends Delete button*/\n\n    /* sticky styles */\n    ."," ."," .",":first-child {\n      margin-top: ","px;\n      width: ","px;\n\n      position: fixed !important;\n      z-index: "," !important;\n\n      box-shadow: 0px -","px white;\n      border-right: 0 none;\n      /* top set by NumberColumn component */\n    }\n\n    ."," .",".sticky {\n      position: fixed !important;\n      /* needs to be above row controls */\n      z-index: "," !important;\n      background: white;\n\n      width: ","px;\n      height: ","px;\n    }\n\n    .",".sticky ."," {\n      border-bottom: 0px none;\n      border-right: 0px none;\n\n      height: ","px;\n      width: ","px;\n    }\n\n    ."," ."," {\n      z-index: 0;\n    }\n\n    .","\n      .","\n      .",".sticky {\n      position: fixed !important;\n      z-index: "," !important;\n      display: flex;\n      border-left: ","px solid white;\n      margin-left: -","px;\n    }\n\n    ."," col:first-of-type {\n      /* moving rows out of a table layout does weird things in Chrome */\n      border-right: 1px solid green;\n    }\n\n    tr.sticky {\n      padding-top: ","px;\n      position: fixed;\n      display: grid;\n\n      /* to keep it above cell selection */\n      z-index: ",";\n\n      overflow-y: visible;\n      overflow-x: hidden;\n\n      grid-auto-flow: column;\n\n      /* background for where controls apply */\n      background: white;\n      box-sizing: content-box;\n\n      margin-top: 2px;\n\n      box-shadow: 0 6px 4px -4px ",";\n      margin-left: -1px;\n    }\n\n    ."," ."," {\n      left: unset;\n      position: fixed;\n      z-index: ",";\n    }\n\n    .",".","\n      ."," {\n      padding-bottom: ","px;\n    }\n\n    tr.sticky th {\n      border-bottom: ","px solid\n        ",";\n      margin-right: -1px;\n    }\n\n    ."," tr.sticky > th:last-child {\n      border-right-width: 1px;\n    }\n\n    /* add left edge for first cell */\n    ."," tr.sticky > th:first-child {\n      margin-left: 0px;\n    }\n\n    /* add a little bit so the scroll lines up with the table */\n    ."," tr.sticky::after {\n      content: ' ';\n      width: 1px;\n    }\n\n    /* To fix jumpiness caused in Chrome Browsers for sticky headers */\n    ."," .sticky + tr {\n      min-height: 0px;\n    }\n\n    /* move resize line a little in sticky bar */\n    .","."," {\n      tr.sticky\n        td.",",\n        tr.sticky\n        th."," {\n        .","::after {\n          right: ","px;\n        }\n      }\n\n      /* when selected put it back to normal -- :not selector would be nicer */\n      tr.sticky\n        td.",".",",\n        tr.sticky\n        th.","."," {\n        .","::after {\n          right: ","px;\n        }\n      }\n    }\n\n    tr.sticky\n      .",",\n      tr.sticky\n      ."," {\n      z-index: 1;\n    }\n\n    ."," tr.sticky {\n      padding-top: ","px;\n    }\n\n    .",".","\n      .","\n      .",":first-child {\n      margin-top: ","px;\n    }\n\n    .",".sticky {\n      border-top: ","px solid white;\n    }\n\n    ","\n\n    ","\n    ."," ."," {\n      height: 0; // stop overflow flash & set correct height in update-overflow-shadows.ts\n    }\n    .less-padding {\n      padding: 0 ","px;\n\n      ."," {\n        padding: 0 ","px;\n      }\n\n      &.","[data-number-column='true'] {\n        padding-left: ","px;\n      }\n\n      ."," {\n        left: 6px;\n      }\n\n      ."," {\n        left: calc(100% - 6px);\n      }\n    }\n\n    > ."," {\n      /**\n       * Prevent margins collapsing, aids with placing the gap-cursor correctly\n       * @see https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Box_Model/Mastering_margin_collapsing\n       *\n       * TODO: Enable this, many tests will fail!\n       * border-top: 1px solid transparent;\n       */\n    }\n\n    /* Breakout only works on top level */\n    > * ."," ."," {\n      margin-left: unset !important;\n      width: 100% !important;\n    }\n\n    ",";\n\n    /* Corner controls */\n    ."," {\n      width: ","px;\n      height: ","px;\n      display: none;\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n\n      ."," {\n        position: relative;\n\n        ",";\n      }\n    }\n    .",".sticky {\n      ."," {\n        /* sticky row insert dot overlaps other row insert and messes things up */\n        display: none !important;\n      }\n    }\n    ."," {\n      position: absolute;\n      top: 0;\n      width: ","px;\n      height: ","px;\n      border: 1px solid ",";\n      border-radius: 0;\n      border-top-left-radius: ","px;\n      background: ",";\n      box-sizing: border-box;\n      padding: 0;\n      :focus {\n        outline: none;\n      }\n    }\n    .active ."," {\n      border-color: ",";\n      background: ",";\n    }\n    .","[data-number-column='true'] {\n      .",", ."," {\n        width: ","px;\n      }\n      ."," ."," {\n        border-right-width: 0;\n      }\n    }\n    :not(.",") .",":hover {\n      border-color: ",";\n      background: ",";\n      cursor: pointer;\n    }\n    :not(.",")\n      .","."," {\n      border-color: ",";\n      background: ",";\n    }\n\n    /* Row controls */\n    ."," {\n      width: ","px;\n      box-sizing: border-box;\n      display: none;\n      position: relative;\n\n      ",";\n\n      ."," {\n        display: flex;\n        flex-direction: column;\n      }\n      .",":last-child > button {\n        border-bottom-left-radius: ","px;\n      }\n      ."," {\n        position: relative;\n        margin-top: -1px;\n      }\n      .",":hover,\n        .",".active,\n        .",":hover {\n        z-index: ",";\n      }\n\n      ","\n    }\n    :not(.",") ."," {\n      ","\n      ","\n    }\n\n    /* Numbered column */\n    ."," {\n      position: relative;\n      float: right;\n      margin-left: ","px;\n      top: ","px;\n      width: ","px;\n      box-sizing: border-box;\n    }\n    ."," {\n      border: 1px solid ",";\n      box-sizing: border-box;\n      margin-top: -1px;\n      padding-bottom: 2px;\n      padding: 10px 2px;\n      text-align: center;\n      font-size: ",";\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n\n      :first-child {\n        margin-top: 0;\n      }\n      :last-child {\n        border-bottom: 1px solid ",";\n      }\n    }\n    ."," {\n      .",", ."," {\n        display: block;\n      }\n      ."," {\n        padding-left: 1px;\n        ."," {\n          border-left: 0 none;\n        }\n\n        .",".active {\n          border-bottom: 1px solid ",";\n          border-color: ",";\n          background-color: ",";\n          position: relative;\n          z-index: ",";\n          color: ",";\n        }\n      }\n    }\n    :not(.",") ."," {\n      ."," {\n        cursor: pointer;\n      }\n      .",":hover {\n        border-bottom: 1px solid ",";\n        border-color: ",";\n        background-color: ",";\n        position: relative;\n        z-index: ",";\n        color: ",";\n      }\n      .","."," {\n        background-color: ",";\n        border: 1px solid ",";\n        border-left: 0;\n        color: ",";\n        position: relative;\n        z-index: ",";\n      }\n    }\n\n    /* Table */\n    ."," > table {\n      table-layout: fixed;\n\n      ."," + * {\n        margin-top: 0;\n      }\n\n      .",", ."," {\n        position: relative;\n      }\n      /* Give selected cells a blue overlay */\n      .","::after,\n        .","::after {\n        z-index: ",";\n        position: absolute;\n        content: '';\n        left: 0;\n        right: 0;\n        top: 0;\n        bottom: 0;\n        opacity: 0.3;\n        pointer-events: none;\n      }\n      ."," {\n        border: 1px solid ",";\n      }\n      .","::after {\n        background: ",";\n      }\n      th.","::after,\n        td.","::after {\n        background: ",";\n      }\n    }\n    ."," {\n      position: absolute;\n      top: ","px;\n    }\n    .","."," {\n      z-index: ",";\n    }\n    ."," {\n      left: -","px;\n    }\n    ."," {\n      /* \n      compensating for half of the insert column button\n      that is aligned to the right edge initially on hover of the top right column control when table overflown,\n      its center should be aligned with the edge\n       */\n      padding-right: ","px;\n      margin-right: -","px;\n      padding-top: ","px;\n      margin-top: -","px;\n      padding-bottom: ","px;\n      margin-bottom: -","px;\n      /* fixes gap cursor height */\n      overflow: auto;\n      position: relative;\n    }\n  }\n\n  .ProseMirror."," {\n    ."," {\n      overflow-x: auto;\n      ",";\n    }\n  }\n\n  .ProseMirror."," {\n    cursor: col-resize;\n  }\n"])),m.TableCssClassName.LAYOUT_BUTTON,l.N20A,l.N300,m.TableCssClassName.LAYOUT_BUTTON,m.TableCssClassName.IS_RESIZING,l.B300,s.tableSharedStyle,b.columnControlsLineMarker,b.hoveredDeleteButton,b.hoveredCell,b.hoveredWarningCell,b.resizeHandle,y,m.TableCssClassName.LAST_ITEM_IN_CELL,m.TableCssClassName.TABLE_NODE_WRAPPER,m.TableCssClassName.TABLE_CELL,m.TableCssClassName.TABLE_HEADER_CELL,m.TableCssClassName.TABLE_CELL,v.tableCellBackgroundColor,m.TableCssClassName.CONTROLS_FLOATING_BUTTON_COLUMN,b.insertColumnButtonWrapper,m.TableCssClassName.CONTROLS_FLOATING_BUTTON_ROW,b.insertRowButtonWrapper,b.DeleteButton,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.NUMBERED_COLUMN,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,v.stickyRowOffsetTop+2,p.akEditorTableNumberColumnWidth,p.akEditorStickyHeaderZIndex,v.stickyRowOffsetTop,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.CORNER_CONTROLS,p.akEditorSmallZIndex,v.tableToolbarSize,v.tableToolbarSize,m.TableCssClassName.CORNER_CONTROLS,m.TableCssClassName.CONTROLS_CORNER_BUTTON,v.tableToolbarSize,v.tableToolbarSize,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.ROW_CONTROLS,m.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP,p.akEditorStickyHeaderZIndex,v.tableToolbarSize,v.tableToolbarSize,m.TableCssClassName.TABLE_STICKY,v.stickyRowOffsetTop,v.stickyRowZIndex,l.N40A,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_STICKY_SHADOW,v.stickyRowZIndex+1,m.TableCssClassName.WITH_CONTROLS,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_STICKY_SHADOW,v.tableToolbarSize,v.stickyHeaderBorderBottomWidth,v.tableBorderColor,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_CONTAINER,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.WITH_RESIZE_LINE,m.TableCssClassName.WITH_RESIZE_LINE,m.TableCssClassName.RESIZE_HANDLE_DECORATION,(v.resizeHandlerAreaWidth-v.resizeLineWidth)/2+1,m.TableCssClassName.WITH_RESIZE_LINE,m.TableCssClassName.SELECTED_CELL,m.TableCssClassName.WITH_RESIZE_LINE,m.TableCssClassName.SELECTED_CELL,m.TableCssClassName.RESIZE_HANDLE_DECORATION,(v.resizeHandlerAreaWidth-v.resizeLineWidth)/2,m.TableCssClassName.HOVERED_CELL,m.TableCssClassName.SELECTED_CELL,m.TableCssClassName.WITH_CONTROLS,v.tableControlsSpacing,m.TableCssClassName.WITH_CONTROLS,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.NUMBERED_COLUMN,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,v.tableControlsSpacing+2,m.TableCssClassName.CORNER_CONTROLS,v.tableControlsSpacing-v.tableToolbarSize+2,(function(e){var t;return null!==(t=e.featureFlags)&&void 0!==t&&t.stickyHeadersOptimization?E:""}),b.OverflowShadow,m.TableCssClassName.TABLE_STICKY,m.TableCssClassName.TABLE_STICKY_SHADOW,v.tablePadding,m.TableCssClassName.ROW_CONTROLS_WRAPPER,v.tablePadding,m.TableCssClassName.TABLE_CONTAINER,p.akEditorTableNumberColumnWidth+v.tablePadding-1,m.TableCssClassName.TABLE_LEFT_SHADOW,m.TableCssClassName.TABLE_RIGHT_SHADOW,m.TableCssClassName.NODEVIEW_WRAPPER,m.TableCssClassName.NODEVIEW_WRAPPER,m.TableCssClassName.TABLE_CONTAINER,b.columnControlsDecoration,m.TableCssClassName.CORNER_CONTROLS,v.tableToolbarSize+1,v.tableToolbarSize+1,m.TableCssClassName.CORNER_CONTROLS_INSERT_ROW_MARKER,b.InsertMarker("\n          left: -11px;\n          top: 9px;\n        "),m.TableCssClassName.CORNER_CONTROLS_INSERT_COLUMN_MARKER,b.InsertMarker("\n          right: -1px;\n          top: -12px;\n        "),m.TableCssClassName.CORNER_CONTROLS,m.TableCssClassName.CORNER_CONTROLS_INSERT_ROW_MARKER,m.TableCssClassName.CONTROLS_CORNER_BUTTON,v.tableToolbarSize+1,v.tableToolbarSize+1,v.tableBorderColor,v.tableBorderRadiusSize,v.tableToolbarColor,m.TableCssClassName.CONTROLS_CORNER_BUTTON,v.tableBorderSelectedColor,v.tableToolbarSelectedColor,m.TableCssClassName.TABLE_CONTAINER,m.TableCssClassName.CORNER_CONTROLS,m.TableCssClassName.CONTROLS_CORNER_BUTTON,p.akEditorTableToolbarSize+p.akEditorTableNumberColumnWidth,m.TableCssClassName.ROW_CONTROLS,m.TableCssClassName.CONTROLS_BUTTON,m.TableCssClassName.IS_RESIZING,m.TableCssClassName.CONTROLS_CORNER_BUTTON,v.tableBorderSelectedColor,v.tableToolbarSelectedColor,m.TableCssClassName.IS_RESIZING,m.TableCssClassName.CONTROLS_CORNER_BUTTON,m.TableCssClassName.HOVERED_CELL_IN_DANGER,v.tableBorderDeleteColor,v.tableToolbarDeleteColor,m.TableCssClassName.ROW_CONTROLS,v.tableToolbarSize,b.InsertMarker("\n        bottom: -1px;\n        left: -11px;\n      "),m.TableCssClassName.ROW_CONTROLS_INNER,m.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP,v.tableBorderRadiusSize,m.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP,m.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP,m.TableCssClassName.ROW_CONTROLS_BUTTON_WRAP,m.TableCssClassName.CONTROLS_BUTTON,p.akEditorUnitZIndex,b.HeaderButton("\n        border-bottom: 1px solid ".concat(v.tableBorderColor,";\n        border-right: 0px;\n        border-radius: 0;\n        height: 100%;\n        width: ").concat(v.tableToolbarSize,"px;\n\n        .").concat(m.TableCssClassName.CONTROLS_BUTTON_OVERLAY," {\n          position: absolute;\n          width: 30px;\n          height: 50%;\n          right: 0;\n          bottom: 0;\n        }\n        .").concat(m.TableCssClassName.CONTROLS_BUTTON_OVERLAY,":first-child {\n          top: 0;\n        }\n      ")),m.TableCssClassName.IS_RESIZING,m.TableCssClassName.ROW_CONTROLS,b.HeaderButtonHover(),b.HeaderButtonDanger(),m.TableCssClassName.NUMBERED_COLUMN,p.akEditorTableToolbarSize-1,p.akEditorTableToolbarSize,p.akEditorTableNumberColumnWidth+1,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,v.tableBorderColor,p.relativeFontSizeToBase16(c.fontSize()),v.tableToolbarColor,v.tableTextColor,v.tableBorderColor,v.tableBorderColor,m.TableCssClassName.WITH_CONTROLS,m.TableCssClassName.CORNER_CONTROLS,m.TableCssClassName.ROW_CONTROLS,m.TableCssClassName.NUMBERED_COLUMN,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,v.tableBorderSelectedColor,v.tableBorderSelectedColor,v.tableToolbarSelectedColor,p.akEditorUnitZIndex,l.N0,m.TableCssClassName.IS_RESIZING,m.TableCssClassName.WITH_CONTROLS,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,v.tableBorderSelectedColor,v.tableBorderSelectedColor,v.tableToolbarSelectedColor,p.akEditorUnitZIndex,l.N0,m.TableCssClassName.NUMBERED_COLUMN_BUTTON,m.TableCssClassName.HOVERED_CELL_IN_DANGER,v.tableToolbarDeleteColor,v.tableBorderDeleteColor,l.R500,p.akEditorUnitZIndex,m.TableCssClassName.TABLE_NODE_WRAPPER,m.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,m.TableCssClassName.SELECTED_CELL,m.TableCssClassName.HOVERED_CELL_IN_DANGER,m.TableCssClassName.SELECTED_CELL,m.TableCssClassName.HOVERED_CELL_IN_DANGER,p.akEditorSmallZIndex,m.TableCssClassName.SELECTED_CELL,v.tableBorderSelectedColor,m.TableCssClassName.SELECTED_CELL,v.tableCellSelectedColor,m.TableCssClassName.HOVERED_CELL_IN_DANGER,m.TableCssClassName.HOVERED_CELL_IN_DANGER,v.tableCellDeleteColor,m.TableCssClassName.ROW_CONTROLS_WRAPPER,s.tableMarginTop-1,m.TableCssClassName.ROW_CONTROLS_WRAPPER,m.TableCssClassName.TABLE_LEFT_SHADOW,p.akEditorUnitZIndex,m.TableCssClassName.ROW_CONTROLS_WRAPPER,v.tableToolbarSize,m.TableCssClassName.TABLE_NODE_WRAPPER,v.tableInsertColumnButtonSize/2,v.tableInsertColumnButtonSize/2,v.tableInsertColumnButtonSize/2,v.tableInsertColumnButtonSize/2,v.tableScrollbarOffset,v.tableScrollbarOffset,m.TableCssClassName.IS_RESIZING,m.TableCssClassName.TABLE_NODE_WRAPPER,g.scrollbarStyles,m.TableCssClassName.RESIZE_CURSOR),k=a.css(d||(d=e(i)(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    width: 100%;\n  }\n"])),m.TableCssClassName.TABLE_NODE_WRAPPER),C=a.css(f||(f=e(i)(["\n  .ProseMirror ."," > table {\n    margin-left: 0;\n    margin-right: 0;\n    ",";\n  }\n"])),m.TableCssClassName.TABLE_NODE_WRAPPER,g.scrollbarStyles)})),r.register("3R88g",(function(n,o){t(n.exports,"InsertMarker",(function(){return B})),t(n.exports,"HeaderButton",(function(){return F})),t(n.exports,"HeaderButtonHover",(function(){return z})),t(n.exports,"HeaderButtonDanger",(function(){return W})),t(n.exports,"insertColumnButtonWrapper",(function(){return V})),t(n.exports,"insertRowButtonWrapper",(function(){return K})),t(n.exports,"columnControlsLineMarker",(function(){return G})),t(n.exports,"DeleteButton",(function(){return J})),t(n.exports,"OverflowShadow",(function(){return q})),t(n.exports,"columnControlsDecoration",(function(){return Z})),t(n.exports,"hoveredDeleteButton",(function(){return X})),t(n.exports,"hoveredCell",(function(){return Q})),t(n.exports,"hoveredWarningCell",(function(){return $})),t(n.exports,"resizeHandle",(function(){return ee}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("jPV1L");r("8iml0");var c,l,u,d,f,p,h,g,m,v,b,y,E,x,k,C,S,T,O,w,N,P,A=r("82cWi"),I=r("cufhv"),D=r("c7WcO"),R=r("a3gyn"),M=r("kFKbx"),_=function(t){return a.css(c||(c=e(i)(["\n  ."," {\n    background: ",";\n    display: none;\n    position: absolute;\n    z-index: ",";\n    ","\n  }\n"])),R.TableCssClassName.CONTROLS_INSERT_LINE,D.tableBorderSelectedColor,A.akEditorUnitZIndex,t)},j=a.css(l||(l=e(i)(["\n  background-color: ",";\n  position: absolute;\n  height: ","px;\n  width: ","px;\n  border-radius: 50%;\n  pointer-events: none;\n"])),D.tableBorderColor,D.lineMarkerSize,D.lineMarkerSize),B=function(t){return a.css(u||(u=e(i)(["\n  ."," {\n    ",";\n    ","\n  }\n"])),R.TableCssClassName.CONTROLS_INSERT_MARKER,j,t)},L=function(t){return a.css(d||(d=e(i)(["\n  border-radius: ","px;\n  border-width: 0px;\n  display: inline-flex;\n  max-width: 100%;\n  text-align: center;\n  margin: 0px;\n  padding: 0px;\n  text-decoration: none;\n  transition: background 0.1s ease-out 0s, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38) 0s;\n  outline: none !important;\n  cursor: none;\n\n  > ."," {\n    display: inline-flex;\n    max-height: 100%;\n    max-width: 100%;\n  }\n  ","\n"])),M.borderRadius(),R.TableCssClassName.CONTROLS_BUTTON_ICON,t)},F=function(t){return a.css(f||(f=e(i)(["\n  ."," {\n    background: ",";\n    border: 1px solid ",";\n    display: block;\n    box-sizing: border-box;\n    padding: 0;\n\n    :focus {\n      outline: none;\n    }\n    ","\n  }\n\n  .","::after {\n    content: ' ';\n    background-color: transparent;\n    left: -15px;\n    top: 0;\n    position: absolute;\n    width: 15px;\n    height: 100%;\n    z-index: 1;\n  }\n\n  .active ."," {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n  }\n"])),R.TableCssClassName.CONTROLS_BUTTON,D.tableToolbarColor,D.tableBorderColor,t,R.TableCssClassName.ROW_CONTROLS_BUTTON,R.TableCssClassName.CONTROLS_BUTTON,I.N0,D.tableToolbarSelectedColor,D.tableBorderSelectedColor)},z=function(){return a.css(p||(p=e(i)(["\n  .",":hover {\n    color: ",";\n    background-color: ",";\n    border-color: ",";\n    cursor: pointer;\n  }\n"])),R.TableCssClassName.CONTROLS_BUTTON,I.N0,D.tableToolbarSelectedColor,D.tableBorderSelectedColor)},W=function(){return a.css(h||(h=e(i)(["\n  ."," ."," {\n    background-color: ",";\n    border-color: ",";\n    position: relative;\n    z-index: ",";\n  }\n"])),R.TableCssClassName.HOVERED_CELL_IN_DANGER,R.TableCssClassName.CONTROLS_BUTTON,D.tableToolbarDeleteColor,D.tableBorderDeleteColor,A.akEditorUnitZIndex)},U=function(){return a.css(g||(g=e(i)(["\n  ."," {\n    position: absolute;\n    z-index: ",";\n    bottom: 0;\n  }\n  .",",\n  ."," {\n    height: ","px;\n    width: ","px;\n  }\n  ."," {\n    ","\n  }\n  ."," {\n    display: none;\n  }\n  &:hover ."," {\n    display: flex;\n  }\n"])),R.TableCssClassName.CONTROLS_INSERT_BUTTON_INNER,A.akEditorUnitZIndex+10,R.TableCssClassName.CONTROLS_INSERT_BUTTON_INNER,R.TableCssClassName.CONTROLS_INSERT_BUTTON,D.tableInsertColumnButtonSize,D.tableInsertColumnButtonSize,R.TableCssClassName.CONTROLS_INSERT_BUTTON,L("\n      background: white;\n      box-shadow: 0 4px 8px -2px ".concat(I.N60A,", 0 0 1px ").concat(I.N60A,";\n      color: ").concat(I.N300,";\n    ")),R.TableCssClassName.CONTROLS_INSERT_LINE,R.TableCssClassName.CONTROLS_INSERT_LINE)},H=function(){return a.css(m||(m=e(i)(["\n  .",":hover {\n    background: ",";\n    color: white;\n    cursor: pointer;\n  }\n"])),R.TableCssClassName.CONTROLS_INSERT_BUTTON,I.B300)},V=a.css(v||(v=e(i)(["\n  ","\n  ","\n  ","\n"])),U(),H(),_("\n    width: 2px;\n    left: 9px;\n  ")),K=a.css(b||(b=e(i)(["\n  ","\n  ","\n  ","\n"])),U(),H(),_("\n    height: 2px;\n    top: -11px;\n    left: ".concat(D.tableInsertColumnButtonSize-1,"px;\n  "))),G=a.css(y||(y=e(i)(["\n  .","."," table tr:first-child td,\n  .","."," table tr:first-child th {\n    position: relative;\n\n    &::before {\n      content: ' ';\n      ",";\n      top: -","px;\n      right: -","px;\n    }\n  }\n"])),R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.WITH_CONTROLS,R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.WITH_CONTROLS,j,D.tableToolbarSize+D.lineMarkerOffsetFromColumnControls,D.lineMarkerSize/2),J=a.css(E||(E=e(i)(["\n  .",",\n  ."," {\n    height: ","px;\n    width: ","px;\n  }\n  ."," {\n    ."," {\n      ","\n    }\n  }\n\n  .",":hover {\n    background: ",";\n    color: white;\n    cursor: pointer;\n  }\n"])),R.TableCssClassName.CONTROLS_DELETE_BUTTON_WRAP,R.TableCssClassName.CONTROLS_DELETE_BUTTON,D.tableDeleteButtonSize,D.tableDeleteButtonSize,R.TableCssClassName.CONTROLS_DELETE_BUTTON_WRAP,R.TableCssClassName.CONTROLS_DELETE_BUTTON,L("\n        background: ".concat(I.N20A,";\n        color: ").concat(I.N300,";\n      ")),R.TableCssClassName.CONTROLS_DELETE_BUTTON,I.R300),q=a.css(x||(x=e(i)(["\n.",",\n.","{\n  display: block;\n  height: calc(100% - ","px);\n  position: absolute;\n  pointer-events: none;\n  top: ","px;\n  z-index: ",";\n  width: 8px;\n}\n."," {\n  background: linear-gradient(\n    to left,\n    rgba(99, 114, 130, 0) 0,\n    "," 100%\n  );\n  left: 0px;\n}\n.","[data-number-column='true'] > :not(.",")."," {\n  left: ","px;\n}\n."," {\n  background: linear-gradient(\n    to right,\n    rgba(99, 114, 130, 0) 0,\n    "," 100%\n  );\n  left: calc(100% + 2px);\n}\n."," {\n  .",",\n  .","{\n    height: calc(100% - ","px);\n    top: ","px;\n  }\n  ."," {\n    border-left: 1px solid ",";\n  }\n}\n.","."," {\n  .",",\n  ."," {\n    top: ","px;\n  }\n}\n"])),R.TableCssClassName.TABLE_RIGHT_SHADOW,R.TableCssClassName.TABLE_LEFT_SHADOW,s.tableMarginTop+s.tableMarginBottom+D.tableToolbarSize-2,s.tableMarginTop+D.tableToolbarSize-1,A.akEditorShadowZIndex,R.TableCssClassName.TABLE_LEFT_SHADOW,I.N40A,R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.TABLE_STICKY_SHADOW,R.TableCssClassName.TABLE_LEFT_SHADOW,A.akEditorTableNumberColumnWidth-1,R.TableCssClassName.TABLE_RIGHT_SHADOW,I.N40A,R.TableCssClassName.WITH_CONTROLS,R.TableCssClassName.TABLE_RIGHT_SHADOW,R.TableCssClassName.TABLE_LEFT_SHADOW,s.tableMarginTop+s.tableMarginBottom-2,s.tableMarginTop-1,R.TableCssClassName.TABLE_LEFT_SHADOW,D.tableBorderColor,R.TableCssClassName.WITH_CONTROLS,R.TableCssClassName.TABLE_STICKY,R.TableCssClassName.TABLE_RIGHT_SHADOW,R.TableCssClassName.TABLE_LEFT_SHADOW,D.tableControlsSpacing),Y=a.css(C||(C=e(i)(["\n  color: ",";\n  background-color: ",";\n  border-color: ",";\n  z-index: ",";\n"])),I.N0,D.tableToolbarSelectedColor,D.tableBorderSelectedColor,D.columnControlsSelectedZIndex),Z=a.css(S||(S=e(i)(["\n  ."," {\n    display: none;\n    cursor: pointer;\n    position: absolute;\n    width: calc(100% + ","px);\n    left: -1px;\n    top: -","px;\n    height: ","px;\n\n    &::after {\n      content: ' ';\n\n      ","\n    }\n  }\n\n  ."," ."," {\n    display: block;\n  }\n\n  table tr:first-child td.",",\n  table tr:first-child th."," {\n    &.",",\n    &.",",\n    &."," {\n      .","::after {\n        ",";\n      }\n\n      &."," .","::after {\n        background-color: ",";\n        border: 1px solid ",";\n        border-bottom: none;\n        z-index: ",";\n      }\n    }\n  }\n\n  ."," table tr:first-child td.",",\n  ."," table tr:first-child th."," {\n    .","::after {\n      ",";\n    }\n  }\n"])),R.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,2*s.tableCellBorderWidth,D.columnControlsDecorationHeight+s.tableCellBorderWidth,D.columnControlsDecorationHeight,(P="\n        border-right: ".concat(s.tableCellBorderWidth,"px solid ").concat(D.tableBorderColor,";\n        border-bottom: none;\n        height: ").concat(D.tableToolbarSize,"px;\n        width: 100%;\n        position: absolute;\n        top: ").concat(D.columnControlsDecorationHeight-D.tableToolbarSize,"px;\n        left: 0px;\n        z-index: ").concat(D.columnControlsZIndex,";\n      "),a.css(k||(k=e(i)(["\n  background: ",";\n  border: 1px solid ",";\n  display: block;\n  box-sizing: border-box;\n  padding: 0;\n\n  :focus {\n    outline: none;\n  }\n\n  ","\n"])),D.tableToolbarColor,D.tableBorderColor,P)),R.TableCssClassName.WITH_CONTROLS,R.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,R.TableCssClassName.TABLE_CELL,R.TableCssClassName.TABLE_HEADER_CELL,R.TableCssClassName.COLUMN_SELECTED,R.TableCssClassName.HOVERED_COLUMN,R.TableCssClassName.HOVERED_TABLE,R.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,Y,R.TableCssClassName.HOVERED_CELL_IN_DANGER,R.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,D.tableToolbarDeleteColor,D.tableBorderDeleteColor,100*A.akEditorUnitZIndex,R.TableCssClassName.TABLE_SELECTED,R.TableCssClassName.TABLE_CELL,R.TableCssClassName.TABLE_SELECTED,R.TableCssClassName.TABLE_HEADER_CELL,R.TableCssClassName.COLUMN_CONTROLS_DECORATIONS,Y),X=a.css(T||(T=e(i)(["\n  .","."," {\n    .",",\n    .",",\n    ."," {\n      border: 1px solid ",";\n    }\n    .","::after {\n      background: ",";\n    }\n  }\n"])),R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.HOVERED_DELETE_BUTTON,R.TableCssClassName.SELECTED_CELL,R.TableCssClassName.COLUMN_SELECTED,R.TableCssClassName.HOVERED_CELL,D.tableBorderDeleteColor,R.TableCssClassName.SELECTED_CELL,D.tableCellDeleteColor),Q=a.css(O||(O=e(i)(["\n  :not(.",") .",":not(.",") {\n    ."," {\n      position: relative;\n      border: 1px solid ",";\n    }\n  }\n"])),R.TableCssClassName.IS_RESIZING,R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.HOVERED_DELETE_BUTTON,R.TableCssClassName.HOVERED_CELL,D.tableBorderSelectedColor),$=a.css(w||(w=e(i)(["\n  :not(.",") .",":not(.",") {\n    td."," {\n      background-color: "," !important; // We need to override the background-color added to the cell\n      border: 1px solid ",";\n    }\n  }\n"])),R.TableCssClassName.IS_RESIZING,R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.HOVERED_DELETE_BUTTON,R.TableCssClassName.HOVERED_CELL_WARNING,I.Y50,I.Y200),ee=a.css(N||(N=e(i)(["\n  ."," {\n    ."," {\n      background-color: transparent;\n      position: absolute;\n      width: ","px;\n      height: 100%;\n      top: 0;\n      right: -","px;\n      cursor: col-resize;\n      z-index: ",";\n    }\n\n    td.",",\n    th."," {\n      .","::after {\n        content: ' ';\n        right: ","px;\n        position: absolute;\n        width: ","px;\n        height: calc(100% + 1px);\n        background-color: ",";\n        z-index: ",";\n        top: 0;\n      }\n    }\n\n    table tr:first-child th."," .","::after,\n    table tr:first-child td."," .","::after {\n      top: -","px;\n      height: calc(100% + ","px);\n    }\n  }\n"])),R.TableCssClassName.TABLE_CONTAINER,R.TableCssClassName.RESIZE_HANDLE_DECORATION,D.resizeHandlerAreaWidth,D.resizeHandlerAreaWidth/2,D.resizeHandlerZIndex,R.TableCssClassName.WITH_RESIZE_LINE,R.TableCssClassName.WITH_RESIZE_LINE,R.TableCssClassName.RESIZE_HANDLE_DECORATION,(D.resizeHandlerAreaWidth-D.resizeLineWidth)/2,D.resizeLineWidth,D.tableBorderSelectedColor,2*D.columnControlsZIndex,R.TableCssClassName.WITH_RESIZE_LINE,R.TableCssClassName.RESIZE_HANDLE_DECORATION,R.TableCssClassName.WITH_RESIZE_LINE,R.TableCssClassName.RESIZE_HANDLE_DECORATION,D.tableToolbarSize+s.tableCellBorderWidth,D.tableToolbarSize+s.tableCellBorderWidth)})),r.register("6kDrI",(function(n,o){t(n.exports,"blocktypeStyles",(function(){return u}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s,c=r("5JmTc"),l=r("cQf9L"),u=a.css(s||(s=e(i)(["\n  .ProseMirror {\n    ",";\n    ",";\n  }\n"])),c.blockquoteSharedStyles,l.headingsSharedStyles)})),r.register("4OCY9",(function(n,o){t(n.exports,"highlightingCodeBlockStyles",(function(){return m})),t(n.exports,"codeBlockStyles",(function(){return v}));var i=r("lhkMJ"),a=r("SssiD");r("cPjBT");var s=r("4Slod"),c=r("kFKbx"),l=r("cufhv");r("8iml0");var u,d,f=r("f9c8b"),p=r("82cWi"),h=r("4PSyH"),g=r("h78KB"),m=a.css(u||(u=e(i)(["\n  .ProseMirror .code-block {\n    position: relative;\n    background-image: ",";\n    background-repeat: no-repeat;\n    background-color: ",";\n    --ds--code--bg-color: transparent;\n    background-attachment: local, scroll, scroll;\n    background-size: 8px 100%, 8px 100%, 8px 100%;\n    background-position: 100% 0, 100% 0, 0 0;\n    font-family: ",";\n    border-radius: ","px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n    cursor: pointer;\n    overflow-x: auto;\n\n    ."," {\n      /* https://bitbucket.org/atlassian/atlassian-frontend/src/develop/packages/design-system/code/src/themes/themeBuilder.ts#packages/design-system/code/src/themes/themeBuilder.ts-19:28 */\n      flex-shrink: 0;\n      text-align: right;\n      background-color: ",";\n      padding: ","px;\n      color: ",";\n\n      span {\n        display: block;\n        line-height: 0;\n        font-size: 0;\n\n        &::before {\n          display: inline-block;\n          content: counter(line);\n          counter-increment: line;\n          font-size: ",";\n          line-height: 1.5rem;\n          color: ",";\n        }\n      }\n    }\n\n    ."," {\n      position: absolute;\n      z-index: 2;\n      width: 100%;\n      height: 100%;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      pointer-events: none;\n      overflow: hidden;\n      tab-size: 4;\n\n      & [data-ds--code--code-block] {\n        font-size: ",";\n        line-height: 1.5rem;\n      }\n    }\n\n    ."," {\n      position: relative;\n      z-index: 1;\n      display: flex;\n      flex: 1;\n\n      > code {\n        flex-grow: 1;\n        tab-size: 4;\n        cursor: text;\n        /* https://bitbucket.org/atlassian/atlassian-frontend/src/218202daeaf527262c21841e6f88fa058d349ad4/packages/design-system/code/src/themes/themeBuilder.ts#lines-12:17 */\n        font-size: ",";\n        line-height: 1.5rem;\n        border-radius: ","px;\n        margin: ","px;\n        white-space: pre;\n      }\n\n      &[data-debounce='true'] {\n        ."," {\n          display: none;\n        }\n      }\n\n      &:not([data-debounce='true']) {\n        > code:not([data-language='plaintext']):not([data-language='none']):not([data-language='']) {\n          color: transparent;\n          caret-color: ",";\n        }\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  .ProseMirror .code-block.",":not(.danger) {\n    ","\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    box-shadow: 0 0 0 ","px ",";\n\n    ."," {\n      background-color: ",";\n      color: ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    ."," {\n      background-color: rgba(255, 143, 115, 0.5);\n      color: ",";\n    }\n\n    ."," {\n      background-color: rgba(255, 189, 173, 0.5);\n    }\n  }\n"])),f.overflowShadow({background:s.default({light:l.N20,dark:l.DN50}),width:"8px"}),s.default({light:l.N20,dark:l.DN50}),p.akEditorCodeFontFamily,c.borderRadius(),p.blockNodesVerticalMargin,p.akEditorTableCellMinWidth,g.codeBlockClassNames.gutter,s.default({light:l.N30,dark:l.DN20}),c.gridSize(),s.default({light:l.N90,dark:l.DN90}),p.relativeFontSizeToBase16(c.fontSize()),s.default({light:l.N400,dark:l.DN400}),g.codeBlockClassNames.highlighting,p.relativeFontSizeToBase16(c.fontSize()),g.codeBlockClassNames.content,p.relativeFontSizeToBase16(c.fontSize()),c.borderRadius(),c.gridSize(),g.codeBlockClassNames.highlighting,s.default({light:l.N800,dark:l.DN500}),p.akEditorSelectedNodeClassName,h.getSelectionStyles([h.SelectionStyle.BoxShadow,h.SelectionStyle.Blanket]),p.akEditorSelectedBorderSize,p.akEditorDeleteBorder,g.codeBlockClassNames.gutter,l.R75,p.akEditorDeleteIconColor,g.codeBlockClassNames.content,p.akEditorDeleteBackground,g.codeBlockClassNames.gutter,p.akEditorDeleteIconColor,g.codeBlockClassNames.content),v=a.css(d||(d=e(i)(["\n  .ProseMirror .code-block {\n    position: relative;\n    background-image: ",";\n    --ds--code--bg-color: transparent;\n    background-repeat: no-repeat;\n    background-color: ",";\n    background-attachment: local, scroll, scroll;\n    background-size: 8px 100%, 8px 100%, 8px 100%;\n    background-position: 100% 0, 100% 0, 0 0;\n    font-family: ",";\n    border-radius: ","px;\n    margin: "," 0 0 0;\n    counter-reset: line;\n    display: flex;\n    min-width: ","px;\n    cursor: pointer;\n    overflow-x: auto;\n\n    ."," {\n      /* https://bitbucket.org/atlassian/atlassian-frontend/src/develop/packages/design-system/code/src/themes/themeBuilder.ts#packages/design-system/code/src/themes/themeBuilder.ts-19:28 */\n      flex-shrink: 0;\n      text-align: right;\n      background-color: ",";\n      padding: ","px;\n\n      span {\n        display: block;\n        line-height: 0;\n        font-size: 0;\n\n        &::before {\n          display: inline-block;\n          content: counter(line);\n          counter-increment: line;\n          font-size: ",";\n          line-height: 1.5rem;\n          color: ",";\n        }\n      }\n    }\n\n    ."," {\n      display: flex;\n      flex: 1;\n\n      code {\n        flex-grow: 1;\n        tab-size: 4;\n        cursor: text;\n        /* https://bitbucket.org/atlassian/atlassian-frontend/src/218202daeaf527262c21841e6f88fa058d349ad4/packages/design-system/code/src/themes/themeBuilder.ts#lines-12:17 */\n        font-size: ",";\n        line-height: 1.5rem;\n        color: ",";\n        border-radius: ","px;\n        margin: ","px;\n        white-space: pre;\n      }\n    }\n  }\n\n  .ProseMirror li > .code-block {\n    margin: 0;\n  }\n\n  .ProseMirror .code-block.",":not(.danger) {\n    ","\n  }\n\n  /* Danger when top level node */\n  .ProseMirror .danger.code-block {\n    box-shadow: 0 0 0 ","px ",";\n\n    ."," {\n      background-color: ",";\n      color: ",";\n    }\n\n    ."," {\n      background-color: ",";\n    }\n  }\n\n  /* Danger when nested node */\n  .ProseMirror .danger .code-block {\n    ."," {\n      background-color: rgba(255, 143, 115, 0.5);\n      color: ",";\n    }\n\n    ."," {\n      background-color: rgba(255, 189, 173, 0.5);\n    }\n  }\n"])),f.overflowShadow({background:s.default({light:l.N20,dark:l.DN50}),width:"8px"}),s.default({light:l.N20,dark:l.DN50}),p.akEditorCodeFontFamily,c.borderRadius(),p.blockNodesVerticalMargin,p.akEditorTableCellMinWidth,g.codeBlockClassNames.gutter,s.default({light:l.N30,dark:l.DN20}),c.gridSize(),p.relativeFontSizeToBase16(c.fontSize()),s.default({light:l.N400,dark:l.DN400}),g.codeBlockClassNames.content,p.relativeFontSizeToBase16(c.fontSize()),s.default({light:l.N800,dark:l.DN800}),c.borderRadius(),c.gridSize(),p.akEditorSelectedNodeClassName,h.getSelectionStyles([h.SelectionStyle.BoxShadow,h.SelectionStyle.Blanket]),p.akEditorSelectedBorderSize,p.akEditorDeleteBorder,g.codeBlockClassNames.gutter,l.R75,p.akEditorDeleteIconColor,g.codeBlockClassNames.content,p.akEditorDeleteBackground,g.codeBlockClassNames.gutter,p.akEditorDeleteIconColor,g.codeBlockClassNames.content)})),r.register("aj6eu",(function(n,o){t(n.exports,"listsStyles",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  .ProseMirror li {\n    position: relative;\n\n    > p:not(:first-child) {\n      margin: 4px 0 0 0;\n    }\n  }\n"])))})),r.register("tY9F2",(function(n,o){t(n.exports,"ruleStyles",(function(){return u}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("ddFg9");r("8iml0");var c,l=r("82cWi"),u=a.css(c||(c=e(i)(["\n  .ProseMirror {\n    ",";\n\n    hr {\n      cursor: pointer;\n      padding: 4px 0;\n      margin: calc(","em - 4px) 0;\n      background-clip: content-box;\n\n      &."," {\n        outline: none;\n        background-color: ",";\n      }\n    }\n  }\n"])),s.ruleSharedStyles,l.akEditorLineHeight,l.akEditorSelectedNodeClassName,l.akEditorSelectedBorderColor)})),r.register("6T3eQ",(function(n,o){t(n.exports,"mediaStyles",(function(){return f}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("kIH45");r("8iml0");var c,l=r("82cWi"),u=r("cufhv"),d=r("kw77Z"),f=a.css(c||(c=e(i)(["\n  .ProseMirror {\n    "," & [layout='full-width'] .",",\n    & [layout='wide'] ."," {\n      margin-left: 50%;\n      transform: translateX(-50%);\n    }\n\n    & [layout^='wrap-'] + [layout^='wrap-'] {\n      clear: none;\n      & + p,\n      & + div[class^='fabric-editor-align'],\n      & + ul,\n      & + ol,\n      & + h1,\n      & + h2,\n      & + h3,\n      & + h4,\n      & + h5,\n      & + h6 {\n        clear: both !important;\n      }\n      & ."," {\n        margin-left: 0;\n        margin-right: 0;\n      }\n    }\n\n    .mediaSingleView-content-wrap[layout^='wrap-'] {\n      max-width: 100%;\n      // overwrite default Prosemirror setting making it clear: both\n      clear: inherit;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-left'] {\n      float: left;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-right'] {\n      float: right;\n    }\n\n    .mediaSingleView-content-wrap[layout='wrap-right']\n      + .mediaSingleView-content-wrap[layout='wrap-left'] {\n      clear: both;\n    }\n\n    /* Larger margins for resize handlers when at depth 0 of the document */\n    & > .mediaSingleView-content-wrap {\n      .richMedia-resize-handle-right {\n        margin-right: -","px;\n      }\n      .richMedia-resize-handle-left {\n        margin-left: -","px;\n      }\n    }\n  }\n\n  .richMedia-resize-handle-right,\n  .richMedia-resize-handle-left {\n    display: flex;\n    flex-direction: column;\n\n    /* vertical align */\n    justify-content: center;\n  }\n\n  .richMedia-resize-handle-right {\n    align-items: flex-end;\n    padding-right: 12px;\n    margin-right: -","px;\n  }\n\n  .richMedia-resize-handle-left {\n    align-items: flex-start;\n    padding-left: 12px;\n    margin-left: -","px;\n  }\n\n  .richMedia-resize-handle-right::after,\n  .richMedia-resize-handle-left::after {\n    content: ' ';\n    display: flex;\n    width: 3px;\n    height: 64px;\n\n    border-radius: 6px;\n  }\n\n  .",":hover .richMedia-resize-handle-left::after,\n  .",":hover .richMedia-resize-handle-right::after {\n    background: ",";\n  }\n\n  ."," .richMedia-resize-handle-right::after,\n  ."," .richMedia-resize-handle-left::after,\n  ."," .richMedia-resize-handle-right:hover::after,\n  ."," .richMedia-resize-handle-left:hover::after,\n  .",".is-resizing .richMedia-resize-handle-right::after,\n  .",".is-resizing .richMedia-resize-handle-left::after {\n    background: ",";\n  }\n\n  .__resizable_base__ {\n    left: unset !important;\n    width: auto !important;\n    height: auto !important;\n  }\n\n  /* Danger when top level node for smart cards / inline links */\n  .danger > div > div > .media-card-frame,\n  .danger > span > a {\n    background-color: ",";\n    box-shadow: 0px 0px 0px ","px\n      ",";\n    transition: background-color 0s;\n    transition: box-shadow 0s;\n  }\n\n  /* Danger when nested node or common */\n  .danger {\n    /* Media single */\n    ."," .","::after {\n      border: 1px solid ",";\n    }\n    /* Media single video player */\n    ."," .","::after {\n      border: 1px solid ",";\n    }\n    /* New file experience */\n    ."," ."," {\n      box-shadow: 0 0 0 1px "," !important;\n    }\n    /* Media resize handlers */\n    .richMedia-resize-handle-right::after,\n    .richMedia-resize-handle-left::after {\n      background: ",";\n    }\n\n    /* Smart cards */\n    div div .media-card-frame,\n    .inlineCardView-content-wrap > span > a {\n      background-color: rgb(255, 189, 173, 0.5); /* R75 with 50% opactiy */\n      transition: background-color 0s;\n    }\n\n    div div .media-card-frame::after {\n      box-shadow: none;\n    }\n  }\n"])),s.mediaSingleSharedStyle,s.richMediaClassName,s.richMediaClassName,s.richMediaClassName,l.akEditorMediaResizeHandlerPaddingWide,l.akEditorMediaResizeHandlerPaddingWide,l.akEditorMediaResizeHandlerPadding,l.akEditorMediaResizeHandlerPadding,s.richMediaClassName,s.richMediaClassName,u.N60,l.akEditorSelectedNodeClassName,l.akEditorSelectedNodeClassName,s.richMediaClassName,s.richMediaClassName,s.richMediaClassName,s.richMediaClassName,u.B200,l.akEditorDeleteBackground,l.akEditorSelectedBorderBoldSize,l.akEditorDeleteBorder,s.richMediaClassName,d.fileCardImageViewSelector,l.akEditorDeleteIconColor,s.richMediaClassName,d.inlinePlayerClassName,l.akEditorDeleteIconColor,s.richMediaClassName,d.newFileExperienceClassName,l.akEditorDeleteIconColor,l.akEditorDeleteIconColor)})),r.register("4fbkH",(function(n,o){t(n.exports,"panelStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("5AXQ3");r("8iml0");var c,l=r("82cWi"),u=r("4PSyH"),d=a.css(c||(c=e(i)(["\n  .ProseMirror {\n    ."," {\n      cursor: pointer;\n\n      /* Danger when top level node */\n      &.danger {\n        box-shadow: 0 0 0 ","px\n          ",";\n        background-color: "," !important;\n\n        ."," {\n          color: "," !important;\n        }\n      }\n    }\n\n    ."," {\n      cursor: text;\n    }\n\n    /* Danger when nested node */\n    .danger ."," {\n      &[data-panel-type] {\n        background-color: ",";\n\n        ."," {\n          color: ",";\n        }\n      }\n    }\n\n    ",";\n  }\n\n  .",".",":not(.danger) {\n    ","\n  }\n"])),s.PanelSharedCssClassName.prefix,l.akEditorSelectedBorderSize,l.akEditorDeleteBorder,l.akEditorDeleteBackground,s.PanelSharedCssClassName.icon,l.akEditorDeleteIconColor,s.PanelSharedCssClassName.content,s.PanelSharedCssClassName.prefix,l.akEditorDeleteBackgroundWithOpacity,s.PanelSharedCssClassName.icon,l.akEditorDeleteIconColor,s.panelSharedStyles,s.PanelSharedCssClassName.prefix,l.akEditorSelectedNodeClassName,u.getSelectionStyles([u.SelectionStyle.BoxShadow,u.SelectionStyle.Blanket]))})),r.register("gIXxM",(function(n,o){t(n.exports,"fakeCursorStyles",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("cufhv"),l=s.css(i||(i=e(a)(["\n  .ProseMirror {\n    .ProseMirror-fake-text-cursor {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n    }\n\n    .ProseMirror-fake-text-cursor::after {\n      content: '';\n      display: inline;\n      top: 0;\n      position: absolute;\n      border-right: 1px solid rgba(0, 0, 0, 0.4);\n    }\n\n    .ProseMirror-fake-text-selection {\n      display: inline;\n      pointer-events: none;\n      position: relative;\n      background-color: ",";\n    }\n  }\n"])),c.B75)})),r.register("aBP12",(function(n,o){t(n.exports,"mentionsStyles",(function(){return f}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("7Pk9F");r("8iml0");var c,l=r("82cWi"),u=r("4PSyH"),d=r("cufhv"),f=a.css(c||(c=e(i)(["\n  ."," {\n    &."," [data-mention-id] > span {\n      ","\n\n      /* need to specify dark text colour because personal mentions\n         (in dark blue) have white text by default */\n      color: ",";\n    }\n  }\n\n  .danger {\n    .",".","\n      > span\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n      background-color: ",";\n    }\n    ."," > span > span {\n      background-color: ",";\n      color: ",";\n    }\n  }\n"])),s.MentionSharedCssClassName.MENTION_CONTAINER,l.akEditorSelectedNodeClassName,u.getSelectionStyles([u.SelectionStyle.BoxShadow,u.SelectionStyle.Background]),d.N500,s.MentionSharedCssClassName.MENTION_CONTAINER,l.akEditorSelectedNodeClassName,l.akEditorSelectedBorderSize,l.akEditorDeleteBorder,l.akEditorDeleteBackgroundWithOpacity,s.MentionSharedCssClassName.MENTION_CONTAINER,d.N30A,d.N500)})),r.register("kMGvc",(function(n,o){t(n.exports,"emojiStyles",(function(){return h})),t(n.exports,"emojiStylesNext",(function(){return k}));var i=r("lhkMJ"),a=r("SssiD"),s=r("cufhv"),c=r("kFKbx");r("igW5C");var l=r("gAjXI");r("8iml0");var u,d,f=r("82cWi"),p=r("4PSyH"),h=a.css(u||(u=e(i)(["\n  ."," {\n    ."," {\n      cursor: pointer;\n\n      &."," > span {\n        /** needed for selection style to cover custom emoji image properly */\n        display: flex;\n      }\n    }\n\n    &."," {\n      .",",\n        .","\n        > span {\n        border-radius: 2px;\n        ","\n      }\n    }\n  }\n"])),l.EmojiSharedCssClassName.EMOJI_CONTAINER,l.EmojiSharedCssClassName.EMOJI_NODE,l.EmojiSharedCssClassName.EMOJI_IMAGE,f.akEditorSelectedNodeClassName,l.EmojiSharedCssClassName.EMOJI_SPRITE,l.EmojiSharedCssClassName.EMOJI_IMAGE,p.getSelectionStyles([p.SelectionStyle.Blanket,p.SelectionStyle.BoxShadow])),g=c.gridSize()/2,m=c.fontSizeSmall(),v=4*g/m,b=105*g,y=2*g,E=g/4,x=2*g,k=a.css(d||(d=e(i)(["\n  .editor-emoji {\n    position: relative;\n    display: inline-block;\n    width: 20px;\n    height: 20px;\n    background-repeat: none;\n    background-size: contain;\n    cursor: pointer;\n    vertical-align: middle;\n\n    &.editor-emoji-loading {\n      border-radius: ","px;\n      background: ",";\n    }\n\n    &.editor-emoji-fallback {\n      display: inline;\n      background: transparent;\n      vertical-align: baseline;\n    }\n\n    &.ProseMirror-selectednode:empty {\n      outline: none;\n    }\n\n    &:not(.editor-emoji-fallback) {\n      font-size: 0px;\n    }\n\n    &:not(.editor-emoji-fallback)::before {\n      content: attr(data-emoji-shortname);\n      display: block;\n      box-sizing: border-box;\n      width: auto;\n      position: absolute;\n      top: 100%;\n      left: 50%;\n      transform: translate(-50%, ","px);\n\n      // packages/css-packs/reduced-ui-pack/src/tooltip.js:25\n      color: ",";\n      background-color: ",";\n      font-size: ",";\n      line-height: ",";\n      max-width: ","px;\n      border-radius: ","px;\n      overflow: hidden;\n      padding: ","px ","px;\n      pointer-events: none;\n      position: absolute;\n      text-decoration: none;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      z-index: 10000;\n\n      opacity: 0; // invisible by default\n      transition: opacity 0.35s; // (durationStep * 14)\n    }\n\n    &:not(.editor-emoji-fallback):hover::before {\n      opacity: 1;\n      transition: opacity 0s 0.35s; // (durationStep * 14)\n    }\n\n    &."," {\n      z-index: 2;\n      border-radius: 2px;\n      ","\n    }\n  }\n"])),c.borderRadius(),s.N20,x,s.N0,s.N900,f.relativeFontSizeToBase16(m),v,b,c.borderRadius(),E,y,f.akEditorSelectedNodeClassName,p.getSelectionStyles([p.SelectionStyle.Blanket,p.SelectionStyle.BoxShadow]))})),r.register("kv5yQ",(function(n,o){t(n.exports,"textFormattingStyles",(function(){return l}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s,c=r("f6SCn"),l=a.css(s||(s=e(i)(["\n  ","\n"])),c.codeMarkSharedStyles)})),r.register("6QUWH",(function(n,o){t(n.exports,"placeholderTextStyles",(function(){return l}));var i,a=r("lhkMJ"),s=r("SssiD"),c=r("cufhv"),l=s.css(i||(i=e(a)(["\n  .ProseMirror span[data-placeholder] {\n    color: ",";\n  }\n"])),c.N300)})),r.register("dYgdV",(function(n,o){t(n.exports,"extensionStyles",(function(){return u}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=r("4PSyH"),u=a.css(s||(s=e(i)(["\n  .extensionView-content-wrap,\n  .bodiedExtensionView-content-wrap {\n    margin: "," 0;\n\n    &:first-of-type {\n      margin-top: 0;\n    }\n\n    &:last-of-type {\n      margin-bottom: 0;\n    }\n\n    &:not(.danger)."," {\n      & > span > .extension-container {\n        ","\n      }\n    }\n\n    &.danger > span > .extension-container {\n      box-shadow: 0 0 0 ","px ",";\n      background-color: ",";\n    }\n\n    &.inline {\n      word-wrap: break-all;\n    }\n  }\n\n  .extensionView-content-wrap .extension-container {\n    overflow: hidden;\n  }\n"])),c.blockNodesVerticalMargin,c.akEditorSelectedNodeClassName,l.getSelectionStyles([l.SelectionStyle.BoxShadow]),c.akEditorSelectedBorderSize,c.akEditorDeleteBorder,c.akEditorDeleteBackground)})),r.register("gKvqj",(function(n,o){t(n.exports,"expandStyles",(function(){return O}));var i=r("lhkMJ"),a=r("SssiD");r("cPjBT");var s=r("4Slod"),c=r("kFKbx"),l=r("cufhv");r("igW5C");var u=r("iTrTE");r("8iml0");var d,f,p=r("82cWi"),h=r("4PSyH"),g=r("4j1e7"),m=r("agYmX"),v=s.default({light:"rgba(255, 255, 255, 0.6)",dark:"rgba(9, 10, 11, 0.29)"}),b=a.css(d||(d=e(i)(["\n  color: ",";\n"])),s.default({light:l.N80A,dark:"#d9dde3"})),y=s.default({dark:"#0C294F"}),E=s.default({dark:"1px solid #4794ff"}),x=s.default({dark:"3px"}),k=s.default({light:l.R50,dark:"#441C13"}),C=s.default({dark:"1px solid ".concat(l.R200)}),S=s.default({light:l.R300}),T=s.default({dark:"3px"}),O=a.css(f||(f=e(i)(["\n  ."," > div {\n    display: flex;\n  }\n\n  ."," {\n    ","\n    overflow: hidden;\n    cursor: pointer;\n    box-sizing: border-box;\n\n    td > & {\n      margin-top: 0;\n    }\n\n    ."," svg {\n      ",";\n      transform: rotate(90deg);\n    }\n\n    &.",":not(.danger) {\n      ","\n\n      ::after {\n        // Custom background color and borders (for dark theme).\n        background-color: ",";\n        border: ",";\n        border-radius: ",";\n      }\n    }\n\n    &.danger {\n      background: ",";\n      border: ",";\n      border-color: ",";\n      border-radius: ",";\n    }\n  }\n\n  .ProseMirror\n    > .",",\n    .","\n    > ."," {\n    margin-left: -","px;\n    margin-right: -","px;\n  }\n\n  ."," {\n    ","\n    cursor: text;\n    padding-top: 0px;\n  }\n\n  ."," {\n    ","\n  }\n\n  ."," {\n    ",";\n    overflow: visible;\n  }\n\n  ."," {\n    background: ",";\n    border-color: ",";\n\n    ."," {\n      padding-top: ","px;\n    }\n  }\n\n  ."," {\n    width: 100%;\n  }\n\n  .",":(.",") {\n    .expand-content-wrapper {\n      height: auto;\n    }\n  }\n\n  .",":not(.",") {\n    .ak-editor-expand__content {\n      position: absolute;\n      height: 1px;\n      width: 1px;\n      overflow: hidden;\n      clip: rect(1px, 1px, 1px, 1px);\n      white-space: nowrap;\n    }\n\n    ."," svg {\n      ",";\n      transform: rotate(0deg);\n    }\n\n    &:not(.","):not(.danger) {\n      background: transparent;\n      border-color: transparent;\n\n      &:hover {\n        border-color: ",";\n        background: ",";\n      }\n    }\n  }\n"])),m.expandClassNames.icon,m.expandClassNames.prefix,u.sharedExpandStyles.ContainerStyles,m.expandClassNames.iconContainer,b,p.akEditorSelectedNodeClassName,h.getSelectionStyles([h.SelectionStyle.Blanket,h.SelectionStyle.Border]),y,E,x,k,C,S,T,m.expandClassNames.type("expand"),g.BreakoutCssClassName.BREAKOUT_MARK_DOM,m.expandClassNames.type("expand"),p.akLayoutGutterOffset,p.akLayoutGutterOffset,m.expandClassNames.content,u.sharedExpandStyles.ContentStyles,m.expandClassNames.titleInput,u.sharedExpandStyles.TitleInputStyles,m.expandClassNames.titleContainer,u.sharedExpandStyles.TitleContainerStyles,m.expandClassNames.expanded,v,s.default({light:l.N40A,dark:l.DN50}),m.expandClassNames.content,c.gridSize,m.expandClassNames.inputContainer,m.expandClassNames.prefix,m.expandClassNames.expanded,m.expandClassNames.prefix,m.expandClassNames.expanded,m.expandClassNames.iconContainer,b,p.akEditorSelectedNodeClassName,s.default({light:l.N50A,dark:l.DN50}),v)})),r.register("gbrlJ",(function(n,o){t(n.exports,"taskDecisionStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("1FVDX");r("8iml0");var c,l=r("82cWi"),u=r("4PSyH"),d=a.css(c||(c=e(i)(["\n  [data-decision-wrapper] {\n    cursor: pointer;\n  }\n\n  ."," > [data-decision-wrapper],\n  ol[data-node-type='decisionList']."," {\n    border-radius: 4px;\n    ","\n  }\n\n  .danger {\n    .",".","\n      > div {\n      box-shadow: 0 0 0 ","px ",";\n      background-color: ",";\n      &::after {\n        content: none; /* reset the Blanket selection style */\n      }\n    }\n  }\n"])),l.akEditorSelectedNodeClassName,l.akEditorSelectedNodeClassName,u.getSelectionStyles([u.SelectionStyle.BoxShadow,u.SelectionStyle.Blanket]),s.TaskDecisionSharedCssClassName.DECISION_CONTAINER,l.akEditorSelectedNodeClassName,l.akEditorSelectedBorderSize,l.akEditorDeleteBorder,l.akEditorDeleteBackgroundWithOpacity)})),r.register("38OEo",(function(n,o){t(n.exports,"statusStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("l2Sdj");r("8iml0");var c,l=r("82cWi"),u=r("4PSyH"),d=a.css(c||(c=e(i)(["\n  ."," {\n    > span {\n      display: inline-block;\n      cursor: pointer;\n      line-height: 0; /* Prevent responsive layouts increasing height of container. */\n    }\n\n    &.","\n      .","\n      > span {\n      ","\n    }\n  }\n\n  .danger {\n    ."," > span {\n      background-color: ",";\n    }\n\n    .",".","\n      .","\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n    }\n  }\n"])),s.StatusSharedCssClassName.STATUS_CONTAINER,l.akEditorSelectedNodeClassName,s.StatusSharedCssClassName.STATUS_LOZENGE,u.getSelectionStyles([u.SelectionStyle.BoxShadow]),s.StatusSharedCssClassName.STATUS_LOZENGE,l.akEditorDeleteBackgroundWithOpacity,s.StatusSharedCssClassName.STATUS_CONTAINER,l.akEditorSelectedNodeClassName,s.StatusSharedCssClassName.STATUS_LOZENGE,l.akEditorSelectedBorderSize,l.akEditorDeleteBorder)})),r.register("klUxX",(function(n,o){t(n.exports,"smartCardStyles",(function(){return f}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s=r("4PSyH"),c=r("82cWi"),l=r("cufhv");r("igW5C");var u=r("ixNv2");r("8iml0");s=r("4PSyH"),c=r("82cWi");var d,f=a.css(d||(d=e(i)(["\n  ."," {\n    max-width: calc(100% - 20px);\n    vertical-align: top;\n    word-break: break-all;\n\n    .card {\n      padding-left: 2px;\n      padding-right: 2px;\n\n      ."," > a:focus {\n        ","\n      }\n    }\n\n    &.","\n      .","\n      > a {\n      ","\n    }\n    ."," > a {\n      /* EDM-1717: box-shadow Safari fix start */\n      z-index: 1;\n      position: relative;\n      /* EDM-1717: box-shadow Safari fix end */\n    }\n\n    &.danger {\n      ."," > a {\n        box-shadow: 0 0 0 1px ",";\n        /* EDM-1717: box-shadow Safari fix start */\n        z-index: 2;\n        /* EDM-1717: box-shadow Safari fix end */\n      }\n    }\n  }\n\n  ."," {\n    ."," > div {\n      cursor: pointer;\n      &:hover {\n        background-color: ",";\n      }\n    }\n\n    &.","\n      .","\n      > div {\n      ","\n    }\n\n    &.danger {\n      ."," > div {\n        box-shadow: 0 0 0 1px "," !important;\n      }\n    }\n  }\n\n  ."," {\n    ."," > div {\n      cursor: pointer;\n      &::after {\n        transition: box-shadow 0s;\n      }\n    }\n    &.","\n      .","\n      > div {\n      ","\n    }\n\n    &.","\n      .","\n      > div::after {\n      ","\n    }\n\n    &.danger {\n      .media-card-frame::after {\n        box-shadow: 0 0 0 1px "," !important;\n        background: "," !important;\n      }\n      .richMedia-resize-handle-right::after,\n      .richMedia-resize-handle-left::after {\n        background: ",";\n      }\n    }\n  }\n"])),u.SmartCardSharedCssClassName.INLINE_CARD_CONTAINER,u.SmartCardSharedCssClassName.LOADER_WRAPPER,s.getSelectionStyles([s.SelectionStyle.BoxShadow]),c.akEditorSelectedNodeClassName,u.SmartCardSharedCssClassName.LOADER_WRAPPER,s.getSelectionStyles([s.SelectionStyle.BoxShadow]),u.SmartCardSharedCssClassName.LOADER_WRAPPER,u.SmartCardSharedCssClassName.LOADER_WRAPPER,c.akEditorDeleteBorder,u.SmartCardSharedCssClassName.BLOCK_CARD_CONTAINER,u.SmartCardSharedCssClassName.LOADER_WRAPPER,l.N20,c.akEditorSelectedNodeClassName,u.SmartCardSharedCssClassName.LOADER_WRAPPER,s.getSelectionStyles([s.SelectionStyle.BoxShadow]),u.SmartCardSharedCssClassName.LOADER_WRAPPER,c.akEditorDeleteBorder,u.SmartCardSharedCssClassName.EMBED_CARD_CONTAINER,u.SmartCardSharedCssClassName.LOADER_WRAPPER,c.akEditorSelectedNodeClassName,u.SmartCardSharedCssClassName.LOADER_WRAPPER,s.getSelectionStyles([s.SelectionStyle.BoxShadow]),c.akEditorSelectedNodeClassName,u.SmartCardSharedCssClassName.LOADER_WRAPPER,s.getSelectionStyles([s.SelectionStyle.BoxShadow]),c.akEditorDeleteBorder,c.akEditorDeleteBackground,c.akEditorDeleteBorder)})),r.register("39e3d",(function(n,o){t(n.exports,"dateStyles",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("igW5C");var s=r("6zqMi");r("8iml0");var c,l=r("82cWi"),u=r("4PSyH"),d=a.css(c||(c=e(i)(["\n  ."," {\n    ."," {\n      line-height: initial;\n      cursor: pointer;\n    }\n\n    &."," {\n      ."," > span {\n        ","\n      }\n    }\n  }\n\n  .danger {\n    .",".","\n      .","\n      > span {\n      box-shadow: 0 0 0 ","px ",";\n    }\n  }\n"])),s.DateSharedCssClassName.DATE_CONTAINER,s.DateSharedCssClassName.DATE_WRAPPER,l.akEditorSelectedNodeClassName,s.DateSharedCssClassName.DATE_WRAPPER,u.getSelectionStyles([u.SelectionStyle.BoxShadow]),s.DateSharedCssClassName.DATE_CONTAINER,l.akEditorSelectedNodeClassName,s.DateSharedCssClassName.DATE_WRAPPER,l.akEditorSelectedBorderSize,l.akEditorDeleteBorder)})),r.register("cwJAC",(function(n,o){t(n.exports,"embedCardStyles",(function(){return s}));var i,a=r("lhkMJ"),s=r("SssiD").css(i||(i=e(a)(["\n  .ProseMirror {\n    .embedCardView-content-wrap[layout^='wrap-'] {\n      max-width: 100%;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-left'] {\n      float: left;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-right'] {\n      float: right;\n    }\n\n    .embedCardView-content-wrap[layout='wrap-right']\n      + .embedCardView-content-wrap[layout='wrap-left'] {\n      clear: both;\n    }\n  }\n"])))})),r.register("c2ofG",(function(n,o){t(n.exports,"ContextPanelConsumer",(function(){return m})),t(n.exports,"ContextPanelWidthProvider",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk");function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var h=e(f).createContext({width:0,positionedOverEditor:!1,broadcastWidth:function(){},broadcastPosition:function(){}}),g=h.Provider,m=h.Consumer,v=function(t){e(c)(r,t);var n=p(r);function r(t){var o;return e(i)(this,r),o=n.call(this,t),e(d)(e(s)(o),"state",{width:0,positionedOverEditor:!1}),e(d)(e(s)(o),"broadcastSidebarWidth",(function(e){e!==o.state.width&&o.setState({width:e})})),e(d)(e(s)(o),"broadcastPosition",(function(e){e!==o.state.positionedOverEditor&&o.setState({positionedOverEditor:e})})),o}return e(a)(r,[{key:"render",value:function(){var t=this.state,n=t.width,r=t.positionedOverEditor;return e(f).createElement(g,{value:{width:n,positionedOverEditor:r,broadcastWidth:this.broadcastSidebarWidth,broadcastPosition:this.broadcastPosition}},this.props.children)}}]),r}(e(f).Component)})),r.register("adUAa",(function(n,o){t(n.exports,"FullPageContentArea",(function(){return p})),r("igW5C");var i=r("jZsbJ"),a=r("c2ofG"),s=r("61szk"),c=r("hg8RI"),l=r("5xAc2"),u=r("h3u0i"),d=r("6SDoS"),f=r("bsR2s"),p=e(s).memo((function(t){return e(s).createElement(i.WidthConsumer,null,(function(n){var r=n.width;return e(s).createElement(a.ContextPanelConsumer,null,(function(n){var o=n.positionedOverEditor;return e(s).createElement(f.ContentArea,{"data-testid":"ak-editor-fp-content-area",positionedOverEditor:o},e(s).createElement(f.ScrollContainer,{innerRef:t.scrollContainerRef,allowAnnotation:t.allowAnnotation,className:"fabric-editor-popup-scroll-parent"},e(s).createElement(c.default,{editorView:t.editorView},e(s).createElement(f.EditorContentArea,{fullWidthMode:"full-width"===t.appearance,innerRef:t.contentAreaRef,containerWidth:r},e(s).createElement(f.EditorContentGutter,{className:["ak-editor-content-area","full-width"===t.appearance?"fabric-editor--full-width-mode":""].join(" ")},t.customContentComponents,e(s).createElement(u.default,{editorView:t.editorView,editorActions:t.editorActions,eventDispatcher:t.eventDispatcher,providerFactory:t.providerFactory,appearance:t.appearance,items:t.contentComponents,contentArea:t.contentArea,popupsMountPoint:t.popupsMountPoint,popupsBoundariesElement:t.popupsBoundariesElement,popupsScrollableElement:t.popupsScrollableElement,disabled:!!t.disabled,containerElement:t.scrollContainer,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent}),t.editorDOMElement)))),e(s).createElement(f.SidebarArea,null,t.contextPanel||e(s).createElement(l.default,{visible:!1})),e(s).createElement(d.default,{editorView:t.editorView}))}))}))}))})),r.register("hg8RI",(function(n,o){t(n.exports,"default",(function(){return y}));var i,a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("SssiD"),m=r("2eafS");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var b=g.default.div(i||(i=e(p)(["\n  flex-grow: 1;\n  height: 100%;\n"])));b.displayName="ClickWrapper";var y=function(t){e(l)(r,t);var n=v(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"handleClick",(function(e){var n=t.props.editorView;n&&m.clickAreaClickHandler(n,e)})),t}return e(s)(r,[{key:"render",value:function(){return e(h).createElement(b,{onClick:this.handleClick},this.props.children)}}]),r}(e(h).Component)})),r.register("2eafS",(function(e,n){t(e.exports,"clickAreaClickHandler",(function(){return s}));var o=r("eNOQT"),i=r("YdbsB"),a=r("k6sjS"),s=function(e,t){var n=t.currentTarget.querySelector(".ak-editor-content-area"),r=!(!e||!e.hasFocus()),i=t.target,a="INPUT"===i.nodeName,s=!!o.closestElement(i,"[data-editor-popup]"),l="TEXTAREA"===i.nodeName,u=!!o.closestElement(i,'nav[aria-label="Breadcrumbs"]'),d=!n,f=!function(e){for(;e;){if(e.classList&&e.classList.contains("ak-editor-content-area"))return!0;e=e.parentNode}return!1}(i.parentNode),p=!1===r,h=window.getSelection(),g="Range"===(null==h?void 0:h.type)&&o.closestElement(null==h?void 0:h.anchorNode,"[data-editor-popup]"),m=!!i.closest("[role=dialog]");(d||f||p)&&!a&&!l&&!s&&!m&&!u&&!s&&!g&&e&&c(e,t)},c=function(e,t){var n=e.dispatch,r=e.dom,o=e.state,a=!(!e||!e.hasFocus()),s=o.tr;l(t,r,s),i.hasGapCursorPlugin(o)&&i.setSelectionTopLevelBlocks(s,t,r,e.posAtCoords.bind(e),a),(s.docChanged||s.selectionSet)&&(n&&n(s),e.focus(),t.stopPropagation(),t.preventDefault())},l=function(e,t,n){e.clientY>t.getBoundingClientRect().bottom&&a.addParagraphAtEnd(n)}})),r.register("20nbf",(function(n,o){t(n.exports,"default",(function(){return y}));var i,a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("SssiD"),m=r("2eafS");function v(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var b=g.default.div(i||(i=e(p)(["\n  height: 100%;\n  ","\n"])),(function(e){return!0!==e.persistScrollGutter&&"min-height: ".concat(e.minHeight,"vh")}));b.displayName="ClickWrapper";var y=function(t){e(l)(r,t);var n=v(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"clickElementRef",e(h).createRef()),e(f)(e(c)(t),"handleClick",(function(e){var n=t.props.editorView;n&&(m.clickAreaClickHandler(n,e),e.clientY>n.dom.getBoundingClientRect().bottom&&(e.preventDefault(),t.clickElementRef.current&&t.clickElementRef.current.scrollIntoView(!1)))})),t}return e(s)(r,[{key:"render",value:function(){return e(h).createElement(b,{className:"editor-click-wrapper",minHeight:this.props.minHeight,persistScrollGutter:this.props.persistScrollGutter,onClick:this.handleClick,innerRef:this.clickElementRef},this.props.children)}}]),r}(e(h).Component)})),r.register("5xAc2",(function(n,o){t(n.exports,"default",(function(){return L}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("lhkMJ"),h=r("61szk"),g=r("eCQUn"),m=r("SssiD"),v=(m=r("SssiD"),r("cufhv"));r("8iml0");var b,y,E,x=r("82cWi"),k=r("c2ofG"),C=r("4s4wW"),S=r("kgqXi"),T=r("9D9P7"),O=r("092a2"),w=r("l9fpM");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?N(Object(r),!0).forEach((function(n){e(f)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function A(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var I=500,D=x.akEditorDefaultLayoutWidth+x.akEditorBreakoutPadding,R=x.akEditorWideLayoutWidth+x.akEditorBreakoutPadding,M=m.css(b||(b=e(p)(["\n  position: absolute;\n  right: 0;\n  height: calc(100% - ",");\n"])),x.ATLASSIAN_NAVIGATION_HEIGHT),_=m.default.div(y||(y=e(p)(["\n  width: ","px;\n  height: 100%;\n  transition: width ","ms ",";\n  overflow: hidden;\n  box-shadow: inset 2px 0 0 0 ",";\n\n  ",";\n"])),(function(e){return e.visible?e.panelWidth:0}),I,x.akEditorSwoopCubicBezier,v.N30,(function(e){return function(e){if(e.positionPanelOverEditor)return M}(e)})),j=m.default.div(E||(E=e(p)(["\n  transition: width 600ms ",";\n  box-sizing: border-box;\n  padding: 16px 16px 0px;\n  width: ","px;\n  height: 100%;\n  overflow-y: auto;\n"])),x.akEditorSwoopCubicBezier,(function(e){return e.visible?e.panelWidth:0})),B=function(t){e(l)(r,t);var n=A(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"state",{mounted:!1,currentPluginContent:void 0}),e(f)(e(c)(t),"showPluginContent",(function(){var n=t.props.pluginContent,r=t.state.currentPluginContent;if(r)return e(h).createElement(g.default,{timeout:t.state.mounted?I:0,in:!!n,mountOnEnter:!0,unmountOnExit:!0,onExited:function(){return t.unsetPluginContent()}},r)})),e(f)(e(c)(t),"showProvidedContent",(function(n){var r=t.props.children;if(r)return e(h).createElement(g.default,{timeout:t.state.mounted?I:0,in:n,mountOnEnter:!0,unmountOnExit:!0},r)})),t}return e(s)(r,[{key:"unsetPluginContent",value:function(){this.setState({currentPluginContent:void 0})}},{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"render",value:function(){var t=this,n=this.props.editorWidth,r=x.akEditorContextPanelWidth,o=!!this.props.visible,i=o||!!this.state.currentPluginContent;return e(h).createElement(k.ContextPanelConsumer,null,(function(a){var s=a.broadcastWidth,c=a.broadcastPosition,l=a.positionedOverEditor,u=!!n&&function(e,t){var n=e.lineLength,r=e.containerWidth,o=void 0===r?0:r,i=e.contentBreakoutModes,a=!(n&&n>x.akEditorDefaultLayoutWidth),s=!i.length&&o>=2*t+D,c=!i.includes("full-width")&&i.includes("wide")&&o>=2*t+R;return a&&(s||c)}(n,r);return s(i?r:0),(u&&i)!==l&&c(u&&i),e(h).createElement(_,{panelWidth:r,visible:i,positionPanelOverEditor:u,"data-testid":"context-panel-panel"},e(h).createElement(j,{panelWidth:r,visible:i},t.showPluginContent()||t.showProvidedContent(o)))}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.pluginContent!==t.currentPluginContent?P(P({},t),{},{currentPluginContent:e.pluginContent}):null}}]),r}(e(h).PureComponent),L=function(t){e(l)(r,t);var n=A(r);function r(){return e(a)(this,r),n.apply(this,arguments)}return e(s)(r,[{key:"render",value:function(){var t=this;return e(h).createElement(O.default,{render:function(n){var r=n._privateGetEventDispatcher(),o=n._privateGetEditorView();return r?e(h).createElement(C.default,{eventDispatcher:r,plugins:{contextPanel:S.pluginKey,widthState:T.pluginKey},render:function(n){var r=n.contextPanel,a=n.widthState,s=void 0===a?{width:0,containerWidth:0,lineLength:x.akEditorDefaultLayoutWidth}:a,c=r&&r.contents.find(Boolean),l=P(P({},s),{},{contentBreakoutModes:o?w.getChildBreakoutModes(o.state.doc,o.state.schema):[]});return e(h).createElement(B,e(i)({},t.props,{editorView:o,pluginContent:c,editorWidth:l}))}}):e(h).createElement(B,e(i)({editorView:o},t.props))}})}}]),r}(e(h).Component)})),r.register("h3u0i",(function(n,o){t(n.exports,"default",(function(){return x}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD");r("cTu5S");var g,m=r("9V1f8"),v=r("9J8af"),b=r("aitud");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var E=h.default.div(g||(g=e(f)(["\n  display: flex;\n"]))),x=function(t){e(c)(r,t);var n=y(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"transitionEvent",v.whichTransitionEvent()),e(d)(e(s)(t),"forceComponentUpdate",(function(e){e.propertyName.includes("width")&&t.forceUpdate()})),e(d)(e(s)(t),"removeModeChangeListener",(function(e){e&&t.transitionEvent&&e.removeEventListener(t.transitionEvent,t.forceComponentUpdate)})),e(d)(e(s)(t),"addModeChangeListener",(function(e){e&&t.transitionEvent&&e.addEventListener(t.transitionEvent,t.forceComponentUpdate)})),t}return e(a)(r,[{key:"shouldComponentUpdate",value:function(e){var t=this.props,n=t.editorView,r=t.editorActions,o=t.items,i=t.providerFactory,a=t.eventDispatcher,s=t.popupsMountPoint,c=t.popupsBoundariesElement,l=t.popupsScrollableElement,u=t.containerElement,d=t.disabled;return!(e.editorView===n&&e.editorActions===r&&e.items===o&&e.providerFactory===i&&e.eventDispatcher===a&&e.popupsMountPoint===s&&e.popupsBoundariesElement===c&&e.popupsScrollableElement===l&&e.containerElement===u&&e.disabled===d)}},{key:"componentDidMount",value:function(){this.addModeChangeListener(this.props.contentArea)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.contentArea!==e.contentArea&&(this.removeModeChangeListener(this.props.contentArea),this.addModeChangeListener(e.contentArea))}},{key:"componentWillUnmount",value:function(){this.removeModeChangeListener(this.props.contentArea)}},{key:"render",value:function(){var t=this.props,n=t.items,r=t.editorView,o=t.editorActions,i=t.eventDispatcher,a=t.providerFactory,s=t.appearance,c=t.popupsMountPoint,l=t.popupsBoundariesElement,u=t.popupsScrollableElement,d=t.containerElement,f=t.disabled,h=t.dispatchAnalyticsEvent;return n&&r?e(p).createElement(b.ErrorBoundary,{component:m.ACTION_SUBJECT.PLUGIN_SLOT,fallbackComponent:null},e(p).createElement(E,null,n.map((function(t,n){var g={key:n},m=t({editorView:r,editorActions:o,eventDispatcher:i,providerFactory:a,dispatchAnalyticsEvent:h,appearance:s,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:u,containerElement:d,disabled:f});return m&&e(p).cloneElement(m,g)})))):null}}]),r}(e(p).Component);e(d)(x,"displayName","PluginSlot")})),r.register("6SDoS",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("h67q9"),a=r("61szk"),s=r("9D9P7");r("igW5C");var c=r("jZsbJ"),l=r("c2ofG");var u=function(t){var n=t.editorView,r=e(a).useState(0),o=e(i)(r,2),u=o[0],d=o[1],f=e(a).useState(0),p=e(i)(f,2),h=p[0],g=function(t){var n=t.setContextPanelWidth,r=t.setContainerWidth;return[e(a).useCallback((function(e){var t=e.width;return n(t),null}),[n]),e(a).useCallback((function(e){var t=e.width;return r(t),null}),[r])]}({setContextPanelWidth:d,setContainerWidth:p[1]}),m=e(i)(g,2),v=m[0],b=m[1];return e(a).useEffect((function(){var e=h-u;if(!(e<=0||isNaN(e))&&n){var t=n.dom,r=n.state.tr,o=n.dispatch;return r.setMeta(s.pluginKey,{width:e,containerWidth:h,lineLength:t?t.clientWidth:void 0}),o(r),function(){}}}),[n,u,h]),e(a).createElement(e(a).Fragment,null,e(a).createElement(l.ContextPanelConsumer,null,v),e(a).createElement(c.WidthConsumer,null,b))}})),r.register("5q1kW",(function(n,o){t(n.exports,"FullPageToolbar",(function(){return u}));var i=r("61szk"),a=r("c5NDG"),s=r("3MogC"),c=r("gDFD5"),l=r("c2ofG"),u=e(i).memo((function(t){return e(i).createElement(l.ContextPanelConsumer,null,(function(n){var r,o=n.width;return e(i).createElement(c.MainToolbar,{"data-testid":"ak-editor-main-toolbar",showKeyline:t.showKeyline||o>0},t.beforeIcon&&e(i).createElement(c.MainToolbarIconBefore,null,t.beforeIcon),e(i).createElement(s.ToolbarWithSizeDetector,{editorView:t.editorView,editorActions:t.editorActions,eventDispatcher:t.eventDispatcher,providerFactory:t.providerFactory,appearance:t.appearance,items:t.primaryToolbarComponents,popupsMountPoint:t.popupsMountPoint,popupsBoundariesElement:t.popupsBoundariesElement,popupsScrollableElement:t.popupsScrollableElement,disabled:t.disabled,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,containerElement:t.containerElement,hasMinWidth:t.hasMinWidth}),e(i).createElement(c.MainToolbarCustomComponentsSlot,{"data-testid":"avatar-group-outside-plugin"},!0===(null==t||null===(r=t.featureFlags)||void 0===r?void 0:r.showAvatarGroupAsPlugin)?null:e(i).createElement(a.default,{editorView:t.editorView,eventDispatcher:t.eventDispatcher,inviteToEditComponent:t.collabEdit&&t.collabEdit.inviteToEditComponent,inviteToEditHandler:t.collabEdit&&t.collabEdit.inviteToEditHandler,isInviteToEditButtonSelected:t.collabEdit&&t.collabEdit.isInviteToEditButtonSelected}),t.customPrimaryToolbarComponents))}))}))})),r.register("c5NDG",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("dVumR").default})),r.register("3MogC",(function(n,o){t(n.exports,"ToolbarWithSizeDetector",(function(){return b}));var i=r("jgze0"),a=r("h67q9"),s=r("lhkMJ"),c=r("61szk"),l=r("SssiD"),u=r("bgvam");r("8iml0");var d,f=r("82cWi"),p=r("cBb0u"),h=r("l7afS"),g=r("dr72k"),m=r("aWU3p"),v=l.default.div(d||(d=e(s)(["\n  width: 100%;\n  min-width: ",";\n  position: relative;\n  @media (max-width: ","px) {\n    grid-column: 1 / 2;\n    grid-row: 2;\n    width: calc(100% - 30px);\n    margin: 0 15px;\n  }\n"])),(function(e){return e.minWidth}),f.akEditorMobileMaxWidth),b=function(t){var n=e(c).createRef(),r=e(c).useState(void 0),o=e(a)(r,2),s=o[0],l=o[1],d=p.useElementWidth(n,{skip:void 0!==s}),f=void 0===s&&void 0===d?void 0:h.widthToToolbarSize(s||d,t.appearance),b=h.toolbarSizeToWidth(m.ToolbarSize.M,t.appearance);return e(c).createElement(v,{minWidth:t.hasMinWidth?"".concat(b,"px"):"254px"},e(c).createElement(u.WidthObserver,{setWidth:l}),t.editorView&&f?e(c).createElement(g.Toolbar,e(i)({},t,{toolbarSize:f})):e(c).createElement("div",{ref:n}))}})),r.register("cBb0u",(function(n,o){t(n.exports,"useElementWidth",(function(){return s}));var i=r("h67q9"),a=r("61szk"),s=function(t,n){var r=n.skip,o=e(a).useState(void 0),s=e(i)(o,2),c=s[0],l=s[1];return e(a).useEffect((function(){!r&&t.current&&l(Math.round(t.current.getBoundingClientRect().width))}),[r,l,t]),c}})),r.register("l7afS",(function(e,n){t(e.exports,"toolbarSizeToWidth",(function(){return l})),t(e.exports,"widthToToolbarSize",(function(){return u}));var o=r("4Ty4K"),i=r("aWU3p"),a=[{width:i.ToolbarWidthsFullPage.XXL,size:i.ToolbarSize.XXL},{width:i.ToolbarWidthsFullPage.XL,size:i.ToolbarSize.XL},{width:i.ToolbarWidthsFullPage.L,size:i.ToolbarSize.L},{width:i.ToolbarWidthsFullPage.M,size:i.ToolbarSize.M},{width:i.ToolbarWidthsFullPage.S,size:i.ToolbarSize.S}],s=[{width:i.ToolbarWidths.XXL,size:i.ToolbarSize.XXL},{width:i.ToolbarWidths.XL,size:i.ToolbarSize.XL},{width:i.ToolbarWidths.L,size:i.ToolbarSize.L},{width:i.ToolbarWidths.M,size:i.ToolbarSize.M},{width:i.ToolbarWidths.S,size:i.ToolbarSize.S}],c=function(e){return o.isFullPage(e)?a:s},l=function(e,t){return(c(t).find((function(t){var n=t.size;return e===n}))||{width:i.ToolbarWidths.S}).width},u=function(e,t){return(c(t).find((function(t){var n=t.width;return e>n}))||{size:i.ToolbarSize.XXXS}).size}})),r.register("dr72k",(function(n,o){t(n.exports,"Toolbar",(function(){return c}));var i=r("61szk"),a=r("j0xBF"),s=r("aWU3p"),c=function(t){return e(i).createElement(a.ToolbarInner,{items:t.items,editorView:t.editorView,editorActions:t.editorActions,eventDispatcher:t.eventDispatcher,providerFactory:t.providerFactory,appearance:t.appearance,popupsMountPoint:t.popupsMountPoint,popupsBoundariesElement:t.popupsBoundariesElement,popupsScrollableElement:t.popupsScrollableElement,disabled:t.disabled,dispatchAnalyticsEvent:t.dispatchAnalyticsEvent,toolbarSize:t.toolbarSize,isToolbarReducedSpacing:t.toolbarSize<s.ToolbarSize.XXL,containerElement:t.containerElement})}})),r.register("j0xBF",(function(n,o){t(n.exports,"ToolbarInner",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("9OLyr"),c=r("89Kz4"),l=r("eP3fJ"),u=r("lhkMJ"),d=r("61szk"),f=r("SssiD");r("8iml0");var p,h=r("82cWi");function g(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(l)(t);if(n){var i=e(l)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(c)(this,r)}}var m=f.default.div(p||(p=e(u)(["\n  display: flex;\n\n  @media (max-width: ","px) {\n    justify-content: space-between;\n  }\n"])),h.akEditorMobileMaxWidth),v=function(t){e(s)(r,t);var n=g(r);function r(){return e(i)(this,r),n.apply(this,arguments)}return e(a)(r,[{key:"shouldComponentUpdate",value:function(e){return e.toolbarSize!==this.props.toolbarSize||e.disabled!==this.props.disabled||e.popupsMountPoint===this.props.popupsMountPoint||e.popupsBoundariesElement===this.props.popupsBoundariesElement||e.popupsScrollableElement===this.props.popupsScrollableElement||e.isReducedSpacing!==this.props.isToolbarReducedSpacing}},{key:"render",value:function(){var t=this.props,n=t.appearance,r=t.editorView,o=t.editorActions,i=t.eventDispatcher,a=t.providerFactory,s=t.items,c=t.popupsMountPoint,l=t.popupsBoundariesElement,u=t.popupsScrollableElement,f=t.toolbarSize,p=t.disabled,h=t.isToolbarReducedSpacing,g=t.dispatchAnalyticsEvent,v=t.containerElement;return s&&s.length?e(d).createElement(m,null,s.map((function(t,m){var b={key:m},y=t({editorView:r,editorActions:o,eventDispatcher:i,providerFactory:a,appearance:n,popupsMountPoint:c,popupsBoundariesElement:l,popupsScrollableElement:u,disabled:p,toolbarSize:f,isToolbarReducedSpacing:h,containerElement:v,isLastItem:m===s.length-1,dispatchAnalyticsEvent:g});return y&&e(d).cloneElement(y,b)}))):null}}]),r}(e(d).Component)})),r.register("gDFD5",(function(n,o){t(n.exports,"MainToolbar",(function(){return h})),t(n.exports,"MainToolbarIconBefore",(function(){return g})),t(n.exports,"MainToolbarCustomComponentsSlot",(function(){return m}));var i=r("lhkMJ"),a=r("SssiD"),s=r("cufhv"),c=r("kFKbx");r("8iml0");var l,u,d,f,p=r("82cWi"),h=a.default.div(l||(l=e(i)(["\n  position: relative;\n  align-items: center;\n  box-shadow: ",";\n  transition: box-shadow 200ms ",";\n  z-index: ",";\n  display: flex;\n  height: ","px;\n  flex-shrink: 0;\n  background-color: white;\n\n  & object {\n    height: 0 !important;\n  }\n\n  @media (max-width: ","px) {\n    display: grid;\n    height: calc(","px * 2);\n  }\n"])),(function(e){return e.showKeyline?"0 ".concat(p.akEditorToolbarKeylineHeight,"px 0 0 ").concat(s.N30):"none"}),p.akEditorSwoopCubicBezier,p.akEditorMenuZIndex,56,p.akEditorMobileMaxWidth,56);h.displayName="MainToolbar";var g=a.default.div(u||(u=e(i)(["\n  margin: ","px;\n  height: ","px;\n  width: ","px;\n  @media (max-width: ","px) {\n    grid-column: 1;\n    grid-row: 1;\n  }\n"])),2*c.gridSize(),4*c.gridSize(),4*c.gridSize(),p.akEditorMobileMaxWidth);g.displayName="MainToolbarIconBefore";var m=a.default.div(d||(d=e(i)(["\n  display: flex;\n  justify-content: flex-end;\n  flex-grow: 1;\n  // ED-10241: We add fit-content to ensure that MainToolbar does not\n  // shrink more than the size of its contents. This will prevent the\n  // find/replace icon from being overlapped during a confluence\n  // publish operation\n  min-width: fit-content;\n  @media (max-width: ","px) {\n    grid-column: 1;\n    grid-row: 1;\n  }\n"])),p.akEditorMobileMaxWidth);m.displayName="MainToolbar",a.default.div(f||(f=e(i)(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  flex-shrink: 0;\n  display: flex;\n  padding: 24px 0;\n"]))).displayName="SecondaryToolbar"})),r.register("dTJEX",(function(n,o){t(n.exports,"default",(function(){return O}));var i,a,s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("lhkMJ"),g=r("61szk"),m=r("SssiD"),v=r("h3u0i"),b=r("4s4wW"),y=r("5zDIC"),E=r("406gC"),x=r("xZbZL"),k=r("4Uvl8");function C(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var S=m.default.div(i||(i=e(h)(["\n  line-height: 20px;\n  height: auto;\n  min-height: 30px;\n  "," overflow-x: hidden;\n  overflow-y: auto;\n  "," max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])),(function(e){return e.maxHeight?"max-height: "+e.maxHeight+"px;":""}),x.scrollbarStyles);S.displayName="ChromelessEditor";var T=m.default(y.default)(a||(a=e(h)([""])));T.displayName="ContentArea";var O=function(t){e(u)(r,t);var n=C(r);function r(){var t;e(s)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i)),e(p)(e(l)(t),"appearance","chromeless"),e(p)(e(l)(t),"containerElement",null),e(p)(e(l)(t),"renderChrome",(function(n){var r=n.maxContentSize,o=t.props,i=o.editorDOMElement,a=o.editorView,s=o.editorActions,c=o.eventDispatcher,l=o.providerFactory,u=o.contentComponents,d=o.customContentComponents,f=o.maxHeight,p=o.popupsMountPoint,h=o.popupsBoundariesElement,m=o.popupsScrollableElement,b=o.disabled,y=o.dispatchAnalyticsEvent,E=Boolean(null==r?void 0:r.maxContentSizeReached);return e(g).createElement(k.default,{animate:E},e(g).createElement(S,{maxHeight:f,innerRef:function(e){return t.containerElement=e}},e(g).createElement(T,null,d,e(g).createElement(v.default,{editorView:a,editorActions:s,eventDispatcher:c,providerFactory:l,appearance:t.appearance,items:u,popupsMountPoint:p,popupsBoundariesElement:h,popupsScrollableElement:m,containerElement:t.containerElement,disabled:!!b,dispatchAnalyticsEvent:y}),i)))})),t}return e(c)(r,[{key:"render",value:function(){return e(g).createElement(b.default,{plugins:{maxContentSize:E.pluginKey},render:this.renderChrome})}}]),r}(e(g).Component);e(p)(O,"displayName","ChromelessEditorAppearance")})),r.register("4Uvl8",(function(n,o){t(n.exports,"default",(function(){return C}));var i,a,s,c=r("go2dD"),l=r("4NDMl"),u=r("47NZN"),d=r("9OLyr"),f=r("89Kz4"),p=r("eP3fJ"),h=r("l15hj"),g=r("lhkMJ"),m=r("61szk"),v=r("SssiD"),b=r("cufhv");function y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(p)(t);if(n){var i=e(p)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(f)(this,r)}}var E=v.keyframes(i||(i=e(g)(["\n  50% {\n    background-color: ",";\n  }\n"])),b.R100),x=v.keyframes(a||(a=e(g)(["\n  0% {\n    background-color: ",";\n  }\n  50% {\n    background-color: auto;\n  }\n  100% {\n    background-color: ",";\n  }\n"])),b.R100,b.R100),k=v.default.div(s||(s=e(g)(["\n  &.-flash > div {\n    animation: 0.25s ease-in-out ",";\n  }\n\n  & > div {\n    animation: ",";\n  }\n"])),x,(function(e){return e.animate?".25s ease-in-out ".concat(E):"none"})),C=function(t){e(d)(r,t);var n=y(r);function r(){var t;e(c)(this,r);for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n.call.apply(n,[this].concat(i)),e(h)(e(u)(t),"toggle",!1),t}return e(l)(r,[{key:"render",value:function(){var t=this.props,n=t.animate,r=t.children;return this.toggle=n&&!this.toggle,e(m).createElement(k,{className:this.toggle?"-flash":"",animate:n},r)}}]),r}(e(m).Component)})),r.register("7koxa",(function(n,o){t(n.exports,"CommentEditorWithIntl",(function(){return V}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("lhkMJ"),p=r("61szk"),h=r("SssiD");r("2rw1a");var g=r("eCtlX");r("31Xz9");var m=r("kInf8"),v=r("kFKbx"),b=r("cufhv"),y=r("3MogC"),E=r("h3u0i"),x=r("4s4wW"),k=r("5zDIC"),C=r("406gC"),S=r("bjJNi"),T=r("hg8RI"),O=r("hcXhI"),w=r("4Uvl8");r("igW5C");var N=r("jZsbJ");r("8iml0");var P=r("82cWi"),A=r("6SDoS");r("anYE1");var I,D,R,M=r("irVnw"),_=r("hdR0w"),j=r("7RIig"),B=r("ch3px"),L=r("cLenj");function F(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var z=h.default.div(I||(I=e(f)(["\n  display: flex;\n  flex-direction: column;\n\n  .less-margin .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  min-width: 272px;\n  /* Border + Toolbar + Footer + (Paragraph + ((Parahraph + Margin) * (DefaultLines - 1)) */\n  /* calc(2px + 40px + 24px + ( 20px + (32px * 2))) */\n  min-height: 150px;\n  height: auto;\n  "," background-color: white;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: ","px;\n\n  max-width: inherit;\n  word-wrap: break-word;\n"])),8,8,(function(e){return e.maxHeight?"max-height: "+e.maxHeight+"px;":""}),b.N40,v.borderRadius());z.displayName="CommentEditor";var W=h.default(k.default)(D||(D=e(f)(["\n  flex-grow: 1;\n  overflow-x: hidden;\n  overflow-y: auto;\n  line-height: 24px;\n\n  /** Hack for Bitbucket to ensure entire editorView gets drop event; see ED-3294 **/\n  /** Hack for tables controlls. Otherwise marging collapse and controlls are misplaced. **/\n  .ProseMirror {\n    margin: 12px ","px ","px;\n  }\n\n  .gridParent {\n    margin-left: ","px;\n    margin-right: ","px;\n    width: calc(100% + ","px);\n  }\n\n  padding: ","px;\n\n  ",";\n"])),14,14,14-M.GRID_GUTTER,14-M.GRID_GUTTER,14-M.GRID_GUTTER,L.TableControlsPadding,O.tableCommentEditorStyles);W.displayName="ContentArea";var U=h.default.div(R||(R=e(f)(["\n  box-sizing: border-box;\n  justify-content: flex-end;\n  align-items: center;\n  display: flex;\n  padding: 12px 1px;\n"])));U.displayName="SecondaryToolbar";var H=function(t){e(c)(r,t);var n=F(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"appearance","comment"),e(d)(e(s)(t),"containerElement",null),e(d)(e(s)(t),"handleSave",(function(){t.props.editorView&&t.props.onSave&&t.props.onSave(t.props.editorView)})),e(d)(e(s)(t),"handleCancel",(function(){t.props.editorView&&t.props.onCancel&&t.props.onCancel(t.props.editorView)})),e(d)(e(s)(t),"renderChrome",(function(n){var r=n.maxContentSize,o=n.mediaState,i=t.props,a=i.editorDOMElement,s=i.editorView,c=i.editorActions,l=i.eventDispatcher,u=i.providerFactory,d=i.contentComponents,f=i.customContentComponents,h=i.customPrimaryToolbarComponents,v=i.primaryToolbarComponents,b=i.customSecondaryToolbarComponents,x=i.popupsMountPoint,k=i.popupsBoundariesElement,C=i.popupsScrollableElement,S=i.maxHeight,O=i.onSave,I=i.onCancel,D=i.disabled,R=i.dispatchAnalyticsEvent,M=i.intl,j=i.useStickyToolbar,F=Boolean(null==r?void 0:r.maxContentSizeReached),H=!!O||!!I||!!b;return e(p).createElement(w.default,{animate:F},e(p).createElement(z,{maxHeight:S,className:"akEditor"},e(p).createElement(L.MainToolbar,{useStickyToolbar:j},e(p).createElement(y.ToolbarWithSizeDetector,{editorView:s,editorActions:c,eventDispatcher:l,providerFactory:u,appearance:t.appearance,items:v,popupsMountPoint:x,popupsBoundariesElement:k,popupsScrollableElement:C,disabled:!!D,dispatchAnalyticsEvent:R,containerElement:t.containerElement}),e(p).createElement(L.MainToolbarCustomComponentsSlot,null,h)),e(p).createElement(T.default,{editorView:s},e(p).createElement(N.WidthConsumer,null,(function(n){var r=n.width;return e(p).createElement(W,{innerRef:function(e){return t.containerElement=e},className:e(_)("ak-editor-content-area",{"less-margin":r<P.akEditorMobileBreakoutPoint})},f,e(p).createElement(E.default,{editorView:s,editorActions:c,eventDispatcher:l,dispatchAnalyticsEvent:R,providerFactory:u,appearance:t.appearance,items:d,popupsMountPoint:x,popupsBoundariesElement:k,popupsScrollableElement:C,containerElement:t.containerElement,disabled:!!D}),a)}))),e(p).createElement(A.default,{editorView:s})),H&&e(p).createElement(U,{"data-testid":"ak-editor-secondary-toolbar"},e(p).createElement(g.default,null,!!O&&e(p).createElement(m.default,{appearance:"primary",onClick:t.handleSave,testId:"comment-save-button",isDisabled:D||o&&!o.allUploadsFinished},M.formatMessage(B.default.saveButton)),!!I&&e(p).createElement(m.default,{appearance:"subtle",onClick:t.handleCancel,isDisabled:D},M.formatMessage(B.default.cancelButton))),e(p).createElement("span",{style:{flexGrow:1}}),b))})),t}return e(a)(r,[{key:"render",value:function(){return e(p).createElement(x.default,{plugins:{maxContentSize:C.pluginKey,mediaState:S.stateKey},render:this.renderChrome})}}]),r}(e(p).Component);e(d)(H,"displayName","CommentEditorAppearance");var V=j.injectIntl(H)})),r.register("2rw1a",(function(e,n){t(e.exports,"default",(function(){return r("eCtlX").default}));r("eCtlX")})),r.register("eCtlX",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("4JuWt"),s=r("kFKbx"),c={flex:"1 0 auto",display:"flex","& + &::before":{content:"''",display:"inline-block",width:"".concat(s.gridSize()/2,"px")}};function l(t){var n=t.appearance,r=t.children;return a.jsx("div",{css:{display:"inline-flex"}},e(i).Children.map(r,(function(t,r){return t?a.jsx("div",{key:r,css:c},n?e(i).cloneElement(t,{appearance:n}):t):null})))}})),r.register("cLenj",(function(n,o){t(n.exports,"TableControlsPadding",(function(){return g})),t(n.exports,"MainToolbar",(function(){return E})),t(n.exports,"MainToolbarCustomComponentsSlot",(function(){return x}));var i=r("h67q9"),a=r("lhkMJ"),s=r("61szk"),c=r("SssiD"),l=r("kFKbx"),u=r("cufhv");r("8iml0");var d,f,p,h=r("82cWi"),g=20,m=c.default.div(d||(d=e(a)(["\n  position: relative;\n  align-items: center;\n  padding: ","px ","px 0;\n  display: flex;\n  height: auto;\n  background-color: white;\n  box-shadow: none;\n  padding-left: ","px;\n\n  & > div > *:first-child {\n    margin-left: 0;\n  }\n\n  .block-type-btn {\n    padding-left: 0;\n  }\n"])),l.gridSize(),l.gridSize(),g);m.displayName="MainToolbar";var v=c.default(m)(f||(f=e(a)(["\n  position: relative;\n  position: sticky;\n  top: ",";\n  padding-bottom: ","px;\n  z-index: ",";\n  transition: box-shadow ease-in-out 0.2s;\n  &.show-keyline {\n    box-shadow: 0 ","px 0 0 ",";\n  }\n"])),(function(e){return"".concat(e.top,"px")}),l.gridSize(),h.akEditorGridLineZIndex+h.akEditorMenuZIndex,h.akEditorToolbarKeylineHeight,u.N30);v.displayName="MainToolbarSticky";var b=function(t){var n=s.useState(0),r=e(i)(n,2),o=r[0],a=r[1];return s.useEffect((function(){var e,n;a((null===(e=t.externalToolbarRef)||void 0===e||null===(n=e.current)||void 0===n?void 0:n.clientHeight)||0)}),[a,t.externalToolbarRef]),e(s).createElement(v,{"data-testid":"ak-editor-main-toolbar",className:"show-keyline",top:o},t.children)},y=function(t){return e(s).createElement(m,{"data-testid":"ak-editor-main-toolbar"},t.children)},E=function(t){var n=t.useStickyToolbar,r=t.children;return n?e(s).createElement(b,{externalToolbarRef:"boolean"==typeof n?void 0:n},r):e(s).createElement(y,null,r)},x=c.default.div(p||(p=e(a)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: center;\n  flex-grow: 1;\n  padding-right: ","px;\n  > div {\n    display: flex;\n    flex-shrink: 0;\n  }\n"])),g);x.displayName="MainToolbar"})),r.register("5p8xy",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("61szk"),a=r("cYq8m"),s=r("6SDoS");function c(t){var n=t.editorView,r=t.maxHeight,o=t.persistScrollGutter,c=t.editorDOMElement;return e(i).createElement(a.MobileAppearance,{editorView:n||null,maxHeight:r,persistScrollGutter:o},c,n&&e(i).createElement(s.default,{editorView:n}))}})),r.register("cYq8m",(function(n,o){t(n.exports,"MobileAppearance",(function(){return b}));var i,a,s=r("lhkMJ"),c=r("61szk"),l=r("SssiD"),u=r("406gC"),d=r("cS8zP"),f=r("4s4wW"),p=r("4Uvl8"),h=r("5zDIC"),g=r("20nbf"),m=l.default.div(i||(i=e(s)(["\n  min-height: 30px;\n  width: 100%;\n  max-width: inherit;\n  box-sizing: border-box;\n  word-wrap: break-word;\n\n  div > .ProseMirror {\n    outline: none;\n    white-space: pre-wrap;\n    padding: 0;\n    margin: 0;\n  }\n"])));m.displayName="MobileEditor";var v=l.default(h.default)(a||(a=e(s)([""])));function b(t){var n=t.editorView,r=t.maxHeight,o=t.persistScrollGutter,i=t.children,a=c.useCallback((function(t){var a=t.maxContentSize,s=t.mobileScroll,l=Boolean(null==a?void 0:a.maxContentSizeReached),u=100;if(s){var d=s.keyboardHeight,f=s.windowHeight;u=100-100*d/f-100*s.mobilePaddingTop/f}return e(c).createElement(p.default,{animate:l},e(c).createElement(m,{isMaxContentSizeReached:l,maxHeight:r},e(c).createElement(g.default,{editorView:n||void 0,minHeight:u,persistScrollGutter:o},e(c).createElement(v,null,e(c).createElement("div",{className:"ak-editor-content-area"},i)))))}),[i,r,n,o]);return e(c).createElement(f.default,{plugins:{maxContentSize:u.pluginKey,mobileScroll:d.mobileScrollPluginKey},render:a})}v.displayName="ContentArea"})),r.register("4jK8N",(function(n,o){t(n.exports,"ContextAdapter",(function(){return b}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hm2s2"),h=r("9LzOV"),g=r("7lFfQ");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}function v(t){var n=e(f).useContext(t);return e(f).useMemo((function(){return{Provider:t.Provider,Consumer:t.Consumer,value:n}}),[n,t])}var b=function(t){var n=t.children,r=v(h.Context),o=v(g.default);return e(f).createElement(y,{card:r,analytics:o},n)},y=function(t){e(c)(r,t);var n=m(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"contextState",{}),t}return e(a)(r,[{key:"getChildContext",value:function(){return{contextAdapter:{card:this.props.card,analytics:this.props.analytics}}}},{key:"render",value:function(){return this.props.children}}]),r}(e(f).PureComponent);e(d)(y,"childContextTypes",{contextAdapter:e(p).object})})),r.register("1jAiP",(function(n,o){t(n.exports,"extensionProviderToQuickInsertProvider",(function(){return g})),t(n.exports,"combineQuickInsertProviders",(function(){return v}));var i=r("9ePZF"),a=r("cNgp7"),s=r("61szk"),c=r("2l34k");r("igW5C");var l=r("ecVYb"),u=r("eESSH"),d=r("1puJP"),f=r("9V1f8");r("cTu5S");var p=r("4bO6W");function h(e,t){t&&p.fireAnalyticsEvent(t)({payload:{action:f.ACTION.INSERTED,actionSubject:f.ACTION_SUBJECT.DOCUMENT,actionSubjectId:f.ACTION_SUBJECT_ID.EXTENSION,attributes:{extensionType:e.extensionType,key:e.key,inputMethod:f.INPUT_METHOD.QUICK_INSERT},eventType:f.EVENT_TYPE.TRACK}})}function g(e,t,n){return m.apply(this,arguments)}function m(){return(m=e(a)(e(i).mark((function t(n,r,o){var a;return e(i).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.getExtensions();case 2:return a=t.sent,t.abrupt("return",{getItems:function(){var t=l.getQuickInsertItemsFromModule(a,(function(t){var n=e(c)({loader:t.icon,loading:function(){return null}});return{title:t.title,description:t.description,icon:function(){return e(s).createElement(n,{label:""})},keywords:t.keywords,featured:t.featured,categories:t.categories,action:function(e){return"function"==typeof t.node?(u.resolveImport(t.node()).then((function(e){h(t,o),e&&r.replaceSelection(e)})),e("")):(h(t,o),e(t.node))}}}));return Promise.all(t)}});case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(e){return b.apply(this,arguments)}function b(){return(b=e(a)(e(i).mark((function t(n){var r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.default(n),o=r.invokeList,e.abrupt("return",{getItems:function(){return o("getItems")}});case 2:case"end":return e.stop()}}),t)})))).apply(this,arguments)}})),r.register("fYn37",(function(n,o){t(n.exports,"default",(function(){return T}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("fjLyd"),m=r("6gvxN");r("igW5C");var v=r("4XiPG");r("cTu5S");var b=r("9V1f8"),y=r("46vX8"),E=r("lWHVr"),x=r("3pogS"),k=r("7kSdg");function C(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var S=function(t){e(u)(o,t);var n,r=C(o);function o(){var t;e(s)(this,o);for(var n=arguments.length,c=new Array(n),u=0;u<n;u++)c[u]=arguments[u];return t=r.call.apply(r,[this].concat(c)),e(p)(e(l)(t),"browserExtensions",void 0),e(p)(e(l)(t),"state",{error:void 0}),e(p)(e(l)(t),"getFeatureFlags",m.default((function(e){return e?E.getFeatureFlags(e.state):{}}))),e(p)(e(l)(t),"fireAnalytics",(function(n){var r=t.props.createAnalyticsEvent;t.getProductName().then((function(o){if(r){var i=n.error,a=n.errorInfo,s=n.errorStack,c=e(g)(),l={action:b.ACTION.EDITOR_CRASHED,actionSubject:b.ACTION_SUBJECT.EDITOR,eventType:b.EVENT_TYPE.OPERATIONAL,attributes:{product:o,browserInfo:window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:"unknown",error:i,errorInfo:a,errorId:c,browserExtensions:t.browserExtensions}};t.featureFlags.errorBoundaryDocStructure&&t.props.editorView&&(l.attributes.docStructure=x.getDocStructure(t.props.editorView.state.doc,{compact:!0})),r(l).fire(y.editorAnalyticsChannel),r({action:b.ACTION.EDITOR_CRASHED_ADDITIONAL_INFORMATION,actionSubject:b.ACTION_SUBJECT.EDITOR,eventType:b.EVENT_TYPE.OPERATIONAL,attributes:{errorStack:s,errorId:c}}).fire(y.editorAnalyticsChannel)}else console.error("Editor Error Boundary: Missing `createAnalyticsEvent` prop.",{channel:y.editorAnalyticsChannel,product:o,error:n})})).catch((function(e){console.error("Failed to resolve product name from contextIdentifierProvider.",e)}))})),e(p)(e(l)(t),"getProductName",e(a)(e(i).mark((function n(){var r,o;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.props.contextIdentifierProvider)){e.next=7;break}return e.next=4,r;case 4:if(!(o=e.sent).product){e.next=7;break}return e.abrupt("return",o.product);case 7:return e.abrupt("return","atlaskit");case 8:case"end":return e.stop()}}),n)})))),t}return e(c)(o,[{key:"featureFlags",get:function(){return this.getFeatureFlags(this.props.editorView)}},{key:"componentDidCatch",value:function(e,t){var n=this;this.fireAnalytics({error:e.toString(),errorInfo:t,errorStack:e.stack}),this.setState({error:e},(function(){if(n.props.rethrow)throw e}))}},{key:"componentDidMount",value:(n=e(a)(e(i).mark((function t(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.sniffUserBrowserExtensions({extensions:["grammarly"],async:!0,asyncTimeoutMs:2e4});case 2:this.browserExtensions=e.sent;case 3:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"render",value:function(){return this.props.children}}]),o}(e(h).Component);e(p)(S,"defaultProps",{rethrow:!0});var T=k.WithEditorView(S)})),r.register("7kSdg",(function(n,o){t(n.exports,"WithEditorView",(function(){return c}));var i=r("jgze0"),a=r("61szk"),s=r("5f4Cw"),c=function(t){return function(n){var r=s.useEditorContext().editorActions;return e(a).createElement(t,e(i)({},n,{editorView:null==r?void 0:r._privateGetEditorView()}))}}})),r.register("lhaLi",(function(n,o){t(n.exports,"default",(function(){return v}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("gOYzf"),h=r("7NAVF"),g=r("aFkeL");function m(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var v=function(t){e(c)(r,t);var n=m(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"handleEditorRef",(function(e,n){n&&"function"==typeof n&&n(e),t.editorComponent=e})),t}return e(a)(r,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){!this.props.isExpanded&&e.isExpanded&&(this.shouldTriggerExpandEvent=!0)}},{key:"componentDidUpdate",value:function(){this.shouldTriggerExpandEvent&&this.editorComponent&&(this.shouldTriggerExpandEvent=!1,this.props.onExpand&&this.props.onExpand())}},{key:"render",value:function(){var t=this,n=e(f).Children.only(this.props.children);if(n.type!==p.default&&n.type!==h.default)throw new Error("Expected child to be of type `Editor`");return this.props.isExpanded?e(f).cloneElement(n,{ref:function(e){return t.handleEditorRef(e,n.ref)}}):e(f).createElement(g.default,{onFocus:this.props.onFocus,text:this.props.placeholder})}}]),r}(e(f).Component)})),r.register("7NAVF",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("jgze0"),a=r("go2dD"),s=r("4NDMl"),c=r("47NZN"),l=r("9OLyr"),u=r("89Kz4"),d=r("eP3fJ"),f=r("l15hj"),p=r("61szk"),h=r("hm2s2"),g=r("gOYzf"),m=r("5f4Cw"),v=r("092a2");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(d)(t);if(n){var i=e(d)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(u)(this,r)}}var y=function(t){e(l)(r,t);var n=b(r);function r(){var t;e(a)(this,r);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return t=n.call.apply(n,[this].concat(i)),e(f)(e(c)(t),"handleSave",(function(e){return function(){t.props.onSave(e)}})),e(f)(e(c)(t),"handleCancel",(function(e){return function(){t.props.onCancel(e)}})),e(f)(e(c)(t),"handleChange",(function(e){return function(){t.props.onChange(e)}})),t}return e(s)(r,[{key:"render",value:function(){var t=this;if(this.context.editorActions){var n=this.context.editorActions;return e(p).createElement(g.default,e(i)({},this.props,{onSave:this.props.onSave?this.handleSave(n):void 0,onChange:this.props.onChange?this.handleChange(n):void 0,onCancel:this.props.onCancel?this.handleCancel(n):void 0}))}return e(p).createElement(m.default,null,e(p).createElement(v.default,{render:function(n){return e(p).createElement(g.default,e(i)({},t.props,{onSave:t.props.onSave?t.handleSave(n):void 0,onChange:t.props.onChange?t.handleChange(n):void 0,onCancel:t.props.onCancel?t.handleCancel(n):void 0}))}}))}}]),r}(e(p).Component);e(f)(y,"contextTypes",{editorActions:e(h).object.isRequired})})),r.register("aFkeL",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=(f=r("61szk"),r("b836X"));function h(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var g=function(t){e(c)(r,t);var n=h(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"focusHandler",(function(e){t.input&&t.input.blur(),t.props.onFocus&&t.props.onFocus(e)})),e(d)(e(s)(t),"handleInputRef",(function(e){t.input=e})),t}return e(a)(r,[{key:"render",value:function(){var t=this.props.text||"Type something\u2026";return e(f).createElement(p.Input,{innerRef:this.handleInputRef,onFocus:this.focusHandler,placeholder:t})}}]),r}(f.PureComponent)})),r.register("b836X",(function(n,o){t(n.exports,"Input",(function(){return d}));var i=r("lhkMJ"),a=r("SssiD");r("8iml0");var s,c=r("82cWi"),l=r("kFKbx"),u=r("cufhv"),d=a.default.input(s||(s=e(i)(["\n  /* Normal .className gets overridden by input[type=text] hence this hack to produce input.className */\n  input& {\n    background-color: white;\n    border: 1px solid ",";\n    border-radius: ","px;\n    box-sizing: border-box;\n    height: 40px;\n    padding-left: 20px;\n    padding-top: 12px;\n    padding-bottom: 12px;\n    font-size: ",";\n    width: 100%;\n    font-weight: 400;\n    line-height: 1.42857142857143;\n    letter-spacing: -0.005em;\n    color: ",";\n\n    &:hover {\n      border-color: ",";\n      cursor: text;\n    }\n  }\n"])),c.akEditorSubtleAccent,l.borderRadius(),c.relativeFontSizeToBase16(14),u.N300,u.N50)})),r.register("3lNGs",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("doC7H"),s=r("gCo6x"),c=r("8AbFM"),l=function(t){var n=t.title,r=void 0===n?"Open help dialog":n,o=t.titlePosition,l=void 0===o?"left":o;return e(i).createElement(c.default,{render:function(t){return e(i).createElement(s.default,{onClick:t,title:r,titlePosition:l,iconBefore:e(i).createElement(e(a),{label:r})})}})}})),r.register("doC7H",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M12 18a1 1 0 010-2 1 1 0 010 2m-2-9a1 1 0 11-2 0 1 1 0 012 0"/><path d="M15.89 8.048a3.971 3.971 0 00-2.951-2.94A4.005 4.005 0 008 9.087a.073.073 0 00.009.008l1.878.022.112-.116A2.002 2.002 0 0112 7c1.103 0 2 .897 2 2 0 1.102-.897 2-2 2h.008a1 1 0 00-.998.987v2.014a1 1 0 102 0v-.782c0-.217.145-.399.349-.472a3.991 3.991 0 002.53-4.699"/></g></svg>'},e));a.displayName="QuestionIcon";var s=a;e.exports.default=s})),r.register("8AbFM",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("go2dD"),a=r("4NDMl"),s=r("47NZN"),c=r("9OLyr"),l=r("89Kz4"),u=r("eP3fJ"),d=r("l15hj"),f=r("61szk"),p=r("hm2s2");r("cTu5S");var h=r("9V1f8"),g=r("8PQwY"),m=r("xMGOe"),v=r("46vX8");function b(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(u)(t);if(n){var i=e(u)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(l)(this,r)}}var y=function(t){e(c)(r,t);var n=b(r);function r(){var t;e(i)(this,r);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return t=n.call.apply(n,[this].concat(a)),e(d)(e(s)(t),"openHelp",(function(){var e=t.context.editorActions;g.createDispatch(e.eventDispatcher)(v.analyticsEventKey,{payload:{action:h.ACTION.CLICKED,actionSubject:h.ACTION_SUBJECT.BUTTON,actionSubjectId:h.ACTION_SUBJECT_ID.BUTTON_HELP,attributes:{inputMethod:h.INPUT_METHOD.TOOLBAR},eventType:h.EVENT_TYPE.UI}});var n=e._privateGetEditorView();n&&m.openHelpCommand(n.state.tr,n.dispatch)})),t}return e(a)(r,[{key:"render",value:function(){return this.props.render(this.openHelp)}}]),r}(e(f).Component);e(d)(y,"contextTypes",{editorActions:e(p).object.isRequired})})),r.register("cdksp",(function(n,o){t(n.exports,"default",(function(){return j}));var i=r("9ePZF"),a=r("cNgp7"),s=r("go2dD"),c=r("4NDMl"),l=r("47NZN"),u=r("9OLyr"),d=r("89Kz4"),f=r("eP3fJ"),p=r("l15hj"),h=r("61szk"),g=r("c6wVG"),m=(h=r("61szk"),r("hm2s2")),v=r("1HQ2H");r("igW5C");var b=r("5Dx14");r("2rw1a");var y=r("eCtlX");r("31Xz9");var E=r("kInf8"),x=r("gCo6x"),k=r("lmfsj"),C=r("8JQit");r("cTu5S");var S=r("9V1f8"),T=r("8PQwY"),O=r("7Rd80"),w=r("biIyr"),N=r("jQJtt"),P=r("46vX8"),A=r("5SXlo");function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?I(Object(r),!0).forEach((function(n){e(p)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function R(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,o=e(f)(t);if(n){var i=e(f)(this).constructor;r=Reflect.construct(o,arguments,i)}else r=o.apply(this,arguments);return e(d)(this,r)}}var M=k.default(b.default),_=[{property:"packageVersion",description:"To pass package version use feedbackInfo property \u2013 <Editor feedbackInfo={{ packageVersion }} />",type:"removed"},{property:"packageName",description:"To pass package name use feedbackInfo property \u2013 <Editor feedbackInfo={{ packageName }} />",type:"removed"},{property:"labels",description:"To pass feedback labels use feedbackInfo property \u2013 <Editor feedbackInfo={{ labels }} />",type:"removed"}],j=function(t){e(u)(r,t);var n=R(r);function r(t){var o;return e(s)(this,r),o=n.call(this,t),e(p)(e(l)(o),"state",{jiraIssueCollectorScriptLoading:!1,showOptOutOption:!1}),e(p)(e(l)(o),"handleRef",(function(t){t&&o.setState({target:e(g).findDOMNode(t||null)})})),e(p)(e(l)(o),"getFeedbackInfo",(function(){return N.default((function(e,t){return["product","packageVersion","packageName","labels"].indexOf(e)>=0&&!function(e){return null==e}(t)}),o.props)})),e(p)(e(l)(o),"collectFeedback",(function(){"bitbucket"===o.props.product?o.setState({showOptOutOption:!0}):o.openFeedbackPopup()})),e(p)(e(l)(o),"toggleShowOptOutOption",(function(){o.setState({showOptOutOption:!o.state.showOptOutOption})})),e(p)(e(l)(o),"openJiraIssueCollector",e(a)(e(i).mark((function t(){var n,r,a,s,c,l;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.setState({jiraIssueCollectorScriptLoading:!0,showOptOutOption:!1}),a=o.context.editorActions.editorView,s=null===(n=window.localStorage.getItem("awc.session.id"))||void 0===n?void 0:n.toString(),c=null===(r=A.getContextIdentifier(null==a?void 0:a.state))||void 0===r?void 0:r.objectId,l=window.sessionStorage["awc.tab.id"],e.next=7,O.openFeedbackDialog(D(D({},o.getFeedbackInfo()),{},{sessionId:s,contentId:c,tabId:l}));case 7:o.setState({jiraIssueCollectorScriptLoading:!1});case 8:case"end":return e.stop()}}),t)})))),e(p)(e(l)(o),"openFeedbackPopup",(function(){return T.createDispatch(o.context.editorActions.eventDispatcher)(P.analyticsEventKey,{payload:{action:S.ACTION.CLICKED,actionSubject:S.ACTION_SUBJECT.BUTTON,actionSubjectId:S.ACTION_SUBJECT_ID.BUTTON_FEEDBACK,eventType:S.EVENT_TYPE.UI}}),o.openJiraIssueCollector(),!0})),e(p)(e(l)(o),"openLearnMorePage",(function(){window.open("https://confluence.atlassian.com/x/NU1VO","_blank"),o.toggleShowOptOutOption()})),e(p)(e(l)(o),"hasJquery",(function(){return void 0!==window.jQuery})),w.default(r.name,t,_),o}return e(c)(r,[{key:"render",value:function(){var t=this.props,n=t.popupsMountPoint,r=t.popupsBoundariesElement,o=t.popupsScrollableElement,i=this.state.jiraIssueCollectorScriptLoading?e(h).createElement(v.default,null):void 0;return this.hasJquery()?e(h).createElement(C.Wrapper,null,e(h).createElement(x.default,{ref:this.handleRef,iconBefore:i,onClick:this.collectFeedback,selected:!1,spacing:"compact"},e(h).createElement(C.ButtonContent,null,"Feedback")),this.state.showOptOutOption&&e(h).createElement(M,{target:this.state.target,mountTo:n,boundariesElement:r,scrollableElement:o,fitHeight:388,fitWidth:280,handleClickOutside:this.toggleShowOptOutOption,handleEscapeKeydown:this.toggleShowOptOutOption},e(h).createElement(C.ConfirmationPopup,null,e(h).createElement(C.ConfirmationHeader,null,e(h).createElement(C.ConfirmationImg,{src:"https://confluence.atlassian.com/download/attachments/945114421/editorillustration@2x.png?api=v2"})),e(h).createElement(C.ConfirmationText,null,e(h).createElement("div",null,"We are rolling out a new editing experience across Atlassian products. Help us improve by providing feedback."),e(h).createElement("div",null,'You can opt-out for now by turning off the "Atlassian Editor" feature on the Labs page in Bitbucket settings.'),e(h).createElement(y.default,null,e(h).createElement(E.default,{appearance:"primary",onClick:this.openFeedbackPopup},"Give feedback"),e(h).createElement(E.default,{appearance:"default",onClick:this.openLearnMorePage},"Learn more")))))):null}}]),r}(h.PureComponent);e(p)(j,"contextTypes",{editorActions:e(m).object.isRequired})})),r.register("8JQit",(function(n,o){t(n.exports,"ButtonContent",(function(){return m})),t(n.exports,"Wrapper",(function(){return v})),t(n.exports,"ConfirmationPopup",(function(){return b})),t(n.exports,"ConfirmationText",(function(){return y})),t(n.exports,"ConfirmationHeader",(function(){return E})),t(n.exports,"ConfirmationImg",(function(){return x}));var i=r("lhkMJ"),a=r("SssiD"),s=r("kFKbx"),c=r("cufhv");r("8iml0");var l,u,d,f,p,h,g=r("82cWi"),m=a.default.span(l||(l=e(i)(["\n  display: flex;\n  height: 24px;\n  line-height: 24px;\n  min-width: 70px;\n"]))),v=a.default.span(u||(u=e(i)(["\n  display: flex;\n  margin-right: ","px;\n"])),(function(e){var t=e.width;return t&&"large"!==t?s.gridSize():0})),b=a.default.div(d||(d=e(i)(["\n  background: #fff;\n  border-radius: ","px;\n  box-shadow: 0 4px 8px -2px ",", 0 0 1px ",";\n  display: flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  overflow: auto;\n  max-height: none;\n  height: 410px;\n  width: 280px;\n"])),s.borderRadius(),c.N60A,c.N60A),y=a.default.div(f||(f=e(i)(["\n  font-size: ",";\n  word-spacing: 4px;\n  line-height: 22px;\n  color: ",";\n  margin-top: 30px;\n  padding: 20px;\n  & > div {\n    width: 240px;\n  }\n  & > div:first-of-type {\n    margin-bottom: 12px;\n  }\n  & > div:nth-of-type(2) {\n    margin-bottom: 20px;\n  }\n"])),g.relativeFontSizeToBase16(14),c.N400),E=a.default.div(p||(p=e(i)(["\n  background-color: ",";\n  height: 100px;\n  width: 100%;\n  display: inline-block;\n"])),c.P400),x=a.default.img(h||(h=e(i)(["\n  width: 100px;\n  display: block;\n  margin: 25px auto 0 auto;\n"])))})),r.register("biIyr",(function(e,n){t(e.exports,"default",(function(){return s}));var o=r("jpSzX");function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s=function(e,t,n){var r,a=o.nextMajorVersion(),s=i(n);try{for(s.s();!(r=s.n()).done;){var c=r.value,l=c.property,u=c.type,d=void 0===u?"enabled by default":u,f=c.description,p=void 0===f?"":f,h=c.condition,g=void 0===h?function(){return!0}:h;t.hasOwnProperty(l)&&g(t)&&console.warn("".concat(l," property for ").concat(e," is deprecated. ").concat(p," [Will be ").concat(d," in editor-core@").concat(a,"]"))}}catch(e){s.e(e)}finally{s.f()}}})),r.register("jQJtt",(function(n,o){t(n.exports,"default",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(t,n){return Object.keys(n).reduce((function(r,o){return t(String(o),n[o])?s(s({},r),{},e(i)({},o,n[o])):r}),{})}})),r.register("60sYh",(function(e,t){r("9VyJv")})),r.register("jRfTz",(function(e,t){})),r.register("dISHh",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("61szk"),a=r("35ixb"),s=r("3GKKo");const c={id:"frontbucket.components.conversation.deleteCommentDialog.delete",message:"The label displayed on the button to confirm the deletion of a comment",defaultMessage:"Delete"},l={id:"frontbucket.components.conversation.deleteCommentDialog.cancel",message:"The label displayed on the button to cancel the deletion of a comment",defaultMessage:"Cancel"},u={id:"frontbucket.components.conversation.deleteCommentDialog.heading",message:"The header displayed in the delete comment dialog when requesting confirmation to delete a comment",defaultMessage:"Delete comment"},d={id:"frontbucket.components.conversation.deleteCommentDialog.message",message:"The message displayed in the delete comment dialog when requesting confirmation to delete a comment",defaultMessage:"Are you sure you want to delete this comment?"},f=t=>{const n=s.useIntl(),{analyticsEvent:r,onConfirmDelete:o,onHideModal:f}=t,p=i.useMemo((()=>[{text:n.formatMessage(c),onClick:()=>{o(void 0,r),f()}},{text:n.formatMessage(l),onClick:()=>{f()}}]),[r,o,f,n]),h=i.useCallback((e=>{f(),!(e=>void 0!==e.key)(e)||"Escape"!==e.key&&"Esc"!==e.key||e.stopPropagation()}),[f]);return e(i).createElement(a.default,{appearance:"danger",autoFocus:!0,heading:n.formatMessage(u),actions:p,width:"small",onClose:h},n.formatMessage(d))};var p=e(i).memo(f)})),r.register("hms2A",(function(e,n){t(e.exports,"providerFactory",(function(){return r("i3CBx").providerFactory})),t(e.exports,"htmlTransformer",(function(){return r("ll9LU").htmlTransformer})),t(e.exports,"toJson",(function(){return r("heUL2").toJson})),t(e.exports,"FabricRenderer",(function(){return r("lTT7J").FabricRenderer}));r("dcvjH"),r("i3CBx"),r("ll9LU"),r("heUL2"),r("lTT7J")})),r.register("dcvjH",(function(e,n){t(e.exports,"emojiProvider",(function(){return c})),r("daqo8");var o=r("cz1Fu"),i=r("jAAg3"),a=r("iWZlf");const s=i.settings().EMOJI_STANDARD_BASE_URL,c=Promise.resolve(a.IS_SERVER?{}:new o.default({providers:[{url:`${s}standard`,securityProvider:()=>({params:{maxVersion:"VERSION_9_0"}})}]}))})),r.register("i3CBx",(function(e,n){t(e.exports,"providerFactory",(function(){return s})),r("igW5C");var o=r("g4Rxo"),i=r("4nhY2"),a=r("dcvjH");const s=new o.default;s.setProvider("emojiProvider",a.emojiProvider),s.setProvider("cardProvider",i.smartCardProvider)})),r.register("4nhY2",(function(e,n){t(e.exports,"smartCardProvider",(function(){return a}));var o=r("9LzOV");class i extends o.EditorCardProvider{resolve(e){return super.resolve(e,"inline")}}const a=Promise.resolve(new i)})),r.register("ll9LU",(function(e,n){t(e.exports,"htmlTransformer",(function(){return a}));var o=r("l69Rz"),i=r("ekJGA");const a=new o.BitbucketTransformer(i.bitbucketSchema,{disableBitbucketLinkStripping:!0})})),r.register("heUL2",(function(e,n){t(e.exports,"toJson",(function(){return i}));const o=new(r("cquxg").JSONTransformer),i=e=>o.encode(e)})),r.register("lTT7J",(function(n,o){t(n.exports,"FabricRenderer",(function(){return m}));var i=r("ekJGA");r("dFBo1");var a=r("1bpwT"),s=r("61szk"),c=r("gzbOn"),l=r("3GKKo"),u=r("kjVDt"),d=r("8bPij"),f=r("heUL2"),p=r("i3CBx"),h=r("ll9LU");const g={html:h.htmlTransformer},m=t=>{const{src:n,format:r}=t,o=l.useIntl(),h=u.usePortalContainer();s.useEffect((()=>{p.providerFactory.setProvider("profilecardProvider",d.buildProfilecardProvider({intl:o}))}),[]);const m=c.useFeature(c.FeatureKeys.rendererTTRSeverityTracking,c.FeatureFlagDefaultValues[c.FeatureKeys.rendererTTRSeverityTracking]),v=c.useFeature(c.FeatureKeys.unsupportedContentLevelsTracking,c.FeatureFlagDefaultValues[c.FeatureKeys.unsupportedContentLevelsTracking]),b=c.useFeature(c.FeatureKeys.useSpecBasedValidator,c.FeatureFlagDefaultValues[c.FeatureKeys.useSpecBasedValidator]),y=(g[r]||g.html).parse(n),E=f.toJson(y);return e(s).createElement(a.default,{appearance:"comment",analyticsEventSeverityTracking:m,unsupportedContentLevelsTracking:v,useSpecBasedValidator:b,schema:i.bitbucketSchema,dataProviders:p.providerFactory,document:E,portal:h})}})),r.register("kjVDt",(function(e,n){t(e.exports,"usePortalContainer",(function(){return i}));var o=r("61szk");const i=e=>{const t=o.useRef(null);function n(){return null===t.current&&(t.current=document.createElement("div")),t.current}return o.useEffect((()=>((e&&document.getElementById(e)||document.body).appendChild(n()),()=>{n().remove()})),[]),n()}})),r.register("8bPij",(function(e,n){t(e.exports,"buildProfilecardProvider",(function(){return s}));var o=r("h7XbF"),i=r("3GLJk"),a=r("fVEga");const s=e=>Promise.resolve({cloudId:"null",getActions:t=>{const n=a.uncurlyAaid(t)||t;return o.getProfileCardActions({intl:e.intl,profileUrl:`/${n}`})},resourceClient:i.atlassianAccountProfileClient})})),r.register("3GLJk",(function(e,n){t(e.exports,"userProfileClient",(function(){return g})),t(e.exports,"atlassianAccountProfileClient",(function(){return m}));var o=r("j4oWn"),i=r("cJOGA"),a=r("h7XbF"),s=r("3cCIZ"),c=r("eIict"),l=r("fVEga");const u=3e5,d=i.stringify({fields:["department","job_title","location","organization","zoneinfo"].map((e=>`+${e}`)).join(",")}),f=e=>{o.captureException(e)},p={cacheMaxAge:u,fetchUser:e=>{const t=s.default.api.v20.user(e);return fetch(c.default(`${t}?${d}`,{headers:c.jsonHeaders})).then((e=>e.ok?e.json():Promise.reject()))},onError:f},h={cacheMaxAge:u,fetchUser:e=>{const t=l.uncurlyAaid(e)||e,n=s.default.api.v20.user(t);return fetch(c.default(`${n}?${d}`,{headers:c.jsonHeaders})).then((e=>e.ok?e.json():Promise.reject()))},onError:f},g=new a.ProfileClient(p),m=new a.ProfileClient(h)})),r.register("fVEga",(function(e,n){t(e.exports,"uncurlyAaid",(function(){return o}));const r=new RegExp("^{([^}]+)}$"),o=e=>{const t=r.exec(e);return t?t[1]:null}})),r.register("043zr",(function(e,n){t(e.exports,"transformUserToMention",(function(){return f})),t(e.exports,"BitbucketMentionsProvider",(function(){return p})),r("fLBIm");var o=r("tpWeJ"),i=r("bqqck"),a=r("eIict"),s=r("iye20"),c=r("1QmEH");let l=null,u=null,d=null;const f=e=>{const t={id:`{${e.mention_id}}`,avatarUrl:e.avatar_url,name:e.display_name,mentionName:e.username,nickname:void 0,lozenge:e.is_teammate?{text:"teammate"}:void 0};return i.hasDistinctDisplayName(e.display_name,e.nickname)&&(t.nickname=e.nickname),t},p={build:({owner:e,slug:t,intl:n})=>(l===e&&u===t&&d||(l=e,u=t,d=class extends o.AbstractMentionResource{async filter(r){if(r.length<3){const e=n.formatMessage(c.default.continueTyping);return void this._notifyInfoListeners(e)}const o=s.default.ui.repositoryMentions(e,t,r);try{const e=await fetch(a.default(o));if(!e.ok){const e=n.formatMessage(c.default.error);throw new Error(e)}const t=await e.json();if(0===t.length){const e=n.formatMessage(c.default.noMatches,{query:r});return void this._notifyInfoListeners(e)}const i=t.map((e=>f(e)));this._notifyListeners({mentions:i,query:r}),this._notifyAllResultsListeners({mentions:i,query:r})}catch(e){this._notifyErrorListeners(e.message)}}}),d)}})),r.register("1QmEH",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({continueTyping:{id:"frontbucket.global.mentions.continueTyping",defaultMessage:"Continue typing to search for a user"},noMatches:{id:"frontbucket.global.mentions.noMatches",defaultMessage:"Found no matches for {query}"},error:{id:"frontbucket.global.mentions.error",defaultMessage:"No results could be retrieved"}})})),r.register("4yJMB",(function(e,n){t(e.exports,"UserRecommendationsMentionProvider",(function(){return v})),r("fLBIm");var o=r("tpWeJ");r("g8A1U");var i=r("1OvM8"),a=r("bqqck"),s=r("eIict"),c=r("iye20"),l=r("1QmEH"),u=r("043zr");const d="initialState",f="searchUser",p="succeeded",h="failed",g="bitbucket",m="/gateway/api/v1/recommendations";class v extends o.default{async remoteInitialState(e){try{const t=await this.doSearch("",e);return this.notifyAnalyticsListenersInternal(d,p),t}catch(e){throw this.notifyAnalyticsListenersInternal(d,h),e}}async remoteSearch(e,t){try{const n=await this.doSearch(e,t);return this.notifyAnalyticsListenersInternal(f,p),n}catch(t){try{const t=await this.doSearchFallback(e);return this.notifyAnalyticsListenersInternal(f,p),t}catch(e){throw this.notifyAnalyticsListenersInternal(f,h),e}}}async doSearch(e,t){const n=await this.post(e,t);if(!n.ok){const e=await n.json().catch((e=>"error while parsing json"));throw new Error(JSON.stringify(e))}return{query:e,mentions:(await n.json()).recommendedUsers.map((e=>v.transformUserToMention(e)))}}post(e,t){const n=(new Set).add(this.conversationsMentionContext.repositoryWorkspaceUUID);return fetch(s.default(m,{method:"POST",credentials:"include",headers:s.jsonHeaders,body:JSON.stringify({context:{contextType:"BitbucketMentions",principalId:"context",productKey:g,siteId:g,containerId:t&&t.containerId,sessionId:t&&t.sessionId,productAttributes:{pullRequestId:this.conversationsMentionContext.pullrequestId,isPublicRepo:!this.conversationsMentionContext.isPrivateRepo,workspaceIds:[...n]}},searchQuery:{queryString:e,filter:'account_status:"active" AND (NOT email_domain:"connect.atlassian.com") AND (NOT account_type:app)'},maxNumberOfResults:20,includeTeams:!1})}))}async doSearchFallback(e){const t=c.default.ui.repositoryMentions(this.bitbucketMentionsFallbackConfig.owner,this.bitbucketMentionsFallbackConfig.slug,e),n=await fetch(s.default(t));if(!n.ok){const e=this.bitbucketMentionsFallbackConfig.intl.formatMessage(l.default.error);throw new Error(e)}const r=await n.json();if(0===r.length){const t=this.bitbucketMentionsFallbackConfig.intl.formatMessage(l.default.noMatches,{query:e});return this._notifyInfoListeners(t),{query:e,mentions:[]}}return{query:e,mentions:r.map((e=>v.transformFallbackUserToMention(e)))}}notifyAnalyticsListenersInternal(e,t){this._notifyAnalyticsListeners(i.SLI_EVENT_TYPE,e,t)}async recordMentionSelection(e,t){return Promise.resolve()}constructor(e,t){super({url:m,productId:"bitbucket"}),this.bitbucketMentionsFallbackConfig=e,this.conversationsMentionContext=t}}v.transformUserToMention=e=>{const t=e.attributes&&e.attributes.workspaceMember?{text:"MEMBER"}:void 0,n={id:`{${e.id}}`,avatarUrl:e.avatarUrl,name:e.name,nickname:void 0,mentionName:e.nickname||"",lozenge:t};return a.hasDistinctDisplayName(e.name,e.nickname)&&(n.nickname=e.nickname),n},v.transformFallbackUserToMention=e=>({...u.transformUserToMention(e),lozenge:void 0})})),r.register("kGvEn",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({commentsGlobalTitle:{id:"frontbucket.repository.pullRequestConversation.globalTitle",defaultMessage:"{count, plural, one {{count} comment} other {{count} comments}}"},commentsGlobalAddComment:{id:"frontbucket.repository.pullRequestConversation.globalAddComment",defaultMessage:"Add a comment"},globalConversationLabel:{id:"frontbucket.repository.pullRequestConversation.globalLabel",defaultMessage:"Global comments"},createTaskLabel:{id:"frontbucket.repository.pullRequestConversation.createTaskLabel",defaultMessage:"Create task"},loginLinkText:{id:"frontbucket.repository.pullRequestConversation.loginLinkText",defaultMessage:"Log in to add a comment"}})})),r.register("lz8yl",(function(n,o){t(n.exports,"useConversationEditor",(function(){return m})),t(n.exports,"useDescriptionEditor",(function(){return v})),t(n.exports,"useConversationEditorWithMentionReply",(function(){return b}));var i=r("jgze0"),a=r("9yXdI"),s=r("gkjyG"),c=r("beog4"),l=r("61szk"),u=r("6tbO4"),d=r("gzbOn"),f=r("lh4aV"),p=r("hTK5T"),h=r("4nhY2");const g={allowAnalyticsGASV3:!0,allowTables:{isHeaderRowRequired:!0,allowControls:!0},textFormatting:{disableSuperscriptAndSubscript:!0,disableUnderline:!0}},m=()=>{const t=u.useDispatch(),n=l.useCallback(((e,n)=>t(f.handleImageUpload(e,n))),[t]),r=l.useMemo((()=>Promise.resolve(n)),[n]),o=l.useMemo((()=>({provider:h.smartCardProvider})),[]),a=d.useFeature(d.FeatureKeys.editorPerformanceTracking,d.FeatureFlagDefaultValues[d.FeatureKeys.editorPerformanceTracking]),s=d.useFeature(d.FeatureKeys.editorValidTransactionsTracking,{samplingRate:10}),c=l.useMemo((()=>({...g,performanceTracking:a,trackValidTransactions:s})),[a,s]);return l.useCallback(((t,n,a)=>e(l).createElement(t,e(i)({},n,c,{legacyImageUploadProvider:r,UNSAFE_cards:o}))),[r,o,c])},v=()=>{const e=m();return l.useCallback(((t,n,r)=>e(t,{...n,allowRule:!0},r)),[e])},b=({conversation:e,popupsMountPoint:t})=>{const n=m(),r=u.useSelector(p.getCurrentUserUuid),o=(null==e?void 0:e.comments.map((e=>e.authorUuid)).filter((e=>null!==e)))||[],i=u.useSelector((e=>p.getUserUuidToAaidMap(e,o))),d=e?i:void 0,f=l.useCallback(((e,o,i)=>{const l=!o.defaultValue&&d&&i&&i.createdBy.id!==r&&0!==i.nestedDepth?((e,t)=>{let n;if(e&&e.createdBy.id){const r=t.get(e.createdBy.id);r&&(n=a.doc(s.paragraph(c.mention({id:`{${r}}`,text:e.createdBy.name,userType:"DEFAULT"})," ")))}return n})(i,d):o.defaultValue,u={defaultValue:l,popupsMountPoint:t};return n(e,{...o,...u},i)}),[d,r,t,n]);return f}})),r.register("9yXdI",(function(e,n){t(e.exports,"doc",(function(){return r}));var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"doc",version:1,content:t}}})),r.register("beog4",(function(n,o){t(n.exports,"mention",(function(){return c}));var i=r("l15hj");function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var c=function(e){return{type:"mention",attrs:s({accessLevel:""},e)}}})),r.register("gkjyG",(function(e,n){t(e.exports,"paragraph",(function(){return i}));var o=r("a6Obq"),i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"paragraph",content:o.createTextNodes(t)}}})),r.register("a6Obq",(function(e,n){t(e.exports,"createTextNodes",(function(){return i}));var o=r("dVyUW");function i(e){return e.map(a)}function a(e){return"string"==typeof e?o.text(e):e}})),r.register("dVyUW",(function(e,n){t(e.exports,"text",(function(){return r}));var r=function(e){return{type:"text",text:e}}})),r.register("lh4aV",(function(e,n){t(e.exports,"ACCEPTED_IMAGES_ATTR",(function(){return a})),t(e.exports,"handleImageUpload",(function(){return s}));var o=r("9nD4f");const i=["image/jpeg","image/gif","image/png"],a=i.join(","),s=(e,t)=>n=>{if(!e)return void n(o.chooseImage(t));const r=(e=>e.clipboardData?e.clipboardData.files[0]:e.dataTransfer?e.dataTransfer.files[0]:null)(e);r&&-1!==i.indexOf(r.type)&&n(o.uploadImage(r,t))}})),r.register("iHXhy",(function(n,o){t(n.exports,"PullRequestConversation",(function(){return x})),t(n.exports,"NewPullRequestConversation",(function(){return k}));var i=r("jgze0"),a=r("61szk"),s=r("6tbO4"),c=r("deOgK"),l=r("dwWCa"),u=r("3geUT"),d=r("csqQL"),f=r("69smv"),p=r("2Nhu4"),h=r("baY2C"),g=r("lqcET"),m=r("4nzGf"),v=r("lz8yl"),b=r("aent9"),y=r("4Hwa7");const E=t=>{const{conversation:n,editorPopupsMountPoint:r,...o}=t,y=s.useDispatch(),E=s.useSelector(d.getContainerId),{conversationProvider:x,additionalConversationProviders:k}=l.useConversationsContext(),C=s.useSelector(f.getRepositoryAccessLevel),S=m.usePullRequestCommentActions(n),T=v.useConversationEditorWithMentionReply({conversation:n,popupsMountPoint:r}),O=a.useCallback(((e,t)=>{e.preventDefault(),h.updateHashInURL(`comment-${t}`,g.default),h.isSameCommentPermalink(t)&&y(u.onPermalinkHashChange(`comment-${t}`))}),[y]);return e(a).createElement(c.Conversation,e(i)({canModerateComments:p.canModerateComments(C),id:null==n?void 0:n.conversationId,maxCommentNesting:1,onCommentPermalinkClick:O,renderAdditionalCommentActions:S,renderAfterComment:b.AfterCommentItems,renderEditor:T},o,{dataProviders:k,objectId:E,provider:x}))},x=y.default(e(a).memo(E)),k=e(a).memo((t=>e(a).createElement(x,e(i)({},t,{isExpanded:!0}))))})),r.register("deOgK",(function(n,o){t(n.exports,"Conversation",(function(){return y}));var i=r("jgze0"),a=r("eQkAL"),s=r("29aOV"),c=r("6aCAs"),l=r("61szk");r("Bm7sv");var u=r("4wReE"),d=r("4KueB"),f=r("lrBNe"),p=r("qRzzr"),h=r("eCZIY"),g=r("kjVDt");const m=3.5*c.gridSize()+"px",v=a.default("div",{target:"e8dodhd0"})("padding-top:0;& ~ &{padding-top:",m,";}& > [id^='comment-']{padding-top:0;}& > [id^='comment-'] ~ [id^='comment-']{padding-top:",m,";}"),b=e=>e&&e.id&&e.name?f.toBBUser({...e,name:e.name}):null,y=t=>{const n=g.usePortalContainer(t.portalParentId),r=d.buildSocialAuthLinkWithRedirect(location.pathname),o=l.useCallback((t=>e(l).createElement(p.UserAvatar,{user:b(t)})),[]),a=l.useCallback((t=>e(l).createElement(s.default,null,e(l).createElement(h.UserName,{user:b(t)}))),[]);return e(l).createElement(v,{id:t.portalParentId},e(l).createElement(u.default,e(i)({},t,{allowFeedbackAndHelpButtons:!0,portal:n,renderAuthorAvatar:o,renderAuthorName:a,showBeforeUnloadWarning:!0,showDeleteCommentDialog:!0,loginLink:r})))}})),r.register("4KueB",(function(n,o){t(n.exports,"buildSocialAuthLinkWithRedirect",(function(){return c}));var i=r("cJOGA"),a=r("2ganu"),s=r("iye20");const c=(t="/")=>{const n={next:t};return a.default(`${s.default.external.socialAuthLink}?${e(i).stringify(n)}`)}})),r.register("qRzzr",(function(n,o){t(n.exports,"UserAvatar",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("h7XbF"),c=r("3GLJk");class l extends a.PureComponent{render(){const{profileCardPosition:t,profileCardTrigger:n,user:r,...o}=this.props;if(!r)return e(a).createElement(s.DeletedUserAvatar,e(i)({},o,{hasProfileCard:!0,profileCardPosition:t,profileCardTrigger:n}));const l=void 0;return"team"===r.type?e(a).createElement(s.UserAvatar,e(i)({href:void 0},o,{user:r})):e(a).createElement(s.UserAvatar,e(i)({href:void 0},o,{profileCardPosition:t,profileCardTrigger:n,profileClient:c.userProfileClient,profileUrl:l,user:r}))}}})),r.register("eCZIY",(function(n,o){t(n.exports,"UserName",(function(){return c}));var i=r("61szk"),a=r("h7XbF"),s=r("3GLJk");class c extends i.PureComponent{render(){const{linkComponent:t,profileCardPosition:n,profileCardTrigger:r,user:o}=this.props;if(!o)return e(i).createElement(a.DeletedUserName,{hasProfileCard:!0,profileCardPosition:n,profileCardTrigger:r});const c=void 0,l=e(i).createElement(a.UserName,{user:o}),u=e(i).createElement("span",null,l);return"team"===o.type?u:e(i).createElement(a.UserProfileCardTrigger,{position:n,profileUrl:c,profileClient:s.userProfileClient,trigger:r,userId:o.uuid},u)}}c.defaultProps={linkComponent:"a",profileCardTrigger:"hover"}})),r.register("2Nhu4",(function(e,n){t(e.exports,"canModerateComments",(function(){return r}));const r=e=>["admin"].includes(e)})),r.register("4nzGf",(function(n,o){t(n.exports,"usePullRequestCommentActions",(function(){return v}));var i=r("61szk"),a=r("6tbO4"),s=r("3GKKo"),c=r("3geUT"),l=r("csqQL"),u=r("6c9bf"),d=r("4nfNM"),f=r("fij3t"),p=r("hTK5T"),h=r("4lu4e"),g=r("9Vg0V"),m=r("kGvEn");const v=t=>{const n=(t=>{const n=t?t.comments:void 0,r=a.useDispatch(),o=a.useSelector(p.getCurrentUserKey),s=a.useSelector(l.getCanLikeComments),c=a.useSelector((e=>l.getCommentLikes(e,n)));return i.useCallback(((t,n)=>{const a=[],{commentId:l}=n;return s&&a.push(e(i).createElement(t,{onClick:()=>r(g.toggleCommentLikeAction(l,c,o))},e(i).createElement(h.PullRequestCommentLikeButton,{commentId:l,commentLikes:c,currentUserUuid:o}))),0!==g.getCommentLikers(n.commentId,c).length&&a.push(e(i).createElement(t,null,e(i).createElement(h.PullRequestCommentLikers,{commentId:l,commentLikes:c}))),a}),[s,c,o,r])})(t),r=(()=>{const t=a.useDispatch(),n=s.useIntl(),r=a.useSelector(f.getCanCreateTask);return i.useCallback(((o,a)=>{const s=[],{commentId:l}=a;return r&&s.push(e(i).createElement(o,{key:"create-task",onClick:()=>{const e=d.getSelectedCommentText(l);t({type:c.TOGGLE_CREATE_COMMENT_TASK_INPUT,payload:{commentId:l,isCreating:!0,selectedCommentText:e}})}},n.formatMessage(m.default.createTaskLabel))),s}),[r,t,n])})(),o=(()=>{const t=u.useCreateJiraIssueAction();return i.useCallback(((n,r)=>{const o=[],{commentId:a}=r;return t.isVisible&&o.push(e(i).createElement("div",{"data-testid":"pr-comment-create-jira-issue-action"},e(i).createElement(n,{onClick:()=>t.onClick({commentId:a,isVisible:!0})},t.label))),o}),[t])})();return i.useCallback(((e,t)=>[...n(e,t),...r(e,t),...o(e,t)]),[n,r,o])}})),r.register("6c9bf",(function(n,o){t(n.exports,"useCreateJiraIssueAction",(function(){return p}));var i=r("61szk"),a=r("6tbO4"),s=r("7RIig"),c=r("gZ4Uf"),l=r("j2POI"),u=r("4zRSk"),d=r("echT8"),f=r("a4Su8");const p=()=>{const t=a.useDispatch(),n=a.useSelector(f.getJiraIssueConnectedSites),r=a.useSelector(f.getJiraIssueFetchedStatus),o=a.useSelector((e=>e.jira.createJiraIssue.preferences.fetchedStatus));return{isVisible:(()=>{const e=r===l.LoadingStatus.Success&&n.length>0,t=o===l.LoadingStatus.Success||o===l.LoadingStatus.Failed;return e&&t})(),label:e(i).createElement(s.FormattedMessage,d.default.createIssueButtonLabel),onClick:e=>{c.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"createJiraIssueFromPrCommentButton",source:"pullRequestScreen"}),t(u.onCreateJiraIssueFormChangeVisibility(e))}}}})),r.register("4nfNM",(function(e,n){function r(e){const t=window.getSelection(),n=document.getElementById(`comment-${e}`);return t&&!t.isCollapsed&&n&&n.contains(t.anchorNode)?t.toString().trim():""}t(e.exports,"getSelectedCommentText",(function(){return r}))})),r.register("4lu4e",(function(n,o){t(n.exports,"PullRequestCommentLikeButton",(function(){return d})),t(n.exports,"PullRequestCommentLikers",(function(){return p}));var i=r("61szk"),a=r("fNuPk"),s=r("4Rd8x"),c=r("7RIig"),l=r("4Xt42"),u=r("9Vg0V");const d=e(i).memo((t=>{const{commentId:n,commentLikes:r,currentUserUuid:o}=t;return u.isCommentLikedByUser(n,r,o)?e(i).createElement(c.FormattedMessage,l.default.unlikeCommentLabel):e(i).createElement(c.FormattedMessage,l.default.likeCommentLabel)})),f=e(i).memo((t=>{const{likers:n}=t,r={...l.default.numberOfLikes,values:{numberOfLikes:n.length}};return e(i).createElement(c.FormattedMessage,r)})),p=e(i).memo((t=>{const{commentId:n,commentLikes:r}=t,o=u.getCommentLikers(n,r);return e(i).createElement(s.default,{content:e(i).createElement(e(i).Fragment,null,e(i).createElement(c.FormattedMessage,l.default.likersLabel),o.map((t=>e(i).createElement("div",{key:`comment-${n}-like-${t.uuid}`},t.display_name))))},e(i).createElement(e(i).Fragment,null,e(i).createElement(e(a),{label:"",size:"small"}),e(i).createElement(f,{likers:o})))}))})),r.register("fNuPk",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><path d="M4 12v7a.971.971 0 00.278.704.99.99 0 00.701.296H6v-9H4.98a.99.99 0 00-.701.296A.971.971 0 004 12zm15.281-.96a3.046 3.046 0 00-2.321-1.061h-2.634c.04-.181.08-.36.11-.532.515-2.934 0-4-.504-4.594A2.432 2.432 0 0012.075 4a3.078 3.078 0 00-2.968 2.751c-.393 1.839-.454 2-.968 2.725l-.768 1.089a2.011 2.011 0 00-.363 1.141v6.273c.001.532.216 1.041.596 1.416s.896.585 1.433.584h7.247a3.014 3.014 0 002.997-2.507l.677-4a2.963 2.963 0 00-.677-2.432zm-1.998 6.1a1.007 1.007 0 01-1 .835H9.038v-6.269l.767-1.089a7.577 7.577 0 001.302-3.509c.036-.543.255-1.209.969-1.108.714.1.575 1.916.363 3.1a19.712 19.712 0 01-.868 2.882l5.39-.008c.297-.001.58.128.773.352a.993.993 0 01.226.813l-.676 4.001z" fill="currentColor" fill-rule="evenodd"/></svg>'},e));a.displayName="LikeIcon";var s=a;e.exports.default=s})),r.register("4Xt42",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({likeCommentLabel:{id:"frontbucket.repository.pullRequestConversation.likeCommentLabel",defaultMessage:"Like"},unlikeCommentLabel:{id:"frontbucket.repository.pullRequestConversation.unlikeCommentLabel",defaultMessage:"Unlike"},numberOfLikes:{id:"frontbucket.repository.pullRequestConversation.numberOfLikes",defaultMessage:"{numberOfLikes, plural, one {{numberOfLikes} like} other {{numberOfLikes} likes}}"},likersLabel:{id:"frontbucket.repository.pullRequestConversation.likersLabel",defaultMessage:"People who liked this"}})})),r.register("aent9",(function(n,o){t(n.exports,"AfterCommentItems",(function(){return l}));var i=r("61szk"),a=r("d3Gwx"),s=r("fdJWh"),c=r("fb8Ex");const l=({commentId:t})=>e(i).createElement(i.Fragment,null,e(i).createElement(c.CommentTaskList,{commentId:t.toString()}),e(i).createElement(s.JiraIssues,{commentId:t}),e(i).createElement(a.CreateJiraIssueFormPr,{commentId:t}))})),r.register("d3Gwx",(function(n,o){t(n.exports,"CreateJiraIssueFormPr",(function(){return c}));var i=r("61szk"),a=r("6tbO4"),s=r("1cOgz");const c=e(i).memo((({commentId:t})=>a.useSelector((e=>{const{createForm:n}=e.jira.createJiraIssue;return n[t]&&n[t].isVisible}))?e(i).createElement(s.CreateJiraIssue,{commentId:t}):null))})),r.register("1cOgz",(function(n,o){t(n.exports,"CreateJiraIssue",(function(){return C}));var i=r("61szk"),a=r("7RIig"),s=r("6tbO4"),c=r("ewpu1"),l=r("i0jfl"),u=r("j2POI"),d=r("4zRSk"),f=r("csqQL"),p=r("9MNJl"),h=r("eRNdE"),g=r("echT8"),m=r("gDXrw"),v=r("aUv5l"),b=r("3tjXi"),y=r("3jL0a"),E=r("ap7fA"),x=r("g9DF1"),k=r("b8IB3");const C=e(i).memo((({commentId:t})=>{const n=s.useDispatch(),{issueSummary:r,handleIssueSummaryChange:o}=x.useIssueSummary(),[C,S]=i.useState(),[T,O]=i.useState(),w=s.useSelector(f.getCurrentPullRequestId),{issueMeta:N,selectedIssueType:P,handleSetSelectedIssueType:A}=E.useIssueMeta(T,t,C),{issueCreationFailureReason:I,createPullRequestJiraIssue:D,isCreatingIssue:R,isInvalid:M}=y.useIssueCreation(T,P,r,t,w),_=s.useSelector((e=>e.jira.createJiraIssue.preferences.value)),j=s.useSelector((e=>({fetchedStatus:e.jira.createJiraIssue.connectedSitesFetchedStatus,list:e.jira.createJiraIssue.connectedSites}))),B=s.useSelector((e=>C&&e.jira.createJiraIssue.projects[t]&&e.jira.createJiraIssue.projects[t][C.cloudId]?e.jira.createJiraIssue.projects[t][C.cloudId]:{list:[],fetchedStatus:u.LoadingStatus.Before})),L=s.useSelector((e=>{if(C){const t=e.jira.createJiraIssue.defaultProject[C.cloudId];if(t)return t}return{project:void 0,fetchedStatus:u.LoadingStatus.Before}}));i.useEffect((()=>{!C&&j.fetchedStatus===u.LoadingStatus.Success&&j.list.length>0&&S(((e,t)=>e.find((e=>e.cloudId===t))||e[0])(j.list,_?_.cloudId:""))}),[C,j,_]),i.useEffect((()=>{C&&B.fetchedStatus===u.LoadingStatus.Before&&n(d.fetchJiraProjectsForSite({site:C,projectFilter:"",commentId:t}))}),[C,B.fetchedStatus,n,t]),i.useEffect((()=>{var e,t;C&&(T||(L.project&&L.fetchedStatus===u.LoadingStatus.Success&&C.cloudId===(null===(e=L.project)||void 0===e||null===(t=e.site)||void 0===t?void 0:t.cloudId)?O(L.project):B.fetchedStatus===u.LoadingStatus.Success&&B.list.length>0&&O(B.list[0])))}),[C,T,B,L.project,L.fetchedStatus]);const F=R||B.fetchedStatus===u.LoadingStatus.Forbidden||B.fetchedStatus===u.LoadingStatus.Failed,z=e=>{e.preventDefault(),M||D()};i.useEffect((()=>{n(d.setPrFormErrorState({commentId:t,status:u.LoadingStatus.Before,failureReason:l.IssueCreationFailureReason.None}))}),[C,t,n]);return e(i).createElement(e(i).Fragment,null,e(i).createElement(m.CreateJiraIssueWrapper,{onSubmit:z,"data-testid":"pr-comment-create-jira-issue-form"},e(i).createElement(c.SpotlightTarget,{name:v.TARGETS.ISSUE_SUMMARY},e(i).createElement(k.CreateJiraIssueInput,{issueSummary:r,handleIssueSummaryChange:o,selectedIssueType:P,handleSetSelectedIssueType:A,isCreatingIssue:R,isInvalid:M,issueMeta:N})),b.renderIssueMetaError(N.fetchedStatus,I,T,P),e(i).createElement(m.CreateJiraIssueActionsContainer,null,e(i).createElement(c.SpotlightTarget,{name:v.TARGETS.ISSUE_ACTIONS},e(i).createElement(m.CreateJiraIssueActionsInnerContainer,null,e(i).createElement(a.FormattedMessage,g.default.siteChooserLabel),e(i).createElement(p.SiteChooser,{fetchedStatus:j.fetchedStatus,isDisabled:R,onSelectedChange:e=>{O(void 0),S(e)},selected:C,sites:j.list}),e(i).createElement(a.FormattedMessage,g.default.projectChooserLabel),e(i).createElement(h.ProjectChooser,{fetchedStatus:B.fetchedStatus,isDisabled:F,onSelectedChange:O,projects:B.list||[],selected:T,fetchJiraProjectsForSite:d.fetchJiraProjectsForSite,site:C,commentId:t}))),e(i).createElement("div",null,e(i).createElement(m.CancelButton,{appearance:"subtle-link",isDisabled:R,onClick:()=>n(d.onCreateJiraIssueFormChangeVisibility({commentId:t,isVisible:!1}))},e(i).createElement(a.FormattedMessage,g.default.cancelButtonText)),e(i).createElement(m.SubmitButton,{appearance:"subtle-link",isDisabled:R,onClick:z},e(i).createElement(a.FormattedMessage,g.default.submitButtonText))))),e(i).createElement(v.CreateJiraIssueOnboarding,null))}))})),r.register("9MNJl",(function(n,o){t(n.exports,"SiteChooser",(function(){return y}));var i=r("61szk"),a=r("7RIig"),s=r("TRrAd"),c=r("6Vf6Q"),l=r("1HQ2H"),u=r("3GKKo"),d=r("j2POI"),f=r("gZ4Uf"),p=r("lHgeG"),h=r("iGdEB"),g=r("ijwMn"),m=r("jISKW");const v=e=>!(e===d.LoadingStatus.Success||e===d.LoadingStatus.Failed),b=(t,n,r)=>t===d.LoadingStatus.Failed?e(i).createElement(a.FormattedMessage,p.default.sitesFailedToLoadMessage):t===d.LoadingStatus.Success&&r?r.cloudName:t===d.LoadingStatus.Success&&0===n.length?e(i).createElement(a.FormattedMessage,p.default.noSitesMessage):"",y=({fetchedStatus:t,isDisabled:n,onSelectedChange:r,selected:o,sites:a})=>{const y=u.useIntl();return t===d.LoadingStatus.Success&&1===a.length?e(i).createElement(h.SiteLabel,null,a[0].cloudName):e(i).createElement(s.PopupSelect,{closeMenuOnSelect:!0,styles:m.chooserStyle,maxMenuHeight:400,spacing:"compact",isLoading:v(t),isDisabled:n,onClickPreventDefault:!1,backspaceRemovesValue:!1,value:o?{label:o.cloudName,value:o.cloudId,site:o}:void 0,onChange:({site:e})=>{r(e),f.publishUiEvent({action:"changed",actionSubject:"option",actionSubjectId:"createJiraIssueSiteChooser",source:"pullRequestScreen"})},options:[{label:y.formatMessage(p.default.sitesHeader),options:a.map((e=>({label:e.cloudName,value:e.cloudId,site:e})))}],searchThreshold:10,noOptionsMessage:()=>b(t,a,o),target:({ref:n})=>e(i).createElement(g.TargetButton,{appearance:"subtle",ref:n,iconAfter:v(t)?e(i).createElement(l.default,{size:"small"}):e(i).createElement(g.DownIconWrapper,null,e(i).createElement(e(c),{label:"expand site chooser"})),spacing:"compact"},e(i).createElement(g.TargetButtonText,null,b(t,a,o)))})}})),r.register("lHgeG",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({sitesFailedToLoadMessage:{id:"frontbucket.createJiraIssueFromPullRequest.sitesFailedToLoadMessage",defaultMessage:"We can\u2019t load the sites"},noSitesMessage:{id:"frontbucket.createJiraIssueFromPullRequest.noSitesMessage",defaultMessage:"No sites"},sitesHeader:{id:"frontbucket.createJiraIssueFromPullRequest.sitesHeader",defaultMessage:"Jira sites"}})})),r.register("iGdEB",(function(e,n){t(e.exports,"SiteLabel",(function(){return a}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("div",{target:"e7xxuol0"})("padding:0 ",i.gridSize()/2,"px;")})),r.register("eRNdE",(function(n,o){t(n.exports,"ProjectChooser",(function(){return E}));var i=r("61szk"),a=r("6tbO4"),s=r("7RIig"),c=r("TRrAd"),l=r("6Vf6Q"),u=r("1HQ2H"),d=r("3GKKo"),f=r("j2POI"),p=r("gZ4Uf"),h=r("jw1ys"),g=r("cS7nx"),m=r("ijwMn"),v=r("jISKW");const b=(t,{context:n})=>"menu"===n?e(i).createElement(g.CustomOption,null,e(i).createElement(g.ProjectIcon,{src:t.project.avatarUrls["16x16"]}),e(i).createElement(g.CustomOptionLabel,null,t.label)):t.label,y=e=>!(e===f.LoadingStatus.Success||e===f.LoadingStatus.Failed||e===f.LoadingStatus.Forbidden),E=({fetchedStatus:t,isDisabled:n,onSelectedChange:r,projects:o,selected:E,fetchJiraProjectsForSite:x,site:k,commentId:C})=>{const S=d.useIntl(),T=a.useDispatch(),[O,w]=i.useState("");return t!==f.LoadingStatus.Success||1!==o.length||O?e(i).createElement(c.PopupSelect,{filterOption:null,inputValue:O,formatOptionLabel:b,closeMenuOnSelect:!0,styles:v.chooserStyle,maxMenuHeight:400,spacing:"compact",isLoading:y(t),isDisabled:n,onInputChange:(e,{action:t})=>{"input-change"===t&&(w(e),T(x({site:k,projectFilter:e,commentId:C})))},onClickPreventDefault:!1,backspaceRemovesValue:!1,value:E?{label:E.name,value:E.id,project:E}:void 0,onChange:(e,t)=>{"select-option"===t.action&&(r(e.project),p.publishUiEvent({action:"changed",actionSubject:"option",actionSubjectId:"createJiraIssueProjectChooser",source:"pullRequestScreen"}))},options:[{label:S.formatMessage(h.default.projectsHeader),options:o.map((e=>({label:`${e.name} (${e.key})`,value:e.id,project:e})))}],searchThreshold:-1,noOptionsMessage:()=>S.formatMessage(h.default.filterResultNoProjectMessage),target:({ref:r})=>e(i).createElement(m.TargetButton,{appearance:"subtle",ref:r,iconAfter:y(t)?e(i).createElement(u.default,{size:"small"}):e(i).createElement(m.DownIconWrapper,null,e(i).createElement(e(l),{label:"expand site chooser"})),isDisabled:n,spacing:"compact"},e(i).createElement(m.TargetButtonText,null,((t,n,r,o)=>{if(t===f.LoadingStatus.Failed)return e(i).createElement(s.FormattedMessage,h.default.projectsFailedToLoadMessage);if(t===f.LoadingStatus.Forbidden)return e(i).createElement(s.FormattedMessage,h.default.projectsForbiddenToLoadMessage);if(t===f.LoadingStatus.Success){if(r)return`${r.name} (${r.key})`;if(0===n.length&&o)return e(i).createElement(s.FormattedMessage,h.default.selectProjectMessage);if(0===n.length&&!o)return e(i).createElement(s.FormattedMessage,h.default.noProjectsMessage)}return""})(t,o,E,!!O)))}):e(i).createElement(g.ProjectLabel,null,`${o[0].name} (${o[0].key})`)}})),r.register("jw1ys",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({projectsFailedToLoadMessage:{id:"frontbucket.createJiraIssueFromPullRequest.projectsFailedToLoadMessage",defaultMessage:"We can\u2019t load the projects"},projectsForbiddenToLoadMessage:{id:"frontbucket.createJiraIssueFromPullRequest.projectsForbiddenToLoadMessage",defaultMessage:"You don\u2019t have access to any projects in this Jira site"},noProjectsMessage:{id:"frontbucket.createJiraIssueFromPullRequest.noProjectsMessage",defaultMessage:"The site has no projects associated"},selectProjectMessage:{id:"frontbucket.createJiraIssueFromPullRequest.selectProjectsMessage",defaultMessage:"Select a project"},filterResultNoProjectMessage:{id:"frontbucket.createJiraIssueFromPullRequest.filterResultNoProjectsMessage",defaultMessage:"No projects available"},projectsHeader:{id:"frontbucket.createJiraIssueFromPullRequest.projectsHeader",defaultMessage:"Jira projects"}})})),r.register("cS7nx",(function(e,n){t(e.exports,"ProjectLabel",(function(){return a})),t(e.exports,"CustomOption",(function(){return s})),t(e.exports,"ProjectIcon",(function(){return c})),t(e.exports,"CustomOptionLabel",(function(){return l}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("div",{target:"e1raqr5x0"})("padding:0 ",i.gridSize()/2,"px;"),s=o.default("div",{target:"e1raqr5x1"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),c=o.default("img",{target:"e1raqr5x2"})("height:",2*i.gridSize(),"px;"),l=o.default("div",{target:"e1raqr5x3"})("padding-left:",i.gridSize(),"px;")})),r.register("aUv5l",(function(n,o){t(n.exports,"TARGETS",(function(){return m})),t(n.exports,"CreateJiraIssueOnboarding",(function(){return v}));var i=r("61szk"),a=r("6tbO4"),s=r("7RIig"),c=r("ewpu1"),l=r("3GKKo"),u=r("i0jfl"),d=r("j2POI"),f=r("gZ4Uf"),p=r("8tYFr"),h=r("5RU8C"),g=r("kdEVY");const m={ISSUE_SUMMARY:"create-jira-issue-summary",ISSUE_ACTIONS:"create-jira-issue-actions"},v=()=>{const t=l.useIntl(),n=a.useDispatch(),[r,o]=i.useState(null),{viewed:v,fetchedStatus:b}=a.useSelector((e=>e.jira.createJiraIssue.onboarding)),y=()=>o(r+1),E=()=>{o(null),n(p.updateCreateJiraIssueOnboardingViewed(u.OnboardingViewed.Seen))};return i.useEffect((()=>{b===d.LoadingStatus.Before&&n(p.fetchCreateJiraIssueOnboardingViewed())}),[b,n]),i.useEffect((()=>{v===u.OnboardingViewed.Unseen&&(o(0),f.publishScreenEvent("createJiraIssueFromPullRequestCommentOnboarding"))}),[v]),e(i).createElement(c.SpotlightTransition,null,(()=>{const n=[e(i).createElement(c.Spotlight,{actions:[{onClick:E,text:t.formatMessage(h.commonMessages.skip)},{onClick:y,text:t.formatMessage(h.commonMessages.next)}],dialogPlacement:"right middle",target:m.ISSUE_SUMMARY,key:m.ISSUE_SUMMARY},e(i).createElement(s.FormattedMessage,g.default.issueSummaryOnboardingMessage)),e(i).createElement(c.Spotlight,{actions:[{onClick:E,text:t.formatMessage(h.commonMessages.gotIt)}],dialogPlacement:"right middle",target:m.ISSUE_ACTIONS,key:m.ISSUE_ACTIONS},e(i).createElement(s.FormattedMessage,g.default.issueCreationActionsOnboardingMessage))];return null===r?null:n[r]})())}})),r.register("kdEVY",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({issueSummaryOnboardingMessage:{id:"frontbucket.createJiraIssueFromPullRequestOnboarding.issueSummaryOnboardingMessage",defaultMessage:"It\u2019s easier than ever to create a Jira Software issue. You can start by writing down your issue's summary."},issueCreationActionsOnboardingMessage:{id:"frontbucket.createJiraIssueFromPullRequestOnboarding.issueCreationActionsOnboardingMessage",defaultMessage:"Select the site and project where the issue will be created and click Create or press Enter to create the issue"}})})),r.register("fdJWh",(function(n,o){t(n.exports,"JiraIssues",(function(){return d}));var i=r("61szk"),a=r("6tbO4"),s=r("7dEWz"),c=r("j2POI"),l=r("a4Su8"),u=r("dO0wy");const d=i.memo((({commentId:t})=>{const n=a.useSelector(l.getPullRequestJiraIssuesFetchedStatus),r=a.useSelector((e=>l.getPullRequestJiraIssuesForComment(e,t)));if(n===c.LoadingStatus.Success&&r.length>0){const t={action:"clicked",actionSubject:"link",actionSubjectId:"prJiraIssue",source:"pullRequestComment"};return e(i).createElement(u.JiraIssueWrapper,null,r.map((n=>e(i).createElement(u.JiraIssueInnerWrapper,{key:`${n.issue.id}-${n.issue.project.id}`},e(i).createElement(s.JiraIssueLink,{jiraIssue:n.issue,jiraUrl:n.issue.site.cloudUrl,uiEvent:t})))))}return null}))})),r.register("7dEWz",(function(n,o){t(n.exports,"JiraIssueLink",(function(){return l}));var i=r("61szk"),a=r("4Rd8x"),s=r("3IMUj"),c=r("3OZLI");const l=({jiraIssue:t,jiraUrl:n,uiEvent:r})=>{const o=`${n}/browse/${t.key}`;return e(i).createElement(c.IssueLink,{href:o,target:"_blank",onClick:e=>{s.handleJiraIssueLinkClick(e,r,n,t.key)}},e(i).createElement(a.default,{content:t.issueType.name},e(i).createElement(c.JiraIssueTypeIconContainer,null,e(i).createElement(c.JiraIssueTypeIcon,{src:t.issueType.iconUrl,alt:t.issueType.name}))),e(i).createElement(c.IssueSummaryWrapper,null,e(i).createElement(a.default,{content:`${t.key}: ${t.summary}`},e(i).createElement(c.IssueSummary,null,e(i).createElement(c.IssueKey,null,t.key),e(i).createElement("span",null,t.summary)))))}})),r.register("3OZLI",(function(e,n){t(e.exports,"IssueLink",(function(){return s})),t(e.exports,"JiraIssueTypeIconContainer",(function(){return c})),t(e.exports,"JiraIssueTypeIcon",(function(){return l})),t(e.exports,"IssueKey",(function(){return u})),t(e.exports,"IssueSummary",(function(){return d})),t(e.exports,"IssueSummaryWrapper",(function(){return f}));var o=r("eQkAL"),i=r("6aCAs"),a=r("ekOnA");const s=o.default("a",{target:"e83nmg50"})("overflow:hidden;display:flex;align-items:center;&,&:hover,&:focus{color:",i.colors.N800,";}"),c=o.default("div",{target:"e83nmg51"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),l=o.default("img",{target:"e83nmg52"})("flex-shrink:0;width:",2*i.gridSize(),"px;height:",2*i.gridSize(),"px;padding-right:",i.gridSize(),"px;"),u=o.default("span",{target:"e83nmg53"})("padding-right:",i.gridSize(),"px;color:",i.colors.N200,";white-space:nowrap;"),d=o.default("div",{target:"e83nmg54"})(a.overflowEllipsis(),";"),f=o.default("div",{target:"e83nmg55"})({name:"i6bazn",styles:"overflow:hidden;"})})),r.register("dO0wy",(function(e,n){t(e.exports,"JiraIssueWrapper",(function(){return s})),t(e.exports,"JiraIssueInnerWrapper",(function(){return c}));var o=r("eQkAL"),i=r("6aCAs"),a=r("ekOnA");const s=o.default("div",{target:"eqcbjbj0"})("padding-top:",i.gridSize(),"px;max-width:",110*i.gridSize(),"px;overflow:hidden;"),c=o.default("div",{target:"eqcbjbj1"})("display:flex;padding-bottom:",i.gridSize()/2,"px;");o.default("div",{target:"eqcbjbj2"})("padding-right:",i.gridSize(),"px;flex-shrink:0;"),o.default("img",{target:"eqcbjbj3"})("width:",2*i.gridSize(),"px;height:",2.5*i.gridSize(),"px;padding-right:",i.gridSize(),"px;"),o.default("div",{target:"eqcbjbj4"})({name:"s88hxx",styles:"display:flex;overflow:hidden;"}),o.default("div",{target:"eqcbjbj5"})(a.overflowEllipsis(),"")})),r.register("fb8Ex",(function(n,o){t(n.exports,"CommentTaskList",(function(){return k}));var i=r("61szk"),a=r("6tbO4"),s=r("7RIig"),c=r("fij3t"),l=r("3geUT"),u=r("gZ4Uf"),d=r("6DbOA"),f=r("69smv"),p=r("csqQL"),h=r("cIFyz"),g=r("gNL1w"),m=r("eEWJa"),v=r("7jsU0"),b=r("8h2IL"),y=r("5bPX7"),E=r("aSvcu");class x extends e(i).PureComponent{render(){const{tasks:t,onTaskDelete:n,onTaskEditBegin:r,modifiableTaskKeys:o,canResolveTask:a,isCreateTaskInputVisible:s,createTaskHasError:c,createTaskErrorMessage:l,isCreateTaskSubmitting:u,isDeleteTaskSubmitting:d,commentEditingTasks:f}=this.props;return e(i).createElement(e(i).Fragment,null,s&&e(i).createElement(v.CreateCommentTask,{kind:m.CreateTaskKind.Comment,commentId:this.props.commentId,createTaskHasError:c,createTaskErrorMessage:l,isCreateTaskSubmitting:u}),t&&t.length?e(i).createElement(g.CommentTaskList,null,t.map((t=>{const s=y.taskKey(t),c=f[t.id],l=c&&"notEditing"!==c.state,u=o.includes(s);return l?e(i).createElement(E.EditCommentTask,{key:s,task:t}):e(i).createElement(b.TaskContainer,{key:s},e(i).createElement(h.default,{key:s,task:t,isDeleting:d[s],onTaskDelete:u?n:void 0,onTaskEditBegin:u?r:void 0,canResolveTask:a,onTaskStateChange:this.handleTaskStateChange}))}))):null)}constructor(...e){super(...e),this.handleTaskStateChange=e=>{const{nextTaskState:t}=e;u.publishUiEvent({action:"RESOLVED"===t?"resolved":"unresolved",actionSubject:"task",actionSubjectId:"pullRequestTask",source:"pullRequestScreen",objectType:"pullRequest",objectId:`${this.props.repositoryUUID}/${this.props.pullRequestId}`,containerId:`${this.props.repositoryUUID}`,containerType:"repository",attributes:{taskLocation:"comment"}}),this.props.onTaskStateChange(e)}}}const k=s.injectIntl(a.connect(((e,t)=>{const{createTaskHasErrorByTaskKey:n,createTaskErrorMessageByTaskKey:r,isCreateTaskSubmittingByTaskKey:o,isDeleteTaskSubmitting:i,commentEditingTasks:a}=c.getTasksSlice(e),{commentId:s}=t,l=d.getTaskLocation({isGlobal:!s,commentId:s});return{repositoryUUID:f.getCurrentRepositoryUuid(e),pullRequestId:p.getCurrentPullRequestId(e),createTaskHasError:n[l],createTaskErrorMessage:r[l],isCreateTaskSubmitting:o[l],canResolveTask:c.getCanResolveTask(e),modifiableTaskKeys:c.getModifiableTasks(e),tasks:c.getTasksForComment(e,t.commentId),isCreateTaskInputVisible:c.isCreateTaskInputVisible(e,t.commentId),isDeleteTaskSubmitting:i,commentEditingTasks:a}}),(e=>({onTaskStateChange:t=>e(l.taskStateChange(t)),onTaskDelete:t=>e({type:l.TASK_DELETE.REQUEST,payload:t}),onTaskEditBegin:t=>e({type:l.TOGGLE_EDIT_COMMENT_TASK_INPUT,payload:{taskId:t.id,isEditing:!0}})})))(x))})),r.register("cIFyz",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("61szk"),a=r("7RIig"),s=r("7HEfz"),c=r("jvqDW"),l=r("5ZDSW"),u=r("8h2IL"),d=r("9rrXd");class f extends i.PureComponent{render(){const{task:t,editView:n,canResolveTask:r,onTaskDelete:o,onCommentLinkClick:a,onTaskEditBegin:f,isDeleting:p,intl:h}=this.props;return e(i).createElement(e(i).Fragment,null,e(i).createElement(u.TaskCheckboxWrapper,null,e(i).createElement(c.Checkbox,{isChecked:"RESOLVED"===t.state,isDisabled:!!n||!r||p,onChange:this.handleTaskStateChange,label:n||t.content.raw,name:`${t.id}`,value:t.id,isFullWidth:!0}),a&&t.comment&&e(i).createElement(s.default,{onClick:()=>a(t),appearance:"subtle",spacing:"none"},e(i).createElement(e(l),{label:h.formatMessage(d.default.linkToTaskComment),size:"medium"}))),(f||o)&&e(i).createElement(u.TaskModificationLinks,{hasSeparator:!0},f&&e(i).createElement("li",null,e(i).createElement(s.default,{appearance:"subtle-link",spacing:"none",onClick:()=>f(t),disabled:p},h.formatMessage(d.default.editTaskLabel))),o&&e(i).createElement("li",null,e(i).createElement(s.default,{appearance:"subtle-link",spacing:"none",onClick:()=>o(t),disabled:p},h.formatMessage(d.default.deleteTaskLabel)))))}constructor(...e){super(...e),this.handleTaskStateChange=()=>{const{task:e}=this.props;this.props.onTaskStateChange({url:e.links.self.href,task:e,nextTaskState:"RESOLVED"===e.state?"UNRESOLVED":"RESOLVED"})}}}var p=a.injectIntl(f)})),r.register("8h2IL",(function(e,n){t(e.exports,"TaskNumber",(function(){return c})),t(e.exports,"TaskCheckboxWrapper",(function(){return l})),t(e.exports,"TaskCardFooter",(function(){return u})),t(e.exports,"TaskContainer",(function(){return d})),t(e.exports,"TaskList",(function(){return f})),t(e.exports,"TaskModificationLinks",(function(){return p})),t(e.exports,"EditCommentTaskErrorMessage",(function(){return h}));var o=r("eQkAL"),i=r("6aCAs"),a=r("4JuWt"),s=r("eluz5");const c=o.default("span",{target:"ex900yd0"})({name:"in3yi3",styles:"font-weight:bold;"}),l=o.default("div",{target:"ex900yd1"})({name:"vrd0z1",styles:"display:flex;align-items:center;label{flex-grow:1;max-width:90%;& > span:nth-of-type(2){overflow-wrap:break-word;width:90%;word-wrap:break-word;}}"}),u=o.default("div",{target:"ex900yd2"})("display:flex;align-items:center;justify-content:",(({kind:e})=>"edit"===e?"center":"space-between"),";width:100%;box-sizing:border-box;margin-top:",i.gridSize(),"px;padding-top:",i.gridSize(),"px;padding-left:",i.gridSize(),"px;padding-right:",i.gridSize(),"px;border-top:1px solid ",s.dividerColor,";"),d=o.default("li",{target:"ex900yd3"})("margin-top:",i.gridSize(),"px;&:not(:last-of-type){margin-bottom:",i.gridSize(),";}&:last-of-type{margin-bottom:0;}"),f=o.default("ul",{target:"ex900yd4"})({name:"le08zt",styles:"list-style:none;padding-left:0;"}),p=o.default("ul",{target:"ex900yd5"})("padding:0 0 0 ",3.5*i.gridSize(),"px;margin:0;list-style:none;display:flex;align-items:center;& > li{margin:0;display:flex;align-items:center;",(({hasSeparator:e})=>e?a.css("&:not(:last-of-type)::after{color:inherit;content:'\xb7';display:inline-block;text-align:center;vertical-align:middle;width:",2*i.gridSize(),"px;}"):""),"}"),h=o.default("div",{target:"ex900yd6"})(i.typography.h200(),";font-weight:normal;color:",i.colors.R400,";margin-top:",i.gridSize()/2,"px;margin-left:",5*i.gridSize(),"px;")})),r.register("9rrXd",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({sectionAriaLabel:{id:"frontbucket.repository.pullrequest.sectionAriaLabel",defaultMessage:"Tasks"},headingAriaLabel:{id:"frontbucket.repository.pullrequest.headingAriaLabel",defaultMessage:"{resolvedTaskCount} of {totalTaskCount} tasks resolved"},taskCounts:{id:"frontbucket.repository.pullrequest.tasksCount",defaultMessage:"{totalTaskCount, plural, =0 {0} other {{resolvedTaskCount} of {totalTaskCount}}}"},tasksCompleted:{id:"frontbucket.repository.pullrequest.tasksCompleted",defaultMessage:"{totalTaskCount, plural, =0 {tasks} one {task resolved} other {tasks resolved}}"},errorHeading:{id:"frontbucket.repository.pullrequest.tasks.errorHeading",defaultMessage:"Couldn't load tasks"},editTasksButtonText:{id:"frontbucket.repository.pullrequest.tasks.editTasksButtonText",defaultMessage:"Edit tasks"},deleteTaskLabel:{id:"frontbucket.repository.pullrequest.tasks.deleteButtonLabel",defaultMessage:"Delete"},linkToTaskComment:{id:"frontbucket.repository.pullrequest.tasks.linkToTaskComment",defaultMessage:"Go to comment"},editTaskLabel:{id:"frontbucket.repository.pullrequest.tasks.editButtonLabel",defaultMessage:"Edit"},cancelEditTaskLabel:{id:"frontbucket.repository.pullrequest.tasks.cancelEditTaskLabel",defaultMessage:"Cancel"},saveEditTaskLabel:{id:"frontbucket.repository.pullrequest.tasks.saveEditTaskLabel",defaultMessage:"Save"}})})),r.register("gNL1w",(function(e,n){t(e.exports,"CommentTaskList",(function(){return a}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("ul",{target:"e1p07rt60"})("list-style:none;margin:0;padding:0;max-width:",60*i.gridSize(),"px;")})),r.register("eEWJa",(function(n,o){t(n.exports,"CreateTaskKind",(function(){return i})),t(n.exports,"default",(function(){return x}));var i,a,s=r("jgze0"),c=r("61szk"),l=r("7RIig"),u=r("d26cn"),d=r("gj0w8"),f=r("dzasj"),p=r("8Dfgu"),h=r("1HQ2H"),g=r("6aCAs"),m=r("kCqPF"),v=r("gZ4Uf"),b=r("fhbTt"),y=r("l7lwt");(a=i||(i={}))[a.Global=0]="Global",a[a.Comment=1]="Comment";class E extends c.PureComponent{componentDidMount(){this.props.kind===i.Comment&&this.taskRef&&this.taskRef.focus()}componentDidUpdate(e){!e.isCreateTaskSubmitting||this.props.isCreateTaskSubmitting||this.props.createTaskHasError?this.props.createTaskHasError&&this.taskRef&&this.taskRef.focus():(this.setState({task:""}),this.taskRef&&this.taskRef.focus())}renderTaskStatus(){return this.props.isCreateTaskSubmitting?e(c).createElement(b.CreateTaskStatusWrapper,null,e(c).createElement(h.default,{size:"small"})):this.props.createTaskHasError?e(c).createElement(b.CreateTaskStatusWrapper,null,e(c).createElement(e(d),{label:"error",primaryColor:g.colors.R400})):null}renderCreateTaskIcon(t){return t?e(c).createElement(m.CreateTaskIcon,{size:m.IconSizes.Small,label:this.props.intl.formatMessage(y.default.createTask),primaryColor:g.colors.N20}):e(c).createElement(e(u),{size:"small",label:this.props.intl.formatMessage(y.default.createTask),primaryColor:g.colors.N60})}handleFocus(){this.toggleCreateTaskIcon(!0)}handleBlur(){const{onBlur:e,commentId:t}=this.props;this.toggleCreateTaskIcon(!1),e&&e(this.state.task,t)}toggleCreateTaskIcon(e){this.setState({isCreateTaskFocused:!!e})}render(){const{createTaskErrorMessage:t,createTaskHasError:n,initialTaskText:r,intl:o,isCreateTaskSubmitting:i,canCreateTask:a}=this.props;if(!a)return null;const{createTaskErrorFieldId:l,isCreateTaskFocused:u,task:d}=this.state;return e(c).createElement(c.Fragment,null,e(c).createElement(b.CreateTaskContainer,null,e(c).createElement(b.CreateTaskIcon,null,this.renderCreateTaskIcon(u)),e(c).createElement(b.CreateTaskFormContainer,{isFocused:u},e(c).createElement(f.default,{onSubmit:this.handleSubmit},(({formProps:t})=>e(c).createElement("form",t,e(c).createElement(f.Field,{name:"createTask",label:"",defaultValue:r},(({fieldProps:t})=>(this.setState({createTaskErrorFieldId:`${t.id}-error`}),e(c).createElement(p.default,e(s)({appearance:"subtle",autoComplete:"off"},t,{placeholder:o.formatMessage(y.default.createTask),isCompact:!0,isDisabled:i,isInvalid:n,"aria-invalid":n,elemAfterInput:this.renderTaskStatus(),onChange:e=>{this.setState({task:e.target.value}),t.onChange(e)},onKeyUp:e=>{this.taskRef&&0===this.state.task.length&&"Escape"===e.key&&this.taskRef.blur()},onBlur:e=>{var n;"actionsMenu"!==(null===(n=e.relatedTarget)||void 0===n?void 0:n.id)&&(this.handleBlur(),t.onBlur(e))},onFocus:e=>{this.handleFocus(),t.onFocus(e)},ref:e=>{this.taskRef=e},value:d})))))))))),n&&e(c).createElement(b.CreateTaskErrorMessage,{id:l},t))}constructor(e){super(e),this.handleSubmit=()=>{const{task:e}=this.state,{repositoryUUID:t,pullRequestId:n,commentId:r,kind:o}=this.props,a=e.trim();a&&(v.publishUiEvent({action:"created",actionSubject:"task",actionSubjectId:"pullRequestTask",source:"pullRequestScreen",objectType:"pullRequest",objectId:`${t}/${n}`,containerId:`${t}`,containerType:"repository",attributes:{taskLocation:o===i.Comment?"comment":"sidebar"}}),this.props.onTaskCreate(a,r))},this.state={createTaskErrorFieldId:"",isCreateTaskFocused:!1,task:e.initialTaskText||""}}}E.defaultProps={kind:i.Global};var x=l.injectIntl(E)})),r.register("fhbTt",(function(e,n){t(e.exports,"CreateTaskContainer",(function(){return a})),t(e.exports,"CreateTaskFormContainer",(function(){return s})),t(e.exports,"CreateTaskIcon",(function(){return c})),t(e.exports,"CreateTaskStatusWrapper",(function(){return l})),t(e.exports,"CreateTaskErrorMessage",(function(){return u}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("div",{target:"e1qqu0z90"})("display:flex;margin-left:",i.gridSize()/2,"px;"),s=o.default("div",{target:"e1qqu0z91"})("width:100%;",(({isFocused:e})=>e?`margin-left: ${i.gridSize()}px`:null),";"),c=o.default("div",{target:"e1qqu0z92"})("display:flex;margin-top:",i.gridSize(),"px;align-items:center;"),l=o.default("div",{target:"e1qqu0z93"})("padding-right:",i.gridSize()-2,"px;line-height:'100%';"),u=o.default("div",{target:"e1qqu0z94"})(i.typography.h200(),";font-weight:normal;color:",i.colors.R400,";margin-top:",i.gridSize()/2,"px;margin-left:",3*i.gridSize()+i.gridSize()/2,"px;")})),r.register("l7lwt",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({createTask:{id:"frontbucket.repository.pullrequest.createTask",defaultMessage:"Create a task"}})})),r.register("7jsU0",(function(n,o){t(n.exports,"CreateCommentTask",(function(){return f}));var i=r("61szk"),a=r("6tbO4"),s=r("fij3t"),c=r("3geUT"),l=r("W9bi9"),u=r("eEWJa");class d extends e(i).PureComponent{render(){return e(i).createElement(l.CreateCommentTask,null,e(i).createElement(u.default,this.props))}}const f=a.connect((e=>({canCreateTask:s.getCanCreateTask(e),initialTaskText:s.getInitialTaskText(e)})),(e=>({onTaskStateChange:t=>e(c.taskStateChange(t)),onTaskCreate:(t,n)=>{e({type:c.TASK_CREATE.REQUEST,payload:{task:t,commentId:n}})},onBlur:(t,n)=>{n&&!t&&e({type:c.TOGGLE_CREATE_COMMENT_TASK_INPUT,payload:{commentId:n,isCreating:!1}})}})))(d)})),r.register("W9bi9",(function(e,n){t(e.exports,"CreateCommentTask",(function(){return a})),t(e.exports,"EditCommentTask",(function(){return s})),t(e.exports,"EditCommentFieldWrapper",(function(){return c}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("div",{target:"eao33x0"})("max-width:",110*i.gridSize(),"px;"),s=o.default("div",{target:"eao33x1"})("max-width:",110*i.gridSize(),"px;"),c=o.default("div",{target:"eao33x2"})({name:"i9gxme",styles:"flex-grow:1;"})})),r.register("aSvcu",(function(n,o){t(n.exports,"EditCommentTask",(function(){return C}));var i=r("jgze0"),a=r("61szk"),s=r("6tbO4"),c=r("dzasj"),l=r("8Dfgu"),u=r("jvqDW"),d=r("7HEfz"),f=r("1HQ2H"),p=r("3geUT"),h=r("3GKKo"),g=r("fij3t"),m=r("6DbOA"),v=r("W9bi9"),b=r("fhbTt"),y=r("l7lwt"),E=r("9rrXd"),x=r("8h2IL");const k=t=>{const{task:n,isSubmitting:r,error:o}=t,i=s.useDispatch(),c=h.useIntl();return e(a).createElement(e(a).Fragment,null,o&&e(a).createElement(x.EditCommentTaskErrorMessage,null,o),e(a).createElement(x.TaskModificationLinks,{hasSeparator:!1},e(a).createElement("li",null,e(a).createElement(d.default,{type:"submit",appearance:"link",isDisabled:r},c.formatMessage(E.default.saveEditTaskLabel))),e(a).createElement("li",null,e(a).createElement(d.default,{appearance:"subtle-link",onClick:()=>{i({type:p.TOGGLE_EDIT_COMMENT_TASK_INPUT,payload:{taskId:n.id,isEditing:!1}})},isDisabled:r},c.formatMessage(E.default.cancelEditTaskLabel)))))},C=t=>{const{task:n}=t,r=h.useIntl(),o=s.useDispatch(),[d,E]=a.useState(n.content.raw),{commentEditingTasks:x}=s.useSelector(g.getTasksSlice),C=x[n.id],S=C&&C.state,T=C&&C.state===m.TASK_STATE.ERROR?C.error:void 0,O=S===m.TASK_STATE.SUBMITTING;return e(a).createElement(v.EditCommentTask,null,e(a).createElement(c.default,{onSubmit:()=>{o({type:p.TASK_EDIT.REQUEST,payload:{taskId:n.id,newValue:d}})}},(({formProps:t})=>e(a).createElement("form",t,e(a).createElement(b.CreateTaskContainer,null,e(a).createElement(b.CreateTaskIcon,null,e(a).createElement(u.Checkbox,{isChecked:"RESOLVED"===n.state,isDisabled:!0,isFullWidth:!0})),e(a).createElement(v.EditCommentFieldWrapper,null,e(a).createElement(c.Field,{name:"createTask",label:"",defaultValue:n.content.raw},(({fieldProps:t})=>e(a).createElement(l.default,e(i)({appearance:"subtle",autoComplete:"off",autoFocus:!0},t,{placeholder:r.formatMessage(y.default.createTask),isCompact:!0,isDisabled:O,isInvalid:!1,"aria-invalid":!1,onChange:e=>{E(e.target.value),t.onChange(e)},value:d,elemAfterInput:O&&e(a).createElement(b.CreateTaskStatusWrapper,null,e(a).createElement(f.default,{size:"small"}))})))))),e(a).createElement(k,{task:n,error:T,isSubmitting:O})))))}})),r.register("4Hwa7",(function(n,o){t(n.exports,"default",(function(){return f}));var i=r("61szk"),a=r("6tbO4"),s=r("eFHDY"),c=r("izGl7"),l=r("4bHBQ"),u=r("7FmG9");const d=(e,t)=>{const n=Object.values(s.FabricChannel).map((e=>e));if(t&&n.includes(t)){const t=(e.context||[]).reduce(((e,t)=>({...e,...t})),{});e.payload.attributes={...e.payload.attributes,...t}}};function f(t){return n=>{const r=a.useSelector(l.getConversationAnalytics);return i.useMemo((()=>{const{id:o,portalParentId:a}=n,l={...r,conversationId:o||null,portalParentId:a};return e(i).createElement(s.default,{client:u.analyticsClient()},e(i).createElement(c.AnalyticsListener,{channel:"*",onEvent:d},e(i).createElement(c.AnalyticsContext,{data:l},e(i).createElement(t,n))))}),[n,r])}}})),r.register("2sX4N",(function(n,o){t(n.exports,"PlaceholderDiffList",(function(){return m}));var i=r("61szk"),a=r("13orQ"),s=r("aBnWn"),c=r("jMOUG"),l=r("2G27F"),u=r("wRx0r"),d=r("6sR3t"),f=r("6xqQY"),p=r("3Dnpr"),h=r("2t2Ey"),g=r("esY6u");const m=({files:t,isCommentsFilterActive:n,DiffFile:r=p.default})=>{const o=g.useAnchorTopOffset(),m=d.useHandleDiffObserverOnChange();return e(i).createElement(e(i).Fragment,null,t.map(((t,d)=>{const p=l.extractFilepath(t),g=c.getFileHref(p);return e(i).createElement(a.InView,{rootMargin:`-${u.STICKY_HEADER_HEIGHT_OFFSET}px 0% -90% 0%`,key:d,onChange:e=>m(e,g)},e(i).createElement(s.DiffSetFileWrapper,{isSingleFileModeActive:!1},e(i).createElement(s.ScrollToAnchor,{topOffset:o,id:g}),e(i).createElement(a.InView,{triggerOnce:!0},(({inView:o,ref:a})=>o?e(i).createElement(f.ClassifiedDiff,{DiffFile:r,file:t,index:d,isCommentsFilterActive:n}):e(i).createElement("div",{ref:a},e(i).createElement(h.DiffPlaceholder,{file:t}))))))})))}})),r.register("13orQ",(function(e,n){t(e.exports,"InView",(function(){return f}));var o=r("61szk");function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}var a=new Map,s=new WeakMap,c=0;function l(e){return Object.keys(e).sort().filter((function(t){return void 0!==e[t]})).map((function(t){return t+"_"+("root"===t?(n=e.root)?(s.has(n)||(c+=1,s.set(n,c.toString())),s.get(n)):"0":e[t]);var n})).toString()}function u(e,t,n){if(void 0===n&&(n={}),!e)return function(){};var r=function(e){var t=l(e),n=a.get(t);if(!n){var r,o=new Map,i=new IntersectionObserver((function(t){t.forEach((function(t){var n,i=t.isIntersecting&&r.some((function(e){return t.intersectionRatio>=e}));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(n=o.get(t.target))||n.forEach((function(e){e(i,t)}))}))}),e);r=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),n={id:t,observer:i,elements:o},a.set(t,n)}return n}(n),o=r.id,i=r.observer,s=r.elements,c=s.get(e)||[];return s.has(e)||s.set(e,c),c.push(t),i.observe(e),function(){c.splice(c.indexOf(t),1),0===c.length&&(s.delete(e),i.unobserve(e)),0===s.size&&(i.disconnect(),a.delete(o))}}function d(e){return"function"!=typeof e.children}var f=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).node=null,n._unobserveCb=null,n.handleNode=function(e){n.node&&(n.unobserve(),e||n.props.triggerOnce||n.props.skip||n.setState({inView:!!n.props.initialInView,entry:void 0})),n.node=e||null,n.observeNode()},n.handleChange=function(e,t){e&&n.props.triggerOnce&&n.unobserve(),d(n.props)||n.setState({inView:e,entry:t}),n.props.onChange&&n.props.onChange(e,t)},n.state={inView:!!t.initialInView,entry:void 0},n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.componentDidUpdate=function(e){e.rootMargin===this.props.rootMargin&&e.root===this.props.root&&e.threshold===this.props.threshold&&e.skip===this.props.skip&&e.trackVisibility===this.props.trackVisibility&&e.delay===this.props.delay||(this.unobserve(),this.observeNode())},a.componentWillUnmount=function(){this.unobserve(),this.node=null},a.observeNode=function(){if(this.node&&!this.props.skip){var e=this.props,t=e.threshold,n=e.root,r=e.rootMargin,o=e.trackVisibility,i=e.delay;this._unobserveCb=u(this.node,this.handleChange,{threshold:t,root:n,rootMargin:r,trackVisibility:o,delay:i})}},a.unobserve=function(){this._unobserveCb&&(this._unobserveCb(),this._unobserveCb=null)},a.render=function(){if(!d(this.props)){var e=this.state,t=e.inView,n=e.entry;return this.props.children({inView:t,entry:n,ref:this.handleNode})}var r=this.props,a=r.children,s=r.as,c=r.tag,l=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(r,["children","as","tag","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView"]);return o.createElement(s||c||"div",i({ref:this.handleNode},l),a)},r}(o.Component);f.displayName="InView",f.defaultProps={threshold:0,triggerOnce:!1,initialInView:!1}})),r.register("aBnWn",(function(e,n){t(e.exports,"DiffSetFileWrapper",(function(){return l})),t(e.exports,"ScrollToAnchor",(function(){return u})),t(e.exports,"SettingsHeader",(function(){return d})),t(e.exports,"GroupedContainer",(function(){return f}));var o=r("eQkAL"),i=r("4JuWt"),a=r("6aCAs"),s=r("wRx0r"),c=r("28DRv");const l=o.default("div",{target:"e1sanmi10"})("position:relative;",(({isSingleFileModeActive:e})=>e?i.css("min-height:calc( 100vh - ",s.STICKY_HEADER_HEIGHT_OFFSET,"px - ",c.PULL_REQUEST_DETAILS_PADDING_BOTTOM,"px );"):i.css("margin-bottom:",1.5*a.gridSize(),"px;")),""),u=o.default("div",{target:"e1sanmi11"})("position:absolute;top:-",(({topOffset:e})=>e+s.STICKY_HEADER_HEIGHT_OFFSET),"px;left:0;"),d=o.default("div",{target:"e1sanmi12"})("align-items:center;display:flex;font-weight:bold;justify-content:space-between;margin-bottom:",2*a.gridSize(),"px;margin-top:0;h2{",a.typography.h400(),";margin-top:0;}"),f=o.default("div",{target:"e1sanmi13"})({name:"k008qs",styles:"display:flex;"})})),r.register("28DRv",(function(e,n){t(e.exports,"PULL_REQUEST_DETAILS_PADDING_BOTTOM",(function(){return i})),t(e.exports,"PullRequest",(function(){return a}));var o=r("eQkAL");const i=32*r("6aCAs").gridSize(),a=o.default("main",{target:"epa2q480"})("padding-bottom:",i,"px;")})),r.register("6sR3t",(function(e,n){t(e.exports,"useHandleDiffObserverOnChange",(function(){return s}));var o=r("6tbO4"),i=r("61szk"),a=r("3geUT");const s=()=>{const e=o.useDispatch();return i.useCallback(((t,n)=>{e(t?{type:a.HIGHLIGHT_ACTIVE_TREE_ITEM,payload:n}:{type:a.RESET_ACTIVE_TREE_ITEM,payload:n})}),[e])}})),r.register("6xqQY",(function(n,o){t(n.exports,"ClassifiedDiff",(function(){return O}));var i=r("jgze0"),a=r("61szk"),s=r("aYtXI"),c=r("7RIig"),l=r("3GKKo"),u=r("fhnJI"),d=r("2G27F"),f=r("iwpqy"),p=r("3Dnpr"),h=r("8c477"),g=r("8Q1LS"),m=r("6TUHr"),v=r("f5IbC"),b=r("dgS2P");r("JLokA");var y=r("fUW9b");r("9NRBR");var E=r("cETNW"),x=r("4h3u4"),k=r("b3qAl"),C=r("4zofz"),S=r("1B20g"),T=r("lChGx");const O=({file:t,index:n,isCommentsFilterActive:r,DiffFile:o=p.default,useCommentDetailsForFile:O=h.useCommentDetailsForFile})=>{const w=l.useIntl(),N=d.extractFilepath(t),P=f.useDiffExpansionState({filepath:N}),A=!0===P,I=void 0===P,{hasCurrentComments:D,outdatedCommentCount:R}=O(t),M=g.useShowOutdatedCommentsForFile(t),_=I&&D;if(r&&!D)return e(a).createElement(E.default,{file:t,heading:w.formatMessage(m.default.outdatedCommentsFilterHeader,{commentCount:R}),actions:e(a).createElement("li",null,e(a).createElement(s.Button,{appearance:"link",onClick:M},e(a).createElement(c.FormattedMessage,e(i)({},m.default.outdatedCommentsFilterBody,{values:{commentCount:R}}))))});if(t.isFileContentsUnchanged)return e(a).createElement(x.default,{file:t,isOpen:A||_});if(u.isImageDiff(t))return e(a).createElement(y.default,{file:t,isOpen:A||_||I&&!t.deleted});if(u.isBinaryDiff(t))return e(a).createElement(k.default,{file:t,isOpen:A||_});const j=v.getExcludedPattern(t);if(j)return e(a).createElement(C.default,{file:t,pattern:j,isOpen:A||_});const B=b.getExcessiveDiffSize(t);return B?e(a).createElement(S.default,{file:t,size:B,isOpen:A||_}):u.isFileRenamedDiff(t)?e(a).createElement(E.default,{file:t,isOpen:A||_,heading:w.formatMessage(m.default.fileRenamed)}):u.isEmptyDiff(t)?e(a).createElement(T.default,{file:t,isOpen:A||_}):e(a).createElement(o,{file:t,fileIndex:n,isOpen:A||_||I&&!t.deleted})}})),r.register("aYtXI",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF"),o=n.__importDefault(r("61szk")),i=r("4JuWt"),a=n.__importDefault(r("6gvxN")),s=r("izGl7"),c=n.__importDefault(r("lHwGe")),l=r("d1mF2"),u=r("alwyQ"),d=n.__importDefault(r("gx3IC")),f=n.__importDefault(r("lQRO6")),p=n.__importDefault(r("bu7Ev")),h=n.__importDefault(r("jSW4L")),g=r("acltN"),m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.button=o.default.createRef(),t.getComposedRefs=a.default(g.composeRefs),t.state={isActive:!1,isFocus:!1,isHover:!1},t.isInteractive=function(){return!t.props.isDisabled&&!t.props.isLoading},t.onMouseEnter=function(e){t.setState({isHover:!0}),t.props.onMouseEnter&&t.props.onMouseEnter(e)},t.onMouseLeave=function(e){t.setState({isHover:!1,isActive:!1}),t.props.onMouseLeave&&t.props.onMouseLeave(e)},t.onMouseDown=function(e){e.preventDefault(),t.setState({isActive:!0}),t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseUp=function(e){t.setState({isActive:!1}),t.props.onMouseUp&&t.props.onMouseUp(e)},t.onFocus=function(e){t.setState({isFocus:!0}),t.props.onFocus&&t.props.onFocus(e)},t.onBlur=function(e){t.setState({isFocus:!1}),t.props.onBlur&&t.props.onBlur(e)},t.getElement=function(){var e=t.props,n=e.href,r=e.isDisabled;return n?r?"span":"a":"button"},t.onInnerClick=function(e){return t.isInteractive()||e.stopPropagation(),!0},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.props.autoFocus&&this.button instanceof HTMLButtonElement&&this.button.focus()},t.prototype.render=function(){var e=this,t=this.props,r=t.appearance,o=void 0===r?"default":r,a=t.children,s=t.className,u=t.component,m=t.consumerRef,v=t.iconAfter,b=t.iconBefore,y=t.isDisabled,E=void 0!==y&&y,x=t.isLoading,k=void 0!==x&&x,C=t.isSelected,S=void 0!==C&&C,T=t.shouldFitContainer,O=void 0!==T&&T,w=t.spacing,N=void 0===w?"default":w,P=t.theme,A=void 0===P?function(e,t){return e(t)}:P,I=t.testId,D=n.__rest(t,["appearance","children","className","component","consumerRef","iconAfter","iconBefore","isDisabled","isLoading","isSelected","shouldFitContainer","spacing","theme","testId"]),R=n.__assign(n.__assign({},this.state),{isSelected:S,isDisabled:E}),M=u||this.getElement(),_=!((!b||v||a)&&(!v||b||a));return i.jsx(l.Theme.Provider,{value:A},i.jsx(c.default.Consumer,null,(function(t){var r=t.mode;return i.jsx(l.Theme.Consumer,n.__assign({mode:r,state:g.mapAttributesToState(R),iconIsOnlyChild:_},e.props),(function(t){var r,c=t.buttonStyles,l=t.spinnerStyles;return i.jsx(M,n.__assign({},g.filterProps(D,M),{"data-testid":I,ref:e.getComposedRefs(e.button,m),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onFocus:e.onFocus,onBlur:e.onBlur,disabled:E,className:s,css:(r=c,"a"===M?{"a&":r}:M===u?{"&, a&, &:hover, &:active, &:focus":r}:r)}),i.jsx(p.default,{onClick:e.onInnerClick,fit:!!O},k&&i.jsx(h.default,{spacing:N,appearance:o,isSelected:S,isDisabled:E,styles:l}),b&&i.jsx(f.default,{isLoading:k,spacing:N,isOnlyChild:_,icon:b}),a&&i.jsx(d.default,{isLoading:k,followsIcon:!!b,spacing:N},a),v&&i.jsx(f.default,{isLoading:k,spacing:N,isOnlyChild:_,icon:v})))}))})))},t.defaultProps={appearance:"default",autoFocus:!1,isDisabled:!1,isLoading:!1,isSelected:!1,shouldFitContainer:!1,spacing:"default",type:"button"},t}(o.default.Component);e.exports.Button=m;var v=s.createAndFireEvent("atlaskit"),b=o.default.forwardRef((function(e,t){return i.jsx(m,n.__assign({},e,{consumerRef:t}))}));b.displayName="Button",e.exports.default=s.withAnalyticsContext({componentName:"button",packageName:u.name,packageVersion:u.version})(s.withAnalyticsEvents({onClick:v({action:"clicked",actionSubject:"button",attributes:{componentName:"button",packageName:u.name,packageVersion:u.version}})})(b))})),r.register("d1mF2",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF").__importStar(r("cwaEd")),o=r("lHwGe"),i=r("8RTJ1"),a=r("acltN");e.exports.fallbacks={background:{light:n.N20A,dark:n.DN70},color:{light:n.N400,dark:n.DN400},textDecoration:{light:"none",dark:"none"}},e.exports.baseTheme={background:{default:{default:{light:n.N20A,dark:n.DN70},hover:{light:n.N30A,dark:n.DN60},active:{light:a.hex2rgba(n.B75,.6),dark:n.B75},disabled:{light:n.N20A,dark:n.DN70},selected:{light:n.N700,dark:n.DN0},focusSelected:{light:n.N700,dark:n.DN0}},primary:{default:{light:n.B400,dark:n.B100},hover:{light:n.B300,dark:n.B75},active:{light:n.B500,dark:n.B200},disabled:{light:n.N20A,dark:n.DN70},selected:{light:n.N700,dark:n.DN0},focusSelected:{light:n.N700,dark:n.DN0}},warning:{default:{light:n.Y300,dark:n.Y300},hover:{light:n.Y200,dark:n.Y200},active:{light:n.Y400,dark:n.Y400},disabled:{light:n.N20A,dark:n.DN70},selected:{light:n.Y400,dark:n.Y400},focusSelected:{light:n.Y400,dark:n.Y400}},danger:{default:{light:n.R400,dark:n.R400},hover:{light:n.R300,dark:n.R300},active:{light:n.R500,dark:n.R500},disabled:{light:n.N20A,dark:n.DN70},selected:{light:n.R500,dark:n.R500},focusSelected:{light:n.R500,dark:n.R500}},link:{default:{light:"none",dark:"none"},selected:{light:n.N700,dark:n.N20},focusSelected:{light:n.N700,dark:n.N20}},subtle:{default:{light:"none",dark:"none"},hover:{light:n.N30A,dark:n.DN60},active:{light:a.hex2rgba(n.B75,.6),dark:n.B75},disabled:{light:"none",dark:"none"},selected:{light:n.N700,dark:n.DN0},focusSelected:{light:n.N700,dark:n.DN0}},"subtle-link":{default:{light:"none",dark:"none"},selected:{light:n.N700,dark:n.N20},focusSelected:{light:n.N700,dark:n.N20}}},boxShadowColor:{default:{focus:{light:n.B100,dark:n.B75},focusSelected:{light:n.B100,dark:n.B75}},primary:{focus:{light:n.B100,dark:n.B75},focusSelected:{light:n.B100,dark:n.B75}},warning:{focus:{light:n.Y500,dark:n.Y500},focusSelected:{light:n.Y500,dark:n.Y500}},danger:{focus:{light:n.R100,dark:n.R100},focusSelected:{light:n.R100,dark:n.R100}},link:{focus:{light:n.B100,dark:n.B75},focusSelected:{light:n.B100,dark:n.B75}},subtle:{focus:{light:n.B100,dark:n.B75},focusSelected:{light:n.B100,dark:n.B75}},"subtle-link":{focus:{light:n.B100,dark:n.B75},focusSelected:{light:n.B100,dark:n.B75}}},color:{default:{default:{light:n.N500,dark:n.DN400},active:{light:n.B400,dark:n.B400},disabled:{light:n.N70,dark:n.DN30},selected:{light:n.N20,dark:n.DN400},focusSelected:{light:n.N20,dark:n.DN400}},primary:{default:{light:n.N0,dark:n.DN30},disabled:{light:n.N70,dark:n.DN30},selected:{light:n.N20,dark:n.DN400},focusSelected:{light:n.N20,dark:n.DN400}},warning:{default:{light:n.N800,dark:n.N800},disabled:{light:n.N70,dark:n.DN30},selected:{light:n.N800,dark:n.N800},focusSelected:{light:n.N800,dark:n.N800}},danger:{default:{light:n.N0,dark:n.N0},disabled:{light:n.N70,dark:n.DN30},selected:{light:n.N0,dark:n.N0},focusSelected:{light:n.N0,dark:n.N0}},link:{default:{light:n.B400,dark:n.B100},hover:{light:n.B300,dark:n.B75},active:{light:n.B500,dark:n.B200},disabled:{light:n.N70,dark:n.DN100},selected:{light:n.N20,dark:n.N700},focusSelected:{light:n.N20,dark:n.N700}},subtle:{default:{light:n.N500,dark:n.DN400},active:{light:n.B400,dark:n.B400},disabled:{light:n.N70,dark:n.DN100},selected:{light:n.N20,dark:n.DN400},focusSelected:{light:n.N20,dark:n.DN400}},"subtle-link":{default:{light:n.N200,dark:n.DN400},hover:{light:n.N90,dark:n.B50},active:{light:n.N400,dark:n.DN300},disabled:{light:n.N70,dark:n.DN100},selected:{light:n.N20,dark:n.DN400},focusSelected:{light:n.N20,dark:n.DN400}}}},e.exports.applyPropertyStyle=function(t,n,r){var o=n.appearance,i=void 0===o?"default":o,a=n.state,s=void 0===a?"default":a,c=n.mode,l=void 0===c?"light":c,u=r[t];if(!u)return"initial";if(!u[i]){if(!u.default)return e.exports.fallbacks[t][l]?e.exports.fallbacks[t][l]:"initial";i="default"}u[i][s]||(s="default");var d=u[i],f=d[s];return f?f[l]||d.default[l]:"inherit"},e.exports.Theme=o.createTheme((function(e){return{buttonStyles:i.getButtonStyles(e),spinnerStyles:i.getSpinnerStyles()}}))})),r.register("8RTJ1",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF"),o=r("aDhbJ"),i=r("d1mF2"),a=3*o.gridSize()/o.fontSize()+"em",s=4*o.gridSize()/o.fontSize()+"em",c=function(e){return i.applyPropertyStyle("background",e,i.baseTheme)},l=function(e){return"0 0 0 2px "+i.applyPropertyStyle("boxShadowColor",e,i.baseTheme)},u=function(e){return i.applyPropertyStyle("color",e,i.baseTheme)},d=function(e){var t=e.spacing,n=void 0===t?"default":t;return"compact"===n?a:"none"===n?"auto":s},f=function(e){var t=e.spacing,n=void 0===t?"default":t;return"compact"===n?a:"none"===n?"inherit":s},p=function(e){var t=e.spacing;return"none"===(void 0===t?"default":t)?0:"0 "+o.gridSize()+"px"},h=function(e){var t=e.appearance,n=void 0===t?"default":t,r=e.state;return"hover"!==(void 0===r?"default":r)||"link"!==n&&"subtle-link"!==n?"inherit":"underline"},g=function(e){var t=e.state;return"hover"===(void 0===t?"default":t)?"background 0s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)":"background 0.1s ease-out, box-shadow 0.15s cubic-bezier(0.47, 0.03, 0.49, 1.38)"},m=function(e){var t=e.state,n=void 0===t?"default":t;return"active"===n?"0s":"focus"===n?"0s, 0.2s":"0.1s, 0.15s"},v=function(e){var t=e.spacing;return"none"===(void 0===t?"default":t)?"baseline":"middle"},b=function(e){return e.shouldFitContainer?"100%":"auto"},y={alignItems:"baseline",borderWidth:0,boxSizing:"border-box",display:"inline-flex",fontSize:"inherit",fontStyle:"normal",fontWeight:"500",maxWidth:"100%",outline:"none !important",textAlign:"center",textDecoration:"none",whiteSpace:"nowrap"};e.exports.getButtonStyles=function(e){return n.__assign(n.__assign(n.__assign({},y),{background:c(e),borderRadius:o.borderRadius()+"px",boxShadow:l(e),color:u(e)+" !important",cursor:(t=e,r=t.state,i=void 0===r?"default":r,"hover"===i||"active"===i||"selected"===i?"pointer":"disabled"===i?"not-allowed":"default"),height:d(e),lineHeight:f(e),padding:p(e),transition:g(e),transitionDuration:m(e),verticalAlign:v(e),width:b(e),"&::-moz-focus-inner":{border:0,margin:0,padding:0},"&:hover":{textDecoration:h(e)}}),e.isLoading&&{pointerEvents:"none"});var t,r,i},e.exports.getSpinnerStyles=function(){return{display:"flex",position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"}}})),r.register("acltN",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF");e.exports.mapAttributesToState=function(e){var t=e.isDisabled,n=void 0!==t&&t,r=e.isActive,o=void 0!==r&&r,i=e.isFocus,a=void 0!==i&&i,s=e.isHover,c=void 0!==s&&s,l=e.isSelected,u=void 0!==l&&l;return n?"disabled":u&&a?"focusSelected":u?"selected":o?"active":c?"hover":a?"focus":"default"},e.exports.filterProps=function(e,t){e.createAnalyticsEvent;var r=n.__rest(e,["createAnalyticsEvent"]);if("span"===t){r.target,r.href;return n.__rest(r,["target","href"])}return r},e.exports.getLoadingStyle=function(e){return{transition:"opacity 0.3s",opacity:e?0:1}},e.exports.composeRefs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){e.filter((function(e){return!!e})).forEach((function(e){"function"==typeof e?e(t):e.current=t}))}},e.exports.hex2rgba=function(e,t){if(void 0===t&&(t=1),/^#([A-Fa-f0-9]{3}){1,2}$/.test(e)){var n=e.substring(1).split("");3===n.length&&(n=[n[0],n[0],n[1],n[1],n[2],n[2]]);var r="0x"+n.join("");return"rgba("+[r>>16&255,r>>8&255,255&r].join(",")+", "+t+")"}throw new Error("Bad Hex")}})),r.register("alwyQ",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/button","version":"14.0.0","sideEffects":false}')})),r.register("gx3IC",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF"),o=r("4JuWt"),i=r("aDhbJ"),a=r("acltN");e.exports.default=function(e){var t=e.children,r=e.followsIcon,s=e.spacing,c=e.isLoading,l=n.__rest(e,["children","followsIcon","spacing","isLoading"]);return o.jsx("span",n.__assign({css:n.__assign({alignItems:r?"baseline":"center",alignSelf:r?"baseline":"center",flex:"1 1 auto",margin:"none"===s?0:"0 "+i.gridSize()/2+"px",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},a.getLoadingStyle(c))},l),t)}})),r.register("lQRO6",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF"),o=r("4JuWt"),i=r("aDhbJ"),a=r("acltN");e.exports.default=function(e){var t=e.spacing,r=e.icon,s=e.isOnlyChild,c=e.isLoading,l=n.__rest(e,["spacing","icon","isOnlyChild","isLoading"]);return o.jsx("span",n.__assign({css:n.__assign({alignSelf:"center",display:"flex",flexShrink:0,lineHeight:0,fontSize:0,userSelect:"none",margin:"none"===t?0:s?"0 -"+i.gridSize()/4+"px":"0 "+i.gridSize()/2+"px"},a.getLoadingStyle(c))},l),r)}})),r.register("bu7Ev",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF"),o=r("4JuWt");e.exports.default=function(e){var t=e.fit,r=e.children,i=n.__rest(e,["fit","children"]);return o.jsx("span",n.__assign({css:n.__assign(n.__assign({alignSelf:"center",display:"inline-flex",flexWrap:"nowrap",maxWidth:"100%",position:"relative"},t&&{width:"100%"}),t&&{justifyContent:"center"})},i),r)}})),r.register("jSW4L",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0});var n=r("c8JbF"),o=n.__importDefault(r("61szk")),i=r("4JuWt"),a=n.__importDefault(r("1HQ2H")),s=["primary","danger"],c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.invertSpinner=function(){var e=t.props,n=e.appearance,r=e.isSelected,o=e.isDisabled;return!!r||!o&&(void 0!==n&&-1!==s.indexOf(n))},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.spacing,n=e.styles,r="default"!==t?"small":"medium";return i.jsx("div",{css:n},i.jsx(a.default,{size:r,appearance:this.invertSpinner()?"invert":"inherit"}))},t}(o.default.Component);e.exports.default=c})),r.register("iwpqy",(function(e,n){t(e.exports,"useDiffExpansionState",(function(){return a}));var o=r("6tbO4"),i=r("csqQL");const a=({filepath:e})=>o.useSelector((t=>i.getSingleDiffExpansion(t,e)))})),r.register("3Dnpr",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("6tbO4"),i=r("gFE2z"),a=r("3geUT"),s=r("89sOc");var c=o.connect((e=>({bannerAndNavHeight:i.getCombinedBannerAndHorizontalNavHeight(e,!1)})),(e=>({expandContext:t=>e(a.expandContext(t)),onExpand:(t,n)=>e({type:a.TOGGLE_DIFF_EXPANSION,payload:{filepath:t,isOpening:n}}),onToggleSideBySideMode:(t,n)=>{e(a.toggleSideBySideMode({filePath:t,isSideBySide:n})),e(a.publishBasePullRequestFact("bitbucket.pullrequests.sideBySideDiff.click")),e(a.publishPullRequestUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"pullRequestSideBySideDiffButton"}))},onEditorOpenStateChange:t=>e(a.onEditorOpenStateChange(t))})))(s.default)})),r.register("89sOc",(function(n,o){t(n.exports,"default",(function(){return N}));var i=r("61szk"),a=r("6tbO4"),s=r("35ixb"),c=r("6Waqh");r("cS0h7");var l=r("cfrnJ"),u=r("3GKKo"),d=r("2G27F"),f=r("gTiU4"),p=r("1ODc2"),h=r("hTK5T"),g=r("2k202"),m=r("aWInq"),v=r("6nAIA"),b=r("4BtxV"),y=r("d4DYL"),E=r("aAMb9");r("laz9k");var x=r("8GhtH"),k=r("wRx0r"),C=r("2mCPQ"),S=r("a3oNS"),T=r("6fjoo"),O=r("6TUHr");const w=t=>{const{bannerAndNavHeight:n,expandContext:r,file:o,fileIndex:w,isOpen:N=!0,onEditorOpenStateChange:P,onExpand:A,onToggleSideBySideMode:I}=t,{conflictMessage:D,fileDiffStatus:R,isConflicted:M}=o,_=d.extractFilepath(o),j=d.extractPrevFilepath(o),B=u.useIntl(),L=i.useRef(0),F=i.useRef(null),[z,W]=i.useState(!1),{fileAnnotations:U,isPrAnnotationsEnabled:H}=m.useAnnotations(o),{isColorBlindModeEnabled:V,isSideBySide:K,tabSize:G}=m.useDiffPreferences(o),{activePermalink:J,onPermalinkClick:q,showPermalinks:Y}=m.usePermalinks(),Z=a.useSelector(h.getCurrentUserIsAnonymous),{confirmDiscardComments:X,dialogProps:Q,isDialogOpen:$}=T.useDiscardCommentsDialogState(),ee=C.useIsViewEntireFileSupported(o),te=i.useCallback((e=>W(!!e.isOpen)),[W]),ne=i.useCallback((()=>{L.current--,0===L.current&&P(!1)}),[P]),re=i.useCallback((()=>{L.current++,P(!0)}),[P]),{discardCommentsModal:oe,onAddInlineComment:ie,renderInlineConversations:ae}=v.usePullRequestInlineConversations({diff:o,editorPopupsMountPointRef:F,onInlineEditorClose:ne,onInlineEditorOpen:re}),se=i.useCallback(((e,t)=>{const n=()=>{r({expanderIndex:e,fileIndex:w,filepath:_,prevFilepath:j,shouldExpandDown:t})};L.current>0?X({message:O.default.discardCommentsModalBody__ExpandContext,onConfirmDiscard:()=>{n()}}):n()}),[X,r,w,_,j]),ce=i.useCallback((()=>{const e=()=>{I(_,!K)};L.current>0?X({message:O.default.discardCommentsModalBody__SideBySideToggle,onConfirmDiscard:e}):e()}),[X,_,K,I]),le=e(i).createElement(x.BaseDiffActionsMenu,{filepath:_,isDeleted:"removed"===R,isSideBySide:K,isViewEntireFileSupported:ee,onSideBySide:()=>{A(_,!0),ce()},onDiffActionsMenuClicked:te}),ue=k.STICKY_HEADER_HEIGHT_OFFSET+n,de=c.getCurrentLineAnnotations(U),fe=c.getOutdatedLineAnnotations(U);return e(i).createElement(i.Fragment,null,e(i).createElement("article",{"data-qa":"pr-diff-file-styles",ref:F,"aria-label":B.formatMessage(O.default.diffFileTitle,{filepath:_})},e(i).createElement(g.FileStateless,{prevFilePath:j,filePath:_,icon:R?e(i).createElement(f.DiffStatusIcon,{fileDiffStatus:R}):void 0,dropdownMenu:le,isCollapsible:!0,isDropdownMenuOpen:z,isExpanded:N,hasStickyHeader:!0,stickyHeaderOffset:ue,toggleExpanded:()=>A(_,!N),renderAfterFilePath:M&&D?()=>e(i).createElement(p.DiffConflictLozenge,{conflictMessage:D}):void 0,renderBeforeActions:()=>e(i).createElement(e(i).Fragment,null,H&&fe.length>0?e(i).createElement(E.default,{outdatedLineAnnotations:fe}):null,e(i).createElement(y.default,{file:o}),Z?null:e(i).createElement(S.FileLevelAddCommentButton,{filePath:_}))},H&&de.length?e(i).createElement(l.TopLevelInlineContent,null,e(i).createElement(c.LineAnnotation,{lineAnnotations:de})):null,e(i).createElement(b.PullRequestFileConversation,{editorPopupsMountPoint:F.current,file:o}),e(i).createElement(c.default,{activePermalink:J,diff:{chunks:o.chunks},fileAnnotations:U,filePath:_,inlineContent:ae,isColorBlindModeEnabled:V,isPrAnnotationsEnabled:H,isSideBySide:K,onAddComment:ie,onPermalinkClick:q,onShowMoreLines:se,showPermalinks:Y,tabSize:G}))),oe,e(i).createElement(s.ModalTransition,null,$&&e(i).createElement(T.default,Q)))};var N=e(i).memo(w)})),r.register("cS0h7",(function(e,n){t(e.exports,"TopLevelInlineContent",(function(){return r("cfrnJ").TopLevelInlineContent})),t(e.exports,"InlineContentContainer",(function(){return r("cfrnJ").InlineContentContainer})),r("cfrnJ")})),r.register("cfrnJ",(function(n,o){t(n.exports,"TopLevelInlineContent",(function(){return s})),t(n.exports,"InlineContentContainer",(function(){return c}));var i=r("jgze0"),a=r("61szk");const s=t=>e(a).createElement("div",e(i)({className:"bitkit-diff-top-level-inline-content"},t)),c=t=>e(a).createElement("div",e(i)({className:"bitkit-diff-inline-content-container"},t))})),r.register("gTiU4",(function(n,o){t(n.exports,"DiffStatusIcon",(function(){return g}));var i=r("61szk"),a=r("6aCAs"),s=r("4Rd8x"),c=r("kCqPF"),l=r("6xBaZ"),u=r("3GKKo");r("8ZneY");var d=r("feLcj"),f=r("fGGbZ");const p=a.colors.R300,h={[l.DiffStatStatus.Added]:{icon:c.FileAddedIcon,message:f.default.addedFileType,secondaryColor:void 0},[l.DiffStatStatus.Removed]:{icon:c.FileRemovedIcon,message:f.default.removedFileType,secondaryColor:p},[l.DiffStatStatus.Modified]:{icon:c.FileModifiedIcon,message:f.default.modifiedFileType},[l.DiffStatStatus.TypeChanged]:{icon:c.FileModifiedIcon,message:f.default.typeChangedFileType},[l.DiffStatStatus.Renamed]:{icon:c.FileRenamedIcon,message:f.default.renamedFileType},[l.DiffStatStatus.BinaryConflict]:{icon:c.FileModifiedIcon,message:f.default.modifiedFileType}},g=({fileDiffStatus:t=l.DiffStatStatus.Modified,size:n=c.IconSizes.Small,showTooltip:r=!0,subtle:o=!1})=>{const a=u.useIntl(),{icon:f,message:p,secondaryColor:g}=h[t]||h.modified;let m;const v=i.useMemo((()=>a.formatMessage(p)),[a,p]);return m=o&&f===c.FileModifiedIcon?e(i).createElement("span",null,e(i).createElement(d.ScreenReadersOnly,null,v),e(i).createElement(c.FileModifiedIcon,{subtle:!0,label:"",size:n,secondaryColor:g})):e(i).createElement("span",null,e(i).createElement(d.ScreenReadersOnly,null,v),e(i).createElement(f,{label:"",size:n,secondaryColor:g})),r&&(m=e(i).createElement(s.default,{position:"left",content:v},m)),m}})),r.register("8ZneY",(function(e,n){t(e.exports,"ScreenReadersOnly",(function(){return r("feLcj").ScreenReadersOnly})),t(e.exports,"srOnlyStyles",(function(){return r("feLcj").srOnlyStyles})),t(e.exports,"FocusedPageHeader",(function(){return r("42QSU").FocusedPageHeader}));r("feLcj"),r("42QSU")})),r.register("feLcj",(function(n,o){t(n.exports,"srOnlyStyles",(function(){return l})),t(n.exports,"ScreenReadersOnly",(function(){return u}));var i=r("jgze0"),a=r("jrSOn");r("61szk");var s=r("6aCAs"),c=r("4JuWt");const l=a.css(s.visuallyHidden(),""),u=t=>c.jsx("span",e(i)({css:s.visuallyHidden},t),t.children)})),r.register("42QSU",(function(n,o){t(n.exports,"FocusedPageHeader",(function(){return l}));var i=r("jgze0"),a=r("61szk");r("gCAsH");var s=r("dwsiA"),c=r("6lGto");const l=t=>{const n=a.useRef(null);return a.useEffect((()=>{n&&n.current&&n.current.focus()}),[]),e(a).createElement(s.default,e(i)({},t,{disableTitleStyles:!0}),e(a).createElement(c.StyledTitle,{ref:n,tabIndex:-1,truncate:t.truncateTitle},t.children))}})),r.register("gCAsH",(function(e,n){t(e.exports,"default",(function(){return r("dwsiA").default}));r("dwsiA")})),r.register("dwsiA",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("61szk"),a=r("bHtUD"),s=function(t){var n=t.innerRef,r=t.breadcrumbs,o=t.actions,s=t.bottomBar,c=t.children,l=t.disableTitleStyles,u=void 0!==l&&l,d=t.truncateTitle,f=void 0!==d&&d;return e(i).createElement(a.Outer,null,r,e(i).createElement(a.TitleWrapper,{truncate:f},e(i).createElement(a.TitleContainer,{truncate:f},u?c:e(i).createElement(a.StyledTitle,{innerRef:n,tabIndex:-1,truncate:f},c)),o&&e(i).createElement(a.ActionsWrapper,null,o)),s&&e(i).createElement(a.BottomBarWrapper,null," ",s," "))}})),r.register("bHtUD",(function(n,o){t(n.exports,"Outer",(function(){return g})),t(n.exports,"StyledTitle",(function(){return m})),t(n.exports,"TitleWrapper",(function(){return v})),t(n.exports,"TitleContainer",(function(){return b})),t(n.exports,"ActionsWrapper",(function(){return y})),t(n.exports,"BottomBarWrapper",(function(){return E}));var i=r("lhkMJ"),a=r("SssiD"),s=r("eC2UO"),c=r("hCpTL");function l(){var t=e(i)(["\n  margin-top: ","px;\n"]);return l=function(){return t},t}function u(){var t=e(i)(["\n  flex: 0 0 auto;\n  margin-bottom: ","px;\n  margin-left: auto;\n  max-width: 100%;\n  padding-left: ","px;\n  white-space: nowrap;\n\n  > {\n    text-align: right;\n  }\n"]);return u=function(){return t},t}function d(){var t=e(i)(["\n  flex: 1 0 auto;\n  ","\n  margin-bottom: ","px;\n  max-width: 100%;\n  min-width: 0;\n"]);return d=function(){return t},t}function f(){var t=e(i)(["\n  align-items: flex-start;\n  display: flex;\n  ","\n"]);return f=function(){return t},t}function p(){var t=e(i)(["\n  ",";\n  "," line-height: ","px;\n  margin-top: 0;\n  outline: none;\n"]);return p=function(){return t},t}function h(){var t=e(i)(["\n  margin: ","px 0 ","px 0;\n"]);return h=function(){return t},t}var g=a.default.div(h(),3*s.gridSize(),2*s.gridSize()),m=a.default.h1(p(),c.h700(),(function(e){return e.truncate?"\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      ":null}),4*s.gridSize()),v=a.default.div(f(),(function(e){return e.truncate?"flex-wrap: no-wrap;":"flex-wrap: wrap;"})),b=a.default.div(d(),(function(e){return e.truncate?"flex-shrink: 1;":null}),s.gridSize()),y=a.default.div(u(),s.gridSize(),4*s.gridSize()),E=a.default.div(l(),2*s.gridSize())})),r.register("eC2UO",(function(e,n){t(e.exports,"gridSize",(function(){return o})),t(e.exports,"fontSize",(function(){return i}));r("4oNw1"),r("jT2UY");var o=function(){return 8},i=function(){return 14}})),r.register("4oNw1",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("8ec6x");var i=function(e,t){var n=o.default[e];return t?"var(".concat(n,", ").concat(t,")"):"var(".concat(n,")")}})),r.register("8ec6x",(function(e,n){t(e.exports,"default",(function(){return r}));var r={"color.accent.boldBlue":"--accent-boldBlue","color.accent.boldGreen":"--accent-boldGreen","color.accent.boldOrange":"--accent-boldOrange","color.accent.boldPurple":"--accent-boldPurple","color.accent.boldRed":"--accent-boldRed","color.accent.boldTeal":"--accent-boldTeal","color.accent.subtleBlue":"--accent-subtleBlue","color.accent.subtleGreen":"--accent-subtleGreen","color.accent.subtleMagenta":"--accent-subtleMagenta","color.accent.subtleOrange":"--accent-subtleOrange","color.accent.subtlePurple":"--accent-subtlePurple","color.accent.subtleRed":"--accent-subtleRed","color.accent.subtleTeal":"--accent-subtleTeal","color.background.sunken":"--background-sunken","color.background.default":"--background-default","color.background.card":"--background-card","color.background.overlay":"--background-overlay","color.background.selected.resting":"--background-selected-resting","color.background.selected.hover":"--background-selected-hover","color.background.selected.pressed":"--background-selected-pressed","color.background.blanket":"--background-blanket","color.background.disabled":"--background-disabled","color.background.boldBrand.resting":"--background-boldBrand-resting","color.background.boldBrand.hover":"--background-boldBrand-hover","color.background.boldBrand.pressed":"--background-boldBrand-pressed","color.background.subtleBrand.resting":"--background-subtleBrand-resting","color.background.subtleBrand.hover":"--background-subtleBrand-hover","color.background.subtleBrand.pressed":"--background-subtleBrand-pressed","color.background.boldDanger.resting":"--background-boldDanger-resting","color.background.boldDanger.hover":"--background-boldDanger-hover","color.background.boldDanger.pressed":"--background-boldDanger-pressed","color.background.subtleDanger.resting":"--background-subtleDanger-resting","color.background.subtleDanger.hover":"--background-subtleDanger-hover","color.background.subtleDanger.pressed":"--background-subtleDanger-pressed","color.background.boldWarning.resting":"--background-boldWarning-resting","color.background.boldWarning.hover":"--background-boldWarning-hover","color.background.boldWarning.pressed":"--background-boldWarning-pressed","color.background.subtleWarning.resting":"--background-subtleWarning-resting","color.background.subtleWarning.hover":"--background-subtleWarning-hover","color.background.subtleWarning.pressed":"--background-subtleWarning-pressed","color.background.boldSuccess.resting":"--background-boldSuccess-resting","color.background.boldSuccess.hover":"--background-boldSuccess-hover","color.background.boldSuccess.pressed":"--background-boldSuccess-pressed","color.background.subtleSuccess.resting":"--background-subtleSuccess-resting","color.background.subtleSuccess.hover":"--background-subtleSuccess-hover","color.background.subtleSuccess.pressed":"--background-subtleSuccess-pressed","color.background.boldDiscovery.resting":"--background-boldDiscovery-resting","color.background.boldDiscovery.hover":"--background-boldDiscovery-hover","color.background.boldDiscovery.pressed":"--background-boldDiscovery-pressed","color.background.subtleDiscovery.resting":"--background-subtleDiscovery-resting","color.background.subtleDiscovery.hover":"--background-subtleDiscovery-hover","color.background.subtleDiscovery.pressed":"--background-subtleDiscovery-pressed","color.background.boldNeutral.resting":"--background-boldNeutral-resting","color.background.boldNeutral.hover":"--background-boldNeutral-hover","color.background.boldNeutral.pressed":"--background-boldNeutral-pressed","color.background.transparentNeutral.hover":"--background-transparentNeutral-hover","color.background.transparentNeutral.pressed":"--background-transparentNeutral-pressed","color.background.subtleNeutral.resting":"--background-subtleNeutral-resting","color.background.subtleNeutral.hover":"--background-subtleNeutral-hover","color.background.subtleNeutral.pressed":"--background-subtleNeutral-pressed","color.background.subtleBorderedNeutral.resting":"--background-subtleBorderedNeutral-resting","color.background.subtleBorderedNeutral.pressed":"--background-subtleBorderedNeutral-pressed","color.border.focus":"--border-focus","color.border.neutral":"--border-neutral","color.iconBorder.brand":"--iconBorder-brand","color.iconBorder.danger":"--iconBorder-danger","color.iconBorder.warning":"--iconBorder-warning","color.iconBorder.success":"--iconBorder-success","color.iconBorder.discovery":"--iconBorder-discovery","color.overlay.hover":"--overlay-hover","color.overlay.pressed":"--overlay-pressed","color.text.selected":"--text-selected","color.text.highEmphasis":"--text-highEmphasis","color.text.mediumEmphasis":"--text-mediumEmphasis","color.text.lowEmphasis":"--text-lowEmphasis","color.text.onBold":"--text-onBold","color.text.onBoldWarning":"--text-onBoldWarning","color.text.link.resting":"--text-link-resting","color.text.link.pressed":"--text-link-pressed","color.text.brand":"--text-brand","color.text.warning":"--text-warning","color.text.danger":"--text-danger","color.text.success":"--text-success","color.text.discovery":"--text-discovery","color.text.disabled":"--text-disabled","shadow.card":"--card","shadow.overlay":"--overlay","utility.UNSAFE_util.transparent":"--UNSAFE_util-transparent"}})),r.register("jT2UY",(function(e,n){t(e.exports,"B100",(function(){return c})),t(e.exports,"N30A",(function(){return h})),t(e.exports,"heading",(function(){return b})),t(e.exports,"subtleHeading",(function(){return y})),t(e.exports,"skeleton",(function(){return E}));var o=r("hlhp6"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#4C9AFF",l="#2684FF",u="#0052CC",d="#FFFFFF",f="#6B778C",p="#172B4D",h="rgba(9, 30, 66, 0.08)",g="#B8C7E0",m="#8C9CB8",v="#283447",b=(o.default({light:d,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:"#B3D4FF"}),o.default({light:"#EBECF0",dark:"#3B475C"}),o.default({light:d,dark:v}),o.default({light:"#091E42",dark:g}),o.default({light:p,dark:g}),o.default({light:u,dark:u}),o.default({light:f,dark:m}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:p,dark:g})),y=o.default({light:f,dark:m}),E=(o.default({light:"#F4F5F7",dark:v}),o.default({light:u,dark:c}),o.default({light:"#0065FF",dark:l}),o.default({light:"#0747A6",dark:c}),o.default({light:c,dark:l}),o.default({light:u,dark:c}),o.default({light:u,dark:c}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("hlhp6",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("cFgbM");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("cFgbM",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("hCpTL",(function(n,o){t(n.exports,"h700",(function(){return p}));var i=r("l15hj"),a=r("4oNw1"),s=r("jT2UY"),c=r("eC2UO");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach((function(n){e(i)(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d=function(e,t){return{fontSize:"".concat(e/c.fontSize(),"em"),fontStyle:"inherit",lineHeight:t/e}},f={size:24,lineHeight:28},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return u(u({},d(f.size,f.lineHeight)),{},{color:a.default("color.text.highEmphasis",s.heading(e)),fontWeight:500,letterSpacing:"-0.01em",marginTop:"".concat(5*c.gridSize(),"px")})}})),r.register("6lGto",(function(e,n){t(e.exports,"StyledTitle",(function(){return a}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("h1",{target:"edjjevr0"})(i.typography.h700(),";line-height:",4*i.gridSize(),"px;margin-top:0;outline:none;",(({truncate:e})=>e?"\n        overflow-x: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n      ":null),"")})),r.register("fGGbZ",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({addedFileType:{id:"bitkit.fileTree.addedFileType",defaultMessage:"Added file"},removedFileType:{id:"bitkit.fileTree.removedFileType",defaultMessage:"Removed file"},modifiedFileType:{id:"bitkit.fileTree.modifiedFileType",defaultMessage:"Modified file"},typeChangedFileType:{id:"bitkit.fileTree.typeChangedFileType",defaultMessage:"File type changed"},renamedFileType:{id:"bitkit.fileTree.renamedFileType",defaultMessage:"Renamed file"}})})),r.register("1ODc2",(function(n,o){t(n.exports,"DiffConflictLozenge",(function(){return u}));var i=r("61szk"),a=r("fXlt9"),s=r("4Rd8x"),c=r("7RIig"),l=r("mmz0z");const u=({conflictMessage:t})=>e(i).createElement(s.default,{content:t,position:"bottom"},e(i).createElement(a.default,{appearance:"moved",isBold:!0},e(i).createElement(c.FormattedMessage,l.default.conflictedLabel)))})),r.register("mmz0z",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({conflictedLabel:{id:"frontbucket.repository.pullRequest.diff.conflicted",defaultMessage:"CONFLICTED"}})})),r.register("aWInq",(function(e,n){t(e.exports,"useAnnotations",(function(){return f})),t(e.exports,"useDiffPreferences",(function(){return p})),t(e.exports,"usePermalinks",(function(){return h}));var o=r("61szk"),i=r("6tbO4"),a=r("3geUT"),s=r("csqQL"),c=r("9Cdbs"),l=r("2G27F"),u=r("baY2C"),d=r("gzbOn");const f=e=>{const t=i.useSelector(c.getGlobalIsAnnotationsEnabled),n=i.useSelector((t=>s.getCurrentPullRequestAnnotationsForFile(t,e.to)));return{fileAnnotations:t?n:void 0,isPrAnnotationsEnabled:t}},p=e=>{const t=(()=>{const e=d.useFeature(d.FeatureKeys.isTabSizePreferenceEnabled,!1),t=i.useSelector(c.getGlobalIsColorBlindModeEnabled),n=i.useSelector(c.getGlobalDiffViewMode)===c.DiffViewMode.SideBySide,r=i.useSelector(c.getGlobalTabSize);return{isColorBlindModeEnabled:t,isSideBySide:n,tabSize:e?r:6}})(),n=i.useDispatch(),r=e&&l.extractFilepath(e),u=i.useSelector((e=>r?s.getSideBySideDiffStateForFile(e,r):t.isSideBySide)),f=o.useCallback((()=>r?n(a.toggleSideBySideMode({filePath:r,isSideBySide:!u})):null),[n,u,r]);return{...t,isSideBySide:u,toggleIsSideBySide:f}},h=()=>{const e=i.useDispatch(),t=i.useSelector(s.getActivePermalink),n=u.getPermalink();return{activePermalink:t||n,onPermalinkClick:o.useCallback((t=>e({type:a.ACTIVE_DIFF_PERMALINK,payload:t})),[e]),showPermalinks:!0}}})),r.register("6nAIA",(function(n,o){t(n.exports,"usePullRequestInlineConversations",(function(){return h}));var i=r("61szk"),a=r("6tbO4"),s=r("35ixb"),c=r("4bHBQ"),l=r("hTK5T"),u=r("2G27F"),d=r("6TUHr"),f=r("6fjoo"),p=r("iHXhy");const h=t=>{const{diff:n,editorPopupsMountPointRef:r,onInlineEditorClose:o,onInlineEditorOpen:h,portalParentIdPrefix:g="portal-parent-pr-inline-conversation-"}=t,[m,v]=i.useState(null),b=i.useMemo((()=>n),[n]),y=a.useSelector((e=>c.getInlineConversationsForFile(e,b))),E=a.useSelector(l.getCurrentUserIsAnonymous),x=a.useSelector((e=>c.getOutdatedCommentsCountForFile(e,b))),k=u.extractFilepath(n),C=!!m;i.useEffect((()=>{v(null)}),[y.length,x,v]);const{confirmDiscardComments:S,dialogProps:T,isDialogOpen:O}=f.useDiscardCommentsDialogState(),w=i.useCallback((e=>{const t=()=>v({file:n,lineTo:e.to,lineFrom:e.from});C?S({message:d.default.discardCommentsModalBody__SameFileComment,onConfirmDiscard:()=>{t()}}):t()}),[S,n,C,v]),N=i.useCallback((()=>{v(null)}),[v]),P=i.useCallback((t=>{const n=function(e,t,n){return!(!e||!e.file||!e.lineFrom&&!e.lineTo||e.file.to!==t&&e.file.from!==t||e.lineTo!==n.lineTo||e.lineFrom!==n.lineFrom)}(m,k,t),{lineTo:a,lineFrom:s}=t,c=y.filter((e=>{const{to:t,from:n}=e.meta;return!!a&&t===a||!!s&&n===s}));if(!c.length&&!n)return null;const l=m&&e(i).createElement(p.NewPullRequestConversation,{editorPopupsMountPoint:r.current,meta:{path:k,to:t.lineTo,from:t.lineFrom},portalParentId:`${g}-new`,onEditorOpen:h,onEditorClose:o,onCancel:N});return e(i).createElement(i.Fragment,null,c.map((n=>e(i).createElement(p.PullRequestConversation,{editorPopupsMountPoint:r.current,key:k,conversation:n,meta:{path:k,to:t.lineTo||t.lineFrom},portalParentId:`${g}-${n.conversationId}`,onEditorOpen:h,onEditorClose:o}))),n&&l)}),[y,r,k,N,m,o,h,g]);return{discardCommentsModal:i.useMemo((()=>e(i).createElement(s.ModalTransition,null,O&&e(i).createElement(f.default,T))),[T,O]),onAddInlineComment:E?void 0:w,renderInlineConversations:P}}})),r.register("4BtxV",(function(n,o){t(n.exports,"PullRequestFileConversation",(function(){return h}));var i=r("61szk"),a=r("6tbO4");r("cS0h7");var s=r("cfrnJ"),c=r("4bHBQ"),l=r("2G27F"),u=r("3geUT"),d=r("csqQL"),f=r("iHXhy");const p=({editorPopupsMountPoint:t,file:n})=>{const r=l.extractFilepath(n),o=a.useDispatch(),p=i.useCallback((()=>{o({type:u.CLOSE_FILE_COMMENT,payload:r})}),[o,r]),h=a.useSelector((e=>c.getFileLevelConversationsForFile(e,n))),g=a.useSelector((e=>d.isFileCommentOpen(e,r)));return 0!==h.length||g?e(i).createElement(s.TopLevelInlineContent,null,e(i).createElement(s.InlineContentContainer,null,e(i).createElement(e(i).Fragment,null,h.map((n=>e(i).createElement(f.PullRequestConversation,{key:`${n.conversationId}-${n.createdAt}`,editorPopupsMountPoint:t,conversation:n,meta:{path:r},portalParentId:`portal-parent-pr-file-conversation-${n.conversationId}`}))),g&&e(i).createElement(f.NewPullRequestConversation,{editorPopupsMountPoint:t,onCancel:p,meta:{path:l.extractFilepath(n)},portalParentId:"portal-parent-pr-file-conversation-new"})))):null},h=e(i).memo(p)})),r.register("d4DYL",(function(e,n){t(e.exports,"default",(function(){return s})),r("61szk");var o=r("6tbO4"),i=r("4bHBQ"),a=r("33uwO");var s=o.connect(((e,t)=>{const{file:n}=t;return{count:n?i.getOutdatedCommentsCountForFile(e,n):0}}))(a.OutdatedCommentsButton)})),r.register("33uwO",(function(n,o){t(n.exports,"OutdatedCommentsButton",(function(){return g}));var i=r("jgze0"),a=r("61szk"),s=r("6tbO4"),c=r("7RIig"),l=r("7HEfz"),u=r("2G27F"),d=r("3geUT"),f=r("bx4mk"),p=r("4AoMz");const h=t=>{const n=s.useDispatch(),{count:r,file:o}=t;if(!r)return null;const h=u.extractFilepath(o);return e(a).createElement(p.OutdatedCommentsButtonWrapper,null,e(a).createElement(l.default,{onClick:e=>{e.stopPropagation(),n({type:d.OPEN_OUTDATED_COMMENTS_DIALOG,payload:h})},spacing:"compact"},e(a).createElement(c.FormattedMessage,e(i)({},f.messages.trigger,{values:{number_of_outdated_comments:r},tagName:"strong"}))))},g=e(a).memo(h)})),r.register("bx4mk",(function(e,n){t(e.exports,"messages",(function(){return o}));const o=r("7RIig").defineMessages({trigger:{id:"frontbucket.repository.pullRequest.outdatedComments.trigger",defaultMessage:"{number_of_outdated_comments, plural, one {{number_of_outdated_comments} outdated comment} other {{number_of_outdated_comments} outdated comments}}"}})})),r.register("4AoMz",(function(e,n){t(e.exports,"OutdatedCommentsButtonWrapper",(function(){return o}));const o=r("eQkAL").default("div",{target:"emjkauh0"})({name:"u70tf2",styles:"cursor:auto;"})})),r.register("aAMb9",(function(n,o){t(n.exports,"default",(function(){return s}));var i=r("2l34k"),a=r("aq9Em"),s=e(i)({loading:a.HiddenLoader,loader:()=>r("3s9tG"),modules:["../components/outdated-annotations-button"],webpack:()=>[(void 0)("../components/outdated-annotations-button")]})})),r.register("3s9tG",(function(e,t){e.exports=Promise.all([r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("a1n8n")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("a1Kn1")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("12KLm")),r("1voE5")(r("a28Ji").getBundleURL("bZbXx")+r("l6272").resolve("fZKIS"))]).then((()=>r("4m9kL")))})),r.register("laz9k",(function(e,n){t(e.exports,"DiffActionsMenu",(function(){return r("8GhtH").BaseDiffActionsMenu}));r("8GhtH")})),r.register("8GhtH",(function(n,o){t(n.exports,"BaseDiffActionsMenu",(function(){return T}));var i=r("eQkAL"),a=r("61szk"),s=r("6tbO4"),c=r("7RIig"),l=r("ePZvc"),u=r("jiqGt"),d=r("cNHiQ"),f=r("6aCAs"),p=r("3GKKo"),h=r("9Cdbs"),g=r("1nrj3"),m=r("6TUHr"),v=r("aD6Wt"),b=r("kfw3K"),y=r("atKkw"),E=r("gC0YR"),x=r("6pGTH");const k=i.default("div",{target:"ez4gojp0"})("border-bottom:1px solid ",f.colors.N40,";&:last-child{border-bottom:none;}"),C=e(a).memo((t=>{const{children:n,title:r}=t;return e(a).createElement(k,null,e(a).createElement(d.ItemGroup,{label:r,role:"menu"},n))})),S=e(a).memo((({filepath:t,onDiffActionsMenuClicked:n,onSideBySide:r,isDeleted:o,isSideBySide:i,isViewEntireFileSupported:d=!1})=>{const f=p.useIntl(),k=s.useDispatch(),S=a.useCallback((()=>{k(g.viewEntireFile(t))}),[t,k]),T=s.useSelector(h.getGlobalIsAnnotationsEnabled);return e(a).createElement(u.default,{triggerType:"button",position:"bottom right",triggerButtonProps:{appearance:"subtle",iconBefore:e(a).createElement(e(l),{label:f.formatMessage(m.default.diffActionsButtonLabel)})},onOpenChange:n},e(a).createElement(C,{title:f.formatMessage(m.default.thisFile)},r&&e(a).createElement(y.ToggleSideBySideItem,{onSideBySide:r,isSideBySide:!!i}),d&&e(a).createElement(u.DropdownItem,{"data-qa":"pr-diff-file-view-entire-file",key:"file-actions-menu-view-entire-file",onClick:S},e(a).createElement(c.FormattedMessage,m.default.viewEntireFile)),e(a).createElement(x.ViewSourceItem,{isDeleted:o,filepath:t}),T?e(a).createElement(E.ToggleAnnotationsItem,{filepath:t}):null),e(a).createElement(C,{title:f.formatMessage(m.default.allFiles)},e(a).createElement(v.default,{key:"file-actions-menu-collapse-all"},e(a).createElement(c.FormattedMessage,m.default.collapseAll)),e(a).createElement(b.default,{key:"file-actions-menu-expand-all"},e(a).createElement(c.FormattedMessage,m.default.expandAll))))})),T=c.injectIntl(S)})),r.register("aD6Wt",(function(e,n){t(e.exports,"default",(function(){return s})),r("61szk");var o=r("6tbO4"),i=r("jiqGt"),a=r("3geUT");var s=o.connect(null,(e=>({onClick:()=>{e({type:a.COLLAPSE_ALL_DIFFS}),e(a.publishPullRequestUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"pullRequestCollapseFilesButton"}))}})))(i.DropdownItem)})),r.register("kfw3K",(function(e,n){t(e.exports,"default",(function(){return s})),r("61szk");var o=r("6tbO4"),i=r("jiqGt"),a=r("3geUT");var s=o.connect(null,(e=>({onClick:()=>{e({type:a.EXPAND_ALL_DIFFS}),e(a.publishPullRequestUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"pullRequestExpandFilesButton"}))}})))(i.DropdownItem)})),r.register("atKkw",(function(n,o){t(n.exports,"ToggleSideBySideItem",(function(){return u}));var i=r("61szk"),a=r("jiqGt"),s=r("7RIig"),c=r("9Rzst"),l=r("6TUHr");const u=({onSideBySide:t,isSideBySide:n})=>e(i).createElement(c.ResponsiveSideBySideModeDisabledTooltip,{position:"top"},(r=>e(i).createElement(a.DropdownItem,{"data-qa":"pr-diff-file-side-by-side",key:"file-actions-menu-sbs",onClick:t,isDisabled:r},n?e(i).createElement(s.FormattedMessage,l.default.unifiedDiff):e(i).createElement(s.FormattedMessage,l.default.sideBySide))))})),r.register("9Rzst",(function(n,o){t(n.exports,"ResponsiveSideBySideModeDisabledTooltip",(function(){return p}));var i=r("jgze0"),a=r("4Rd8x"),s=r("61szk"),c=r("7RIig"),l=r("6tbO4"),u=r("3GKKo"),d=r("gFE2z");const f=c.defineMessages({toolTipSideBySideDisabled:{id:"frontbucket.repository.pullRequest.toolTipSideBySideDisabled",defaultMessage:"Side-by-side is unavailable"}}),p=t=>{const{children:n,...r}=t,o=u.useIntl(),c=l.useSelector(d.getIsMobileHeaderActive);return c?e(s).createElement(a.default,e(i)({},r,{content:o.formatMessage(f.toolTipSideBySideDisabled)}),n(c)):n(c)}})),r.register("gC0YR",(function(n,o){t(n.exports,"ToggleAnnotationsItem",(function(){return f}));var i=r("61szk"),a=r("6tbO4"),s=r("jiqGt"),c=r("7RIig"),l=r("3geUT"),u=r("csqQL"),d=r("6TUHr");const f=e(i).memo((({filepath:t})=>{const n=a.useDispatch(),r=i.useCallback((()=>{n(l.toggleAnnotations(t))}),[t,n]),o=a.useSelector(u.getHiddenAnnotations);return e(i).createElement(s.DropdownItem,{"data-qa":"pr-diff-file-annotations",key:"file-actions-menu-annotations",onClick:r},o.includes(t)?e(i).createElement(c.FormattedMessage,d.default.showAnnotations):e(i).createElement(c.FormattedMessage,d.default.hideAnnotations))}))})),r.register("6pGTH",(function(n,o){t(n.exports,"ViewSourceItem",(function(){return f}));var i=r("61szk"),a=r("6tbO4"),s=r("7RIig"),c=r("jiqGt"),l=r("3geUT"),u=r("9hhAR"),d=r("6TUHr");const f=({filepath:t,isDeleted:n})=>{const r=a.useDispatch(),o=i.useMemo((()=>e(i).forwardRef((({className:o},a)=>e(i).createElement(u.default,{className:o,filepath:t,target:"_blank",isDeleted:!!n,ref:a,role:"menuitem",onClick:()=>r(l.publishPullRequestUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"pullRequestOpenInSourceButton"}))},e(i).createElement(s.FormattedMessage,d.default.viewFile))))),[r,t,n]);return e(i).createElement(c.DropdownItem,{key:"file-actions-menu-view",linkComponent:o})}})),r.register("9hhAR",(function(e,n){t(e.exports,"default",(function(){return c}));var o=r("6tbO4"),i=r("csqQL"),a=r("5z5yM"),s=r("dqDXg");var c=o.connect(((e,t)=>{const{isDeleted:n,filepath:r}=t,o=n?i.getPullRequestDestinationRepo(e):i.getPullRequestSourceRepo(e),s=o?o.full_name:"",c=n?i.getPullRequestDestinationHash(e):i.getPullRequestSourceHash(e)||"";return{viewHref:a.default.ui.source(s,{refOrHash:c,path:r})}}),null,null,{forwardRef:!0})(s.SourceViewLink)})),r.register("dqDXg",(function(n,o){t(n.exports,"SourceViewLink",(function(){return s}));var i=r("61szk"),a=r("5KQyd");const s=e(i).forwardRef(((t,n)=>e(i).createElement(a.Link,{to:t.viewHref,target:t.target,className:t.className,innerRef:n,role:t.role,onClick:t.onClick},t.children)))})),r.register("2mCPQ",(function(e,n){t(e.exports,"useViewEntireFileState",(function(){return l})),t(e.exports,"useIsViewEntireFileSupported",(function(){return u}));var o=r("61szk"),i=r("6tbO4"),a=r("csqQL"),s=r("1nrj3"),c=r("fhnJI");const l=()=>{const e=i.useDispatch(),t=i.useSelector(s.getViewEntireFilePath),n=i.useSelector(s.getViewEntireFileParsedDiffFile),r=i.useSelector((e=>a.getFileDiffStatus(e,t))),c="renamed"===r?null==n?void 0:n.from:void 0,l=i.useSelector(s.getIsViewEntireFileTooLarge),u=i.useSelector(s.getViewEntireFileHasError),d=i.useSelector(s.getIsViewEntireFileLoading),f=o.useCallback((()=>e(s.closeViewEntireFileDialog())),[e]),p=o.useCallback((()=>e(s.finishedClosingViewEntireFileDialog())),[e]);return{diffFile:n,isTooLarge:l,hasError:u,isLoading:d,path:t,prevFilePath:c,fileDiffStatus:r,handleClose:f,handleCloseComplete:p}},u=e=>{const t=i.useSelector(a.getIsSingleFileModeActive),n=i.useSelector(a.getPullRequestRenderingLimits);return c.hasRenderableLines(e,t,n)}})),r.register("a3oNS",(function(n,o){t(n.exports,"FileLevelAddCommentButton",(function(){return v}));var i=r("61szk"),a=r("6tbO4"),s=r("7HEfz"),c=r("4Rd8x"),l=r("hh6j7"),u=r("3geUT"),d=r("3GKKo"),f=r("gZ4Uf"),p=r("jMOUG"),h=r("72NFd"),g=r("3N0On");const m=t=>{const{filePath:n}=t,r=p.getFileHref(n),o=d.useIntl(),m=a.useDispatch(),v=i.useCallback((()=>{m({type:u.OPEN_FILE_COMMENT,payload:n})}),[n,m]);return e(i).createElement(g.FileLevelAddCommentButtonWrapper,null,e(i).createElement(c.default,{content:o.formatMessage(h.default.addFileLevelCommentToolTip)},e(i).createElement(s.default,{"data-qa":"pr-diff-file-comment",onClick:e=>{e.stopPropagation(),v(),m(u.scrollToAnchor(r)),f.publishUiEvent({action:"clicked",actionSubject:"button",actionSubjectId:"fileLevelAddCommentButton",source:"pullRequestScreen"})},appearance:"subtle",iconBefore:e(i).createElement(e(l),{label:o.formatMessage(h.default.addFileLevelCommentButtonLabel)})})))},v=e(i).memo(m)})),r.register("hh6j7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=void 0;var n,o=(n=r("61szk"))&&n.__esModule?n:{default:n},i=r("050F7");const a=e=>o.default.createElement(i.Icon,Object.assign({dangerouslySetGlyph:'<svg width="24" height="24" viewBox="0 0 24 24" role="presentation"><g fill="currentColor" fill-rule="evenodd"><path d="M14 4.187A10.704 10.704 0 0012 4c-4.963 0-9 3.37-9 7.513s4.037 7.514 9 7.514c1.42 0 2.76-.285 3.957-.776 1.003 1.022 2.287 1.572 3.24 1.719l.002-.003a.524.524 0 00.164.033.515.515 0 00.474-.716v-.002s-1.563-2.26-.766-3.116l-.037.02C20.261 14.902 21 13.279 21 11.513a6.34 6.34 0 00-.02-.513h-2.008c.02.169.03.34.03.513 0 3.039-3.141 5.51-7.002 5.51-3.861 0-7.002-2.471-7.002-5.51 0-3.038 3.141-5.51 7.002-5.51.695 0 1.366.08 2 .229V4.187z"/><rect x="17" y="4" width="2" height="6" rx="1"/><rect x="15" y="6" width="6" height="2" rx="1"/></g></svg>'},e));a.displayName="MediaServicesAddCommentIcon";var s=a;e.exports.default=s})),r.register("72NFd",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({addFileLevelCommentToolTip:{id:"frontbucket.repository.pullRequest.addFileLevelCommentToolTip",defaultMessage:"Add comment"},addFileLevelCommentButtonLabel:{id:"frontbucket.repository.pullRequest.addFileLevelCommentButtonLabel",defaultMessage:"Add file-level comment"}})})),r.register("3N0On",(function(e,n){t(e.exports,"FileLevelAddCommentButtonWrapper",(function(){return a}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("div",{target:"eoqkmio0"})("cursor:auto;margin-left:",i.gridSize(),"px;")})),r.register("8c477",(function(e,n){t(e.exports,"useCommentDetailsForFile",(function(){return a}));var o=r("6tbO4"),i=r("4bHBQ");const a=e=>(e=>{let t=!1,n=0;return e.forEach((e=>{e.meta.outdated?n+=e.comments.length:t=!0})),{hasCurrentComments:t,outdatedCommentCount:n}})(o.useSelector((t=>i.getAllConversationsForFile(t,e))))})),r.register("8Q1LS",(function(e,n){t(e.exports,"useShowOutdatedCommentsForFile",(function(){return c}));var o=r("6tbO4"),i=r("61szk"),a=r("2G27F"),s=r("3geUT");const c=e=>{const t=o.useDispatch(),n=a.extractFilepath(e);return i.useCallback((()=>{t({type:s.OPEN_OUTDATED_COMMENTS_DIALOG,payload:n})}),[t,n])}})),r.register("JLokA",(function(e,n){t(e.exports,"ImageDiff",(function(){return r("fUW9b").default}));r("fUW9b")})),r.register("fUW9b",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("6tbO4");r("fBRe7");var i=r("cYP7G"),a=r("3geUT"),s=r("csqQL"),c=r("4RyqT"),l=r("gFE2z"),u=r("2G27F"),d=r("wRx0r"),f=r("6QRy7");var p=o.connect((function(e,t){const n=c.getIsHorizontalNavEnabled(e);let r=l.getCombinedBannerAndHorizontalNavHeight(e,!1);n||(r+=d.STICKY_HEADER_HEIGHT_OFFSET);const{owner:o,slug:i}=s.getCurrentPullRequestUrlPieces(e),a=s.getPullRequestDestinationHash(e),u=s.getPullRequestSourceHash(e),{file:p}=t,{afterUrl:h,beforeUrl:g}=f.getSourceUrls({file:p,sourceHash:u||"",destinationHash:a||"",fileDiffStatus:p.fileDiffStatus,repoFullName:`${o}/${i}`});return{afterUrl:h,beforeUrl:g,stickyHeaderOffset:r}}),(function(e){return{onExpand:(t,n)=>e({type:a.TOGGLE_DIFF_EXPANSION,payload:{filepath:t,isOpening:n}})}}),(function(e,t,n){const{onExpand:r,...o}=t,{isOpen:i,file:a}=n,s=u.extractFilepath(a);return{...e,...o,filepath:s,toggleExpanded:()=>r(s,!i),prevFilepath:u.extractPrevFilepath(a),...n}}))(i.default)})),r.register("fBRe7",(function(e,n){t(e.exports,"ImageDiff",(function(){return r("cYP7G").default}));r("cYP7G")})),r.register("cYP7G",(function(n,o){t(n.exports,"default",(function(){return y}));var i=r("61szk"),a=r("6tbO4"),s=r("6xBaZ"),c=r("gTiU4"),l=r("2k202"),u=r("3GKKo"),d=r("hTK5T");r("laz9k");var f=r("8GhtH"),p=r("1ODc2"),h=r("4BtxV"),g=r("a3oNS"),m=r("8OcG7"),v=r("dJD7N");function b(t){const{file:n,filepath:r,prevFilepath:o,isOpen:b,toggleExpanded:y,stickyHeaderOffset:E}=t,{fileDiffStatus:x}=n,[k,C]=i.useState(!1),S=e(i).createElement(f.BaseDiffActionsMenu,{onSideBySide:void 0,onAddComment:void 0,filepath:r,isDeleted:x===s.DiffStatStatus.Removed,onDiffActionsMenuClicked:e=>C(e.isOpen)}),T=u.useIntl(),{isConflicted:O,conflictMessage:w}=n,N=i.useCallback((()=>O&&w?e(i).createElement(p.DiffConflictLozenge,{conflictMessage:w}):void 0),[O,w]),P=a.useSelector(d.getCurrentUserIsAnonymous);return e(i).createElement(l.FileStateless,{dropdownMenu:S,filePath:r,hasStickyHeader:!0,icon:e(i).createElement(c.DiffStatusIcon,{fileDiffStatus:x}),isCollapsible:!0,isDropdownMenuOpen:k,isExpanded:b,prevFilePath:o,renderAfterFilePath:N,stickyHeaderOffset:E,toggleExpanded:y,renderBeforeActions:()=>e(i).createElement(e(i).Fragment,null,P?null:e(i).createElement(g.FileLevelAddCommentButton,{filePath:r}))},e(i).createElement(h.PullRequestFileConversation,{file:n}),function(t,n){const{file:r,beforeUrl:o,afterUrl:a}=n;switch(r.fileDiffStatus){case s.DiffStatStatus.Added:{const n=t.formatMessage(m.default.added);return e(i).createElement(v.ImageDiffContentAfter,{title:n,source:a})}case s.DiffStatStatus.Removed:{const n=t.formatMessage(m.default.removed);return e(i).createElement(v.ImageDiffContentBefore,{title:n,source:o})}case s.DiffStatStatus.BinaryConflict:case s.DiffStatStatus.Modified:{const n=t.formatMessage(m.default.before),r=t.formatMessage(m.default.after);return e(i).createElement(v.TwoUp,null,e(i).createElement(v.ImageDiffContentBefore,{title:n,source:o}),e(i).createElement(v.ImageDiffContentAfter,{title:r,source:a}))}default:return null}}(T,t))}b.defaultProps={toggleExpanded:()=>{}};var y=e(i).memo(b)})),r.register("8OcG7",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({error:{id:"frontbucket.imageDiffs.error",defaultMessage:"We couldn't load this image."},before:{id:"frontbucket.imageDiffs.before",defaultMessage:"Before"},after:{id:"frontbucket.imageDiffs.after",defaultMessage:"After"},removed:{id:"frontbucket.imageDiffs.removed",defaultMessage:"Removed"},added:{id:"frontbucket.imageDiffs.added",defaultMessage:"Added"},oldImage:{id:"frontbucket.imageDiffs.oldImage",defaultMessage:"Old image"},newImage:{id:"frontbucket.imageDiffs.newImage",defaultMessage:"New image"},width:{id:"frontbucket.imageDiffs.width",defaultMessage:"width"},height:{id:"frontbucket.imageDiffs.height",defaultMessage:"height"}})})),r.register("dJD7N",(function(e,n){t(e.exports,"TwoUp",(function(){return c})),t(e.exports,"ImageDiffContentBefore",(function(){return u})),t(e.exports,"ImageDiffContentAfter",(function(){return d}));var o=r("eQkAL"),i=r("6aCAs"),a=r("bIFRd"),s=r("5ZDSV");const c=o.default("div",{target:"e11u78040"})("display:flex;",a.media.upToLarge("\n    display: block;\n  "),""),l=o.default(s.default,{target:"e11u78041"})("display:flex;flex-direction:column;align-items:center;justify-content:space-between;width:100%;padding:",2*i.gridSize(),"px;box-sizing:border-box;"),u=o.default(l,{target:"e11u78042"})("background:",i.colors.R50,";color:",i.colors.R500,";"),d=o.default(l,{target:"e11u78043"})("background:",i.colors.G50,";color:",i.colors.G500,";")})),r.register("5ZDSV",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("61szk"),a=r("5KO9k"),s=r("fUikn");function c(t){const{className:n,source:r,title:o}=t,c=i.useRef(null),[l,u]=i.useState([null,null]),[d,f]=i.useState(!1),p=i.useCallback((()=>{const e=c.current;e&&u([e.naturalWidth,e.naturalHeight])}),[]),h=i.useCallback((()=>{f(!0)}),[]),g=null!==l[0]&&null!==l[1];return d?e(i).createElement(a.BrokenImageDiff,null):e(i).createElement("div",{className:n,"data-testid":"image-diff"},e(i).createElement(s.ImageWrapper,null,e(i).createElement(s.Title,null,o),e(i).createElement(s.Image,{ref:c,src:r,onLoad:p,onError:h})),g&&e(i).createElement("div",null,e(i).createElement(s.Dimension,null,e(i).createElement(s.DimensionKey,null,"W:")," ",l[0]),e(i).createElement(s.Dimension,null,e(i).createElement(s.DimensionKey,null,"H:")," ",l[1])))}var l=e(i).memo(c)})),r.register("5KO9k",(function(n,o){t(n.exports,"BrokenImageDiff",(function(){return d}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig"),c=r("jGTl1"),l=r("lRpZr"),u=r("8OcG7");const d=()=>e(a).createElement(l.CenteredGenericMessage,{iconType:"error",title:e(a).createElement(s.FormattedMessage,c.default.errorHeading)},e(a).createElement(s.FormattedMessage,e(i)({tagName:"p"},u.default.error,{values:{contactLink:e(a).createElement("a",{href:"https://support.atlassian.com/"},"support.atlassian.com")}})))})),r.register("lRpZr",(function(e,n){t(e.exports,"CenteredGenericMessage",(function(){return a}));var o=r("eQkAL"),i=r("8eTKm");const a=o.default(i.default,{target:"e34ckyy0"})({name:"a8wzba",styles:"margin:auto;width:100%;box-sizing:border-box;"})})),r.register("fUikn",(function(e,n){t(e.exports,"Image",(function(){return s})),t(e.exports,"Title",(function(){return c})),t(e.exports,"Dimension",(function(){return l})),t(e.exports,"DimensionKey",(function(){return u})),t(e.exports,"ImageWrapper",(function(){return d}));var o=r("eQkAL"),i=r("6aCAs");const a=i.colors.N20,s=o.default("img",{target:"ek9b3rq0"})("margin:",2*i.gridSize(),"px 0;border:3px solid;border-radius:3px;max-width:60%;max-height:",65*i.gridSize(),"px;background-size:20px 20px;background-position:0 0,0 10px,10px -10px,-10px 0;background-image:linear-gradient(45deg,",a," 25%,transparent 25%),linear-gradient(-45deg,",a," 25%,transparent 25%),linear-gradient(45deg,transparent 75%,",a," 75%),linear-gradient(-45deg,white 75%,",a," 75%);"),c=o.default("div",{target:"ek9b3rq1"})({name:"1lejymi",styles:"text-transform:uppercase;"}),l=o.default("span",{target:"ek9b3rq2"})("& + &::before{content:' | ';color:",i.colors.N800,";}"),u=o.default("strong",{target:"ek9b3rq3"})("font-weight:700;color:",i.colors.N800,";"),d=o.default("div",{target:"ek9b3rq4"})({name:"dvxtzn",styles:"display:flex;flex-direction:column;align-items:center;"})})),r.register("6QRy7",(function(e,n){t(e.exports,"getSourceUrls",(function(){return a}));var o=r("lc4uJ"),i=r("6xBaZ");function a({sourceHash:e,destinationHash:t,fileDiffStatus:n,file:r,repoFullName:a}){let s="",c="";switch(n){case i.DiffStatStatus.Added:s=o.v20.source(a,e,r.to);break;case i.DiffStatStatus.Removed:c=o.v20.source(a,t,r.from);break;case i.DiffStatStatus.BinaryConflict:case i.DiffStatStatus.Modified:c=o.v20.source(a,t,r.to),s=o.v20.source(a,e,r.from)}return{afterUrl:s,beforeUrl:c}}})),r.register("9NRBR",(function(e,n){t(e.exports,"BinaryDiff",(function(){return r("b3qAl").default})),t(e.exports,"EmptyDiff",(function(){return r("lChGx").default})),t(e.exports,"ExcludedDiff",(function(){return r("4zofz").default})),t(e.exports,"ExcessiveDiff",(function(){return r("1B20g").default})),t(e.exports,"HiddenDiff",(function(){return r("cETNW").default})),t(e.exports,"FileContentsUnchangedDiff",(function(){return r("4h3u4").default}));r("b3qAl"),r("lChGx"),r("4zofz"),r("1B20g"),r("cETNW"),r("4h3u4")})),r.register("b3qAl",(function(n,o){t(n.exports,"default",(function(){return p}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig"),c=r("2G27F"),l=r("3xd9F"),u=r("cETNW"),d=r("9ODVI");class f extends a.PureComponent{render(){const{file:t,isOpen:n}=this.props,r=c.extractFilepath(t);return e(a).createElement(u.default,{file:t,isOpen:n,heading:e(a).createElement(s.FormattedMessage,d.default.heading),description:e(a).createElement(s.FormattedMessage,e(i)({tagName:"p"},d.default.description)),actions:e(a).createElement("li",null,e(a).createElement(l.default,{filepath:r,target:"_blank"},e(a).createElement(s.FormattedMessage,d.default.action)))})}}f.defaultProps={isOpen:!0};var p=s.injectIntl(f)})),r.register("3xd9F",(function(e,n){t(e.exports,"default",(function(){return l}));var o=r("6tbO4"),i=r("csqQL"),a=r("69smv"),s=r("5z5yM"),c=r("dqDXg");var l=o.connect(((e,t)=>{const n=a.getCurrentRepositoryFullSlug(e)||"",r=i.getPullRequestSourceHash(e),o={source:i.getPullRequestDestinationHash(e)||"",destination:r||""};return{viewHref:s.default.ui.diff(n,t.filepath,o)}}),(()=>({})))(c.SourceViewLink)})),r.register("cETNW",(function(n,o){t(n.exports,"default",(function(){return E}));var i=r("61szk"),a=r("6tbO4"),s=r("2k202"),c=r("8eTKm"),l=r("2G27F"),u=r("gTiU4"),d=r("3geUT"),f=r("hTK5T"),p=r("wRx0r"),h=r("a3oNS"),g=r("4BtxV");r("laz9k");var m=r("8GhtH"),v=r("1ODc2"),b=r("l7vWM");class y extends i.PureComponent{render(){const{isDiffActionsMenuOpen:t}=this.state,{file:n,heading:r,description:o,actions:a,isOpen:d,onExpand:f,isCurrentUserAnonymous:y}=this.props,{conflictMessage:E,fileDiffStatus:x,isConflicted:k}=n,C=l.extractFilepath(n),S=e(i).createElement(m.BaseDiffActionsMenu,{filepath:C,onDiffActionsMenuClicked:e=>this.setState({isDiffActionsMenuOpen:e.isOpen})});return e(i).createElement(s.FileStateless,{dropdownMenu:S,icon:x?e(i).createElement(u.DiffStatusIcon,{fileDiffStatus:x}):void 0,isCollapsible:!0,isDropdownMenuOpen:t,isExpanded:d,toggleExpanded:()=>f(C,!d),filePath:C,prevFilePath:l.extractPrevFilepath(n),renderAfterFilePath:k&&E?()=>e(i).createElement(v.DiffConflictLozenge,{conflictMessage:E}):void 0,hasStickyHeader:!0,stickyHeaderOffset:p.STICKY_HEADER_HEIGHT_OFFSET,renderBeforeActions:()=>e(i).createElement(e(i).Fragment,null,y?null:e(i).createElement(h.FileLevelAddCommentButton,{filePath:C}))},e(i).createElement(g.PullRequestFileConversation,{file:n}),e(i).createElement(c.default,{iconType:"info",title:r},o&&o,a&&e(i).createElement(b.ActionsList,null,a)))}constructor(...e){super(...e),this.state={isDiffActionsMenuOpen:!1}}}y.defaultProps={isOpen:!0,onExpand:()=>{}};var E=a.connect((e=>({isCurrentUserAnonymous:f.getCurrentUserIsAnonymous(e)})),(e=>({onExpand:(t,n)=>e({type:d.TOGGLE_DIFF_EXPANSION,payload:{filepath:t,isOpening:n}})})))(y)})),r.register("l7vWM",(function(e,n){t(e.exports,"ActionsList",(function(){return a}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("ul",{target:"ef0x1bd0"})("list-style:none;padding-left:0;margin-top:",1.5*i.gridSize(),"px;li{display:inline-block;&:not(:first-child){margin-left:",.5*i.gridSize(),"px;&::before{content:'\xb7';margin-right:",.5*i.gridSize(),"px;}}}")})),r.register("9ODVI",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({heading:{id:"frontbucket.diff.binary.heading",defaultMessage:"Binary file"},description:{id:"frontbucket.diff.binary.description",defaultMessage:"We can't show you the diff for this binary file here, but you can open the diff in a new tab instead."},action:{id:"frontbucket.diff.binary.action",defaultMessage:"Open file's diff"}})})),r.register("lChGx",(function(n,o){t(n.exports,"default",(function(){return d}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig"),c=r("cETNW"),l=r("59647");class u extends a.PureComponent{render(){const{file:t,isOpen:n}=this.props;return e(a).createElement(c.default,{file:t,isOpen:n,heading:e(a).createElement(s.FormattedMessage,l.default.heading),description:e(a).createElement(s.FormattedMessage,e(i)({tagName:"p"},l.default.description))})}}u.defaultProps={isOpen:!0};var d=s.injectIntl(u)})),r.register("59647",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({heading:{id:"frontbucket.diff.emptyDiff.heading",defaultMessage:"Empty diff"},description:{id:"frontbucket.diff.emptyDiff.description",defaultMessage:"The diff for this file is empty."}})})),r.register("4zofz",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig"),c=r("6tbO4"),l=r("2yydb"),u=r("69smv"),d=r("clBu2"),f=r("2G27F"),p=r("3xd9F");r("g8FES");var h=r("kCvva"),g=r("cETNW"),m=r("hBbPQ");class v extends a.PureComponent{render(){const{file:t,repoSlug:n,pattern:r,isOpen:o,userLevel:c}=this.props,l=f.extractFilepath(t);return e(a).createElement(g.default,{file:t,isOpen:o,heading:e(a).createElement(s.FormattedMessage,m.default.heading),description:e(a).createElement(s.FormattedMessage,e(i)({tagName:"p"},m.default.description,{values:{pattern:r}})),actions:e(a).createElement(a.Fragment,null,e(a).createElement(h.default,{file:t}),e(a).createElement("li",null,e(a).createElement(p.default,{filepath:l,target:"_blank"},e(a).createElement(s.FormattedMessage,m.default.action))),e(a).createElement("li",null,"admin"===c?e(a).createElement("a",{href:d.default.ui.excludedFiles(n),target:"_blank"},e(a).createElement(s.FormattedMessage,m.default.adminLinkText)):e(a).createElement("a",{href:d.default.external.excludedFilesLearnMore,target:"_blank"},e(a).createElement(s.FormattedMessage,m.default.defaultLinkText))))})}}v.defaultProps={isOpen:!0};var b=l.compose(s.injectIntl,c.connect((e=>({repoSlug:u.getCurrentRepositoryFullSlug(e),userLevel:u.getRepositoryAccessLevel(e)}))))(v)})),r.register("g8FES",(function(e,n){t(e.exports,"DiffCommentsDialogTrigger",(function(){return r("kCvva").default})),t(e.exports,"DiffCommentsDialog",(function(){return r("3UFZl").default}));r("kCvva"),r("3UFZl")})),r.register("kCvva",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("61szk"),a=r("6tbO4"),s=r("2yydb"),c=r("7RIig"),l=r("7HEfz"),u=r("4bHBQ"),d=r("3geUT"),f=r("2G27F"),p=r("9JKyV");var h=s.compose(a.connect((function(e,{file:t}){return{commentsCount:u.getCommentsCountForFile(e,t)}}),(function(e,{file:t}){const n=f.extractFilepath(t);return{onClick:()=>e({type:d.OPEN_DIFF_COMMENTS_DIALOG,payload:n})}})),c.injectIntl)((function(t){const{intl:n,commentsCount:r,onClick:o}=t;return r?e(i).createElement("li",null,e(i).createElement(l.default,{appearance:"link",onClick:o,spacing:"none"},n.formatMessage(p.default.title,{commentsCount:r}))):null}))})),r.register("9JKyV",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({title:{id:"frontbucket.diffCommentDialogTrigger.title",defaultMessage:"{commentsCount, plural, one {View ({commentsCount}) comment } other {View ({commentsCount}) comments }}"}})})),r.register("3UFZl",(function(e,n){t(e.exports,"default",(function(){return p}));var o=r("6tbO4"),i=r("2yydb"),a=r("7RIig"),s=r("4bHBQ"),c=r("csqQL"),l=r("3geUT"),u=r("2G27F"),d=r("iI2oe"),f=r("heFOH");var p=i.compose(a.injectIntl,o.connect((function(e,t){const n=t.file||c.getDiffCommentsDialogFile(e);return{file:n,commentsCount:s.getCommentsCountForFile(e,n),conversations:s.getAllConversationsForFile(e,n)}}),(function(e){return{dispatchContextLines:t=>e({type:l.FETCH_LARGE_FILE_COMMENT_CONTEXT.REQUEST,payload:{file:t}}),onClose:()=>e({type:l.CLOSE_DIFF_COMMENTS_DIALOG})}}),(function(e,t,n){const{file:r,commentsCount:o}=e,{intl:i}=n,a=u.extractFilepath(r);return{...e,...t,...n,fetchContextLines:()=>t.dispatchContextLines(r),isFileOutdated:!1,heading:i.formatMessage(f.default.dialogHeading,{filepath:a,commentsCount:o})}})))(d.default)})),r.register("iI2oe",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("bRFz3").default})),r.register("bRFz3",(function(n,o){t(n.exports,"default",(function(){return M}));var i=r("jgze0"),a=r("61szk"),s=r("6tbO4"),c=r("7RIig"),l=r("35ixb"),u=r("7HEfz"),d=r("fXlt9"),f=r("8bSrm"),p=r("1HQ2H"),h=r("6Waqh"),g=r("2k202"),m=r("kTG4R"),v=r("cfeYi"),b=r("csqQL"),y=r("4bHBQ"),E=r("baY2C"),x=r("fxs9M"),k=r("2G27F"),C=r("5RU8C"),S=r("3geUT"),T=r("gsw9K"),O=r("9Cdbs"),w=r("lqcET"),N=r("6fjoo"),P=r("iHXhy"),A=r("aH5VA"),I=r("cdxGC");const D="#comment-";class R extends a.Component{componentDidMount(){this.fetchContextLinesIfNeeded()}shouldComponentUpdate(e){return!this.props.conversations.every(((t,n)=>t===e.conversations[n]))||e.location.hash!==this.props.location.hash}componentDidUpdate(e){this.fetchContextLinesIfNeeded(),e.location.hash.startsWith(D)&&!this.props.location.hash.startsWith(D)&&this.props.onClose()}render(){const{conversations:t,heading:n,file:r,isFileOutdated:o,isColorBlindModeEnabled:s,isLoadingOutdatedCommentContext:f}=this.props,{showDiscardCommentsDialog:b}=this.state;if(!r)return null;const y=k.extractFilepath(r),E=n||e(a).createElement(c.FormattedMessage,I.default.title),x=t=>e(a).createElement(P.PullRequestConversation,{conversation:t,key:t.conversationId,portalParentId:`portal-parent-pr-dialog-conversation-${t.conversationId}`,meta:{path:y,to:r.to||r.from},onEditorOpen:this.handleEditorOpen,onEditorClose:this.handleEditorClose}),S=(t,n)=>e(a).createElement(g.default,{filePath:n.meta.path||"",prevFilePath:k.extractPrevFilepath(r),isCollapsible:!1,toggleExpanded:()=>{},renderBeforeActions:()=>o&&e(a).createElement(d.default,{appearance:"moved"},e(a).createElement(c.FormattedMessage,I.default.fileHeaderLozenge))},e(a).createElement(h.default,{filePath:n.meta.path||void 0,diff:t,isSideBySide:!1,onShowMoreLines:()=>{},inlineContent:e=>((e,t)=>!e||e.lineTo!==t.meta.to&&e.lineFrom!==t.meta.from?null:x(t))(e,n),isColorBlindModeEnabled:s}));return e(a).createElement(e(a).Fragment,null,e(a).createElement(l.default,{onClose:this.handleClose,autoFocus:!1,shouldCloseOnEscapePress:!1,header:()=>e(a).createElement(A.Header,null,e(a).createElement(l.ModalHeader,{showKeyline:!0},e(a).createElement(l.ModalTitle,null,E))),height:"100%",footer:()=>e(a).createElement(A.RightAlignedFooter,{showKeyline:!0},e(a).createElement(u.default,{appearance:"primary",onClick:this.handleClose},e(a).createElement(c.FormattedMessage,C.commonMessages.close))),width:"90%",onOpenComplete:this.handleOnOpenComplete},e(a).createElement(A.Container,null,f&&e(a).createElement(A.LoadingContainer,null,e(a).createElement(p.default,{size:"medium"})),!f&&t.map((t=>{const{createdBy:n}=t,r=this.getDiffsForConversation(t),o=r?S(r,t):x(t);return e(a).createElement(A.ConversationContainer,{key:t.conversationId},e(a).createElement(m.FabricUserAvatar,{size:"medium",user:n}),e(a).createElement(A.Conversation,null,e(a).createElement(A.Subtitle,null,e(a).createElement(c.FormattedMessage,e(i)({},I.default.subtitle,{values:{name:e(a).createElement(v.FabricUserName,{user:n})}}))),o))})))),b&&e(a).createElement(N.default,{onCancel:this.handleDiscardCommentsCancel,onDiscard:this.handleDiscardComments},e(a).createElement(c.FormattedMessage,e(i)({},I.default.discardCommentsModalBody,{tagName:"p",values:{outdatedCommentsDialogTitle:e(a).createElement(c.FormattedMessage,e(i)({},I.default.title,{tagName:"em"}))}}))))}constructor(...t){super(...t),this.state={showDiscardCommentsDialog:!1},this.fetchContextLinesIfNeeded=()=>{this.shouldFetchContextLines()&&this.props.fetchContextLines()},this.numEditorsOpen=0,this.hideMoreLinesInDiff=e=>({chunks:e.chunks.map((e=>({...e,extra:{before:{hasMoreLines:!1},after:{hasMoreLines:!1}}})))}),this.getDiffsForConversation=t=>{if(t.meta&&t.meta.context_lines){const n=e(f)(t.meta.context_lines);if(n&&n[0])return this.hideMoreLinesInDiff(n[0])}return null},this.isContextLinesAvailable=()=>this.props.conversations.filter((e=>e.meta&&void 0!==e.meta.context_lines&&!T.isFileLevelComment(e))).length>0,this.shouldFetchContextLines=()=>{const{conversations:e}=this.props;return!e.every((e=>!!T.isFileLevelComment(e)))&&!this.isContextLinesAvailable()},this.handleOnOpenComplete=()=>{this.props.scrollToCommentInDialog()},this.handleEditorOpen=()=>{this.numEditorsOpen++,this.props.onEditorOpenStateChange(!0)},this.handleEditorClose=()=>{this.numEditorsOpen--,this.numEditorsOpen||this.props.onEditorOpenStateChange(!1)},this.handleClose=()=>{this.numEditorsOpen>0?this.setState({showDiscardCommentsDialog:!0}):this.closeDialogAndResetHash()},this.handleDiscardComments=()=>{this.setState({showDiscardCommentsDialog:!1}),this.closeDialogAndResetHash()},this.handleDiscardCommentsCancel=()=>{this.setState({showDiscardCommentsDialog:!1})},this.closeDialogAndResetHash=()=>{const{location:e}=this.props;e.hash.startsWith(D)&&(E.updateHashInURL("",w.default),this.props.onPermalinkHashChange("")),this.props.onClose()}}}var M=x.withRouter(s.connect((e=>{const{file:t,isFileOutdated:n}=b.getOutdatedCommentsDialogFile(e);return{file:t,isFileOutdated:n,conversations:n?y.getAllConversationsForFile(e,t):y.getOutdatedConversationsForFile(e,t),isColorBlindModeEnabled:O.getGlobalIsColorBlindModeEnabled(e),isLoadingOutdatedCommentContext:b.getIsLoadingOutdatedCommentContext(e)}}),(e=>({onClose:()=>e({type:S.CLOSE_OUTDATED_COMMENTS_DIALOG}),dispatchContextLines:t=>e({type:S.FETCH_OUTDATED_COMMENT_CONTEXT.REQUEST,payload:{file:t}}),scrollToCommentInDialog:()=>e({type:S.SCROLL_TO_COMMENT_IN_MODAL}),onEditorOpenStateChange:t=>e(S.onEditorOpenStateChange(t)),onPermalinkHashChange:t=>e(S.onPermalinkHashChange(t))})),((e,t,n)=>{const{file:r}=e;return{...e,...t,fetchContextLines:()=>t.dispatchContextLines(r),...n}}))(R))})),r.register("kTG4R",(function(n,o){t(n.exports,"FabricUserAvatar",(function(){return u}));var i=r("jgze0"),a=r("aYKWM"),s=r("61szk"),c=r("h7XbF"),l=r("3GLJk");class u extends s.PureComponent{render(){const{profileCardPosition:t,profileCardTrigger:n,user:r,...o}=this.props;if(!r||!r.id)return e(s).createElement(c.DeletedUserAvatar,e(i)({},o,{hasProfileCard:!0,profileCardPosition:t,profileCardTrigger:n}));const{avatarUrl:u,id:d,name:f}=r,p=void 0;return e(s).createElement(c.UserProfileCardTrigger,{position:t,profileUrl:p,profileClient:l.userProfileClient,trigger:n,userId:d},e(s).createElement(a.default,e(i)({},o,{href:p,name:f,src:u})))}}})),r.register("cfeYi",(function(n,o){t(n.exports,"FabricUserName",(function(){return l}));var i=r("jgze0"),a=r("61szk"),s=r("h7XbF"),c=r("3GLJk");class l extends a.PureComponent{render(){const{profileCardPosition:t,profileCardTrigger:n,user:r,...o}=this.props;if(!r||!r.id)return e(a).createElement(s.DeletedUserName,e(i)({},o,{hasProfileCard:!0,profileCardPosition:t,profileCardTrigger:n}));const{id:l,name:u}=r,d=void 0,f=e(a).createElement("span",null,u);return e(a).createElement(s.UserProfileCardTrigger,{position:t,profileUrl:d,profileClient:c.userProfileClient,trigger:n,userId:l},f)}}l.defaultProps={profileCardTrigger:"hover"}})),r.register("aH5VA",(function(e,n){t(e.exports,"Header",(function(){return s})),t(e.exports,"Container",(function(){return c})),t(e.exports,"LoadingContainer",(function(){return l})),t(e.exports,"ConversationContainer",(function(){return u})),t(e.exports,"Conversation",(function(){return d})),t(e.exports,"Subtitle",(function(){return f})),t(e.exports,"RightAlignedFooter",(function(){return p}));var o=r("eQkAL"),i=r("35ixb"),a=r("6aCAs");const s=o.default("div",{target:"e1kaq4s20"})("box-shadow:none;border-bottom:1px solid ",a.colors.N30,";"),c=o.default("div",{target:"e1kaq4s21"})("padding-top:",2*a.gridSize(),"px;padding-bottom:",2*a.gridSize(),"px;"),l=o.default("div",{target:"e1kaq4s22"})("display:flex;justify-content:center;align-items:center;min-height:",20*a.gridSize(),"px;"),u=o.default("div",{target:"e1kaq4s23"})("display:flex;padding-bottom:",a.gridSize(),"px;"),d=o.default("div",{target:"e1kaq4s24"})("flex-grow:1;margin-left:",a.gridSize(),"px;min-width:0;"),f=o.default("div",{target:"e1kaq4s25"})("padding-top:",a.gridSize(),"px;padding-bottom:",a.gridSize(),"px;"),p=o.default(i.ModalFooter,{target:"e1kaq4s26"})("box-shadow:none;border-top:1px solid ",a.colors.N30,";justify-content:flex-end;")})),r.register("cdxGC",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({title:{id:"frontbucket.pullRequest.outdatedCommentsDialogTitle",defaultMessage:"Comments on outdated versions"},subtitle:{id:"frontbucket.pullRequest.outdatedCommentsDialogSubtitle",defaultMessage:"{name} commented on a file"},discardCommentsModalBody:{id:"frontbucket.pullRequest.outdatedCommentsDialogDiscardWarning",defaultMessage:"Closing the {outdatedCommentsDialogTitle} dialog discards your unsaved comments."},fileHeaderLozenge:{id:"frontbucket.pullRequest.outdatedCommentsDialogFileHeaderLozenge",defaultMessage:"Outdated"}})})),r.register("heFOH",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({dialogHeading:{id:"frontbucket.diffCommentDialog.heading",defaultMessage:"{commentsCount, plural, one {Comment on {filepath}} other {Comments on {filepath}}}"}})})),r.register("hBbPQ",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({heading:{id:"frontbucket.diff.excludeDiff.heading",defaultMessage:"Excluded diff"},description:{id:"frontbucket.diff.excludeDiff.description",defaultMessage:'The diff for this file was excluded by the pattern "{pattern}".'},defaultLinkText:{id:"frontbucket.diff.excludeDiff.defaultLinkText",defaultMessage:"Learn more"},adminLinkText:{id:"frontbucket.diff.excludeDiff.adminLinkText",defaultMessage:"Configure excluded files"},action:{id:"frontbucket.diff.excludeDiff.action",defaultMessage:"Open file's diff"}})})),r.register("1B20g",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig"),c=r("clBu2"),l=r("2G27F"),u=r("3xd9F");r("g8FES");var d=r("kCvva"),f=r("cETNW"),p=r("11f1a");class h extends a.PureComponent{render(){const{file:t,size:n,isOpen:r}=this.props,o=l.extractFilepath(t);return e(a).createElement(f.default,{file:t,isOpen:r,heading:e(a).createElement(s.FormattedMessage,p.default.heading),description:e(a).createElement(s.FormattedMessage,e(i)({tagName:"p"},p.default.description,{values:{size:n}})),actions:e(a).createElement(a.Fragment,null,e(a).createElement(d.default,{file:t}),e(a).createElement("li",null,e(a).createElement(u.default,{filepath:o,target:"_blank"},e(a).createElement(s.FormattedMessage,p.default.action))),e(a).createElement("li",null,e(a).createElement("a",{href:c.default.external.excludedFilesLearnMore,target:"_blank"},e(a).createElement(s.FormattedMessage,p.default.excludedFilesLinkText))))})}}h.defaultProps={isOpen:!0};var g=s.injectIntl(h)})),r.register("11f1a",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({heading:{id:"frontbucket.diff.excessiveDiff.heading",defaultMessage:"Diff too large"},description:{id:"frontbucket.diff.excessiveDiff.description",defaultMessage:"The diff for this file is too large to render ({size} bytes)."},action:{id:"frontbucket.diff.excessiveDiff.action",defaultMessage:"Open file's diff"},excludedFilesLinkText:{id:"frontbucket.diff.excessiveDiff.excludedFilesLinkText",defaultMessage:"Learn how to always exclude this file"}})})),r.register("4h3u4",(function(n,o){t(n.exports,"default",(function(){return g}));var i=r("jgze0"),a=r("61szk"),s=r("7RIig"),c=r("6tbO4"),l=r("2yydb"),u=r("7HEfz"),d=r("9Cdbs"),f=r("cETNW"),p=r("8r9rT");class h extends a.PureComponent{render(){const{file:t,isOpen:n,onToggleWhitespace:r}=this.props;return e(a).createElement(f.default,{file:t,isOpen:n,heading:e(a).createElement(s.FormattedMessage,p.default.heading),description:e(a).createElement(s.FormattedMessage,e(i)({tagName:"p"},p.default.description)),actions:e(a).createElement("li",null,e(a).createElement(u.default,{appearance:"link",onClick:()=>r()},e(a).createElement(s.FormattedMessage,p.default.action)))})}}h.defaultProps={isOpen:!0};var g=l.compose(s.injectIntl,c.connect(null,(e=>({onToggleWhitespace:()=>e({type:d.UPDATE_GLOBAL_SHOULD_IGNORE_WHITESPACE_SUCCESS,payload:{shouldIgnoreWhitespace:!1}})}))))(h)})),r.register("8r9rT",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({heading:{id:"frontbucket.diff.fileContentsUnchangedDiff.heading",defaultMessage:"File contents unchanged"},description:{id:"frontbucket.diff.fileContentsUnchangedDiff.description",defaultMessage:"There are only whitespace differences to display."},action:{id:"frontbucket.diff.fileContentsUnchangedDiff.action",defaultMessage:"Show whitespace"}})})),r.register("2t2Ey",(function(n,o){t(n.exports,"DiffPlaceholder",(function(){return p}));var i=r("eQkAL"),a=r("61szk"),s=r("6aCAs"),c=r("iwpqy"),l=r("29G84");const u=`repeating-linear-gradient(${s.colors.N20}, ${s.colors.N20} ${l.fileHeaderHeight}px, ${s.colors.N40} ${l.fileHeaderHeight}px, ${s.colors.N40} ${l.fileHeaderHeight+1}px, ${s.colors.N0} ${l.fileHeaderHeight}px, ${s.colors.N0} 100%)`,d=i.default("pre",{target:"e166los0"})("height:",(({estimatedHeight:e,isOpen:t})=>t?e:l.fileHeaderHeight),"px;margin-bottom:12px;display:flex;flex-direction:column;justify-content:flex-end;font-size:",s.fontSize(),"px;font-family:",s.codeFontFamily(),";border:1px solid ",s.colors.N40,";border-radius:",s.borderRadius(),"px ",s.borderRadius(),"px 0 0;background:",u,";color:",s.colors.N0,";overflow:hidden;word-break:break-all;"),f={fontSize:`${s.fontSize()}px`,fontFamily:s.codeFontFamily(),color:s.colors.N0},p=e(a).memo((({file:t,usePlaceholderDiffDetails:n=l.usePlaceholderDiffDetails})=>{const r="/dev/null"===t.to?t.from:t.to,o=c.useDiffExpansionState({filepath:r}),i=!0===o||void 0===o&&!t.deleted,{estimatedHeight:s,indexableCommentsAndAuthors:u}=n({file:t,isOpen:i});return e(a).createElement(d,{estimatedHeight:s,isOpen:i,"data-testid":"pr-diff-placeholder-wrapper"},i?e(a).createElement(a.Fragment,null,e(a).createElement("h2",{style:f},r),(t.chunks||[]).map((e=>e.changes.map((e=>`\n${e.oldLine||""},${e.newLine||""} ${e.content}`))))):null,u)}))})),r.register("29G84",(function(e,n){t(e.exports,"fileHeaderHeight",(function(){return g})),t(e.exports,"usePlaceholderDiffDetails",(function(){return E}));var o=r("6tbO4"),i=r("61szk"),a=r("hp8zO");r("dFBo1");var s=r("fY52l"),c=r("biPg6"),l=r("ekJGA"),u=r("6aCAs"),d=r("4bHBQ"),f=r("dgS2P"),p=r("f5IbC"),h=r("4OqXh");const g=40,m=3.5*u.gridSize(),v=4*u.gridSize(),b=2.5*u.gridSize(),y=new s.default(l.bitbucketSchema),E=({file:e,isOpen:t})=>{const n=o.useSelector((t=>d.getValidConversationsForFile(t,e))),r=o.useSelector(d.getLeveledFabricConversations),s=f.getExcessiveDiffSize(e),l=p.getExcludedPattern(e),u=s||l||e.isBinary||e.isFileContentsUnchanged,E=u?0:h.countChunkLines(e),x=u?0:e.chunks.length,{indexableCommentsAndAuthors:k,numberOfComments:C}=i.useMemo((()=>{let e,o=0;return t&&(e=(n||[]).map((e=>{const t=e.conversationId,n=d.getConversation(r,t);return a.get(n,"comments",[]).map((e=>{o++;const t=a.get(e,"document.adf",{});return`${e.createdBy.name} ${c.renderDocument(t,y).result}`}))}))),{indexableCommentsAndAuthors:e,numberOfComments:o}}),[n,r,t]),S=((e,t=1,n=0,r=0)=>{const o=t*b,i=Math.max(0,r-n)*m;return e*b+o+g+(n*v+76*r+i)})(E,x,n.length,C);return{indexableCommentsAndAuthors:k,estimatedHeight:S}}})),r.register("esY6u",(function(e,n){t(e.exports,"useDiffSetMeasurement",(function(){return f})),t(e.exports,"useAnchorTopOffset",(function(){return p})),t(e.exports,"useSettingsHeaderVisibilityChanged",(function(){return h}));var o=r("6tbO4"),i=r("61szk"),a=r("3geUT"),s=r("csqQL"),c=r("g94bl"),l=r("cQwU7"),u=r("gFE2z"),d=r("r8Bpe");const f=()=>{const e=o.useDispatch(),{untruncatedPullRequestLinesChanged:t,untruncatedDiffFileCount:n}=d.useUntruncatedDiffCounts(),r=o.useSelector(s.getIsSingleFileModeActive)?"singleFileMode":"allFilesMode",u=i.useCallback((()=>{e({type:a.DIFFS_HAVE_RENDERED})}),[e]),f=i.useCallback((t=>{e({type:a.INITIAL_DIFFS_RENDERED}),e(a.publishPullRequestTrackEvent({action:"rendered",actionSubject:"pullRequestDiff",actionSubjectId:"",attributes:t}))}),[e]);i.useEffect((()=>{f({pullRequestFiles:n,pullRequestLinesChanged:t,pullRequestFilemode:r}),l.default((()=>{"full_page"===c.getPageLoadType()&&window.performance.mark("SPEEDCURVE.DIFFS.RENDERED")}))}),[]),i.useEffect(u)},p=()=>o.useSelector((e=>u.getCombinedBannerAndHorizontalNavHeight(e,!1))),h=()=>{const e=o.useDispatch();return i.useCallback((t=>e({type:a.TOGGLE_SINGLE_FILE_MODE_SETTINGS_HEADER_VISIBILITY,payload:t})),[e])}})),r.register("r8Bpe",(function(e,n){t(e.exports,"useUntruncatedDiffCounts",(function(){return a}));var o=r("6tbO4"),i=r("csqQL");const a=()=>({untruncatedDiffFileCount:o.useSelector(i.getUntruncatedPullRequestDiffFileCount),untruncatedPullRequestLinesChanged:o.useSelector(i.getPullRequestDiffLinesCount)})})),r.register("gQQm8",(function(n,o){t(n.exports,"SingleFileDiffList",(function(){return h}));var i=r("61szk"),a=r("jMOUG"),s=r("2G27F"),c=r("0UaMm"),l=r("6xqQY"),u=r("3Dnpr"),d=r("8c477"),f=r("aBnWn"),p=r("esY6u");const h=({file:t,isGlobalSingleFileModeEnabled:n,isCommentsFilterActive:r,DiffFile:o=u.default,useCommentDetailsForFile:h=d.useCommentDetailsForFile})=>{const g=p.useAnchorTopOffset(),m=s.extractFilepath(t),v=a.getFileHref(m);return e(i).createElement(f.DiffSetFileWrapper,{isSingleFileModeActive:!0},e(i).createElement(f.ScrollToAnchor,{topOffset:g,id:v}),e(i).createElement(l.ClassifiedDiff,{file:t,DiffFile:o,index:0,isCommentsFilterActive:r,useCommentDetailsForFile:h}),!n&&e(i).createElement(c.SingleFileModeExplanation,{position:"footer"}))}})),r.register("0UaMm",(function(n,o){t(n.exports,"SingleFileModeExplanation",(function(){return b}));var i=r("eQkAL"),a=r("61szk"),s=r("7RIig"),c=r("4JuWt"),l=r("6aCAs"),u=r("gbv90"),d=r("lWF4r"),f=r("3GKKo");const p=i.default("div",{target:"ey68wta0"})("margin-top:",2*l.gridSize(),"px;background-color:",l.colors.N20,";"),h=i.default(d.PageHeaderWrapper,{target:"ey68wta1"})("color:",l.colors.N800,";padding:",2*l.gridSize(),"px;display:flex;align-items:center;",(e=>"footer"===e.position&&c.css("justify-content:center;margin-top:",2*l.gridSize(),"px;")),""),g=i.default("span",{target:"ey68wta2"})("display:inline-block;margin-left:",l.gridSize(),"px;"),m=s.defineMessages({largePullRequest:{id:"frontbucket.repository.pullRequest.singleFileModePrHeader.largePullRequest",defaultMessage:"This is a large pull request."},largePullRequestExplanation:{id:"frontbucket.repository.pullRequest.singleFileModePrHeader.largePullRequestExplanation",defaultMessage:"Large pull requests can only be viewed by loading files individually."}}),v=s.defineMessages({description:{id:"frontbucket.repository.pullRequest.singleFileModePrFooter.description",defaultMessage:"To view another file, use the file tree in the right sidebar or navigation buttons in the header."}}),b=a.memo((({position:t})=>{const n=f.useIntl(),r=e(a).createElement(h,{position:t},e(a).createElement(e(u),{label:"",size:"medium",primaryColor:l.colors.B400}),e(a).createElement(g,null,"header"===t?e(a).createElement(e(a).Fragment,null,e(a).createElement("strong",null,n.formatMessage(m.largePullRequest))," ",n.formatMessage(m.largePullRequestExplanation)):n.formatMessage(v.description)));return"header"===t?e(a).createElement(p,null,r):r}))})),r.register("lWF4r",(function(e,n){t(e.exports,"PageHeaderWrapper",(function(){return c})),t(e.exports,"PageHeaderColumn",(function(){return l})),t(e.exports,"PageSection",(function(){return u})),t(e.exports,"PanelHeader",(function(){return d}));var o=r("eQkAL"),i=r("6aCAs"),a=r("bIFRd");const s=12*(10*i.gridSize())+"px",c=o.default("header",{target:"e1k2snkw0"})("margin:0 auto;max-width:",(e=>"fluid"===e.layout?"100%":s),";padding:0 ",2.5*i.gridSize(),"px;"),l=o.default("div",{target:"e1k2snkw1"})("margin:0 ",2.5*i.gridSize(),"px;",a.media.upToSmall("\n    margin: 0;\n  "),""),u=o.default("section",{target:"e1k2snkw2"})("margin:0 auto;max-width:",s,";"),d=o.default("h2",{target:"e1k2snkw3"})(i.typography.h400(),";margin:0;display:flex;align-items:center;")})),r.register("eYwA9",(function(e,n){t(e.exports,"useIsSingleFileModeActive",(function(){return s}));var o=r("6tbO4"),i=r("9Cdbs"),a=r("csqQL");const s=()=>({isGlobalSingleFileModeEnabled:o.useSelector(i.getGlobalIsSingleFileModeEnabled),isSingleFileModeActive:o.useSelector(a.getIsSingleFileModeActive)})})),r.register("yphke",(function(n,o){t(n.exports,"SingleFileNavigation",(function(){return x}));var i=r("jgze0"),a=r("61szk"),s=r("6tbO4"),c=r("gQE5a"),l=r("kb3XG"),u=r("7HEfz"),d=r("4Rd8x"),f=r("7RIig"),p=r("3GKKo"),h=r("aScF4"),g=r("fkMgm"),m=r("3geUT"),v=r("csqQL"),b=r("65vlc"),y=r("awi0c");const E=()=>{const[t,n]=a.useState(0),[r,o]=a.useState(!1),E=s.useDispatch(),x=p.useIntl(),k=s.useSelector(v.getActiveDiff),C=s.useSelector(v.getIsFilteringOrSortingDiff),S=s.useSelector(h.getFileTreeHrefs);a.useEffect((()=>{if(k){const e=S.findIndex((e=>e.replace(/#/,"")===k));o(!1),n(Math.max(0,e))}}),[k,S]),a.useEffect((()=>{if(r){const e=S[t];if(e){const t=e.replace(/#/,"");E(g.default("none")),E(m.scrollToAnchor(t))}}}),[t,E,S,r]);const T=a.useCallback((()=>{o(!0),n((e=>Math.max(0,e-1)))}),[]),O=a.useCallback((()=>{o(!0),n((e=>Math.min(S.length-1,e+1)))}),[S.length]);return!S||S.length<=1?null:e(a).createElement(a.Fragment,null,C&&e(a).createElement(y.FileNumber,null,e(a).createElement(f.FormattedMessage,e(i)({},b.default.fileNumber,{values:{current:t+1,total:S.length}}))),e(a).createElement(y.Container,null,e(a).createElement(d.default,{content:x.formatMessage(b.default.previousFile)},e(a).createElement(u.default,{"aria-label":x.formatMessage(b.default.previousFile),isDisabled:0===t,onClick:T,iconBefore:e(a).createElement(e(c),{label:x.formatMessage(b.default.previousFile)})})),e(a).createElement(d.default,{content:x.formatMessage(b.default.nextFile)},e(a).createElement(u.default,{"aria-label":x.formatMessage(b.default.nextFile),isDisabled:S&&t===S.length-1,onClick:O,iconBefore:e(a).createElement(e(l),{label:x.formatMessage(b.default.nextFile)})}))))},x=e(a).memo(E)})),r.register("65vlc",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({previousFile:{id:"frontbucket.pullRequest.singleFileNavigationPreviousFile",defaultMessage:"Previous file"},nextFile:{id:"frontbucket.pullRequest.singleFileNavigationNextFile",defaultMessage:"Next file"},fileNumber:{id:"frontbucket.pullRequest.singleFileNavigation.fileNumber",defaultMessage:"{current} of {total}"}})})),r.register("awi0c",(function(e,n){t(e.exports,"Container",(function(){return a})),t(e.exports,"FileNumber",(function(){return s}));var o=r("eQkAL"),i=r("6aCAs");const a=o.default("span",{target:"e1kws5tv0"})("display:inline-flex;& + div{margin-left:",i.gridSize(),"px;}& > div:first-of-type{margin-right:",i.gridSize()/2,"px;}"),s=o.default("span",{target:"e1kws5tv1"})(i.typography.h200(),";align-self:center;margin:0 ",i.gridSize(),"px;text-transform:uppercase;")})),r.register("9TNtQ",(function(e,n){t(e.exports,"usePullRequestScreenEvent",(function(){return E})),t(e.exports,"usePullRequestAttributes",(function(){return x})),t(e.exports,"getPullRequestAttributes",(function(){return k})),t(e.exports,"usePrSettingsSaveButtonAnalytics",(function(){return C})),t(e.exports,"usePrSettingsButtonAnalytics",(function(){return S})),t(e.exports,"usePrFileViewFileAnalytics",(function(){return T})),t(e.exports,"publishPrAnalyticsFileViewFolder",(function(){return O})),t(e.exports,"publishPrAnalyticsSidebar",(function(){return w})),t(e.exports,"usePrTabAnalytics",(function(){return P}));var o,i,a,s,c,l,u,d=r("6tbO4"),f=r("61szk"),p=r("csqQL"),h=r("9Cdbs"),g=r("fGrcC"),m=r("aScF4"),v=r("69smv"),b=r("gZ4Uf"),y=r("gFE2z");(i=o||(o={})).fileTreeCard="fileTreeCard",i.fileTreeCardExpander="fileTreeCardExpander",i.fileTreeFile="fileTreeFile",i.fileTreeFolder="fileTreeFolder",i.fileListFile="fileListFile",i.fileListFolder="fileListFolder",i.saveButton="saveButton",i.settingsButton="settingsButton",i.detailsTab="detailsTab",i.filesTab="filesTab",i.activitiesTab="activitiesTab",i.sidebarExpander="sidebarExpander",(s=a||(a={})).button="button",s.card="card",s.tab="tab",s.sidebar="sidebar",(c||(c={})).clicked="clicked",(u=l||(l={})).pullRequest="pullRequest",u.repository="repository";const E=({name:e,attributes:t={},skip:n=!1})=>{const r=d.useSelector(p.getPullRequestDestinationRepoUuid),o=d.useSelector(p.getPullRequestSourceRepoUuid),i=d.useSelector(p.getCurrentPullRequestId);f.useEffect((()=>{r&&i&&o&&!n&&b.publishFullScreenEvent({name:e,containerType:"repository",containerId:r,objectType:"pullRequest",objectId:i,attributes:{fromRepositoryUuid:o,...t}})}),[i,o,r,t,e,n])},x=()=>{const e=d.useSelector(v.getCurrentRepositoryUuid),t=d.useSelector(p.getCurrentPullRequestId),n=d.useSelector(m.getFileTreeHrefs),r=d.useSelector(g.getCodeReviewSidebarWidth),o=d.useSelector(y.getIsMobileHeaderActive),i=d.useSelector(h.getGlobalDiffViewMode),a=d.useSelector(h.getGlobalFileViewMode),s=d.useSelector(h.getGlobalTabSize),c=d.useSelector(h.getGlobalIsWordDiffEnabled),l=d.useSelector(h.getGlobalShouldIgnoreWhitespace),u=d.useSelector(h.getGlobalIsColorBlindModeEnabled),f=d.useSelector(h.getGlobalIsAnnotationsEnabled),b=d.useSelector(h.getGlobalIsSingleFileModeEnabled);return{repoUUID:e,prID:t,fileHrefs:n,pullRequestDiffLinesCount:d.useSelector(p.getPullRequestDiffLinesCount),sidebarWidth:r,isMobile:o,pullRequestSettings:{diffViewMode:i,fileViewMode:a,tabSize:s,isWordDiffEnabled:c,shouldIgnoreWhitespace:l,isColorBlindModeEnabled:u,isAnnotationsEnabled:f,isSingleFileModeEnabled:b}}},k=e=>{const t=v.getCurrentRepositoryUuid(e),n=p.getCurrentPullRequestId(e),r=m.getFileTreeHrefs(e),o=g.getCodeReviewSidebarWidth(e),i=y.getIsMobileHeaderActive(e),a=h.getGlobalDiffViewMode(e),s=h.getGlobalFileViewMode(e),c=h.getGlobalTabSize(e),l=h.getGlobalIsWordDiffEnabled(e),u=h.getGlobalShouldIgnoreWhitespace(e),d=h.getGlobalIsColorBlindModeEnabled(e),f=h.getGlobalIsAnnotationsEnabled(e),b=h.getGlobalIsSingleFileModeEnabled(e);return{repoUUID:t,prID:n,fileHrefs:r,pullRequestDiffLinesCount:p.getPullRequestDiffLinesCount(e),sidebarWidth:o,isMobile:i,pullRequestSettings:{diffViewMode:a,fileViewMode:s,tabSize:c,isWordDiffEnabled:l,shouldIgnoreWhitespace:u,isColorBlindModeEnabled:d,isAnnotationsEnabled:f,isSingleFileModeEnabled:b}}},C=()=>{const e=x();return f.useCallback((t=>{const n=Object.keys(e.pullRequestSettings).reduce(((n,r)=>(e.pullRequestSettings[r]!==t[r]&&(n[r]=t[r]),n)),{});b.publishUiEvent({action:c.clicked,actionSubject:a.button,actionSubjectId:o.saveButton,source:l.pullRequest,objectId:`${e.repoUUID}/${e.prID}`,objectType:l.repository,attributes:{isMobile:e.isMobile,expandedWidth:e.sidebarWidth,diffLineCount:e.pullRequestDiffLinesCount,numOfFiles:e.fileHrefs.length,changedSettings:n}})}),[e])},S=()=>{const e=x();return f.useCallback((()=>{b.publishUiEvent({action:c.clicked,actionSubject:a.button,actionSubjectId:o.settingsButton,source:l.pullRequest,objectId:`${e.repoUUID}/${e.prID}`,objectType:l.repository,attributes:{isMobile:e.isMobile,expandedWidth:e.sidebarWidth,diffLineCount:e.pullRequestDiffLinesCount,numOfFiles:e.fileHrefs.length,currentSettings:e.pullRequestSettings}})}),[e])},T=()=>{const e=x();return f.useCallback(((t,n,r)=>{b.publishUiEvent({action:c.clicked,actionSubject:a.card,actionSubjectId:e.pullRequestSettings.fileViewMode===h.FileViewMode.Tree?o.fileTreeFile:o.fileListFile,source:l.pullRequest,objectId:`${e.repoUUID}/${e.prID}`,objectType:l.repository,attributes:{isMobile:e.isMobile,expandedWidth:e.sidebarWidth,diffLineCount:e.pullRequestDiffLinesCount,numOfFiles:e.fileHrefs.length,currentSettings:e.pullRequestSettings,fileAttributes:{fileName:t,isConflicted:n,fileDiffStatus:r}}})}),[e])},O=(e,t,n)=>{b.publishUiEvent({action:c.clicked,actionSubject:a.card,actionSubjectId:e.pullRequestSettings.fileViewMode===h.FileViewMode.Tree?o.fileTreeFolder:o.fileListFolder,source:l.pullRequest,objectId:`${e.repoUUID}/${e.prID}`,objectType:l.repository,attributes:{isMobile:e.isMobile,expandedWidth:e.sidebarWidth,diffLineCount:e.pullRequestDiffLinesCount,numOfFiles:e.fileHrefs.length,currentSettings:e.pullRequestSettings,folderAttributes:{folderName:t,isFolderCollapsed:n}}})},w=(e,t,n)=>{const r=n?{isCollapsed:n,currentWidth:t,expandedWidth:e.sidebarWidth}:{isCollapsed:n,currentWidth:t,previousExpandedWidth:e.sidebarWidth};b.publishUiEvent({action:c.clicked,actionSubject:a.sidebar,actionSubjectId:o.sidebarExpander,source:l.pullRequest,objectId:`${e.repoUUID}/${e.prID}`,objectType:l.repository,attributes:{isMobile:e.isMobile,diffLineCount:e.pullRequestDiffLinesCount,numOfFiles:e.fileHrefs.length,currentSettings:e.pullRequestSettings,sidebarAttributes:r}})},N={0:o.detailsTab,1:o.filesTab,2:o.activitiesTab},P=()=>{const e=x();return f.useCallback((t=>{const n=N[t];b.publishUiEvent({action:c.clicked,actionSubject:a.tab,actionSubjectId:n,source:l.pullRequest,objectId:`${e.repoUUID}/${e.prID}`,objectType:l.repository,attributes:{isMobile:e.isMobile,expandedWidth:e.sidebarWidth,diffLineCount:e.pullRequestDiffLinesCount,numOfFiles:e.fileHrefs.length,currentSettings:e.pullRequestSettings}})}),[e])}})),r.register("aj7yM",(function(n,o){t(n.exports,"default",(function(){return h}));var i=r("61szk"),a=r("7RIig"),s=r("6tbO4"),c=r("kqe29"),l=r("dw4St"),u=r("fGrcC"),d=r("GG9CP"),f=r("cUaOC"),p=r("iMlHa");var h=a.injectIntl((({sidebarTabsDetails:t,...n})=>{const{expandedContent:r,expandedFileContent:o,sidebarType:a,onSelectAnalytics:h=(()=>e=>{}),expandedActivityContent:g,intl:m}=n,v=s.useDispatch();i.useEffect((()=>()=>{v(u.updateSidebarState({isOpen:!0,tabIndex:0,sidebarType:a}))}),[v,a]);const{conflictsCount:b,untruncatedFileCount:y,sidebarTabIndex:E}=t(),x=h(),k=i.useCallback(((e,t)=>{x(t),v(u.updateSidebarState({isOpen:!0,tabIndex:t,sidebarType:a}))}),[x,v,a]),C=i.useMemo((()=>[{content:f.createTabWrapper(r.map(l.createChildWrapper("expanded")),0),label:m.formatMessage(p.default.details),testId:"sidebar-tab-details"},{content:f.createTabWrapper(e(i).createElement(d.SidebarTab,null,o),1),label:m.formatMessage(p.default.files),testId:"sidebar-tab-files",untruncatedFileCount:y,conflictsCount:b,mergeConflictsMessage:m.formatMessage(p.default.mergeConflicts,{total:b})},...void 0!==g?[{content:f.createTabWrapper(e(i).createElement(d.SidebarTab,null,g),2),label:m.formatMessage(p.default.activity),testId:"sidebar-tab-activity"}]:[]]),[r,o,g,b,y,m]);return e(i).createElement(d.StickyTabsWrapper,null,e(i).createElement(c.default,{components:{Item:f.tabItemWrapper},onSelect:k,selected:E,tabs:C}))}))})),r.register("kqe29",(function(n,o){t(n.exports,"default",(function(){return b}));var i=r("c8JbF"),a=r("61szk"),s=r("izGl7"),c=r("g0d80"),l=r("cZZlJ"),u=r("d9mxw"),d=r("6zRpD"),f=r("5Uxp8"),p=function(e,t,n){return e===n},h=function(e,t){return e===t},g={Content:u.default,Item:d.default},m=function(t){function n(e){var n=t.call(this,e)||this;n.resolveSelected=function(e,t){var r=t||n.props,o=r.tabs,i=r.isSelectedTest,a=i||("number"==typeof e?p:h);return o.find((function(t,n){return a(e,t,n)}))||o[0]},n.onSelect=function(e,t){var r=n.props,o=r.onSelect,i=r.selected;"function"==typeof o&&o(e,t),void 0===i&&n.setState({selected:e})};var r=n.props.selected||n.props.defaultSelected||n.props.tabs[0],o=n.resolveSelected(r);return n.state={selected:o},n}return i.__extends(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){if(void 0!==e.selected&&e.selected!==this.state.selected){var t=this.resolveSelected(e.selected,e);this.setState({selected:t})}else if(e.tabs!==this.props.tabs){var n=this.resolveSelected(this.state.selected,e);this.setState({selected:n})}},n.prototype.render=function(){var t=this.props,n=t.components,r=t.tabs,o=t.testId,s=this.state.selected,l=i.__assign(i.__assign({},g),n),u=l.Content,d=l.Item,p={data:s,elementProps:{role:"tabpanel"}};return e(a).createElement(c.Tabs,{"data-testid":o},e(a).createElement(f.default,{component:d,onSelect:this.onSelect,selected:s,tabs:r}),e(a).createElement(u,i.__assign({},p)))},n.defaultProps={components:{}},n}(a.Component),v=s.createAndFireEvent("atlaskit"),b=s.withAnalyticsContext({componentName:"tabs",packageName:l.name,packageVersion:l.version})(s.withAnalyticsEvents({onSelect:v({action:"clicked",actionSubject:"tab",attributes:{componentName:"tabs",packageName:l.name,packageVersion:l.version}})})(m))})),r.register("g0d80",(function(e,n){t(e.exports,"Tabs",(function(){return k})),t(e.exports,"TabPane",(function(){return C})),t(e.exports,"NavWrapper",(function(){return S})),t(e.exports,"Nav",(function(){return T})),t(e.exports,"NavLine",(function(){return O})),t(e.exports,"NavItem",(function(){return w}));var o=r("c8JbF"),i=r("SssiD"),a=r("dP7YR");r("cUk7V");var s=r("2zo5D"),c=r("bzqgD");r("j5PtC");var l=r("ktThn");function u(e){var t={light:a.B400,dark:a.B100};return s.default("status",{normal:e,selected:t})}var d,f,p,h,g,m,v=u({light:a.N500,dark:a.DN400}),b=u({light:a.B500,dark:a.B200}),y=u({light:a.B100,dark:a.B100}),E=u({light:a.B400,dark:a.B75}),x=u({light:a.N30,dark:a.DN0}),k=i.default.div(d||(d=o.__makeTemplateObject(["\n  display: flex;\n  flex-basis: 100%;\n  flex-direction: column;\n  flex-grow: 1;\n  max-width: 100%;\n  min-height: 0%; /* See min-height note */\n"],["\n  display: flex;\n  flex-basis: 100%;\n  flex-direction: column;\n  flex-grow: 1;\n  max-width: 100%;\n  min-height: 0%; /* See min-height note */\n"]))),C=i.default.div(f||(f=o.__makeTemplateObject(["\n  display: flex;\n  flex-grow: 1;\n  min-height: 0%; /* See min-height note */\n  padding-left: ","px;\n  padding-right: ","px;\n"],["\n  display: flex;\n  flex-grow: 1;\n  min-height: 0%; /* See min-height note */\n  padding-left: ","px;\n  padding-right: ","px;\n"])),c.gridSize,c.gridSize),S=i.default.div(p||(p=o.__makeTemplateObject(["\n  position: relative;\n"],["\n  position: relative;\n"]))),T=i.default.div(h||(h=o.__makeTemplateObject(["\n  display: flex;\n  font-weight: 500;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"],["\n  display: flex;\n  font-weight: 500;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n"]))),O=i.default.span(g||(g=o.__makeTemplateObject(["\n  background-color: ",";\n  border-radius: ",";\n  bottom: 0;\n  content: '';\n  height: ",";\n  left: ","px;\n  margin: 0;\n  position: absolute;\n  right: ","px;\n  width: inherit;\n"],["\n  background-color: ",";\n  border-radius: ",";\n  bottom: 0;\n  content: '';\n  height: ",";\n  left: ","px;\n  margin: 0;\n  position: absolute;\n  right: ","px;\n  width: inherit;\n"])),x,"2px","2px",c.gridSize,c.gridSize),w=i.default.div(m||(m=o.__makeTemplateObject(["\n  color: ",";\n  cursor: pointer;\n  line-height: 1.8;\n  margin: 0;\n  padding: ","px ","px;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    color: ",";\n  }\n  &:active,\n  &:active::before {\n    color: ",";\n  }\n\n  &:focus {\n    border-radius: ","px;\n    box-shadow: 0 0 0 2px "," inset;\n    outline: none;\n  }\n"],["\n  color: ",";\n  cursor: pointer;\n  line-height: 1.8;\n  margin: 0;\n  padding: ","px ","px;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  &:hover {\n    color: ",";\n  }\n  &:active,\n  &:active::before {\n    color: ",";\n  }\n\n  &:focus {\n    border-radius: ","px;\n    box-shadow: 0 0 0 2px "," inset;\n    outline: none;\n  }\n"])),v,l.divide(c.gridSize,2),c.gridSize,E,b,c.borderRadius,y)})),r.register("dP7YR",(function(e,n){t(e.exports,"B75",(function(){return c})),t(e.exports,"B100",(function(){return l})),t(e.exports,"B200",(function(){return u})),t(e.exports,"B400",(function(){return d})),t(e.exports,"B500",(function(){return f})),t(e.exports,"N30",(function(){return h})),t(e.exports,"N500",(function(){return m})),t(e.exports,"N30A",(function(){return b})),t(e.exports,"DN400",(function(){return E})),t(e.exports,"DN0",(function(){return C})),t(e.exports,"skeleton",(function(){return S}));var o=r("2zo5D"),i="#FF5630",a="#FFAB00",s="#36B37E",c="#B3D4FF",l="#4C9AFF",u="#2684FF",d="#0052CC",f="#0747A6",p="#FFFFFF",h="#EBECF0",g="#6B778C",m="#42526E",v="#172B4D",b="rgba(9, 30, 66, 0.08)",y="#B8C7E0",E="#9FB0CC",x="#8C9CB8",k="#283447",C="#0D1424",S=(o.default({light:p,dark:"#1B2638"}),o.default({light:"#DEEBFF",dark:c}),o.default({light:h,dark:"#3B475C"}),o.default({light:p,dark:k}),o.default({light:"#091E42",dark:y}),o.default({light:v,dark:y}),o.default({light:d,dark:d}),o.default({light:g,dark:x}),o.default({light:"#7A869A",dark:"#7988A3"}),o.default({light:v,dark:y}),o.default({light:g,dark:x}),o.default({light:"#F4F5F7",dark:k}),o.default({light:d,dark:l}),o.default({light:"#0065FF",dark:u}),o.default({light:f,dark:l}),o.default({light:l,dark:u}),o.default({light:d,dark:l}),o.default({light:d,dark:l}),o.default({light:"#00B8D9",dark:"#00C7E6"}),o.default({light:"#6554C0",dark:"#998DD9"}),o.default({light:i,dark:i}),o.default({light:a,dark:a}),o.default({light:s,dark:s}),function(){return"rgba(9, 30, 66, 0.04)"})})),r.register("2zo5D",(function(e,n){t(e.exports,"default",(function(){return i}));var o=r("2d3T6");function i(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=o.default(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var a=i[t.mode];if(a)return a}}return""};var n,r,i=e;return function(e){var t=o.default(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}})),r.register("2d3T6",(function(e,n){t(e.exports,"default",(function(){return o}));var r=["light","dark"];function o(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&r.includes(e.theme.mode))return e.theme}return{mode:"light"}}})),r.register("cUk7V",(function(e,n){t(e.exports,"themed",(function(){return r("2zo5D").default}));r("2zo5D")})),r.register("bzqgD",(function(e,n){t(e.exports,"borderRadius",(function(){return o})),t(e.exports,"gridSize",(function(){return i}));r("5DTpp"),r("SssiD"),r("dP7YR");var o=function(){return 3},i=function(){return 8}})),r.register("5DTpp",(function(e,n){t(e.exports,"__makeTemplateObject",(function(){return r}));Object.create;function r(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}Object.create})),r.register("j5PtC",(function(e,n){t(e.exports,"divide",(function(){return r("ktThn").divide}));r("ktThn")})),r.register("ktThn",(function(e,n){function r(e,t){return function(n){return e(n)/t}}t(e.exports,"divide",(function(){return r}))})),r.register("cZZlJ",(function(e,t){e.exports=JSON.parse('{"name":"@atlaskit/tabs","version":"12.0.1","sideEffects":false}')})),r.register("d9mxw",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("c8JbF"),a=r("61szk"),s=r("g0d80"),c=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.data,r=t.elementProps;return e(a).createElement(s.TabPane,i.__assign({},r),n.content)},n.defaultProps={data:{},elementProps:{}},n}(a.Component),l=c})),r.register("6zRpD",(function(n,o){t(n.exports,"default",(function(){return u}));var i=r("c8JbF"),a=r("61szk"),s=r("g0d80"),c=function(){},l=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.render=function(){var t=this.props,n=t.data,r=t.elementProps,o=t.innerRef,c=t.isSelected;return e(a).createElement(s.NavItem,i.__assign({},r,{innerRef:o,status:c?"selected":"normal"}),n.label,c&&e(a).createElement(s.NavLine,{status:"selected"}))},n.defaultProps={data:{},elementProps:{},innerRef:c,isSelected:!1},n}(a.Component),u=l})),r.register("5Uxp8",(function(n,o){t(n.exports,"default",(function(){return l}));var i=r("c8JbF"),a=r("61szk"),s=r("g0d80"),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.elementRefs=[],e.tabKeyDownHandler=function(t){if(["ArrowRight","ArrowLeft"].includes(t.key)){var n=e.props,r=n.selected,o=n.tabs,i="ArrowRight"===t.key?1:-1,a=o.indexOf(r)+i;a<0||a>=o.length||(e.onSelect(o[a],a),e.elementRefs[a].focus())}},e.onSelect=function(t,n){e.props.onSelect(t,n)},e.tabMouseDownHandler=function(e){return e.preventDefault()},e}return i.__extends(n,t),n.prototype.UNSAFE_componentWillReceiveProps=function(e){e.tabs!==this.props.tabs&&(this.elementRefs=[])},n.prototype.render=function(){var t=this,n=this.props,r=n.selected,o=n.component,c=n.tabs;return e(a).createElement(s.NavWrapper,null,e(a).createElement(s.NavLine,{status:"normal"}),e(a).createElement(s.Nav,{role:"tablist"},c.map((function(n,s){var l=n===r,u={elementProps:{"aria-posinset":s+1,"aria-selected":l,"aria-setsize":c.length,"data-testid":n.testId,onClick:function(){return t.onSelect(n,s)},onKeyDown:t.tabKeyDownHandler,onMouseDown:t.tabMouseDownHandler,role:"tab",tabIndex:l?0:-1},innerRef:function(e){t.elementRefs[s]=e},data:n,isSelected:l};return e(a).createElement(o,i.__assign({key:s},u))}))))},n}(a.Component),l=c})),r.register("GG9CP",(function(e,n){t(e.exports,"StickyTabsWrapper",(function(){return p})),t(e.exports,"ExpandedSidebarContent",(function(){return h})),t(e.exports,"SidebarTab",(function(){return g})),t(e.exports,"SidebarTabItem",(function(){return m})),t(e.exports,"FileTreeTabLabel",(function(){return v})),t(e.exports,"MergeConflictIcon",(function(){return b})),t(e.exports,"NavLine",(function(){return y}));var o=r("eQkAL"),i=r("6aCAs");function a(e){const t={light:i.colors.B400,dark:i.colors.B100};return i.themed("status",{normal:e,selected:t})}const s=a({light:i.colors.N500,dark:i.colors.DN400}),c=a({light:i.colors.B500,dark:i.colors.B200}),l=a({light:i.colors.B100,dark:i.colors.B100}),u=a({light:i.colors.B400,dark:i.colors.B75}),d=a({light:i.colors.N30,dark:i.colors.DN0}),f="33px",p=o.default("div",{target:"e1h9tml60"})("> div{> div:first-of-type{background-color:",i.colors.N10,";height:",f,";margin-top:-",i.gridSize()/2,"px;padding-top:",i.gridSize()/2,"px;position:sticky;top:0;z-index:",i.layers.card(),";}.sidebar-expander-panel-heading{top:",f,";}}margin:0 -",i.gridSize(),"px;"),h=o.default("div",{target:"e1h9tml61"})("width:100%;min-height:",50*i.gridSize(),"px;overflow-y:visible;"),g=o.default("div",{target:"e1h9tml62"})("margin-top:",i.gridSize(),"px;&:empty{margin-top:0;}"),m=o.default("div",{target:"e1h9tml63"})("display:flex;align-items:center;color:",s,";cursor:pointer;line-height:1.8;margin:0;padding:",i.gridSize()/2,"px ",i.gridSize(),"px;position:relative;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;&:hover{color:",u,";}&:active,&:active::before{color:",c,";}&:focus{border-radius:",i.borderRadius,"px;box-shadow:0 0 0 2px ",l," inset;outline:none;}"),v=o.default("span",{target:"e1h9tml64"})("padding-right:",i.gridSize()/2,"px;"),b=o.default("div",{target:"e1h9tml65"})({name:"k008qs",styles:"display:flex;"}),y=o.default("span",{target:"e1h9tml66"})("background-color:",d,";border-radius:2px;bottom:0;content:'';height:2px;left:",i.gridSize,"px;margin:0;position:absolute;right:",i.gridSize,"px;")})),r.register("cUaOC",(function(n,o){t(n.exports,"createTabWrapper",(function(){return p})),t(n.exports,"tabItemWrapper",(function(){return h}));var i=r("jgze0"),a=r("61szk"),s=r("5Q2ym"),c=r("k8VDP"),l=r("6zRpD"),u=r("6aCAs"),d=r("4Rd8x"),f=r("GG9CP");function p(t,n){return e(a).createElement(f.ExpandedSidebarContent,{key:`sidebar-tab-wrapper-${n}`},t)}const h=({...t})=>{const{data:n,elementProps:r,innerRef:o,isSelected:p}=t;return n.untruncatedFileCount?e(a).createElement(f.SidebarTabItem,e(i)({},r,{ref:e=>o(e),status:p?"selected":"normal","data-testid":n.testId}),e(a).createElement(f.FileTreeTabLabel,null,n.label),e(a).createElement(s.default,null,n.untruncatedFileCount),n.conflictsCount>0&&e(a).createElement(d.default,{position:"bottom",content:n.mergeConflictsMessage},e(a).createElement(f.MergeConflictIcon,null,e(a).createElement(e(c),{label:n.mergeConflictsMessage,primaryColor:u.colors.Y500}))),p&&e(a).createElement(f.NavLine,{status:"selected"})):e(a).createElement(l.default,t)}})),r.register("iMlHa",(function(e,n){t(e.exports,"default",(function(){return o}));var o=r("7RIig").defineMessages({mergeConflicts:{id:"frontbucket.repository.pullrequest.fileTree.mergeConflicts",defaultMessage:"{total, plural, one {{total} merge conflict} other {{total} merge conflicts}}"},details:{id:"frontbucket.repository.pullrequest.tabs.details",defaultMessage:"Details"},files:{id:"frontbucket.repository.pullrequest.tabs.files",defaultMessage:"Files"},activity:{id:"frontbucket.repository.pullrequest.tabs.activity",defaultMessage:"Activity"}})}))}();
//# sourceMappingURL=shared.ec5280af.js.map
