!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,s,r){Object.defineProperty(e,t,{get:s,set:r,enumerable:!0,configurable:!0})}var s=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequirecbf3;s.register("csL7p",(function(r,i){var n;n=r.exports,Object.defineProperty(n,"__esModule",{value:!0,configurable:!0}),t(r.exports,"PullRequestList",(function(){return q})),t(r.exports,"default",(function(){return P}));var a=s("cJOGA"),l=s("hp8zO"),o=s("61szk"),u=s("6tbO4"),d=s("2yydb"),p=s("jy0XM"),c=s("8yKAG"),h=s("l3GR2"),g=s("dshhT"),f=s("9KtLc"),m=s("69smv"),R=s("hTK5T"),v=s("dd7TC"),E=s("4948P"),b=s("amd7x"),S=s("2olJg");const y=["OPEN","MERGED","DECLINED","SUPERSEDED"];class q extends e(o).Component{componentDidMount(){s("1X3xT"),this.props.isPreRequestState&&this.loadPullRequests()}shouldComponentUpdate(e){return e.currentUuid!==this.props.currentUuid||e.location.search!==this.props.location.search||e.isLoading!==this.props.isLoading}componentDidUpdate(e){this.props.isLoading||e.isLoading||this.loadPullRequests()}componentWillUnmount(){this.props.unloadPullRequests()}render(){const{repositoryOwner:t,repositorySlug:s}=this.props.match.params,{page:r,...i}=this.parseQuery(),n=this.buildUrl.bind(this,i),a=`${window.location.origin}${this.props.location.pathname}`;return this.props.isLoading?e(o).createElement(E.LoadingPage,null):e(o).createElement(b.default,{filter:i,onFilterChanged:this.onFilterChanged,repositoryOwner:t||"",repositorySlug:s||"",isEmpty:this.props.isEmpty,onLoadPage:this.loadPullRequests,onPageChanged:this.scrollToTop,page:r,canonicalHref:a,getPaginationUrl:n})}constructor(...t){super(...t),this.onFilterChanged=e=>{this.props.history.push(this.buildUrl(e,1))},this.parseQuery=()=>{const t=e(a).parse(this.props.location.search,{ignoreQueryPrefix:!0}),s=t.state&&t.state.toUpperCase();return{prState:y.includes(s)?s:"OPEN",isReviewing:!!t.reviewing,search:t.query,uuid:t.author,branch:t.at,page:parseInt(t.page,10)||1}},this.buildBBQL=({isReviewing:e,search:t,prState:s,uuid:r,branch:i})=>{const n=[`state="${s}"`];e&&this.props.currentUuid&&n.push(`reviewers.uuid="${this.props.currentUuid}"`);const a=p.default(t||"");if(a){const e=[`description~"${a}"`,`title~"${a}"`],t=a.match(/\d+/g)||[];e.push(...l.uniq(t).map((e=>`id="${e}"`))),n.push(`(${e.join(" OR ")})`)}return r&&n.push(`author.uuid="${r}"`),i&&n.push(`destination.branch.name~"${i}"`),n.join(" AND ")},this.loadPullRequests=()=>{const{repositoryOwner:e,repositorySlug:t}=this.props.match.params;if(!e||!t)return;const{page:s,...r}=this.parseQuery();this.props.loadPullRequests({repositoryOwner:e,repositorySlug:t,bbql:this.buildBBQL(r),page:s})},this.buildUrl=(t,s)=>{const{isReviewing:r,search:i,prState:n,uuid:l,branch:o}=t,{search:u,pathname:d}=this.props.location,p={...e(a).parse(u,{ignoreQueryPrefix:!0}),state:n,reviewing:!!r||null,query:i||null,author:l||null,at:o||null,page:s>1?s:null};return`${d}?${e(a).stringify(p,{skipNulls:!0})}`},this.scrollToTop=()=>{this.props.scrollTo({targetId:"root",duration:g.SCROLL_TO_TOP_DURATION})}}}const L={loadPullRequests:f.loadPullRequests,scrollTo:c.default,unloadPullRequests:f.unloadPullRequests,dismissFlag:v.dismissFlag};var P=d.compose(u.connect((e=>{const t=R.getCurrentUser(e),s=m.getRepositoryBranchingModel(e),r=!!s&&s.isLoading;return{currentUuid:t&&t.uuid,isEmpty:!m.getCurrentRepositoryMainBranchName(e),isLoading:!m.getCurrentRepository(e)||r,isPreRequestState:f.getPullRequestList(e).isPreRequestState}}),L),h.withApdexTransition(S.apdexTaskName))(q)})),s.register("amd7x",(function(r,i){t(r.exports,"default",(function(){return B}));var n=s("61szk"),a=s("7HEfz"),l=s("4Rd8x"),o=s("2dJHr"),u=s("hp8zO"),d=s("fQVBh"),p=s("7RIig"),c=s("2yydb"),h=s("6tbO4"),g=s("2olJg"),f=s("lD1Dt"),m=s("clBu2"),R=s("gZ4Uf"),v=s("btZNO"),E=s("lWscO"),b=s("l3GR2"),S=s("gFE2z"),y=s("69smv"),q=s("8ZneY"),L=s("a8UoC"),P=s("jlQaH"),M=s("cu69A"),C=s("iUM0A"),x=s("4ggmd"),O=s("cVPRk"),A=s("7aSgM"),w=s("1wYB1");const k=c.compose(b.withApdex(g.apdexTaskName),E.withStatsd(g.statsdMetricName))(A.default),U={action:"changed",actionSubject:"option",source:"pullRequestsScreen"};class F extends e(n).PureComponent{componentDidMount(){R.publishScreenEvent("pullRequestsScreen")}renderPullRequestList(){const{repositoryOwner:t,repositorySlug:s,filter:r,onLoadPage:i,page:o,getPaginationUrl:u,userLevel:d}=this.props,c=m.default.ui.pullRequests(t,s),h=m.default.ui.createPullRequest(t,s),g=L.checkUserAccess({userLevel:d,requiredLevel:"write"})?e(n).createElement("div",{"data-qa":"create-pull-request-button"},e(n).createElement(a.default,{href:h},e(n).createElement(p.FormattedMessage,O.default.buttonCreatePullRequest))):e(n).createElement(l.default,{content:e(n).createElement(p.FormattedMessage,O.default.buttonCreatePullRequestDisabled)},e(n).createElement("div",{"data-qa":"create-pull-request-button"},e(n).createElement(a.default,{href:h,isDisabled:!0},e(n).createElement(p.FormattedMessage,O.default.buttonCreatePullRequest)))),R=`${t}/${s}`,v=!!(r.uuid||r.branch||r.search||r.isReviewing||"OPEN"!==r.prState);return e(n).createElement(e(n).Fragment,null,e(n).createElement(q.FocusedPageHeader,{actions:g,breadcrumbs:e(n).createElement(f.default,null)},e(n).createElement(p.FormattedMessage,O.default.pageTitle)),e(n).createElement(w.Section,null,e(n).createElement("div",null,e(n).createElement(M.FilterContainer,null,e(n).createElement(C.default,{filter:r,onFilterChanged:this.handleFilterChanged,repositoryFullSlug:R})),e(n).createElement(x.default,{pullRequestsUrl:c,createPullRequestUrl:h,isFilterApplied:v,onLoadPage:i,renderPagination:()=>e(n).createElement(w.PaginationContainer,null,e(n).createElement(P.default,{page:o,getPaginationUrl:u,onPageChange:this.handlePageChanged}))}))))}render(){const{intl:t,repositoryOwner:s,repositorySlug:r,canonicalHref:i,isUpToSmallBreakpointActive:a}=this.props,l={rel:"canonical",href:i};if(!s||!r)return null;const u=`/ ${t.formatMessage(O.default.pageTitle)}`;return e(n).createElement(o.Grid,{layout:"fluid",spacing:a?"cosy":"comfortable"},e(n).createElement(d.default,{defer:!1,title:u,link:[l]}),e(n).createElement(o.GridColumn,null,this.props.isEmpty?this.renderEmptyState():this.renderPullRequestList()))}constructor(...t){super(...t),this.mapFilterToEventCreator={search:()=>({...U,actionSubject:"input",actionSubjectId:"pullRequestSearch"}),isReviewing:e=>({...U,action:"clicked",actionSubject:"button",actionSubjectId:"imReviewingButton",attributes:{isReviewing:e}}),uuid:()=>({...U,actionSubjectId:"pullRequestAuthorSelect"}),branch:()=>({...U,actionSubjectId:"pullRequestBranchSelect"}),prState:e=>({...U,actionSubjectId:"pullRequestStateSelect",attributes:{state:e}})},this.sendApdexEvent=()=>{v.startApdex(g.apdexTransitionTask)},this.handleFilterChanged=e=>{u.differenceWith(u.toPairs(e),u.toPairs(this.props.filter),u.isEqual).forEach((([e,t])=>{const s=this.mapFilterToEventCreator[e];s&&R.publishUiEvent(s(t))})),this.sendApdexEvent(),this.props.onFilterChanged(e)},this.handlePageChanged=()=>{this.sendApdexEvent(),this.props.onPageChanged()},this.renderEmptyState=()=>e(n).createElement(e(n).Fragment,null,e(n).createElement(q.FocusedPageHeader,{breadcrumbs:e(n).createElement(f.default,null)},e(n).createElement(p.FormattedMessage,O.default.pageTitle)),e(n).createElement(k,null))}}F.defaultProps={repositoryOwner:"",repositorySlug:""};var B=h.connect((e=>({isUpToSmallBreakpointActive:S.getUpToSmallBreakpointState(e),userLevel:y.getRepositoryAccessLevel(e)})))(p.injectIntl(F))})),s.register("2olJg",(function(e,r){t(e.exports,"statsdMetricName",(function(){return n})),t(e.exports,"apdexTaskName",(function(){return a})),t(e.exports,"apdexTransitionTask",(function(){return l}));var i=s("aHRIc");const n="performance.list_pullrequests.rendered",a=i.ApdexTask.PullRequests,l={task:a,type:"transition",additionalAttributes:{appName:"frontbucket"}}})),s.register("jlQaH",(function(e,r){t(e.exports,"default",(function(){return l}));var i=s("6tbO4"),n=s("9KtLc"),a=s("3Dvd0");var l=i.connect(((e,t)=>{const{isLoading:s,isError:r}=n.getPullRequestList(e);return{isLoading:s,pages:n.getPullRequestsPagination(e)(t.getPaginationUrl),isError:r,uiEventSource:"pullRequestsScreen",uiEventSubjectId:"pullRequestsPagination"}}))(a.Pagination)})),s.register("cu69A",(function(e,r){t(e.exports,"FilterContainer",(function(){return a})),t(e.exports,"BranchActionsWrapper",(function(){return l})),t(e.exports,"BranchPaginationWrapper",(function(){return o}));var i=s("eQkAL"),n=s("6aCAs");const a=i.default("div",{target:"e16hgy4s0"})("margin:0 0 ",2*n.gridSize(),"px 0;"),l=i.default("div",{target:"e16hgy4s1"})({name:"1bvc4cc",styles:"display:flex;justify-content:flex-end;"}),o=i.default("div",{target:"e16hgy4s2"})("& > div{margin-top:",4*n.gridSize(),"px;margin-bottom:",8*n.gridSize(),"px;}")})),s.register("iUM0A",(function(r,i){t(r.exports,"default",(function(){return c}));var n=s("hp8zO"),a=s("61szk"),l=s("6tbO4"),o=s("69smv"),u=s("hTK5T"),d=s("3mKj4");class p extends e(a).Component{static getDerivedStateFromProps(e,t){return n.isEqual(e.filter,t.lastFilter)?null:{...e.filter,lastFilter:e.filter}}render(){const{repositoryFullSlug:t,mainBranchName:s,branchingModel:r}=this.props,{isReviewing:i,search:n,prState:l,uuid:o,branch:u}=this.state;return e(a).createElement(d.default,{repositoryFullSlug:t,isReviewing:i,search:n||"",prState:l,uuid:o,branch:u,onChangeReviewing:this.onChangeReviewing,onChangePrState:this.onChangePrState,onChangeSearch:this.onChangeSearch,onChangeUuid:this.onChangeUuid,onChangeBranch:this.onChangeBranch,showIsReviewing:this.props.showIsReviewing,mainBranchName:s,branchingModel:r})}constructor(...e){super(...e),this.state={...this.props.filter,lastFilter:this.props.filter},this.notifyFilterChange=()=>{const{lastFilter:e,...t}=this.state;this.props.onFilterChanged(t)},this.debouncedNotify=n.debounce(this.notifyFilterChange,250),this.onChangeReviewing=e=>{this.setState({isReviewing:e},this.notifyFilterChange)},this.onChangePrState=e=>{this.setState({prState:e},this.notifyFilterChange)},this.onChangeSearch=e=>{this.setState({search:e||void 0},this.debouncedNotify)},this.onChangeUuid=e=>{this.setState({uuid:e||void 0},this.notifyFilterChange)},this.onChangeBranch=e=>{this.setState({branch:e||void 0},this.notifyFilterChange)}}}var c=l.connect((e=>({showIsReviewing:!!u.getCurrentUser(e),mainBranchName:o.getCurrentRepositoryMainBranchName(e),branchingModel:o.getRepositoryBranchingModel(e)})))(p)})),s.register("3mKj4",(function(r,i){t(r.exports,"default",(function(){return m}));var n=s("61szk"),a=s("7RIig"),l=s("7HEfz"),o=s("TRrAd"),u=s("6aCAs"),d=s("1Kvsn"),p=s("63eAA"),c=s("57Z38"),h=s("qjTjc"),g=s("dirIi"),f=s("cVPRk"),m=a.injectIntl(class extends e(n).Component{render(){return e(n).createElement(c.FilterGroup,null,e(n).createElement(d.default,{currentSearch:this.props.search,handleFilterChange:this.handleSearchChange,placeholder:this.props.intl.formatMessage(f.default.filterDescription),clearFilter:this.clearFilter,fieldName:"search-pull-requests-input"}),e(n).createElement(c.Filter,{mobileOrder:1,"data-qa":"select-pull-request-state",isFirstFilterElement:!0},e(n).createElement(o.default,{options:this.stateOptions,isSearchable:!1,value:this.stateOptions.filter((({value:e})=>e===this.props.prState))[0]||this.stateOptions[0],onChange:({value:e})=>{this.props.onChangePrState(e)},styles:{control:(e,t)=>({...e,...c.subtleSelector(e,t),...p.selectControlStyles,minWidth:12*u.gridSize(),maxWidth:20*u.gridSize()}),singleValue:e=>({...e,lineHeight:"inherit"}),menu:e=>({...e,zIndex:u.layers.navigation()})}})),e(n).createElement(c.Filter,{mobileOrder:2},e(n).createElement(h.default,{repositoryFullSlug:this.props.repositoryFullSlug,uuid:this.props.uuid,onChange:this.props.onChangeUuid,prStatus:this.props.prState})),e(n).createElement(c.Filter,{mobileOrder:1},e(n).createElement(g.default,{repositoryFullSlug:this.props.repositoryFullSlug,value:this.props.branch,onChange:this.props.onChangeBranch,mainBranchName:this.props.mainBranchName,branchingModel:this.props.branchingModel})),this.props.showIsReviewing&&e(n).createElement(c.Filter,{"data-qa":"im-reviewing-button",mobileOrder:2},e(n).createElement(l.default,{appearance:"subtle","aria-pressed":this.props.isReviewing,isSelected:this.props.isReviewing,onClick:()=>this.props.onChangeReviewing(!this.props.isReviewing)},e(n).createElement(a.FormattedMessage,f.default.filterReviewing))))}constructor(...e){super(...e),this.stateOptions=[{label:this.props.intl.formatMessage(f.default.stateOpen),value:"OPEN"},{label:this.props.intl.formatMessage(f.default.stateMerged),value:"MERGED"},{label:this.props.intl.formatMessage(f.default.stateDeclined),value:"DECLINED"}],this.handleSearchChange=e=>{const t=e.currentTarget.value;this.props.onChangeSearch(t)},this.clearFilter=()=>{this.props.onChangeSearch("")}}})})),s.register("qjTjc",(function(e,r){t(e.exports,"default",(function(){return d}));var i=s("6tbO4"),n=s("7Pxv2"),a=s("k3DU3"),l=s("4RyqT"),o=s("bdN2T");const u={fetchPullRequestAuthors:n.fetchPullRequestAuthors,fetchPullRequestAuthor:n.fetchPullRequestAuthor,clearFilteredAuthors:n.clearFilteredAuthors,updatePreloadedAuthor:n.updatePreloadedAuthor};var d=i.connect(((e,t)=>{const{isLoading:s,isError:r}=a.getPullRequestAuthorsSlice(e),i=a.getPullRequestPreloadedAuthorOption(t.uuid)(e),n=a.getPullRequestAuthorOptions(e),{isLoading:o}=a.getPullRequestPreloadedAuthorSlice(e);return{preloadedOption:i,options:n,isLoadingAuthors:s,isLoadingAuthor:o,isError:r,isUpdatedPrFilterEnabled:l.getIsUpdatedPrFilterEnabled(e)}}),u)(o.default)})),s.register("bdN2T",(function(r,i){t(r.exports,"default",(function(){return R}));var n=s("61szk"),a=s("7RIig"),l=s("TRrAd"),o=s("lc0H5"),u=s("g5VbI"),d=s("6aCAs"),p=s("h7XbF"),c=s("63eAA"),h=s("57Z38"),g=s("3PVun"),f=s("cVPRk");class m extends n.PureComponent{componentDidMount(){this.syncPreloadedAuthorWithUuid(),this.props.fetchPullRequestAuthors(this.props.repositoryFullSlug,this.getPullRequestStatus(this.props.prStatus))}componentDidUpdate(e){e.uuid!==this.props.uuid&&this.syncPreloadedAuthorWithUuid(),e.prStatus!==this.props.prStatus&&this.props.fetchPullRequestAuthors(this.props.repositoryFullSlug,this.getPullRequestStatus(this.props.prStatus))}syncPreloadedAuthorWithUuid(){const{uuid:e,preloadedOption:t}=this.props;e&&u.default(t,"value.uuid")!==e&&this.props.fetchPullRequestAuthor(e)}render(){const{intl:t,isLoadingAuthors:s,isLoadingAuthor:r,options:i,preloadedOption:a}=this.props;return e(n).createElement("div",{"data-qa":"select-pull-request-author"},e(n).createElement(l.default,{isClearable:!0,blurInputOnSelect:!0,isLoading:s||r,isDisabled:r,options:i,placeholder:t.formatMessage(f.default.filterAuthor),formatOptionLabel:this.formatOptionLabel,noOptionsMessage:this.getNoOptionsMessage,onChange:this.handleChange,onInputChange:this.handleInputChangeDebounce,value:r?{label:t.formatMessage(f.default.filterAuthorLoading),value:null}:a,styles:{control:(e,t)=>({...e,...h.subtleSelector(e,t),...c.selectControlStyles,minWidth:a||r?23*d.gridSize():13*d.gridSize(),maxWidth:23*d.gridSize()}),menu:e=>({...e,minWidth:32*d.gridSize(),zIndex:d.layers.navigation()}),placeholder:e=>({...e,...h.nothingSelectedColor()})}}))}constructor(...t){super(...t),this.formatOptionLabel=t=>{const{value:s,label:r}=t;return s?e(n).createElement(g.AuthorOption,null,e(n).createElement(p.UserAvatar,{size:"small",user:s}),e(n).createElement(h.Ellipsis,null,r)):null},this.getPullRequestStatus=e=>this.props.isUpdatedPrFilterEnabled?{OPEN:"open",MERGED:"fulfilled",DECLINED:"rejected",SUPERSEDED:null}[e]:null,this.getNoOptionsMessage=()=>{const{intl:e,isError:t}=this.props;return t?e.formatMessage(f.default.filterAuthorError):e.formatMessage(f.default.filterAuthorNoOptions)},this.handleChange=e=>{var t;this.props.updatePreloadedAuthor((null==e?void 0:e.value)||null),this.props.onChange((null==e||null===(t=e.value)||void 0===t?void 0:t.uuid)||null)},this.handleInputChange=(e,{action:t})=>{const{repositoryFullSlug:s}=this.props;"input-change"!==t?"menu-close"===t&&this.props.clearFilteredAuthors():this.props.fetchPullRequestAuthors(s,this.getPullRequestStatus(this.props.prStatus),e)},this.handleInputChangeDebounce=o.default(this.handleInputChange,200)}}var R=a.injectIntl(m)})),s.register("3PVun",(function(e,r){t(e.exports,"AuthorOption",(function(){return a}));var i=s("eQkAL"),n=s("6aCAs");const a=i.default("div",{target:"e1iiw9q60"})("display:flex;align-items:center;padding:0 ",n.gridSize()/2,"px;>:first-child{margin-right:",n.gridSize()/2,"px;}")})),s.register("cVPRk",(function(e,r){t(e.exports,"default",(function(){return n})),t(e.exports,"emptyResultsMessages",(function(){return a}));var i=s("7RIig"),n=i.defineMessages({stateOpen:{id:"frontbucket.pullRequestList.filter.open",defaultMessage:"Open"},stateMerged:{id:"frontbucket.pullRequestList.filter.merged",defaultMessage:"Merged"},stateDeclined:{id:"frontbucket.pullRequestList.filter.declined",defaultMessage:"Declined"},filterReviewing:{id:"frontbucket.pullRequestList.filter.reviewing",defaultMessage:"I'm reviewing"},filterDescription:{id:"frontbucket.pullRequestList.filter.search",defaultMessage:"Search pull requests"},listHeader:{id:"frontbucket.pullRequestList.list.header",defaultMessage:"Summary"},pageTitle:{id:"frontbucket.pullRequestList.page.title",defaultMessage:"Pull requests"},buttonCreatePullRequest:{id:"frontbucket.pullRequestList.action.createPullRequest",defaultMessage:"Create pull request"},buttonCreatePullRequestDisabled:{id:"frontbucket.pullRequestList.action.buttonCreatePullRequestDisabled",defaultMessage:"You do not have permission to create a pull request"},filterAuthor:{id:"frontbucket.pullRequestList.filter.author",defaultMessage:"Author"},filterAuthorLoading:{id:"frontbucket.pullRequestList.filter.author.loading",defaultMessage:"Loading..."},filterBranch:{id:"frontbucket.pullRequestList.filter.branch",defaultMessage:"Target branch"},filterBranchNoOptions:{id:"frontbucket.pullRequestList.filter.branch.empty",defaultMessage:"No options"},filterBranchError:{id:"frontbucket.pullRequestList.filter.branch.error",defaultMessage:"There was a problem fetching your branches"},filterAuthorNoOptions:{id:"frontbucket.pullRequestList.filter.author.empty",defaultMessage:"No options"},filterAuthorError:{id:"frontbucket.pullRequestList.filter.author.error",defaultMessage:"We couldn\u2019t get the list of authors. Try refreshing the page."}});const a={noMatches:i.defineMessages({emptyResultsHeading:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.heading",defaultMessage:"No pull requests match"},emptyResultsInfo:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.info",defaultMessage:"Try modifying your filter criteria or {link}."},emptyResultsLink:{id:"frontbucket.pullRequestList.filter.emptyResults.no.matches.link",defaultMessage:"view open pull requests"}}),noOpen:i.defineMessages({emptyResultsHeading:{id:"frontbucket.pullRequestList.filter.emptyResults.no.open.heading",defaultMessage:"No open pull requests"},emptyResultsInfo:{id:"frontbucket.pullRequestList.filter.emptyResults.no.open.info",defaultMessage:"Things are pretty quiet right now, but when your team's coding, any open pull requests will appear here."}})}})),s.register("dirIi",(function(r,i){t(r.exports,"default",(function(){return m}));var n=s("61szk"),a=s("7RIig"),l=s("TRrAd"),o=s("cJOGA"),u=s("6aCAs"),d=s("hp8zO"),p=s("clBu2"),c=s("63eAA"),h=s("57Z38"),g=s("cVPRk");class f extends n.PureComponent{render(){const{intl:t,value:s}=this.props;return e(n).createElement("div",{"data-qa":"select-target-branch"},e(n).createElement(l.AsyncSelect,{isClearable:!0,cacheOptions:!0,defaultOptions:!0,blurInputOnSelect:!0,formatOptionLabel:this.formatOptionLabel,value:s?{label:s,value:s}:null,loadOptions:this.loadOptions,placeholder:t.formatMessage(g.default.filterBranch),onChange:this.handleChange,styles:{control:(e,t)=>({...e,...h.subtleSelector(e,t),...c.selectControlStyles,minWidth:t.getValue().length?23*u.gridSize():18*u.gridSize(),maxWidth:23*u.gridSize()}),menu:e=>({...e,minWidth:40*u.gridSize(),zIndex:u.layers.navigation()}),placeholder:e=>({...e,...h.nothingSelectedColor(),whiteSpace:"nowrap"})},noOptionsMessage:this.noOptionsMessage}))}constructor(...t){super(...t),this.state={loadOptionsError:!1},this.loadOptions=async(e="")=>{const{repositoryFullSlug:t,mainBranchName:s,branchingModel:r}=this.props,[i,n]=t.split("/");let a=p.default.api.v20.branches(i,n);e&&(a=`${a}?${o.stringify({q:`name~"${e}"`})}`);const l=await fetch(a);if(l.ok){this.setState({loadOptionsError:!1});let{values:t}=await l.json(),i=[s];if(r){const{development:e,production:t}=r,s=[e,t].filter((e=>!!e&&!e.use_mainbranch));i=d.uniq([...i,...s.map((e=>e.name))])}i=i.filter((t=>t.includes(e)));const n=i.map((e=>({name:e})));return t=t.filter((e=>!i.includes(e.name))),t.unshift(...n),t.map((e=>({label:e.name,value:e.name})))}return this.setState({loadOptionsError:!0}),[]},this.formatOptionLabel=t=>e(n).createElement(h.Ellipsis,null,t.label),this.noOptionsMessage=()=>{const{intl:e}=this.props,{loadOptionsError:t}=this.state;return t?e.formatMessage(g.default.filterBranchError):e.formatMessage(g.default.filterBranchNoOptions)},this.handleChange=e=>{this.props.onChange(e?e.value:void 0)}}}var m=a.injectIntl(f)})),s.register("4ggmd",(function(e,r){t(e.exports,"default",(function(){return l}));var i=s("6tbO4"),n=s("9KtLc"),a=s("DnXIs");var l=i.connect((e=>{const{isLoading:t,isError:s,isPreRequestState:r}=n.getPullRequestList(e);return{isLoading:t,isError:s,pullRequests:n.getPullRequests(e),isPreRequestState:r}}))(a.PullRequestListWithKeyboardShortcuts)})),s.register("DnXIs",(function(r,i){t(r.exports,"PullRequestListWithKeyboardShortcuts",(function(){return d}));var n=s("jgze0"),a=s("61szk"),l=s("irNj6"),o=s("rBDrF"),u=s("5Zdfg");class d extends a.Component{render(){return e(a).createElement(l.WithListKeyboardShortcuts,{messages:u.default,rows:this.props.pullRequests,isLoading:this.props.isLoading},(({focusedRowIndex:t})=>e(a).createElement(o.PullRequestList,e(n)({},this.props,{focusedRowIndex:t}))))}}})),s.register("rBDrF",(function(r,i){t(r.exports,"PullRequestList",(function(){return q}));var n=s("jgze0"),a=s("61szk"),l=s("7RIig"),o=s("iOvKa"),u=s("cJOGA"),d=s("2yydb"),p=s("iaAWT"),c=s("lWscO"),h=s("l3GR2"),g=s("2olJg"),f=s("gTiGF"),m=s("5kL17"),R=s("cVPRk"),v=s("DanS0");const E=e=>d.compose(h.withApdex(g.apdexTaskName),c.withStatsd(g.statsdMetricName))(e),b=E(f.default),S=E(m.EmptyResults);class y extends e(a).Component{renderEmptyResultsNoMatchesState(){if(this.props.isFilterApplied){const t=R.emptyResultsMessages.noMatches;return e(a).createElement(a.Fragment,null,e(a).createElement("h3",null,e(a).createElement(l.FormattedMessage,t.emptyResultsHeading)),e(a).createElement(m.EmptyResultsInfo,null,e(a).createElement(l.FormattedMessage,e(n)({},t.emptyResultsInfo,{values:{link:e(a).createElement(m.NoWrapContainer,null,e(a).createElement(o.Link,{to:{pathname:this.props.pullRequestsUrl,search:u.stringify({state:"OPEN"})}},e(a).createElement(l.FormattedMessage,t.emptyResultsLink)))}}))))}return null}render(){if(!(this.props.isPreRequestState||this.props.pullRequests.length||this.props.isLoading||this.props.isError))return e(a).createElement(S,null,!this.props.isFilterApplied&&e(a).createElement(p.default,{header:this.props.intl.formatMessage(R.emptyResultsMessages.noOpen.emptyResultsHeading),description:this.props.intl.formatMessage(R.emptyResultsMessages.noOpen.emptyResultsInfo),imageUrl:e(v),imageHeight:140}),this.renderEmptyResultsNoMatchesState());const{pullRequests:t,isLoading:s,focusedRowIndex:r,isError:i,onLoadPage:o,isPreRequestState:u,renderPagination:d}=this.props,c={pullRequests:t,Heading:e(a).createElement(l.FormattedMessage,R.default.listHeader),showAvatar:!0,focusedRowIndex:r,isError:i,onLoadPage:o,size:f.PullRequestsTableSize.Large,renderPagination:d};return s||u?e(a).createElement(f.default,e(n)({},c,{isLoading:!0})):e(a).createElement(b,c)}}const q=l.injectIntl(y)})),s.register("5kL17",(function(e,r){t(e.exports,"EmptyResults",(function(){return l})),t(e.exports,"EmptyResultsInfo",(function(){return o})),t(e.exports,"NoWrapContainer",(function(){return u}));var i=s("eQkAL"),n=s("6aCAs"),a=s("khz8R");const l=i.default(a.CenteredColumn,{target:"e159e78u0"})("margin-top:",4*n.gridSize(),"px;"),o=i.default("div",{target:"e159e78u1"})("margin-top:",n.gridSize(),"px;text-align:center;"),u=i.default("span",{target:"e159e78u2"})({name:"epvm6",styles:"white-space:nowrap;"})})),s.register("DanS0",(function(e,t){e.exports=s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("1mdUB")})),s.register("5Zdfg",(function(e,r){t(e.exports,"default",(function(){return i}));var i=s("7RIig").defineMessages({shortcutGroupTitle:{id:"frontbucket.pullRequestList.shortcutGroupTitle",defaultMessage:"Pull requests"},nextRowShortcut:{id:"frontbucket.pullRequestList.selectNextRowShortcut",defaultMessage:"Select next item"},previousRowShortcut:{id:"frontbucket.pullRequestList.selectPreviousRowShortcut",defaultMessage:"Select previous item"},openRowShortcut:{id:"frontbucket.pullRequestList.openRowShortcut",defaultMessage:"View the selected item"},unselectRowShortcut:{id:"frontbucket.pullRequestsList.unselectRowShortcut",defaultMessage:"Unselect the selected item"}})})),s.register("7aSgM",(function(r,i){t(r.exports,"default",(function(){return h}));var n=s("7HEfz"),a=s("iaAWT"),l=s("61szk"),o=s("7RIig"),u=s("dJeI4"),d=s("gR66O"),p=s("DanS0");class c extends l.PureComponent{render(){const{intl:t}=this.props;return e(l).createElement(a.default,{description:t.formatMessage(d.default.description),header:t.formatMessage(d.default.header),imageUrl:e(p),maxImageHeight:213,maxImageWidth:246,primaryAction:e(l).createElement(n.default,{appearance:"primary",href:u.default.external.pullRequestsListEmptyStateLearnHow},e(l).createElement(o.FormattedMessage,d.default.learnHowLink))})}}var h=o.injectIntl(c)})),s.register("dJeI4",(function(e,s){t(e.exports,"default",(function(){return r}));var r={external:{pullRequestsListEmptyStateLearnHow:"https://confluence.atlassian.com/x/cRNODQ"}}})),s.register("gR66O",(function(e,r){t(e.exports,"default",(function(){return i}));var i=s("7RIig").defineMessages({learnHowLink:{id:"frontbucket.pullRequestsList.learnHowLink",defaultMessage:"Learn how"},description:{id:"frontbucket.pullRequestsList.emptyStateDescription",defaultMessage:"Get others to review and discuss your code in pull requests"},header:{id:"frontbucket.pullRequestsList.overview.emptyStateHeader",defaultMessage:"Collaborate and improve code quality"}})})),s.register("1wYB1",(function(e,r){t(e.exports,"PaginationContainer",(function(){return a})),t(e.exports,"Section",(function(){return l}));var i=s("eQkAL"),n=s("6aCAs");const a=i.default("div",{target:"e7ree5o0"})("padding:",n.gridSize(),"px 0;"),l=i.default("section",{target:"e7ree5o1"})("margin-bottom:",4*n.gridSize(),"px;")})),s.register("1X3xT",(function(e,t){e.exports=Promise.all([s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("8mrVx")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("8AGkR")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("ax9kO")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("6VgZk")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("bosvO")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("5c9IN")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("bZbXx")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("5nz2x")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("gSznl")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("8io0x")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("44I80")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("kteCa")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("2gNxP")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("fiAfE")),s("c6lGt")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("f30us")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("cOVDL")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("64jt7")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("a076w")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("6zmLa")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("jE5OO")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("3ePt1")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("3Ockg")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("1Uto4")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("3Scei")),s("1voE5")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("aK7HX")),s("dV06T")(s("a28Ji").getBundleURL("3Mt3v")+s("l6272").resolve("1ZYJP"),"script",!1)]).then((()=>s("lXiwy")))}))}();
//# sourceMappingURL=repository-pull-request-list-route.c301ae89.js.map
